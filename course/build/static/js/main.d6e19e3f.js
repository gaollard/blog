/*! For license information please see main.d6e19e3f.js.LICENSE.txt */
!function(){var n={1694:function(n,e){var t;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var n=[],e=0;e<arguments.length;e++){var t=arguments[e];if(t){var a=typeof t;if("string"===a||"number"===a)n.push(t);else if(Array.isArray(t)){if(t.length){var i=o.apply(null,t);i&&n.push(i)}}else if("object"===a){if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]")){n.push(t.toString());continue}for(var s in t)r.call(t,s)&&t[s]&&n.push(s)}}}return n.join(" ")}n.exports?(o.default=o,n.exports=o):void 0===(t=function(){return o}.apply(e,[]))||(n.exports=t)}()},6927:function(n,e,t){"use strict";function r(n){return Array.prototype.slice.call(arguments,1).forEach((function(e){e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))})),n}function o(n){return Object.prototype.toString.call(n)}function a(n){return"[object Function]"===o(n)}function i(n){return n.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(n,e,t){var r=n.slice(e);return t.re.http||(t.re.http=new RegExp("^\\/\\/"+t.re.src_auth+t.re.src_host_port_strict+t.re.src_path,"i")),t.re.http.test(r)?r.match(t.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(n,e,t){var r=n.slice(e);return t.re.no_http||(t.re.no_http=new RegExp("^"+t.re.src_auth+"(?:localhost|(?:(?:"+t.re.src_domain+")\\.)+"+t.re.src_domain_root+")"+t.re.src_port+t.re.src_host_terminator+t.re.src_path,"i")),t.re.no_http.test(r)?e>=3&&":"===n[e-3]||e>=3&&"/"===n[e-3]?0:r.match(t.re.no_http)[0].length:0}},"mailto:":{validate:function(n,e,t){var r=n.slice(e);return t.re.mailto||(t.re.mailto=new RegExp("^"+t.re.src_email_name+"@"+t.re.src_host_strict,"i")),t.re.mailto.test(r)?r.match(t.re.mailto)[0].length:0}}},c="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function d(n){var e=n.re=t(1875)(n.__opts__),r=n.__tlds__.slice();function s(n){return n.replace("%TLDS%",e.src_tlds)}n.onCompile(),n.__tlds_replaced__||r.push(c),r.push(e.src_xn),e.src_tlds=r.join("|"),e.email_fuzzy=RegExp(s(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(s(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(s(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(s(e.tpl_host_fuzzy_test),"i");var l=[];function u(n,e){throw new Error('(LinkifyIt) Invalid schema "'+n+'": '+e)}n.__compiled__={},Object.keys(n.__schemas__).forEach((function(e){var t=n.__schemas__[e];if(null!==t){var r={validate:null,link:null};if(n.__compiled__[e]=r,"[object Object]"===o(t))return!function(n){return"[object RegExp]"===o(n)}(t.validate)?a(t.validate)?r.validate=t.validate:u(e,t):r.validate=function(n){return function(e,t){var r=e.slice(t);return n.test(r)?r.match(n)[0].length:0}}(t.validate),void(a(t.normalize)?r.normalize=t.normalize:t.normalize?u(e,t):r.normalize=function(n,e){e.normalize(n)});!function(n){return"[object String]"===o(n)}(t)?u(e,t):l.push(e)}})),l.forEach((function(e){n.__compiled__[n.__schemas__[e]]&&(n.__compiled__[e].validate=n.__compiled__[n.__schemas__[e]].validate,n.__compiled__[e].normalize=n.__compiled__[n.__schemas__[e]].normalize)})),n.__compiled__[""]={validate:null,normalize:function(n,e){e.normalize(n)}};var d=Object.keys(n.__compiled__).filter((function(e){return e.length>0&&n.__compiled__[e]})).map(i).join("|");n.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+e.src_ZPCc+"))("+d+")","i"),n.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+e.src_ZPCc+"))("+d+")","ig"),n.re.schema_at_start=RegExp("^"+n.re.schema_search.source,"i"),n.re.pretest=RegExp("("+n.re.schema_test.source+")|("+n.re.host_fuzzy_test.source+")|@","i"),function(n){n.__index__=-1,n.__text_cache__=""}(n)}function p(n,e){var t=n.__index__,r=n.__last_index__,o=n.__text_cache__.slice(t,r);this.schema=n.__schema__.toLowerCase(),this.index=t+e,this.lastIndex=r+e,this.raw=o,this.text=o,this.url=o}function f(n,e){var t=new p(n,e);return n.__compiled__[t.schema].normalize(t,n),t}function m(n,e){if(!(this instanceof m))return new m(n,e);var t;e||(t=n,Object.keys(t||{}).reduce((function(n,e){return n||s.hasOwnProperty(e)}),!1)&&(e=n,n={})),this.__opts__=r({},s,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},l,n),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},d(this)}m.prototype.add=function(n,e){return this.__schemas__[n]=e,d(this),this},m.prototype.set=function(n){return this.__opts__=r(this.__opts__,n),this},m.prototype.test=function(n){if(this.__text_cache__=n,this.__index__=-1,!n.length)return!1;var e,t,r,o,a,i,s,l;if(this.re.schema_test.test(n))for((s=this.re.schema_search).lastIndex=0;null!==(e=s.exec(n));)if(o=this.testSchemaAt(n,e[2],s.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=n.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(t=n.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(a=t.index+t[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=t.index+t[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&n.indexOf("@")>=0&&null!==(r=n.match(this.re.email_fuzzy))&&(a=r.index+r[1].length,i=r.index+r[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=i)),this.__index__>=0},m.prototype.pretest=function(n){return this.re.pretest.test(n)},m.prototype.testSchemaAt=function(n,e,t){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(n,t,this):0},m.prototype.match=function(n){var e=0,t=[];this.__index__>=0&&this.__text_cache__===n&&(t.push(f(this,e)),e=this.__last_index__);for(var r=e?n.slice(e):n;this.test(r);)t.push(f(this,e)),r=r.slice(this.__last_index__),e+=this.__last_index__;return t.length?t:null},m.prototype.matchAtStart=function(n){if(this.__text_cache__=n,this.__index__=-1,!n.length)return null;var e=this.re.schema_at_start.exec(n);if(!e)return null;var t=this.testSchemaAt(n,e[2],e[0].length);return t?(this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+t,f(this,0)):null},m.prototype.tlds=function(n,e){return n=Array.isArray(n)?n:[n],e?(this.__tlds__=this.__tlds__.concat(n).sort().filter((function(n,e,t){return n!==t[e-1]})).reverse(),d(this),this):(this.__tlds__=n.slice(),this.__tlds_replaced__=!0,d(this),this)},m.prototype.normalize=function(n){n.schema||(n.url="http://"+n.url),"mailto:"!==n.schema||/^mailto:/i.test(n.url)||(n.url="mailto:"+n.url)},m.prototype.onCompile=function(){},n.exports=m},1875:function(n,e,t){"use strict";n.exports=function(n){var e={};n=n||{},e.src_Any=t(5510).source,e.src_Cc=t(538).source,e.src_Z=t(2426).source,e.src_P=t(3741).source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");var r="[><\uff5c]";return e.src_pseudo_letter="(?:(?![><\uff5c]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><\uff5c]|"+e.src_ZPCc+")(?!"+(n["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+r+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(n["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><\uff5c]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+e.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+e.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}},4119:function(n){"use strict";n.exports=function(n,e){var t="-",r=t.charCodeAt(0);n.block.ruler.before("table","front_matter",(function(n,o,a,i){var s,l,c,u,d,p,f,m=!1,h=n.bMarks[o]+n.tShift[o],g=n.eMarks[o];if(0!==o||r!==n.src.charCodeAt(0))return!1;for(s=h+1;s<=g;s++)if(t[(s-h)%1]!==n.src[s]){f=s+1;break}if((c=Math.floor((s-h)/1))<3)return!1;if(s-=(s-h)%1,i)return!0;for(l=o;!(++l>=a)&&"..."!==n.src.slice(h,g)&&!((h=n.bMarks[l]+n.tShift[l])<(g=n.eMarks[l])&&n.sCount[l]<n.blkIndent);)if(r===n.src.charCodeAt(h)&&!(n.sCount[l]-n.blkIndent>=4)){for(s=h+1;s<=g&&t[(s-h)%1]===n.src[s];s++);if(!(Math.floor((s-h)/1)<c)&&(s-=(s-h)%1,!((s=n.skipSpaces(s))<g))){m=!0;break}}return d=n.parentType,p=n.lineMax,n.parentType="container",n.lineMax=l,(u=n.push("front_matter",null,0)).hidden=!0,u.markup=n.src.slice(o,s),u.block=!0,u.map=[o,s],u.meta=n.src.slice(f,h-1),n.parentType=d,n.lineMax=p,n.line=l+(m?1:0),e(u.meta),!0}),{alt:["paragraph","reference","blockquote","list"]})}},3534:function(n,e,t){"use strict";n.exports=t(9890)},1285:function(n,e,t){"use strict";n.exports=t(5485)},1437:function(n){"use strict";n.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},5850:function(n){"use strict";var e="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",t="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",r=new RegExp("^(?:"+e+"|"+t+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),o=new RegExp("^(?:"+e+"|"+t+")");n.exports.n=r,n.exports.q=o},786:function(n,e,t){"use strict";var r=Object.prototype.hasOwnProperty;function o(n,e){return r.call(n,e)}function a(n){return!(n>=55296&&n<=57343)&&(!(n>=64976&&n<=65007)&&(65535!==(65535&n)&&65534!==(65535&n)&&(!(n>=0&&n<=8)&&(11!==n&&(!(n>=14&&n<=31)&&(!(n>=127&&n<=159)&&!(n>1114111)))))))}function i(n){if(n>65535){var e=55296+((n-=65536)>>10),t=56320+(1023&n);return String.fromCharCode(e,t)}return String.fromCharCode(n)}var s=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,l=new RegExp(s.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),c=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,u=t(1285);var d=/[&<>"]/,p=/[&<>"]/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function m(n){return f[n]}var h=/[.?*+^$[\]\\(){}|-]/g;var g=t(3741);e.lib={},e.lib.mdurl=t(3461),e.lib.ucmicro=t(6937),e.assign=function(n){return Array.prototype.slice.call(arguments,1).forEach((function(e){if(e){if("object"!==typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(t){n[t]=e[t]}))}})),n},e.isString=function(n){return"[object String]"===function(n){return Object.prototype.toString.call(n)}(n)},e.has=o,e.unescapeMd=function(n){return n.indexOf("\\")<0?n:n.replace(s,"$1")},e.unescapeAll=function(n){return n.indexOf("\\")<0&&n.indexOf("&")<0?n:n.replace(l,(function(n,e,t){return e||function(n,e){var t=0;return o(u,e)?u[e]:35===e.charCodeAt(0)&&c.test(e)&&a(t="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10))?i(t):n}(n,t)}))},e.isValidEntityCode=a,e.fromCodePoint=i,e.escapeHtml=function(n){return d.test(n)?n.replace(p,m):n},e.arrayReplaceAt=function(n,e,t){return[].concat(n.slice(0,e),t,n.slice(e+1))},e.isSpace=function(n){switch(n){case 9:case 32:return!0}return!1},e.isWhiteSpace=function(n){if(n>=8192&&n<=8202)return!0;switch(n){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},e.isMdAsciiPunct=function(n){switch(n){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},e.isPunctChar=function(n){return g.test(n)},e.escapeRE=function(n){return n.replace(h,"\\$&")},e.normalizeReference=function(n){return n=n.trim().replace(/\s+/g," "),"\u1e7e"==="\u1e9e".toLowerCase()&&(n=n.replace(/\u1e9e/g,"\xdf")),n.toLowerCase().toUpperCase()}},4937:function(n,e,t){"use strict";e.parseLinkLabel=t(9162),e.parseLinkDestination=t(9738),e.parseLinkTitle=t(4890)},9738:function(n,e,t){"use strict";var r=t(786).unescapeAll;n.exports=function(n,e,t){var o,a,i=e,s={ok:!1,pos:0,lines:0,str:""};if(60===n.charCodeAt(e)){for(e++;e<t;){if(10===(o=n.charCodeAt(e)))return s;if(60===o)return s;if(62===o)return s.pos=e+1,s.str=r(n.slice(i+1,e)),s.ok=!0,s;92===o&&e+1<t?e+=2:e++}return s}for(a=0;e<t&&32!==(o=n.charCodeAt(e))&&!(o<32||127===o);)if(92===o&&e+1<t){if(32===n.charCodeAt(e+1))break;e+=2}else{if(40===o&&++a>32)return s;if(41===o){if(0===a)break;a--}e++}return i===e||0!==a||(s.str=r(n.slice(i,e)),s.lines=0,s.pos=e,s.ok=!0),s}},9162:function(n){"use strict";n.exports=function(n,e,t){var r,o,a,i,s=-1,l=n.posMax,c=n.pos;for(n.pos=e+1,r=1;n.pos<l;){if(93===(a=n.src.charCodeAt(n.pos))&&0===--r){o=!0;break}if(i=n.pos,n.md.inline.skipToken(n),91===a)if(i===n.pos-1)r++;else if(t)return n.pos=c,-1}return o&&(s=n.pos),n.pos=c,s}},4890:function(n,e,t){"use strict";var r=t(786).unescapeAll;n.exports=function(n,e,t){var o,a,i=0,s=e,l={ok:!1,pos:0,lines:0,str:""};if(e>=t)return l;if(34!==(a=n.charCodeAt(e))&&39!==a&&40!==a)return l;for(e++,40===a&&(a=41);e<t;){if((o=n.charCodeAt(e))===a)return l.pos=e+1,l.lines=i,l.str=r(n.slice(s+1,e)),l.ok=!0,l;if(40===o&&41===a)return l;10===o?i++:92===o&&e+1<t&&(e++,10===n.charCodeAt(e)&&i++),e++}return l}},9890:function(n,e,t){"use strict";var r=t(786),o=t(4937),a=t(6843),i=t(2205),s=t(7782),l=t(4871),c=t(6927),u=t(3461),d=t(6293),p={default:t(1349),zero:t(7578),commonmark:t(6389)},f=/^(vbscript|javascript|file|data):/,m=/^data:image\/(gif|png|jpeg|webp);/;function h(n){var e=n.trim().toLowerCase();return!f.test(e)||!!m.test(e)}var g=["http:","https:","mailto:"];function y(n){var e=u.parse(n,!0);if(e.hostname&&(!e.protocol||g.indexOf(e.protocol)>=0))try{e.hostname=d.toASCII(e.hostname)}catch(t){}return u.encode(u.format(e))}function b(n){var e=u.parse(n,!0);if(e.hostname&&(!e.protocol||g.indexOf(e.protocol)>=0))try{e.hostname=d.toUnicode(e.hostname)}catch(t){}return u.decode(u.format(e),u.decode.defaultChars+"%")}function v(n,e){if(!(this instanceof v))return new v(n,e);e||r.isString(n)||(e=n||{},n="default"),this.inline=new l,this.block=new s,this.core=new i,this.renderer=new a,this.linkify=new c,this.validateLink=h,this.normalizeLink=y,this.normalizeLinkText=b,this.utils=r,this.helpers=r.assign({},o),this.options={},this.configure(n),e&&this.set(e)}v.prototype.set=function(n){return r.assign(this.options,n),this},v.prototype.configure=function(n){var e,t=this;if(r.isString(n)&&!(n=p[e=n]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!n)throw new Error("Wrong `markdown-it` preset, can't be empty");return n.options&&t.set(n.options),n.components&&Object.keys(n.components).forEach((function(e){n.components[e].rules&&t[e].ruler.enableOnly(n.components[e].rules),n.components[e].rules2&&t[e].ruler2.enableOnly(n.components[e].rules2)})),this},v.prototype.enable=function(n,e){var t=[];Array.isArray(n)||(n=[n]),["core","block","inline"].forEach((function(e){t=t.concat(this[e].ruler.enable(n,!0))}),this),t=t.concat(this.inline.ruler2.enable(n,!0));var r=n.filter((function(n){return t.indexOf(n)<0}));if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},v.prototype.disable=function(n,e){var t=[];Array.isArray(n)||(n=[n]),["core","block","inline"].forEach((function(e){t=t.concat(this[e].ruler.disable(n,!0))}),this),t=t.concat(this.inline.ruler2.disable(n,!0));var r=n.filter((function(n){return t.indexOf(n)<0}));if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},v.prototype.use=function(n){var e=[this].concat(Array.prototype.slice.call(arguments,1));return n.apply(n,e),this},v.prototype.parse=function(n,e){if("string"!==typeof n)throw new Error("Input data should be a String");var t=new this.core.State(n,this,e);return this.core.process(t),t.tokens},v.prototype.render=function(n,e){return e=e||{},this.renderer.render(this.parse(n,e),this.options,e)},v.prototype.parseInline=function(n,e){var t=new this.core.State(n,this,e);return t.inlineMode=!0,this.core.process(t),t.tokens},v.prototype.renderInline=function(n,e){return e=e||{},this.renderer.render(this.parseInline(n,e),this.options,e)},n.exports=v},7782:function(n,e,t){"use strict";var r=t(8674),o=[["table",t(9399),["paragraph","reference"]],["code",t(5078)],["fence",t(1077),["paragraph","reference","blockquote","list"]],["blockquote",t(9224),["paragraph","reference","blockquote","list"]],["hr",t(7542),["paragraph","reference","blockquote","list"]],["list",t(7168),["paragraph","reference","blockquote"]],["reference",t(9277)],["html_block",t(5672),["paragraph","reference","blockquote"]],["heading",t(969),["paragraph","reference","blockquote"]],["lheading",t(7671)],["paragraph",t(6572)]];function a(){this.ruler=new r;for(var n=0;n<o.length;n++)this.ruler.push(o[n][0],o[n][1],{alt:(o[n][2]||[]).slice()})}a.prototype.tokenize=function(n,e,t){for(var r,o=this.ruler.getRules(""),a=o.length,i=e,s=!1,l=n.md.options.maxNesting;i<t&&(n.line=i=n.skipEmptyLines(i),!(i>=t))&&!(n.sCount[i]<n.blkIndent);){if(n.level>=l){n.line=t;break}for(r=0;r<a&&!o[r](n,i,t,!1);r++);n.tight=!s,n.isEmpty(n.line-1)&&(s=!0),(i=n.line)<t&&n.isEmpty(i)&&(s=!0,i++,n.line=i)}},a.prototype.parse=function(n,e,t,r){var o;n&&(o=new this.State(n,e,t,r),this.tokenize(o,o.line,o.lineMax))},a.prototype.State=t(2007),n.exports=a},2205:function(n,e,t){"use strict";var r=t(8674),o=[["normalize",t(710)],["block",t(2486)],["inline",t(7557)],["linkify",t(6716)],["replacements",t(904)],["smartquotes",t(6991)],["text_join",t(9528)]];function a(){this.ruler=new r;for(var n=0;n<o.length;n++)this.ruler.push(o[n][0],o[n][1])}a.prototype.process=function(n){var e,t,r;for(e=0,t=(r=this.ruler.getRules("")).length;e<t;e++)r[e](n)},a.prototype.State=t(3311),n.exports=a},4871:function(n,e,t){"use strict";var r=t(8674),o=[["text",t(6537)],["linkify",t(7697)],["newline",t(6179)],["escape",t(4072)],["backticks",t(7860)],["strikethrough",t(333).w],["emphasis",t(3650).w],["link",t(9384)],["image",t(1677)],["autolink",t(3657)],["html_inline",t(8286)],["entity",t(4514)]],a=[["balance_pairs",t(5381)],["strikethrough",t(333).g],["emphasis",t(3650).g],["fragments_join",t(1783)]];function i(){var n;for(this.ruler=new r,n=0;n<o.length;n++)this.ruler.push(o[n][0],o[n][1]);for(this.ruler2=new r,n=0;n<a.length;n++)this.ruler2.push(a[n][0],a[n][1])}i.prototype.skipToken=function(n){var e,t,r=n.pos,o=this.ruler.getRules(""),a=o.length,i=n.md.options.maxNesting,s=n.cache;if("undefined"===typeof s[r]){if(n.level<i)for(t=0;t<a&&(n.level++,e=o[t](n,!0),n.level--,!e);t++);else n.pos=n.posMax;e||n.pos++,s[r]=n.pos}else n.pos=s[r]},i.prototype.tokenize=function(n){for(var e,t,r=this.ruler.getRules(""),o=r.length,a=n.posMax,i=n.md.options.maxNesting;n.pos<a;){if(n.level<i)for(t=0;t<o&&!(e=r[t](n,!1));t++);if(e){if(n.pos>=a)break}else n.pending+=n.src[n.pos++]}n.pending&&n.pushPending()},i.prototype.parse=function(n,e,t,r){var o,a,i,s=new this.State(n,e,t,r);for(this.tokenize(s),i=(a=this.ruler2.getRules("")).length,o=0;o<i;o++)a[o](s)},i.prototype.State=t(9402),n.exports=i},6389:function(n){"use strict";n.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},1349:function(n){"use strict";n.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},7578:function(n){"use strict";n.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}}},6843:function(n,e,t){"use strict";var r=t(786).assign,o=t(786).unescapeAll,a=t(786).escapeHtml,i={};function s(){this.rules=r({},i)}i.code_inline=function(n,e,t,r,o){var i=n[e];return"<code"+o.renderAttrs(i)+">"+a(n[e].content)+"</code>"},i.code_block=function(n,e,t,r,o){var i=n[e];return"<pre"+o.renderAttrs(i)+"><code>"+a(n[e].content)+"</code></pre>\n"},i.fence=function(n,e,t,r,i){var s,l,c,u,d,p=n[e],f=p.info?o(p.info).trim():"",m="",h="";return f&&(m=(c=f.split(/(\s+)/g))[0],h=c.slice(2).join("")),0===(s=t.highlight&&t.highlight(p.content,m,h)||a(p.content)).indexOf("<pre")?s+"\n":f?(l=p.attrIndex("class"),u=p.attrs?p.attrs.slice():[],l<0?u.push(["class",t.langPrefix+m]):(u[l]=u[l].slice(),u[l][1]+=" "+t.langPrefix+m),d={attrs:u},"<pre><code"+i.renderAttrs(d)+">"+s+"</code></pre>\n"):"<pre><code"+i.renderAttrs(p)+">"+s+"</code></pre>\n"},i.image=function(n,e,t,r,o){var a=n[e];return a.attrs[a.attrIndex("alt")][1]=o.renderInlineAsText(a.children,t,r),o.renderToken(n,e,t)},i.hardbreak=function(n,e,t){return t.xhtmlOut?"<br />\n":"<br>\n"},i.softbreak=function(n,e,t){return t.breaks?t.xhtmlOut?"<br />\n":"<br>\n":"\n"},i.text=function(n,e){return a(n[e].content)},i.html_block=function(n,e){return n[e].content},i.html_inline=function(n,e){return n[e].content},s.prototype.renderAttrs=function(n){var e,t,r;if(!n.attrs)return"";for(r="",e=0,t=n.attrs.length;e<t;e++)r+=" "+a(n.attrs[e][0])+'="'+a(n.attrs[e][1])+'"';return r},s.prototype.renderToken=function(n,e,t){var r,o="",a=!1,i=n[e];return i.hidden?"":(i.block&&-1!==i.nesting&&e&&n[e-1].hidden&&(o+="\n"),o+=(-1===i.nesting?"</":"<")+i.tag,o+=this.renderAttrs(i),0===i.nesting&&t.xhtmlOut&&(o+=" /"),i.block&&(a=!0,1===i.nesting&&e+1<n.length&&("inline"===(r=n[e+1]).type||r.hidden||-1===r.nesting&&r.tag===i.tag)&&(a=!1)),o+=a?">\n":">")},s.prototype.renderInline=function(n,e,t){for(var r,o="",a=this.rules,i=0,s=n.length;i<s;i++)"undefined"!==typeof a[r=n[i].type]?o+=a[r](n,i,e,t,this):o+=this.renderToken(n,i,e);return o},s.prototype.renderInlineAsText=function(n,e,t){for(var r="",o=0,a=n.length;o<a;o++)"text"===n[o].type?r+=n[o].content:"image"===n[o].type?r+=this.renderInlineAsText(n[o].children,e,t):"softbreak"===n[o].type&&(r+="\n");return r},s.prototype.render=function(n,e,t){var r,o,a,i="",s=this.rules;for(r=0,o=n.length;r<o;r++)"inline"===(a=n[r].type)?i+=this.renderInline(n[r].children,e,t):"undefined"!==typeof s[a]?i+=s[n[r].type](n,r,e,t,this):i+=this.renderToken(n,r,e,t);return i},n.exports=s},8674:function(n){"use strict";function e(){this.__rules__=[],this.__cache__=null}e.prototype.__find__=function(n){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===n)return e;return-1},e.prototype.__compile__=function(){var n=this,e=[""];n.__rules__.forEach((function(n){n.enabled&&n.alt.forEach((function(n){e.indexOf(n)<0&&e.push(n)}))})),n.__cache__={},e.forEach((function(e){n.__cache__[e]=[],n.__rules__.forEach((function(t){t.enabled&&(e&&t.alt.indexOf(e)<0||n.__cache__[e].push(t.fn))}))}))},e.prototype.at=function(n,e,t){var r=this.__find__(n),o=t||{};if(-1===r)throw new Error("Parser rule not found: "+n);this.__rules__[r].fn=e,this.__rules__[r].alt=o.alt||[],this.__cache__=null},e.prototype.before=function(n,e,t,r){var o=this.__find__(n),a=r||{};if(-1===o)throw new Error("Parser rule not found: "+n);this.__rules__.splice(o,0,{name:e,enabled:!0,fn:t,alt:a.alt||[]}),this.__cache__=null},e.prototype.after=function(n,e,t,r){var o=this.__find__(n),a=r||{};if(-1===o)throw new Error("Parser rule not found: "+n);this.__rules__.splice(o+1,0,{name:e,enabled:!0,fn:t,alt:a.alt||[]}),this.__cache__=null},e.prototype.push=function(n,e,t){var r=t||{};this.__rules__.push({name:n,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null},e.prototype.enable=function(n,e){Array.isArray(n)||(n=[n]);var t=[];return n.forEach((function(n){var r=this.__find__(n);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[r].enabled=!0,t.push(n)}),this),this.__cache__=null,t},e.prototype.enableOnly=function(n,e){Array.isArray(n)||(n=[n]),this.__rules__.forEach((function(n){n.enabled=!1})),this.enable(n,e)},e.prototype.disable=function(n,e){Array.isArray(n)||(n=[n]);var t=[];return n.forEach((function(n){var r=this.__find__(n);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[r].enabled=!1,t.push(n)}),this),this.__cache__=null,t},e.prototype.getRules=function(n){return null===this.__cache__&&this.__compile__(),this.__cache__[n]||[]},n.exports=e},9224:function(n,e,t){"use strict";var r=t(786).isSpace;n.exports=function(n,e,t,o){var a,i,s,l,c,u,d,p,f,m,h,g,y,b,v,x,w,k,S,_,E=n.lineMax,C=n.bMarks[e]+n.tShift[e],N=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4)return!1;if(62!==n.src.charCodeAt(C++))return!1;if(o)return!0;for(l=f=n.sCount[e]+1,32===n.src.charCodeAt(C)?(C++,l++,f++,a=!1,x=!0):9===n.src.charCodeAt(C)?(x=!0,(n.bsCount[e]+f)%4===3?(C++,l++,f++,a=!1):a=!0):x=!1,m=[n.bMarks[e]],n.bMarks[e]=C;C<N&&(i=n.src.charCodeAt(C),r(i));)9===i?f+=4-(f+n.bsCount[e]+(a?1:0))%4:f++,C++;for(h=[n.bsCount[e]],n.bsCount[e]=n.sCount[e]+1+(x?1:0),u=C>=N,b=[n.sCount[e]],n.sCount[e]=f-l,v=[n.tShift[e]],n.tShift[e]=C-n.bMarks[e],k=n.md.block.ruler.getRules("blockquote"),y=n.parentType,n.parentType="blockquote",p=e+1;p<t&&(_=n.sCount[p]<n.blkIndent,!((C=n.bMarks[p]+n.tShift[p])>=(N=n.eMarks[p])));p++)if(62!==n.src.charCodeAt(C++)||_){if(u)break;for(w=!1,s=0,c=k.length;s<c;s++)if(k[s](n,p,t,!0)){w=!0;break}if(w){n.lineMax=p,0!==n.blkIndent&&(m.push(n.bMarks[p]),h.push(n.bsCount[p]),v.push(n.tShift[p]),b.push(n.sCount[p]),n.sCount[p]-=n.blkIndent);break}m.push(n.bMarks[p]),h.push(n.bsCount[p]),v.push(n.tShift[p]),b.push(n.sCount[p]),n.sCount[p]=-1}else{for(l=f=n.sCount[p]+1,32===n.src.charCodeAt(C)?(C++,l++,f++,a=!1,x=!0):9===n.src.charCodeAt(C)?(x=!0,(n.bsCount[p]+f)%4===3?(C++,l++,f++,a=!1):a=!0):x=!1,m.push(n.bMarks[p]),n.bMarks[p]=C;C<N&&(i=n.src.charCodeAt(C),r(i));)9===i?f+=4-(f+n.bsCount[p]+(a?1:0))%4:f++,C++;u=C>=N,h.push(n.bsCount[p]),n.bsCount[p]=n.sCount[p]+1+(x?1:0),b.push(n.sCount[p]),n.sCount[p]=f-l,v.push(n.tShift[p]),n.tShift[p]=C-n.bMarks[p]}for(g=n.blkIndent,n.blkIndent=0,(S=n.push("blockquote_open","blockquote",1)).markup=">",S.map=d=[e,0],n.md.block.tokenize(n,e,p),(S=n.push("blockquote_close","blockquote",-1)).markup=">",n.lineMax=E,n.parentType=y,d[1]=n.line,s=0;s<v.length;s++)n.bMarks[s+e]=m[s],n.tShift[s+e]=v[s],n.sCount[s+e]=b[s],n.bsCount[s+e]=h[s];return n.blkIndent=g,!0}},5078:function(n){"use strict";n.exports=function(n,e,t){var r,o,a;if(n.sCount[e]-n.blkIndent<4)return!1;for(o=r=e+1;r<t;)if(n.isEmpty(r))r++;else{if(!(n.sCount[r]-n.blkIndent>=4))break;o=++r}return n.line=o,(a=n.push("code_block","code",0)).content=n.getLines(e,o,4+n.blkIndent,!1)+"\n",a.map=[e,n.line],!0}},1077:function(n){"use strict";n.exports=function(n,e,t,r){var o,a,i,s,l,c,u,d=!1,p=n.bMarks[e]+n.tShift[e],f=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4)return!1;if(p+3>f)return!1;if(126!==(o=n.src.charCodeAt(p))&&96!==o)return!1;if(l=p,(a=(p=n.skipChars(p,o))-l)<3)return!1;if(u=n.src.slice(l,p),i=n.src.slice(p,f),96===o&&i.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;for(s=e;!(++s>=t)&&!((p=l=n.bMarks[s]+n.tShift[s])<(f=n.eMarks[s])&&n.sCount[s]<n.blkIndent);)if(n.src.charCodeAt(p)===o&&!(n.sCount[s]-n.blkIndent>=4)&&!((p=n.skipChars(p,o))-l<a)&&!((p=n.skipSpaces(p))<f)){d=!0;break}return a=n.sCount[e],n.line=s+(d?1:0),(c=n.push("fence","code",0)).info=i,c.content=n.getLines(e+1,s,a,!0),c.markup=u,c.map=[e,n.line],!0}},969:function(n,e,t){"use strict";var r=t(786).isSpace;n.exports=function(n,e,t,o){var a,i,s,l,c=n.bMarks[e]+n.tShift[e],u=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4)return!1;if(35!==(a=n.src.charCodeAt(c))||c>=u)return!1;for(i=1,a=n.src.charCodeAt(++c);35===a&&c<u&&i<=6;)i++,a=n.src.charCodeAt(++c);return!(i>6||c<u&&!r(a))&&(o||(u=n.skipSpacesBack(u,c),(s=n.skipCharsBack(u,35,c))>c&&r(n.src.charCodeAt(s-1))&&(u=s),n.line=e+1,(l=n.push("heading_open","h"+String(i),1)).markup="########".slice(0,i),l.map=[e,n.line],(l=n.push("inline","",0)).content=n.src.slice(c,u).trim(),l.map=[e,n.line],l.children=[],(l=n.push("heading_close","h"+String(i),-1)).markup="########".slice(0,i)),!0)}},7542:function(n,e,t){"use strict";var r=t(786).isSpace;n.exports=function(n,e,t,o){var a,i,s,l,c=n.bMarks[e]+n.tShift[e],u=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4)return!1;if(42!==(a=n.src.charCodeAt(c++))&&45!==a&&95!==a)return!1;for(i=1;c<u;){if((s=n.src.charCodeAt(c++))!==a&&!r(s))return!1;s===a&&i++}return!(i<3)&&(o||(n.line=e+1,(l=n.push("hr","hr",0)).map=[e,n.line],l.markup=Array(i+1).join(String.fromCharCode(a))),!0)}},5672:function(n,e,t){"use strict";var r=t(1437),o=t(5850).q,a=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];n.exports=function(n,e,t,r){var o,i,s,l,c=n.bMarks[e]+n.tShift[e],u=n.eMarks[e];if(n.sCount[e]-n.blkIndent>=4)return!1;if(!n.md.options.html)return!1;if(60!==n.src.charCodeAt(c))return!1;for(l=n.src.slice(c,u),o=0;o<a.length&&!a[o][0].test(l);o++);if(o===a.length)return!1;if(r)return a[o][2];if(i=e+1,!a[o][1].test(l))for(;i<t&&!(n.sCount[i]<n.blkIndent);i++)if(c=n.bMarks[i]+n.tShift[i],u=n.eMarks[i],l=n.src.slice(c,u),a[o][1].test(l)){0!==l.length&&i++;break}return n.line=i,(s=n.push("html_block","",0)).map=[e,i],s.content=n.getLines(e,i,n.blkIndent,!0),!0}},7671:function(n){"use strict";n.exports=function(n,e,t){var r,o,a,i,s,l,c,u,d,p,f=e+1,m=n.md.block.ruler.getRules("paragraph");if(n.sCount[e]-n.blkIndent>=4)return!1;for(p=n.parentType,n.parentType="paragraph";f<t&&!n.isEmpty(f);f++)if(!(n.sCount[f]-n.blkIndent>3)){if(n.sCount[f]>=n.blkIndent&&(l=n.bMarks[f]+n.tShift[f])<(c=n.eMarks[f])&&(45===(d=n.src.charCodeAt(l))||61===d)&&(l=n.skipChars(l,d),(l=n.skipSpaces(l))>=c)){u=61===d?1:2;break}if(!(n.sCount[f]<0)){for(o=!1,a=0,i=m.length;a<i;a++)if(m[a](n,f,t,!0)){o=!0;break}if(o)break}}return!!u&&(r=n.getLines(e,f,n.blkIndent,!1).trim(),n.line=f+1,(s=n.push("heading_open","h"+String(u),1)).markup=String.fromCharCode(d),s.map=[e,n.line],(s=n.push("inline","",0)).content=r,s.map=[e,n.line-1],s.children=[],(s=n.push("heading_close","h"+String(u),-1)).markup=String.fromCharCode(d),n.parentType=p,!0)}},7168:function(n,e,t){"use strict";var r=t(786).isSpace;function o(n,e){var t,o,a,i;return o=n.bMarks[e]+n.tShift[e],a=n.eMarks[e],42!==(t=n.src.charCodeAt(o++))&&45!==t&&43!==t||o<a&&(i=n.src.charCodeAt(o),!r(i))?-1:o}function a(n,e){var t,o=n.bMarks[e]+n.tShift[e],a=o,i=n.eMarks[e];if(a+1>=i)return-1;if((t=n.src.charCodeAt(a++))<48||t>57)return-1;for(;;){if(a>=i)return-1;if(!((t=n.src.charCodeAt(a++))>=48&&t<=57)){if(41===t||46===t)break;return-1}if(a-o>=10)return-1}return a<i&&(t=n.src.charCodeAt(a),!r(t))?-1:a}n.exports=function(n,e,t,r){var i,s,l,c,u,d,p,f,m,h,g,y,b,v,x,w,k,S,_,E,C,N,T,q,A,L,j,P,O=!1,M=!0;if(n.sCount[e]-n.blkIndent>=4)return!1;if(n.listIndent>=0&&n.sCount[e]-n.listIndent>=4&&n.sCount[e]<n.blkIndent)return!1;if(r&&"paragraph"===n.parentType&&n.sCount[e]>=n.blkIndent&&(O=!0),(T=a(n,e))>=0){if(p=!0,A=n.bMarks[e]+n.tShift[e],b=Number(n.src.slice(A,T-1)),O&&1!==b)return!1}else{if(!((T=o(n,e))>=0))return!1;p=!1}if(O&&n.skipSpaces(T)>=n.eMarks[e])return!1;if(y=n.src.charCodeAt(T-1),r)return!0;for(g=n.tokens.length,p?(P=n.push("ordered_list_open","ol",1),1!==b&&(P.attrs=[["start",b]])):P=n.push("bullet_list_open","ul",1),P.map=h=[e,0],P.markup=String.fromCharCode(y),x=e,q=!1,j=n.md.block.ruler.getRules("list"),S=n.parentType,n.parentType="list";x<t;){for(N=T,v=n.eMarks[x],d=w=n.sCount[x]+T-(n.bMarks[e]+n.tShift[e]);N<v;){if(9===(i=n.src.charCodeAt(N)))w+=4-(w+n.bsCount[x])%4;else{if(32!==i)break;w++}N++}if((u=(s=N)>=v?1:w-d)>4&&(u=1),c=d+u,(P=n.push("list_item_open","li",1)).markup=String.fromCharCode(y),P.map=f=[e,0],p&&(P.info=n.src.slice(A,T-1)),C=n.tight,E=n.tShift[e],_=n.sCount[e],k=n.listIndent,n.listIndent=n.blkIndent,n.blkIndent=c,n.tight=!0,n.tShift[e]=s-n.bMarks[e],n.sCount[e]=w,s>=v&&n.isEmpty(e+1)?n.line=Math.min(n.line+2,t):n.md.block.tokenize(n,e,t,!0),n.tight&&!q||(M=!1),q=n.line-e>1&&n.isEmpty(n.line-1),n.blkIndent=n.listIndent,n.listIndent=k,n.tShift[e]=E,n.sCount[e]=_,n.tight=C,(P=n.push("list_item_close","li",-1)).markup=String.fromCharCode(y),x=e=n.line,f[1]=x,s=n.bMarks[e],x>=t)break;if(n.sCount[x]<n.blkIndent)break;if(n.sCount[e]-n.blkIndent>=4)break;for(L=!1,l=0,m=j.length;l<m;l++)if(j[l](n,x,t,!0)){L=!0;break}if(L)break;if(p){if((T=a(n,x))<0)break;A=n.bMarks[x]+n.tShift[x]}else if((T=o(n,x))<0)break;if(y!==n.src.charCodeAt(T-1))break}return(P=p?n.push("ordered_list_close","ol",-1):n.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(y),h[1]=x,n.line=x,n.parentType=S,M&&function(n,e){var t,r,o=n.level+2;for(t=e+2,r=n.tokens.length-2;t<r;t++)n.tokens[t].level===o&&"paragraph_open"===n.tokens[t].type&&(n.tokens[t+2].hidden=!0,n.tokens[t].hidden=!0,t+=2)}(n,g),!0}},6572:function(n){"use strict";n.exports=function(n,e){var t,r,o,a,i,s,l=e+1,c=n.md.block.ruler.getRules("paragraph"),u=n.lineMax;for(s=n.parentType,n.parentType="paragraph";l<u&&!n.isEmpty(l);l++)if(!(n.sCount[l]-n.blkIndent>3)&&!(n.sCount[l]<0)){for(r=!1,o=0,a=c.length;o<a;o++)if(c[o](n,l,u,!0)){r=!0;break}if(r)break}return t=n.getLines(e,l,n.blkIndent,!1).trim(),n.line=l,(i=n.push("paragraph_open","p",1)).map=[e,n.line],(i=n.push("inline","",0)).content=t,i.map=[e,n.line],i.children=[],i=n.push("paragraph_close","p",-1),n.parentType=s,!0}},9277:function(n,e,t){"use strict";var r=t(786).normalizeReference,o=t(786).isSpace;n.exports=function(n,e,t,a){var i,s,l,c,u,d,p,f,m,h,g,y,b,v,x,w,k=0,S=n.bMarks[e]+n.tShift[e],_=n.eMarks[e],E=e+1;if(n.sCount[e]-n.blkIndent>=4)return!1;if(91!==n.src.charCodeAt(S))return!1;for(;++S<_;)if(93===n.src.charCodeAt(S)&&92!==n.src.charCodeAt(S-1)){if(S+1===_)return!1;if(58!==n.src.charCodeAt(S+1))return!1;break}for(c=n.lineMax,x=n.md.block.ruler.getRules("reference"),h=n.parentType,n.parentType="reference";E<c&&!n.isEmpty(E);E++)if(!(n.sCount[E]-n.blkIndent>3)&&!(n.sCount[E]<0)){for(v=!1,d=0,p=x.length;d<p;d++)if(x[d](n,E,c,!0)){v=!0;break}if(v)break}for(_=(b=n.getLines(e,E,n.blkIndent,!1).trim()).length,S=1;S<_;S++){if(91===(i=b.charCodeAt(S)))return!1;if(93===i){m=S;break}(10===i||92===i&&++S<_&&10===b.charCodeAt(S))&&k++}if(m<0||58!==b.charCodeAt(m+1))return!1;for(S=m+2;S<_;S++)if(10===(i=b.charCodeAt(S)))k++;else if(!o(i))break;if(!(g=n.md.helpers.parseLinkDestination(b,S,_)).ok)return!1;if(u=n.md.normalizeLink(g.str),!n.md.validateLink(u))return!1;for(s=S=g.pos,l=k+=g.lines,y=S;S<_;S++)if(10===(i=b.charCodeAt(S)))k++;else if(!o(i))break;for(g=n.md.helpers.parseLinkTitle(b,S,_),S<_&&y!==S&&g.ok?(w=g.str,S=g.pos,k+=g.lines):(w="",S=s,k=l);S<_&&(i=b.charCodeAt(S),o(i));)S++;if(S<_&&10!==b.charCodeAt(S)&&w)for(w="",S=s,k=l;S<_&&(i=b.charCodeAt(S),o(i));)S++;return!(S<_&&10!==b.charCodeAt(S))&&(!!(f=r(b.slice(1,m)))&&(a||("undefined"===typeof n.env.references&&(n.env.references={}),"undefined"===typeof n.env.references[f]&&(n.env.references[f]={title:w,href:u}),n.parentType=h,n.line=e+k+1),!0))}},2007:function(n,e,t){"use strict";var r=t(596),o=t(786).isSpace;function a(n,e,t,r){var a,i,s,l,c,u,d,p;for(this.src=n,this.md=e,this.env=t,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,s=l=u=d=0,c=(i=this.src).length;l<c;l++){if(a=i.charCodeAt(l),!p){if(o(a)){u++,9===a?d+=4-d%4:d++;continue}p=!0}10!==a&&l!==c-1||(10!==a&&l++,this.bMarks.push(s),this.eMarks.push(l),this.tShift.push(u),this.sCount.push(d),this.bsCount.push(0),p=!1,u=0,d=0,s=l+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}a.prototype.push=function(n,e,t){var o=new r(n,e,t);return o.block=!0,t<0&&this.level--,o.level=this.level,t>0&&this.level++,this.tokens.push(o),o},a.prototype.isEmpty=function(n){return this.bMarks[n]+this.tShift[n]>=this.eMarks[n]},a.prototype.skipEmptyLines=function(n){for(var e=this.lineMax;n<e&&!(this.bMarks[n]+this.tShift[n]<this.eMarks[n]);n++);return n},a.prototype.skipSpaces=function(n){for(var e,t=this.src.length;n<t&&(e=this.src.charCodeAt(n),o(e));n++);return n},a.prototype.skipSpacesBack=function(n,e){if(n<=e)return n;for(;n>e;)if(!o(this.src.charCodeAt(--n)))return n+1;return n},a.prototype.skipChars=function(n,e){for(var t=this.src.length;n<t&&this.src.charCodeAt(n)===e;n++);return n},a.prototype.skipCharsBack=function(n,e,t){if(n<=t)return n;for(;n>t;)if(e!==this.src.charCodeAt(--n))return n+1;return n},a.prototype.getLines=function(n,e,t,r){var a,i,s,l,c,u,d,p=n;if(n>=e)return"";for(u=new Array(e-n),a=0;p<e;p++,a++){for(i=0,d=l=this.bMarks[p],c=p+1<e||r?this.eMarks[p]+1:this.eMarks[p];l<c&&i<t;){if(s=this.src.charCodeAt(l),o(s))9===s?i+=4-(i+this.bsCount[p])%4:i++;else{if(!(l-d<this.tShift[p]))break;i++}l++}u[a]=i>t?new Array(i-t+1).join(" ")+this.src.slice(l,c):this.src.slice(l,c)}return u.join("")},a.prototype.Token=r,n.exports=a},9399:function(n,e,t){"use strict";var r=t(786).isSpace;function o(n,e){var t=n.bMarks[e]+n.tShift[e],r=n.eMarks[e];return n.src.slice(t,r)}function a(n){var e,t=[],r=0,o=n.length,a=!1,i=0,s="";for(e=n.charCodeAt(r);r<o;)124===e&&(a?(s+=n.substring(i,r-1),i=r):(t.push(s+n.substring(i,r)),s="",i=r+1)),a=92===e,r++,e=n.charCodeAt(r);return t.push(s+n.substring(i)),t}n.exports=function(n,e,t,i){var s,l,c,u,d,p,f,m,h,g,y,b,v,x,w,k,S,_;if(e+2>t)return!1;if(p=e+1,n.sCount[p]<n.blkIndent)return!1;if(n.sCount[p]-n.blkIndent>=4)return!1;if((c=n.bMarks[p]+n.tShift[p])>=n.eMarks[p])return!1;if(124!==(S=n.src.charCodeAt(c++))&&45!==S&&58!==S)return!1;if(c>=n.eMarks[p])return!1;if(124!==(_=n.src.charCodeAt(c++))&&45!==_&&58!==_&&!r(_))return!1;if(45===S&&r(_))return!1;for(;c<n.eMarks[p];){if(124!==(s=n.src.charCodeAt(c))&&45!==s&&58!==s&&!r(s))return!1;c++}for(f=(l=o(n,e+1)).split("|"),g=[],u=0;u<f.length;u++){if(!(y=f[u].trim())){if(0===u||u===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(y))return!1;58===y.charCodeAt(y.length-1)?g.push(58===y.charCodeAt(0)?"center":"right"):58===y.charCodeAt(0)?g.push("left"):g.push("")}if(-1===(l=o(n,e).trim()).indexOf("|"))return!1;if(n.sCount[e]-n.blkIndent>=4)return!1;if((f=a(l)).length&&""===f[0]&&f.shift(),f.length&&""===f[f.length-1]&&f.pop(),0===(m=f.length)||m!==g.length)return!1;if(i)return!0;for(x=n.parentType,n.parentType="table",k=n.md.block.ruler.getRules("blockquote"),(h=n.push("table_open","table",1)).map=b=[e,0],(h=n.push("thead_open","thead",1)).map=[e,e+1],(h=n.push("tr_open","tr",1)).map=[e,e+1],u=0;u<f.length;u++)h=n.push("th_open","th",1),g[u]&&(h.attrs=[["style","text-align:"+g[u]]]),(h=n.push("inline","",0)).content=f[u].trim(),h.children=[],h=n.push("th_close","th",-1);for(h=n.push("tr_close","tr",-1),h=n.push("thead_close","thead",-1),p=e+2;p<t&&!(n.sCount[p]<n.blkIndent);p++){for(w=!1,u=0,d=k.length;u<d;u++)if(k[u](n,p,t,!0)){w=!0;break}if(w)break;if(!(l=o(n,p).trim()))break;if(n.sCount[p]-n.blkIndent>=4)break;for((f=a(l)).length&&""===f[0]&&f.shift(),f.length&&""===f[f.length-1]&&f.pop(),p===e+2&&((h=n.push("tbody_open","tbody",1)).map=v=[e+2,0]),(h=n.push("tr_open","tr",1)).map=[p,p+1],u=0;u<m;u++)h=n.push("td_open","td",1),g[u]&&(h.attrs=[["style","text-align:"+g[u]]]),(h=n.push("inline","",0)).content=f[u]?f[u].trim():"",h.children=[],h=n.push("td_close","td",-1);h=n.push("tr_close","tr",-1)}return v&&(h=n.push("tbody_close","tbody",-1),v[1]=p),h=n.push("table_close","table",-1),b[1]=p,n.parentType=x,n.line=p,!0}},2486:function(n){"use strict";n.exports=function(n){var e;n.inlineMode?((e=new n.Token("inline","",0)).content=n.src,e.map=[0,1],e.children=[],n.tokens.push(e)):n.md.block.parse(n.src,n.md,n.env,n.tokens)}},7557:function(n){"use strict";n.exports=function(n){var e,t,r,o=n.tokens;for(t=0,r=o.length;t<r;t++)"inline"===(e=o[t]).type&&n.md.inline.parse(e.content,n.md,n.env,e.children)}},6716:function(n,e,t){"use strict";var r=t(786).arrayReplaceAt;function o(n){return/^<\/a\s*>/i.test(n)}n.exports=function(n){var e,t,a,i,s,l,c,u,d,p,f,m,h,g,y,b,v,x,w=n.tokens;if(n.md.options.linkify)for(t=0,a=w.length;t<a;t++)if("inline"===w[t].type&&n.md.linkify.pretest(w[t].content))for(h=0,e=(i=w[t].children).length-1;e>=0;e--)if("link_close"!==(l=i[e]).type){if("html_inline"===l.type&&(x=l.content,/^<a[>\s]/i.test(x)&&h>0&&h--,o(l.content)&&h++),!(h>0)&&"text"===l.type&&n.md.linkify.test(l.content)){for(d=l.content,v=n.md.linkify.match(d),c=[],m=l.level,f=0,v.length>0&&0===v[0].index&&e>0&&"text_special"===i[e-1].type&&(v=v.slice(1)),u=0;u<v.length;u++)g=v[u].url,y=n.md.normalizeLink(g),n.md.validateLink(y)&&(b=v[u].text,b=v[u].schema?"mailto:"!==v[u].schema||/^mailto:/i.test(b)?n.md.normalizeLinkText(b):n.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):n.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,""),(p=v[u].index)>f&&((s=new n.Token("text","",0)).content=d.slice(f,p),s.level=m,c.push(s)),(s=new n.Token("link_open","a",1)).attrs=[["href",y]],s.level=m++,s.markup="linkify",s.info="auto",c.push(s),(s=new n.Token("text","",0)).content=b,s.level=m,c.push(s),(s=new n.Token("link_close","a",-1)).level=--m,s.markup="linkify",s.info="auto",c.push(s),f=v[u].lastIndex);f<d.length&&((s=new n.Token("text","",0)).content=d.slice(f),s.level=m,c.push(s)),w[t].children=i=r(i,e,c)}}else for(e--;i[e].level!==l.level&&"link_open"!==i[e].type;)e--}},710:function(n){"use strict";var e=/\r\n?|\n/g,t=/\0/g;n.exports=function(n){var r;r=(r=n.src.replace(e,"\n")).replace(t,"\ufffd"),n.src=r}},904:function(n){"use strict";var e=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,t=/\((c|tm|r)\)/i,r=/\((c|tm|r)\)/gi,o={c:"\xa9",r:"\xae",tm:"\u2122"};function a(n,e){return o[e.toLowerCase()]}function i(n){var e,t,o=0;for(e=n.length-1;e>=0;e--)"text"!==(t=n[e]).type||o||(t.content=t.content.replace(r,a)),"link_open"===t.type&&"auto"===t.info&&o--,"link_close"===t.type&&"auto"===t.info&&o++}function s(n){var t,r,o=0;for(t=n.length-1;t>=0;t--)"text"!==(r=n[t]).type||o||e.test(r.content)&&(r.content=r.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1\u2014").replace(/(^|\s)--(?=\s|$)/gm,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1\u2013")),"link_open"===r.type&&"auto"===r.info&&o--,"link_close"===r.type&&"auto"===r.info&&o++}n.exports=function(n){var r;if(n.md.options.typographer)for(r=n.tokens.length-1;r>=0;r--)"inline"===n.tokens[r].type&&(t.test(n.tokens[r].content)&&i(n.tokens[r].children),e.test(n.tokens[r].content)&&s(n.tokens[r].children))}},6991:function(n,e,t){"use strict";var r=t(786).isWhiteSpace,o=t(786).isPunctChar,a=t(786).isMdAsciiPunct,i=/['"]/,s=/['"]/g;function l(n,e,t){return n.slice(0,e)+t+n.slice(e+1)}function c(n,e){var t,i,c,u,d,p,f,m,h,g,y,b,v,x,w,k,S,_,E,C,N;for(E=[],t=0;t<n.length;t++){for(i=n[t],f=n[t].level,S=E.length-1;S>=0&&!(E[S].level<=f);S--);if(E.length=S+1,"text"===i.type){d=0,p=(c=i.content).length;n:for(;d<p&&(s.lastIndex=d,u=s.exec(c));){if(w=k=!0,d=u.index+1,_="'"===u[0],h=32,u.index-1>=0)h=c.charCodeAt(u.index-1);else for(S=t-1;S>=0&&("softbreak"!==n[S].type&&"hardbreak"!==n[S].type);S--)if(n[S].content){h=n[S].content.charCodeAt(n[S].content.length-1);break}if(g=32,d<p)g=c.charCodeAt(d);else for(S=t+1;S<n.length&&("softbreak"!==n[S].type&&"hardbreak"!==n[S].type);S++)if(n[S].content){g=n[S].content.charCodeAt(0);break}if(y=a(h)||o(String.fromCharCode(h)),b=a(g)||o(String.fromCharCode(g)),v=r(h),(x=r(g))?w=!1:b&&(v||y||(w=!1)),v?k=!1:y&&(x||b||(k=!1)),34===g&&'"'===u[0]&&h>=48&&h<=57&&(k=w=!1),w&&k&&(w=y,k=b),w||k){if(k)for(S=E.length-1;S>=0&&(m=E[S],!(E[S].level<f));S--)if(m.single===_&&E[S].level===f){m=E[S],_?(C=e.md.options.quotes[2],N=e.md.options.quotes[3]):(C=e.md.options.quotes[0],N=e.md.options.quotes[1]),i.content=l(i.content,u.index,N),n[m.token].content=l(n[m.token].content,m.pos,C),d+=N.length-1,m.token===t&&(d+=C.length-1),p=(c=i.content).length,E.length=S;continue n}w?E.push({token:t,pos:u.index,single:_,level:f}):k&&_&&(i.content=l(i.content,u.index,"\u2019"))}else _&&(i.content=l(i.content,u.index,"\u2019"))}}}}n.exports=function(n){var e;if(n.md.options.typographer)for(e=n.tokens.length-1;e>=0;e--)"inline"===n.tokens[e].type&&i.test(n.tokens[e].content)&&c(n.tokens[e].children,n)}},3311:function(n,e,t){"use strict";var r=t(596);function o(n,e,t){this.src=n,this.env=t,this.tokens=[],this.inlineMode=!1,this.md=e}o.prototype.Token=r,n.exports=o},9528:function(n){"use strict";n.exports=function(n){var e,t,r,o,a,i,s=n.tokens;for(e=0,t=s.length;e<t;e++)if("inline"===s[e].type){for(a=(r=s[e].children).length,o=0;o<a;o++)"text_special"===r[o].type&&(r[o].type="text");for(o=i=0;o<a;o++)"text"===r[o].type&&o+1<a&&"text"===r[o+1].type?r[o+1].content=r[o].content+r[o+1].content:(o!==i&&(r[i]=r[o]),i++);o!==i&&(r.length=i)}}},3657:function(n){"use strict";var e=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,t=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;n.exports=function(n,r){var o,a,i,s,l,c,u=n.pos;if(60!==n.src.charCodeAt(u))return!1;for(l=n.pos,c=n.posMax;;){if(++u>=c)return!1;if(60===(s=n.src.charCodeAt(u)))return!1;if(62===s)break}return o=n.src.slice(l+1,u),t.test(o)?(a=n.md.normalizeLink(o),!!n.md.validateLink(a)&&(r||((i=n.push("link_open","a",1)).attrs=[["href",a]],i.markup="autolink",i.info="auto",(i=n.push("text","",0)).content=n.md.normalizeLinkText(o),(i=n.push("link_close","a",-1)).markup="autolink",i.info="auto"),n.pos+=o.length+2,!0)):!!e.test(o)&&(a=n.md.normalizeLink("mailto:"+o),!!n.md.validateLink(a)&&(r||((i=n.push("link_open","a",1)).attrs=[["href",a]],i.markup="autolink",i.info="auto",(i=n.push("text","",0)).content=n.md.normalizeLinkText(o),(i=n.push("link_close","a",-1)).markup="autolink",i.info="auto"),n.pos+=o.length+2,!0))}},7860:function(n){"use strict";n.exports=function(n,e){var t,r,o,a,i,s,l,c,u=n.pos;if(96!==n.src.charCodeAt(u))return!1;for(t=u,u++,r=n.posMax;u<r&&96===n.src.charCodeAt(u);)u++;if(l=(o=n.src.slice(t,u)).length,n.backticksScanned&&(n.backticks[l]||0)<=t)return e||(n.pending+=o),n.pos+=l,!0;for(i=s=u;-1!==(i=n.src.indexOf("`",s));){for(s=i+1;s<r&&96===n.src.charCodeAt(s);)s++;if((c=s-i)===l)return e||((a=n.push("code_inline","code",0)).markup=o,a.content=n.src.slice(u,i).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),n.pos=s,!0;n.backticks[c]=i}return n.backticksScanned=!0,e||(n.pending+=o),n.pos+=l,!0}},5381:function(n){"use strict";function e(n,e){var t,r,o,a,i,s,l,c,u={},d=e.length;if(d){var p=0,f=-2,m=[];for(t=0;t<d;t++)if(o=e[t],m.push(0),e[p].marker===o.marker&&f===o.token-1||(p=t),f=o.token,o.length=o.length||0,o.close){for(u.hasOwnProperty(o.marker)||(u[o.marker]=[-1,-1,-1,-1,-1,-1]),i=u[o.marker][(o.open?3:0)+o.length%3],s=r=p-m[p]-1;r>i;r-=m[r]+1)if((a=e[r]).marker===o.marker&&a.open&&a.end<0&&(l=!1,(a.close||o.open)&&(a.length+o.length)%3===0&&(a.length%3===0&&o.length%3===0||(l=!0)),!l)){c=r>0&&!e[r-1].open?m[r-1]+1:0,m[t]=t-r+c,m[r]=c,o.open=!1,a.end=t,a.close=!1,s=-1,f=-2;break}-1!==s&&(u[o.marker][(o.open?3:0)+(o.length||0)%3]=s)}}}n.exports=function(n){var t,r=n.tokens_meta,o=n.tokens_meta.length;for(e(0,n.delimiters),t=0;t<o;t++)r[t]&&r[t].delimiters&&e(0,r[t].delimiters)}},3650:function(n){"use strict";function e(n,e){var t,r,o,a,i,s;for(t=e.length-1;t>=0;t--)95!==(r=e[t]).marker&&42!==r.marker||-1!==r.end&&(o=e[r.end],s=t>0&&e[t-1].end===r.end+1&&e[t-1].marker===r.marker&&e[t-1].token===r.token-1&&e[r.end+1].token===o.token+1,i=String.fromCharCode(r.marker),(a=n.tokens[r.token]).type=s?"strong_open":"em_open",a.tag=s?"strong":"em",a.nesting=1,a.markup=s?i+i:i,a.content="",(a=n.tokens[o.token]).type=s?"strong_close":"em_close",a.tag=s?"strong":"em",a.nesting=-1,a.markup=s?i+i:i,a.content="",s&&(n.tokens[e[t-1].token].content="",n.tokens[e[r.end+1].token].content="",t--))}n.exports.w=function(n,e){var t,r,o=n.pos,a=n.src.charCodeAt(o);if(e)return!1;if(95!==a&&42!==a)return!1;for(r=n.scanDelims(n.pos,42===a),t=0;t<r.length;t++)n.push("text","",0).content=String.fromCharCode(a),n.delimiters.push({marker:a,length:r.length,token:n.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return n.pos+=r.length,!0},n.exports.g=function(n){var t,r=n.tokens_meta,o=n.tokens_meta.length;for(e(n,n.delimiters),t=0;t<o;t++)r[t]&&r[t].delimiters&&e(n,r[t].delimiters)}},4514:function(n,e,t){"use strict";var r=t(1285),o=t(786).has,a=t(786).isValidEntityCode,i=t(786).fromCodePoint,s=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,l=/^&([a-z][a-z0-9]{1,31});/i;n.exports=function(n,e){var t,c,u,d=n.pos,p=n.posMax;if(38!==n.src.charCodeAt(d))return!1;if(d+1>=p)return!1;if(35===n.src.charCodeAt(d+1)){if(c=n.src.slice(d).match(s))return e||(t="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),(u=n.push("text_special","",0)).content=a(t)?i(t):i(65533),u.markup=c[0],u.info="entity"),n.pos+=c[0].length,!0}else if((c=n.src.slice(d).match(l))&&o(r,c[1]))return e||((u=n.push("text_special","",0)).content=r[c[1]],u.markup=c[0],u.info="entity"),n.pos+=c[0].length,!0;return!1}},4072:function(n,e,t){"use strict";for(var r=t(786).isSpace,o=[],a=0;a<256;a++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(n){o[n.charCodeAt(0)]=1})),n.exports=function(n,e){var t,a,i,s,l,c=n.pos,u=n.posMax;if(92!==n.src.charCodeAt(c))return!1;if(++c>=u)return!1;if(10===(t=n.src.charCodeAt(c))){for(e||n.push("hardbreak","br",0),c++;c<u&&(t=n.src.charCodeAt(c),r(t));)c++;return n.pos=c,!0}return s=n.src[c],t>=55296&&t<=56319&&c+1<u&&(a=n.src.charCodeAt(c+1))>=56320&&a<=57343&&(s+=n.src[c+1],c++),i="\\"+s,e||(l=n.push("text_special","",0),t<256&&0!==o[t]?l.content=s:l.content=i,l.markup=i,l.info="escape"),n.pos=c+1,!0}},1783:function(n){"use strict";n.exports=function(n){var e,t,r=0,o=n.tokens,a=n.tokens.length;for(e=t=0;e<a;e++)o[e].nesting<0&&r--,o[e].level=r,o[e].nesting>0&&r++,"text"===o[e].type&&e+1<a&&"text"===o[e+1].type?o[e+1].content=o[e].content+o[e+1].content:(e!==t&&(o[t]=o[e]),t++);e!==t&&(o.length=t)}},8286:function(n,e,t){"use strict";var r=t(5850).n;n.exports=function(n,e){var t,o,a,i,s,l=n.pos;return!!n.md.options.html&&(a=n.posMax,!(60!==n.src.charCodeAt(l)||l+2>=a)&&(!(33!==(t=n.src.charCodeAt(l+1))&&63!==t&&47!==t&&!function(n){var e=32|n;return e>=97&&e<=122}(t))&&(!!(o=n.src.slice(l).match(r))&&(e||((i=n.push("html_inline","",0)).content=n.src.slice(l,l+o[0].length),s=i.content,/^<a[>\s]/i.test(s)&&n.linkLevel++,function(n){return/^<\/a\s*>/i.test(n)}(i.content)&&n.linkLevel--),n.pos+=o[0].length,!0))))}},1677:function(n,e,t){"use strict";var r=t(786).normalizeReference,o=t(786).isSpace;n.exports=function(n,e){var t,a,i,s,l,c,u,d,p,f,m,h,g,y="",b=n.pos,v=n.posMax;if(33!==n.src.charCodeAt(n.pos))return!1;if(91!==n.src.charCodeAt(n.pos+1))return!1;if(c=n.pos+2,(l=n.md.helpers.parseLinkLabel(n,n.pos+1,!1))<0)return!1;if((u=l+1)<v&&40===n.src.charCodeAt(u)){for(u++;u<v&&(a=n.src.charCodeAt(u),o(a)||10===a);u++);if(u>=v)return!1;for(g=u,(p=n.md.helpers.parseLinkDestination(n.src,u,n.posMax)).ok&&(y=n.md.normalizeLink(p.str),n.md.validateLink(y)?u=p.pos:y=""),g=u;u<v&&(a=n.src.charCodeAt(u),o(a)||10===a);u++);if(p=n.md.helpers.parseLinkTitle(n.src,u,n.posMax),u<v&&g!==u&&p.ok)for(f=p.str,u=p.pos;u<v&&(a=n.src.charCodeAt(u),o(a)||10===a);u++);else f="";if(u>=v||41!==n.src.charCodeAt(u))return n.pos=b,!1;u++}else{if("undefined"===typeof n.env.references)return!1;if(u<v&&91===n.src.charCodeAt(u)?(g=u+1,(u=n.md.helpers.parseLinkLabel(n,u))>=0?s=n.src.slice(g,u++):u=l+1):u=l+1,s||(s=n.src.slice(c,l)),!(d=n.env.references[r(s)]))return n.pos=b,!1;y=d.href,f=d.title}return e||(i=n.src.slice(c,l),n.md.inline.parse(i,n.md,n.env,h=[]),(m=n.push("image","img",0)).attrs=t=[["src",y],["alt",""]],m.children=h,m.content=i,f&&t.push(["title",f])),n.pos=u,n.posMax=v,!0}},9384:function(n,e,t){"use strict";var r=t(786).normalizeReference,o=t(786).isSpace;n.exports=function(n,e){var t,a,i,s,l,c,u,d,p="",f="",m=n.pos,h=n.posMax,g=n.pos,y=!0;if(91!==n.src.charCodeAt(n.pos))return!1;if(l=n.pos+1,(s=n.md.helpers.parseLinkLabel(n,n.pos,!0))<0)return!1;if((c=s+1)<h&&40===n.src.charCodeAt(c)){for(y=!1,c++;c<h&&(a=n.src.charCodeAt(c),o(a)||10===a);c++);if(c>=h)return!1;if(g=c,(u=n.md.helpers.parseLinkDestination(n.src,c,n.posMax)).ok){for(p=n.md.normalizeLink(u.str),n.md.validateLink(p)?c=u.pos:p="",g=c;c<h&&(a=n.src.charCodeAt(c),o(a)||10===a);c++);if(u=n.md.helpers.parseLinkTitle(n.src,c,n.posMax),c<h&&g!==c&&u.ok)for(f=u.str,c=u.pos;c<h&&(a=n.src.charCodeAt(c),o(a)||10===a);c++);}(c>=h||41!==n.src.charCodeAt(c))&&(y=!0),c++}if(y){if("undefined"===typeof n.env.references)return!1;if(c<h&&91===n.src.charCodeAt(c)?(g=c+1,(c=n.md.helpers.parseLinkLabel(n,c))>=0?i=n.src.slice(g,c++):c=s+1):c=s+1,i||(i=n.src.slice(l,s)),!(d=n.env.references[r(i)]))return n.pos=m,!1;p=d.href,f=d.title}return e||(n.pos=l,n.posMax=s,n.push("link_open","a",1).attrs=t=[["href",p]],f&&t.push(["title",f]),n.linkLevel++,n.md.inline.tokenize(n),n.linkLevel--,n.push("link_close","a",-1)),n.pos=c,n.posMax=h,!0}},7697:function(n){"use strict";var e=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;n.exports=function(n,t){var r,o,a,i,s,l,c;return!!n.md.options.linkify&&(!(n.linkLevel>0)&&(!((r=n.pos)+3>n.posMax)&&(58===n.src.charCodeAt(r)&&(47===n.src.charCodeAt(r+1)&&(47===n.src.charCodeAt(r+2)&&(!!(o=n.pending.match(e))&&(a=o[1],!!(i=n.md.linkify.matchAtStart(n.src.slice(r-a.length)))&&(s=(s=i.url).replace(/\*+$/,""),l=n.md.normalizeLink(s),!!n.md.validateLink(l)&&(t||(n.pending=n.pending.slice(0,-a.length),(c=n.push("link_open","a",1)).attrs=[["href",l]],c.markup="linkify",c.info="auto",(c=n.push("text","",0)).content=n.md.normalizeLinkText(s),(c=n.push("link_close","a",-1)).markup="linkify",c.info="auto"),n.pos+=s.length-a.length,!0)))))))))}},6179:function(n,e,t){"use strict";var r=t(786).isSpace;n.exports=function(n,e){var t,o,a,i=n.pos;if(10!==n.src.charCodeAt(i))return!1;if(t=n.pending.length-1,o=n.posMax,!e)if(t>=0&&32===n.pending.charCodeAt(t))if(t>=1&&32===n.pending.charCodeAt(t-1)){for(a=t-1;a>=1&&32===n.pending.charCodeAt(a-1);)a--;n.pending=n.pending.slice(0,a),n.push("hardbreak","br",0)}else n.pending=n.pending.slice(0,-1),n.push("softbreak","br",0);else n.push("softbreak","br",0);for(i++;i<o&&r(n.src.charCodeAt(i));)i++;return n.pos=i,!0}},9402:function(n,e,t){"use strict";var r=t(596),o=t(786).isWhiteSpace,a=t(786).isPunctChar,i=t(786).isMdAsciiPunct;function s(n,e,t,r){this.src=n,this.env=t,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}s.prototype.pushPending=function(){var n=new r("text","",0);return n.content=this.pending,n.level=this.pendingLevel,this.tokens.push(n),this.pending="",n},s.prototype.push=function(n,e,t){this.pending&&this.pushPending();var o=new r(n,e,t),a=null;return t<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,t>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],a={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(a),o},s.prototype.scanDelims=function(n,e){var t,r,s,l,c,u,d,p,f,m=n,h=!0,g=!0,y=this.posMax,b=this.src.charCodeAt(n);for(t=n>0?this.src.charCodeAt(n-1):32;m<y&&this.src.charCodeAt(m)===b;)m++;return s=m-n,r=m<y?this.src.charCodeAt(m):32,d=i(t)||a(String.fromCharCode(t)),f=i(r)||a(String.fromCharCode(r)),u=o(t),(p=o(r))?h=!1:f&&(u||d||(h=!1)),u?g=!1:d&&(p||f||(g=!1)),e?(l=h,c=g):(l=h&&(!g||d),c=g&&(!h||f)),{can_open:l,can_close:c,length:s}},s.prototype.Token=r,n.exports=s},333:function(n){"use strict";function e(n,e){var t,r,o,a,i,s=[],l=e.length;for(t=0;t<l;t++)126===(o=e[t]).marker&&-1!==o.end&&(a=e[o.end],(i=n.tokens[o.token]).type="s_open",i.tag="s",i.nesting=1,i.markup="~~",i.content="",(i=n.tokens[a.token]).type="s_close",i.tag="s",i.nesting=-1,i.markup="~~",i.content="","text"===n.tokens[a.token-1].type&&"~"===n.tokens[a.token-1].content&&s.push(a.token-1));for(;s.length;){for(r=(t=s.pop())+1;r<n.tokens.length&&"s_close"===n.tokens[r].type;)r++;t!==--r&&(i=n.tokens[r],n.tokens[r]=n.tokens[t],n.tokens[t]=i)}}n.exports.w=function(n,e){var t,r,o,a,i=n.pos,s=n.src.charCodeAt(i);if(e)return!1;if(126!==s)return!1;if(o=(r=n.scanDelims(n.pos,!0)).length,a=String.fromCharCode(s),o<2)return!1;for(o%2&&(n.push("text","",0).content=a,o--),t=0;t<o;t+=2)n.push("text","",0).content=a+a,n.delimiters.push({marker:s,length:0,token:n.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return n.pos+=r.length,!0},n.exports.g=function(n){var t,r=n.tokens_meta,o=n.tokens_meta.length;for(e(n,n.delimiters),t=0;t<o;t++)r[t]&&r[t].delimiters&&e(n,r[t].delimiters)}},6537:function(n){"use strict";function e(n){switch(n){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}n.exports=function(n,t){for(var r=n.pos;r<n.posMax&&!e(n.src.charCodeAt(r));)r++;return r!==n.pos&&(t||(n.pending+=n.src.slice(n.pos,r)),n.pos=r,!0)}},596:function(n){"use strict";function e(n,e,t){this.type=n,this.tag=e,this.attrs=null,this.map=null,this.nesting=t,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}e.prototype.attrIndex=function(n){var e,t,r;if(!this.attrs)return-1;for(t=0,r=(e=this.attrs).length;t<r;t++)if(e[t][0]===n)return t;return-1},e.prototype.attrPush=function(n){this.attrs?this.attrs.push(n):this.attrs=[n]},e.prototype.attrSet=function(n,e){var t=this.attrIndex(n),r=[n,e];t<0?this.attrPush(r):this.attrs[t]=r},e.prototype.attrGet=function(n){var e=this.attrIndex(n),t=null;return e>=0&&(t=this.attrs[e][1]),t},e.prototype.attrJoin=function(n,e){var t=this.attrIndex(n);t<0?this.attrPush([n,e]):this.attrs[t][1]=this.attrs[t][1]+" "+e},n.exports=e},6762:function(n){"use strict";var e={};function t(n,r){var o;return"string"!==typeof r&&(r=t.defaultChars),o=function(n){var t,r,o=e[n];if(o)return o;for(o=e[n]=[],t=0;t<128;t++)r=String.fromCharCode(t),o.push(r);for(t=0;t<n.length;t++)o[r=n.charCodeAt(t)]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return o}(r),n.replace(/(%[a-f0-9]{2})+/gi,(function(n){var e,t,r,a,i,s,l,c="";for(e=0,t=n.length;e<t;e+=3)(r=parseInt(n.slice(e+1,e+3),16))<128?c+=o[r]:192===(224&r)&&e+3<t&&128===(192&(a=parseInt(n.slice(e+4,e+6),16)))?(c+=(l=r<<6&1984|63&a)<128?"\ufffd\ufffd":String.fromCharCode(l),e+=3):224===(240&r)&&e+6<t&&(a=parseInt(n.slice(e+4,e+6),16),i=parseInt(n.slice(e+7,e+9),16),128===(192&a)&&128===(192&i))?(c+=(l=r<<12&61440|a<<6&4032|63&i)<2048||l>=55296&&l<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(l),e+=6):240===(248&r)&&e+9<t&&(a=parseInt(n.slice(e+4,e+6),16),i=parseInt(n.slice(e+7,e+9),16),s=parseInt(n.slice(e+10,e+12),16),128===(192&a)&&128===(192&i)&&128===(192&s))?((l=r<<18&1835008|a<<12&258048|i<<6&4032|63&s)<65536||l>1114111?c+="\ufffd\ufffd\ufffd\ufffd":(l-=65536,c+=String.fromCharCode(55296+(l>>10),56320+(1023&l))),e+=9):c+="\ufffd";return c}))}t.defaultChars=";/?:@&=+$,#",t.componentChars="",n.exports=t},2366:function(n){"use strict";var e={};function t(n,r,o){var a,i,s,l,c,u="";for("string"!==typeof r&&(o=r,r=t.defaultChars),"undefined"===typeof o&&(o=!0),c=function(n){var t,r,o=e[n];if(o)return o;for(o=e[n]=[],t=0;t<128;t++)r=String.fromCharCode(t),/^[0-9a-z]$/i.test(r)?o.push(r):o.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<n.length;t++)o[n.charCodeAt(t)]=n[t];return o}(r),a=0,i=n.length;a<i;a++)if(s=n.charCodeAt(a),o&&37===s&&a+2<i&&/^[0-9a-f]{2}$/i.test(n.slice(a+1,a+3)))u+=n.slice(a,a+3),a+=2;else if(s<128)u+=c[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&a+1<i&&(l=n.charCodeAt(a+1))>=56320&&l<=57343){u+=encodeURIComponent(n[a]+n[a+1]),a++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(n[a]);return u}t.defaultChars=";/?:@&=+$,-_.!~*'()#",t.componentChars="-_.!~*'()",n.exports=t},835:function(n){"use strict";n.exports=function(n){var e="";return e+=n.protocol||"",e+=n.slashes?"//":"",e+=n.auth?n.auth+"@":"",n.hostname&&-1!==n.hostname.indexOf(":")?e+="["+n.hostname+"]":e+=n.hostname||"",e+=n.port?":"+n.port:"",e+=n.pathname||"",e+=n.search||"",e+=n.hash||""}},3461:function(n,e,t){"use strict";n.exports.encode=t(2366),n.exports.decode=t(6762),n.exports.format=t(835),n.exports.parse=t(9944)},9944:function(n){"use strict";function e(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var t=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),i=["'"].concat(a),s=["%","/","?",";","#"].concat(i),l=["/","?","#"],c=/^[+a-z0-9A-Z_-]{0,63}$/,u=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};e.prototype.parse=function(n,e){var r,a,i,f,m,h=n;if(h=h.trim(),!e&&1===n.split("#").length){var g=o.exec(h);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var y=t.exec(h);if(y&&(i=(y=y[0]).toLowerCase(),this.protocol=y,h=h.substr(y.length)),(e||y||h.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(m="//"===h.substr(0,2))||y&&d[y]||(h=h.substr(2),this.slashes=!0)),!d[y]&&(m||y&&!p[y])){var b,v,x=-1;for(r=0;r<l.length;r++)-1!==(f=h.indexOf(l[r]))&&(-1===x||f<x)&&(x=f);for(-1!==(v=-1===x?h.lastIndexOf("@"):h.lastIndexOf("@",x))&&(b=h.slice(0,v),h=h.slice(v+1),this.auth=b),x=-1,r=0;r<s.length;r++)-1!==(f=h.indexOf(s[r]))&&(-1===x||f<x)&&(x=f);-1===x&&(x=h.length),":"===h[x-1]&&x--;var w=h.slice(0,x);h=h.slice(x),this.parseHost(w),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k){var S=this.hostname.split(/\./);for(r=0,a=S.length;r<a;r++){var _=S[r];if(_&&!_.match(c)){for(var E="",C=0,N=_.length;C<N;C++)_.charCodeAt(C)>127?E+="x":E+=_[C];if(!E.match(c)){var T=S.slice(0,r),q=S.slice(r+1),A=_.match(u);A&&(T.push(A[1]),q.unshift(A[2])),q.length&&(h=q.join(".")+h),this.hostname=T.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var L=h.indexOf("#");-1!==L&&(this.hash=h.substr(L),h=h.slice(0,L));var j=h.indexOf("?");return-1!==j&&(this.search=h.substr(j),h=h.slice(0,j)),h&&(this.pathname=h),p[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},e.prototype.parseHost=function(n){var e=r.exec(n);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),n=n.substr(0,n.length-e.length)),n&&(this.hostname=n)},n.exports=function(n,t){if(n&&n instanceof e)return n;var r=new e;return r.parse(n,t),r}},6293:function(n,e,t){"use strict";t.r(e),t.d(e,{decode:function(){return v},encode:function(){return x},toASCII:function(){return k},toUnicode:function(){return w},ucs2decode:function(){return h},ucs2encode:function(){return g}});var r=t(7762),o=t(3433),a=2147483647,i=36,s=/^xn--/,l=/[^\0-\x7F]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function f(n){throw new RangeError(u[n])}function m(n,e){var t=n.split("@"),r="";t.length>1&&(r=t[0]+"@",n=t[1]);var o=function(n,e){for(var t=[],r=n.length;r--;)t[r]=e(n[r]);return t}((n=n.replace(c,".")).split("."),e).join(".");return r+o}function h(n){for(var e=[],t=0,r=n.length;t<r;){var o=n.charCodeAt(t++);if(o>=55296&&o<=56319&&t<r){var a=n.charCodeAt(t++);56320==(64512&a)?e.push(((1023&o)<<10)+(1023&a)+65536):(e.push(o),t--)}else e.push(o)}return e}var g=function(n){return String.fromCodePoint.apply(String,(0,o.Z)(n))},y=function(n,e){return n+22+75*(n<26)-((0!=e)<<5)},b=function(n,e,t){var r=0;for(n=t?d(n/700):n>>1,n+=d(n/e);n>455;r+=i)n=d(n/35);return d(r+36*n/(n+38))},v=function(n){var e,t=[],r=n.length,o=0,s=128,l=72,c=n.lastIndexOf("-");c<0&&(c=0);for(var u=0;u<c;++u)n.charCodeAt(u)>=128&&f("not-basic"),t.push(n.charCodeAt(u));for(var p=c>0?c+1:0;p<r;){for(var m=o,h=1,g=i;;g+=i){p>=r&&f("invalid-input");var y=(e=n.charCodeAt(p++))>=48&&e<58?e-48+26:e>=65&&e<91?e-65:e>=97&&e<123?e-97:i;y>=i&&f("invalid-input"),y>d((a-o)/h)&&f("overflow"),o+=y*h;var v=g<=l?1:g>=l+26?26:g-l;if(y<v)break;var x=i-v;h>d(a/x)&&f("overflow"),h*=x}var w=t.length+1;l=b(o-m,w,0==m),d(o/w)>a-s&&f("overflow"),s+=d(o/w),o%=w,t.splice(o++,0,s)}return String.fromCodePoint.apply(String,t)},x=function(n){var e,t=[],o=(n=h(n)).length,s=128,l=0,c=72,u=(0,r.Z)(n);try{for(u.s();!(e=u.n()).done;){var m=e.value;m<128&&t.push(p(m))}}catch(P){u.e(P)}finally{u.f()}var g=t.length,v=g;for(g&&t.push("-");v<o;){var x,w=a,k=(0,r.Z)(n);try{for(k.s();!(x=k.n()).done;){var S=x.value;S>=s&&S<w&&(w=S)}}catch(P){k.e(P)}finally{k.f()}var _=v+1;w-s>d((a-l)/_)&&f("overflow"),l+=(w-s)*_,s=w;var E,C=(0,r.Z)(n);try{for(C.s();!(E=C.n()).done;){var N=E.value;if(N<s&&++l>a&&f("overflow"),N===s){for(var T=l,q=i;;q+=i){var A=q<=c?1:q>=c+26?26:q-c;if(T<A)break;var L=T-A,j=i-A;t.push(p(y(A+L%j,0))),T=d(L/j)}t.push(p(y(T,0))),c=b(l,_,v===g),l=0,++v}}}catch(P){C.e(P)}finally{C.f()}++l,++s}return t.join("")},w=function(n){return m(n,(function(n){return s.test(n)?v(n.slice(4).toLowerCase()):n}))},k=function(n){return m(n,(function(n){return l.test(n)?"xn--"+x(n):n}))},S={version:"2.1.0",ucs2:{decode:h,encode:g},decode:v,encode:x,toASCII:k,toUnicode:w};e.default=S},4463:function(n,e,t){"use strict";var r=t(2791),o=t(5296);function a(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(n,e){c(n,e),c(n+"Capture",e)}function c(n,e){for(s[n]=e,n=0;n<e.length;n++)i.add(e[n])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function h(n,e,t,r,o,a,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(n){g[n]=new h(n,0,!1,n,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(n){var e=n[0];g[e]=new h(e,1,!1,n[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(n){g[n]=new h(n,2,!1,n.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(n){g[n]=new h(n,2,!1,n,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(n){g[n]=new h(n,3,!1,n.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(n){g[n]=new h(n,3,!0,n,null,!1,!1)})),["capture","download"].forEach((function(n){g[n]=new h(n,4,!1,n,null,!1,!1)})),["cols","rows","size","span"].forEach((function(n){g[n]=new h(n,6,!1,n,null,!1,!1)})),["rowSpan","start"].forEach((function(n){g[n]=new h(n,5,!1,n.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(n){return n[1].toUpperCase()}function v(n,e,t,r){var o=g.hasOwnProperty(e)?g[e]:null;(null!==o?0!==o.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(n,e,t,r){if(null===e||"undefined"===typeof e||function(n,e,t,r){if(null!==t&&0===t.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==t?!t.acceptsBooleans:"data-"!==(n=n.toLowerCase().slice(0,5))&&"aria-"!==n);default:return!1}}(n,e,t,r))return!0;if(r)return!1;if(null!==t)switch(t.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,t,o,r)&&(t=null),r||null===o?function(n){return!!d.call(m,n)||!d.call(f,n)&&(p.test(n)?m[n]=!0:(f[n]=!0,!1))}(e)&&(null===t?n.removeAttribute(e):n.setAttribute(e,""+t)):o.mustUseProperty?n[o.propertyName]=null===t?3!==o.type&&"":t:(e=o.attributeName,r=o.attributeNamespace,null===t?n.removeAttribute(e):(t=3===(o=o.type)||4===o&&!0===t?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(n){var e=n.replace(y,b);g[e]=new h(e,1,!1,n,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(n){var e=n.replace(y,b);g[e]=new h(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(n){var e=n.replace(y,b);g[e]=new h(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(n){g[n]=new h(n,1,!1,n.toLowerCase(),null,!1,!1)})),g.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(n){g[n]=new h(n,1,!1,n.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(n){return null===n||"object"!==typeof n?null:"function"===typeof(n=O&&n[O]||n["@@iterator"])?n:null}var I,D=Object.assign;function R(n){if(void 0===I)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);I=e&&e[1]||""}return"\n"+I+n}var F=!1;function B(n,e){if(!n||F)return"";F=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s]){var l="\n"+o[i].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}}while(1<=i&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?R(n):""}function z(n){switch(n.tag){case 5:return R(n.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return n=B(n.type,!1);case 11:return n=B(n.type.render,!1);case 1:return n=B(n.type,!0);default:return""}}function U(n){if(null==n)return null;if("function"===typeof n)return n.displayName||n.name||null;if("string"===typeof n)return n;switch(n){case S:return"Fragment";case k:return"Portal";case E:return"Profiler";case _:return"StrictMode";case q:return"Suspense";case A:return"SuspenseList"}if("object"===typeof n)switch(n.$$typeof){case N:return(n.displayName||"Context")+".Consumer";case C:return(n._context.displayName||"Context")+".Provider";case T:var e=n.render;return(n=n.displayName)||(n=""!==(n=e.displayName||e.name||"")?"ForwardRef("+n+")":"ForwardRef"),n;case L:return null!==(e=n.displayName||null)?e:U(n.type)||"Memo";case j:e=n._payload,n=n._init;try{return U(n(e))}catch(t){}}return null}function H(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=(n=e.render).displayName||n.name||"",e.displayName||(""!==n?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(e);case 8:return e===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function G(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":case"object":return n;default:return""}}function V(n){var e=n.type;return(n=n.nodeName)&&"input"===n.toLowerCase()&&("checkbox"===e||"radio"===e)}function J(n){n._valueTracker||(n._valueTracker=function(n){var e=V(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&"undefined"!==typeof t&&"function"===typeof t.get&&"function"===typeof t.set){var o=t.get,a=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return o.call(this)},set:function(n){r=""+n,a.call(this,n)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(n){r=""+n},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}(n))}function W(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=V(n)?n.checked?"true":"false":n.value),(n=r)!==t&&(e.setValue(n),!0)}function Q(n){if("undefined"===typeof(n=n||("undefined"!==typeof document?document:void 0)))return null;try{return n.activeElement||n.body}catch(e){return n.body}}function K(n,e){var t=e.checked;return D({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:n._wrapperState.initialChecked})}function $(n,e){var t=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;t=G(null!=e.value?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(n,e){null!=(e=e.checked)&&v(n,"checked",e,!1)}function Z(n,e){X(n,e);var t=G(e.value),r=e.type;if(null!=t)"number"===r?(0===t&&""===n.value||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if("submit"===r||"reset"===r)return void n.removeAttribute("value");e.hasOwnProperty("value")?nn(n,e.type,t):e.hasOwnProperty("defaultValue")&&nn(n,e.type,G(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(n.defaultChecked=!!e.defaultChecked)}function Y(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}""!==(t=n.name)&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,""!==t&&(n.name=t)}function nn(n,e,t){"number"===e&&Q(n.ownerDocument)===n||(null==t?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var en=Array.isArray;function tn(n,e,t,r){if(n=n.options,e){e={};for(var o=0;o<t.length;o++)e["$"+t[o]]=!0;for(t=0;t<n.length;t++)o=e.hasOwnProperty("$"+n[t].value),n[t].selected!==o&&(n[t].selected=o),o&&r&&(n[t].defaultSelected=!0)}else{for(t=""+G(t),e=null,o=0;o<n.length;o++){if(n[o].value===t)return n[o].selected=!0,void(r&&(n[o].defaultSelected=!0));null!==e||n[o].disabled||(e=n[o])}null!==e&&(e.selected=!0)}}function rn(n,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return D({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function on(n,e){var t=e.value;if(null==t){if(t=e.children,e=e.defaultValue,null!=t){if(null!=e)throw Error(a(92));if(en(t)){if(1<t.length)throw Error(a(93));t=t[0]}e=t}null==e&&(e=""),t=e}n._wrapperState={initialValue:G(t)}}function an(n,e){var t=G(e.value),r=G(e.defaultValue);null!=t&&((t=""+t)!==n.value&&(n.value=t),null==e.defaultValue&&n.defaultValue!==t&&(n.defaultValue=t)),null!=r&&(n.defaultValue=""+r)}function sn(n){var e=n.textContent;e===n._wrapperState.initialValue&&""!==e&&null!==e&&(n.value=e)}function ln(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cn(n,e){return null==n||"http://www.w3.org/1999/xhtml"===n?ln(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n}var un,dn,pn=(dn=function(n,e){if("http://www.w3.org/2000/svg"!==n.namespaceURI||"innerHTML"in n)n.innerHTML=e;else{for((un=un||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=un.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(n,e,t,r){MSApp.execUnsafeLocalFunction((function(){return dn(n,e)}))}:dn);function fn(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&3===t.nodeType)return void(t.nodeValue=e)}n.textContent=e}var mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hn=["Webkit","ms","Moz","O"];function gn(n,e,t){return null==e||"boolean"===typeof e||""===e?"":t||"number"!==typeof e||0===e||mn.hasOwnProperty(n)&&mn[n]?(""+e).trim():e+"px"}function yn(n,e){for(var t in n=n.style,e)if(e.hasOwnProperty(t)){var r=0===t.indexOf("--"),o=gn(t,e[t],r);"float"===t&&(t="cssFloat"),r?n.setProperty(t,o):n[t]=o}}Object.keys(mn).forEach((function(n){hn.forEach((function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),mn[e]=mn[n]}))}));var bn=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vn(n,e){if(e){if(bn[n]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,n));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function xn(n,e){if(-1===n.indexOf("-"))return"string"===typeof e.is;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wn=null;function kn(n){return(n=n.target||n.srcElement||window).correspondingUseElement&&(n=n.correspondingUseElement),3===n.nodeType?n.parentNode:n}var Sn=null,_n=null,En=null;function Cn(n){if(n=xo(n)){if("function"!==typeof Sn)throw Error(a(280));var e=n.stateNode;e&&(e=ko(e),Sn(n.stateNode,n.type,e))}}function Nn(n){_n?En?En.push(n):En=[n]:_n=n}function Tn(){if(_n){var n=_n,e=En;if(En=_n=null,Cn(n),e)for(n=0;n<e.length;n++)Cn(e[n])}}function qn(n,e){return n(e)}function An(){}var Ln=!1;function jn(n,e,t){if(Ln)return n(e,t);Ln=!0;try{return qn(n,e,t)}finally{Ln=!1,(null!==_n||null!==En)&&(An(),Tn())}}function Pn(n,e){var t=n.stateNode;if(null===t)return null;var r=ko(t);if(null===r)return null;t=r[e];n:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(n=n.type)||"input"===n||"select"===n||"textarea"===n)),n=!r;break n;default:n=!1}if(n)return null;if(t&&"function"!==typeof t)throw Error(a(231,e,typeof t));return t}var On=!1;if(u)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){On=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch(dn){On=!1}function In(n,e,t,r,o,a,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Dn=!1,Rn=null,Fn=!1,Bn=null,zn={onError:function(n){Dn=!0,Rn=n}};function Un(n,e,t,r,o,a,i,s,l){Dn=!1,Rn=null,In.apply(zn,arguments)}function Hn(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do{0!==(4098&(e=n).flags)&&(t=e.return),n=e.return}while(n)}return 3===e.tag?t:null}function Gn(n){if(13===n.tag){var e=n.memoizedState;if(null===e&&(null!==(n=n.alternate)&&(e=n.memoizedState)),null!==e)return e.dehydrated}return null}function Vn(n){if(Hn(n)!==n)throw Error(a(188))}function Jn(n){return null!==(n=function(n){var e=n.alternate;if(!e){if(null===(e=Hn(n)))throw Error(a(188));return e!==n?null:n}for(var t=n,r=e;;){var o=t.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){t=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===t)return Vn(o),n;if(i===r)return Vn(o),e;i=i.sibling}throw Error(a(188))}if(t.return!==r.return)t=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===t){s=!0,t=o,r=i;break}if(l===r){s=!0,r=o,t=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===t){s=!0,t=i,r=o;break}if(l===r){s=!0,r=i,t=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(t.alternate!==r)throw Error(a(190))}if(3!==t.tag)throw Error(a(188));return t.stateNode.current===t?n:e}(n))?Wn(n):null}function Wn(n){if(5===n.tag||6===n.tag)return n;for(n=n.child;null!==n;){var e=Wn(n);if(null!==e)return e;n=n.sibling}return null}var Qn=o.unstable_scheduleCallback,Kn=o.unstable_cancelCallback,$n=o.unstable_shouldYield,Xn=o.unstable_requestPaint,Zn=o.unstable_now,Yn=o.unstable_getCurrentPriorityLevel,ne=o.unstable_ImmediatePriority,ee=o.unstable_UserBlockingPriority,te=o.unstable_NormalPriority,re=o.unstable_LowPriority,oe=o.unstable_IdlePriority,ae=null,ie=null;var se=Math.clz32?Math.clz32:function(n){return n>>>=0,0===n?32:31-(le(n)/ce|0)|0},le=Math.log,ce=Math.LN2;var ue=64,de=4194304;function pe(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&n;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&n;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function fe(n,e){var t=n.pendingLanes;if(0===t)return 0;var r=0,o=n.suspendedLanes,a=n.pingedLanes,i=268435455&t;if(0!==i){var s=i&~o;0!==s?r=pe(s):0!==(a&=i)&&(r=pe(a))}else 0!==(i=t&~o)?r=pe(i):0!==a&&(r=pe(a));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&o)&&((o=r&-r)>=(a=e&-e)||16===o&&0!==(4194240&a)))return e;if(0!==(4&r)&&(r|=16&t),0!==(e=n.entangledLanes))for(n=n.entanglements,e&=r;0<e;)o=1<<(t=31-se(e)),r|=n[t],e&=~o;return r}function me(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function he(n){return 0!==(n=-1073741825&n.pendingLanes)?n:1073741824&n?1073741824:0}function ge(){var n=ue;return 0===(4194240&(ue<<=1))&&(ue=64),n}function ye(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function be(n,e,t){n.pendingLanes|=e,536870912!==e&&(n.suspendedLanes=0,n.pingedLanes=0),(n=n.eventTimes)[e=31-se(e)]=t}function ve(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-se(t),o=1<<r;o&e|n[r]&e&&(n[r]|=e),t&=~o}}var xe=0;function we(n){return 1<(n&=-n)?4<n?0!==(268435455&n)?16:536870912:4:1}var ke,Se,_e,Ee,Ce,Ne=!1,Te=[],qe=null,Ae=null,Le=null,je=new Map,Pe=new Map,Oe=[],Me="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ie(n,e){switch(n){case"focusin":case"focusout":qe=null;break;case"dragenter":case"dragleave":Ae=null;break;case"mouseover":case"mouseout":Le=null;break;case"pointerover":case"pointerout":je.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pe.delete(e.pointerId)}}function De(n,e,t,r,o,a){return null===n||n.nativeEvent!==a?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==e&&(null!==(e=xo(e))&&Se(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,null!==o&&-1===e.indexOf(o)&&e.push(o),n)}function Re(n){var e=vo(n.target);if(null!==e){var t=Hn(e);if(null!==t)if(13===(e=t.tag)){if(null!==(e=Gn(t)))return n.blockedOn=e,void Ce(n.priority,(function(){_e(t)}))}else if(3===e&&t.stateNode.current.memoizedState.isDehydrated)return void(n.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}n.blockedOn=null}function Fe(n){if(null!==n.blockedOn)return!1;for(var e=n.targetContainers;0<e.length;){var t=$e(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(null!==t)return null!==(e=xo(t))&&Se(e),n.blockedOn=t,!1;var r=new(t=n.nativeEvent).constructor(t.type,t);wn=r,t.target.dispatchEvent(r),wn=null,e.shift()}return!0}function Be(n,e,t){Fe(n)&&t.delete(e)}function ze(){Ne=!1,null!==qe&&Fe(qe)&&(qe=null),null!==Ae&&Fe(Ae)&&(Ae=null),null!==Le&&Fe(Le)&&(Le=null),je.forEach(Be),Pe.forEach(Be)}function Ue(n,e){n.blockedOn===e&&(n.blockedOn=null,Ne||(Ne=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,ze)))}function He(n){function e(e){return Ue(e,n)}if(0<Te.length){Ue(Te[0],n);for(var t=1;t<Te.length;t++){var r=Te[t];r.blockedOn===n&&(r.blockedOn=null)}}for(null!==qe&&Ue(qe,n),null!==Ae&&Ue(Ae,n),null!==Le&&Ue(Le,n),je.forEach(e),Pe.forEach(e),t=0;t<Oe.length;t++)(r=Oe[t]).blockedOn===n&&(r.blockedOn=null);for(;0<Oe.length&&null===(t=Oe[0]).blockedOn;)Re(t),null===t.blockedOn&&Oe.shift()}var Ge=x.ReactCurrentBatchConfig,Ve=!0;function Je(n,e,t,r){var o=xe,a=Ge.transition;Ge.transition=null;try{xe=1,Qe(n,e,t,r)}finally{xe=o,Ge.transition=a}}function We(n,e,t,r){var o=xe,a=Ge.transition;Ge.transition=null;try{xe=4,Qe(n,e,t,r)}finally{xe=o,Ge.transition=a}}function Qe(n,e,t,r){if(Ve){var o=$e(n,e,t,r);if(null===o)Gr(n,e,r,Ke,t),Ie(n,r);else if(function(n,e,t,r,o){switch(e){case"focusin":return qe=De(qe,n,e,t,r,o),!0;case"dragenter":return Ae=De(Ae,n,e,t,r,o),!0;case"mouseover":return Le=De(Le,n,e,t,r,o),!0;case"pointerover":var a=o.pointerId;return je.set(a,De(je.get(a)||null,n,e,t,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Pe.set(a,De(Pe.get(a)||null,n,e,t,r,o)),!0}return!1}(o,n,e,t,r))r.stopPropagation();else if(Ie(n,r),4&e&&-1<Me.indexOf(n)){for(;null!==o;){var a=xo(o);if(null!==a&&ke(a),null===(a=$e(n,e,t,r))&&Gr(n,e,r,Ke,t),a===o)break;o=a}null!==o&&r.stopPropagation()}else Gr(n,e,r,null,t)}}var Ke=null;function $e(n,e,t,r){if(Ke=null,null!==(n=vo(n=kn(r))))if(null===(e=Hn(n)))n=null;else if(13===(t=e.tag)){if(null!==(n=Gn(e)))return n;n=null}else if(3===t){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Ke=n,null}function Xe(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yn()){case ne:return 1;case ee:return 4;case te:case re:return 16;case oe:return 536870912;default:return 16}default:return 16}}var Ze=null,Ye=null,nt=null;function et(){if(nt)return nt;var n,e,t=Ye,r=t.length,o="value"in Ze?Ze.value:Ze.textContent,a=o.length;for(n=0;n<r&&t[n]===o[n];n++);var i=r-n;for(e=1;e<=i&&t[r-e]===o[a-e];e++);return nt=o.slice(n,1<e?1-e:void 0)}function tt(n){var e=n.keyCode;return"charCode"in n?0===(n=n.charCode)&&13===e&&(n=13):n=e,10===n&&(n=13),32<=n||13===n?n:0}function rt(){return!0}function ot(){return!1}function at(n){function e(e,t,r,o,a){for(var i in this._reactName=e,this._targetInst=r,this.type=t,this.nativeEvent=o,this.target=a,this.currentTarget=null,n)n.hasOwnProperty(i)&&(e=n[i],this[i]=e?e(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?rt:ot,this.isPropagationStopped=ot,this}return D(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():"unknown"!==typeof n.returnValue&&(n.returnValue=!1),this.isDefaultPrevented=rt)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():"unknown"!==typeof n.cancelBubble&&(n.cancelBubble=!0),this.isPropagationStopped=rt)},persist:function(){},isPersistent:rt}),e}var it,st,lt,ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ut=at(ct),dt=D({},ct,{view:0,detail:0}),pt=at(dt),ft=D({},dt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Et,button:0,buttons:0,relatedTarget:function(n){return void 0===n.relatedTarget?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==lt&&(lt&&"mousemove"===n.type?(it=n.screenX-lt.screenX,st=n.screenY-lt.screenY):st=it=0,lt=n),it)},movementY:function(n){return"movementY"in n?n.movementY:st}}),mt=at(ft),ht=at(D({},ft,{dataTransfer:0})),gt=at(D({},dt,{relatedTarget:0})),yt=at(D({},ct,{animationName:0,elapsedTime:0,pseudoElement:0})),bt=D({},ct,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vt=at(bt),xt=at(D({},ct,{data:0})),wt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},St={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _t(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):!!(n=St[n])&&!!e[n]}function Et(){return _t}var Ct=D({},dt,{key:function(n){if(n.key){var e=wt[n.key]||n.key;if("Unidentified"!==e)return e}return"keypress"===n.type?13===(n=tt(n))?"Enter":String.fromCharCode(n):"keydown"===n.type||"keyup"===n.type?kt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Et,charCode:function(n){return"keypress"===n.type?tt(n):0},keyCode:function(n){return"keydown"===n.type||"keyup"===n.type?n.keyCode:0},which:function(n){return"keypress"===n.type?tt(n):"keydown"===n.type||"keyup"===n.type?n.keyCode:0}}),Nt=at(Ct),Tt=at(D({},ft,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),qt=at(D({},dt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Et})),At=at(D({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0})),Lt=D({},ft,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),jt=at(Lt),Pt=[9,13,27,32],Ot=u&&"CompositionEvent"in window,Mt=null;u&&"documentMode"in document&&(Mt=document.documentMode);var It=u&&"TextEvent"in window&&!Mt,Dt=u&&(!Ot||Mt&&8<Mt&&11>=Mt),Rt=String.fromCharCode(32),Ft=!1;function Bt(n,e){switch(n){case"keyup":return-1!==Pt.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zt(n){return"object"===typeof(n=n.detail)&&"data"in n?n.data:null}var Ut=!1;var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return"input"===e?!!Ht[n.type]:"textarea"===e}function Vt(n,e,t,r){Nn(r),0<(e=Jr(e,"onChange")).length&&(t=new ut("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Jt=null,Wt=null;function Qt(n){Rr(n,0)}function Kt(n){if(W(wo(n)))return n}function $t(n,e){if("change"===n)return e}var Xt=!1;if(u){var Zt;if(u){var Yt="oninput"in document;if(!Yt){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),Yt="function"===typeof nr.oninput}Zt=Yt}else Zt=!1;Xt=Zt&&(!document.documentMode||9<document.documentMode)}function er(){Jt&&(Jt.detachEvent("onpropertychange",tr),Wt=Jt=null)}function tr(n){if("value"===n.propertyName&&Kt(Wt)){var e=[];Vt(e,Wt,n,kn(n)),jn(Qt,e)}}function rr(n,e,t){"focusin"===n?(er(),Wt=t,(Jt=e).attachEvent("onpropertychange",tr)):"focusout"===n&&er()}function or(n){if("selectionchange"===n||"keyup"===n||"keydown"===n)return Kt(Wt)}function ar(n,e){if("click"===n)return Kt(e)}function ir(n,e){if("input"===n||"change"===n)return Kt(e)}var sr="function"===typeof Object.is?Object.is:function(n,e){return n===e&&(0!==n||1/n===1/e)||n!==n&&e!==e};function lr(n,e){if(sr(n,e))return!0;if("object"!==typeof n||null===n||"object"!==typeof e||null===e)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var o=t[r];if(!d.call(e,o)||!sr(n[o],e[o]))return!1}return!0}function cr(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ur(n,e){var t,r=cr(n);for(n=0;r;){if(3===r.nodeType){if(t=n+r.textContent.length,n<=e&&t>=e)return{node:r,offset:e-n};n=t}n:{for(;r;){if(r.nextSibling){r=r.nextSibling;break n}r=r.parentNode}r=void 0}r=cr(r)}}function dr(n,e){return!(!n||!e)&&(n===e||(!n||3!==n.nodeType)&&(e&&3===e.nodeType?dr(n,e.parentNode):"contains"in n?n.contains(e):!!n.compareDocumentPosition&&!!(16&n.compareDocumentPosition(e))))}function pr(){for(var n=window,e=Q();e instanceof n.HTMLIFrameElement;){try{var t="string"===typeof e.contentWindow.location.href}catch(r){t=!1}if(!t)break;e=Q((n=e.contentWindow).document)}return e}function fr(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&("input"===e&&("text"===n.type||"search"===n.type||"tel"===n.type||"url"===n.type||"password"===n.type)||"textarea"===e||"true"===n.contentEditable)}function mr(n){var e=pr(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&dr(t.ownerDocument.documentElement,t)){if(null!==r&&fr(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var o=t.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!n.extend&&a>r&&(o=r,r=a,a=o),o=ur(t,a);var i=ur(t,r);o&&i&&(1!==n.rangeCount||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==i.node||n.focusOffset!==i.offset)&&((e=e.createRange()).setStart(o.node,o.offset),n.removeAllRanges(),a>r?(n.addRange(e),n.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var hr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,br=null,vr=!1;function xr(n,e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;vr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Jr(yr,"onSelect")).length&&(e=new ut("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=gr)))}function wr(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},_r={};function Er(n){if(Sr[n])return Sr[n];if(!kr[n])return n;var e,t=kr[n];for(e in t)if(t.hasOwnProperty(e)&&e in _r)return Sr[n]=t[e];return n}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Cr=Er("animationend"),Nr=Er("animationiteration"),Tr=Er("animationstart"),qr=Er("transitionend"),Ar=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(n,e){Ar.set(n,e),l(e,[n])}for(var Pr=0;Pr<Lr.length;Pr++){var Or=Lr[Pr];jr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}jr(Cr,"onAnimationEnd"),jr(Nr,"onAnimationIteration"),jr(Tr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(qr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Dr(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,function(n,e,t,r,o,i,s,l,c){if(Un.apply(this,arguments),Dn){if(!Dn)throw Error(a(198));var u=Rn;Dn=!1,Rn=null,Fn||(Fn=!0,Bn=u)}}(r,e,void 0,n),n.currentTarget=null}function Rr(n,e){e=0!==(4&e);for(var t=0;t<n.length;t++){var r=n[t],o=r.event;r=r.listeners;n:{var a=void 0;if(e)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break n;Dr(o,s,c),a=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break n;Dr(o,s,c),a=l}}}if(Fn)throw n=Bn,Fn=!1,Bn=null,n}function Fr(n,e){var t=e[go];void 0===t&&(t=e[go]=new Set);var r=n+"__bubble";t.has(r)||(Hr(e,n,2,!1),t.add(r))}function Br(n,e,t){var r=0;e&&(r|=4),Hr(t,n,r,e)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Ur(n){if(!n[zr]){n[zr]=!0,i.forEach((function(e){"selectionchange"!==e&&(Ir.has(e)||Br(e,!1,n),Br(e,!0,n))}));var e=9===n.nodeType?n:n.ownerDocument;null===e||e[zr]||(e[zr]=!0,Br("selectionchange",!1,e))}}function Hr(n,e,t,r){switch(Xe(e)){case 1:var o=Je;break;case 4:o=We;break;default:o=Qe}t=o.bind(null,e,t,n),o=void 0,!On||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(o=!0),r?void 0!==o?n.addEventListener(e,t,{capture:!0,passive:o}):n.addEventListener(e,t,!0):void 0!==o?n.addEventListener(e,t,{passive:o}):n.addEventListener(e,t,!1)}function Gr(n,e,t,r,o){var a=r;if(0===(1&e)&&0===(2&e)&&null!==r)n:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=vo(s)))return;if(5===(l=i.tag)||6===l){r=a=i;continue n}s=s.parentNode}}r=r.return}jn((function(){var r=a,o=kn(t),i=[];n:{var s=Ar.get(n);if(void 0!==s){var l=ut,c=n;switch(n){case"keypress":if(0===tt(t))break n;case"keydown":case"keyup":l=Nt;break;case"focusin":c="focus",l=gt;break;case"focusout":c="blur",l=gt;break;case"beforeblur":case"afterblur":l=gt;break;case"click":if(2===t.button)break n;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ht;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=qt;break;case Cr:case Nr:case Tr:l=yt;break;case qr:l=At;break;case"scroll":l=pt;break;case"wheel":l=jt;break;case"copy":case"cut":case"paste":l=vt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tt}var u=0!==(4&e),d=!u&&"scroll"===n,p=u?null!==s?s+"Capture":null:s;u=[];for(var f,m=r;null!==m;){var h=(f=m).stateNode;if(5===f.tag&&null!==h&&(f=h,null!==p&&(null!=(h=Pn(m,p))&&u.push(Vr(m,h,f)))),d)break;m=m.return}0<u.length&&(s=new l(s,c,null,t,o),i.push({event:s,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===n||"pointerout"===n,(!(s="mouseover"===n||"pointerover"===n)||t===wn||!(c=t.relatedTarget||t.fromElement)||!vo(c)&&!c[ho])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=t.relatedTarget||t.toElement)?vo(c):null)&&(c!==(d=Hn(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mt,h="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==n&&"pointerover"!==n||(u=Tt,h="onPointerLeave",p="onPointerEnter",m="pointer"),d=null==l?s:wo(l),f=null==c?s:wo(c),(s=new u(h,m+"leave",l,t,o)).target=d,s.relatedTarget=f,h=null,vo(o)===r&&((u=new u(p,m+"enter",c,t,o)).target=f,u.relatedTarget=d,h=u),d=h,l&&c)n:{for(p=c,m=0,f=u=l;f;f=Wr(f))m++;for(f=0,h=p;h;h=Wr(h))f++;for(;0<m-f;)u=Wr(u),m--;for(;0<f-m;)p=Wr(p),f--;for(;m--;){if(u===p||null!==p&&u===p.alternate)break n;u=Wr(u),p=Wr(p)}u=null}else u=null;null!==l&&Qr(i,s,l,u,!1),null!==c&&null!==d&&Qr(i,d,c,u,!0)}if("select"===(l=(s=r?wo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=$t;else if(Gt(s))if(Xt)g=ir;else{g=or;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(n,r))?Vt(i,g,t,o):(y&&y(n,s,r),"focusout"===n&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&nn(s,"number",s.value)),y=r?wo(r):window,n){case"focusin":(Gt(y)||"true"===y.contentEditable)&&(gr=y,yr=r,br=null);break;case"focusout":br=yr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,xr(i,t,o);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":xr(i,t,o)}var b;if(Ot)n:{switch(n){case"compositionstart":var v="onCompositionStart";break n;case"compositionend":v="onCompositionEnd";break n;case"compositionupdate":v="onCompositionUpdate";break n}v=void 0}else Ut?Bt(n,t)&&(v="onCompositionEnd"):"keydown"===n&&229===t.keyCode&&(v="onCompositionStart");v&&(Dt&&"ko"!==t.locale&&(Ut||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ut&&(b=et()):(Ye="value"in(Ze=o)?Ze.value:Ze.textContent,Ut=!0)),0<(y=Jr(r,v)).length&&(v=new xt(v,n,null,t,o),i.push({event:v,listeners:y}),b?v.data=b:null!==(b=zt(t))&&(v.data=b))),(b=It?function(n,e){switch(n){case"compositionend":return zt(e);case"keypress":return 32!==e.which?null:(Ft=!0,Rt);case"textInput":return(n=e.data)===Rt&&Ft?null:n;default:return null}}(n,t):function(n,e){if(Ut)return"compositionend"===n||!Ot&&Bt(n,e)?(n=et(),nt=Ye=Ze=null,Ut=!1,n):null;switch(n){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dt&&"ko"!==e.locale?null:e.data}}(n,t))&&(0<(r=Jr(r,"onBeforeInput")).length&&(o=new xt("onBeforeInput","beforeinput",null,t,o),i.push({event:o,listeners:r}),o.data=b))}Rr(i,e)}))}function Vr(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Jr(n,e){for(var t=e+"Capture",r=[];null!==n;){var o=n,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Pn(n,t))&&r.unshift(Vr(n,a,o)),null!=(a=Pn(n,e))&&r.push(Vr(n,a,o))),n=n.return}return r}function Wr(n){if(null===n)return null;do{n=n.return}while(n&&5!==n.tag);return n||null}function Qr(n,e,t,r,o){for(var a=e._reactName,i=[];null!==t&&t!==r;){var s=t,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Pn(t,a))&&i.unshift(Vr(t,l,s)):o||null!=(l=Pn(t,a))&&i.push(Vr(t,l,s))),t=t.return}0!==i.length&&n.push({event:e,listeners:i})}var Kr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(n){return("string"===typeof n?n:""+n).replace(Kr,"\n").replace($r,"")}function Zr(n,e,t){if(e=Xr(e),Xr(n)!==e&&t)throw Error(a(425))}function Yr(){}var no=null,eo=null;function to(n,e){return"textarea"===n||"noscript"===n||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ao="function"===typeof Promise?Promise:void 0,io="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ao?function(n){return ao.resolve(null).then(n).catch(so)}:ro;function so(n){setTimeout((function(){throw n}))}function lo(n,e){var t=e,r=0;do{var o=t.nextSibling;if(n.removeChild(t),o&&8===o.nodeType)if("/$"===(t=o.data)){if(0===r)return n.removeChild(o),void He(e);r--}else"$"!==t&&"$?"!==t&&"$!"!==t||r++;t=o}while(t);He(e)}function co(n){for(;null!=n;n=n.nextSibling){var e=n.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=n.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return n}function uo(n){n=n.previousSibling;for(var e=0;n;){if(8===n.nodeType){var t=n.data;if("$"===t||"$!"===t||"$?"===t){if(0===e)return n;e--}else"/$"===t&&e++}n=n.previousSibling}return null}var po=Math.random().toString(36).slice(2),fo="__reactFiber$"+po,mo="__reactProps$"+po,ho="__reactContainer$"+po,go="__reactEvents$"+po,yo="__reactListeners$"+po,bo="__reactHandles$"+po;function vo(n){var e=n[fo];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ho]||t[fo]){if(t=e.alternate,null!==e.child||null!==t&&null!==t.child)for(n=uo(n);null!==n;){if(t=n[fo])return t;n=uo(n)}return e}t=(n=t).parentNode}return null}function xo(n){return!(n=n[fo]||n[ho])||5!==n.tag&&6!==n.tag&&13!==n.tag&&3!==n.tag?null:n}function wo(n){if(5===n.tag||6===n.tag)return n.stateNode;throw Error(a(33))}function ko(n){return n[mo]||null}var So=[],_o=-1;function Eo(n){return{current:n}}function Co(n){0>_o||(n.current=So[_o],So[_o]=null,_o--)}function No(n,e){_o++,So[_o]=n.current,n.current=e}var To={},qo=Eo(To),Ao=Eo(!1),Lo=To;function jo(n,e){var t=n.type.contextTypes;if(!t)return To;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in t)a[o]=e[o];return r&&((n=n.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=a),a}function Po(n){return null!==(n=n.childContextTypes)&&void 0!==n}function Oo(){Co(Ao),Co(qo)}function Mo(n,e,t){if(qo.current!==To)throw Error(a(168));No(qo,e),No(Ao,t)}function Io(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return t;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,H(n)||"Unknown",o));return D({},t,r)}function Do(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||To,Lo=qo.current,No(qo,n),No(Ao,Ao.current),!0}function Ro(n,e,t){var r=n.stateNode;if(!r)throw Error(a(169));t?(n=Io(n,e,Lo),r.__reactInternalMemoizedMergedChildContext=n,Co(Ao),Co(qo),No(qo,n)):Co(Ao),No(Ao,t)}var Fo=null,Bo=!1,zo=!1;function Uo(n){null===Fo?Fo=[n]:Fo.push(n)}function Ho(){if(!zo&&null!==Fo){zo=!0;var n=0,e=xe;try{var t=Fo;for(xe=1;n<t.length;n++){var r=t[n];do{r=r(!0)}while(null!==r)}Fo=null,Bo=!1}catch(o){throw null!==Fo&&(Fo=Fo.slice(n+1)),Qn(ne,Ho),o}finally{xe=e,zo=!1}}return null}var Go=[],Vo=0,Jo=null,Wo=0,Qo=[],Ko=0,$o=null,Xo=1,Zo="";function Yo(n,e){Go[Vo++]=Wo,Go[Vo++]=Jo,Jo=n,Wo=e}function na(n,e,t){Qo[Ko++]=Xo,Qo[Ko++]=Zo,Qo[Ko++]=$o,$o=n;var r=Xo;n=Zo;var o=32-se(r)-1;r&=~(1<<o),t+=1;var a=32-se(e)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Xo=1<<32-se(e)+o|t<<o|r,Zo=a+n}else Xo=1<<a|t<<o|r,Zo=n}function ea(n){null!==n.return&&(Yo(n,1),na(n,1,0))}function ta(n){for(;n===Jo;)Jo=Go[--Vo],Go[Vo]=null,Wo=Go[--Vo],Go[Vo]=null;for(;n===$o;)$o=Qo[--Ko],Qo[Ko]=null,Zo=Qo[--Ko],Qo[Ko]=null,Xo=Qo[--Ko],Qo[Ko]=null}var ra=null,oa=null,aa=!1,ia=null;function sa(n,e){var t=jc(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,null===(e=n.deletions)?(n.deletions=[t],n.flags|=16):e.push(t)}function la(n,e){switch(n.tag){case 5:var t=n.type;return null!==(e=1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(n.stateNode=e,ra=n,oa=co(e.firstChild),!0);case 6:return null!==(e=""===n.pendingProps||3!==e.nodeType?null:e)&&(n.stateNode=e,ra=n,oa=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(t=null!==$o?{id:Xo,overflow:Zo}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},(t=jc(18,null,null,0)).stateNode=e,t.return=n,n.child=t,ra=n,oa=null,!0);default:return!1}}function ca(n){return 0!==(1&n.mode)&&0===(128&n.flags)}function ua(n){if(aa){var e=oa;if(e){var t=e;if(!la(n,e)){if(ca(n))throw Error(a(418));e=co(t.nextSibling);var r=ra;e&&la(n,e)?sa(r,t):(n.flags=-4097&n.flags|2,aa=!1,ra=n)}}else{if(ca(n))throw Error(a(418));n.flags=-4097&n.flags|2,aa=!1,ra=n}}}function da(n){for(n=n.return;null!==n&&5!==n.tag&&3!==n.tag&&13!==n.tag;)n=n.return;ra=n}function pa(n){if(n!==ra)return!1;if(!aa)return da(n),aa=!0,!1;var e;if((e=3!==n.tag)&&!(e=5!==n.tag)&&(e="head"!==(e=n.type)&&"body"!==e&&!to(n.type,n.memoizedProps)),e&&(e=oa)){if(ca(n))throw fa(),Error(a(418));for(;e;)sa(n,e),e=co(e.nextSibling)}if(da(n),13===n.tag){if(!(n=null!==(n=n.memoizedState)?n.dehydrated:null))throw Error(a(317));n:{for(n=n.nextSibling,e=0;n;){if(8===n.nodeType){var t=n.data;if("/$"===t){if(0===e){oa=co(n.nextSibling);break n}e--}else"$"!==t&&"$!"!==t&&"$?"!==t||e++}n=n.nextSibling}oa=null}}else oa=ra?co(n.stateNode.nextSibling):null;return!0}function fa(){for(var n=oa;n;)n=co(n.nextSibling)}function ma(){oa=ra=null,aa=!1}function ha(n){null===ia?ia=[n]:ia.push(n)}var ga=x.ReactCurrentBatchConfig;function ya(n,e){if(n&&n.defaultProps){for(var t in e=D({},e),n=n.defaultProps)void 0===e[t]&&(e[t]=n[t]);return e}return e}var ba=Eo(null),va=null,xa=null,wa=null;function ka(){wa=xa=va=null}function Sa(n){var e=ba.current;Co(ba),n._currentValue=e}function _a(n,e,t){for(;null!==n;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Ea(n,e){va=n,wa=xa=null,null!==(n=n.dependencies)&&null!==n.firstContext&&(0!==(n.lanes&e)&&(xs=!0),n.firstContext=null)}function Ca(n){var e=n._currentValue;if(wa!==n)if(n={context:n,memoizedValue:e,next:null},null===xa){if(null===va)throw Error(a(308));xa=n,va.dependencies={lanes:0,firstContext:n}}else xa=xa.next=n;return e}var Na=null;function Ta(n){null===Na?Na=[n]:Na.push(n)}function qa(n,e,t,r){var o=e.interleaved;return null===o?(t.next=t,Ta(e)):(t.next=o.next,o.next=t),e.interleaved=t,Aa(n,r)}function Aa(n,e){n.lanes|=e;var t=n.alternate;for(null!==t&&(t.lanes|=e),t=n,n=n.return;null!==n;)n.childLanes|=e,null!==(t=n.alternate)&&(t.childLanes|=e),t=n,n=n.return;return 3===t.tag?t.stateNode:null}var La=!1;function ja(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Oa(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(n,e,t){var r=n.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ql)){var o=r.pending;return null===o?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Aa(n,t)}return null===(o=r.interleaved)?(e.next=e,Ta(r)):(e.next=o.next,o.next=e),r.interleaved=e,Aa(n,t)}function Ia(n,e,t){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&t))){var r=e.lanes;t|=r&=n.pendingLanes,e.lanes=t,ve(n,t)}}function Da(n,e){var t=n.updateQueue,r=n.alternate;if(null!==r&&t===(r=r.updateQueue)){var o=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===a?o=a=i:a=a.next=i,t=t.next}while(null!==t);null===a?o=a=e:a=a.next=e}else o=a=e;return t={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(n.updateQueue=t)}null===(n=t.lastBaseUpdate)?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Ra(n,e,t,r){var o=n.updateQueue;La=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=n.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=o.baseState;for(i=0,u=c=l=null,s=a;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});n:{var m=n,h=s;switch(p=e,f=t,h.tag){case 1:if("function"===typeof(m=h.payload)){d=m.call(f,d,p);break n}d=m;break n;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=h.payload)?m.call(f,d,p):m)||void 0===p)break n;d=D({},d,p);break n;case 2:La=!0}}null!==s.callback&&0!==s.lane&&(n.flags|=64,null===(p=o.effects)?o.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(e=o.shared.interleaved)){o=e;do{i|=o.lane,o=o.next}while(o!==e)}else null===a&&(o.shared.lanes=0);Dl|=i,n.lanes=i,n.memoizedState=d}}function Fa(n,e,t){if(n=e.effects,e.effects=null,null!==n)for(e=0;e<n.length;e++){var r=n[e],o=r.callback;if(null!==o){if(r.callback=null,r=t,"function"!==typeof o)throw Error(a(191,o));o.call(r)}}}var Ba=(new r.Component).refs;function za(n,e,t,r){t=null===(t=t(r,e=n.memoizedState))||void 0===t?e:D({},e,t),n.memoizedState=t,0===n.lanes&&(n.updateQueue.baseState=t)}var Ua={isMounted:function(n){return!!(n=n._reactInternals)&&Hn(n)===n},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=ec(),o=tc(n),a=Oa(r,o);a.payload=e,void 0!==t&&null!==t&&(a.callback=t),null!==(e=Ma(n,a,o))&&(rc(e,n,o,r),Ia(e,n,o))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=ec(),o=tc(n),a=Oa(r,o);a.tag=1,a.payload=e,void 0!==t&&null!==t&&(a.callback=t),null!==(e=Ma(n,a,o))&&(rc(e,n,o,r),Ia(e,n,o))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ec(),r=tc(n),o=Oa(t,r);o.tag=2,void 0!==e&&null!==e&&(o.callback=e),null!==(e=Ma(n,o,r))&&(rc(e,n,r,t),Ia(e,n,r))}};function Ha(n,e,t,r,o,a,i){return"function"===typeof(n=n.stateNode).shouldComponentUpdate?n.shouldComponentUpdate(r,a,i):!e.prototype||!e.prototype.isPureReactComponent||(!lr(t,r)||!lr(o,a))}function Ga(n,e,t){var r=!1,o=To,a=e.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(o=Po(e)?Lo:qo.current,a=(r=null!==(r=e.contextTypes)&&void 0!==r)?jo(n,o):To),e=new e(t,a),n.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Ua,n.stateNode=e,e._reactInternals=n,r&&((n=n.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=a),e}function Va(n,e,t,r){n=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Ua.enqueueReplaceState(e,e.state,null)}function Ja(n,e,t,r){var o=n.stateNode;o.props=t,o.state=n.memoizedState,o.refs=Ba,ja(n);var a=e.contextType;"object"===typeof a&&null!==a?o.context=Ca(a):(a=Po(e)?Lo:qo.current,o.context=jo(n,a)),o.state=n.memoizedState,"function"===typeof(a=e.getDerivedStateFromProps)&&(za(n,e,a,t),o.state=n.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(e=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),e!==o.state&&Ua.enqueueReplaceState(o,o.state,null),Ra(n,t,o,r),o.state=n.memoizedState),"function"===typeof o.componentDidMount&&(n.flags|=4194308)}function Wa(n,e,t){if(null!==(n=t.ref)&&"function"!==typeof n&&"object"!==typeof n){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(a(309));var r=t.stateNode}if(!r)throw Error(a(147,n));var o=r,i=""+n;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(n){var e=o.refs;e===Ba&&(e=o.refs={}),null===n?delete e[i]:e[i]=n},e._stringRef=i,e)}if("string"!==typeof n)throw Error(a(284));if(!t._owner)throw Error(a(290,n))}return n}function Qa(n,e){throw n=Object.prototype.toString.call(e),Error(a(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Ka(n){return(0,n._init)(n._payload)}function $a(n){function e(e,t){if(n){var r=e.deletions;null===r?(e.deletions=[t],e.flags|=16):r.push(t)}}function t(t,r){if(!n)return null;for(;null!==r;)e(t,r),r=r.sibling;return null}function r(n,e){for(n=new Map;null!==e;)null!==e.key?n.set(e.key,e):n.set(e.index,e),e=e.sibling;return n}function o(n,e){return(n=Oc(n,e)).index=0,n.sibling=null,n}function i(e,t,r){return e.index=r,n?null!==(r=e.alternate)?(r=r.index)<t?(e.flags|=2,t):r:(e.flags|=2,t):(e.flags|=1048576,t)}function s(e){return n&&null===e.alternate&&(e.flags|=2),e}function l(n,e,t,r){return null===e||6!==e.tag?((e=Rc(t,n.mode,r)).return=n,e):((e=o(e,t)).return=n,e)}function c(n,e,t,r){var a=t.type;return a===S?d(n,e,t.props.children,r,t.key):null!==e&&(e.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===j&&Ka(a)===e.type)?((r=o(e,t.props)).ref=Wa(n,e,t),r.return=n,r):((r=Mc(t.type,t.key,t.props,null,n.mode,r)).ref=Wa(n,e,t),r.return=n,r)}function u(n,e,t,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==t.containerInfo||e.stateNode.implementation!==t.implementation?((e=Fc(t,n.mode,r)).return=n,e):((e=o(e,t.children||[])).return=n,e)}function d(n,e,t,r,a){return null===e||7!==e.tag?((e=Ic(t,n.mode,r,a)).return=n,e):((e=o(e,t)).return=n,e)}function p(n,e,t){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Rc(""+e,n.mode,t)).return=n,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(t=Mc(e.type,e.key,e.props,null,n.mode,t)).ref=Wa(n,null,e),t.return=n,t;case k:return(e=Fc(e,n.mode,t)).return=n,e;case j:return p(n,(0,e._init)(e._payload),t)}if(en(e)||M(e))return(e=Ic(e,n.mode,t,null)).return=n,e;Qa(n,e)}return null}function f(n,e,t,r){var o=null!==e?e.key:null;if("string"===typeof t&&""!==t||"number"===typeof t)return null!==o?null:l(n,e,""+t,r);if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return t.key===o?c(n,e,t,r):null;case k:return t.key===o?u(n,e,t,r):null;case j:return f(n,e,(o=t._init)(t._payload),r)}if(en(t)||M(t))return null!==o?null:d(n,e,t,r,null);Qa(n,t)}return null}function m(n,e,t,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(e,n=n.get(t)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(e,n=n.get(null===r.key?t:r.key)||null,r,o);case k:return u(e,n=n.get(null===r.key?t:r.key)||null,r,o);case j:return m(n,e,t,(0,r._init)(r._payload),o)}if(en(r)||M(r))return d(e,n=n.get(t)||null,r,o,null);Qa(e,r)}return null}function h(o,a,s,l){for(var c=null,u=null,d=a,h=a=0,g=null;null!==d&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var y=f(o,d,s[h],l);if(null===y){null===d&&(d=g);break}n&&d&&null===y.alternate&&e(o,d),a=i(y,a,h),null===u?c=y:u.sibling=y,u=y,d=g}if(h===s.length)return t(o,d),aa&&Yo(o,h),c;if(null===d){for(;h<s.length;h++)null!==(d=p(o,s[h],l))&&(a=i(d,a,h),null===u?c=d:u.sibling=d,u=d);return aa&&Yo(o,h),c}for(d=r(o,d);h<s.length;h++)null!==(g=m(d,o,h,s[h],l))&&(n&&null!==g.alternate&&d.delete(null===g.key?h:g.key),a=i(g,a,h),null===u?c=g:u.sibling=g,u=g);return n&&d.forEach((function(n){return e(o,n)})),aa&&Yo(o,h),c}function g(o,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,h=s,g=s=0,y=null,b=l.next();null!==h&&!b.done;g++,b=l.next()){h.index>g?(y=h,h=null):y=h.sibling;var v=f(o,h,b.value,c);if(null===v){null===h&&(h=y);break}n&&h&&null===v.alternate&&e(o,h),s=i(v,s,g),null===d?u=v:d.sibling=v,d=v,h=y}if(b.done)return t(o,h),aa&&Yo(o,g),u;if(null===h){for(;!b.done;g++,b=l.next())null!==(b=p(o,b.value,c))&&(s=i(b,s,g),null===d?u=b:d.sibling=b,d=b);return aa&&Yo(o,g),u}for(h=r(o,h);!b.done;g++,b=l.next())null!==(b=m(h,o,g,b.value,c))&&(n&&null!==b.alternate&&h.delete(null===b.key?g:b.key),s=i(b,s,g),null===d?u=b:d.sibling=b,d=b);return n&&h.forEach((function(n){return e(o,n)})),aa&&Yo(o,g),u}return function n(r,a,i,l){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:n:{for(var c=i.key,u=a;null!==u;){if(u.key===c){if((c=i.type)===S){if(7===u.tag){t(r,u.sibling),(a=o(u,i.props.children)).return=r,r=a;break n}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&Ka(c)===u.type){t(r,u.sibling),(a=o(u,i.props)).ref=Wa(r,u,i),a.return=r,r=a;break n}t(r,u);break}e(r,u),u=u.sibling}i.type===S?((a=Ic(i.props.children,r.mode,l,i.key)).return=r,r=a):((l=Mc(i.type,i.key,i.props,null,r.mode,l)).ref=Wa(r,a,i),l.return=r,r=l)}return s(r);case k:n:{for(u=i.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){t(r,a.sibling),(a=o(a,i.children||[])).return=r,r=a;break n}t(r,a);break}e(r,a),a=a.sibling}(a=Fc(i,r.mode,l)).return=r,r=a}return s(r);case j:return n(r,a,(u=i._init)(i._payload),l)}if(en(i))return h(r,a,i,l);if(M(i))return g(r,a,i,l);Qa(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(t(r,a.sibling),(a=o(a,i)).return=r,r=a):(t(r,a),(a=Rc(i,r.mode,l)).return=r,r=a),s(r)):t(r,a)}}var Xa=$a(!0),Za=$a(!1),Ya={},ni=Eo(Ya),ei=Eo(Ya),ti=Eo(Ya);function ri(n){if(n===Ya)throw Error(a(174));return n}function oi(n,e){switch(No(ti,e),No(ei,n),No(ni,Ya),n=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cn(null,"");break;default:e=cn(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}Co(ni),No(ni,e)}function ai(){Co(ni),Co(ei),Co(ti)}function ii(n){ri(ti.current);var e=ri(ni.current),t=cn(e,n.type);e!==t&&(No(ei,n),No(ni,t))}function si(n){ei.current===n&&(Co(ni),Co(ei))}var li=Eo(0);function ci(n){for(var e=n;null!==e;){if(13===e.tag){var t=e.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ui=[];function di(){for(var n=0;n<ui.length;n++)ui[n]._workInProgressVersionPrimary=null;ui.length=0}var pi=x.ReactCurrentDispatcher,fi=x.ReactCurrentBatchConfig,mi=0,hi=null,gi=null,yi=null,bi=!1,vi=!1,xi=0,wi=0;function ki(){throw Error(a(321))}function Si(n,e){if(null===e)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!sr(n[t],e[t]))return!1;return!0}function _i(n,e,t,r,o,i){if(mi=i,hi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pi.current=null===n||null===n.memoizedState?ss:ls,n=t(r,o),vi){i=0;do{if(vi=!1,xi=0,25<=i)throw Error(a(301));i+=1,yi=gi=null,e.updateQueue=null,pi.current=cs,n=t(r,o)}while(vi)}if(pi.current=is,e=null!==gi&&null!==gi.next,mi=0,yi=gi=hi=null,bi=!1,e)throw Error(a(300));return n}function Ei(){var n=0!==xi;return xi=0,n}function Ci(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yi?hi.memoizedState=yi=n:yi=yi.next=n,yi}function Ni(){if(null===gi){var n=hi.alternate;n=null!==n?n.memoizedState:null}else n=gi.next;var e=null===yi?hi.memoizedState:yi.next;if(null!==e)yi=e,gi=n;else{if(null===n)throw Error(a(310));n={memoizedState:(gi=n).memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},null===yi?hi.memoizedState=yi=n:yi=yi.next=n}return yi}function Ti(n,e){return"function"===typeof e?e(n):e}function qi(n){var e=Ni(),t=e.queue;if(null===t)throw Error(a(311));t.lastRenderedReducer=n;var r=gi,o=r.baseQueue,i=t.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,t.pending=null}if(null!==o){i=o.next,r=r.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((mi&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=p,s=r):c=c.next=p,hi.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==i);null===c?s=r:c.next=l,sr(r,e.memoizedState)||(xs=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,t.lastRenderedState=r}if(null!==(n=t.interleaved)){o=n;do{i=o.lane,hi.lanes|=i,Dl|=i,o=o.next}while(o!==n)}else null===o&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Ai(n){var e=Ni(),t=e.queue;if(null===t)throw Error(a(311));t.lastRenderedReducer=n;var r=t.dispatch,o=t.pending,i=e.memoizedState;if(null!==o){t.pending=null;var s=o=o.next;do{i=n(i,s.action),s=s.next}while(s!==o);sr(i,e.memoizedState)||(xs=!0),e.memoizedState=i,null===e.baseQueue&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function Li(){}function ji(n,e){var t=hi,r=Ni(),o=e(),i=!sr(r.memoizedState,o);if(i&&(r.memoizedState=o,xs=!0),r=r.queue,Gi(Mi.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||null!==yi&&1&yi.memoizedState.tag){if(t.flags|=2048,Fi(9,Oi.bind(null,t,r,o,e),void 0,null),null===Al)throw Error(a(349));0!==(30&mi)||Pi(t,e,o)}return o}function Pi(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},null===(e=hi.updateQueue)?(e={lastEffect:null,stores:null},hi.updateQueue=e,e.stores=[n]):null===(t=e.stores)?e.stores=[n]:t.push(n)}function Oi(n,e,t,r){e.value=t,e.getSnapshot=r,Ii(e)&&Di(n)}function Mi(n,e,t){return t((function(){Ii(e)&&Di(n)}))}function Ii(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!sr(n,t)}catch(r){return!0}}function Di(n){var e=Aa(n,1);null!==e&&rc(e,n,1,-1)}function Ri(n){var e=Ci();return"function"===typeof n&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:n},e.queue=n,n=n.dispatch=ts.bind(null,hi,n),[e.memoizedState,n]}function Fi(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},null===(e=hi.updateQueue)?(e={lastEffect:null,stores:null},hi.updateQueue=e,e.lastEffect=n.next=n):null===(t=e.lastEffect)?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n),n}function Bi(){return Ni().memoizedState}function zi(n,e,t,r){var o=Ci();hi.flags|=n,o.memoizedState=Fi(1|e,t,void 0,void 0===r?null:r)}function Ui(n,e,t,r){var o=Ni();r=void 0===r?null:r;var a=void 0;if(null!==gi){var i=gi.memoizedState;if(a=i.destroy,null!==r&&Si(r,i.deps))return void(o.memoizedState=Fi(e,t,a,r))}hi.flags|=n,o.memoizedState=Fi(1|e,t,a,r)}function Hi(n,e){return zi(8390656,8,n,e)}function Gi(n,e){return Ui(2048,8,n,e)}function Vi(n,e){return Ui(4,2,n,e)}function Ji(n,e){return Ui(4,4,n,e)}function Wi(n,e){return"function"===typeof e?(n=n(),e(n),function(){e(null)}):null!==e&&void 0!==e?(n=n(),e.current=n,function(){e.current=null}):void 0}function Qi(n,e,t){return t=null!==t&&void 0!==t?t.concat([n]):null,Ui(4,4,Wi.bind(null,e,n),t)}function Ki(){}function $i(n,e){var t=Ni();e=void 0===e?null:e;var r=t.memoizedState;return null!==r&&null!==e&&Si(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function Xi(n,e){var t=Ni();e=void 0===e?null:e;var r=t.memoizedState;return null!==r&&null!==e&&Si(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function Zi(n,e,t){return 0===(21&mi)?(n.baseState&&(n.baseState=!1,xs=!0),n.memoizedState=t):(sr(t,e)||(t=ge(),hi.lanes|=t,Dl|=t,n.baseState=!0),e)}function Yi(n,e){var t=xe;xe=0!==t&&4>t?t:4,n(!0);var r=fi.transition;fi.transition={};try{n(!1),e()}finally{xe=t,fi.transition=r}}function ns(){return Ni().memoizedState}function es(n,e,t){var r=tc(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},rs(n))os(e,t);else if(null!==(t=qa(n,e,t,r))){rc(t,n,r,ec()),as(t,e,r)}}function ts(n,e,t){var r=tc(n),o={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(rs(n))os(e,o);else{var a=n.alternate;if(0===n.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var i=e.lastRenderedState,s=a(i,t);if(o.hasEagerState=!0,o.eagerState=s,sr(s,i)){var l=e.interleaved;return null===l?(o.next=o,Ta(e)):(o.next=l.next,l.next=o),void(e.interleaved=o)}}catch(c){}null!==(t=qa(n,e,o,r))&&(rc(t,n,r,o=ec()),as(t,e,r))}}function rs(n){var e=n.alternate;return n===hi||null!==e&&e===hi}function os(n,e){vi=bi=!0;var t=n.pending;null===t?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function as(n,e,t){if(0!==(4194240&t)){var r=e.lanes;t|=r&=n.pendingLanes,e.lanes=t,ve(n,t)}}var is={readContext:Ca,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useInsertionEffect:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useSyncExternalStore:ki,useId:ki,unstable_isNewReconciler:!1},ss={readContext:Ca,useCallback:function(n,e){return Ci().memoizedState=[n,void 0===e?null:e],n},useContext:Ca,useEffect:Hi,useImperativeHandle:function(n,e,t){return t=null!==t&&void 0!==t?t.concat([n]):null,zi(4194308,4,Wi.bind(null,e,n),t)},useLayoutEffect:function(n,e){return zi(4194308,4,n,e)},useInsertionEffect:function(n,e){return zi(4,2,n,e)},useMemo:function(n,e){var t=Ci();return e=void 0===e?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Ci();return e=void 0!==t?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=es.bind(null,hi,n),[r.memoizedState,n]},useRef:function(n){return n={current:n},Ci().memoizedState=n},useState:Ri,useDebugValue:Ki,useDeferredValue:function(n){return Ci().memoizedState=n},useTransition:function(){var n=Ri(!1),e=n[0];return n=Yi.bind(null,n[1]),Ci().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=hi,o=Ci();if(aa){if(void 0===t)throw Error(a(407));t=t()}else{if(t=e(),null===Al)throw Error(a(349));0!==(30&mi)||Pi(r,e,t)}o.memoizedState=t;var i={value:t,getSnapshot:e};return o.queue=i,Hi(Mi.bind(null,r,i,n),[n]),r.flags|=2048,Fi(9,Oi.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=Ci(),e=Al.identifierPrefix;if(aa){var t=Zo;e=":"+e+"R"+(t=(Xo&~(1<<32-se(Xo)-1)).toString(32)+t),0<(t=xi++)&&(e+="H"+t.toString(32)),e+=":"}else e=":"+e+"r"+(t=wi++).toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ls={readContext:Ca,useCallback:$i,useContext:Ca,useEffect:Gi,useImperativeHandle:Qi,useInsertionEffect:Vi,useLayoutEffect:Ji,useMemo:Xi,useReducer:qi,useRef:Bi,useState:function(){return qi(Ti)},useDebugValue:Ki,useDeferredValue:function(n){return Zi(Ni(),gi.memoizedState,n)},useTransition:function(){return[qi(Ti)[0],Ni().memoizedState]},useMutableSource:Li,useSyncExternalStore:ji,useId:ns,unstable_isNewReconciler:!1},cs={readContext:Ca,useCallback:$i,useContext:Ca,useEffect:Gi,useImperativeHandle:Qi,useInsertionEffect:Vi,useLayoutEffect:Ji,useMemo:Xi,useReducer:Ai,useRef:Bi,useState:function(){return Ai(Ti)},useDebugValue:Ki,useDeferredValue:function(n){var e=Ni();return null===gi?e.memoizedState=n:Zi(e,gi.memoizedState,n)},useTransition:function(){return[Ai(Ti)[0],Ni().memoizedState]},useMutableSource:Li,useSyncExternalStore:ji,useId:ns,unstable_isNewReconciler:!1};function us(n,e){try{var t="",r=e;do{t+=z(r),r=r.return}while(r);var o=t}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:n,source:e,stack:o,digest:null}}function ds(n,e,t){return{value:n,source:null,stack:null!=t?t:null,digest:null!=e?e:null}}function ps(n,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ms(n,e,t){(t=Oa(-1,t)).tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Vl||(Vl=!0,Jl=r),ps(0,e)},t}function hs(n,e,t){(t=Oa(-1,t)).tag=3;var r=n.type.getDerivedStateFromError;if("function"===typeof r){var o=e.value;t.payload=function(){return r(o)},t.callback=function(){ps(0,e)}}var a=n.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(t.callback=function(){ps(0,e),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),t}function gs(n,e,t){var r=n.pingCache;if(null===r){r=n.pingCache=new fs;var o=new Set;r.set(e,o)}else void 0===(o=r.get(e))&&(o=new Set,r.set(e,o));o.has(t)||(o.add(t),n=Cc.bind(null,n,e,t),e.then(n,n))}function ys(n){do{var e;if((e=13===n.tag)&&(e=null===(e=n.memoizedState)||null!==e.dehydrated),e)return n;n=n.return}while(null!==n);return null}function bs(n,e,t,r,o){return 0===(1&n.mode)?(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag&&(null===t.alternate?t.tag=17:((e=Oa(-1,1)).tag=2,Ma(t,e,1))),t.lanes|=1),n):(n.flags|=65536,n.lanes=o,n)}var vs=x.ReactCurrentOwner,xs=!1;function ws(n,e,t,r){e.child=null===n?Za(e,null,t,r):Xa(e,n.child,t,r)}function ks(n,e,t,r,o){t=t.render;var a=e.ref;return Ea(e,o),r=_i(n,e,t,r,a,o),t=Ei(),null===n||xs?(aa&&t&&ea(e),e.flags|=1,ws(n,e,r,o),e.child):(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,Vs(n,e,o))}function Ss(n,e,t,r,o){if(null===n){var a=t.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==t.compare||void 0!==t.defaultProps?((n=Mc(t.type,null,r,e,e.mode,o)).ref=e.ref,n.return=e,e.child=n):(e.tag=15,e.type=a,_s(n,e,a,r,o))}if(a=n.child,0===(n.lanes&o)){var i=a.memoizedProps;if((t=null!==(t=t.compare)?t:lr)(i,r)&&n.ref===e.ref)return Vs(n,e,o)}return e.flags|=1,(n=Oc(a,r)).ref=e.ref,n.return=e,e.child=n}function _s(n,e,t,r,o){if(null!==n){var a=n.memoizedProps;if(lr(a,r)&&n.ref===e.ref){if(xs=!1,e.pendingProps=r=a,0===(n.lanes&o))return e.lanes=n.lanes,Vs(n,e,o);0!==(131072&n.flags)&&(xs=!0)}}return Ns(n,e,t,r,o)}function Es(n,e,t){var r=e.pendingProps,o=r.children,a=null!==n?n.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},No(Ol,Pl),Pl|=t;else{if(0===(1073741824&t))return n=null!==a?a.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,No(Ol,Pl),Pl|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:t,No(Ol,Pl),Pl|=r}else null!==a?(r=a.baseLanes|t,e.memoizedState=null):r=t,No(Ol,Pl),Pl|=r;return ws(n,e,o,t),e.child}function Cs(n,e){var t=e.ref;(null===n&&null!==t||null!==n&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Ns(n,e,t,r,o){var a=Po(t)?Lo:qo.current;return a=jo(e,a),Ea(e,o),t=_i(n,e,t,r,a,o),r=Ei(),null===n||xs?(aa&&r&&ea(e),e.flags|=1,ws(n,e,t,o),e.child):(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,Vs(n,e,o))}function Ts(n,e,t,r,o){if(Po(t)){var a=!0;Do(e)}else a=!1;if(Ea(e,o),null===e.stateNode)Gs(n,e),Ga(e,t,r),Ja(e,t,r,o),r=!0;else if(null===n){var i=e.stateNode,s=e.memoizedProps;i.props=s;var l=i.context,c=t.contextType;"object"===typeof c&&null!==c?c=Ca(c):c=jo(e,c=Po(t)?Lo:qo.current);var u=t.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||l!==c)&&Va(e,i,r,c),La=!1;var p=e.memoizedState;i.state=p,Ra(e,r,i,o),l=e.memoizedState,s!==r||p!==l||Ao.current||La?("function"===typeof u&&(za(e,t,u,r),l=e.memoizedState),(s=La||Ha(e,t,s,r,p,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(e.flags|=4194308)):("function"===typeof i.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=c,r=s):("function"===typeof i.componentDidMount&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,Pa(n,e),s=e.memoizedProps,c=e.type===e.elementType?s:ya(e.type,s),i.props=c,d=e.pendingProps,p=i.context,"object"===typeof(l=t.contextType)&&null!==l?l=Ca(l):l=jo(e,l=Po(t)?Lo:qo.current);var f=t.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||p!==l)&&Va(e,i,r,l),La=!1,p=e.memoizedState,i.state=p,Ra(e,r,i,o);var m=e.memoizedState;s!==d||p!==m||Ao.current||La?("function"===typeof f&&(za(e,t,f,r),m=e.memoizedState),(c=La||Ha(e,t,c,r,p,m,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof i.componentDidUpdate&&(e.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),i.props=r,i.state=m,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||s===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return qs(n,e,t,r,a,o)}function qs(n,e,t,r,o,a){Cs(n,e);var i=0!==(128&e.flags);if(!r&&!i)return o&&Ro(e,t,!1),Vs(n,e,a);r=e.stateNode,vs.current=e;var s=i&&"function"!==typeof t.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==n&&i?(e.child=Xa(e,n.child,null,a),e.child=Xa(e,null,s,a)):ws(n,e,s,a),e.memoizedState=r.state,o&&Ro(e,t,!0),e.child}function As(n){var e=n.stateNode;e.pendingContext?Mo(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Mo(0,e.context,!1),oi(n,e.containerInfo)}function Ls(n,e,t,r,o){return ma(),ha(o),e.flags|=256,ws(n,e,t,r),e.child}var js,Ps,Os,Ms,Is={dehydrated:null,treeContext:null,retryLane:0};function Ds(n){return{baseLanes:n,cachePool:null,transitions:null}}function Rs(n,e,t){var r,o=e.pendingProps,i=li.current,s=!1,l=0!==(128&e.flags);if((r=l)||(r=(null===n||null!==n.memoizedState)&&0!==(2&i)),r?(s=!0,e.flags&=-129):null!==n&&null===n.memoizedState||(i|=1),No(li,1&i),null===n)return ua(e),null!==(n=e.memoizedState)&&null!==(n=n.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===n.data?e.lanes=8:e.lanes=1073741824,null):(l=o.children,n=o.fallback,s?(o=e.mode,s=e.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Dc(l,o,0,null),n=Ic(n,o,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Ds(t),e.memoizedState=Is,n):Fs(e,l));if(null!==(i=n.memoizedState)&&null!==(r=i.dehydrated))return function(n,e,t,r,o,i,s){if(t)return 256&e.flags?(e.flags&=-257,Bs(n,e,s,r=ds(Error(a(422))))):null!==e.memoizedState?(e.child=n.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Dc({mode:"visible",children:r.children},o,0,null),(i=Ic(i,o,s,null)).flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,0!==(1&e.mode)&&Xa(e,n.child,null,s),e.child.memoizedState=Ds(s),e.memoizedState=Is,i);if(0===(1&e.mode))return Bs(n,e,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Bs(n,e,s,r=ds(i=Error(a(419)),r,void 0))}if(l=0!==(s&n.childLanes),xs||l){if(null!==(r=Al)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==i.retryLane&&(i.retryLane=o,Aa(n,o),rc(r,n,o,-1))}return gc(),Bs(n,e,s,r=ds(Error(a(421))))}return"$?"===o.data?(e.flags|=128,e.child=n.child,e=Tc.bind(null,n),o._reactRetry=e,null):(n=i.treeContext,oa=co(o.nextSibling),ra=e,aa=!0,ia=null,null!==n&&(Qo[Ko++]=Xo,Qo[Ko++]=Zo,Qo[Ko++]=$o,Xo=n.id,Zo=n.overflow,$o=e),e=Fs(e,r.children),e.flags|=4096,e)}(n,e,l,o,r,i,t);if(s){s=o.fallback,l=e.mode,r=(i=n.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&e.child!==i?((o=e.child).childLanes=0,o.pendingProps=c,e.deletions=null):(o=Oc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Oc(r,s):(s=Ic(s,l,t,null)).flags|=2,s.return=e,o.return=e,o.sibling=s,e.child=o,o=s,s=e.child,l=null===(l=n.child.memoizedState)?Ds(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=n.childLanes&~t,e.memoizedState=Is,o}return n=(s=n.child).sibling,o=Oc(s,{mode:"visible",children:o.children}),0===(1&e.mode)&&(o.lanes=t),o.return=e,o.sibling=null,null!==n&&(null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=o,e.memoizedState=null,o}function Fs(n,e){return(e=Dc({mode:"visible",children:e},n.mode,0,null)).return=n,n.child=e}function Bs(n,e,t,r){return null!==r&&ha(r),Xa(e,n.child,null,t),(n=Fs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,n}function zs(n,e,t){n.lanes|=e;var r=n.alternate;null!==r&&(r.lanes|=e),_a(n.return,e,t)}function Us(n,e,t,r,o){var a=n.memoizedState;null===a?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=o)}function Hs(n,e,t){var r=e.pendingProps,o=r.revealOrder,a=r.tail;if(ws(n,e,r.children,t),0!==(2&(r=li.current)))r=1&r|2,e.flags|=128;else{if(null!==n&&0!==(128&n.flags))n:for(n=e.child;null!==n;){if(13===n.tag)null!==n.memoizedState&&zs(n,t,e);else if(19===n.tag)zs(n,t,e);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break n;for(;null===n.sibling;){if(null===n.return||n.return===e)break n;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(No(li,r),0===(1&e.mode))e.memoizedState=null;else switch(o){case"forwards":for(t=e.child,o=null;null!==t;)null!==(n=t.alternate)&&null===ci(n)&&(o=t),t=t.sibling;null===(t=o)?(o=e.child,e.child=null):(o=t.sibling,t.sibling=null),Us(e,!1,o,t,a);break;case"backwards":for(t=null,o=e.child,e.child=null;null!==o;){if(null!==(n=o.alternate)&&null===ci(n)){e.child=o;break}n=o.sibling,o.sibling=t,t=o,o=n}Us(e,!0,t,null,a);break;case"together":Us(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gs(n,e){0===(1&e.mode)&&null!==n&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Vs(n,e,t){if(null!==n&&(e.dependencies=n.dependencies),Dl|=e.lanes,0===(t&e.childLanes))return null;if(null!==n&&e.child!==n.child)throw Error(a(153));if(null!==e.child){for(t=Oc(n=e.child,n.pendingProps),e.child=t,t.return=e;null!==n.sibling;)n=n.sibling,(t=t.sibling=Oc(n,n.pendingProps)).return=e;t.sibling=null}return e.child}function Js(n,e){if(!aa)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;null!==e;)null!==e.alternate&&(t=e),e=e.sibling;null===t?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e||null===n.tail?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ws(n){var e=null!==n.alternate&&n.alternate.child===n.child,t=0,r=0;if(e)for(var o=n.child;null!==o;)t|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=n,o=o.sibling;else for(o=n.child;null!==o;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function Qs(n,e,t){var r=e.pendingProps;switch(ta(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(e),null;case 1:case 17:return Po(e.type)&&Oo(),Ws(e),null;case 3:return r=e.stateNode,ai(),Co(Ao),Co(qo),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==n&&null!==n.child||(pa(e)?e.flags|=4:null===n||n.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ia&&(sc(ia),ia=null))),Ps(n,e),Ws(e),null;case 5:si(e);var o=ri(ti.current);if(t=e.type,null!==n&&null!=e.stateNode)Os(n,e,t,r,o),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(a(166));return Ws(e),null}if(n=ri(ni.current),pa(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[fo]=e,r[mo]=i,n=0!==(1&e.mode),t){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(o=0;o<Mr.length;o++)Fr(Mr[o],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,i),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fr("invalid",r);break;case"textarea":on(r,i),Fr("invalid",r)}for(var l in vn(t,i),o=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Zr(r.textContent,c,n),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Zr(r.textContent,c,n),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(t){case"input":J(r),Y(r,i,!0);break;case"textarea":J(r),sn(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Yr)}r=o,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===n&&(n=ln(t)),"http://www.w3.org/1999/xhtml"===n?"script"===t?((n=l.createElement("div")).innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):"string"===typeof r.is?n=l.createElement(t,{is:r.is}):(n=l.createElement(t),"select"===t&&(l=n,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):n=l.createElementNS(n,t),n[fo]=e,n[mo]=r,js(n,e,!1,!1),e.stateNode=n;n:{switch(l=xn(t,r),t){case"dialog":Fr("cancel",n),Fr("close",n),o=r;break;case"iframe":case"object":case"embed":Fr("load",n),o=r;break;case"video":case"audio":for(o=0;o<Mr.length;o++)Fr(Mr[o],n);o=r;break;case"source":Fr("error",n),o=r;break;case"img":case"image":case"link":Fr("error",n),Fr("load",n),o=r;break;case"details":Fr("toggle",n),o=r;break;case"input":$(n,r),o=K(n,r),Fr("invalid",n);break;case"option":default:o=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},o=D({},r,{value:void 0}),Fr("invalid",n);break;case"textarea":on(n,r),o=rn(n,r),Fr("invalid",n)}for(i in vn(t,o),c=o)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?yn(n,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&pn(n,u):"children"===i?"string"===typeof u?("textarea"!==t||""!==u)&&fn(n,u):"number"===typeof u&&fn(n,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Fr("scroll",n):null!=u&&v(n,i,u,l))}switch(t){case"input":J(n),Y(n,r,!1);break;case"textarea":J(n),sn(n);break;case"option":null!=r.value&&n.setAttribute("value",""+G(r.value));break;case"select":n.multiple=!!r.multiple,null!=(i=r.value)?tn(n,!!r.multiple,i,!1):null!=r.defaultValue&&tn(n,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(n.onclick=Yr)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break n;case"img":r=!0;break n;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ws(e),null;case 6:if(n&&null!=e.stateNode)Ms(n,e,n.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));if(t=ri(ti.current),ri(ni.current),pa(e)){if(r=e.stateNode,t=e.memoizedProps,r[fo]=e,(i=r.nodeValue!==t)&&null!==(n=ra))switch(n.tag){case 3:Zr(r.nodeValue,t,0!==(1&n.mode));break;case 5:!0!==n.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,t,0!==(1&n.mode))}i&&(e.flags|=4)}else(r=(9===t.nodeType?t:t.ownerDocument).createTextNode(r))[fo]=e,e.stateNode=r}return Ws(e),null;case 13:if(Co(li),r=e.memoizedState,null===n||null!==n.memoizedState&&null!==n.memoizedState.dehydrated){if(aa&&null!==oa&&0!==(1&e.mode)&&0===(128&e.flags))fa(),ma(),e.flags|=98560,i=!1;else if(i=pa(e),null!==r&&null!==r.dehydrated){if(null===n){if(!i)throw Error(a(318));if(!(i=null!==(i=e.memoizedState)?i.dehydrated:null))throw Error(a(317));i[fo]=e}else ma(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ws(e),i=!1}else null!==ia&&(sc(ia),ia=null),i=!0;if(!i)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=t,e):((r=null!==r)!==(null!==n&&null!==n.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===n||0!==(1&li.current)?0===Ml&&(Ml=3):gc())),null!==e.updateQueue&&(e.flags|=4),Ws(e),null);case 4:return ai(),Ps(n,e),null===n&&Ur(e.stateNode.containerInfo),Ws(e),null;case 10:return Sa(e.type._context),Ws(e),null;case 19:if(Co(li),null===(i=e.memoizedState))return Ws(e),null;if(r=0!==(128&e.flags),null===(l=i.rendering))if(r)Js(i,!1);else{if(0!==Ml||null!==n&&0!==(128&n.flags))for(n=e.child;null!==n;){if(null!==(l=ci(n))){for(e.flags|=128,Js(i,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;null!==t;)n=r,(i=t).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,n=l.dependencies,i.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return No(li,1&li.current|2),e.child}n=n.sibling}null!==i.tail&&Zn()>Hl&&(e.flags|=128,r=!0,Js(i,!1),e.lanes=4194304)}else{if(!r)if(null!==(n=ci(l))){if(e.flags|=128,r=!0,null!==(t=n.updateQueue)&&(e.updateQueue=t,e.flags|=4),Js(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!aa)return Ws(e),null}else 2*Zn()-i.renderingStartTime>Hl&&1073741824!==t&&(e.flags|=128,r=!0,Js(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(null!==(t=i.last)?t.sibling=l:e.child=l,i.last=l)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Zn(),e.sibling=null,t=li.current,No(li,r?1&t|2:1&t),e):(Ws(e),null);case 22:case 23:return pc(),r=null!==e.memoizedState,null!==n&&null!==n.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Pl)&&(Ws(e),6&e.subtreeFlags&&(e.flags|=8192)):Ws(e),null;case 24:case 25:return null}throw Error(a(156,e.tag))}function Ks(n,e){switch(ta(e),e.tag){case 1:return Po(e.type)&&Oo(),65536&(n=e.flags)?(e.flags=-65537&n|128,e):null;case 3:return ai(),Co(Ao),Co(qo),di(),0!==(65536&(n=e.flags))&&0===(128&n)?(e.flags=-65537&n|128,e):null;case 5:return si(e),null;case 13:if(Co(li),null!==(n=e.memoizedState)&&null!==n.dehydrated){if(null===e.alternate)throw Error(a(340));ma()}return 65536&(n=e.flags)?(e.flags=-65537&n|128,e):null;case 19:return Co(li),null;case 4:return ai(),null;case 10:return Sa(e.type._context),null;case 22:case 23:return pc(),null;default:return null}}js=function(n,e){for(var t=e.child;null!==t;){if(5===t.tag||6===t.tag)n.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},Ps=function(){},Os=function(n,e,t,r){var o=n.memoizedProps;if(o!==r){n=e.stateNode,ri(ni.current);var a,i=null;switch(t){case"input":o=K(n,o),r=K(n,r),i=[];break;case"select":o=D({},o,{value:void 0}),r=D({},r,{value:void 0}),i=[];break;case"textarea":o=rn(n,o),r=rn(n,r),i=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(n.onclick=Yr)}for(u in vn(t,r),t=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(t||(t={}),t[a]=c[a])}else t||(i||(i=[]),i.push(u,t)),t=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",n),i||l===c||(i=[])):(i=i||[]).push(u,c))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}},Ms=function(n,e,t,r){t!==r&&(e.flags|=4)};var $s=!1,Xs=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Ys=null;function nl(n,e){var t=n.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){Ec(n,e,r)}else t.current=null}function el(n,e,t){try{t()}catch(r){Ec(n,e,r)}}var tl=!1;function rl(n,e,t){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&n)===n){var a=o.destroy;o.destroy=void 0,void 0!==a&&el(e,t,a)}o=o.next}while(o!==r)}}function ol(n,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function al(n){var e=n.ref;if(null!==e){var t=n.stateNode;n.tag,n=t,"function"===typeof e?e(n):e.current=n}}function il(n){var e=n.alternate;null!==e&&(n.alternate=null,il(e)),n.child=null,n.deletions=null,n.sibling=null,5===n.tag&&(null!==(e=n.stateNode)&&(delete e[fo],delete e[mo],delete e[go],delete e[yo],delete e[bo])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function sl(n){return 5===n.tag||3===n.tag||4===n.tag}function ll(n){n:for(;;){for(;null===n.sibling;){if(null===n.return||sl(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue n;if(null===n.child||4===n.tag)continue n;n.child.return=n,n=n.child}if(!(2&n.flags))return n.stateNode}}function cl(n,e,t){var r=n.tag;if(5===r||6===r)n=n.stateNode,e?8===t.nodeType?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(8===t.nodeType?(e=t.parentNode).insertBefore(n,t):(e=t).appendChild(n),null!==(t=t._reactRootContainer)&&void 0!==t||null!==e.onclick||(e.onclick=Yr));else if(4!==r&&null!==(n=n.child))for(cl(n,e,t),n=n.sibling;null!==n;)cl(n,e,t),n=n.sibling}function ul(n,e,t){var r=n.tag;if(5===r||6===r)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(4!==r&&null!==(n=n.child))for(ul(n,e,t),n=n.sibling;null!==n;)ul(n,e,t),n=n.sibling}var dl=null,pl=!1;function fl(n,e,t){for(t=t.child;null!==t;)ml(n,e,t),t=t.sibling}function ml(n,e,t){if(ie&&"function"===typeof ie.onCommitFiberUnmount)try{ie.onCommitFiberUnmount(ae,t)}catch(s){}switch(t.tag){case 5:Xs||nl(t,e);case 6:var r=dl,o=pl;dl=null,fl(n,e,t),pl=o,null!==(dl=r)&&(pl?(n=dl,t=t.stateNode,8===n.nodeType?n.parentNode.removeChild(t):n.removeChild(t)):dl.removeChild(t.stateNode));break;case 18:null!==dl&&(pl?(n=dl,t=t.stateNode,8===n.nodeType?lo(n.parentNode,t):1===n.nodeType&&lo(n,t),He(n)):lo(dl,t.stateNode));break;case 4:r=dl,o=pl,dl=t.stateNode.containerInfo,pl=!0,fl(n,e,t),dl=r,pl=o;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=t.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&el(t,e,i),o=o.next}while(o!==r)}fl(n,e,t);break;case 1:if(!Xs&&(nl(t,e),"function"===typeof(r=t.stateNode).componentWillUnmount))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(s){Ec(t,e,s)}fl(n,e,t);break;case 21:fl(n,e,t);break;case 22:1&t.mode?(Xs=(r=Xs)||null!==t.memoizedState,fl(n,e,t),Xs=r):fl(n,e,t);break;default:fl(n,e,t)}}function hl(n){var e=n.updateQueue;if(null!==e){n.updateQueue=null;var t=n.stateNode;null===t&&(t=n.stateNode=new Zs),e.forEach((function(e){var r=qc.bind(null,n,e);t.has(e)||(t.add(e),e.then(r,r))}))}}function gl(n,e){var t=e.deletions;if(null!==t)for(var r=0;r<t.length;r++){var o=t[r];try{var i=n,s=e,l=s;n:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,pl=!1;break n;case 3:case 4:dl=l.stateNode.containerInfo,pl=!0;break n}l=l.return}if(null===dl)throw Error(a(160));ml(i,s,o),dl=null,pl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){Ec(o,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)yl(e,n),e=e.sibling}function yl(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(gl(e,n),bl(n),4&r){try{rl(3,n,n.return),ol(3,n)}catch(g){Ec(n,n.return,g)}try{rl(5,n,n.return)}catch(g){Ec(n,n.return,g)}}break;case 1:gl(e,n),bl(n),512&r&&null!==t&&nl(t,t.return);break;case 5:if(gl(e,n),bl(n),512&r&&null!==t&&nl(t,t.return),32&n.flags){var o=n.stateNode;try{fn(o,"")}catch(g){Ec(n,n.return,g)}}if(4&r&&null!=(o=n.stateNode)){var i=n.memoizedProps,s=null!==t?t.memoizedProps:i,l=n.type,c=n.updateQueue;if(n.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(o,i),xn(l,s);var u=xn(l,i);for(s=0;s<c.length;s+=2){var d=c[s],p=c[s+1];"style"===d?yn(o,p):"dangerouslySetInnerHTML"===d?pn(o,p):"children"===d?fn(o,p):v(o,d,p,u)}switch(l){case"input":Z(o,i);break;case"textarea":an(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?tn(o,!!i.multiple,m,!1):f!==!!i.multiple&&(null!=i.defaultValue?tn(o,!!i.multiple,i.defaultValue,!0):tn(o,!!i.multiple,i.multiple?[]:"",!1))}o[mo]=i}catch(g){Ec(n,n.return,g)}}break;case 6:if(gl(e,n),bl(n),4&r){if(null===n.stateNode)throw Error(a(162));o=n.stateNode,i=n.memoizedProps;try{o.nodeValue=i}catch(g){Ec(n,n.return,g)}}break;case 3:if(gl(e,n),bl(n),4&r&&null!==t&&t.memoizedState.isDehydrated)try{He(e.containerInfo)}catch(g){Ec(n,n.return,g)}break;case 4:default:gl(e,n),bl(n);break;case 13:gl(e,n),bl(n),8192&(o=n.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||(Ul=Zn())),4&r&&hl(n);break;case 22:if(d=null!==t&&null!==t.memoizedState,1&n.mode?(Xs=(u=Xs)||d,gl(e,n),Xs=u):gl(e,n),bl(n),8192&r){if(u=null!==n.memoizedState,(n.stateNode.isHidden=u)&&!d&&0!==(1&n.mode))for(Ys=n,d=n.child;null!==d;){for(p=Ys=d;null!==Ys;){switch(m=(f=Ys).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:nl(f,f.return);var h=f.stateNode;if("function"===typeof h.componentWillUnmount){r=f,t=f.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(g){Ec(r,t,g)}}break;case 5:nl(f,f.return);break;case 22:if(null!==f.memoizedState){kl(p);continue}}null!==m?(m.return=f,Ys=m):kl(p)}d=d.sibling}n:for(d=null,p=n;;){if(5===p.tag){if(null===d){d=p;try{o=p.stateNode,u?"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,s=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gn("display",s))}catch(g){Ec(n,n.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){Ec(n,n.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===n)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===n)break n;for(;null===p.sibling;){if(null===p.return||p.return===n)break n;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(e,n),bl(n),4&r&&hl(n);case 21:}}function bl(n){var e=n.flags;if(2&e){try{n:{for(var t=n.return;null!==t;){if(sl(t)){var r=t;break n}t=t.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fn(o,""),r.flags&=-33),ul(n,ll(n),o);break;case 3:case 4:var i=r.stateNode.containerInfo;cl(n,ll(n),i);break;default:throw Error(a(161))}}catch(s){Ec(n,n.return,s)}n.flags&=-3}4096&e&&(n.flags&=-4097)}function vl(n,e,t){Ys=n,xl(n,e,t)}function xl(n,e,t){for(var r=0!==(1&n.mode);null!==Ys;){var o=Ys,a=o.child;if(22===o.tag&&r){var i=null!==o.memoizedState||$s;if(!i){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=i,(Xs=l)&&!c)for(Ys=o;null!==Ys;)l=(i=Ys).child,22===i.tag&&null!==i.memoizedState?Sl(o):null!==l?(l.return=i,Ys=l):Sl(o);for(;null!==a;)Ys=a,xl(a,e,t),a=a.sibling;Ys=o,$s=s,Xs=c}wl(n)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Ys=a):wl(n)}}function wl(n){for(;null!==Ys;){var e=Ys;if(0!==(8772&e.flags)){var t=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Xs||ol(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Xs)if(null===t)r.componentDidMount();else{var o=e.elementType===e.type?t.memoizedProps:ya(e.type,t.memoizedProps);r.componentDidUpdate(o,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;null!==i&&Fa(e,i,r);break;case 3:var s=e.updateQueue;if(null!==s){if(t=null,null!==e.child)switch(e.child.tag){case 5:case 1:t=e.child.stateNode}Fa(e,s,t)}break;case 5:var l=e.stateNode;if(null===t&&4&e.flags){t=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&He(p)}}}break;default:throw Error(a(163))}Xs||512&e.flags&&al(e)}catch(f){Ec(e,e.return,f)}}if(e===n){Ys=null;break}if(null!==(t=e.sibling)){t.return=e.return,Ys=t;break}Ys=e.return}}function kl(n){for(;null!==Ys;){var e=Ys;if(e===n){Ys=null;break}var t=e.sibling;if(null!==t){t.return=e.return,Ys=t;break}Ys=e.return}}function Sl(n){for(;null!==Ys;){var e=Ys;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ol(4,e)}catch(l){Ec(e,t,l)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var o=e.return;try{r.componentDidMount()}catch(l){Ec(e,o,l)}}var a=e.return;try{al(e)}catch(l){Ec(e,a,l)}break;case 5:var i=e.return;try{al(e)}catch(l){Ec(e,i,l)}}}catch(l){Ec(e,e.return,l)}if(e===n){Ys=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Ys=s;break}Ys=e.return}}var _l,El=Math.ceil,Cl=x.ReactCurrentDispatcher,Nl=x.ReactCurrentOwner,Tl=x.ReactCurrentBatchConfig,ql=0,Al=null,Ll=null,jl=0,Pl=0,Ol=Eo(0),Ml=0,Il=null,Dl=0,Rl=0,Fl=0,Bl=null,zl=null,Ul=0,Hl=1/0,Gl=null,Vl=!1,Jl=null,Wl=null,Ql=!1,Kl=null,$l=0,Xl=0,Zl=null,Yl=-1,nc=0;function ec(){return 0!==(6&ql)?Zn():-1!==Yl?Yl:Yl=Zn()}function tc(n){return 0===(1&n.mode)?1:0!==(2&ql)&&0!==jl?jl&-jl:null!==ga.transition?(0===nc&&(nc=ge()),nc):0!==(n=xe)?n:n=void 0===(n=window.event)?16:Xe(n.type)}function rc(n,e,t,r){if(50<Xl)throw Xl=0,Zl=null,Error(a(185));be(n,t,r),0!==(2&ql)&&n===Al||(n===Al&&(0===(2&ql)&&(Rl|=t),4===Ml&&lc(n,jl)),oc(n,r),1===t&&0===ql&&0===(1&e.mode)&&(Hl=Zn()+500,Bo&&Ho()))}function oc(n,e){var t=n.callbackNode;!function(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,o=n.expirationTimes,a=n.pendingLanes;0<a;){var i=31-se(a),s=1<<i,l=o[i];-1===l?0!==(s&t)&&0===(s&r)||(o[i]=me(s,e)):l<=e&&(n.expiredLanes|=s),a&=~s}}(n,e);var r=fe(n,n===Al?jl:0);if(0===r)null!==t&&Kn(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(null!=t&&Kn(t),1===e)0===n.tag?function(n){Bo=!0,Uo(n)}(cc.bind(null,n)):Uo(cc.bind(null,n)),io((function(){0===(6&ql)&&Ho()})),t=null;else{switch(we(r)){case 1:t=ne;break;case 4:t=ee;break;case 16:default:t=te;break;case 536870912:t=oe}t=Ac(t,ac.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function ac(n,e){if(Yl=-1,nc=0,0!==(6&ql))throw Error(a(327));var t=n.callbackNode;if(Sc()&&n.callbackNode!==t)return null;var r=fe(n,n===Al?jl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&n.expiredLanes)||e)e=yc(n,r);else{e=r;var o=ql;ql|=2;var i=hc();for(Al===n&&jl===e||(Gl=null,Hl=Zn()+500,fc(n,e));;)try{vc();break}catch(l){mc(n,l)}ka(),Cl.current=i,ql=o,null!==Ll?e=0:(Al=null,jl=0,e=Ml)}if(0!==e){if(2===e&&(0!==(o=he(n))&&(r=o,e=ic(n,o))),1===e)throw t=Il,fc(n,0),lc(n,r),oc(n,Zn()),t;if(6===e)lc(n,r);else{if(o=n.current.alternate,0===(30&r)&&!function(n){for(var e=n;;){if(16384&e.flags){var t=e.updateQueue;if(null!==t&&null!==(t=t.stores))for(var r=0;r<t.length;r++){var o=t[r],a=o.getSnapshot;o=o.value;try{if(!sr(a(),o))return!1}catch(s){return!1}}}if(t=e.child,16384&e.subtreeFlags&&null!==t)t.return=e,e=t;else{if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(o)&&(2===(e=yc(n,r))&&(0!==(i=he(n))&&(r=i,e=ic(n,i))),1===e))throw t=Il,fc(n,0),lc(n,r),oc(n,Zn()),t;switch(n.finishedWork=o,n.finishedLanes=r,e){case 0:case 1:throw Error(a(345));case 2:case 5:kc(n,zl,Gl);break;case 3:if(lc(n,r),(130023424&r)===r&&10<(e=Ul+500-Zn())){if(0!==fe(n,0))break;if(((o=n.suspendedLanes)&r)!==r){ec(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=ro(kc.bind(null,n,zl,Gl),e);break}kc(n,zl,Gl);break;case 4:if(lc(n,r),(4194240&r)===r)break;for(e=n.eventTimes,o=-1;0<r;){var s=31-se(r);i=1<<s,(s=e[s])>o&&(o=s),r&=~i}if(r=o,10<(r=(120>(r=Zn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){n.timeoutHandle=ro(kc.bind(null,n,zl,Gl),r);break}kc(n,zl,Gl);break;default:throw Error(a(329))}}}return oc(n,Zn()),n.callbackNode===t?ac.bind(null,n):null}function ic(n,e){var t=Bl;return n.current.memoizedState.isDehydrated&&(fc(n,e).flags|=256),2!==(n=yc(n,e))&&(e=zl,zl=t,null!==e&&sc(e)),n}function sc(n){null===zl?zl=n:zl.push.apply(zl,n)}function lc(n,e){for(e&=~Fl,e&=~Rl,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-se(e),r=1<<t;n[t]=-1,e&=~r}}function cc(n){if(0!==(6&ql))throw Error(a(327));Sc();var e=fe(n,0);if(0===(1&e))return oc(n,Zn()),null;var t=yc(n,e);if(0!==n.tag&&2===t){var r=he(n);0!==r&&(e=r,t=ic(n,r))}if(1===t)throw t=Il,fc(n,0),lc(n,e),oc(n,Zn()),t;if(6===t)throw Error(a(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,kc(n,zl,Gl),oc(n,Zn()),null}function uc(n,e){var t=ql;ql|=1;try{return n(e)}finally{0===(ql=t)&&(Hl=Zn()+500,Bo&&Ho())}}function dc(n){null!==Kl&&0===Kl.tag&&0===(6&ql)&&Sc();var e=ql;ql|=1;var t=Tl.transition,r=xe;try{if(Tl.transition=null,xe=1,n)return n()}finally{xe=r,Tl.transition=t,0===(6&(ql=e))&&Ho()}}function pc(){Pl=Ol.current,Co(Ol)}function fc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(-1!==t&&(n.timeoutHandle=-1,oo(t)),null!==Ll)for(t=Ll.return;null!==t;){var r=t;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oo();break;case 3:ai(),Co(Ao),Co(qo),di();break;case 5:si(r);break;case 4:ai();break;case 13:case 19:Co(li);break;case 10:Sa(r.type._context);break;case 22:case 23:pc()}t=t.return}if(Al=n,Ll=n=Oc(n.current,null),jl=Pl=e,Ml=0,Il=null,Fl=Rl=Dl=0,zl=Bl=null,null!==Na){for(e=0;e<Na.length;e++)if(null!==(r=(t=Na[e]).interleaved)){t.interleaved=null;var o=r.next,a=t.pending;if(null!==a){var i=a.next;a.next=o,r.next=i}t.pending=r}Na=null}return n}function mc(n,e){for(;;){var t=Ll;try{if(ka(),pi.current=is,bi){for(var r=hi.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}bi=!1}if(mi=0,yi=gi=hi=null,vi=!1,xi=0,Nl.current=null,null===t||null===t.return){Ml=1,Il=e,Ll=null;break}n:{var i=n,s=t.return,l=t,c=e;if(e=jl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=ys(s);if(null!==m){m.flags&=-257,bs(m,s,l,0,e),1&m.mode&&gs(i,u,e),c=u;var h=(e=m).updateQueue;if(null===h){var g=new Set;g.add(c),e.updateQueue=g}else h.add(c);break n}if(0===(1&e)){gs(i,u,e),gc();break n}c=Error(a(426))}else if(aa&&1&l.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),bs(y,s,l,0,e),ha(us(c,l));break n}}i=c=us(c,l),4!==Ml&&(Ml=2),null===Bl?Bl=[i]:Bl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e,Da(i,ms(0,c,e));break n;case 1:l=c;var b=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Wl||!Wl.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e,Da(i,hs(i,l,e));break n}}i=i.return}while(null!==i)}wc(t)}catch(x){e=x,Ll===t&&null!==t&&(Ll=t=t.return);continue}break}}function hc(){var n=Cl.current;return Cl.current=is,null===n?is:n}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Al||0===(268435455&Dl)&&0===(268435455&Rl)||lc(Al,jl)}function yc(n,e){var t=ql;ql|=2;var r=hc();for(Al===n&&jl===e||(Gl=null,fc(n,e));;)try{bc();break}catch(o){mc(n,o)}if(ka(),ql=t,Cl.current=r,null!==Ll)throw Error(a(261));return Al=null,jl=0,Ml}function bc(){for(;null!==Ll;)xc(Ll)}function vc(){for(;null!==Ll&&!$n();)xc(Ll)}function xc(n){var e=_l(n.alternate,n,Pl);n.memoizedProps=n.pendingProps,null===e?wc(n):Ll=e,Nl.current=null}function wc(n){var e=n;do{var t=e.alternate;if(n=e.return,0===(32768&e.flags)){if(null!==(t=Qs(t,e,Pl)))return void(Ll=t)}else{if(null!==(t=Ks(t,e)))return t.flags&=32767,void(Ll=t);if(null===n)return Ml=6,void(Ll=null);n.flags|=32768,n.subtreeFlags=0,n.deletions=null}if(null!==(e=e.sibling))return void(Ll=e);Ll=e=n}while(null!==e);0===Ml&&(Ml=5)}function kc(n,e,t){var r=xe,o=Tl.transition;try{Tl.transition=null,xe=1,function(n,e,t,r){do{Sc()}while(null!==Kl);if(0!==(6&ql))throw Error(a(327));t=n.finishedWork;var o=n.finishedLanes;if(null===t)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(a(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(function(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var o=31-se(t),a=1<<o;e[o]=0,r[o]=-1,n[o]=-1,t&=~a}}(n,i),n===Al&&(Ll=Al=null,jl=0),0===(2064&t.subtreeFlags)&&0===(2064&t.flags)||Ql||(Ql=!0,Ac(te,(function(){return Sc(),null}))),i=0!==(15990&t.flags),0!==(15990&t.subtreeFlags)||i){i=Tl.transition,Tl.transition=null;var s=xe;xe=1;var l=ql;ql|=4,Nl.current=null,function(n,e){if(no=Ve,fr(n=pr())){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else n:{var r=(t=(t=n.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch(w){t=null;break n}var s=0,l=-1,c=-1,u=0,d=0,p=n,f=null;e:for(;;){for(var m;p!==t||0!==o&&3!==p.nodeType||(l=s+o),p!==i||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(m=p.firstChild);)f=p,p=m;for(;;){if(p===n)break e;if(f===t&&++u===o&&(l=s),f===i&&++d===r&&(c=s),null!==(m=p.nextSibling))break;f=(p=f).parentNode}p=m}t=-1===l||-1===c?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(eo={focusedElem:n,selectionRange:t},Ve=!1,Ys=e;null!==Ys;)if(n=(e=Ys).child,0!==(1028&e.subtreeFlags)&&null!==n)n.return=e,Ys=n;else for(;null!==Ys;){e=Ys;try{var h=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var g=h.memoizedProps,y=h.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:ya(e.type,g),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(e,e.return,w)}if(null!==(n=e.sibling)){n.return=e.return,Ys=n;break}Ys=e.return}h=tl,tl=!1}(n,t),yl(t,n),mr(eo),Ve=!!no,eo=no=null,n.current=t,vl(t,n,o),Xn(),ql=l,xe=s,Tl.transition=i}else n.current=t;if(Ql&&(Ql=!1,Kl=n,$l=o),i=n.pendingLanes,0===i&&(Wl=null),function(n){if(ie&&"function"===typeof ie.onCommitFiberRoot)try{ie.onCommitFiberRoot(ae,n,void 0,128===(128&n.current.flags))}catch(e){}}(t.stateNode),oc(n,Zn()),null!==e)for(r=n.onRecoverableError,t=0;t<e.length;t++)o=e[t],r(o.value,{componentStack:o.stack,digest:o.digest});if(Vl)throw Vl=!1,n=Jl,Jl=null,n;0!==(1&$l)&&0!==n.tag&&Sc(),i=n.pendingLanes,0!==(1&i)?n===Zl?Xl++:(Xl=0,Zl=n):Xl=0,Ho()}(n,e,t,r)}finally{Tl.transition=o,xe=r}return null}function Sc(){if(null!==Kl){var n=we($l),e=Tl.transition,t=xe;try{if(Tl.transition=null,xe=16>n?16:n,null===Kl)var r=!1;else{if(n=Kl,Kl=null,$l=0,0!==(6&ql))throw Error(a(331));var o=ql;for(ql|=4,Ys=n.current;null!==Ys;){var i=Ys,s=i.child;if(0!==(16&Ys.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ys=u;null!==Ys;){var d=Ys;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var p=d.child;if(null!==p)p.return=d,Ys=p;else for(;null!==Ys;){var f=(d=Ys).sibling,m=d.return;if(il(d),d===u){Ys=null;break}if(null!==f){f.return=m,Ys=f;break}Ys=m}}}var h=i.alternate;if(null!==h){var g=h.child;if(null!==g){h.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ys=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Ys=s;else n:for(;null!==Ys;){if(0!==(2048&(i=Ys).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Ys=b;break n}Ys=i.return}}var v=n.current;for(Ys=v;null!==Ys;){var x=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Ys=x;else n:for(s=v;null!==Ys;){if(0!==(2048&(l=Ys).flags))try{switch(l.tag){case 0:case 11:case 15:ol(9,l)}}catch(k){Ec(l,l.return,k)}if(l===s){Ys=null;break n}var w=l.sibling;if(null!==w){w.return=l.return,Ys=w;break n}Ys=l.return}}if(ql=o,Ho(),ie&&"function"===typeof ie.onPostCommitFiberRoot)try{ie.onPostCommitFiberRoot(ae,n)}catch(k){}r=!0}return r}finally{xe=t,Tl.transition=e}}return!1}function _c(n,e,t){n=Ma(n,e=ms(0,e=us(t,e),1),1),e=ec(),null!==n&&(be(n,1,e),oc(n,e))}function Ec(n,e,t){if(3===n.tag)_c(n,n,t);else for(;null!==e;){if(3===e.tag){_c(e,n,t);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){e=Ma(e,n=hs(e,n=us(t,n),1),1),n=ec(),null!==e&&(be(e,1,n),oc(e,n));break}}e=e.return}}function Cc(n,e,t){var r=n.pingCache;null!==r&&r.delete(e),e=ec(),n.pingedLanes|=n.suspendedLanes&t,Al===n&&(jl&t)===t&&(4===Ml||3===Ml&&(130023424&jl)===jl&&500>Zn()-Ul?fc(n,0):Fl|=t),oc(n,e)}function Nc(n,e){0===e&&(0===(1&n.mode)?e=1:(e=de,0===(130023424&(de<<=1))&&(de=4194304)));var t=ec();null!==(n=Aa(n,e))&&(be(n,e,t),oc(n,t))}function Tc(n){var e=n.memoizedState,t=0;null!==e&&(t=e.retryLane),Nc(n,t)}function qc(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,o=n.memoizedState;null!==o&&(t=o.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(e),Nc(n,t)}function Ac(n,e){return Qn(n,e)}function Lc(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(n,e,t,r){return new Lc(n,e,t,r)}function Pc(n){return!(!(n=n.prototype)||!n.isReactComponent)}function Oc(n,e){var t=n.alternate;return null===t?((t=jc(n.tag,e,n.key,n.mode)).elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=14680064&n.flags,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Mc(n,e,t,r,o,i){var s=2;if(r=n,"function"===typeof n)Pc(n)&&(s=1);else if("string"===typeof n)s=5;else n:switch(n){case S:return Ic(t.children,o,i,e);case _:s=8,o|=8;break;case E:return(n=jc(12,t,e,2|o)).elementType=E,n.lanes=i,n;case q:return(n=jc(13,t,e,o)).elementType=q,n.lanes=i,n;case A:return(n=jc(19,t,e,o)).elementType=A,n.lanes=i,n;case P:return Dc(t,o,i,e);default:if("object"===typeof n&&null!==n)switch(n.$$typeof){case C:s=10;break n;case N:s=9;break n;case T:s=11;break n;case L:s=14;break n;case j:s=16,r=null;break n}throw Error(a(130,null==n?n:typeof n,""))}return(e=jc(s,t,e,o)).elementType=n,e.type=r,e.lanes=i,e}function Ic(n,e,t,r){return(n=jc(7,n,r,e)).lanes=t,n}function Dc(n,e,t,r){return(n=jc(22,n,r,e)).elementType=P,n.lanes=t,n.stateNode={isHidden:!1},n}function Rc(n,e,t){return(n=jc(6,n,null,e)).lanes=t,n}function Fc(n,e,t){return(e=jc(4,null!==n.children?n.children:[],n.key,e)).lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Bc(n,e,t,r,o){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ye(0),this.expirationTimes=ye(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ye(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function zc(n,e,t,r,o,a,i,s,l){return n=new Bc(n,e,t,s,l),1===e?(e=1,!0===a&&(e|=8)):e=0,a=jc(3,null,null,e),n.current=a,a.stateNode=n,a.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(a),n}function Uc(n){if(!n)return To;n:{if(Hn(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break n;case 1:if(Po(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break n}}e=e.return}while(null!==e);throw Error(a(171))}if(1===n.tag){var t=n.type;if(Po(t))return Io(n,t,e)}return e}function Hc(n,e,t,r,o,a,i,s,l){return(n=zc(t,r,!0,n,0,a,0,s,l)).context=Uc(null),t=n.current,(a=Oa(r=ec(),o=tc(t))).callback=void 0!==e&&null!==e?e:null,Ma(t,a,o),n.current.lanes=o,be(n,o,r),oc(n,r),n}function Gc(n,e,t,r){var o=e.current,a=ec(),i=tc(o);return t=Uc(t),null===e.context?e.context=t:e.pendingContext=t,(e=Oa(a,i)).payload={element:n},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(n=Ma(o,e,i))&&(rc(n,o,i,a),Ia(n,o,i)),i}function Vc(n){return(n=n.current).child?(n.child.tag,n.child.stateNode):null}function Jc(n,e){if(null!==(n=n.memoizedState)&&null!==n.dehydrated){var t=n.retryLane;n.retryLane=0!==t&&t<e?t:e}}function Wc(n,e){Jc(n,e),(n=n.alternate)&&Jc(n,e)}_l=function(n,e,t){if(null!==n)if(n.memoizedProps!==e.pendingProps||Ao.current)xs=!0;else{if(0===(n.lanes&t)&&0===(128&e.flags))return xs=!1,function(n,e,t){switch(e.tag){case 3:As(e),ma();break;case 5:ii(e);break;case 1:Po(e.type)&&Do(e);break;case 4:oi(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;No(ba,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(No(li,1&li.current),e.flags|=128,null):0!==(t&e.child.childLanes)?Rs(n,e,t):(No(li,1&li.current),null!==(n=Vs(n,e,t))?n.sibling:null);No(li,1&li.current);break;case 19:if(r=0!==(t&e.childLanes),0!==(128&n.flags)){if(r)return Hs(n,e,t);e.flags|=128}if(null!==(o=e.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),No(li,li.current),r)break;return null;case 22:case 23:return e.lanes=0,Es(n,e,t)}return Vs(n,e,t)}(n,e,t);xs=0!==(131072&n.flags)}else xs=!1,aa&&0!==(1048576&e.flags)&&na(e,Wo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gs(n,e),n=e.pendingProps;var o=jo(e,qo.current);Ea(e,t),o=_i(null,e,r,n,o,t);var i=Ei();return e.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Po(r)?(i=!0,Do(e)):i=!1,e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ja(e),o.updater=Ua,e.stateNode=o,o._reactInternals=e,Ja(e,r,n,t),e=qs(null,e,r,!0,i,t)):(e.tag=0,aa&&i&&ea(e),ws(null,e,o,t),e=e.child),e;case 16:r=e.elementType;n:{switch(Gs(n,e),n=e.pendingProps,r=(o=r._init)(r._payload),e.type=r,o=e.tag=function(n){if("function"===typeof n)return Pc(n)?1:0;if(void 0!==n&&null!==n){if((n=n.$$typeof)===T)return 11;if(n===L)return 14}return 2}(r),n=ya(r,n),o){case 0:e=Ns(null,e,r,n,t);break n;case 1:e=Ts(null,e,r,n,t);break n;case 11:e=ks(null,e,r,n,t);break n;case 14:e=Ss(null,e,r,ya(r.type,n),t);break n}throw Error(a(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,Ns(n,e,r,o=e.elementType===r?o:ya(r,o),t);case 1:return r=e.type,o=e.pendingProps,Ts(n,e,r,o=e.elementType===r?o:ya(r,o),t);case 3:n:{if(As(e),null===n)throw Error(a(387));r=e.pendingProps,o=(i=e.memoizedState).element,Pa(n,e),Ra(e,r,null,t);var s=e.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,256&e.flags){e=Ls(n,e,r,t,o=us(Error(a(423)),e));break n}if(r!==o){e=Ls(n,e,r,t,o=us(Error(a(424)),e));break n}for(oa=co(e.stateNode.containerInfo.firstChild),ra=e,aa=!0,ia=null,t=Za(e,null,r,t),e.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(ma(),r===o){e=Vs(n,e,t);break n}ws(n,e,r,t)}e=e.child}return e;case 5:return ii(e),null===n&&ua(e),r=e.type,o=e.pendingProps,i=null!==n?n.memoizedProps:null,s=o.children,to(r,o)?s=null:null!==i&&to(r,i)&&(e.flags|=32),Cs(n,e),ws(n,e,s,t),e.child;case 6:return null===n&&ua(e),null;case 13:return Rs(n,e,t);case 4:return oi(e,e.stateNode.containerInfo),r=e.pendingProps,null===n?e.child=Xa(e,null,r,t):ws(n,e,r,t),e.child;case 11:return r=e.type,o=e.pendingProps,ks(n,e,r,o=e.elementType===r?o:ya(r,o),t);case 7:return ws(n,e,e.pendingProps,t),e.child;case 8:case 12:return ws(n,e,e.pendingProps.children,t),e.child;case 10:n:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,No(ba,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===o.children&&!Ao.current){e=Vs(n,e,t);break n}}else for(null!==(i=e.child)&&(i.return=e);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Oa(-1,t&-t)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=t,null!==(c=i.alternate)&&(c.lanes|=t),_a(i.return,t,e),l.lanes|=t;break}c=c.next}}else if(10===i.tag)s=i.type===e.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=t,null!==(l=s.alternate)&&(l.lanes|=t),_a(s,t,e),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ws(n,e,o.children,t),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Ea(e,t),r=r(o=Ca(o)),e.flags|=1,ws(n,e,r,t),e.child;case 14:return o=ya(r=e.type,e.pendingProps),Ss(n,e,r,o=ya(r.type,o),t);case 15:return _s(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ya(r,o),Gs(n,e),e.tag=1,Po(r)?(n=!0,Do(e)):n=!1,Ea(e,t),Ga(e,r,o),Ja(e,r,o,t),qs(null,e,r,!0,n,t);case 19:return Hs(n,e,t);case 22:return Es(n,e,t)}throw Error(a(156,e.tag))};var Qc="function"===typeof reportError?reportError:function(n){console.error(n)};function Kc(n){this._internalRoot=n}function $c(n){this._internalRoot=n}function Xc(n){return!(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)}function Zc(n){return!(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType&&(8!==n.nodeType||" react-mount-point-unstable "!==n.nodeValue))}function Yc(){}function nu(n,e,t,r,o){var a=t._reactRootContainer;if(a){var i=a;if("function"===typeof o){var s=o;o=function(){var n=Vc(i);s.call(n)}}Gc(e,i,n,o)}else i=function(n,e,t,r,o){if(o){if("function"===typeof r){var a=r;r=function(){var n=Vc(i);a.call(n)}}var i=Hc(e,r,n,0,null,!1,0,"",Yc);return n._reactRootContainer=i,n[ho]=i.current,Ur(8===n.nodeType?n.parentNode:n),dc(),i}for(;o=n.lastChild;)n.removeChild(o);if("function"===typeof r){var s=r;r=function(){var n=Vc(l);s.call(n)}}var l=zc(n,0,!1,null,0,!1,0,"",Yc);return n._reactRootContainer=l,n[ho]=l.current,Ur(8===n.nodeType?n.parentNode:n),dc((function(){Gc(e,l,t,r)})),l}(t,e,n,o,r);return Vc(i)}$c.prototype.render=Kc.prototype.render=function(n){var e=this._internalRoot;if(null===e)throw Error(a(409));Gc(n,e,null,null)},$c.prototype.unmount=Kc.prototype.unmount=function(){var n=this._internalRoot;if(null!==n){this._internalRoot=null;var e=n.containerInfo;dc((function(){Gc(null,n,null,null)})),e[ho]=null}},$c.prototype.unstable_scheduleHydration=function(n){if(n){var e=Ee();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Oe.length&&0!==e&&e<Oe[t].priority;t++);Oe.splice(t,0,n),0===t&&Re(n)}},ke=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=pe(e.pendingLanes);0!==t&&(ve(e,1|t),oc(e,Zn()),0===(6&ql)&&(Hl=Zn()+500,Ho()))}break;case 13:dc((function(){var e=Aa(n,1);if(null!==e){var t=ec();rc(e,n,1,t)}})),Wc(n,1)}},Se=function(n){if(13===n.tag){var e=Aa(n,134217728);if(null!==e)rc(e,n,134217728,ec());Wc(n,134217728)}},_e=function(n){if(13===n.tag){var e=tc(n),t=Aa(n,e);if(null!==t)rc(t,n,e,ec());Wc(n,e)}},Ee=function(){return xe},Ce=function(n,e){var t=xe;try{return xe=n,e()}finally{xe=t}},Sn=function(n,e,t){switch(e){case"input":if(Z(n,t),e=t.name,"radio"===t.type&&null!=e){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var o=ko(r);if(!o)throw Error(a(90));W(r),Z(r,o)}}}break;case"textarea":an(n,t);break;case"select":null!=(e=t.value)&&tn(n,!!t.multiple,e,!1)}},qn=uc,An=dc;var eu={usingClientEntryPoint:!1,Events:[xo,wo,ko,Nn,Tn,uc]},tu={findFiberByHostInstance:vo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return null===(n=Jn(n))?null:n.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{ae=ou.inject(ru),ie=ou}catch(dn){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,e.createPortal=function(n,e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(e))throw Error(a(200));return function(n,e,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:n,containerInfo:e,implementation:t}}(n,e,null,t)},e.createRoot=function(n,e){if(!Xc(n))throw Error(a(299));var t=!1,r="",o=Qc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(t=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(o=e.onRecoverableError)),e=zc(n,1,!1,null,0,t,0,r,o),n[ho]=e.current,Ur(8===n.nodeType?n.parentNode:n),new Kc(e)},e.findDOMNode=function(n){if(null==n)return null;if(1===n.nodeType)return n;var e=n._reactInternals;if(void 0===e){if("function"===typeof n.render)throw Error(a(188));throw n=Object.keys(n).join(","),Error(a(268,n))}return n=null===(n=Jn(e))?null:n.stateNode},e.flushSync=function(n){return dc(n)},e.hydrate=function(n,e,t){if(!Zc(e))throw Error(a(200));return nu(null,n,e,!0,t)},e.hydrateRoot=function(n,e,t){if(!Xc(n))throw Error(a(405));var r=null!=t&&t.hydratedSources||null,o=!1,i="",s=Qc;if(null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(o=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),e=Hc(e,null,n,1,null!=t?t:null,o,0,i,s),n[ho]=e.current,Ur(n),r)for(n=0;n<r.length;n++)o=(o=(t=r[n])._getVersion)(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,o]:e.mutableSourceEagerHydrationData.push(t,o);return new $c(e)},e.render=function(n,e,t){if(!Zc(e))throw Error(a(200));return nu(null,n,e,!1,t)},e.unmountComponentAtNode=function(n){if(!Zc(n))throw Error(a(40));return!!n._reactRootContainer&&(dc((function(){nu(null,null,n,!1,(function(){n._reactRootContainer=null,n[ho]=null}))})),!0)},e.unstable_batchedUpdates=uc,e.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Zc(t))throw Error(a(200));if(null==n||void 0===n._reactInternals)throw Error(a(38));return nu(n,e,t,!1,r)},e.version="18.2.0-next-9e3b772b8-20220608"},1250:function(n,e,t){"use strict";var r=t(4164);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},4164:function(n,e,t){"use strict";!function n(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}(),n.exports=t(4463)},1372:function(n,e){"use strict";var t="function"===typeof Symbol&&Symbol.for,r=t?Symbol.for("react.element"):60103,o=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,h=t?Symbol.for("react.memo"):60115,g=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,v=t?Symbol.for("react.responder"):60118,x=t?Symbol.for("react.scope"):60119;function w(n){if("object"===typeof n&&null!==n){var e=n.$$typeof;switch(e){case r:switch(n=n.type){case u:case d:case a:case s:case i:case f:return n;default:switch(n=n&&n.$$typeof){case c:case p:case g:case h:case l:return n;default:return e}}case o:return e}}}function k(n){return w(n)===d}e.isFragment=function(n){return w(n)===a},e.isMemo=function(n){return w(n)===h}},7441:function(n,e,t){"use strict";n.exports=t(1372)},6374:function(n,e,t){"use strict";var r=t(2791),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(n,e,t){var r,a={},c=null,u=null;for(r in void 0!==t&&(c=""+t),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)i.call(e,r)&&!l.hasOwnProperty(r)&&(a[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps)void 0===a[r]&&(a[r]=e[r]);return{$$typeof:o,type:n,key:c,ref:u,props:a,_owner:s.current}}e.Fragment=a,e.jsx=c,e.jsxs=c},9117:function(n,e){"use strict";var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function y(n,e,t){this.props=n,this.context=e,this.refs=g,this.updater=t||m}function b(){}function v(n,e,t){this.props=n,this.context=e,this.refs=g,this.updater=t||m}y.prototype.isReactComponent={},y.prototype.setState=function(n,e){if("object"!==typeof n&&"function"!==typeof n&&null!=n)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")},y.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")},b.prototype=y.prototype;var x=v.prototype=new b;x.constructor=v,h(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(n,e,r){var o,a={},i=null,s=null;if(null!=e)for(o in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(i=""+e.key),e)k.call(e,o)&&!_.hasOwnProperty(o)&&(a[o]=e[o]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(n&&n.defaultProps)for(o in l=n.defaultProps)void 0===a[o]&&(a[o]=l[o]);return{$$typeof:t,type:n,key:i,ref:s,props:a,_owner:S.current}}function C(n){return"object"===typeof n&&null!==n&&n.$$typeof===t}var N=/\/+/g;function T(n,e){return"object"===typeof n&&null!==n&&null!=n.key?function(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,(function(n){return e[n]}))}(""+n.key):e.toString(36)}function q(n,e,o,a,i){var s=typeof n;"undefined"!==s&&"boolean"!==s||(n=null);var l=!1;if(null===n)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case t:case r:l=!0}}if(l)return i=i(l=n),n=""===a?"."+T(l,0):a,w(i)?(o="",null!=n&&(o=n.replace(N,"$&/")+"/"),q(i,e,o,"",(function(n){return n}))):null!=i&&(C(i)&&(i=function(n,e){return{$$typeof:t,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}(i,o+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(N,"$&/")+"/")+n)),e.push(i)),1;if(l=0,a=""===a?".":a+":",w(n))for(var c=0;c<n.length;c++){var u=a+T(s=n[c],c);l+=q(s,e,o,u,i)}else if(u=function(n){return null===n||"object"!==typeof n?null:"function"===typeof(n=f&&n[f]||n["@@iterator"])?n:null}(n),"function"===typeof u)for(n=u.call(n),c=0;!(s=n.next()).done;)l+=q(s=s.value,e,o,u=a+T(s,c++),i);else if("object"===s)throw e=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function A(n,e,t){if(null==n)return n;var r=[],o=0;return q(n,r,"","",(function(n){return e.call(t,n,o++)})),r}function L(n){if(-1===n._status){var e=n._result;(e=e()).then((function(e){0!==n._status&&-1!==n._status||(n._status=1,n._result=e)}),(function(e){0!==n._status&&-1!==n._status||(n._status=2,n._result=e)})),-1===n._status&&(n._status=0,n._result=e)}if(1===n._status)return n._result.default;throw n._result}var j={current:null},P={transition:null},O={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};e.Children={map:A,forEach:function(n,e,t){A(n,(function(){e.apply(this,arguments)}),t)},count:function(n){var e=0;return A(n,(function(){e++})),e},toArray:function(n){return A(n,(function(n){return n}))||[]},only:function(n){if(!C(n))throw Error("React.Children.only expected to receive a single React element child.");return n}},e.Component=y,e.Fragment=o,e.Profiler=i,e.PureComponent=v,e.StrictMode=a,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.cloneElement=function(n,e,r){if(null===n||void 0===n)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var o=h({},n.props),a=n.key,i=n.ref,s=n._owner;if(null!=e){if(void 0!==e.ref&&(i=e.ref,s=S.current),void 0!==e.key&&(a=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(c in e)k.call(e,c)&&!_.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:t,type:n.type,key:a,ref:i,props:o,_owner:s}},e.createContext=function(n){return(n={$$typeof:l,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:n},n.Consumer=n},e.createElement=E,e.createFactory=function(n){var e=E.bind(null,n);return e.type=n,e},e.createRef=function(){return{current:null}},e.forwardRef=function(n){return{$$typeof:c,render:n}},e.isValidElement=C,e.lazy=function(n){return{$$typeof:p,_payload:{_status:-1,_result:n},_init:L}},e.memo=function(n,e){return{$$typeof:d,type:n,compare:void 0===e?null:e}},e.startTransition=function(n){var e=P.transition;P.transition={};try{n()}finally{P.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(n,e){return j.current.useCallback(n,e)},e.useContext=function(n){return j.current.useContext(n)},e.useDebugValue=function(){},e.useDeferredValue=function(n){return j.current.useDeferredValue(n)},e.useEffect=function(n,e){return j.current.useEffect(n,e)},e.useId=function(){return j.current.useId()},e.useImperativeHandle=function(n,e,t){return j.current.useImperativeHandle(n,e,t)},e.useInsertionEffect=function(n,e){return j.current.useInsertionEffect(n,e)},e.useLayoutEffect=function(n,e){return j.current.useLayoutEffect(n,e)},e.useMemo=function(n,e){return j.current.useMemo(n,e)},e.useReducer=function(n,e,t){return j.current.useReducer(n,e,t)},e.useRef=function(n){return j.current.useRef(n)},e.useState=function(n){return j.current.useState(n)},e.useSyncExternalStore=function(n,e,t){return j.current.useSyncExternalStore(n,e,t)},e.useTransition=function(){return j.current.useTransition()},e.version="18.2.0"},2791:function(n,e,t){"use strict";n.exports=t(9117)},184:function(n,e,t){"use strict";n.exports=t(6374)},6813:function(n,e){"use strict";function t(n,e){var t=n.length;n.push(e);n:for(;0<t;){var r=t-1>>>1,o=n[r];if(!(0<a(o,e)))break n;n[r]=e,n[t]=o,t=r}}function r(n){return 0===n.length?null:n[0]}function o(n){if(0===n.length)return null;var e=n[0],t=n.pop();if(t!==e){n[0]=t;n:for(var r=0,o=n.length,i=o>>>1;r<i;){var s=2*(r+1)-1,l=n[s],c=s+1,u=n[c];if(0>a(l,t))c<o&&0>a(u,l)?(n[r]=u,n[c]=t,r=c):(n[r]=l,n[s]=t,r=s);else{if(!(c<o&&0>a(u,t)))break n;n[r]=u,n[c]=t,r=c}}}return e}function a(n,e){var t=n.sortIndex-e.sortIndex;return 0!==t?t:n.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,f=3,m=!1,h=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function x(n){for(var e=r(u);null!==e;){if(null===e.callback)o(u);else{if(!(e.startTime<=n))break;o(u),e.sortIndex=e.expirationTime,t(c,e)}e=r(u)}}function w(n){if(g=!1,x(n),!h)if(null!==r(c))h=!0,P(k);else{var e=r(u);null!==e&&O(w,e.startTime-n)}}function k(n,t){h=!1,g&&(g=!1,b(C),C=-1),m=!0;var a=f;try{for(x(t),p=r(c);null!==p&&(!(p.expirationTime>t)||n&&!q());){var i=p.callback;if("function"===typeof i){p.callback=null,f=p.priorityLevel;var s=i(p.expirationTime<=t);t=e.unstable_now(),"function"===typeof s?p.callback=s:p===r(c)&&o(c),x(t)}else o(c);p=r(c)}if(null!==p)var l=!0;else{var d=r(u);null!==d&&O(w,d.startTime-t),l=!1}return l}finally{p=null,f=a,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,E=null,C=-1,N=5,T=-1;function q(){return!(e.unstable_now()-T<N)}function A(){if(null!==E){var n=e.unstable_now();T=n;var t=!0;try{t=E(!0,n)}finally{t?S():(_=!1,E=null)}}else _=!1}if("function"===typeof v)S=function(){v(A)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,j=L.port2;L.port1.onmessage=A,S=function(){j.postMessage(null)}}else S=function(){y(A,0)};function P(n){E=n,_||(_=!0,S())}function O(n,t){C=y((function(){n(e.unstable_now())}),t)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(n){n.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,P(k))},e.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<n?Math.floor(1e3/n):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(n){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var t=f;f=e;try{return n()}finally{f=t}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=f;f=n;try{return e()}finally{f=t}},e.unstable_scheduleCallback=function(n,o,a){var i=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,n){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return n={id:d++,callback:o,priorityLevel:n,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(n.sortIndex=a,t(u,n),null===r(c)&&n===r(u)&&(g?(b(C),C=-1):g=!0,O(w,a-i))):(n.sortIndex=s,t(c,n),h||m||(h=!0,P(k))),n},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(n){var e=f;return function(){var t=f;f=e;try{return n.apply(this,arguments)}finally{f=t}}}},5296:function(n,e,t){"use strict";n.exports=t(6813)},538:function(n){n.exports=/[\0-\x1F\x7F-\x9F]/},7319:function(n){n.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},3741:function(n){n.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},2426:function(n){n.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},6937:function(n,e,t){"use strict";e.Any=t(5510),e.Cc=t(538),e.Cf=t(7319),e.P=t(3741),e.Z=t(2426)},5510:function(n){n.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},907:function(n,e,t){"use strict";function r(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}t.d(e,{Z:function(){return r}})},7762:function(n,e,t){"use strict";t.d(e,{Z:function(){return o}});var r=t(181);function o(n,e){var t="undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=(0,r.Z)(n))||e&&n&&"number"===typeof n.length){t&&(n=t);var o=0,a=function(){};return{s:a,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return s=n.done,n},e:function(n){l=!0,i=n},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw i}}}}},9199:function(n,e,t){"use strict";function r(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}t.d(e,{Z:function(){return r}})},3433:function(n,e,t){"use strict";t.d(e,{Z:function(){return i}});var r=t(907);var o=t(9199),a=t(181);function i(n){return function(n){if(Array.isArray(n))return(0,r.Z)(n)}(n)||(0,o.Z)(n)||(0,a.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(n,e,t){"use strict";t.d(e,{Z:function(){return o}});var r=t(907);function o(n,e){if(n){if("string"===typeof n)return(0,r.Z)(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?(0,r.Z)(n,e):void 0}}},9483:function(n,e,t){"use strict";t.d(e,{Z:function(){return g}});var r=!1,o={false:"push",true:"unshift",after:"push",before:"unshift"},a={isPermalinkSymbol:!0};function i(n,e,t,i){var s;if(!r){var l="Using deprecated markdown-it-anchor permalink option, see https://github.com/valeriangalliat/markdown-it-anchor#permalinks";"object"==typeof process&&process&&process.emitWarning?process.emitWarning(l):console.warn(l),r=!0}var c=[Object.assign(new t.Token("link_open","a",1),{attrs:[].concat(e.permalinkClass?[["class",e.permalinkClass]]:[],[["href",e.permalinkHref(n,t)]],Object.entries(e.permalinkAttrs(n,t)))}),Object.assign(new t.Token("html_block","",0),{content:e.permalinkSymbol,meta:a}),new t.Token("link_close","a",-1)];e.permalinkSpace&&t.tokens[i+1].children[o[e.permalinkBefore]](Object.assign(new t.Token("text","",0),{content:" "})),(s=t.tokens[i+1].children)[o[e.permalinkBefore]].apply(s,c)}function s(n){return"#"+n}function l(n){return{}}var c={class:"header-anchor",symbol:"#",renderHref:s,renderAttrs:l};function u(n){function e(t){return t=Object.assign({},e.defaults,t),function(e,r,o,a){return n(e,t,r,o,a)}}return e.defaults=Object.assign({},c),e.renderPermalinkImpl=n,e}var d=u((function(n,e,t,r,i){var s,l=[Object.assign(new r.Token("link_open","a",1),{attrs:[].concat(e.class?[["class",e.class]]:[],[["href",e.renderHref(n,r)]],e.ariaHidden?[["aria-hidden","true"]]:[],Object.entries(e.renderAttrs(n,r)))}),Object.assign(new r.Token("html_inline","",0),{content:e.symbol,meta:a}),new r.Token("link_close","a",-1)];if(e.space){var c="string"==typeof e.space?e.space:" ";r.tokens[i+1].children[o[e.placement]](Object.assign(new r.Token("string"==typeof e.space?"html_inline":"text","",0),{content:c}))}(s=r.tokens[i+1].children)[o[e.placement]].apply(s,l)}));Object.assign(d.defaults,{space:!0,placement:"after",ariaHidden:!1});var p=u(d.renderPermalinkImpl);p.defaults=Object.assign({},d.defaults,{ariaHidden:!0});var f=u((function(n,e,t,r,o){var a=[Object.assign(new r.Token("link_open","a",1),{attrs:[].concat(e.class?[["class",e.class]]:[],[["href",e.renderHref(n,r)]],Object.entries(e.renderAttrs(n,r)))})].concat(e.safariReaderFix?[new r.Token("span_open","span",1)]:[],r.tokens[o+1].children,e.safariReaderFix?[new r.Token("span_close","span",-1)]:[],[new r.Token("link_close","a",-1)]);r.tokens[o+1]=Object.assign(new r.Token("inline","",0),{children:a})}));Object.assign(f.defaults,{safariReaderFix:!1});var m=u((function(n,e,t,r,i){var s;if(!["visually-hidden","aria-label","aria-describedby","aria-labelledby"].includes(e.style))throw new Error("`permalink.linkAfterHeader` called with unknown style option `"+e.style+"`");if(!["aria-describedby","aria-labelledby"].includes(e.style)&&!e.assistiveText)throw new Error("`permalink.linkAfterHeader` called without the `assistiveText` option in `"+e.style+"` style");if("visually-hidden"===e.style&&!e.visuallyHiddenClass)throw new Error("`permalink.linkAfterHeader` called without the `visuallyHiddenClass` option in `visually-hidden` style");var l=r.tokens[i+1].children.filter((function(n){return"text"===n.type||"code_inline"===n.type})).reduce((function(n,e){return n+e.content}),""),c=[],u=[];if(e.class&&u.push(["class",e.class]),u.push(["href",e.renderHref(n,r)]),u.push.apply(u,Object.entries(e.renderAttrs(n,r))),"visually-hidden"===e.style){if(c.push(Object.assign(new r.Token("span_open","span",1),{attrs:[["class",e.visuallyHiddenClass]]}),Object.assign(new r.Token("text","",0),{content:e.assistiveText(l)}),new r.Token("span_close","span",-1)),e.space){var d="string"==typeof e.space?e.space:" ";c[o[e.placement]](Object.assign(new r.Token("string"==typeof e.space?"html_inline":"text","",0),{content:d}))}c[o[e.placement]](Object.assign(new r.Token("span_open","span",1),{attrs:[["aria-hidden","true"]]}),Object.assign(new r.Token("html_inline","",0),{content:e.symbol,meta:a}),new r.Token("span_close","span",-1))}else c.push(Object.assign(new r.Token("html_inline","",0),{content:e.symbol,meta:a}));"aria-label"===e.style?u.push(["aria-label",e.assistiveText(l)]):["aria-describedby","aria-labelledby"].includes(e.style)&&u.push([e.style,n]);var p=[Object.assign(new r.Token("link_open","a",1),{attrs:u})].concat(c,[new r.Token("link_close","a",-1)]);(s=r.tokens).splice.apply(s,[i+3,0].concat(p)),e.wrapper&&(r.tokens.splice(i,0,Object.assign(new r.Token("html_block","",0),{content:e.wrapper[0]+"\n"})),r.tokens.splice(i+3+p.length+1,0,Object.assign(new r.Token("html_block","",0),{content:e.wrapper[1]+"\n"})))}));function h(n,e,t,r){var o=n,a=r;if(t&&Object.prototype.hasOwnProperty.call(e,o))throw new Error("User defined `id` attribute `"+n+"` is not unique. Please fix it in your Markdown to continue.");for(;Object.prototype.hasOwnProperty.call(e,o);)o=n+"-"+a,a+=1;return e[o]=!0,o}function g(n,e){e=Object.assign({},g.defaults,e),n.core.ruler.push("anchor",(function(n){for(var t,r={},o=n.tokens,a=Array.isArray(e.level)?(t=e.level,function(n){return t.includes(n)}):function(n){return function(e){return e>=n}}(e.level),s=0;s<o.length;s++){var l=o[s];if("heading_open"===l.type&&a(Number(l.tag.substr(1)))){var c=e.getTokensText(o[s+1].children),u=l.attrGet("id");u=null==u?h(e.slugify(c),r,!1,e.uniqueSlugStartIndex):h(u,r,!0,e.uniqueSlugStartIndex),l.attrSet("id",u),!1!==e.tabIndex&&l.attrSet("tabindex",""+e.tabIndex),"function"==typeof e.permalink?e.permalink(u,e,n,s):(e.permalink||e.renderPermalink&&e.renderPermalink!==i)&&e.renderPermalink(u,e,n,s),s=o.indexOf(l),e.callback&&e.callback(l,{slug:u,title:c})}}}))}Object.assign(m.defaults,{style:"visually-hidden",space:!0,placement:"after",wrapper:null}),g.permalink={__proto__:null,legacy:i,renderHref:s,renderAttrs:l,makePermalink:u,linkInsideHeader:d,ariaHidden:p,headerLink:f,linkAfterHeader:m},g.defaults={level:1,slugify:function(n){return encodeURIComponent(String(n).trim().toLowerCase().replace(/\s+/g,"-"))},uniqueSlugStartIndex:1,tabIndex:"-1",getTokensText:function(n){return n.filter((function(n){return["text","code_inline"].includes(n.type)})).map((function(n){return n.content})).join("")},permalink:!1,renderPermalink:i,permalinkClass:p.defaults.class,permalinkSpace:p.defaults.space,permalinkSymbol:"\xb6",permalinkBefore:"before"===p.defaults.placement,permalinkHref:p.defaults.renderHref,permalinkAttrs:p.defaults.renderAttrs},g.default=g},9107:function(n,e,t){"use strict";function r(n){return encodeURIComponent(String(n).trim().toLowerCase().replace(/\s+/g,"-"))}function o(n){return String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(n,e){var t;e=Object.assign({},{placeholder:"(\\$\\{toc\\}|\\[\\[?_?toc_?\\]?\\]|\\$\\<toc(\\{[^}]*\\})\\>)",slugify:r,uniqueSlugStartIndex:1,containerClass:"table-of-contents",containerId:void 0,listClass:void 0,itemClass:void 0,linkClass:void 0,level:1,listType:"ol",format:void 0,callback:void 0},e);var a=new RegExp("^"+e.placeholder+"$","i");n.renderer.rules.tocOpen=function(n,t){var r=Object.assign({},e);return n&&t>=0&&(r=Object.assign(r,n[t].inlineOptions)),"<nav"+(r.containerId?' id="'+o(r.containerId)+'"':"")+' class="'+o(r.containerClass)+'">'},n.renderer.rules.tocClose=function(){return"</nav>"},n.renderer.rules.tocBody=function(n,r){var a=Object.assign({},e);n&&r>=0&&(a=Object.assign(a,n[r].inlineOptions));var i,s={},l=Array.isArray(a.level)?(i=a.level,function(n){return i.includes(n)}):function(n){return function(e){return e>=n}}(a.level);return function n(t){var r=a.listClass?' class="'+o(a.listClass)+'"':"",i=a.itemClass?' class="'+o(a.itemClass)+'"':"",c=a.linkClass?' class="'+o(a.linkClass)+'"':"";if(0===t.c.length)return"";var u="";return(0===t.l||l(t.l))&&(u+="<"+(o(a.listType)+r)+">"),t.c.forEach((function(t){l(t.l)?u+="<li"+i+"><a"+c+' href="#'+function(n){for(var e=n,t=a.uniqueSlugStartIndex;Object.prototype.hasOwnProperty.call(s,e);)e=n+"-"+t++;return s[e]=!0,e}(e.slugify(t.n))+'">'+("function"==typeof a.format?a.format(t.n,o):o(t.n))+"</a>"+n(t)+"</li>":u+=n(t)})),(0===t.l||l(t.l))&&(u+="</"+o(a.listType)+">"),u}(t)},n.core.ruler.push("generateTocAst",(function(r){t=function(n){for(var e={l:0,n:"",c:[]},t=[e],r=0,o=n.length;r<o;r++){var a=n[r];if("heading_open"===a.type){var i=n[r+1].children.filter((function(n){return"text"===n.type||"code_inline"===n.type})).reduce((function(n,e){return n+e.content}),""),s={l:parseInt(a.tag.substr(1),10),n:i,c:[]};if(s.l>t[0].l)t[0].c.push(s),t.unshift(s);else if(s.l===t[0].l)t[1].c.push(s),t[0]=s;else{for(;s.l<=t[0].l;)t.shift();t[0].c.push(s),t.unshift(s)}}}return e}(r.tokens),"function"==typeof e.callback&&e.callback(n.renderer.rules.tocOpen()+n.renderer.rules.tocBody()+n.renderer.rules.tocClose(),t)})),n.block.ruler.before("heading","toc",(function(n,e,t,r){var o,i=n.src.slice(n.bMarks[e]+n.tShift[e],n.eMarks[e]).split(" ")[0];if(!a.test(i))return!1;if(r)return!0;var s=a.exec(i),l={};if(null!==s&&3===s.length)try{l=JSON.parse(s[2])}catch(n){}return n.line=e+1,(o=n.push("tocOpen","nav",1)).markup="",o.map=[e,n.line],o.inlineOptions=l,(o=n.push("tocBody","",0)).markup="",o.map=[e,n.line],o.inlineOptions=l,o.children=[],(o=n.push("tocClose","nav",-1)).markup="",!0}),{alt:["paragraph","reference","blockquote"]})}t.d(e,{Z:function(){return a}})},5485:function(n){"use strict";n.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\ud835\udd04","afr":"\ud835\udd1e","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\ud835\udd38","aopf":"\ud835\udd52","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\ud835\udc9c","ascr":"\ud835\udcb6","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\ud835\udd05","bfr":"\ud835\udd1f","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\ud835\udd39","bopf":"\ud835\udd53","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\ud835\udcb7","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\ud835\udd20","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\ud835\udd54","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\ud835\udc9e","cscr":"\ud835\udcb8","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\ud835\udd07","dfr":"\ud835\udd21","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\ud835\udd3b","dopf":"\ud835\udd55","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\ud835\udc9f","dscr":"\ud835\udcb9","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\ud835\udd08","efr":"\ud835\udd22","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\ud835\udd3c","eopf":"\ud835\udd56","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\ud835\udd09","ffr":"\ud835\udd23","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\ud835\udd3d","fopf":"\ud835\udd57","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\ud835\udcbb","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\ud835\udd0a","gfr":"\ud835\udd24","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\ud835\udd3e","gopf":"\ud835\udd58","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\ud835\udca2","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\ud835\udd25","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\ud835\udd59","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\ud835\udcbd","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\ud835\udd26","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\ud835\udd40","iopf":"\ud835\udd5a","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\ud835\udcbe","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\ud835\udd0d","jfr":"\ud835\udd27","jmath":"\u0237","Jopf":"\ud835\udd41","jopf":"\ud835\udd5b","Jscr":"\ud835\udca5","jscr":"\ud835\udcbf","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\ud835\udd0e","kfr":"\ud835\udd28","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\ud835\udd42","kopf":"\ud835\udd5c","Kscr":"\ud835\udca6","kscr":"\ud835\udcc0","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\ud835\udd0f","lfr":"\ud835\udd29","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\ud835\udd43","lopf":"\ud835\udd5d","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\ud835\udcc1","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\ud835\udd10","mfr":"\ud835\udd2a","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\ud835\udd44","mopf":"\ud835\udd5e","mp":"\u2213","mscr":"\ud835\udcc2","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\ud835\udd11","nfr":"\ud835\udd2b","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\ud835\udd5f","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\ud835\udca9","nscr":"\ud835\udcc3","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\ud835\udd12","ofr":"\ud835\udd2c","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\ud835\udd46","oopf":"\ud835\udd60","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\ud835\udcaa","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\ud835\udd13","pfr":"\ud835\udd2d","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\ud835\udd61","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\ud835\udcab","pscr":"\ud835\udcc5","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\ud835\udd14","qfr":"\ud835\udd2e","qint":"\u2a0c","qopf":"\ud835\udd62","Qopf":"\u211a","qprime":"\u2057","Qscr":"\ud835\udcac","qscr":"\ud835\udcc6","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\ud835\udd2f","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\ud835\udd63","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\ud835\udcc7","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\ud835\udd16","sfr":"\ud835\udd30","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\ud835\udd4a","sopf":"\ud835\udd64","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\ud835\udcae","sscr":"\ud835\udcc8","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\ud835\udd17","tfr":"\ud835\udd31","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\ud835\udd4b","topf":"\ud835\udd65","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\ud835\udcaf","tscr":"\ud835\udcc9","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\ud835\udd18","ufr":"\ud835\udd32","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\ud835\udd4c","uopf":"\ud835\udd66","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\ud835\udcb0","uscr":"\ud835\udcca","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\ud835\udd19","vfr":"\ud835\udd33","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\ud835\udd4d","vopf":"\ud835\udd67","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\ud835\udcb1","vscr":"\ud835\udccb","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\ud835\udd1a","wfr":"\ud835\udd34","Wopf":"\ud835\udd4e","wopf":"\ud835\udd68","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\ud835\udcb2","wscr":"\ud835\udccc","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\ud835\udd1b","xfr":"\ud835\udd35","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\ud835\udd4f","xopf":"\ud835\udd69","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\ud835\udcb3","xscr":"\ud835\udccd","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\ud835\udd1c","yfr":"\ud835\udd36","YIcy":"\u0407","yicy":"\u0457","Yopf":"\ud835\udd50","yopf":"\ud835\udd6a","Yscr":"\ud835\udcb4","yscr":"\ud835\udcce","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\ud835\udd37","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\ud835\udd6b","Zopf":"\u2124","Zscr":"\ud835\udcb5","zscr":"\ud835\udccf","zwj":"\u200d","zwnj":"\u200c"}')}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return n[r](a,a.exports,t),a.exports}t.m=n,t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,{a:e}),e},function(){var n,e=Object.getPrototypeOf?function(n){return Object.getPrototypeOf(n)}:function(n){return n.__proto__};t.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);t.r(a);var i={};n=n||[null,e({}),e([]),e(e)];for(var s=2&o&&r;"object"==typeof s&&!~n.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((function(n){i[n]=function(){return r[n]}}));return i.default=function(){return r},t.d(a,i),a}}(),t.d=function(n,e){for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.f={},t.e=function(n){return Promise.all(Object.keys(t.f).reduce((function(e,r){return t.f[r](n,e),e}),[]))},t.u=function(n){return"static/js/"+n+".159ee502.chunk.js"},t.miniCssF=function(n){},t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}(),t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},function(){var n={},e="course:";t.l=function(r,o,a,i){if(n[r])n[r].push(o);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==e+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",e+a),s.src=r),n[r]=[o];var p=function(e,t){s.onerror=s.onload=null,clearTimeout(f);var o=n[r];if(delete n[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(n){return n(t)})),e)return e(t)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),t.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.p="/",function(){var n={179:0};t.f.j=function(e,r){var o=t.o(n,e)?n[e]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((function(t,r){o=n[e]=[t,r]}));r.push(o[2]=a);var i=t.p+t.u(e),s=new Error;t.l(i,(function(r){if(t.o(n,e)&&(0!==(o=n[e])&&(n[e]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,o[1](s)}}),"chunk-"+e,e)}};var e=function(e,r){var o,a,i=r[0],s=r[1],l=r[2],c=0;if(i.some((function(e){return 0!==n[e]}))){for(o in s)t.o(s,o)&&(t.m[o]=s[o]);if(l)l(t)}for(e&&e(r);c<i.length;c++)a=i[c],t.o(n,a)&&n[a]&&n[a][0](),n[a]=0},r=self.webpackChunkcourse=self.webpackChunkcourse||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}(),function(){"use strict";var n=t(2791),e=t.t(n,2),r=t(1250);function o(n){if(Array.isArray(n))return n}var a=t(181);function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(n,e){return o(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(n,e)||(0,a.Z)(n,e)||i()}function l(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function c(n){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},c(n)}function u(n){var e=function(n,e){if("object"!==c(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===c(e)?e:String(e)}function d(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,u(r.key),r)}}function p(n,e,t){return e&&d(n.prototype,e),t&&d(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function f(n,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},f(n,e)}function m(n,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&f(n,e)}function h(n){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h(n)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}function y(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function b(n){var e=g();return function(){var t,r=h(n);if(e){var o=h(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(n,e){if(e&&("object"===c(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(n)}(this,t)}}function v(){v=function(){return n};var n={},e=Object.prototype,t=e.hasOwnProperty,r=Object.defineProperty||function(n,e,t){n[e]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(n,e,t){return Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),n[e]}try{l({},"")}catch(A){l=function(n,e,t){return n[e]=t}}function u(n,e,t,o){var a=e&&e.prototype instanceof f?e:f,i=Object.create(a.prototype),s=new N(o||[]);return r(i,"_invoke",{value:S(n,t,s)}),i}function d(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(A){return{type:"throw",arg:A}}}n.wrap=u;var p={};function f(){}function m(){}function h(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(T([])));b&&b!==e&&t.call(b,a)&&(g=b);var x=h.prototype=f.prototype=Object.create(g);function w(n){["next","throw","return"].forEach((function(e){l(n,e,(function(n){return this._invoke(e,n)}))}))}function k(n,e){function o(r,a,i,s){var l=d(n[r],n,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==c(p)&&t.call(p,"__await")?e.resolve(p.__await).then((function(n){o("next",n,i,s)}),(function(n){o("throw",n,i,s)})):e.resolve(p).then((function(n){u.value=n,i(u)}),(function(n){return o("throw",n,i,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(n,t){function r(){return new e((function(e,r){o(n,t,e,r)}))}return a=a?a.then(r,r):r()}})}function S(n,e,t){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return q()}for(t.method=o,t.arg=a;;){var i=t.delegate;if(i){var s=_(i,t);if(s){if(s===p)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var l=d(n,e,t);if("normal"===l.type){if(r=t.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:t.done}}"throw"===l.type&&(r="completed",t.method="throw",t.arg=l.arg)}}}function _(n,e){var t=e.method,r=n.iterator[t];if(void 0===r)return e.delegate=null,"throw"===t&&n.iterator.return&&(e.method="return",e.arg=void 0,_(n,e),"throw"===e.method)||"return"!==t&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+t+"' method")),p;var o=d(r,n.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var a=o.arg;return a?a.done?(e[n.resultName]=a.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function E(n){var e={tryLoc:n[0]};1 in n&&(e.catchLoc=n[1]),2 in n&&(e.finallyLoc=n[2],e.afterLoc=n[3]),this.tryEntries.push(e)}function C(n){var e=n.completion||{};e.type="normal",delete e.arg,n.completion=e}function N(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(E,this),this.reset(!0)}function T(n){if(n){var e=n[a];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,o=function e(){for(;++r<n.length;)if(t.call(n,r))return e.value=n[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:q}}function q(){return{value:void 0,done:!0}}return m.prototype=h,r(x,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=l(h,s,"GeneratorFunction"),n.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,l(n,s,"GeneratorFunction")),n.prototype=Object.create(x),n},n.awrap=function(n){return{__await:n}},w(k.prototype),l(k.prototype,i,(function(){return this})),n.AsyncIterator=k,n.async=function(e,t,r,o,a){void 0===a&&(a=Promise);var i=new k(u(e,t,r,o),a);return n.isGeneratorFunction(t)?i:i.next().then((function(n){return n.done?n.value:i.next()}))},w(x),l(x,s,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var e=Object(n),t=[];for(var r in e)t.push(r);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},n.values=T,N.prototype={constructor:N,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!n)for(var e in this)"t"===e.charAt(0)&&t.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function r(t,r){return i.type="throw",i.arg=n,e.next=t,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=t.call(a,"catchLoc"),l=t.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(n,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&t.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===n||"continue"===n)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=n,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),p},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===n)return this.complete(t.completion,t.afterLoc),C(t),p}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===n){var r=t.completion;if("throw"===r.type){var o=r.arg;C(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(n,e,t){return this.delegate={iterator:T(n),resultName:e,nextLoc:t},"next"===this.method&&(this.arg=void 0),p}},n}function x(n,e,t,r,o,a,i){try{var s=n[a](i),l=s.value}catch(c){return void t(c)}s.done?e(l):Promise.resolve(l).then(r,o)}function w(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(n){x(a,r,o,i,s,"next",n)}function s(n){x(a,r,o,i,s,"throw",n)}i(void 0)}))}}function k(n,e,t){return(e=u(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function S(n,e,t){return S=g()?Reflect.construct.bind():function(n,e,t){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(n,r));return t&&f(o,t.prototype),o},S.apply(null,arguments)}function _(n){var e="function"===typeof Map?new Map:void 0;return _=function(n){if(null===n||(t=n,-1===Function.toString.call(t).indexOf("[native code]")))return n;var t;if("function"!==typeof n)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return S(n,arguments,h(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,n)},_(n)}var E=t(9199);function C(n){return o(n)||(0,E.Z)(n)||(0,a.Z)(n)||i()}var N,T=t(7762),q=t(3433);function A(){return A=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},A.apply(this,arguments)}!function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"}(N||(N={}));var L,j="popstate";function P(n,e){if(!1===n||null===n||"undefined"===typeof n)throw new Error(e)}function O(n,e){if(!n){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(t){}}}function M(n,e){return{usr:n.state,key:n.key,idx:e}}function I(n,e,t,r){return void 0===t&&(t=null),A({pathname:"string"===typeof n?n:n.pathname,search:"",hash:""},"string"===typeof e?R(e):e,{state:t,key:e&&e.key||r||Math.random().toString(36).substr(2,8)})}function D(n){var e=n.pathname,t=void 0===e?"/":e,r=n.search,o=void 0===r?"":r,a=n.hash,i=void 0===a?"":a;return o&&"?"!==o&&(t+="?"===o.charAt(0)?o:"?"+o),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function R(n){var e={};if(n){var t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));var r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function F(n,e,t,r){void 0===r&&(r={});var o=r,a=o.window,i=void 0===a?document.defaultView:a,s=o.v5Compat,l=void 0!==s&&s,c=i.history,u=N.Pop,d=null,p=f();function f(){return(c.state||{idx:null}).idx}function m(){u=N.Pop;var n=f(),e=null==n?null:n-p;p=n,d&&d({action:u,location:g.location,delta:e})}function h(n){var e="null"!==i.location.origin?i.location.origin:i.location.href,t="string"===typeof n?n:D(n);return P(e,"No window.location.(origin|href) available to create URL for href: "+t),new URL(t,e)}null==p&&(p=0,c.replaceState(A({},c.state,{idx:p}),""));var g={get action(){return u},get location(){return n(i,c)},listen:function(n){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(j,m),d=n,function(){i.removeEventListener(j,m),d=null}},createHref:function(n){return e(i,n)},createURL:h,encodeLocation:function(n){var e=h(n);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(n,e){u=N.Push;var r=I(g.location,n,e);t&&t(r,n);var o=M(r,p=f()+1),a=g.createHref(r);try{c.pushState(o,"",a)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;i.location.assign(a)}l&&d&&d({action:u,location:g.location,delta:1})},replace:function(n,e){u=N.Replace;var r=I(g.location,n,e);t&&t(r,n);var o=M(r,p=f()),a=g.createHref(r);c.replaceState(o,"",a),l&&d&&d({action:u,location:g.location,delta:0})},go:function(n){return c.go(n)}};return g}!function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"}(L||(L={}));var B=new Set(["lazy","caseSensitive","path","id","index","children"]);function z(n,e,t,r){return void 0===t&&(t=[]),void 0===r&&(r={}),n.map((function(n,o){var a=[].concat((0,q.Z)(t),[o]),i="string"===typeof n.id?n.id:a.join("-");if(P(!0!==n.index||!n.children,"Cannot specify children on an index route"),P(!r[i],'Found a route id collision on id "'+i+"\".  Route id's must be globally unique within Data Router usages"),function(n){return!0===n.index}(n)){var s=A({},n,e(n),{id:i});return r[i]=s,s}var l=A({},n,e(n),{id:i,children:void 0});return r[i]=l,n.children&&(l.children=z(n.children,e,a,r)),l}))}function U(n,e,t){void 0===t&&(t="/");var r=tn(("string"===typeof e?R(e):e).pathname||"/",t);if(null==r)return null;var o=H(n);!function(n){n.sort((function(n,e){return n.score!==e.score?e.score-n.score:function(n,e){var t=n.length===e.length&&n.slice(0,-1).every((function(n,t){return n===e[t]}));return t?n[n.length-1]-e[e.length-1]:0}(n.routesMeta.map((function(n){return n.childrenIndex})),e.routesMeta.map((function(n){return n.childrenIndex})))}))}(o);for(var a=null,i=0;null==a&&i<o.length;++i)a=Y(o[i],en(r));return a}function H(n,e,t,r){void 0===e&&(e=[]),void 0===t&&(t=[]),void 0===r&&(r="");var o=function(n,o,a){var i={relativePath:void 0===a?n.path||"":a,caseSensitive:!0===n.caseSensitive,childrenIndex:o,route:n};i.relativePath.startsWith("/")&&(P(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));var s=sn([r,i.relativePath]),l=t.concat(i);n.children&&n.children.length>0&&(P(!0!==n.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),H(n.children,e,l,s)),(null!=n.path||n.index)&&e.push({path:s,score:Z(s,n.index),routesMeta:l})};return n.forEach((function(n,e){var t;if(""!==n.path&&null!=(t=n.path)&&t.includes("?")){var r,a=(0,T.Z)(G(n.path));try{for(a.s();!(r=a.n()).done;){var i=r.value;o(n,e,i)}}catch(s){a.e(s)}finally{a.f()}}else o(n,e)})),e}function G(n){var e=n.split("/");if(0===e.length)return[];var t=C(e),r=t[0],o=t.slice(1),a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===o.length)return a?[i,""]:[i];var s=G(o.join("/")),l=[];return l.push.apply(l,(0,q.Z)(s.map((function(n){return""===n?i:[i,n].join("/")})))),a&&l.push.apply(l,(0,q.Z)(s)),l.map((function(e){return n.startsWith("/")&&""===e?"/":e}))}var V=/^:\w+$/,J=3,W=2,Q=1,K=10,$=-2,X=function(n){return"*"===n};function Z(n,e){var t=n.split("/"),r=t.length;return t.some(X)&&(r+=$),e&&(r+=W),t.filter((function(n){return!X(n)})).reduce((function(n,e){return n+(V.test(e)?J:""===e?Q:K)}),r)}function Y(n,e){for(var t=n.routesMeta,r={},o="/",a=[],i=0;i<t.length;++i){var s=t[i],l=i===t.length-1,c="/"===o?e:e.slice(o.length)||"/",u=nn({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);var d=s.route;a.push({params:r,pathname:sn([o,u.pathname]),pathnameBase:ln(sn([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=sn([o,u.pathnameBase]))}return a}function nn(n,e){"string"===typeof n&&(n={path:n,caseSensitive:!1,end:!0});var t=function(n,e,t){void 0===e&&(e=!1);void 0===t&&(t=!0);O("*"===n||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were "'+n.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+n.replace(/\*$/,"/*")+'".');var r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(n,e){return r.push(e),"/([^\\/]+)"}));n.endsWith("*")?(r.push("*"),o+="*"===n||"/*"===n?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":""!==n&&"/"!==n&&(o+="(?:(?=\\/|$))");var a=new RegExp(o,e?void 0:"i");return[a,r]}(n.path,n.caseSensitive,n.end),r=s(t,2),o=r[0],a=r[1],i=e.match(o);if(!i)return null;var l=i[0],c=l.replace(/(.)\/+$/,"$1"),u=i.slice(1),d=a.reduce((function(n,e,t){if("*"===e){var r=u[t]||"";c=l.slice(0,l.length-r.length).replace(/(.)\/+$/,"$1")}return n[e]=function(n,e){try{return decodeURIComponent(n)}catch(t){return O(!1,'The value for the URL param "'+e+'" will not be decoded because the string "'+n+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),n}}(u[t]||"",e),n}),{});return{params:d,pathname:l,pathnameBase:c,pattern:n}}function en(n){try{return decodeURI(n)}catch(e){return O(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),n}}function tn(n,e){if("/"===e)return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;var t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&"/"!==r?null:n.slice(t)||"/"}function rn(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+t+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function on(n){return n.filter((function(n,e){return 0===e||n.route.path&&n.route.path.length>0}))}function an(n,e,t,r){var o;void 0===r&&(r=!1),"string"===typeof n?o=R(n):(P(!(o=A({},n)).pathname||!o.pathname.includes("?"),rn("?","pathname","search",o)),P(!o.pathname||!o.pathname.includes("#"),rn("#","pathname","hash",o)),P(!o.search||!o.search.includes("#"),rn("#","search","hash",o)));var a,i=""===n||""===o.pathname,s=i?"/":o.pathname;if(r||null==s)a=t;else{var l=e.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),l-=1;o.pathname=c.join("/")}a=l>=0?e[l]:"/"}var u=function(n,e){void 0===e&&(e="/");var t="string"===typeof n?R(n):n,r=t.pathname,o=t.search,a=void 0===o?"":o,i=t.hash,s=void 0===i?"":i,l=r?r.startsWith("/")?r:function(n,e){var t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach((function(n){".."===n?t.length>1&&t.pop():"."!==n&&t.push(n)})),t.length>1?t.join("/"):"/"}(r,e):e;return{pathname:l,search:cn(a),hash:un(s)}}(o,a),d=s&&"/"!==s&&s.endsWith("/"),p=(i||"."===s)&&t.endsWith("/");return u.pathname.endsWith("/")||!d&&!p||(u.pathname+="/"),u}var sn=function(n){return n.join("/").replace(/\/\/+/g,"/")},ln=function(n){return n.replace(/\/+$/,"").replace(/^\/*/,"/")},cn=function(n){return n&&"?"!==n?n.startsWith("?")?n:"?"+n:""},un=function(n){return n&&"#"!==n?n.startsWith("#")?n:"#"+n:""},dn=function(n){m(t,n);var e=b(t);function t(){return l(this,t),e.apply(this,arguments)}return p(t)}(_(Error));var pn=p((function n(e,t,r,o){l(this,n),void 0===o&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function fn(n){return null!=n&&"number"===typeof n.status&&"string"===typeof n.statusText&&"boolean"===typeof n.internal&&"data"in n}var mn=["post","put","patch","delete"],hn=new Set(mn),gn=["get"].concat(mn),yn=new Set(gn),bn=new Set([301,302,303,307,308]),vn=new Set([307,308]),xn={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wn={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kn={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Sn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_n=function(n){return{hasErrorBoundary:Boolean(n.hasErrorBoundary)}};function En(n){var e,t=n.window?n.window:"undefined"!==typeof window?window:void 0,r="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,o=!r;if(P(n.routes.length>0,"You must provide a non-empty routes array to createRouter"),n.mapRouteProperties)e=n.mapRouteProperties;else if(n.detectErrorBoundary){var a=n.detectErrorBoundary;e=function(n){return{hasErrorBoundary:a(n)}}}else e=_n;var i,l={},c=z(n.routes,e,void 0,l),u=n.basename||"/",d=A({v7_normalizeFormMethod:!1,v7_prependBasename:!1},n.future),p=null,f=new Set,m=null,h=null,g=null,y=null!=n.hydrationData,b=U(c,n.history.location,u),x=null;if(null==b){var S=Gn(404,{pathname:n.history.location.pathname}),_=Hn(c);b=_.matches,x=k({},_.route.id,S)}var E,C,j=!b.some((function(n){return n.route.lazy}))&&(!b.some((function(n){return n.route.loader}))||null!=n.hydrationData),M={historyAction:n.history.action,location:n.history.location,matches:b,initialized:j,navigation:xn,restoreScrollPosition:null==n.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||x,fetchers:new Map,blockers:new Map},D=N.Pop,R=!1,F=!1,B=!1,H=[],G=[],V=new Map,J=0,W=-1,Q=new Map,K=new Set,$=new Map,X=new Map,Z=new Map,Y=!1;function nn(n){M=A({},M,n),f.forEach((function(n){return n(M)}))}function en(e,t){var r,o,a,s=null!=M.actionData&&null!=M.navigation.formMethod&&ne(M.navigation.formMethod)&&"loading"===M.navigation.state&&!0!==(null==(r=e.state)?void 0:r._isRedirect);a=t.actionData?Object.keys(t.actionData).length>0?t.actionData:null:s?M.actionData:null;var l=t.loaderData?zn(M.loaderData,t.loaderData,t.matches||[],t.errors):M.loaderData,u=M.blockers;u.size>0&&(u=new Map(u)).forEach((function(n,e){return u.set(e,kn)}));var d=!0===R||null!=M.navigation.formMethod&&ne(M.navigation.formMethod)&&!0!==(null==(o=e.state)?void 0:o._isRedirect);i&&(c=i,i=void 0),F||D===N.Pop||(D===N.Push?n.history.push(e,e.state):D===N.Replace&&n.history.replace(e,e.state)),nn(A({},t,{actionData:a,loaderData:l,historyAction:D,location:e,initialized:!0,navigation:xn,revalidation:"idle",restoreScrollPosition:Yn(e,t.matches||M.matches),preventScrollReset:d,blockers:u})),D=N.Pop,R=!1,F=!1,B=!1,H=[],G=[]}function rn(n,e){return on.apply(this,arguments)}function on(){return on=w(v().mark((function e(t,r){var o,a,i,s,l,c,p,f,m,h,g;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("number"!==typeof t){e.next=3;break}return n.history.go(t),e.abrupt("return");case 3:if(o=Cn(M.location,M.matches,u,d.v7_prependBasename,t,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),a=Nn(d.v7_normalizeFormMethod,!1,o,r),i=a.path,s=a.submission,l=a.error,c=M.location,p=A({},p=I(M.location,i,r&&r.state),n.history.encodeLocation(p)),f=r&&null!=r.replace?r.replace:void 0,m=N.Push,!0===f?m=N.Replace:!1===f||null!=s&&ne(s.formMethod)&&s.formAction===M.location.pathname+M.location.search&&(m=N.Replace),h=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,!(g=Fn({currentLocation:c,nextLocation:p,historyAction:m}))){e.next=16;break}return Rn(g,{state:"blocked",location:p,proceed:function(){Rn(g,{state:"proceeding",proceed:void 0,reset:void 0,location:p}),rn(t,r)},reset:function(){var n=new Map(M.blockers);n.set(g,kn),nn({blockers:n})}}),e.abrupt("return");case 16:return e.next=18,an(m,p,{submission:s,pendingError:l,preventScrollReset:h,replace:r&&r.replace});case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)}))),on.apply(this,arguments)}function an(n,e,t){return sn.apply(this,arguments)}function sn(){return sn=w(v().mark((function e(t,r,o){var a,s,l,d,p,f,m,h,g,y,b,x,w,S,_;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C&&C.abort(),C=null,D=t,F=!0===(o&&o.startUninterruptedRevalidation),Zn(M.location,M.matches),R=!0===(o&&o.preventScrollReset),a=i||c,s=o&&o.overrideNavigation,l=U(a,r,u)){e.next=15;break}return d=Gn(404,{pathname:r.pathname}),p=Hn(a),f=p.matches,m=p.route,Jn(),en(r,{matches:f,loaderData:{},errors:k({},m.id,d)}),e.abrupt("return");case 15:if(!M.initialized||B||!Wn(M.location,r)||o&&o.submission&&ne(o.submission.formMethod)){e.next=18;break}return en(r,{matches:l}),e.abrupt("return");case 18:if(C=new AbortController,h=In(n.history,r,C.signal,o&&o.submission),!o||!o.pendingError){e.next=24;break}y=k({},Un(l).route.id,o.pendingError),e.next=34;break;case 24:if(!(o&&o.submission&&ne(o.submission.formMethod))){e.next=34;break}return e.next=27,ln(h,r,o.submission,l,{replace:o.replace});case 27:if(!(b=e.sent).shortCircuited){e.next=30;break}return e.abrupt("return");case 30:g=b.pendingActionData,y=b.pendingActionError,s=le(r,o.submission),h=new Request(h.url,{signal:h.signal});case 34:return e.next=36,un(h,r,l,s,o&&o.submission,o&&o.fetcherSubmission,o&&o.replace,g,y);case 36:if(x=e.sent,w=x.shortCircuited,S=x.loaderData,_=x.errors,!w){e.next=42;break}return e.abrupt("return");case 42:C=null,en(r,A({matches:l},g?{actionData:g}:{},{loaderData:S,errors:_}));case 44:case"end":return e.stop()}}),e)}))),sn.apply(this,arguments)}function ln(n,e,t,r,o){return cn.apply(this,arguments)}function cn(){return cn=w(v().mark((function n(t,r,o,a,i){var s,c,d,p;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===i&&(i={}),En(),nn({navigation:ce(r,o)}),(c=ie(a,r)).route.action||c.route.lazy){n.next=9;break}s={type:L.error,error:Gn(405,{method:t.method,pathname:r.pathname,routeId:c.route.id})},n.next=14;break;case 9:return n.next=11,On("action",t,c,a,l,e,u);case 11:if(s=n.sent,!t.signal.aborted){n.next=14;break}return n.abrupt("return",{shortCircuited:!0});case 14:if(!$n(s)){n.next=19;break}return d=i&&null!=i.replace?i.replace:s.location===M.location.pathname+M.location.search,n.next=18,hn(M,s,{submission:o,replace:d});case 18:return n.abrupt("return",{shortCircuited:!0});case 19:if(!Kn(s)){n.next=23;break}return p=Un(a,c.route.id),!0!==(i&&i.replace)&&(D=N.Push),n.abrupt("return",{pendingActionData:{},pendingActionError:k({},p.route.id,s.error)});case 23:if(!Qn(s)){n.next=25;break}throw Gn(400,{type:"defer-action"});case 25:return n.abrupt("return",{pendingActionData:k({},c.route.id,s.data)});case 26:case"end":return n.stop()}}),n)}))),cn.apply(this,arguments)}function un(n,e,t,r,o,a,i,s,l){return dn.apply(this,arguments)}function dn(){return dn=w(v().mark((function e(t,r,o,a,l,d,p,f,m){var h,g,y,b,x,w,k,S,_,E,N,T,q,L,j,P,O,I,D,R,z;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=a||le(r,l),g=l||d||se(h),y=i||c,b=qn(n.history,M,o,g,r,B,H,G,$,K,y,u,f,m),x=s(b,2),w=x[0],k=x[1],Jn((function(n){return!(o&&o.some((function(e){return e.route.id===n})))||w&&w.some((function(e){return e.route.id===n}))})),0!==w.length||0!==k.length){e.next=9;break}return S=Pn(),en(r,A({matches:o,loaderData:{},errors:m||null},f?{actionData:f}:{},S?{fetchers:new Map(M.fetchers)}:{})),e.abrupt("return",{shortCircuited:!0});case 9:return F||(k.forEach((function(n){var e=M.fetchers.get(n.key),t=ue(void 0,e?e.data:void 0);M.fetchers.set(n.key,t)})),_=f||M.actionData,nn(A({navigation:h},_?0===Object.keys(_).length?{actionData:null}:{actionData:_}:{},k.length>0?{fetchers:new Map(M.fetchers)}:{}))),W=++J,k.forEach((function(n){V.has(n.key)&&Ln(n.key),n.controller&&V.set(n.key,n.controller)})),E=function(){return k.forEach((function(n){return Ln(n.key)}))},C&&C.signal.addEventListener("abort",E),e.next=16,yn(M.matches,o,w,k,t);case 16:if(N=e.sent,T=N.results,q=N.loaderResults,L=N.fetcherResults,!t.signal.aborted){e.next=22;break}return e.abrupt("return",{shortCircuited:!0});case 22:if(C&&C.signal.removeEventListener("abort",E),k.forEach((function(n){return V.delete(n.key)})),!(j=Vn(T))){e.next=29;break}return e.next=28,hn(M,j,{replace:p});case 28:return e.abrupt("return",{shortCircuited:!0});case 29:return P=Bn(M,o,w,q,m,k,L,X),O=P.loaderData,I=P.errors,X.forEach((function(n,e){n.subscribe((function(t){(t||n.done)&&X.delete(e)}))})),D=Pn(),R=Mn(W),z=D||R||k.length>0,e.abrupt("return",A({loaderData:O,errors:I},z?{fetchers:new Map(M.fetchers)}:{}));case 35:case"end":return e.stop()}}),e)}))),dn.apply(this,arguments)}function pn(n){return M.fetchers.get(n)||wn}function fn(){return fn=w(v().mark((function t(r,o,a,d,p,f){var m,h,g,y,b,x,w,S,_,E,N,T,q,L,j,O,I,R,F,z,Z,Y,tn,rn,on,an,sn,ln;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(En(),$.delete(r),d.route.action||d.route.lazy){t.next=6;break}return m=Gn(405,{method:f.formMethod,pathname:a,routeId:o}),Tn(r,o,m),t.abrupt("return");case 6:return h=M.fetchers.get(r),g=de(f,h),M.fetchers.set(r,g),nn({fetchers:new Map(M.fetchers)}),y=new AbortController,b=In(n.history,a,y.signal,f),V.set(r,y),t.next=15,On("action",b,d,p,l,e,u);case 15:if(x=t.sent,!b.signal.aborted){t.next=19;break}return V.get(r)===y&&V.delete(r),t.abrupt("return");case 19:if(!$n(x)){t.next=26;break}return V.delete(r),K.add(r),w=ue(f),M.fetchers.set(r,w),nn({fetchers:new Map(M.fetchers)}),t.abrupt("return",hn(M,x,{submission:f,isFetchActionRedirect:!0}));case 26:if(!Kn(x)){t.next=29;break}return Tn(r,o,x.error),t.abrupt("return");case 29:if(!Qn(x)){t.next=31;break}throw Gn(400,{type:"defer-action"});case 31:return S=M.navigation.location||M.location,_=In(n.history,S,y.signal),E=i||c,P(N="idle"!==M.navigation.state?U(E,M.navigation.location,u):M.matches,"Didn't find any matches after fetcher action"),T=++J,Q.set(r,T),q=ue(f,x.data),M.fetchers.set(r,q),L=qn(n.history,M,N,f,S,B,H,G,$,K,E,u,k({},d.route.id,x.data),void 0),j=s(L,2),O=j[0],(I=j[1]).filter((function(n){return n.key!==r})).forEach((function(n){var e=n.key,t=M.fetchers.get(e),r=ue(void 0,t?t.data:void 0);M.fetchers.set(e,r),V.has(e)&&Ln(e),n.controller&&V.set(e,n.controller)})),nn({fetchers:new Map(M.fetchers)}),R=function(){return I.forEach((function(n){return Ln(n.key)}))},y.signal.addEventListener("abort",R),t.next=47,yn(M.matches,N,O,I,_);case 47:if(F=t.sent,z=F.results,Z=F.loaderResults,Y=F.fetcherResults,!y.signal.aborted){t.next=53;break}return t.abrupt("return");case 53:if(y.signal.removeEventListener("abort",R),Q.delete(r),V.delete(r),I.forEach((function(n){return V.delete(n.key)})),!(tn=Vn(z))){t.next=60;break}return t.abrupt("return",hn(M,tn));case 60:rn=Bn(M,M.matches,O,Z,void 0,I,Y,X),on=rn.loaderData,an=rn.errors,M.fetchers.has(r)&&(sn=pe(x.data),M.fetchers.set(r,sn)),ln=Mn(T),"loading"===M.navigation.state&&T>W?(P(D,"Expected pending action"),C&&C.abort(),en(M.navigation.location,{matches:N,loaderData:on,errors:an,fetchers:new Map(M.fetchers)})):(nn(A({errors:an,loaderData:zn(M.loaderData,on,N,an)},ln||I.length>0?{fetchers:new Map(M.fetchers)}:{})),B=!1);case 64:case"end":return t.stop()}}),t)}))),fn.apply(this,arguments)}function mn(){return mn=w(v().mark((function t(r,o,a,i,s,c){var d,p,f,m,h,g,y;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=M.fetchers.get(r),p=ue(c,d?d.data:void 0),M.fetchers.set(r,p),nn({fetchers:new Map(M.fetchers)}),f=new AbortController,m=In(n.history,a,f.signal),V.set(r,f),t.next=9,On("loader",m,i,s,l,e,u);case 9:if(!Qn(h=t.sent)){t.next=17;break}return t.next=13,re(h,m.signal,!0);case 13:if(t.t0=t.sent,t.t0){t.next=16;break}t.t0=h;case 16:h=t.t0;case 17:if(V.get(r)===f&&V.delete(r),!m.signal.aborted){t.next=20;break}return t.abrupt("return");case 20:if(!$n(h)){t.next=25;break}return K.add(r),t.next=24,hn(M,h);case 24:return t.abrupt("return");case 25:if(!Kn(h)){t.next=30;break}return g=Un(M.matches,o),M.fetchers.delete(r),nn({fetchers:new Map(M.fetchers),errors:k({},g.route.id,h.error)}),t.abrupt("return");case 30:P(!Qn(h),"Unhandled fetcher deferred data"),y=pe(h.data),M.fetchers.set(r,y),nn({fetchers:new Map(M.fetchers)});case 34:case"end":return t.stop()}}),t)}))),mn.apply(this,arguments)}function hn(n,e,t){return gn.apply(this,arguments)}function gn(){return gn=w(v().mark((function e(o,a,i){var s,l,c,d,p,f,m,h,g,y;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=(s=void 0===i?{}:i).submission,c=s.replace,d=s.isFetchActionRedirect,a.revalidate&&(B=!0),P(p=I(o.location,a.location,A({_isRedirect:!0},d?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),!Sn.test(a.location)||!r){e.next=10;break}if(f=n.history.createURL(a.location),m=null==tn(f.pathname,u),t.location.origin===f.origin&&!m){e.next=10;break}return c?t.location.replace(a.location):t.location.assign(a.location),e.abrupt("return");case 10:if(C=null,h=!0===c?N.Replace:N.Push,g=l||se(o.navigation),!(vn.has(a.status)&&g&&ne(g.formMethod))){e.next=18;break}return e.next=16,an(h,p,{submission:A({},g,{formAction:a.location}),preventScrollReset:R});case 16:case 21:e.next=26;break;case 18:if(!d){e.next=23;break}return e.next=21,an(h,p,{overrideNavigation:le(p),fetcherSubmission:g,preventScrollReset:R});case 23:return y=le(p,g),e.next=26,an(h,p,{overrideNavigation:y,preventScrollReset:R});case 26:case"end":return e.stop()}}),e)}))),gn.apply(this,arguments)}function yn(n,e,t,r,o){return bn.apply(this,arguments)}function bn(){return bn=w(v().mark((function t(r,o,a,i,s){var c,d,p;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([].concat((0,q.Z)(a.map((function(n){return On("loader",s,n,o,l,e,u)}))),(0,q.Z)(i.map((function(t){return t.matches&&t.match&&t.controller?On("loader",In(n.history,t.path,t.controller.signal),t.match,t.matches,l,e,u):{type:L.error,error:Gn(404,{pathname:t.path})}})))));case 2:return c=t.sent,d=c.slice(0,a.length),p=c.slice(a.length),t.next=7,Promise.all([ee(r,a,d,d.map((function(){return s.signal})),!1,M.loaderData),ee(r,i.map((function(n){return n.match})),p,i.map((function(n){return n.controller?n.controller.signal:null})),!0)]);case 7:return t.abrupt("return",{results:c,loaderResults:d,fetcherResults:p});case 8:case"end":return t.stop()}}),t)}))),bn.apply(this,arguments)}function En(){var n;B=!0,(n=H).push.apply(n,(0,q.Z)(Jn())),$.forEach((function(n,e){V.has(e)&&(G.push(e),Ln(e))}))}function Tn(n,e,t){var r=Un(M.matches,e);An(n),nn({errors:k({},r.route.id,t),fetchers:new Map(M.fetchers)})}function An(n){var e=M.fetchers.get(n);!V.has(n)||e&&"loading"===e.state&&Q.has(n)||Ln(n),$.delete(n),Q.delete(n),K.delete(n),M.fetchers.delete(n)}function Ln(n){var e=V.get(n);P(e,"Expected fetch controller: "+n),e.abort(),V.delete(n)}function jn(n){var e,t=(0,T.Z)(n);try{for(t.s();!(e=t.n()).done;){var r=e.value,o=pe(pn(r).data);M.fetchers.set(r,o)}}catch(a){t.e(a)}finally{t.f()}}function Pn(){var n,e=[],t=!1,r=(0,T.Z)(K);try{for(r.s();!(n=r.n()).done;){var o=n.value,a=M.fetchers.get(o);P(a,"Expected fetcher: "+o),"loading"===a.state&&(K.delete(o),e.push(o),t=!0)}}catch(i){r.e(i)}finally{r.f()}return jn(e),t}function Mn(n){var e,t=[],r=(0,T.Z)(Q);try{for(r.s();!(e=r.n()).done;){var o=s(e.value,2),a=o[0];if(o[1]<n){var i=M.fetchers.get(a);P(i,"Expected fetcher: "+a),"loading"===i.state&&(Ln(a),Q.delete(a),t.push(a))}}}catch(l){r.e(l)}finally{r.f()}return jn(t),t.length>0}function Dn(n){M.blockers.delete(n),Z.delete(n)}function Rn(n,e){var t=M.blockers.get(n)||kn;P("unblocked"===t.state&&"blocked"===e.state||"blocked"===t.state&&"blocked"===e.state||"blocked"===t.state&&"proceeding"===e.state||"blocked"===t.state&&"unblocked"===e.state||"proceeding"===t.state&&"unblocked"===e.state,"Invalid blocker state transition: "+t.state+" -> "+e.state);var r=new Map(M.blockers);r.set(n,e),nn({blockers:r})}function Fn(n){var e=n.currentLocation,t=n.nextLocation,r=n.historyAction;if(0!==Z.size){Z.size>1&&O(!1,"A router only supports one blocker at a time");var o=Array.from(Z.entries()),a=s(o[o.length-1],2),i=a[0],l=a[1],c=M.blockers.get(i);if(!c||"proceeding"!==c.state)return l({currentLocation:e,nextLocation:t,historyAction:r})?i:void 0}}function Jn(n){var e=[];return X.forEach((function(t,r){n&&!n(r)||(t.cancel(),e.push(r),X.delete(r))})),e}function Xn(n,e){if(h){var t=h(n,e.map((function(n){return function(n,e){var t=n.route,r=n.pathname,o=n.params;return{id:t.id,pathname:r,params:o,data:e[t.id],handle:t.handle}}(n,M.loaderData)})));return t||n.key}return n.key}function Zn(n,e){if(m&&g){var t=Xn(n,e);m[t]=g()}}function Yn(n,e){if(m){var t=Xn(n,e),r=m[t];if("number"===typeof r)return r}return null}return E={get basename(){return u},get state(){return M},get routes(){return c},initialize:function(){return p=n.history.listen((function(e){var t=e.action,r=e.location,o=e.delta;if(!Y){O(0===Z.size||null!=o,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=Fn({currentLocation:M.location,nextLocation:r,historyAction:t});return a&&null!=o?(Y=!0,n.history.go(-1*o),void Rn(a,{state:"blocked",location:r,proceed:function(){Rn(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),n.history.go(o)},reset:function(){var n=new Map(M.blockers);n.set(a,kn),nn({blockers:n})}})):an(t,r)}Y=!1})),M.initialized||an(N.Pop,M.location),E},subscribe:function(n){return f.add(n),function(){return f.delete(n)}},enableScrollRestoration:function(n,e,t){if(m=n,g=e,h=t||null,!y&&M.navigation===xn){y=!0;var r=Yn(M.location,M.matches);null!=r&&nn({restoreScrollPosition:r})}return function(){m=null,g=null,h=null}},navigate:rn,fetch:function(n,e,t,r){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(n)&&Ln(n);var a=i||c,s=Cn(M.location,M.matches,u,d.v7_prependBasename,t,e,null==r?void 0:r.relative),l=U(a,s,u);if(l){var p=Nn(d.v7_normalizeFormMethod,!0,s,r),f=p.path,m=p.submission,h=p.error;if(h)Tn(n,e,h);else{var g=ie(l,f);R=!0===(r&&r.preventScrollReset),m&&ne(m.formMethod)?function(n,e,t,r,o,a){fn.apply(this,arguments)}(n,e,f,g,l,m):($.set(n,{routeId:e,path:f}),function(n,e,t,r,o,a){mn.apply(this,arguments)}(n,e,f,g,l,m))}}else Tn(n,e,Gn(404,{pathname:s}))},revalidate:function(){En(),nn({revalidation:"loading"}),"submitting"!==M.navigation.state&&("idle"!==M.navigation.state?an(D||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation}):an(M.historyAction,M.location,{startUninterruptedRevalidation:!0}))},createHref:function(e){return n.history.createHref(e)},encodeLocation:function(e){return n.history.encodeLocation(e)},getFetcher:pn,deleteFetcher:An,dispose:function(){p&&p(),f.clear(),C&&C.abort(),M.fetchers.forEach((function(n,e){return An(e)})),M.blockers.forEach((function(n,e){return Dn(e)}))},getBlocker:function(n,e){var t=M.blockers.get(n)||kn;return Z.get(n)!==e&&Z.set(n,e),t},deleteBlocker:Dn,_internalFetchControllers:V,_internalActiveDeferreds:X,_internalSetRoutes:function(n){i=z(n,e,void 0,l={})}},E}Symbol("deferred");function Cn(n,e,t,r,o,a,i){var s,l;if(null!=a&&"path"!==i){s=[];var c,u=(0,T.Z)(e);try{for(u.s();!(c=u.n()).done;){var d=c.value;if(s.push(d),d.route.id===a){l=d;break}}}catch(f){u.e(f)}finally{u.f()}}else s=e,l=e[e.length-1];var p=an(o||".",on(s).map((function(n){return n.pathnameBase})),tn(n.pathname,t)||n.pathname,"path"===i);return null==o&&(p.search=n.search,p.hash=n.hash),null!=o&&""!==o&&"."!==o||!l||!l.route.index||ae(p.search)||(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==t&&(p.pathname="/"===p.pathname?t:sn([t,p.pathname])),D(p)}function Nn(n,e,t,r){if(!r||!function(n){return null!=n&&("formData"in n&&null!=n.formData||"body"in n&&void 0!==n.body)}(r))return{path:t};if(r.formMethod&&!Yn(r.formMethod))return{path:t,error:Gn(405,{method:r.formMethod})};var o,a,i=function(){return{path:t,error:Gn(400,{type:"invalid-body"})}},l=r.formMethod||"get",c=n?l.toUpperCase():l.toLowerCase(),u=Jn(t);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!ne(c))return i();var d="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((function(n,e){var t=s(e,2);return""+n+t[0]+"="+t[1]+"\n"}),""):String(r.body);return{path:t,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}if("application/json"===r.formEncType){if(!ne(c))return i();try{var p="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch(h){return i()}}}if(P("function"===typeof FormData,"FormData is not available in this environment"),r.formData)o=Dn(r.formData),a=r.formData;else if(r.body instanceof FormData)o=Dn(r.body),a=r.body;else if(r.body instanceof URLSearchParams)a=Rn(o=r.body);else if(null==r.body)o=new URLSearchParams,a=new FormData;else try{a=Rn(o=new URLSearchParams(r.body))}catch(h){return i()}var f={formMethod:c,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(ne(f.formMethod))return{path:t,submission:f};var m=R(t);return e&&m.search&&ae(m.search)&&o.append("index",""),m.search="?"+o,{path:D(m),submission:f}}function Tn(n,e){var t=n;if(e){var r=n.findIndex((function(n){return n.route.id===e}));r>=0&&(t=n.slice(0,r))}return t}function qn(n,e,t,r,o,a,i,s,l,c,u,d,p,f){var m=f?Object.values(f)[0]:p?Object.values(p)[0]:void 0,h=n.createURL(e.location),g=n.createURL(o),y=f?Object.keys(f)[0]:void 0,b=Tn(t,y).filter((function(n,t){if(n.route.lazy)return!0;if(null==n.route.loader)return!1;if(function(n,e,t){var r=!e||t.route.id!==e.route.id,o=void 0===n[t.route.id];return r||o}(e.loaderData,e.matches[t],n)||i.some((function(e){return e===n.route.id})))return!0;var o=e.matches[t],s=n;return Ln(n,A({currentUrl:h,currentParams:o.params,nextUrl:g,nextParams:s.params},r,{actionResult:m,defaultShouldRevalidate:a||h.pathname+h.search===g.pathname+g.search||h.search!==g.search||An(o,s)}))})),v=[];return l.forEach((function(n,o){if(t.some((function(e){return e.route.id===n.routeId}))){var i=U(u,n.path,d);if(i){var l=e.fetchers.get(o),p=l&&"idle"!==l.state&&void 0===l.data&&!c.has(o),f=ie(i,n.path);(s.includes(o)||p||Ln(f,A({currentUrl:h,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:t[t.length-1].params},r,{actionResult:m,defaultShouldRevalidate:a})))&&v.push({key:o,routeId:n.routeId,path:n.path,matches:i,match:f,controller:new AbortController})}else v.push({key:o,routeId:n.routeId,path:n.path,matches:null,match:null,controller:null})}})),[b,v]}function An(n,e){var t=n.route.path;return n.pathname!==e.pathname||null!=t&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Ln(n,e){if(n.route.shouldRevalidate){var t=n.route.shouldRevalidate(e);if("boolean"===typeof t)return t}return e.defaultShouldRevalidate}function jn(n,e,t){return Pn.apply(this,arguments)}function Pn(){return Pn=w(v().mark((function n(e,t,r){var o,a,i,s,l,c;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.lazy){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.lazy();case 4:if(o=n.sent,e.lazy){n.next=7;break}return n.abrupt("return");case 7:for(s in P(a=r[e.id],"No route found in manifest"),i={},o)l=a[s],O(!(c=void 0!==l&&"hasErrorBoundary"!==s),'Route "'+a.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),c||B.has(s)||(i[s]=o[s]);Object.assign(a,i),Object.assign(a,A({},t(a),{lazy:void 0}));case 13:case"end":return n.stop()}}),n)}))),Pn.apply(this,arguments)}function On(n,e,t,r,o,a,i,s){return Mn.apply(this,arguments)}function Mn(){return Mn=w(v().mark((function n(e,t,r,o,a,i,s,l){var c,u,d,p,f,m,h,g,y,b,x,w,k,S,_,E,C,N;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===l&&(l={}),p=function(n){var e,o=new Promise((function(n,t){return e=t}));return d=function(){return e()},t.signal.addEventListener("abort",d),Promise.race([n({request:t,params:r.params,context:l.requestContext}),o])},n.prev=2,f=r.route[e],!r.route.lazy){n.next=30;break}if(!f){n.next=12;break}return n.next=8,Promise.all([p(f),jn(r.route,i,a)]);case 8:m=n.sent,u=m[0],n.next=28;break;case 12:return n.next=14,jn(r.route,i,a);case 14:if(!(f=r.route[e])){n.next=21;break}return n.next=18,p(f);case 18:u=n.sent,n.next=28;break;case 21:if("action"!==e){n.next=27;break}throw h=new URL(t.url),g=h.pathname+h.search,Gn(405,{method:t.method,pathname:g,routeId:r.route.id});case 27:return n.abrupt("return",{type:L.data,data:void 0});case 28:n.next=39;break;case 30:if(f){n.next=36;break}throw y=new URL(t.url),Gn(404,{pathname:y.pathname+y.search});case 36:return n.next=38,p(f);case 38:u=n.sent;case 39:P(void 0!==u,"You defined "+("action"===e?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`."),n.next=46;break;case 42:n.prev=42,n.t0=n.catch(2),c=L.error,u=n.t0;case 46:return n.prev=46,d&&t.signal.removeEventListener("abort",d),n.finish(46);case 49:if(!Zn(u)){n.next=74;break}if(b=u.status,!bn.has(b)){n.next=59;break}if(P(x=u.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),Sn.test(x)?l.isStaticRequest||(w=new URL(t.url),k=x.startsWith("//")?new URL(w.protocol+x):new URL(x),S=null!=tn(k.pathname,s),k.origin===w.origin&&S&&(x=k.pathname+k.search+k.hash)):x=Cn(new URL(t.url),o.slice(0,o.indexOf(r)+1),s,!0,x),!l.isStaticRequest){n.next=58;break}throw u.headers.set("Location",x),u;case 58:return n.abrupt("return",{type:L.redirect,status:b,location:x,revalidate:null!==u.headers.get("X-Remix-Revalidate")});case 59:if(!l.isRouteRequest){n.next=61;break}throw{type:c||L.data,response:u};case 61:if(!(E=u.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(E)){n.next=68;break}return n.next=65,u.json();case 65:_=n.sent,n.next=71;break;case 68:return n.next=70,u.text();case 70:_=n.sent;case 71:if(c!==L.error){n.next=73;break}return n.abrupt("return",{type:c,error:new pn(b,u.statusText,_),headers:u.headers});case 73:return n.abrupt("return",{type:L.data,data:_,statusCode:u.status,headers:u.headers});case 74:if(c!==L.error){n.next=76;break}return n.abrupt("return",{type:c,error:u});case 76:if(!Xn(u)){n.next=78;break}return n.abrupt("return",{type:L.deferred,deferredData:u,statusCode:null==(C=u.init)?void 0:C.status,headers:(null==(N=u.init)?void 0:N.headers)&&new Headers(u.init.headers)});case 78:return n.abrupt("return",{type:L.data,data:u});case 79:case"end":return n.stop()}}),n,null,[[2,42,46,49]])}))),Mn.apply(this,arguments)}function In(n,e,t,r){var o=n.createURL(Jn(e)).toString(),a={signal:t};if(r&&ne(r.formMethod)){var i=r.formMethod,s=r.formEncType;a.method=i.toUpperCase(),"application/json"===s?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(r.json)):"text/plain"===s?a.body=r.text:"application/x-www-form-urlencoded"===s&&r.formData?a.body=Dn(r.formData):a.body=r.formData}return new Request(o,a)}function Dn(n){var e,t=new URLSearchParams,r=(0,T.Z)(n.entries());try{for(r.s();!(e=r.n()).done;){var o=s(e.value,2),a=o[0],i=o[1];t.append(a,"string"===typeof i?i:i.name)}}catch(l){r.e(l)}finally{r.f()}return t}function Rn(n){var e,t=new FormData,r=(0,T.Z)(n.entries());try{for(r.s();!(e=r.n()).done;){var o=s(e.value,2),a=o[0],i=o[1];t.append(a,i)}}catch(l){r.e(l)}finally{r.f()}return t}function Fn(n,e,t,r,o){var a,i={},s=null,l=!1,c={};return t.forEach((function(t,u){var d=e[u].route.id;if(P(!$n(t),"Cannot handle redirect results in processLoaderData"),Kn(t)){var p=Un(n,d),f=t.error;r&&(f=Object.values(r)[0],r=void 0),null==(s=s||{})[p.route.id]&&(s[p.route.id]=f),i[d]=void 0,l||(l=!0,a=fn(t.error)?t.error.status:500),t.headers&&(c[d]=t.headers)}else Qn(t)?(o.set(d,t.deferredData),i[d]=t.deferredData.data):i[d]=t.data,null==t.statusCode||200===t.statusCode||l||(a=t.statusCode),t.headers&&(c[d]=t.headers)})),r&&(s=r,i[Object.keys(r)[0]]=void 0),{loaderData:i,errors:s,statusCode:a||200,loaderHeaders:c}}function Bn(n,e,t,r,o,a,i,s){for(var l=Fn(e,t,r,o,s),c=l.loaderData,u=l.errors,d=0;d<a.length;d++){var p=a[d],f=p.key,m=p.match,h=p.controller;P(void 0!==i&&void 0!==i[d],"Did not find corresponding fetcher result");var g=i[d];if(!h||!h.signal.aborted)if(Kn(g)){var y=Un(n.matches,null==m?void 0:m.route.id);u&&u[y.route.id]||(u=A({},u,k({},y.route.id,g.error))),n.fetchers.delete(f)}else if($n(g))P(!1,"Unhandled fetcher revalidation redirect");else if(Qn(g))P(!1,"Unhandled fetcher deferred data");else{var b=pe(g.data);n.fetchers.set(f,b)}}return{loaderData:c,errors:u}}function zn(n,e,t,r){var o,a=A({},e),i=(0,T.Z)(t);try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.route.id;if(e.hasOwnProperty(l)?void 0!==e[l]&&(a[l]=e[l]):void 0!==n[l]&&s.route.loader&&(a[l]=n[l]),r&&r.hasOwnProperty(l))break}}catch(c){i.e(c)}finally{i.f()}return a}function Un(n,e){return(e?n.slice(0,n.findIndex((function(n){return n.route.id===e}))+1):(0,q.Z)(n)).reverse().find((function(n){return!0===n.route.hasErrorBoundary}))||n[0]}function Hn(n){var e=n.find((function(n){return n.index||!n.path||"/"===n.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Gn(n,e){var t=void 0===e?{}:e,r=t.pathname,o=t.routeId,a=t.method,i=t.type,s="Unknown Server Error",l="Unknown @remix-run/router error";return 400===n?(s="Bad Request",a&&r&&o?l="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+o+'", so there is no way to handle the request.':"defer-action"===i?l="defer() is not supported in actions":"invalid-body"===i&&(l="Unable to encode submission body")):403===n?(s="Forbidden",l='Route "'+o+'" does not match URL "'+r+'"'):404===n?(s="Not Found",l='No route matches URL "'+r+'"'):405===n&&(s="Method Not Allowed",a&&r&&o?l="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+o+'", so there is no way to handle the request.':a&&(l='Invalid request method "'+a.toUpperCase()+'"')),new pn(n||500,s,new Error(l),!0)}function Vn(n){for(var e=n.length-1;e>=0;e--){var t=n[e];if($n(t))return t}}function Jn(n){return D(A({},"string"===typeof n?R(n):n,{hash:""}))}function Wn(n,e){return n.pathname===e.pathname&&n.search===e.search&&(""===n.hash?""!==e.hash:n.hash===e.hash||""!==e.hash)}function Qn(n){return n.type===L.deferred}function Kn(n){return n.type===L.error}function $n(n){return(n&&n.type)===L.redirect}function Xn(n){var e=n;return e&&"object"===typeof e&&"object"===typeof e.data&&"function"===typeof e.subscribe&&"function"===typeof e.cancel&&"function"===typeof e.resolveData}function Zn(n){return null!=n&&"number"===typeof n.status&&"string"===typeof n.statusText&&"object"===typeof n.headers&&"undefined"!==typeof n.body}function Yn(n){return yn.has(n.toLowerCase())}function ne(n){return hn.has(n.toLowerCase())}function ee(n,e,t,r,o,a){return te.apply(this,arguments)}function te(){return te=w(v().mark((function n(e,t,r,o,a,i){var s,l;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=v().mark((function n(s){var l,c,u,d,p;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=r[s],c=t[s]){n.next=4;break}return n.abrupt("return","continue");case 4:if(u=e.find((function(n){return n.route.id===c.route.id})),d=null!=u&&!An(u,c)&&void 0!==(i&&i[c.route.id]),!Qn(l)||!a&&!d){n.next=11;break}return P(p=o[s],"Expected an AbortSignal for revalidating fetcher deferred result"),n.next=11,re(l,p,a).then((function(n){n&&(r[s]=n||r[s])}));case 11:case"end":return n.stop()}}),n)})),l=0;case 2:if(!(l<r.length)){n.next=10;break}return n.delegateYield(s(l),"t0",4);case 4:if("continue"!==n.t0){n.next=7;break}return n.abrupt("continue",7);case 7:l++,n.next=2;break;case 10:case"end":return n.stop()}}),n)}))),te.apply(this,arguments)}function re(n,e,t){return oe.apply(this,arguments)}function oe(){return(oe=w(v().mark((function n(e,t,r){return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===r&&(r=!1),n.next=3,e.deferredData.resolveData(t);case 3:if(!n.sent){n.next=6;break}return n.abrupt("return");case 6:if(!r){n.next=14;break}return n.prev=7,n.abrupt("return",{type:L.data,data:e.deferredData.unwrappedData});case 11:return n.prev=11,n.t0=n.catch(7),n.abrupt("return",{type:L.error,error:n.t0});case 14:return n.abrupt("return",{type:L.data,data:e.deferredData.data});case 15:case"end":return n.stop()}}),n,null,[[7,11]])})))).apply(this,arguments)}function ae(n){return new URLSearchParams(n).getAll("index").some((function(n){return""===n}))}function ie(n,e){var t="string"===typeof e?R(e).search:e.search;if(n[n.length-1].route.index&&ae(t||""))return n[n.length-1];var r=on(n);return r[r.length-1]}function se(n){var e=n.formMethod,t=n.formAction,r=n.formEncType,o=n.text,a=n.formData,i=n.json;if(e&&t&&r)return null!=o?{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:o}:null!=a?{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0}:void 0!==i?{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:i,text:void 0}:void 0}function le(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ce(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ue(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function de(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function pe(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n," _hasFetcherDoneAnything ":!0}}function fe(){return fe=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fe.apply(this,arguments)}var me=n.createContext(null);var he=n.createContext(null);var ge=n.createContext(null);var ye=n.createContext(null);var be=n.createContext(null);var ve=n.createContext({outlet:null,matches:[],isDataRoute:!1});var xe=n.createContext(null);function we(){return null!=n.useContext(be)}function ke(){return we()||P(!1),n.useContext(be).location}function Se(e){n.useContext(ye).static||n.useLayoutEffect(e)}function _e(){return n.useContext(ve).isDataRoute?function(){var e=Me(qe.UseNavigateStable).router,t=De(Ae.UseNavigateStable),r=n.useRef(!1);Se((function(){r.current=!0}));var o=n.useCallback((function(n,o){void 0===o&&(o={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,fe({fromRouteId:t},o)))}),[e,t]);return o}():function(){we()||P(!1);var e=n.useContext(me),t=n.useContext(ye),r=t.basename,o=t.navigator,a=n.useContext(ve).matches,i=ke().pathname,s=JSON.stringify(on(a).map((function(n){return n.pathnameBase}))),l=n.useRef(!1);return Se((function(){l.current=!0})),n.useCallback((function(n,t){if(void 0===t&&(t={}),l.current)if("number"!==typeof n){var a=an(n,JSON.parse(s),i,"path"===t.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:sn([r,a.pathname])),(t.replace?o.replace:o.push)(a,t.state,t)}else o.go(n)}),[r,o,s,i,e])}()}var Ee=n.createContext(null);function Ce(e,t){var r=(void 0===t?{}:t).relative,o=n.useContext(ve).matches,a=ke().pathname,i=JSON.stringify(on(o).map((function(n){return n.pathnameBase})));return n.useMemo((function(){return an(e,JSON.parse(i),a,"path"===r)}),[e,i,a,r])}function Ne(e,t,r){we()||P(!1);var o,a=n.useContext(ye).navigator,i=n.useContext(ve).matches,s=i[i.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),u=(s&&s.route,ke());if(t){var d,p="string"===typeof t?R(t):t;"/"===c||(null==(d=p.pathname)?void 0:d.startsWith(c))||P(!1),o=p}else o=u;var f=o.pathname||"/",m=U(e,{pathname:"/"===c?f:f.slice(c.length)||"/"});var h=Oe(m&&m.map((function(n){return Object.assign({},n,{params:Object.assign({},l,n.params),pathname:sn([c,a.encodeLocation?a.encodeLocation(n.pathname).pathname:n.pathname]),pathnameBase:"/"===n.pathnameBase?c:sn([c,a.encodeLocation?a.encodeLocation(n.pathnameBase).pathname:n.pathnameBase])})})),i,r);return t&&h?n.createElement(be.Provider,{value:{location:fe({pathname:"/",search:"",hash:"",state:null,key:"default"},o),navigationType:N.Pop}},h):h}function Te(){var e=function(){var e,t=n.useContext(xe),r=Ie(Ae.UseRouteError),o=De(Ae.UseRouteError);if(t)return t;return null==(e=r.errors)?void 0:e[o]}(),t=fn(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:a},r):null,null)}var qe,Ae,Le=n.createElement(Te,null),je=function(e){m(r,e);var t=b(r);function r(n){var e;return l(this,r),(e=t.call(this,n)).state={location:n.location,revalidation:n.revalidation,error:n.error},e}return p(r,[{key:"componentDidCatch",value:function(n,e){console.error("React Router caught the following error during render",n,e)}},{key:"render",value:function(){return this.state.error?n.createElement(ve.Provider,{value:this.props.routeContext},n.createElement(xe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{error:n}}},{key:"getDerivedStateFromProps",value:function(n,e){return e.location!==n.location||"idle"!==e.revalidation&&"idle"===n.revalidation?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error||e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}}]),r}(n.Component);function Pe(e){var t=e.routeContext,r=e.match,o=e.children,a=n.useContext(me);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(ve.Provider,{value:t},o)}function Oe(e,t,r){var o;if(void 0===t&&(t=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var i=e,s=null==(o=r)?void 0:o.errors;if(null!=s){var l=i.findIndex((function(n){return n.route.id&&(null==s?void 0:s[n.route.id])}));l>=0||P(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((function(e,o,a){var l=o.route.id?null==s?void 0:s[o.route.id]:null,c=null;r&&(c=o.route.errorElement||Le);var u=t.concat(i.slice(0,a+1)),d=function(){var t;return t=l?c:o.route.Component?n.createElement(o.route.Component,null):o.route.element?o.route.element:e,n.createElement(Pe,{match:o,routeContext:{outlet:e,matches:u,isDataRoute:null!=r},children:t})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===a)?n.createElement(je,{location:r.location,revalidation:r.revalidation,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}function Me(e){var t=n.useContext(me);return t||P(!1),t}function Ie(e){var t=n.useContext(he);return t||P(!1),t}function De(e){var t=function(e){var t=n.useContext(ve);return t||P(!1),t}(),r=t.matches[t.matches.length-1];return r.route.id||P(!1),r.route.id}!function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate"}(qe||(qe={})),function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId"}(Ae||(Ae={}));var Re,Fe=e.startTransition;function Be(e){var t=e.fallbackElement,r=e.router,o=e.future,a=s(n.useState(r.state),2),i=a[0],l=a[1],c=(o||{}).v7_startTransition,u=n.useCallback((function(n){c&&Fe?Fe((function(){return l(n)})):l(n)}),[l,c]);n.useLayoutEffect((function(){return r.subscribe(u)}),[r,u]);var d=n.useMemo((function(){return{createHref:r.createHref,encodeLocation:r.encodeLocation,go:function(n){return r.navigate(n)},push:function(n,e,t){return r.navigate(n,{state:e,preventScrollReset:null==t?void 0:t.preventScrollReset})},replace:function(n,e,t){return r.navigate(n,{replace:!0,state:e,preventScrollReset:null==t?void 0:t.preventScrollReset})}}}),[r]),p=r.basename||"/",f=n.useMemo((function(){return{router:r,navigator:d,static:!1,basename:p}}),[r,d,p]);return n.createElement(n.Fragment,null,n.createElement(me.Provider,{value:f},n.createElement(he.Provider,{value:i},n.createElement(He,{basename:p,location:i.location,navigationType:i.historyAction,navigator:d},i.initialized?n.createElement(ze,{routes:r.routes,state:i}):t))),null)}function ze(n){return Ne(n.routes,void 0,n.state)}function Ue(e){return function(e){var t=n.useContext(ve).outlet;return t?n.createElement(Ee.Provider,{value:e},t):t}(e.context)}function He(e){var t=e.basename,r=void 0===t?"/":t,o=e.children,a=void 0===o?null:o,i=e.location,s=e.navigationType,l=void 0===s?N.Pop:s,c=e.navigator,u=e.static,d=void 0!==u&&u;we()&&P(!1);var p=r.replace(/^\/*/,"/"),f=n.useMemo((function(){return{basename:p,navigator:c,static:d}}),[p,c,d]);"string"===typeof i&&(i=R(i));var m=i,h=m.pathname,g=void 0===h?"/":h,y=m.search,b=void 0===y?"":y,v=m.hash,x=void 0===v?"":v,w=m.state,k=void 0===w?null:w,S=m.key,_=void 0===S?"default":S,E=n.useMemo((function(){var n=tn(g,p);return null==n?null:{location:{pathname:n,search:b,hash:x,state:k,key:_},navigationType:l}}),[p,g,b,x,k,_,l]);return null==E?null:n.createElement(ye.Provider,{value:f},n.createElement(be.Provider,{children:a,value:E}))}!function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"}(Re||(Re={}));var Ge=new Promise((function(){}));n.Component;function Ve(e){var t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:n.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:n.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function Je(){return Je=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Je.apply(this,arguments)}function We(n,e){if(null==n)return{};var t,r,o={},a=Object.keys(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Qe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ke(){var n,e=null==(n=window)?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Je({},e,{errors:$e(e.errors)})),e}function $e(n){if(!n)return null;for(var e={},t=0,r=Object.entries(n);t<r.length;t++){var o=s(r[t],2),a=o[0],i=o[1];if(i&&"RouteErrorResponse"===i.__type)e[a]=new pn(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){var l=new Error(i.message);l.stack="",e[a]=l}else e[a]=i}return e}e.startTransition;var Xe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=n.forwardRef((function(e,t){var r,o=e.onClick,a=e.relative,i=e.reloadDocument,s=e.replace,l=e.state,c=e.target,u=e.to,d=e.preventScrollReset,p=We(e,Qe),f=n.useContext(ye).basename,m=!1;if("string"===typeof u&&Ze.test(u)&&(r=u,Xe))try{var h=new URL(window.location.href),g=u.startsWith("//")?new URL(h.protocol+u):new URL(u),y=tn(g.pathname,f);g.origin===h.origin&&null!=y?u=y+g.search+g.hash:m=!0}catch(x){}var b=function(e,t){var r=(void 0===t?{}:t).relative;we()||P(!1);var o=n.useContext(ye),a=o.basename,i=o.navigator,s=Ce(e,{relative:r}),l=s.hash,c=s.pathname,u=s.search,d=c;return"/"!==a&&(d="/"===c?a:sn([a,c])),i.createHref({pathname:d,search:u,hash:l})}(u,{relative:a}),v=function(e,t){var r=void 0===t?{}:t,o=r.target,a=r.replace,i=r.state,s=r.preventScrollReset,l=r.relative,c=_e(),u=ke(),d=Ce(e,{relative:l});return n.useCallback((function(n){if(function(n,e){return 0===n.button&&(!e||"_self"===e)&&!function(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}(n)}(n,o)){n.preventDefault();var t=void 0!==a?a:D(u)===D(d);c(e,{replace:t,state:i,preventScrollReset:s,relative:l})}}),[u,c,d,a,i,o,e,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:a});return n.createElement("a",Je({},p,{href:r||b,onClick:m||i?o:function(n){o&&o(n),n.defaultPrevented||v(n)},ref:t,target:c}))}));var nt,et;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher"})(nt||(nt={})),function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"}(et||(et={}));var tt=JSON.parse('[{"key":"/Babel","path":"/Babel","route":"/Babel","leaf":false,"title":"Babel","depth":0,"content":"","isLeaf":false,"children":[{"key":"/Babel/01-Babel \u57fa\u7840","path":"/Babel/01-Babel \u57fa\u7840","route":"/Babel/01-Babel \u57fa\u7840","leaf":false,"title":"01-Babel \u57fa\u7840","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Babel/01-Babel \u57fa\u7840/01 babel \u4ecb\u7ecd.md","path":"/Babel/01-Babel \u57fa\u7840/01 babel \u4ecb\u7ecd.md","route":"/Babel/01-Babel \u57fa\u7840/01 babel \u4ecb\u7ecd.md","leaf":true,"title":"01 babel \u4ecb\u7ecd","depth":2,"content":"---\\ntitle: 01 babel \u4ecb\u7ecd\\ntags: Babel\\n---\\n\\n## 1\u3001Babel \u4ecb\u7ecd\\n\\nBabel \u662f\u4e00\u4e2a\u5f00\u6e90\u7684 JavaScript \u7f16\u8bd1\u5668\u5de5\u5177\uff0c\u7528\u4e8e\u5c06\u65b0\u7248\u672c\u7684 JavaScript \u4ee3\u7801\u8f6c\u6362\u4e3a\u5411\u540e\u517c\u5bb9\u7684\u65e7\u7248\u672c\uff0c\u4ee5\u4fbf\u5728\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u548c\u73af\u5883\u4e2d\u8fd0\u884c\u3002\u5b83\u53ef\u4ee5\u5c06\u4f7f\u7528\u6700\u65b0\u7684 ECMAScript \u6807\u51c6\u7f16\u5199\u7684\u4ee3\u7801\u8f6c\u6362\u4e3a\u652f\u6301\u66f4\u65e7\u7684\u7248\u672c\uff0c\u4ee5\u4fbf\u5728\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\u3002\\n\\n## 2\u3001Babel \u7248\u672c\\n\\n### 2.1 v6 VS v7\\nBabel V7 \u76f8\u5bf9\u4e8e Babel V6\u6765\u8bf4\uff0c\u6709\u4ee5\u4e0b\u51e0\u4e2a\u4e3b\u8981\u7684\u533a\u522b\uff1a\\n\\n1. \u547d\u4ee4\u884c\u5de5\u5177\u6539\u8fdb\uff1aV7 \u589e\u52a0\u4e86\u4e00\u4e9b\u65b0\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u5982 `babel-upgrade` \u548c `babel-merge` \u7b49\uff0c\u8fd9\u4e9b\u5de5\u5177\u8ba9\u4f60\u66f4\u65b9\u4fbf\u5730\u7ef4\u62a4Babel\u914d\u7f6e\u548c\u5347\u7ea7\u5230\u65b0\u7684\u7248\u672c\u3002\\n\\n2. \u63d2\u4ef6\u65b0\u589e\uff1aV7 \u5728\u9ed8\u8ba4\u63d2\u4ef6\u96c6\u5408\u4e2d\u65b0\u589e\u4e86\u4e00\u4e9b\u65b0\u7684\u63d2\u4ef6\uff0c\u5982 `@babel/plugin-transform-runtime` \u548c `@babel/plugin-proposal-class-properties` \u7b49\uff0c\u8fd9\u4e9b\u63d2\u4ef6\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u66f4\u591a\u7684\u4fbf\u5229\u548c\u63a7\u5236\u529b\u3002\\n\\n3. \u914d\u7f6e\u6587\u4ef6\u66f4\u6539\uff1aBabel V7 \u5c06\u914d\u7f6e\u6587\u4ef6\u540d\u79f0\u4ece `.babelrc` \u66f4\u6539\u4e3a `babel.config.js`\uff0c\u5e76\u652f\u6301\u66f4\u590d\u6742\u7684\u914d\u7f6e\u9009\u9879\u3002\\n\\n4. \u5339\u914d\u66f4\u591a\u7684 ECMAScript \u7279\u6027\uff1aBabel V7 \u652f\u6301\u66f4\u591a\u7684 ECMAScript \u7279\u6027\uff0c\u5982\u5bf9\u8c61\u7684 Rest \u548c Spread \u5c5e\u6027\uff0c\u5bf9\u8c61\u7684\u89e3\u6784\u8d4b\u503c\uff0cAsync \u51fd\u6570\u548c\u6a21\u677f\u5b57\u7b26\u4e32\u6807\u8bb0\u7b49\u3002\\n\\nBabel V7 \u76f8\u5bf9\u4e8e Babel V6 \u7684\u6539\u8fdb\u4e3b\u8981\u5728\u4e8e\u547d\u4ee4\u884c\u5de5\u5177\u3001\u63d2\u4ef6\u96c6\u5408\u3001\u914d\u7f6e\u6587\u4ef6\u548c\u5339\u914d\u66f4\u591a\u7684 ECMAScript \u7279\u6027\u7b49\u65b9\u9762\u3002\\n\\n### 2.2 V7.4.0\\n- @babel/polyfill \u88ab\u5f03\u7528\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u662f `\\"core-js/stable\\"`\\n\\n### 2.3 v7.6.0\\n- \u652f\u6301 TypeScript \u547d\u540d\u7a7a\u95f4\u7684\u7f16\u8bd1\u3002\\n\\n## 3\u3001\u5b66\u4e60\u8d44\u6599\\n\\n### 3.1 \u5b98\u65b9\u6587\u6863\\n\\n- babel \u5b98\u65b9\u7f51 [https://babeljs.io/docs/en](https://babeljs.io/docs/en/)\\n- babel \u4e2d\u6587\u7f51 [https://www.babeljs.cn/docs](https://www.babeljs.cn/docs/)\\n\\n### 3.2 \u8c03\u8bd5\u5de5\u5177\\n\\n- AST \u5728\u7ebf <https://astexplorer.net/#/2uBU1BLuJ1>\\n- babel \u63d2\u4ef6\u5f00\u53d1\u624b\u518c <https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md>\\n\\n### 3.3 \u5b9e\u8df5\u7ecf\u9a8c\\n- babel \u817e\u8baf\u4e91\u793e\u533a\u6587\u6863 <https://cloud.tencent.com/developer/doc/1260> \u4ecb\u7ecdbabel API\\n- \u6700\u7b80\u5355 compiler \u6559\u7a0b [the-super-tiny-compiler](https://github.com/jamiebuilds/the-super-tiny-compiler/blob/master/the-super-tiny-compiler.js)\\n- [\u9ad8\u7ea7\u524d\u7aef\u57fa\u7840-JavaScript\u62bd\u8c61\u8bed\u6cd5\u6811AST](https://segmentfault.com/a/1190000018532745) <https://segmentfault.com/a/1190000018532745>\\n- [AST\u62bd\u8c61\u8bed\u6cd5\u6811\u2014\u2014\u6700\u57fa\u7840\u7684javascript\u91cd\u70b9\u77e5\u8bc6\uff0c99%\u7684\u4eba\u6839\u672c\u4e0d\u4e86\u89e3](https://segmentfault.com/a/1190000016231512?utm_source=tag-newest#articleHeader10)\\n- [\u4ece\u96f6\u5f00\u59cb\u5199\u4e00\u4e2awepy\u8f6cVUE\u7684\u5de5\u5177](http://zzfed.com/#/detail/5c8efc30c476e35308705a5b)\\n- Babel\u662f\u5982\u4f55\u8bfb\u61c2JS\u4ee3\u7801\u7684 <https://zhuanlan.zhihu.com/p/27289600>\\n- \u7f51\u6613\u4e91\u8bfe\u5802 JS\u7f16\u8bd1\u539f\u7406\uff1a [https://study.163.com/course/courseMain.htm?courseId=1209486877&*trace\\\\_c\\\\_p\\\\_k2*=8ea58ce894c149179bd099a664c39d08](https://study.163.com/course/courseMain.htm?courseId=1209486877&_trace_c_p_k2_=8ea58ce894c149179bd099a664c39d08)","isLeaf":true},{"key":"/Babel/01-Babel \u57fa\u7840/02 babel \u5feb\u901f\u5f00\u59cb.md","path":"/Babel/01-Babel \u57fa\u7840/02 babel \u5feb\u901f\u5f00\u59cb.md","route":"/Babel/01-Babel \u57fa\u7840/02 babel \u5feb\u901f\u5f00\u59cb.md","leaf":true,"title":"02 babel \u5feb\u901f\u5f00\u59cb","depth":2,"content":"---\\ntitle: 02 babel \u5feb\u901f\u5f00\u59cb\\ntags: Babel\\n---\\n\\n## 1\u3001\u521d\u59cb\u5316\u914d\u7f6e\\n\\n```shell\\nyarn add --dev @babel/core @babel/cli @babel/preset-env\\n```\\n\\n- @babel/core \u63d0\u4f9b\u4e86\u57fa\u672c\u529f\u80fd\uff0c\u5305\u62ec AST \u89e3\u6790 \u4ee5\u53ca AST visitor\\n- @babel/cli \u662f\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\\n- @babel/preset-env \u662f\u4e00\u4e2a\u63d2\u4ef6\u96c6\u5408\\n\\n**\u521b\u5efa\u914d\u7f6e\u6587\u4ef6**\\n\\n```js\\nconst presets = [\\n  [\\n    \\"@babel/preset-env\\",\\n    {\\n      targets: {\\n        edge: \\"17\\",\\n        firefox: \\"60\\",\\n        chrome: \\"67\\",\\n        safari: \\"11.1\\",\\n      },\\n      useBuiltIns: \\"usage\\",\\n      corejs: \\"3.6.4\\",\\n    },\\n  ],\\n];\\n\\nmodule.exports = { presets };\\n```\\n\\n```\\n./node_modules/.bin/babel src --out-dir lib\\n```\\n\\n## 2\u3001\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e\\n\\n- \u9879\u76ee\u8303\u56f4\u7684\u914d\u7f6e\\n  - `babel.config.*` \u6587\u4ef6\uff0c\u5177\u6709\u4ee5\u4e0b\u6269\u5c55\u540d\uff1a.json, .js, .cjs, .mjs, .cts.\\n- \u6587\u4ef6\u76f8\u5173\u914d\u7f6e\\n  - `.babelrc.*` \u6587\u4ef6\uff0c\u5177\u6709\u4ee5\u4e0b\u6269\u5c55\u540d\uff1a.json, .js, .cjs, .mjs, .cts.\\n  - `.babelrc` \u6587\u4ef6\uff0c\u6ca1\u6709\u6269\u5c55\u540d\u3002\\n  - `package.json` \u6587\u4ef6\uff0c\\"babel\\" key\\n\\n[babeljs.io config](https://babeljs.io/docs/config-files) \u5728\u8fd9\u91cc\u4e86\u89e3\u4ed6\u4eec\u7684\u533a\u522b\uff0c\u6211\u4eec\u5e94\u8be5\u7528\u54ea\u79cd\uff1f","isLeaf":true},{"key":"/Babel/01-Babel \u57fa\u7840/03 plugin \u548c preset.md","path":"/Babel/01-Babel \u57fa\u7840/03 plugin \u548c preset.md","route":"/Babel/01-Babel \u57fa\u7840/03 plugin \u548c preset.md","leaf":true,"title":"03 plugin \u548c preset","depth":2,"content":"---\\ntitle: 03 plugin \u548c preset\\ntags: Babel\\n---\\n\\nBabel \u63d2\u4ef6 \u548c Preset \u662f\u7528\u4e8e\u5728 JavaScript \u9879\u76ee\u4e2d\u8fdb\u884c\u4ee3\u7801\u8f6c\u6362\u7684\u5de5\u5177\u3002\\n\\n## 1\u3001\u63d2\u4ef6 \u548c Preset \u6709\u4ec0\u4e48\u533a\u522b\uff1f\\n\\n- \u63d2\u4ef6\u662f\u9488\u5bf9 Babel \u7684\u5177\u4f53\u529f\u80fd\u7684\u5355\u4e2a\u529f\u80fd\uff0c\u4f8b\u5982\u201c\u8f6c\u6362\u7bad\u5934\u51fd\u6570\u4e3a\u666e\u901a\u51fd\u6570\u201d\uff0c\u201c\u8f6c\u6362 ES6 \u7c7b\u6210\u4e3a\u666e\u901a\u51fd\u6570\u201d\u7b49\uff0c\u800c preset \u5219\u662f\u5305\u542b\u53e6\u5916\u4e00\u4e9b\u63d2\u4ef6\u7684\u4e00\u4e2a\u96c6\u5408\uff0c\u8fd9\u4e9b\u63d2\u4ef6\u5171\u540c\u5b8c\u6210\u4e00\u4e9b\u76f8\u5173\u7684 tasks\u3002\\n\\n- \u8f6f\u4ef6\u9884\u8bbe(packaged presets) \u53ef\u4ee5\u8f7b\u677e\u5730\u6267\u884c\u591a\u9879\u4efb\u52a1\uff0c\u800c\u4e0d\u5fc5\u5355\u72ec\u5b89\u88c5\u548c\u914d\u7f6e\u591a\u4e2a\u63d2\u4ef6\u3002\u4f8b\u5982\uff0c@babel/preset-env \u662f\u4e00\u4e2a\u9884\u8bbe\uff0c\u5b83\u5e2e\u52a9\u60a8\u5c06 ES6+\u4ee3\u7801\u8f6c\u6362\u4e3a\u7b26\u5408\u60a8\u6307\u5b9a\u7684\u76ee\u6807\u73af\u5883\u7684 JavaScript \u4ee3\u7801\u3002\\n\\n## 2\u3001\u5982\u4f55\u4f7f\u7528\uff1f\\n\\n\u4f7f\u7528 Babel \u63d2\u4ef6\u548c Preset\uff0c\u60a8\u9700\u8981\u5728\u9879\u76ee\u4e2d\u5b89\u88c5\u5b83\u4eec\u5e76\u914d\u7f6e Babel\u3002\u5728\u60a8\u7684\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a `.babelrc` \u6587\u4ef6\uff0c\u4e3a Babel \u63d0\u4f9b\u914d\u7f6e\u3002\\n\\n## 3\u3001preset\\n\\n\u4f8b\u5982\uff0c\u4f7f\u7528 preset-env \u8f6c\u6362 ES6 +\u4ee3\u7801\uff1a\\n\\n1. \u5b89\u88c5 `@babel/preset-env`:\\n\\n```shell\\nnpm install --save-dev @babel/preset-env\\n```\\n\\n2. \u7136\u540e\u5728 .babelrc \u6587\u4ef6\u4e2d\u914d\u7f6e\uff1a\\n\\n```json\\n{\\n  \\"presets\\": [\\"@babel/preset-env\\"]\\n}\\n```\\n\\n\u8fd9\u610f\u5473\u7740\u5728\u9879\u76ee\u4e2d\u7684\u6240\u6709 ES6+\u4ee3\u7801\u90fd\u5c06\u88ab\u8f6c\u6362\u4e3a\u9002\u7528\u4e8e\u60a8\u7684\u6240\u9700 JavaScript \u73af\u5883\u7684\u6807\u51c6 JavaScript\u3002\\n\\n## 4\u3001plugin\\n\\n```shell\\nyarn add --dev @babel/plugin-transform-arrow-functions\\n```\\n\\n```shell\\n./node_modules/.bin/babel src --out-dir lib --plugins=@babel/plugin-transform-arrow-functions\\n```\\n\\n```js\\nconst fn = () => 1;\\n\\n// converted to\\nvar fn = function fn() {\\n  return 1;\\n};\\n```\\n\\n```js\\nconst presets = [\\n  [\\n    \\"@babel/preset-env\\",\\n    {\\n      targets: {\\n        edge: \\"17\\",\\n        firefox: \\"60\\",\\n        chrome: \\"67\\",\\n        safari: \\"11.1\\",\\n      },\\n      useBuiltIns: \\"usage\\",\\n      corejs: \\"3.6.4\\",\\n    },\\n  ],\\n];\\n\\nconst pluginOption = {}\\n\\nconst plugins = [\\n  [\\"@babel/plugin-transform-arrow-functions\\", pluginOption]\\n];\\n\\nmodule.exports = { presets, plugins };\\n```\\n\\n### 4.1 \u63d2\u4ef6\u6267\u884c\u987a\u5e8f\\n\\nbabel \u63d2\u4ef6\u6309\u987a\u5e8f\u6267\u884c\uff0c\u90a3\u4e48\u63d2\u4ef6\u7684\u5148\u540e\u987a\u5e8f\u662f\u5982\u4f55\u51b3\u5b9a\u7684\u5462\uff1f\u6bd4\u5982\u5728\u4e00\u4e2a\u9879\u76ee\u4e2d\u4f7f\u7528 React \u548c Typescript\uff0c\u90a3\u4e48\u8bc6\u522b ts \u7684\u8bed\u6cd5\u63d2\u4ef6\u5728\u524d\u9762\uff0c\u8fd8\u662f\u8bc6\u522b jsx \u7684\u8bed\u6cd5\u7684\u63d2\u4ef6\u5728\u524d\u9762\uff1f\\n\\n- Plugin \u4f1a\u8fd0\u884c\u5728 Preset \u4e4b\u524d\u3002\\n- Plugin \u4f1a\u4ece\u524d\u5230\u540e\u987a\u5e8f\u6267\u884c\u3002\\n- Preset \u7684\u987a\u5e8f\u5219 \u521a\u597d\u76f8\u53cd(\u4ece\u540e\u5411\u524d)\u3002\\n\\n\\n```json\\nconst test1Plugin = require(\'./test1.plugin\');\\nconst test2Plugin = require(\'./test2.plugin\');\\n\\nconst presets = [\\n  [\\n    \'@babel/preset-env\',\\n    {\\n      targets: {\\n        edge: \'17\',\\n        firefox: \'60\',\\n        chrome: \'67\',\\n        safari: \'11.1\',\\n      },\\n      useBuiltIns: \'usage\',\\n      corejs: \'3.6.4\',\\n    },\\n  ],\\n];\\n\\nconst plugins = [\\n  [test1Plugin],\\n  [test2Plugin]\\n]\\n\\nmodule.exports = { presets, plugins };\\n```\\n\\n\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d test1Plugin \u6bd4 test2Plugin \u5148\u6267\u884c\u3002\\n\\n### 4.2 jsx \u548c ts \u8bed\u6cd5\u652f\u6301\\n\\n\u663e\u7136\u7b2c\u4e00\u4e2a\u63d2\u4ef6\u5fc5\u987b\u540c\u65f6\u652f\u6301 jsx \u8bed\u6cd5 \u548c ts \u8bed\u6cd5\uff0c`@babel/preset-typescript` \u5df2\u7ecf\u652f\u6301\u4e86 jsx \u8bed\u6cd5\\n\\n![20230705145919](http://s3.airtlab.com/blog/20230705145919.png)\\n\\n`@babel/preset-typescript` \u5e95\u5c42\u4f9d\u8d56\uff0c`plugin-syntax-typescript`","isLeaf":true},{"key":"/Babel/01-Babel \u57fa\u7840/04 plugin ES2015.md","path":"/Babel/01-Babel \u57fa\u7840/04 plugin ES2015.md","route":"/Babel/01-Babel \u57fa\u7840/04 plugin ES2015.md","leaf":true,"title":"04 plugin ES2015","depth":2,"content":"---\\ntitle: 04 plugin ES2015\\ntags: Babel\\n---\\n\\nBabel \u662f\u4e00\u4e2a\u7f16\u8bd1\u5668\u3002\u4ece\u5b8f\u89c2\u89d2\u5ea6\u770b\uff0c\u5b83\u5c06\u8fd0\u884c\u4ee3\u7801\u5206\u4e3a3\u4e2a\u9636\u6bb5: \u89e3\u6790\uff0c\u8f6c\u6362\uff0c\u53ca\u751f\u6210\uff08\u4e0e\u5176\u4ed6\u7f16\u8bd1\u5668\u76f8\u540c\uff09\u3002\\n\\n\u59cb\u9636\u6bb5\uff0cBabel \u5e76\u6ca1\u6709\u505a\u4efb\u4f55\u4e8b\u60c5\u3002\u5b83\u57fa\u672c\u4e0a\u5c31\u76f8\u5f53\u4e8e `const babel = code => code;`\uff0c\u5148\u89e3\u6790\u4ee3\u7801\uff0c\u7136\u540e\u518d\u6b21\u751f\u6210\u76f8\u540c\u7684\u4ee3\u7801\u3002\u4f60\u53ef\u4ee5\u4e3a Babel \u6dfb\u52a0\u4e00\u4e9b Plugins \u8ba9\u5176\u53bb\u505a\u4efb\u4f55\u4e8b\u60c5( Plugins \u4f1a\u5f71\u54cd Babel \u7684\u7b2c 2 \u9636\u6bb5\uff0c\u8f6c\u6362)\u3002\\n\\n\\n## 1\u3001ES3\\n\\n### [es3-member-expression-literals](https://babel.docschina.org/docs/en/babel-plugin-transform-es3-member-expression-literals)\\n\\n```javascript\\n// \u5728IE8\u53ca\u4ee5\u4e0b\u4f1a\u62a5\u9519\\nfoo.catch;\\n\\n// \u9700\u8981\u8f6c\u6362\u4e3a\\nfoo[\\"catch\\"]\\n```\\n\\n### [es3-property-literals](https://babel.docschina.org/docs/en/babel-plugin-transform-es3-property-literals)\\n\\n```javascript\\n// \u5728IE8\u53ca\u4ee5\u4e0b\u4f1a\u62a5\u9519\\nvar foo = {\\n  catch: function () {}\\n};\\n\\n// \u9700\u8981\u8f6c\u6362\u4e3a\\nvar foo = {\\n  \\"catch\\": function () {}\\n};\\n```\\n\\n\\n### [reserved-words](https://babeljs.io/docs/en/babel-plugin-transform-reserved-words)\\n\\n\u6709\u4e9b\u5728\u6807\u8bc6\u7b26\u5728ES3\u4e3a\u4fdd\u7559\u5b57\uff0c\u5728ES5\u53ca\u4ee5\u540e\u5c31\u4e0d\u662f\u4e86\uff0c\u8fd9\u4e2a\u63d2\u4ef6\u53ef\u4ee5\u91cd\u547d\u540d\u8fd9\u4e9b\u6807\u8bc6\u7b26\u3002\\n\\n```javascript\\n// IN\\nvar abstract = 1;\\nvar x = abstract + 1;\\n\\n// OUT\\nvar _abstract = 1;\\nvar x = _abstract + 1;\\n```\\n\\n## 2\u3001ES5\\n\\n### [property-mutators](https://babeljs.io/docs/en/babel-plugin-transform-property-mutators)\\n\\n\u5bf9\u4e8e mutate \u65b9\u6cd5\u7684\u5b9a\u4e49\uff0c\u8001\u7248\u7684\u90e8\u5206\u6d4f\u89c8\u5668\u53ea\u652f\u6301\u4f7f\u7528\xa0Object.defineProperties \u6765\u5b9a\u4e49\uff1a\\n\\n```javascript\\n// In\\nvar foo = {\\n  get bar() {\\n    return this._bar;\\n  },\\n  set bar(value) {\\n    this._bar = value;\\n  }\\n};\\n\\n// Out\\nvar foo = Object.defineProperties({}, {\\n  bar: {\\n    get: function () {\\n      return this._bar;\\n    },\\n    set: function (value) {\\n      this._bar = value;\\n    },\\n    configurable: true,\\n    enumerable: true\\n  }\\n});\\n```\\n\\n<a name=\\"R2DiV\\"></a>\\n\\n## 3\u3001ES2015\\n\\nES2015 \u4fee\u8ba2\u6587\u6863\uff1a<https://www.ecma-international.org/ecma-262/6.0>\\n\\n### [arrow-functions](https://babeljs.io/docs/en/babel-plugin-transform-arrow-functions)\\n\\n\u7bad\u5934\u51fd\u6570\u8f6c\u8bd1\\n\\n### [block-scoped-functions](https://babeljs.io/docs/en/babel-plugin-transform-block-scoped-functions)\\n\\n\u5757\u7ea7\u4f5c\u7528\u57df\u51fd\u6570\\n\\n```javascript\\n// In\\n{\\n  function name (n) {\\n    return n;\\n  }\\n}\\n\\nname(\\"Steve\\");\\n\\n// Out\\n{\\n  let name = function (n) {\\n    return n;\\n  };\\n}\\nname(\\"Steve\\");\\n```\\n\\n### [block-scoping](https://babeljs.io/docs/en/babel-plugin-transform-block-scoping)\\n\\n\u5757\u53ca\u4f5c\u7528\u57df\\n\\n```javascript\\n// In\\n{\\n  let a = 3\\n}\\n\\nlet a = 3\\n\\n// Out\\n{\\n  var _a = 3;\\n}\\n\\nvar a = 3;\\n```\\n\\n### [classes](https://babeljs.io/docs/en/babel-plugin-transform-classes)\\n\\n\u4f7f\u7528 class \u5b9a\u4e49\u7c7b\uff0c\u5982\u679c\u4f60\u7684\u4ee3\u7801\u5305\u542b\u5b50\u7c7b\u7ee7\u627f Native class \u65f6\uff0c\u9700\u8981\u989d\u5916\u6ce8\u610f\uff0c\u89c1\u6587\u6863 [classes](https://babeljs.io/docs/en/babel-plugin-transform-classes)\u3002\\n\\n```javascript\\n// In\\nclass Test {\\n  constructor(name) {\\n    this.name = name;\\n  }\\n\\n  logger () {\\n    console.log(\\"Hello\\", this.name);\\n  }\\n}\\n\\n// Out\\nfunction _classCallCheck(instance, Constructor) {\\n  if (!(instance instanceof Constructor)) {\\n    throw new TypeError(\\"Cannot call a class as a function\\");\\n  }\\n}\\n\\nvar Test = function () {\\n  function Test(name) {\\n    _classCallCheck(this, Test);\\n\\n    this.name = name;\\n  }\\n\\n  Test.prototype.logger = function logger() {\\n    console.log(\\"Hello\\", this.name);\\n  };\\n\\n  return Test;\\n}();\\n```\\n\\n### [computed-properties](https://babeljs.io/docs/en/babel-plugin-transform-computed-properties)\\n\\n\u8ba1\u7b97\u5c5e\u6027\u6216\u8868\u8fbe\u5f0f\u5c5e\u6027\\n\\n```javascript\\n// In\\nvar obj = {\\n  [\\"x\\" + foo]: \\"heh\\",\\n  [\\"y\\" + bar]: \\"noo\\",\\n  foo: \\"foo\\",\\n  bar: \\"bar\\"\\n};\\n\\n// Out\\nvar _obj;\\n\\nfunction _defineProperty(obj, key, value) {\\n  if (key in obj) {\\n    Object.defineProperty(obj, key, {\\n      value: value,\\n      enumerable: true,\\n      configurable: true,\\n      writable: true\\n    });\\n  } else {\\n    obj[key] = value;\\n  }\\n\\n  return obj;\\n}\\n\\nvar obj = (\\n  _obj = {},\\n  _defineProperty(_obj, \\"x\\" + foo, \\"heh\\"),\\n  _defineProperty(_obj, \\"y\\" + bar, \\"noo\\"),\\n  _defineProperty(_obj, \\"foo\\", \\"foo\\"),\\n  _defineProperty(_obj, \\"bar\\", \\"bar\\"),\\n  _obj\\n);\\n```\\n\\n### [destructuring](https://babeljs.io/docs/en/babel-plugin-transform-destructuring)\\n\\n\u89e3\u6784\u8d4b\u503c\\n\\n```javascript\\n// In\\nlet {x, y} = obj;\\nlet [a, b, ...rest] = arr;\\n\\n// Out\\nfunction _toArray(arr) { ... }\\n\\nlet _obj = obj,\\n    x = _obj.x,\\n    y = _obj.y;\\n\\nlet _arr = arr,\\n    _arr2 = _toArray(_arr),\\n    a = _arr2[0],\\n    b = _arr2[1],\\n    rest = _arr2.slice(2);\\n```\\n\\n### [duplicate-keys](https://babeljs.io/docs/en/babel-plugin-transform-duplicate-keys)\\n\\n\u5c06\u91cd\u590dkey\u8f6c\u4e3a\u8868\u8fbe\u5f0fkey\uff0c\u6ca1\u4ec0\u4e48\u7528\\n\\n```javascript\\n// In\\nvar x = { a: 5, a: 6 };\\nvar y = {\\n  get a() {},\\n  set a(x) {},\\n  a: 3,\\n};\\n\\n// Out\\nvar x = { a: 5, [\\"a\\"]: 6 };\\nvar y = {\\n  get a() {},\\n  set a(x) {},\\n  [\\"a\\"]: 3,\\n};\\n```\\n\\n### [for-of](https://babeljs.io/docs/en/babel-plugin-transform-for-of)\\n\\nfor-of \u8fed\u4ee3\u5668\\n\\n```javascript\\n// in\\nfor (var i of foo) {}\\n\\n// out\\nvar _iteratorNormalCompletion = true;\\nvar _didIteratorError = false;\\nvar _iteratorError = undefined;\\n\\ntry {\\n  for (var _iterator = foo[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\\n    var i = _step.value;\\n  }\\n} catch (err) {\\n  _didIteratorError = true;\\n  _iteratorError = err;\\n} finally {\\n  try {\\n    if (!_iteratorNormalCompletion && _iterator.return != null) {\\n      _iterator.return();\\n    }\\n  } finally {\\n    if (_didIteratorError) {\\n      throw _iteratorError;\\n    }\\n  }\\n}\\n```\\n\\n### [function-name](https://babeljs.io/docs/en/babel-plugin-transform-function-name)\\n\\n```javascript\\n// in\\nlet number = (x) => x\\n\\n// out\\nvar number = function number(x) {\\n  return x;\\n};\\n```\\n\\n### [instanceof](https://babeljs.io/docs/en/babel-plugin-transform-instanceof)\\n\\nES2015 \u5bf9 instanceof \u64cd\u4f5c\u7b26\u8fdb\u884c\u4e86\u4fee\u8ba2\\n![20230608110441](http://s3.airtlab.com/blog/20230608110441.png)\\n\\n```javascript\\n// in\\nfoo instanceof Bar;\\n\\n// out\\nfunction _instanceof(left, right) {\\n  if (right != null && typeof Symbol !== \\"undefined\\" && right[Symbol.hasInstance]) {\\n    return right[Symbol.hasInstance](left);\\n  } else {\\n    return left instanceof right;\\n  }\\n}\\n\\n_instanceof(foo, Bar);\\n```\\n\\n### [literals](https://babeljs.io/docs/en/babel-plugin-transform-literals)\\n\\n\u5b57\u9762\u91cf\u8f6c\u6362\\n\\n```javascript\\n// in\\nvar b = 0b11; // binary integer literal\\nvar o = 0o7; // octal integer literal\\nconst u = \'Hello\\\\u{000A}\\\\u{0009}!\'; // unicode string literals, newline and tab\\n\\n// out\\nvar b = 3; // binary integer literal\\nvar o = 7; // octal integer literal\\nconst u = \'Hello\\\\n\\\\t!\'; // unicode string literals, newline and tab\\n```\\n\\n### [new-target](https://babeljs.io/docs/en/babel-plugin-transform-new-target)\\n\\nnew.target\u8fd4\u56de\u4f7f\u7528new\u65b9\u6cd5\u8c03\u7528\u7c7b\u65f6\u7684\u7c7b\u7684\u540d\u79f0\uff0c\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b\u65f6\uff0cnew.target\u4f1a\u8fd4\u56de\u5b50\u7c7b\u3002\\n\\n```javascript\\nclass Rectangle {\\n  constructor(length, width) {\\n    console.log(new.target === Rectangle);\\n  }\\n}\\n \\nclass Square extends Rectangle {\\n  constructor(length) {\\n    super(length, length);\\n  }\\n}\\n```\\n\\n### [object-super](https://babeljs.io/docs/en/babel-plugin-transform-object-super)\\n\\nthis \u5173\u952e\u5b57\u603b\u662f\u6307\u5411\u51fd\u6570\u6240\u5728\u7684\u5f53\u524d\u5bf9\u8c61\uff0cES6 \u65b0\u589e\u4e86\u53e6\u4e00\u4e2a\u7c7b\u4f3c\u7684\u5173\u952e\u5b57super\uff0c\u6307\u5411\u5f53\u524d\u5bf9\u8c61\u7684\u539f\u578b\u5bf9\u8c61\u3002\\n\\n```javascript\\nlet obj2 = {\\n  say () {\\n    // [object Object]World!\\n    return super.toString() + \\"World!\\"\\n  }\\n}\\n```\\n\\n### [parameters](https://babeljs.io/docs/en/babel-plugin-transform-parameters)\\n\\n\u5904\u7406 ES2015 \u51fd\u6570\u53c2\u6570\uff1a\\n\\n- Destructuring parameters \u53c2\u6570\u89e3\u6784\\n- Default parameters \u9ed8\u8ba4\u53c2\u6570\\n- Rest parameters \u6269\u5c55\u7b26\\n\\n```javascript\\n// in\\nfunction test(x = \\"hello\\", { a, b }, ...args) {\\n  console.log(x, a, b, args);\\n}\\n\\n// out\\nfunction test() {\\n  var x =\\n    arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \\"hello\\";\\n  var _ref = arguments[1];\\n  var a = _ref.a,\\n    b = _ref.b;\\n\\n  for (\\n    var _len = arguments.length,\\n      args = Array(_len > 2 ? _len - 2 : 0),\\n      _key = 2;\\n    _key < _len;\\n    _key++\\n  ) {\\n    args[_key - 2] = arguments[_key];\\n  }\\n\\n  console.log(x, a, b, args);\\n}\\n```\\n\\n### [shorthand-properties](https://babeljs.io/docs/en/babel-plugin-transform-shorthand-properties)\\n\\n```javascript\\n// in\\nvar o = { a, b, c };\\n\\n// out\\nvar o = { a: a, b: b, c: c };\\n```\\n\\n```javascript\\n// in\\nvar cat = {\\n  getName() {\\n    return name;\\n  }\\n};\\n\\n// out\\nvar cat = {\\n  getName: function () {\\n    return name;\\n  }\\n};\\n```\\n\\n### [spread](https://babeljs.io/docs/en/babel-plugin-transform-spread)\\n\\n\u6269\u5c55\u8fd0\u7b97\u7b26\uff0c\u4e0e\u5269\u4f59\u8fd0\u7b97\u7b26\u4e92\u4e3a\u9006\u8fd0\u7b97\\n\\n```javascript\\n// in\\nvar a = [\'a\', \'b\', \'c\'];\\n\\nvar b = [...a, \'foo\'];\\n\\nvar c = foo(...a);\\n\\n// out\\nvar a = [\'a\', \'b\', \'c\'];\\n\\nvar b = a.concat([\'foo\']);\\n\\nvar c = foo.apply(void 0, a);\\n```\\n\\n### [sticky-regex](https://babeljs.io/docs/en/babel-plugin-transform-sticky-regex)\\n\\n```javascript\\n// in\\nconst a = /o+/y;\\n\\n// out\\nvar a = new RegExp(\\"o+\\", \\"y\\");\\n```\\n\\ny \u4fee\u9970\u7b26\uff1a\u53eb\u505a \u201c\u7c98\u8fde\u201d\uff08sticky\uff09\u4fee\u9970\u7b26\u3002\u7528\u6765\u6b63\u786e\u5904\u7406\u5339\u914d\u7c98\u8fde\u7684\u5b57\u7b26\u4e32\u3002\u5b83\u7684\u4f5c\u7528\u548cg\u4fee\u9970\u7c7b\u4f3c\uff0c\u4e5f\u662f\u5168\u5c40\u5339\u914d\u3002\u5b83\u53ef\u4ee5\u4f7f\u7528\u65b0\u589e\u7684\u6b63\u5219\u5bf9\u8c61\u5c5e\u6027sticky\u6765\u5224\u65ad\u6b63\u5219\u5bf9\u8c61\u662f\u5426\u8bbe\u7f6e\u4e86y\u4fee\u9970\u7b26\u3002y \u548c g \u7684\u533a\u522b\\n\\n- g \u4fee\u9970\u7b26\u53ea\u8981\u5269\u4f59\u4f4d\u7f6e\u4e2d\u5b58\u5728\u5339\u914d\u7684\u5b57\u7b26\u4e32\u5c31\u53ef\u4ee5\u8fd4\u56de\u6210\u529f\u3002\u800cy\u4fee\u9970\u7b26\u786e\u4fdd\u5339\u914d\u5fc5\u987b\u662f\u4ece\u5269\u4f59\u7684\u6240\u6709\u4f4d\u7f6e\u4e2d\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u5f00\u59cb\uff0c\u8fd9\u4e5f\u662f\u7c98\u8fde\u7684\u542b\u4e49\u3002\\n- y \u4fee\u9970\u7b26\u9690\u542b\u4e86\u5934\u90e8\u5339\u914d\u7684\u6807\u5fd7^\uff08^x\u8868\u793a\u5339\u914d\u7684\u5b57\u7b26\u4e32\u7684\u9996\u4e2a\u5b57\u7b26\u5fc5\u987b\u662fx\uff09\\n\\n### [template-literals](https://babeljs.io/docs/en/babel-plugin-transform-template-literals)\\n\\n\u6a21\u7248\u5b57\u7b26\u4e32\\n\\n```javascript\\n// in\\n`foo${bar}`;\\n\\n// out\\n\\"foo\\".concat(bar);\\n```\\n\\n### [typeof-symbol](https://babeljs.io/docs/en/babel-plugin-transform-typeof-symbol)\\n\\nSymbol\u662f\u539f\u59cb\u503c\uff0cES6\u6269\u5c55\u4e86typeof\u64cd\u4f5c\u7b26\uff0c\u8fd4\u56de\\"symbol\\"\u3002\u6240\u4ee5\u53ef\u4ee5\u7528typeof\u6765\u68c0\u6d4b\u53d8\u91cf\u662f\u5426\u4e3asymbol\u7c7b\u578b\\n\\n### [unicode-escapes](https://babeljs.io/docs/en/babel-plugin-transform-unicode-escapes)\\n\\nCompile ES2015 Unicode escapes to ES5\\n\\n```javascript\\n// in\\nvar \\\\u{1d49c} = \\"\\\\u{Babe1}\\";\\n\\nconsole.log(\\\\u{1d49c});\\n\\n// out\\nvar _ud835_udc9c = \\"\\\\uDAAA\\\\uDFE1\\";\\n\\nconsole.log(_ud835_udc9c);\\n```\\n\\n### [unicode-regex](https://babeljs.io/docs/en/babel-plugin-transform-unicode-regex)\\n\\n```js\\n// in\\nvar string = \\"foo\ud83d\udca9bar\\";\\nvar match = string.match(/foo(.)bar/u);\\n```","isLeaf":true},{"key":"/Babel/01-Babel \u57fa\u7840/05 plugin ES2016.md","path":"/Babel/01-Babel \u57fa\u7840/05 plugin ES2016.md","route":"/Babel/01-Babel \u57fa\u7840/05 plugin ES2016.md","leaf":true,"title":"05 plugin ES2016","depth":2,"content":"---\\ntitle: 05 plugin ES2016\\ntags: Babel\\n---\\n\\n## 1\u3001ES2016\\n\\n### [exponentiation-operator](https://babeljs.io/docs/en/babel-plugin-transform-exponentiation-operator)\\n\\n\u65b0\u589e\u6307\u6570\u8fd0\u7b97\u6cd5\\n\\n```javascript\\n// in\\nlet x = 10 ** 2;\\n\\nx **= 3;\\n\\n// out\\nlet x = Math.pow(10, 2);\\nx = Math.pow(x, 3);\\n```\\n\\n## 2\u3001ES2017\\n\\n### [async-to-generator](https://babeljs.io/docs/en/babel-plugin-transform-async-to-generator)\\n\\n\u5c06 async \u8f6c\u6362\u4e3a generator\\n\\n```javascript\\n// in\\nasync function foo() {\\n  await bar();\\n}\\n\\n// out\\nvar _asyncToGenerator = function (fn) {\\n  ...\\n};\\n\\nvar foo = _asyncToGenerator(function* () {\\n  yield bar();\\n});\\n```\\n\\n\\n## 3\u3001ES2018\\n\\n### [external-helpers](https://babeljs.io/docs/en/babel-plugin-external-helpers)\\n\\n\u5185\u90e8\u5e2e\u52a9\u51fd\u6570\\n\\n### [object-assign](https://babeljs.io/docs/en/babel-plugin-transform-object-assign)\\n\\n```javascript\\n// in \\nObject.assign(a, b);\\n\\n// out\\nvar _extends = ...;\\n\\n_extends(a, b);\\n```\\n\\n### [regenerator](https://babeljs.io/docs/en/babel-plugin-transform-regenerator)\\n\\n\u8fd9\u662f facebook \u4e0b\u7684\u4e00\u4e2a\u5de5\u5177\uff0c\u7528\u4e8e\u7f16\u8bd1 ES6 \u7684 generator \u51fd\u6570\uff0c\u4e00\u7bc7\u975e\u5e38\u597d\u7684\u6587\u7ae0\u89c1\uff1a<https://www.jianshu.com/p/17a4c00d5831> <a name=\\"uzkyg\\"></a>\\n\\n![20230608110538](http://s3.airtlab.com/blog/20230608110538.png)\\n\\n### [runtime](https://babeljs.io/docs/en/babel-plugin-transform-runtime)\\n\\nruntime \u5e93\uff0c\u7528\u4e8e\u91cd\u7528 @babel/runtime \u4ee3\u7801.\\n\\n### [strict-mode](https://babeljs.io/docs/en/babel-plugin-transform-strict-mode)\\n\\n\u7f16\u8bd1\u4e3a\u4e25\u683c\u6a21\u5f0f\\n\\n```javascript\\n// in\\nfoo();\\n\\n// out\\n\\"use strict\\";\\n\\nfoo();\\n```\\n\\n## Modules \u6a21\u5757\u5904\u7406\\n\\n- [modules-amd](https://babeljs.io/docs/en/babel-plugin-transform-modules-amd)\\n- [modules-commonjs](https://babeljs.io/docs/en/babel-plugin-transform-modules-commonjs)\\n- [modules-systemjs](https://babeljs.io/docs/en/babel-plugin-transform-modules-systemjs)\\n- [modules-umd](https://babeljs.io/docs/en/babel-plugin-transform-modules-umd)\\n\\n### Experimental\\n\\n- [class-properties](https://babeljs.io/docs/en/babel-plugin-proposal-class-properties)\\n\\n\u6269\u5c55\u7c7b\u7684\u5c5e\u6027\u5b9a\u4e49\\n\\n```javascript\\nclass Bork {\\n    //Property initializer syntax\\n    instanceProperty = \\"bork\\";\\n\\n    boundFunction = () => {\\n      return this.instanceProperty;\\n    };\\n\\n    //Static class properties\\n    static staticProperty = \\"babelIsCool\\";\\n    static staticFunction = function() {\\n      return Bork.staticProperty;\\n    };\\n}\\n```\\n\\n- [decorators](https://babeljs.io/docs/en/babel-plugin-proposal-decorators)\\n\\n\u88c5\u9970\u5668\u7684\u652f\u6301\\n\\n```javascript\\n@annotation\\nclass MyClass { }\\n\\nfunction annotation(target) {\\n   target.annotated = true;\\n}\\n```\\n\\n- [do-expressions](https://babeljs.io/docs/en/babel-plugin-proposal-do-expressions)\\n\\ndo \u8868\u8fbe\u5f0f\\n\\n```javascript\\nlet a = do {\\n  if(x > 10) {\\n    \'big\';\\n  } else {\\n    \'small\';\\n  }\\n};\\n// is equivalent to:\\nlet a = x > 10 ? \'big\' : \'small\';\\n```\\n\\n- [export-default-from](https://babeljs.io/docs/en/babel-plugin-proposal-export-default-from)\\n\\n\u5feb\u6377\u5230\u51fa\\n\\n```javascript\\nexport v from \'mod\';\\n```\\n\\n- [export-namespace-from](https://babeljs.io/docs/en/babel-plugin-proposal-export-namespace-from)\\n\\n\u5feb\u6377\u5bfc\u51fa\u91cd\u547d\u540d\\n\\n```javascript\\nexport * as ns from \'mod\';\\n```\\n\\n- [function-bind](https://babeljs.io/docs/en/babel-plugin-proposal-function-bind)\\n\\n\u5feb\u6377\u7684\u51fd\u6570 context \u7ed1\u5b9a\\n\\n```javascript\\nobj::func\\n// is equivalent to:\\nfunc.bind(obj)\\n```\\n\\n- [function-sent](https://babeljs.io/docs/en/babel-plugin-proposal-function-sent)\\n- [logical-assignment-operators](https://babeljs.io/docs/en/babel-plugin-proposal-logical-assignment-operators)\\n- [nullish-coalescing-operator](https://babeljs.io/docs/en/babel-plugin-proposal-nullish-coalescing-operator)\\n- [numeric-separator](https://babeljs.io/docs/en/babel-plugin-proposal-numeric-separator)\\n- [optional-chaining](https://babeljs.io/docs/en/babel-plugin-proposal-optional-chaining)\\n- [partial-application](https://babeljs.io/docs/en/babel-plugin-proposal-partial-application)\\n- [pipeline-operator](https://babeljs.io/docs/en/babel-plugin-proposal-pipeline-operator)\\n- [private-methods](https://babeljs.io/docs/en/babel-plugin-proposal-private-methods)\\n- [throw-expressions](https://babeljs.io/docs/en/babel-plugin-proposal-throw-expressions)\\n- [private-property-in-object](https://babeljs.io/docs/en/babel-plugin-proposal-private-property-in-object)\\n\\n\\n## React \u76f8\u5173\u8bed\u6cd5\\n\\n- [react-constant-elements](https://babeljs.io/docs/en/babel-plugin-transform-react-constant-elements)\\n- [react-display-name](https://babeljs.io/docs/en/babel-plugin-transform-react-display-name)\\n- [react-inline-elements](https://babeljs.io/docs/en/babel-plugin-transform-react-inline-elements)\\n- [react-jsx](https://babeljs.io/docs/en/babel-plugin-transform-react-jsx)\\n- [react-jsx-compat](https://babeljs.io/docs/en/babel-plugin-transform-react-jsx-compat)\\n- [react-jsx-self](https://babeljs.io/docs/en/babel-plugin-transform-react-jsx-self)\\n- [react-jsx-source](https://babeljs.io/docs/en/babel-plugin-transform-react-jsx-source)\\n","isLeaf":true},{"key":"/Babel/01-Babel \u57fa\u7840/06 babel presets.md","path":"/Babel/01-Babel \u57fa\u7840/06 babel presets.md","route":"/Babel/01-Babel \u57fa\u7840/06 babel presets.md","leaf":true,"title":"06 babel presets","depth":2,"content":"---\\ntitle: 06 babel presets\\ntags: Babel\\n---\\n\\npresets \u662f\u4e00\u4e9b plugins \u7684\u96c6\u5408\u3002\\n\\n\\n## 1\u3001\u5b98\u65b9 Presets\\n\\n- [@babel/preset-env](https://babeljs.io/docs/en/babel-preset-env)\\n- [@babel/preset-flow](https://babeljs.io/docs/en/babel-preset-flow)\\n- [@babel/preset-react](https://babeljs.io/docs/en/babel-preset-react)\\n- [@babel/preset-typescript](https://babeljs.io/docs/en/babel-preset-typescript)\\n\\n## 2\u3001\u5b9e\u9a8c\u9636\u6bb5 Presets\\n\\n- [Stage 0](https://babeljs.io/docs/en/babel-preset-stage-0) - Strawman: just an idea, possible Babel plugin.\\n- [Stage 1](https://babeljs.io/docs/en/babel-preset-stage-1) - Proposal: this is worth working on.\\n- [Stage 2](https://babeljs.io/docs/en/babel-preset-stage-2) - Draft: initial spec.\\n- [Stage 3](https://babeljs.io/docs/en/babel-preset-stage-3) - Candidate: complete spec and initial browser implementations.\\n- Stage 4 - Finished: will be added to the next yearly release.\\n\\n## 3\u3001\u81ea\u5b9a\u4e49 presets\\n\\n```javascript\\nmodule.exports = function() {\\n  return {\\n    plugins: [\\n      \\"pluginA\\",\\n      \\"pluginB\\",\\n      \\"pluginC\\",\\n    ]\\n  };\\n}\\n```\\n\\npresets \u4e2d\u4e5f\u53ef\u4ee5\u5305\u542b\u5176\u4ed6 presets\uff1a\\n\\n```javascript\\nmodule.exports = () => ({\\n  presets: [\\n    require(\\"@babel/preset-env\\"),\\n  ],\\n  plugins: [\\n    [require(\\"@babel/plugin-proposal-class-properties\\"), { loose: true }],\\n    require(\\"@babel/plugin-proposal-object-rest-spread\\"),\\n  ],\\n});\\n```\\n\\n\u4f7f\u7528 presets:\\n\\n```javascript\\n// \u975e node_modules\\n{\\n  \\"presets\\": [\\"./myProject/myPreset\\"]\\n}\\n\\n// node_modules \u4e0b\\n{\\n  \\"presets\\": [\\"babel-preset-myPreset\\"]\\n}\\n```","isLeaf":true},{"key":"/Babel/01-Babel \u57fa\u7840/07 preset react.md","path":"/Babel/01-Babel \u57fa\u7840/07 preset react.md","route":"/Babel/01-Babel \u57fa\u7840/07 preset react.md","leaf":true,"title":"07 preset react","depth":2,"content":"---\\ntitle: 07 preset react\\ntags: Babel\\n---\\n\\nThis preset always includes the following plugins:\\n\\n- @babel/plugin-syntax-jsx\\n- @babel/plugin-transform-react-jsx\\n- @babel/plugin-transform-react-display-name\\n\\nAnd with the development option:\\n\\nClassic runtime adds:\\n\\n- @babel/plugin-transform-react-jsx-self\\n- @babel/plugin-transform-react-jsx-source\\n\\n```json\\n{\\n  \\"presets\\": [\\n    [\\n      \\"@babel/preset-react\\",\\n      {\\n        \\"pragma\\": \\"dom\\", // default pragma is React.createElement (only in classic runtime)\\n        \\"pragmaFrag\\": \\"DomFrag\\", // default is React.Fragment (only in classic runtime)\\n        \\"throwIfNamespace\\": false, // defaults to true\\n        \\"runtime\\": \\"classic\\" // defaults to classic\\n        // \\"importSource\\": \\"custom-jsx-library\\" // defaults to react (only in automatic runtime)\\n      }\\n    ]\\n  ]\\n}\\n```\\n\\n## @babel/plugin-syntax-jsx\\n\\n@babel/plugin-syntax-jsx \u662f\u4e00\u4e2a\u7528\u4e8e Babel \u7684\u63d2\u4ef6\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u8ba9 Babel \u80fd\u591f\u8bc6\u522b\u548c\u8f6c\u6362 JSX \u8bed\u6cd5\u7684\u4ee3\u7801\u3002JSX \u662f\u4e00\u79cd JavaScript \u7684\u8bed\u6cd5\u6269\u5c55\uff0c\u5b83\u5141\u8bb8\u5728 JavaScript \u4e2d\u7f16\u5199\u7c7b\u4f3c\u4e8e HTML \u7684\u6807\u8bb0\u8bed\u8a00\uff0c\u7528\u4e8e\u6784\u5efa\u7528\u6237\u754c\u9762\u3002\\n\u5728\u6ca1\u6709\u8be5\u63d2\u4ef6\u7684\u60c5\u51b5\u4e0b\uff0cBabel \u5c06\u65e0\u6cd5\u7406\u89e3 JSX \u4ee3\u7801\u4e2d\u7684\u6807\u7b7e\uff0c\u4f1a\u629b\u51fa\u9519\u8bef\u3002\u4f7f\u7528 @babel/plugin-syntax-jsx \u63d2\u4ef6\u540e\uff0cBabel \u5c06\u80fd\u591f\u6b63\u786e\u5730\u89e3\u6790\u5e76\u8f6c\u6362 JSX \u8bed\u6cd5\u5230\u666e\u901a\u7684 JavaScript \u4ee3\u7801\u3002\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8be5\u63d2\u4ef6\u53ea\u662f\u89e3\u6790 JSX \u8bed\u6cd5\uff0c\u5b83\u5e76\u4e0d\u4f1a\u5c06 JSX \u8f6c\u5316\u4e3a\u771f\u6b63\u7684 DOM \u64cd\u4f5c\u3002\u8981\u5c06 JSX \u8f6c\u6362\u4e3a\u53ef\u7528\u7684 JavaScript \u4ee3\u7801\uff0c\u9700\u8981\u4f7f\u7528\u5176\u4ed6\u7684\u63d2\u4ef6\u6216\u5de5\u5177\uff0c\u4f8b\u5982 @babel/preset-react \u63d2\u4ef6\u3001React \u6216 Preact \u5e93\u7b49\u3002\\n\\n## @babel/plugin-transform-react-jsx\\n\\n@babel/plugin-transform-react-jsx \u662f\u4e00\u4e2a\u7528\u4e8e Babel \u7684\u63d2\u4ef6\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u5c06 JSX \u8bed\u6cd5\u8f6c\u6362\u4e3a\u666e\u901a\u7684 JavaScript \u4ee3\u7801\uff0c\u4ee5\u4fbf JavaScript \u5f15\u64ce\u80fd\u591f\u8bc6\u522b\u548c\u6267\u884c\u8fd9\u4e9b\u4ee3\u7801\u3002\\nJSX \u662f\u4e00\u79cd JavaScript \u7684\u8bed\u6cd5\u6269\u5c55\uff0c\u5b83\u5141\u8bb8\u5728 JavaScript \u4e2d\u7f16\u5199\u7c7b\u4f3c\u4e8e HTML \u7684\u6807\u8bb0\u8bed\u8a00\uff0c\u7528\u4e8e\u6784\u5efa\u7528\u6237\u754c\u9762\u3002\u4f46\u662f\uff0c\u7531\u4e8e JavaScript \u5f15\u64ce\u4e0d\u80fd\u76f4\u63a5\u6267\u884c JSX \u4ee3\u7801\uff0c\u56e0\u6b64\u9700\u8981\u5c06\u5176\u8f6c\u6362\u4e3a\u666e\u901a\u7684 JavaScript \u4ee3\u7801\uff0c\u4ee5\u4fbf\u80fd\u591f\u5728\u6d4f\u89c8\u5668\u6216 Node.js \u7b49\u73af\u5883\u4e2d\u6267\u884c\u3002\\n\\n\\n## React 17 \u4ecb\u7ecd\u5168\u65b0\u7684 JSX \u8f6c\u6362 (React.createElement => jsx)\\n\\n![20230518151443](http://s3.airtlab.com/blog/20230518151443.png)\\n\\n![20230518151453](http://s3.airtlab.com/blog/20230518151453.png)\\n\\n![20230518151506](http://s3.airtlab.com/blog/20230518151506.png)\\n\\n![20230518151537](http://s3.airtlab.com/blog/20230518151537.png)\\n\\n![20230518151556](http://s3.airtlab.com/blog/20230518151556.png)","isLeaf":true}]},{"key":"/Babel/02-Babel API","path":"/Babel/02-Babel API","route":"/Babel/02-Babel API","leaf":false,"title":"02-Babel API","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Babel/02-Babel API/01 @babel core.md","path":"/Babel/02-Babel API/01 @babel core.md","route":"/Babel/02-Babel API/01 @babel core.md","leaf":true,"title":"01 @babel core","depth":2,"content":"---\\ntitle: 01 @babel core\\ntags: Babel\\n---\\n\\n@babel/core \u66b4\u9732\u4e86 `\u6e90\u4ee3\u7801 => AST => \u76ee\u6807\u4ee3\u7801` \u6574\u4e2a\u8fc7\u7a0b\u6240\u9700\u8981\u7684\u65b9\u6cd5\u3002\\n\\n## 1. transform\\n\\ntransform \u65b9\u6cd5\u5c06\u6e90\u4ee3\u7801\u5904\u7406\u540e\u8fd4\u56de\u76ee\u6807\u4ee3\u7801\uff0csourcemap \u4ee3\u7801\uff0c\u4ee5\u53caast\uff1a\\n\\n```javascript\\n/**\\n * @param string code \u6e90\u4ee3\u7801\\n * @param object options \u914d\u7f6e\u9879\\n * @param function callback \u56de\u8c03\u51fd\u6570\\n */\\nbabel.transform(code: string, options?: Object, callback: Function)\\n```\\n\\n```javascript\\nconst babel = require(\\"@babel/core\\");\\nconst code = `const name = 1`\\nconst options = {}\\n\\nbabel.transform(code, options, function(err, result) {\\n  result; // => { code, map, ast }\\n  console.log(result)\\n});\\n```\\n\\n\u5982\u679c\u9700\u8981 ast \u548c sourcemap:\\n\\n```javascript\\nconst babel = require(\\"@babel/core\\");\\nconst sourceCode = `var count = 1`\\n\\nbabel.transform(sourceCode, { ast: true, inputSourceMap: true }, function(err, result) {\\n  result; // => { code, map, ast }\\n  console.log(result)\\n});\\n```\\n\\n\u8fd9\u91cc\u7684 options \u7528\u4e8e\u914d\u7f6e plugins\uff0chelpers \u7b49\u7b49\uff0c\u540e\u9762\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u3002\u53e6\u5916 bable \u8fd8\u63d0\u4f9b\u4e86 transform \u7684\u540c\u6b65\u65b9\u6cd5 transformSync\uff0c\u4ee5\u53ca\u5f02\u6b65Promise API transformAsync:\\n\\n```javascript\\n// \u540c\u6b65API\\nvar result = babel.transformSync(\\"code();\\", options);\\nresult.code;\\nresult.map;\\nresult.ast;\\n\\n// \u5f02\u6b65API\\nbabel.transformAsync(\\"code();\\", options).then(result => {\\n  result.code;\\n  result.map;\\n  result.ast;\\n});\\n```\\n\\n## 2. transformFile\\n\\ntransformFile \u7528\u4e8e\u8f6c\u6362\u6574\u4e2aJS\u6587\u4ef6\uff1a\\n\\n```javascript\\nbabel.transformFile(filename: string, options?: Object, callback: Function)\\n```\\n\\n\u5176\u51fd\u6570\u7b7e\u540d\u548c transform \u5dee\u4e0d\u591a\uff0c\u53ea\u662f\u7b2c\u4e00\u4e2a\u53c2\u6570\u4ece\u6e90\u4ee3\u7801 code \u53d8\u4e3a\u4e86\u6587\u4ef6\u8def\u5f84 filename\uff1a\\n\\n```javascript\\nbabel.transformFile(\\"filename.js\\", options, function (err, result) {\\n  result; // => { code, map, ast }\\n});\\n```\\n\\n\u7c7b\u4f3c\u7684\uff0ctransformFile \u4e5f\u989d\u5916\u63d0\u4f9b\u4e86\u540c\u6b65\u548c\u5f02\u6b65API\uff0ctransformFileSync \u548c transformFileAsync\u3002\\n\\n## 3. parse\\n\\n\u8be5\u65b9\u6cd5\u4f1a\u626b\u7801\u6e90\u4ee3\u7801\uff0c\u8fd4\u56de\u4e00\u4e2a AST\uff0c\u5e76\u4e14 @babel/core \u540c\u6837\u989d\u5916\u63d0\u4f9b\u4e86 parse \u65b9\u6cd5\u7684\u5f02\u6b65\u548c\u540c\u6b65API: parseAsync \u548c parseSync\u3002\\n\\n```javascript\\nbabel.parse(code: string, options?: Object, callback: Function)\\n```\\n\\n```javascript\\nconst babel = require(\\"@babel/core\\");\\nconst sourceCode = `var count = 1`\\n\\nbabel.parse(sourceCode, function(err, result) {\\n  console.log(JSON.stringify(result))\\n});\\n```\\n\\n\u7ed3\u679c\u5982\u4e0b\uff1a\\n\\n```javascript\\n{\\n\\t\\"type\\": \\"File\\",\\n\\t\\"start\\": 0,\\n\\t\\"end\\": 13,\\n\\t\\"loc\\": {\\n\\t\\t\\"start\\": {\\n\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\"column\\": 0\\n\\t\\t},\\n\\t\\t\\"end\\": {\\n\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\"column\\": 13\\n\\t\\t}\\n\\t},\\n\\t\\"errors\\": [],\\n\\t\\"program\\": {\\n\\t\\t\\"type\\": \\"Program\\",\\n\\t\\t\\"start\\": 0,\\n\\t\\t\\"end\\": 13,\\n\\t\\t\\"loc\\": {\\n\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\"column\\": 0\\n\\t\\t\\t},\\n\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\"column\\": 13\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t\\"sourceType\\": \\"module\\",\\n\\t\\t\\"interpreter\\": null,\\n\\t\\t\\"body\\": [{\\n\\t\\t\\t\\"type\\": \\"VariableDeclaration\\",\\n\\t\\t\\t\\"start\\": 0,\\n\\t\\t\\t\\"end\\": 13,\\n\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\"column\\": 0\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\"column\\": 13\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\t\\t\\t\\"declarations\\": [{\\n\\t\\t\\t\\t\\"type\\": \\"VariableDeclarator\\",\\n\\t\\t\\t\\t\\"start\\": 4,\\n\\t\\t\\t\\t\\"end\\": 13,\\n\\t\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\"column\\": 4\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\"column\\": 13\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\"id\\": {\\n\\t\\t\\t\\t\\t\\"type\\": \\"Identifier\\",\\n\\t\\t\\t\\t\\t\\"start\\": 4,\\n\\t\\t\\t\\t\\t\\"end\\": 9,\\n\\t\\t\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 4\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 9\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\"identifierName\\": \\"count\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"name\\": \\"count\\"\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\"init\\": {\\n\\t\\t\\t\\t\\t\\"type\\": \\"NumericLiteral\\",\\n\\t\\t\\t\\t\\t\\"start\\": 12,\\n\\t\\t\\t\\t\\t\\"end\\": 13,\\n\\t\\t\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 12\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 13\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"extra\\": {\\n\\t\\t\\t\\t\\t\\t\\"rawValue\\": 1,\\n\\t\\t\\t\\t\\t\\t\\"raw\\": \\"1\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"value\\": 1\\n\\t\\t\\t\\t}\\n\\t\\t\\t}],\\n\\t\\t\\t\\"kind\\": \\"var\\"\\n\\t\\t}],\\n\\t\\t\\"directives\\": []\\n\\t},\\n\\t\\"comments\\": []\\n}\\n```\\n\\n## 4. transformFromAst\\n\\n\u7ed9\u5b9a\u4e00\u4e2a [AST](https://astexplorer.net/) \uff0c\u5c06\u5b83\u8fdb\u884c\u8f6c\u6362\u4e3a\u548cparser\u65b9\u6cd5\u8f93\u5165\u4e00\u81f4\u7684\u7ed3\u679c\uff0c\u4e5f\u7b97\u662f\u5c06 parse \u65b9\u6cd5\u7684\u8f93\u5165\u8fdb\u884c\u53cd\u5e8f\u5217\u5316\uff1a\\n\\n```javascript\\nbabel.transformFromAst(ast: Object, code?: string, options?: Object, callback: Function): FileNode | null\\n```\\n\\n```javascript\\nvar babel = require(\\"@babel/core\\");\\n\\nconst sourceCode = `var count = 1`\\n\\nbabel.parse(sourceCode, function(err, result) {\\n  if (err) {\\n    console.log(err);\\n    return;\\n  }\\n\\n  // babel.transformFromAst(result, function(err, res) {\\n  //   console.log(res) // res === JSON.string(result)\\n  // })\\n\\n  babel.transformFromAst(result, undefined, { ast: true }, function(err, res) {\\n    console.log(res)\\n  })\\n});\\n```\\n\\n## 5. Advanced APIs\\n\\n\u8bb8\u591a\u4f7f\u7528\u4e86Babel\u7684\u7cfb\u7edf\u90fd\u559c\u6b22\u81ea\u52a8\u6ce8\u5165 plugins \u548c presets\uff0c\u6216\u8986\u76d6\u9009\u9879\u3002\u4e3a\u4e86\u5b9e\u73b0\u6b64\u76ee\u6807\uff0cBabel \u516c\u5f00\u4e86\u4e00\u4e9b\u529f\u80fd\uff0c\u8fd9\u4e9b\u529f\u80fd\u6709\u52a9\u4e8e\u5728\u4e0d\u8fdb\u884c\u8f6c\u6362\u7684\u60c5\u51b5\u4e0b\u90e8\u5206\u52a0\u8f7d\u914d\u7f6e\u3002\\n\\n\\n### 5.1 loadOptions\\n\\n\u7528\u4e8e\u89e3\u6790 Babel \u7684\u9009\u9879\uff0c\u4ea7\u751f\u4e00\u4e2a option \u5bf9\u8c61\\n\\n```javascript\\nbabel.loadOptions(options?: Object)\\n```\\n\\n\u4ee3\u7801\uff1a\\n\\n```javascript\\nvar babel = require(\\"@babel/core\\");\\n\\nconst res = babel.loadOptions({\\n  \\"plugins\\": [\\"@babel/plugin-transform-arrow-functions\\"]\\n})\\n\\nconsole.log(res)\\n```\\n\\n\u8f93\u51fa\uff1a\\n\\n![20230608023018](http://s3.airtlab.com/blog/20230608023018.png)\\n\\n### 5.2 loadPartialConfig\\n\\n```javascript\\nbabel.loadPartialConfig(options?: Object): PartialConfig\\n```\\n\\n### 5.3 createConfigItem\\n\\n```javascript\\nbabel.createConfigItem(value: string | {} | Function | [string | {} | Function, {} | void], { dirname?: string, type?: \\"preset\\" | \\"plugin\\" }): ConfigItem\\n```\\n\\n## 6. Options \u914d\u7f6e\\n\\n\u53c2\u8003\u6587\u6863 <https://babeljs.io/docs/en/options>","isLeaf":true},{"key":"/Babel/02-Babel API/02 @babel generator.md","path":"/Babel/02-Babel API/02 @babel generator.md","route":"/Babel/02-Babel API/02 @babel generator.md","leaf":true,"title":"02 @babel generator","depth":2,"content":"---\\ntitle: 02 @babel generator\\ntags: Babel\\n---\\n\\n```javascript\\nimport {parse} from \'@babel/parser\';\\nimport generate from \'@babel/generator\';\\n\\nconst code = \'class Example {}\';\\nconst ast = parse(code);\\n\\nconst output = generate(ast, { /* options */ }, code);\\n```\\n\\n## 1\u3001\u683c\u5f0f\u5316\u8f93\u51fa\u7684\u9009\u9879\\n\\n| \u9009\u9879\u540d | \u7c7b\u578b | \u9ed8\u8ba4\u503c | \u63cf\u8ff0 |\\n| :--- | :--- | :--- | :--- |\\n| auxiliaryCommentBefore | string |  | \u53ef\u9009\u5b57\u7b26\u4e32\uff0c\u5728\u8f93\u51fa\u6587\u4ef6\u7684\u5f00\u59cb\u6dfb\u52a0\u5757\u6ce8\u91ca |\\n| auxiliaryCommentAfter | string |  | \u53ef\u9009\u5b57\u7b26\u4e32\uff0c\u5728\u8f93\u51fa\u6587\u4ef6\u7684\u672b\u5c3e\u6dfb\u52a0\u5757\u6ce8\u91ca |\\n| shouldPrintComment | function | opts.comments | \u5982\u679c\u6ce8\u91ca\u9700\u8981\u5305\u542b\u5728\u8f93\u51fa\u4e2d\uff0c\u8be5\u51fd\u6570\u5219\u9700\u63a5\u53d7\u6ce8\u91ca\uff08\u4f5c\u4e3a\u5b57\u7b26\u4e32\uff09\u5e76\u8fd4\u56de true \u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5982\u679c opts.commoents \u4e3a true \u6216\u8005 opts.minifed \u4e3a false \u5e76\u4e14\u6ce8\u91ca\u4e2d\u5305\u542b @preserve \u6216 @license\uff0c\u5219\u5305\u542b\u6ce8\u91ca\u3002 |\\n| retainLines | boolean | false | \u5c1d\u8bd5\u5728\u8f93\u51fa\u7684\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e0e\u6e90\u4ee3\u7801\u76f8\u540c\u7684\u884c\u53f7(\u6709\u52a9\u4e8e\u4fdd\u7559\u6808\u4fe1\u606f\u8ddf\u8e2a) |\\n| retainFunctionParens | boolean | false | \u4fdd\u7559\u51fd\u6570\u8868\u8fbe\u5f0f\u7684\u4e0a\u4e0b\u7ea7 (\u53ef\u7528\u4e8e\u66f4\u6539\u5f15\u64ce\u89e3\u6790\u884c\u4e3a) |\\n| comments | boolean | true | \u8f93\u51fa\u4e2d\u662f\u5426\u5305\u542b\u6ce8\u91ca |\\n| compact | boolean or \'auto\' | opts.minified | \u8bbe\u7f6e\u4e3a true \u4ee5\u907f\u514d\u6dfb\u52a0\u7528\u4e8e\u683c\u5f0f\u5316\u7684\u7a7a\u683c |\\n| minified | boolean | false | \u8f93\u51fa\u662f\u5426\u88ab\u538b\u7f29 |\\n| concise | boolean | false | \u8bbe\u7f6e\u4e3a true \u4ee5\u51cf\u5c11\u7a7a\u683c (\u4f46\u6548\u679c\u4e0d\u5982 opts.compact ) |\\n| quotes | \'single\' or \'double\' | \u57fa\u4e8e ast.tokens \u7684\u81ea\u52a8\u68c0\u6d4b | \u8f93\u51fa\u4e2d\u5bf9\u5f15\u53f7\u7684\u7c7b\u578b\u8fdb\u884c\u4fdd\u7559 |\\n| filename | string |  | \u5728\u8b66\u544a\u4fe1\u606f\u4e2d\u4f7f\u7528 |\\n| flowCommaSeparator | boolean | false | \u8bbe\u7f6e\u4e3a true \u4ee5\u4f7f\u7528\u9017\u53f7\u800c\u4e0d\u662f\u5206\u53f7\u4f5c\u4e3a Flow \u5c5e\u6027\u7684\u5206\u9694\u7b26 |\\n| jsonCompatibleStrings | boolean | false | \u8bbe\u7f6e\u4e3a true\uff0c\u4f7f\u7528 \\"json\\" \u8fd0\u884c jsesc\uff1a\u6b63\u786e\u7684\u5c06 \\"\\\\u00A9\\" \u6253\u5370\u4e3a \\"\xa9\\" ; |\\n\\nsource maps \u7684\u9009\u9879:\\n\\n| \u9009\u9879\u540d | \u7c7b\u578b | \u9ed8\u8ba4\u503c | \u63cf\u8ff0 |\\n| :--- | :--- | :--- | :--- |\\n| sourceMaps | boolean | false | \u542f\u7528\u751f\u6210 source maps |\\n| sourceMapTarget | string |  | source map \u4f1a\u4e0e\u751f\u6210\u4ee3\u7801\u7684\u6587\u4ef6\u540d\u8fdb\u884c\u5173\u8054 |\\n| sourceRoot | string |  | source map \u4e2d\u6240\u6709\u5bf9\u5e94 URLs \u7684 root |\\n| sourceFileName | string |  | \u6e90\u4ee3\u7801\uff08\u4f8b\u5982\uff0c  code \u53c2\u6570\u4e2d\u7684\u4ee3\u7801\uff09\u7684\u6587\u4ef6\u540d\u3002\u53ea\u4f1a\u5728 code \u4e3a\u5b57\u7b26\u4e32\u65f6\u4f7f\u7528\u3002 |\\n\\n\\n## 2\u3001\u591a\u4e2a\u6765\u6e90\u6784\u5efa AST\\n\\n\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0cBabel \u4f1a\u5c06\u8f93\u5165\u6587\u4ef6\u4e0e\u8f93\u51fa\u6587\u4ef6\u8fdb\u884c 1:1 \u8f6c\u6362\u3002\u7136\u800c\uff0c\u4f60\u53ef\u80fd\u6b63\u5728\u5904\u7406\u4ece\u591a\u4e2a\u6765\u6e90\u6784\u5efa\u7684 AST - JS \u6587\u4ef6\uff0c\u6a21\u677f\u7b49\u3002\u5982\u679c\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u5e76\u4e14\u4f60\u8fd8\u5e0c\u671b source map \u4e3a\u4f60\u63d0\u4f9b\u6b63\u786e\u7684\u6765\u6e90\uff0c\u5219\u9700\u8981\u5c06\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a `code` \u53c2\u6570\u4f20\u9012\u7ed9 `generate`\u3002\u5176\u4e2d\u952e\u5e94\u8be5\u4e3a\u6e90\u6587\u4ef6\u540d\u79f0\uff0c\u503c\u5e94\u8be5\u4e3a\u6e90\u5185\u5bb9\u3002\\n\\n```javascript\\nconst { parse } = require(\'@babel/parser\');\\nconst generate = require(\'@babel/generator\').default;\\n\\nconst a = \'var a = 1;\';\\nconst b = \'var b = 2;\';\\n\\nconst astA = parse(a, { sourceFilename: \'a.js\' });\\nconst astB = parse(b, { sourceFilename: \'b.js\' });\\n\\nconst ast = {\\n  type: \'Program\',\\n  body: [].concat(astA.program.body, astB.program.body)\\n};\\n\\nconst { code, map } = generate(ast, { sourceMaps: true }, {\\n  \'a.js\': a,\\n  \'b.js\': b\\n});\\n\\nconsole.log(code)\\nconsole.log(map)\\n```\\n","isLeaf":true},{"key":"/Babel/02-Babel API/03 @babel helpers.md","path":"/Babel/02-Babel API/03 @babel helpers.md","route":"/Babel/02-Babel API/03 @babel helpers.md","leaf":true,"title":"03 @babel helpers","depth":2,"content":"---\\ntitle: 03 @babel helpers\\ntags: Babel\\n---\\n\\n\u8be5\u6a21\u5757\u7528\u4e8e\u63d0\u4f9b\u4e86\u7f16\u8bd1\u65f6\u7684\u4e00\u4e9b\u5e2e\u52a9\u51fd\u6570\u3002\\n\\n```javascript\\nimport * as helpers from \'@babel/helpers\';\\nimport * as t from \'@babel/types\';\\n\\nconst typeofHelper = helpers.get(\'typeof\');\\n\\nt.isExpressionStatement(typeofHelper);\\n// true\\n```","isLeaf":true},{"key":"/Babel/02-Babel API/04 @babel parser.md","path":"/Babel/02-Babel API/04 @babel parser.md","route":"/Babel/02-Babel API/04 @babel parser.md","leaf":true,"title":"04 @babel parser","depth":2,"content":"---\\ntitle: 04 @babel parser\\ntags: Babel\\n---\\n\\n## 1\u3001@babel/parser \u662f\u4ec0\u4e48\\n\\n@babel/parser \u4e3b\u8981\u7684\u4efb\u52a1\u662f\u5c06\u6e90\u4ee3\u7801\u751f\u6210AST\u62bd\u8c61\u8bed\u6cd5\u6811\u3002\u6309\u7167\u5b98\u7f51\u7684\u4ecb\u7ecd\uff0c@babel/parser \u5e94\u8be5\u5728 [acorn](https://github.com/marijnh/acorn)\xa0\u548c\xa0[acorn-jsx](https://github.com/RReverser/acorn-jsx) \u7684\u57fa\u7840\u4e0a\u5f00\u53d1\u7684\uff0c\u867d\u7136 @babel/parser \u7684\u6e90\u7801\u6ca1\u6709\u4f9d\u8d56 acorn \u6a21\u5757\uff0c\u5176\u4e2d acorn \u4e3b\u8981\u5305\u542b\u4ee5\u4e0b3\u4e2a\u6a21\u5757\uff1a\\n\\n> - [acorn](https://github.com/acornjs/acorn/blob/master/acorn/): The main parser \u4e3b\u8981\u7684\u89e3\u91ca\u5668\\n> - [acorn-loose](https://github.com/acornjs/acorn/blob/master/acorn-loose/): The error-tolerant parser \u9519\u8bef\u5904\u7406\\n> - [acorn-walk](https://github.com/acornjs/acorn/blob/master/acorn-walk/): The syntax tree walker \u8bed\u6cd5\u6811\u7684\u904d\u5386\\n\\n## 2\u3001@babel/parser \u6e90\u7801\u5b9a\u4e49\\n\\n\u5728 @babel/parser \u7684 d.ts \u6587\u4ef6\u53ef\u4ee5\u770b\u5230\uff0c\u5b83\u53ea\u63d0\u4f9b\u4e86\u4e24\u4e2a\u65b9\u6cd5\uff1a\\n![20230608023126](http://s3.airtlab.com/blog/20230608023126.png)\\n\\n```typescript\\n/**\\n * Parse the provided code as an entire ECMAScript program.\\n * \u89e3\u6790\u5b8c\u6574\u7684 ECMAScript \u7a0b\u5e8f\\n */\\nexport function parse(input: string, options?: ParserOptions): import(\'@babel/types\').File;\\n\\n/**\\n * Parse the provided code as a single expression.\\n * \u4ec5\u4ec5\u89e3\u6790 ECMAScript \u8868\u8fbe\u5f0f\\n */\\nexport function parseExpression(input: string, options?: ParserOptions): import(\'@babel/types\').Expression;\\n```\\n\\n\u9664\u6b64\u4e4b\u5916\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b type\uff1a\\n\\n- ParserOptions\\n- ParserPlugin\\n- ParserPluginWithOptions\\n- DecoratorsPluginOptions\\n- PipelineOperatorPluginOptions\\n- FlowPluginOptions <a name=\\"zJB8k\\"></a>\\n\\n## 3\u3001API\\n\\n### 3.1\u3001parse(code, \\\\[options])\\n\\n\u89e3\u6790\u5b8c\u6574\u7684 ECMAScript \u7a0b\u5e8f\\n\\n```typescript\\nconst parser = require(\'@babel/parser\');\\n// console.log(parser.parse(\'const name = 123\'))\\nconsole.log(JSON.stringify(parser.parse(\'const name = 123\')))\\n```\\n\\n\u89e3\u6790\u540e\u7684\u8bed\u6cd5\u6811\u4e3a\uff1a\\n\\n```javascript\\n{\\n\\t\\"type\\": \\"File\\",\\n\\t\\"start\\": 0,\\n\\t\\"end\\": 16,\\n\\t\\"loc\\": {\\n\\t\\t\\"start\\": {\\n\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\"column\\": 0\\n\\t\\t},\\n\\t\\t\\"end\\": {\\n\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\"column\\": 16\\n\\t\\t}\\n\\t},\\n\\t\\"errors\\": [],\\n\\t\\"program\\": {\\n\\t\\t\\"type\\": \\"Program\\",\\n\\t\\t\\"start\\": 0,\\n\\t\\t\\"end\\": 16,\\n\\t\\t\\"loc\\": {\\n\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\"column\\": 0\\n\\t\\t\\t},\\n\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\"column\\": 16\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t\\"sourceType\\": \\"script\\",\\n\\t\\t\\"interpreter\\": null,\\n\\t\\t\\"body\\": [{\\n\\t\\t\\t\\"type\\": \\"VariableDeclaration\\",\\n\\t\\t\\t\\"start\\": 0,\\n\\t\\t\\t\\"end\\": 16,\\n\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\"column\\": 0\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\"column\\": 16\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\t\\t\\t\\"declarations\\": [{\\n\\t\\t\\t\\t\\"type\\": \\"VariableDeclarator\\",\\n\\t\\t\\t\\t\\"start\\": 6,\\n\\t\\t\\t\\t\\"end\\": 16,\\n\\t\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\"column\\": 6\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\"column\\": 16\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\"id\\": {\\n\\t\\t\\t\\t\\t\\"type\\": \\"Identifier\\",\\n\\t\\t\\t\\t\\t\\"start\\": 6,\\n\\t\\t\\t\\t\\t\\"end\\": 10,\\n\\t\\t\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 6\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 10\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\"identifierName\\": \\"name\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"name\\": \\"name\\"\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\"init\\": {\\n\\t\\t\\t\\t\\t\\"type\\": \\"NumericLiteral\\",\\n\\t\\t\\t\\t\\t\\"start\\": 13,\\n\\t\\t\\t\\t\\t\\"end\\": 16,\\n\\t\\t\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 13\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 16\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"extra\\": {\\n\\t\\t\\t\\t\\t\\t\\"rawValue\\": 123,\\n\\t\\t\\t\\t\\t\\t\\"raw\\": \\"123\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"value\\": 123\\n\\t\\t\\t\\t}\\n\\t\\t\\t}],\\n\\t\\t\\t\\"kind\\": \\"const\\"\\n\\t\\t}],\\n\\t\\t\\"directives\\": []\\n\\t},\\n\\t\\"comments\\": []\\n}\\n```\\n\\n### 3.2\u3001parseExpression(code, \\\\[options])\\n\\n\u4ec5\u4ec5\u89e3\u6790 ECMAScript \u8868\u8fbe\u5f0f\\n\\n### 3.3\u3001options\\n\\n- allowImportExportEverywhere\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cimport \u5e76 export \u58f0\u660e\u53ea\u80fd\u51fa\u73b0\u5728\u4e00\u4e2a\u7a0b\u5e8f\u7684 top level scope\u3002\u5c06\u6b64\u9009\u9879\u8bbe\u7f6e\u4e3atrue\u5141\u8bb8\u5728\u4efb\u4f55\u4f4d\u7f6e\u4f7f\u7528\u3002\\n- allowAwaitOutsideFunction\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cawait \u4ec5\u5141\u8bb8\u5728\u5f02\u6b65\u51fd\u6570\u5185\u90e8\u4f7f\u7528\uff0c\u6216\u8005\u5f53 topLevelAwait \u63d2\u4ef6\u88ab\u542f\u7528\u540e\uff0c\u5728\u6a21\u5757\u7684 top level scope \u5185\u4f7f\u7528\u3002\u5c06\u5176\u8bbe\u7f6e\u4e3a true\uff0c\u5219\u5728\u811a\u672c\u7684 top-level scope \u5185\u53ef\u4f7f\u7528\u3002\\n- allowReturnOutsideFunction\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u9876\u5c42\u7684 return \u8bed\u53e5\u4f1a\u5f15\u53d1\u9519\u8bef\u3002\u8bbe\u7f6e true \u4e3a\u63a5\u53d7\u8fd9\u6837\u7684\u4ee3\u7801\u3002\\n\\n\u4e0b\u9762\u7684\u4ee3\u7801\u5c06\u4f1a\u5f15\u53d1\u9519\u8bef\uff1a\\n\\n```typescript\\nconst parser = require(\'@babel/parser\');\\n// console.log(JSON.stringify(parser.parse(\'const name = 123\')))\\n\\nconsole.log(JSON.stringify(parser.parse(\'return 6\', {\\n  allowReturnOutsideFunction: false\\n})))\\n```\\n\\n![20230608023157](http://s3.airtlab.com/blog/20230608023157.png)\\n\\n\u8bbe\u7f6e allowReturnOutsideFunction \u4e3a true\uff0c\u5c06\u4e0d\u4f1a\u62a5\u9519\u3002\\n\\n- **allowSuperOutsideMethod**\\n\\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0csuper \u4e0d\u5141\u8bb8\u5728\u7c7b\u548c\u5bf9\u8c61\u65b9\u6cd5\u4e4b\u5916\u4f7f\u7528\uff0c\u8bbe\u7f6e true \u4e3a\u63a5\u53d7\u8fd9\u6837\u7684\u4ee3\u7801\\n\\n- **allowUndeclaredExports**\\n\\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5bfc\u51fa\u5728\u5f53\u524d\u6a21\u5757\u4f5c\u7528\u57df\u4e2d\u672a\u58f0\u660e\u7684\u6807\u8bc6\u7b26\u5c06\u5f15\u53d1\u9519\u8bef\u3002\u5c3d\u7ba1 ECMAScript \u6a21\u5757\u89c4\u8303\u8981\u6c42\u6b64\u884c\u4e3a\uff0c\u4f46Babel \u7684\u89e3\u6790\u5668\u65e0\u6cd5\u5728\u4ee5\u540e\u53ef\u80fd\u4f1a\u63d2\u5165\u9002\u5f53\u58f0\u660e\u7684\u63d2\u4ef6\u7ba1\u9053\u4e2d\u9884\u671f\u8f6c\u6362\uff0c\u56e0\u6b64\u6709\u65f6\u8bbe\u7f6e\u6b64\u9009\u9879`true`\u4ee5\u9632\u6b62\u89e3\u6790\u5668\u8fc7\u65e9\u5730\u629b\u51fa\u5f02\u5e38\u672a\u58f0\u660e\u7684\u5bfc\u51fa\u4f1a\u5f88\u91cd\u8981\u3002\\n\\n## 4\u3001Output\\n\\nBabel\u89e3\u6790\u5668\u6839\u636e [Babel AST\u683c\u5f0f](https://github.com/babel/babel/tree/master/packages/babel-parser/ast/spec.md) \u751f\u6210AST\xa0\u3002\u5b83\u57fa\u4e8e [ESTree\u89c4\u8303](https://github.com/estree/estree)\uff0c\u4f46\u5b58\u5728\u4ee5\u4e0b\u5dee\u5f02\uff1a\\n\\n![20230608023257](http://s3.airtlab.com/blog/20230608023257.png)\\n\\n## 5\u3001Plugins\\n### 5.1\u3001\u8bed\u8a00\u63d2\u4ef6\\n\\n| Name | Code Example |\\n| --- | --- |\\n| `flow`\\n&#x20;([repo](https://github.com/facebook/flow)) | `var a: string = \\"\\";` |\\n| `flowComments`\\n&#x20;([docs](https://flow.org/en/docs/types/comments/)) | `/*:: type Foo = {...}; */` |\\n| `jsx`\\n&#x20;([repo](https://facebook.github.io/jsx/)) | `<a attr=\\"b\\">{s}</a>` |\\n| `typescript`\\n&#x20;([repo](https://github.com/Microsoft/TypeScript)) | `var a: string = \\"\\";` |\\n| `v8intrinsic` | `%DebugPrint(foo);` |\\n\\n\\n### 5.2\u3001ECMAScript [proposals](https://github.com/babel/proposals)\\n\\n| Name | Code Example |\\n| --- | --- |\\n| `asyncGenerators`\\n&#x20;([proposal](https://github.com/tc39/proposal-async-iteration)) | `async function*() {}`\\n, `for await (let a of b) {}` |\\n| `bigInt`\\n&#x20;([proposal](https://github.com/tc39/proposal-bigint)) | `100n` |\\n| `classProperties`\\n&#x20;([proposal](https://github.com/tc39/proposal-class-public-fields)) | `class A { b = 1; }` |\\n| `classPrivateProperties`\\n&#x20;([proposal](https://github.com/tc39/proposal-private-fields)) | `class A { #b = 1; }` |\\n| `classPrivateMethods`\\n&#x20;([proposal](https://github.com/tc39/proposal-private-methods)) | `class A { #c() {} }` |\\n| `decorators`\\n&#x20;([proposal](https://github.com/tc39/proposal-decorators))\\n`decorators-legacy` | `@a class A {}` |\\n| `doExpressions`\\n&#x20;([proposal](https://github.com/tc39/proposal-do-expressions)) | `var a = do { if (true) { \'hi\'; } };` |\\n| `dynamicImport`\\n&#x20;([proposal](https://github.com/tc39/proposal-dynamic-import)) | `import(\'./guy\').then(a)` |\\n| `exportDefaultFrom`\\n&#x20;([proposal](https://github.com/leebyron/ecmascript-export-default-from)) | `export v from \\"mod\\"` |\\n| `exportNamespaceFrom`\\n&#x20;([proposal](https://github.com/leebyron/ecmascript-export-ns-from)) | `export * as ns from \\"mod\\"` |\\n| `functionBind`\\n&#x20;([proposal](https://github.com/zenparsing/es-function-bind)) | `a::b`\\n, `::console.log` |\\n| `functionSent` | `function.sent` |\\n| `importMeta`\\n&#x20;([proposal](https://github.com/tc39/proposal-import-meta)) | `import.meta.url` |\\n| `logicalAssignment`\\n&#x20;([proposal](https://github.com/tc39/proposal-logical-assignment)) | `a &&= b` |\\n| `nullishCoalescingOperator`\\n&#x20;([proposal](https://github.com/babel/proposals/issues/14)) | `a ?? b` |\\n| `numericSeparator`\\n&#x20;([proposal](https://github.com/samuelgoto/proposal-numeric-separator)) | `1_000_000` |\\n| `objectRestSpread`\\n&#x20;([proposal](https://github.com/tc39/proposal-object-rest-spread)) | `var a = { b, ...c };` |\\n| `optionalCatchBinding`\\n&#x20;([proposal](https://github.com/babel/proposals/issues/7)) | `try {throw 0;} catch{do();}` |\\n| `optionalChaining`\\n&#x20;([proposal](https://github.com/tc39/proposal-optional-chaining)) | `a?.b` |\\n| `partialApplication`\\n&#x20;([proposal](https://github.com/babel/proposals/issues/32)) | `f(?, a)` |\\n| `pipelineOperator`\\n&#x20;([proposal](https://github.com/babel/proposals/issues/29)) | `a &#124;> b` |\\n| `throwExpressions`\\n&#x20;([proposal](https://github.com/babel/proposals/issues/23)) | `() => throw new Error(\\"\\")` |\\n| `topLevelAwait`\\n&#x20;([proposal](https://github.com/tc39/proposal-top-level-await/)) | `await promise`\\n&#x20;in modules |\\n\\n## 6\u3001sourceType\\n\\nsourceType \u53ef\u4ee5\u662f \\"module\\" \u6216\u8005 \\"script\\"\uff0c\u5b83\u8868\u793a Babylon \u5e94\u8be5\u7528\u54ea\u79cd\u6a21\u5f0f\u6765\u89e3\u6790\u3002 \\"module\\" \u5c06\u4f1a\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\u89e3\u6790\u5e76\u4e14\u5141\u8bb8\u6a21\u5757\u5b9a\u4e49\uff0c\\"script\\" \u5219\u4e0d\u4f1a\u3002\\n\\n## 7\u3001Example\\n\\n```typescript\\nrequire(\\"@babel/parser\\").parse(\\"code\\", {\\n  // parse in strict mode and allow module declarations\\n  sourceType: \\"module\\",\\n\\n  plugins: [\\n    // enable jsx and flow syntax\\n    \\"jsx\\",\\n    \\"flow\\"\\n  ]\\n});\\n```\\n\\n## 8\u3001\u53c2\u8003\u6587\u6863\\n- [1] acorn github <https://github.com/acornjs/acorn>\\n- [2] estree \u89c4\u8303 <https://github.com/estree/estree>","isLeaf":true},{"key":"/Babel/02-Babel API/05 @babel runtime.md","path":"/Babel/02-Babel API/05 @babel runtime.md","route":"/Babel/02-Babel API/05 @babel runtime.md","leaf":true,"title":"05 @babel runtime","depth":2,"content":"---\\ntitle: 05 @babel runtime\\ntags: Babel\\n---\\n\\n5\u3001@babel/runtime\\n\\n\u8be5\u5e93\u63d0\u4f9b\u4e86\u4e00\u4e9b\u8fd0\u884c\u65f6\u7684\u5e2e\u52a9\u51fd\u6570\uff0c\u907f\u514d\u4e86\u5728\u6bcf\u4e2a\u6587\u4ef6\u4e2d\u90fd\u5b9a\u4e86\u4e00\u4efd\u5e2e\u52a9\u51fd\u6570\uff0c\u800c\u7edf\u4e00\u4ece @babel/runtime \u4e2d\u5f15\u5165\u3002@babel/runtime \u4e3b\u8981\u5305\u542b \u8fd0\u884c\u65f6\u7684 helpers \u51fd\u6570 \u4ee5\u53ca regenerator runtime\u3002\\n\\nbabel-plugin-transform-runtime \u548c babel-runtime \u7684\u533a\u522b\uff1a\\n\\n- babel-plugin-transform-runtime \u5185\u90e8\u4f9d\u8d56\u4e86 babel-runtime","isLeaf":true},{"key":"/Babel/02-Babel API/06 @babel traverse.md","path":"/Babel/02-Babel API/06 @babel traverse.md","route":"/Babel/02-Babel API/06 @babel traverse.md","leaf":true,"title":"06 @babel traverse","depth":2,"content":"---\\ntitle: 06 @babel traverse\\ntags: Babel\\n---\\n\\n## \u9884\u5907\u77e5\u8bc6\\n\\n### Paths\uff08\u8def\u5f84\uff09\\n\\nAST \u901a\u5e38\u4f1a\u6709\u8bb8\u591a\u8282\u70b9\uff0c\u90a3\u4e48\u8282\u70b9\u76f4\u63a5\u5982\u4f55\u76f8\u4e92\u5173\u8054\u5462\uff1f \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u53ef\u64cd\u4f5c\u548c\u8bbf\u95ee\u7684\u5de8\u5927\u53ef\u53d8\u5bf9\u8c61\u8868\u793a\u8282\u70b9\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb\uff0c\u6216\u8005\u4e5f\u53ef\u4ee5\u7528Paths\uff08\u8def\u5f84\uff09\u6765\u7b80\u5316\u8fd9\u4ef6\u4e8b\u60c5\u3002Path \u662f\u8868\u793a\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u8fde\u63a5\u7684\u5bf9\u8c61\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6709\u4e0b\u9762\u8fd9\u6837\u4e00\u4e2a\u8282\u70b9\u53ca\u5176\u5b50\u8282\u70b9\ufe30\\n\\n```json\\n{\\n  \\"parent\\": {\\n    \\"type\\": \\"FunctionDeclaration\\",\\n    \\"id\\": {...},\\n    ....\\n  },\\n  \\"node\\": {\\n    \\"type\\": \\"Identifier\\",\\n    \\"name\\": \\"square\\"\\n  }\\n}\\n```\\n\\n\u540c\u65f6\u5b83\u8fd8\u5305\u542b\u5173\u4e8e\u8be5\u8def\u5f84\u7684\u5176\u4ed6\u5143\u6570\u636e\uff1a\\n\\n```json\\n{\\n  \\"parent\\": {...},\\n  \\"node\\": {...},\\n  \\"hub\\": {...},\\n  \\"contexts\\": [],\\n  \\"data\\": {},\\n  \\"shouldSkip\\": false,\\n  \\"shouldStop\\": false,\\n  \\"removed\\": false,\\n  \\"state\\": null,\\n  \\"opts\\": null,\\n  \\"skipKeys\\": null,\\n  \\"parentPath\\": null,\\n  \\"context\\": null,\\n  \\"container\\": null,\\n  \\"listKey\\": null,\\n  \\"inList\\": false,\\n  \\"parentKey\\": null,\\n  \\"key\\": null,\\n  \\"scope\\": null,\\n  \\"type\\": null,\\n  \\"typeAnnotation\\": null\\n}\\n```\\n\\n\u5f53\u7136\u8def\u5f84\u5bf9\u8c61\u8fd8\u5305\u542b\u6dfb\u52a0\u3001\u66f4\u65b0\u3001\u79fb\u52a8\u548c\u5220\u9664\u8282\u70b9\u6709\u5173\u7684\u5176\u4ed6\u5f88\u591a\u65b9\u6cd5\uff0c\u7a0d\u540e\u6211\u4eec\u518d\u6765\u770b\u8fd9\u4e9b\u65b9\u6cd5\u3002\u5728\u67d0\u79cd\u610f\u4e49\u4e0a\uff0c\u8def\u5f84\u662f\u4e00\u4e2a\u8282\u70b9\u5728\u6811\u4e2d\u7684\u4f4d\u7f6e\u4ee5\u53ca\u5173\u4e8e\u8be5\u8282\u70b9\u5404\u79cd\u4fe1\u606f\u7684\u54cd\u5e94\u5f0f **Reactive** \u8868\u793a\u3002 \u5f53\u4f60\u8c03\u7528\u4e00\u4e2a\u4fee\u6539\u6811\u7684\u65b9\u6cd5\u540e\uff0c\u8def\u5f84\u4fe1\u606f\u4e5f\u4f1a\u88ab\u66f4\u65b0\u3002 Babel \u5e2e\u4f60\u7ba1\u7406\u8fd9\u4e00\u5207\uff0c\u4ece\u800c\u4f7f\u5f97\u8282\u70b9\u64cd\u4f5c\u7b80\u5355\uff0c\u5c3d\u53ef\u80fd\u505a\u5230\u65e0\u72b6\u6001\u3002\\n\\n### Paths in Visitors\uff08\u8bbf\u95ee\u8005\u4e2d\u7684\u8def\u5f84\uff09\\n\\n\u5f53\u4f60\u6709\u4e00\u4e2a\xa0`Identifier()`\xa0\u6210\u5458\u65b9\u6cd5\u7684\u8bbf\u95ee\u8005\u65f6\uff0c\u4f60\u5b9e\u9645\u4e0a\u662f\u5728\u8bbf\u95ee\u8def\u5f84\u800c\u975e\u8282\u70b9\u3002 \u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u4f60\u64cd\u4f5c\u7684\u5c31\u662f\u8282\u70b9\u7684\u54cd\u5e94\u5f0f\u8868\u793a\uff08\u8bd1\u6ce8\uff1a\u5373\u8def\u5f84\uff09\u800c\u975e\u8282\u70b9\u672c\u8eab\u3002\\n\\n```json\\nconst MyVisitor = {\\n  Identifier(path) {\\n    console.log(\\"Visiting: \\" + path.node.name);\\n  }\\n};\\n```\\n\\n## Visiting \u8bbf\u95ee\\n\\n### Get the Path of Sub-Node\\n\\n\u4e3a\u4e86\u5f97\u5230\u4e00\u4e2aAST\u8282\u70b9\u7684\u5c5e\u6027\u503c\uff0c\u6211\u4eec\u4e00\u822c\u5148\u8bbf\u95ee\u5230\u8be5\u8282\u70b9\uff0c\u7136\u540e\u5229\u7528\xa0path.node.property\xa0\u65b9\u6cd5\u5373\u53ef\uff1a <a name=\\"kxNY7\\"></a>\\n\\n## \u8f6c\u6362\u64cd\u4f5c\\n\\n### \u8bbf\u95ee\\n\\n#### \u83b7\u53d6\u5b50\u8282\u70b9\u7684Path\\n\\n\u4e3a\u4e86\u5f97\u5230\u4e00\u4e2aAST\u8282\u70b9\u7684\u5c5e\u6027\u503c\uff0c\u6211\u4eec\u4e00\u822c\u5148\u8bbf\u95ee\u5230\u8be5\u8282\u70b9\uff0c\u7136\u540e\u5229\u7528 `path.node.property` \u65b9\u6cd5\u5373\u53ef\uff1a\\n\\n```javascript\\n// \u83b7\u53d6\u5b50\u8282\u70b9\u7684Path\\n// \u4e0b\u9762\u7684\u4f8b\u5b50\u904d\u5386\u6240\u6709 BinaryExpression, \u8fd9\u91cc\u53ea\u6709\u4e00\u4e2a\\n\\nimport * as parser from \\"@babel/parser\\";\\nimport traverse from \\"@babel/traverse\\";\\nimport generate from \'@babel/generator\';\\n\\nconst code = `function square(n) {\\n  return n * n;\\n}`;\\n\\nconst ast = parser.parse(code);\\n\\ntraverse(ast, {\\n  BinaryExpression(path) {\\n    console.log(path.node.left) // Identifier Node\\n    console.log(path.node.right) // Identifier Node\\n    console.log(path.node.operator) // \\"*\\"\\n  }\\n});\\n```\\n\\n#### \u68c0\u67e5\u8282\u70b9\u7684\u7c7b\u578b\\n\\n```js\\n// \u6539\u53d8\u51fd\u6570\u53c2\u6570\u7684\u4f8b\u5b50\\n\\nimport * as parser from \\"@babel/parser\\";\\nimport traverse from \\"@babel/traverse\\";\\nimport generate from \'@babel/generator\';\\nimport helpers from \'@babel/helpers\';\\nimport * as t from \'@babel/types\';\\n\\nconst code = `function square(n) {\\n  return n * fn(n);\\n}`;\\n\\nconst ast = parser.parse(code);\\n\\ntraverse(ast, {\\n  BinaryExpression(path) {\\n    // path.node.left: Identifier \u6807\u8bc6\u7b26\\n    // path.node.right: CallExpression \u51fd\u6570\u8c03\u7528\u8868\u8fbe\u5f0f\\n    if(t.isIdentifier(path.node.left)) {\\n      console.log(path.node)\\n    }\\n  }\\n});\\n```\\n\\n#### \u68c0\u67e5\u8def\u5f84\uff08Path\uff09\u7c7b\u578b\\n\\n```javascript\\nBinaryExpression(path) {\\n  if (path.get(\'left\').isIdentifier({ name: \\"n\\" })) {\\n    // ...\\n  }\\n}\\n\\n// \u76f8\u5f53\u4e8e\\nBinaryExpression(path) {\\n  if (t.isIdentifier(path.node.left, { name: \\"n\\" })) {\\n    // ...\\n  }\\n}\\n```\\n\\n#### \u68c0\u67e5\u6807\u8bc6\u7b26\uff08Identifier\uff09\u662f\u5426\u88ab\u5f15\u7528\\n\\n```javascript\\n// \u6539\u53d8\u51fd\u6570\u53c2\u6570\u7684\u4f8b\u5b50\\n\\nimport * as parser from \\"@babel/parser\\";\\nimport traverse from \\"@babel/traverse\\";\\nimport generate from \'@babel/generator\';\\nimport * as t from \'@babel/types\';\\n\\nconst code = `function square(n) {\\n  return n * n;\\n}`;\\n\\nconst ast = parser.parse(code);\\n\\ntraverse(ast, {\\n  Identifier(path) {\\n    if (path.isReferencedIdentifier()) {\\n      // console.log(path.node)\\n    }\\n  }\\n});\\n```\\n\\n## \u6f14\u793a\u4f8b\u5b50\\n\\n### \u4fee\u6539\u51fd\u6570\u53c2\u6570\\n\\n```javascript\\n// \u6539\u53d8\u51fd\u6570\u53c2\u6570\u7684\u4f8b\u5b50\\n\\nimport * as parser from \\"@babel/parser\\";\\nimport traverse from \\"@babel/traverse\\";\\nimport generate from \'@babel/generator\';\\n\\nconst code = `function square(n) {\\n  return n * n;\\n}`;\\n\\nconst ast = parser.parse(code);\\n\\ntraverse(ast, {\\n  enter(path) {\\n    if (path.isIdentifier({ name: \\"n\\" })) {\\n      path.node.name = \\"x\\";\\n    }\\n  }\\n});\\n\\nconst output = generate(ast, { /* options */ }, code);\\n\\nconsole.log(output.code);\\n\\n// function square(x) {\\n//   return x * x;\\n// }\\n```\\n","isLeaf":true},{"key":"/Babel/02-Babel API/07 @babel types.md","path":"/Babel/02-Babel API/07 @babel types.md","route":"/Babel/02-Babel API/07 @babel types.md","leaf":true,"title":"07 @babel types","depth":2,"content":"---\\ntitle: 07 @babel types\\n---\\n\\n@babel/types \u662f Babel \u7f16\u8bd1\u5668\u7684\u4e00\u4e2a\u6a21\u5757\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u7ec4\u7528\u4e8e\u5904\u7406\u548c\u64cd\u4f5c AST\uff08\u62bd\u8c61\u8bed\u6cd5\u6811\uff09\u8282\u70b9\u7684\u5de5\u5177\u51fd\u6570\u548c\u5bf9\u8c61\u3002\u5b83\u7684\u4f5c\u7528\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a\\n\\n1. AST\u8282\u70b9\u521b\u5efa\uff1a@babel/types \u63d0\u4f9b\u4e86\u591a\u4e2a\u51fd\u6570\u6765\u521b\u5efa\u4e0d\u540c\u7c7b\u578b\u7684AST\u8282\u70b9\uff0c\u4f8b\u5982Identifier\u3001ExpressionStatement\u3001FunctionDeclaration\u7b49\u3002\u8fd9\u4e9b\u51fd\u6570\u53ef\u4ee5\u5e2e\u52a9\u4f60\u65b9\u4fbf\u5730\u6784\u5efaAST\u6811\u3002\\n\\n2. AST\u8282\u70b9\u5224\u65ad\uff1a@babel/types \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684\u5224\u65ad\u51fd\u6570\uff0c\u7528\u4e8e\u68c0\u67e5\u4e00\u4e2a\u8282\u70b9\u662f\u5426\u5c5e\u4e8e\u67d0\u4e2a\u7279\u5b9a\u7684AST\u7c7b\u578b\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528isIdentifier()\u51fd\u6570\u5224\u65ad\u4e00\u4e2a\u8282\u70b9\u662f\u5426\u662f\u6807\u8bc6\u7b26\u3002\\n\\n3. AST\u8282\u70b9\u64cd\u4f5c\uff1a@babel/types \u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u65b9\u6cd5\u6765\u64cd\u4f5c\u548c\u4fee\u6539AST\u8282\u70b9\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528cloneNode()\u65b9\u6cd5\u6765\u590d\u5236\u4e00\u4e2aAST\u8282\u70b9\uff0c\u4f7f\u7528isExpressionStatement() \u65b9\u6cd5\u6765\u5224\u65ad\u4e00\u4e2a\u8282\u70b9\u662f\u5426\u662f\u8868\u8fbe\u5f0f\u8bed\u53e5\u7b49\u3002\\n\\n4. AST\u8282\u70b9\u904d\u5386\uff1a@babel/types \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684\u904d\u5386\u51fd\u6570\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5bf9AST\u6811\u8fdb\u884c\u6df1\u5ea6\u4f18\u5148\u6216\u5e7f\u5ea6\u4f18\u5148\u7684\u904d\u5386\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528traverse()\u51fd\u6570\u6765\u904d\u5386\u6574\u4e2aAST\u6811\uff0c\u5e76\u5728\u6bcf\u4e2a\u8282\u70b9\u4e0a\u6267\u884c\u81ea\u5b9a\u4e49\u7684\u64cd\u4f5c\u3002\\n\\n\u603b\u7684\u6765\u8bf4\uff0c@babel/types\u4e3aBabel\u7f16\u8bd1\u5668\u63d0\u4f9b\u4e86\u4e00\u7ec4\u7528\u4e8e\u521b\u5efa\u3001\u64cd\u4f5c\u548c\u904d\u5386AST\u8282\u70b9\u7684\u5de5\u5177\u51fd\u6570\u548c\u5bf9\u8c61\u3002\u5b83\u4f7f\u5f97\u5f00\u53d1\u8005\u53ef\u4ee5\u66f4\u65b9\u4fbf\u5730\u5904\u7406AST\uff0c\u8fdb\u800c\u5b9e\u73b0\u4ee3\u7801\u8f6c\u6362\u3001\u5206\u6790\u548c\u751f\u6210\u7b49\u5404\u79cd\u529f\u80fd\u3002\\n\\n## Identify \u6807\u8bc6\u7b26\\n\\n## Expression \u8868\u8fbe\u5f0f\\n\\n## Statement \u8bed\u53e5\\n\\n## Literal \u5b57\u9762\u91cf\\n","isLeaf":true},{"key":"/Babel/02-Babel API/08 @babel template.md","path":"/Babel/02-Babel API/08 @babel template.md","route":"/Babel/02-Babel API/08 @babel template.md","leaf":true,"title":"08 @babel template","depth":2,"content":"---\\ntitle: 08 @babel template\\n---\\n\\n- https://babeljs.io/docs/babel-template#templatesmart\\n- https://en.wikipedia.org/wiki/Quasi-quotation\\n\\n@babel/template \u662f Babel \u5185\u7f6e\u5de5\u5177\uff0c\u7528\u4e8e\u5728 JS \u4ee3\u7801\u4e2d\u6784\u5efa\u548c\u751f\u6210 AST\uff08\u62bd\u8c61\u8bed\u6cd5\u6811\uff09\u8282\u70b9\u3002\\n@babel/template \u4e3a Babel \u7f16\u8bd1\u5668\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u6d01\u3001\u7075\u6d3b\u548c\u53ef\u5b9a\u5236\u5316\u7684\u65b9\u5f0f\u6765\u64cd\u4f5c\u548c\u751f\u6210 AST \u8282\u70b9\u3002\\n\\n\u5b83\u7684\u4f5c\u7528\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a\\n\\n1. \u81ea\u52a8\u751f\u6210AST\uff1a@babel/template \u53ef\u4ee5\u901a\u8fc7\u4f20\u5165\u6a21\u677f\u5b57\u7b26\u4e32\u548c\u9009\u9879\u53c2\u6570\uff0c\u81ea\u52a8\u89e3\u6790\u5e76\u751f\u6210\u5bf9\u5e94\u7684AST\u8282\u70b9\u3002\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u624b\u52a8\u6784\u5efa\u590d\u6742\u7684AST\u7ed3\u6784\uff0c\u63d0\u9ad8\u4e86\u5f00\u53d1\u6548\u7387\u3002\\n2. \u4ee3\u7801\u751f\u6210\uff1a\u901a\u8fc7\u8c03\u7528\u6a21\u677f\u51fd\u6570\u751f\u6210\u7684AST\uff0c\u53ef\u4ee5\u5c06\u5176\u8f6c\u6362\u56deJavaScript\u4ee3\u7801\u5b57\u7b26\u4e32\u3002\u8fd9\u5728\u7f16\u5199\u4ee3\u7801\u751f\u6210\u5668\u6216\u8f6c\u6362\u5668\u65f6\u975e\u5e38\u6709\u7528\u3002\\n3. AST\u8282\u70b9\u66ff\u6362\uff1a@babel/template \u8fd8\u5141\u8bb8\u4f60\u5728\u751f\u6210AST\u8282\u70b9\u65f6\uff0c\u6839\u636e\u53d8\u91cf\u6216\u6761\u4ef6\u60c5\u51b5\u52a8\u6001\u66ff\u6362\u5176\u4e2d\u7684\u67d0\u4e9b\u90e8\u5206\u3002\u8fd9\u4f7f\u5f97\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u8981\u751f\u6210\u4e0d\u540c\u7684AST\u8282\u70b9\uff0c\u4ece\u800c\u5b9e\u73b0\u66f4\u7075\u6d3b\u7684\u4ee3\u7801\u8f6c\u6362\u3002\\n\\n## 1\u3001\u51c6\u5f15\u7528\u4ecb\u7ecd\\n\\nquasiquotes \u662f\u4e00\u79cd\u5728\u7f16\u7a0b\u8bed\u8a00\u4e2d\u5f15\u7528\u4ee3\u7801\u7247\u6bb5\u7684\u6280\u672f\u3002\u5b83\u4eec\u5141\u8bb8\u7a0b\u5e8f\u5458\u4ee5\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u6a21\u5f0f\u5339\u914d\u7684\u65b9\u5f0f\u6765\u5904\u7406\u4ee3\u7801\uff0c\u5e76\u5728\u8fd0\u884c\u65f6\u6784\u9020\u548c\u751f\u6210\u4ee3\u7801\u3002\\n\\n\u5728\u5b9e\u73b0 quasiquotes \u7684\u8fc7\u7a0b\u4e2d\uff0c\u7f16\u7a0b\u8bed\u8a00\u4f1a\u63d0\u4f9b\u4e00\u4e9b\u7279\u6b8a\u7684\u8bed\u6cd5\u6216API\uff0c\u4f7f\u5f97\u4ee3\u7801\u53ef\u4ee5\u50cf\u6570\u636e\u4e00\u6837\u8fdb\u884c\u5f15\u7528\u548c\u64cd\u4f5c\u3002\u8fd9\u4e9b quasiquotes \u901a\u5e38\u5305\u542b\u4e00\u4e2a\u6a21\u677f\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u4e00\u4e9b\u5360\u4f4d\u7b26\uff0c\u7a0b\u5e8f\u5458\u53ef\u4ee5\u5728\u9700\u8981\u7684\u65f6\u5019\u586b\u5145\u5177\u4f53\u7684\u503c\u3002\\n\\nquasiquotes \u5e7f\u6cdb\u5e94\u7528\u4e8e\u5143\u7f16\u7a0b\u3001\u5b8f\u7cfb\u7edf\u548c\u6a21\u677f\u5f15\u64ce\u7b49\u9886\u57df\u3002\u5b83\u4eec\u53ef\u4ee5\u7b80\u5316\u4ee3\u7801\u7684\u751f\u6210\u548c\u8f6c\u6362\u8fc7\u7a0b\uff0c\u4f7f\u5f97\u4ee3\u7801\u66f4\u52a0\u7075\u6d3b\u548c\u6613\u4e8e\u7ef4\u62a4\u3002\\n\\n\u4e0d\u540c\u7684\u7f16\u7a0b\u8bed\u8a00\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u5b9e\u73b0\u65b9\u5f0f\u548c\u8bed\u6cd5\u89c4\u5219\uff0c\u4f46\u603b\u4f53\u4e0a\u90fd\u65e8\u5728\u63d0\u4f9b\u4e00\u79cd\u65b9\u4fbf\u7684\u65b9\u5f0f\u6765\u5904\u7406\u4ee3\u7801\u7247\u6bb5\uff0c\u5c06\u5176\u4f5c\u4e3a\u6570\u636e\u8fdb\u884c\u64cd\u7eb5\u548c\u751f\u6210\u3002\\n\\n## 2\u3001\u51c6\u5f15\u7528\u6f14\u793a\\n\\n```typescript\\nimport template from \\"@babel/template\\";\\nimport generate from \\"@babel/generator\\";\\nimport * as t from \\"@babel/types\\";\\n\\nconst buildRequire = template(`\\n  var %%importName%% = require(%%source%%);\\n`);\\n\\nconst ast = buildRequire({\\n  importName: t.identifier(\\"myModule\\"),\\n  source: t.stringLiteral(\\"my-module\\"),\\n});\\n\\nconsole.log(generate(ast as t.Statement).code)\\n// var myModule = require(\\"my-module\\");\\n```\\n\\n\\n\\n## 3\u3001API\\n\\n### 3.1 .ast\\n\u5982\u679c\u6ca1\u6709\u4f7f\u7528\u5360\u4f4d\u7b26\uff0c\u5e76\u4e14\u60a8\u53ea\u9700\u8981\u4e00\u79cd\u7b80\u5355\u7684\u65b9\u6cd5\u5c06\u5b57\u7b26\u4e32\u89e3\u6790\u4e3a AST\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u6a21\u677f\u7684 .ast \u7248\u672c\u3002\\n\\n```js\\nconst ast = template.ast(`\\n  var myModule = require(\\"my-module\\");\\n`);\\n```\\n\\n### 3.2\\n\\n```js\\nimport template from \\"@babel/template\\";\\nimport generate from \\"@babel/generator\\";\\nimport * as t from \\"@babel/types\\";\\n\\nconst source = \\"my-module\\";\\n\\nconst fn = template`\\n  var IMPORT_NAME = require(\'${source}\');\\n`;\\n\\nconst ast = fn({\\n  IMPORT_NAME: t.identifier(\\"myModule\\"),\\n});\\n\\n// var myModule = require(\\"my-module\\");\\nconsole.log(generate(ast as t.Statement).code);\\n```","isLeaf":true}]},{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1","leaf":false,"title":"03-Babel \u63d2\u4ef6\u5f00\u53d1","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/01 \u53c2\u8003\u6587\u6863.md","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/01 \u53c2\u8003\u6587\u6863.md","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/01 \u53c2\u8003\u6587\u6863.md","leaf":true,"title":"01 \u53c2\u8003\u6587\u6863","depth":2,"content":"---\\ntitle: 01 \u53c2\u8003\u6587\u6863\\n---\\n\\n- [\u63d2\u4ef6\u5f00\u53d1\u624b\u518c](https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md#toc-get-the-path-of-a-sub-node)\\n","isLeaf":true},{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/02 AST \u904d\u5386.md","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/02 AST \u904d\u5386.md","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/02 AST \u904d\u5386.md","leaf":true,"title":"02 AST \u904d\u5386","depth":2,"content":"---\\ntitle: 02 AST \u904d\u5386\\nurl: https://www.yuque.com/gaollard/ubc1q5/mvu0v5\\n---\\n\\n### Visitors\uff08\u8bbf\u95ee\u8005\uff09\\n\\n![20230608092029](http://s3.airtlab.com/blog/20230608092029.png)\\n\\n***\\n\\n![20230608092045](http://s3.airtlab.com/blog/20230608092045.png)\\n\\n***\\n![20230608092113](http://s3.airtlab.com/blog/20230608092113.png)\\n\\n***\\n\\n![20230608092145](http://s3.airtlab.com/blog/20230608092145.png)\\n\\n***\\n\\n![20230608092200](http://s3.airtlab.com/blog/20230608092200.png)\\n","isLeaf":true},{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/03 Node \u8282\u70b9.md","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/03 Node \u8282\u70b9.md","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/03 Node \u8282\u70b9.md","leaf":true,"title":"03 Node \u8282\u70b9","depth":2,"content":"---\\ntitle: 03 Node \u8282\u70b9\\nurl: https://www.yuque.com/gaollard/ubc1q5/vqxtr7\\n---\\n\\n### 1\u3001Node \u4ecb\u7ecd\\n\\n![20230608092219](http://s3.airtlab.com/blog/20230608092219.png)\\n\\n![20230608092257](http://s3.airtlab.com/blog/20230608092257.png)\\n\\n### 2\u3001Node \u5b9a\u4e49\\n\\n```typescript\\ninterface BaseNode {\\n  type: Node[\\"type\\"];\\n  leadingComments?: Comment[] | null;\\n  innerComments?: Comment[] | null;\\n  trailingComments?: Comment[] | null;\\n  start?: number | null;\\n  end?: number | null;\\n  loc?: SourceLocation | null;\\n  range?: [number, number];\\n  extra?: Record<string, unknown>;\\n}\\n```\\n\\n```typescript\\ndeclare type Node = AnyTypeAnnotation | ArgumentPlaceholder | ArrayExpression | ArrayPattern | ArrayTypeAnnotation | ArrowFunctionExpression | AssignmentExpression | AssignmentPattern | AwaitExpression | BigIntLiteral | BinaryExpression | BindExpression | BlockStatement | BooleanLiteral | BooleanLiteralTypeAnnotation | BooleanTypeAnnotation | BreakStatement | CallExpression | CatchClause | ClassAccessorProperty | ClassBody | ClassDeclaration | ClassExpression | ClassImplements | ClassMethod | ClassPrivateMethod | ClassPrivateProperty | ClassProperty | ConditionalExpression | ContinueStatement | DebuggerStatement | DecimalLiteral | DeclareClass | DeclareExportAllDeclaration | DeclareExportDeclaration | DeclareFunction | DeclareInterface | DeclareModule | DeclareModuleExports | DeclareOpaqueType | DeclareTypeAlias | DeclareVariable | DeclaredPredicate | Decorator | Directive | DirectiveLiteral | DoExpression | DoWhileStatement | EmptyStatement | EmptyTypeAnnotation | EnumBooleanBody | EnumBooleanMember | EnumDeclaration | EnumDefaultedMember | EnumNumberBody | EnumNumberMember | EnumStringBody | EnumStringMember | EnumSymbolBody | ExistsTypeAnnotation | ExportAllDeclaration | ExportDefaultDeclaration | ExportDefaultSpecifier | ExportNamedDeclaration | ExportNamespaceSpecifier | ExportSpecifier | ExpressionStatement | File | ForInStatement | ForOfStatement | ForStatement | FunctionDeclaration | FunctionExpression | FunctionTypeAnnotation | FunctionTypeParam | GenericTypeAnnotation | Identifier | IfStatement | Import | ImportAttribute | ImportDeclaration | ImportDefaultSpecifier | ImportNamespaceSpecifier | ImportSpecifier | IndexedAccessType | InferredPredicate | InterfaceDeclaration | InterfaceExtends | InterfaceTypeAnnotation | InterpreterDirective | IntersectionTypeAnnotation | JSXAttribute | JSXClosingElement | JSXClosingFragment | JSXElement | JSXEmptyExpression | JSXExpressionContainer | JSXFragment | JSXIdentifier | JSXMemberExpression | JSXNamespacedName | JSXOpeningElement | JSXOpeningFragment | JSXSpreadAttribute | JSXSpreadChild | JSXText | LabeledStatement | LogicalExpression | MemberExpression | MetaProperty | MixedTypeAnnotation | ModuleExpression | NewExpression | Noop | NullLiteral | NullLiteralTypeAnnotation | NullableTypeAnnotation | NumberLiteral$1 | NumberLiteralTypeAnnotation | NumberTypeAnnotation | NumericLiteral | ObjectExpression | ObjectMethod | ObjectPattern | ObjectProperty | ObjectTypeAnnotation | ObjectTypeCallProperty | ObjectTypeIndexer | ObjectTypeInternalSlot | ObjectTypeProperty | ObjectTypeSpreadProperty | OpaqueType | OptionalCallExpression | OptionalIndexedAccessType | OptionalMemberExpression | ParenthesizedExpression | PipelineBareFunction | PipelinePrimaryTopicReference | PipelineTopicExpression | Placeholder | PrivateName | Program | QualifiedTypeIdentifier | RecordExpression | RegExpLiteral | RegexLiteral$1 | RestElement | RestProperty$1 | ReturnStatement | SequenceExpression | SpreadElement | SpreadProperty$1 | StaticBlock | StringLiteral | StringLiteralTypeAnnotation | StringTypeAnnotation | Super | SwitchCase | SwitchStatement | SymbolTypeAnnotation | TSAnyKeyword | TSArrayType | TSAsExpression | TSBigIntKeyword | TSBooleanKeyword | TSCallSignatureDeclaration | TSConditionalType | TSConstructSignatureDeclaration | TSConstructorType | TSDeclareFunction | TSDeclareMethod | TSEnumDeclaration | TSEnumMember | TSExportAssignment | TSExpressionWithTypeArguments | TSExternalModuleReference | TSFunctionType | TSImportEqualsDeclaration | TSImportType | TSIndexSignature | TSIndexedAccessType | TSInferType | TSInstantiationExpression | TSInterfaceBody | TSInterfaceDeclaration | TSIntersectionType | TSIntrinsicKeyword | TSLiteralType | TSMappedType | TSMethodSignature | TSModuleBlock | TSModuleDeclaration | TSNamedTupleMember | TSNamespaceExportDeclaration | TSNeverKeyword | TSNonNullExpression | TSNullKeyword | TSNumberKeyword | TSObjectKeyword | TSOptionalType | TSParameterProperty | TSParenthesizedType | TSPropertySignature | TSQualifiedName | TSRestType | TSStringKeyword | TSSymbolKeyword | TSThisType | TSTupleType | TSTypeAliasDeclaration | TSTypeAnnotation | TSTypeAssertion | TSTypeLiteral | TSTypeOperator | TSTypeParameter | TSTypeParameterDeclaration | TSTypeParameterInstantiation | TSTypePredicate | TSTypeQuery | TSTypeReference | TSUndefinedKeyword | TSUnionType | TSUnknownKeyword | TSVoidKeyword | TaggedTemplateExpression | TemplateElement | TemplateLiteral | ThisExpression | ThisTypeAnnotation | ThrowStatement | TopicReference | TryStatement | TupleExpression | TupleTypeAnnotation | TypeAlias | TypeAnnotation | TypeCastExpression | TypeParameter | TypeParameterDeclaration | TypeParameterInstantiation | TypeofTypeAnnotation | UnaryExpression | UnionTypeAnnotation | UpdateExpression | V8IntrinsicIdentifier | VariableDeclaration | VariableDeclarator | Variance | VoidTypeAnnotation | WhileStatement | WithStatement | YieldExpression;\\n```\\n","isLeaf":true},{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/04 Path \u8def\u5f84.md","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/04 Path \u8def\u5f84.md","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/04 Path \u8def\u5f84.md","leaf":true,"title":"04 Path \u8def\u5f84","depth":2,"content":"---\\ntitle: 04 Path \u8def\u5f84\\n---\\n\\n### 1\u3001Path \u4ecb\u7ecd\\n\\n![20230608092337](http://s3.airtlab.com/blog/20230608092337.png)\\n\\n***\\n\\n![20230608092353](http://s3.airtlab.com/blog/20230608092353.png)\\n\\n### 2\u3001Paths in Visitors\uff08\u5b58\u5728\u4e8e\u8bbf\u95ee\u8005\u4e2d\u7684\u8def\u5f84\uff09\\n\\n![20230608092412](http://s3.airtlab.com/blog/20230608092412.png)\\n\\n### 3\u3001demo \u6f14\u793a\\n\\n```javascript\\nconst fs = require(\'fs\');\\nconst babel = require(\\"@babel/core\\");\\n\\nconst MyVisitor = {\\n  Identifier(path) {\\n    console.log(\\"Visiting: \\" + path.node.name);\\n  }\\n};\\n\\nfunction MyPlugin() {\\n  return {\\n    visitor: MyVisitor\\n  }\\n}\\n\\nvar res = babel.transformSync(\\"var code = 1; var fn = () => {}\\", {\\n  ast: true,\\n  plugins: [\\n    require(\'@babel/plugin-transform-arrow-functions\'),\\n    MyPlugin\\n  ]\\n});\\n\\nconsole.log(res.code);\\n```\\n","isLeaf":true},{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/05 Bindings(\u7ed1\u5b9a).md","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/05 Bindings(\u7ed1\u5b9a).md","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/05 Bindings(\u7ed1\u5b9a).md","leaf":true,"title":"05 Bindings(\u7ed1\u5b9a)","depth":2,"content":"---\\ntitle: 05 Bindings\uff08\u7ed1\u5b9a\uff09\\n---\\n\\n\u4e00\u4e2a\u4f5c\u7528\u57df\u53ef\u4ee5\u521b\u5efa\u53d8\u91cf\uff0c\u8fd9\u79cd\u5173\u7cfb\u88ab\u79f0\u4e3a\u7ed1\u5b9a\u3002\\n\\n```typescript\\nfunction scopeOnce() {\\n  var ref = \\"This is a binding\\";\\n\\n  ref; // This is a reference to a binding\\n\\n  function scopeTwo() {\\n    ref; // This is a reference to a binding from a lower scope\\n  }\\n}\\n```\\n\\n## 1\u3001Binding \u7684\u5b9a\u4e49\\n\\n```typescript\\nexport type BindingKind = \'var\' | \'let\' | \'const\' | \'module\' | \'hoisted\' | \'param\' | \'local\' | \'unknown\';\\n\\nexport class Binding {\\n    constructor(opts: { identifier: t.Identifier; scope: Scope; path: NodePath; kind: BindingKind });\\n    identifier: t.Identifier;\\n    scope: Scope;\\n    path: NodePath;\\n    kind: BindingKind;\\n    referenced: boolean;            // \u662f\u5426\u88ab\u5f15\u7528\\n    references: number;             // \u88ab\u5f15\u7528\u6b21\u6570\\n    referencePaths: NodePath[];     // \u88ab\u5f15\u7528\u7684\u8def\u5f84\\n    constant: boolean;              // \u662f\u5426\u88ab\u4fee\u6539\\n    constantViolations: NodePath[];\\n    hasDeoptedValue?: boolean;\\n    hasValue?: boolean;\\n    value?: any;\\n\\n    deopValue(): void;\\n    setValue(value: any): void;\\n    clearValue(): void;\\n\\n    reassign(path: NodePath): void;\\n    reference(path: NodePath): void;\\n    dereference(): void;\\n}\\n```\\n\\n\u6709\u4e86\u8fd9\u4e9b\u4fe1\u606f\u4f60\u5c31\u53ef\u4ee5\u67e5\u627e\u4e00\u4e2a\u7ed1\u5b9a\u7684\u6240\u6709\u5f15\u7528\uff0c\u5e76\u4e14\u77e5\u9053\u8fd9\u662f\u4ec0\u4e48\u7c7b\u578b\u7684\u7ed1\u5b9a(\u53c2\u6570\uff0c\u5b9a\u4e49\u7b49\u7b49)\uff0c\u67e5\u627e\u5b83\u6240\u5c5e\u7684\u4f5c\u7528\u57df\uff0c\u6216\u8005\u62f7\u8d1d\u5b83\u7684\u6807\u8bc6\u7b26\u3002 \u4f60\u751a\u81f3\u53ef\u4ee5\u77e5\u9053\u5b83\u662f\u4e0d\u662f\u5e38\u91cf\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u4e48\u662f\u54ea\u4e2a\u8def\u5f84\u4fee\u6539\u4e86\u5b83\u3002 <a name=\\"I31IK\\"></a>\\n\\n## 2\u3001\u4ee3\u7801\u8f85\u52a9\u7406\u89e3\\n\\n### 1. \u5f15\u7528\u6b21\u6570 \\\\[references]\\n\\n```typescript\\nfunction test1() {\\n  var a = 10;\\n  console.log(a);\\n}\\n```\\n\\n```typescript\\nbindings: [Object: null prototype] {\\n  a: Binding {\\n    identifier: [Node],\\n    scope: [Circular],\\n    path: [NodePath],\\n    kind: \'var\',\\n    constantViolations: [],\\n    constant: true,\\n    referencePaths: [Array],\\n    referenced: true,\\n    references: 1,\\n    hasDeoptedValue: false,\\n    hasValue: false,\\n    value: null\\n  }\\n}\\n```\\n\\n### 2. \u7ed1\u5b9a\u662f\u5426\u662f\u5e38\u91cf \\\\[constant]\\n\\na \u6ca1\u6709\u4fee\u6539\uff1a\\n\\n```typescript\\nfunction test1() {\\n  var a = 10;\\n  console.log(a);\\n}\\n```\\n\\n```typescript\\nbindings: [Object: null prototype] {\\n  a: Binding {\\n    identifier: [Node],\\n    scope: [Circular],\\n    path: [NodePath],\\n    kind: \'var\',\\n    constantViolations: [],\\n    constant: true,\\n    referencePaths: [Array],\\n    referenced: true,\\n    references: 1,\\n    hasDeoptedValue: false,\\n    hasValue: false,\\n    value: null\\n  }\\n}\\n```\\n\\na \u6709\u88ab\u4fee\u6539\uff1a\\n\\n```typescript\\nfunction test1() {\\n  var a = 10;\\n  a = 20;\\n  console.log(a);\\n}\\n```\\n\\n```typescript\\nBinding {\\n  identifier: Node {\\n    type: \'Identifier\',\\n    start: 26,\\n    end: 27,\\n    loc: SourceLocation {\\n      start: [Position],\\n      end: [Position],\\n      filename: undefined,\\n      identifierName: \'a\'\\n    },\\n    name: \'a\'\\n  },\\n  scope: Scope {\\n    uid: 1,\\n    path: NodePath {\\n      contexts: [Array],\\n      state: undefined,\\n      opts: [Object],\\n      _traverseFlags: 0,\\n      skipKeys: null,\\n      parentPath: [NodePath],\\n      container: [Array],\\n      listKey: \'body\',\\n      key: 0,\\n      node: [Node],\\n      type: \'FunctionDeclaration\',\\n      parent: [Node],\\n      hub: undefined,\\n      data: null,\\n      context: [TraversalContext],\\n      scope: [Circular]\\n    },\\n    block: Node {\\n      type: \'FunctionDeclaration\',\\n      start: 1,\\n      end: 63,\\n      loc: [SourceLocation],\\n      id: [Node],\\n      generator: false,\\n      async: false,\\n      params: [],\\n      body: [Node]\\n    },\\n    labels: Map {},\\n    inited: true,\\n    bindings: [Object: null prototype] { a: [Circular] },\\n    references: [Object: null prototype] {},\\n    globals: [Object: null prototype] {},\\n    uids: [Object: null prototype] {},\\n    data: [Object: null prototype] {},\\n    crawling: undefined\\n  },\\n  path: NodePath {\\n    contexts: [],\\n    state: {\\n      references: [Array],\\n      constantViolations: [],\\n      assignments: [Array]\\n    },\\n    opts: {\\n      ForStatement: [Object],\\n      ImportDeclaration: [Object],\\n      LabeledStatement: [Object],\\n      AssignmentExpression: [Object],\\n      UpdateExpression: [Object],\\n      UnaryExpression: [Object],\\n      CatchClause: [Object],\\n      ClassExpression: [Object],\\n      _exploded: true,\\n      _verified: true,\\n      Identifier: [Object],\\n      JSXIdentifier: [Object],\\n      enter: [Array],\\n      FunctionDeclaration: [Object],\\n      VariableDeclaration: [Object],\\n      ClassDeclaration: [Object],\\n      ExportAllDeclaration: [Object],\\n      ExportDefaultDeclaration: [Object],\\n      ExportNamedDeclaration: [Object],\\n      DeclareClass: [Object],\\n      DeclareFunction: [Object],\\n      DeclareInterface: [Object],\\n      DeclareModule: [Object],\\n      DeclareModuleExports: [Object],\\n      DeclareTypeAlias: [Object],\\n      DeclareOpaqueType: [Object],\\n      DeclareVariable: [Object],\\n      DeclareExportDeclaration: [Object],\\n      DeclareExportAllDeclaration: [Object],\\n      InterfaceDeclaration: [Object],\\n      OpaqueType: [Object],\\n      TypeAlias: [Object],\\n      EnumDeclaration: [Object],\\n      TSDeclareFunction: [Object],\\n      TSInterfaceDeclaration: [Object],\\n      TSTypeAliasDeclaration: [Object],\\n      TSEnumDeclaration: [Object],\\n      TSModuleDeclaration: [Object],\\n      ForInStatement: [Object],\\n      ForOfStatement: [Object],\\n      FunctionExpression: [Object],\\n      ObjectMethod: [Object],\\n      ArrowFunctionExpression: [Object],\\n      ClassMethod: [Object],\\n      ClassPrivateMethod: [Object]\\n    },\\n    _traverseFlags: 0,\\n    skipKeys: null,\\n    parentPath: NodePath {\\n      contexts: [],\\n      state: [Object],\\n      opts: [Object],\\n      _traverseFlags: 0,\\n      skipKeys: null,\\n      parentPath: [NodePath],\\n      container: [Array],\\n      listKey: \'body\',\\n      key: 0,\\n      node: [Node],\\n      type: \'VariableDeclaration\',\\n      parent: [Node],\\n      hub: undefined,\\n      data: null,\\n      context: [TraversalContext],\\n      scope: [Scope]\\n    },\\n    container: [ [Node] ],\\n    listKey: \'declarations\',\\n    key: 0,\\n    node: Node {\\n      type: \'VariableDeclarator\',\\n      start: 26,\\n      end: 32,\\n      loc: [SourceLocation],\\n      id: [Node],\\n      init: [Node]\\n    },\\n    type: \'VariableDeclarator\',\\n    parent: Node {\\n      type: \'VariableDeclaration\',\\n      start: 22,\\n      end: 33,\\n      loc: [SourceLocation],\\n      declarations: [Array],\\n      kind: \'var\'\\n    },\\n    hub: undefined,\\n    data: null,\\n    context: TraversalContext {\\n      queue: null,\\n      priorityQueue: [],\\n      parentPath: [NodePath],\\n      scope: [Scope],\\n      state: [Object],\\n      opts: [Object]\\n    },\\n    scope: Scope {\\n      uid: 1,\\n      path: [NodePath],\\n      block: [Node],\\n      labels: Map {},\\n      inited: true,\\n      bindings: [Object: null prototype],\\n      references: [Object: null prototype] {},\\n      globals: [Object: null prototype] {},\\n      uids: [Object: null prototype] {},\\n      data: [Object: null prototype] {},\\n      crawling: undefined\\n    }\\n  },\\n  kind: \'var\',\\n  constantViolations: [\\n    NodePath {\\n      contexts: [],\\n      state: [Object],\\n      opts: [Object],\\n      _traverseFlags: 0,\\n      skipKeys: null,\\n      parentPath: [NodePath],\\n      container: [Node],\\n      listKey: undefined,\\n      key: \'expression\',\\n      node: [Node],\\n      type: \'AssignmentExpression\',\\n      parent: [Node],\\n      hub: undefined,\\n      data: null,\\n      context: [TraversalContext],\\n      scope: [Scope]\\n    }\\n  ],\\n  constant: false,\\n  referencePaths: [\\n    NodePath {\\n      contexts: [],\\n      state: [Object],\\n      opts: [Object],\\n      _traverseFlags: 0,\\n      skipKeys: null,\\n      parentPath: [NodePath],\\n      container: [Array],\\n      listKey: \'arguments\',\\n      key: 0,\\n      node: [Node],\\n      type: \'Identifier\',\\n      parent: [Node],\\n      hub: undefined,\\n      data: null,\\n      context: [TraversalContext],\\n      scope: [Scope]\\n    }\\n  ],\\n  referenced: true,\\n  references: 1,\\n  hasDeoptedValue: false,\\n  hasValue: false,\\n  value: null\\n}\\n\\n```\\n\\n### 3. \u53ea\u6709 \u53d8\u91cf\u5b9a\u4e49 \u548c \u51fd\u6570\u5b9a\u4e49 \u62e5\u6709 binding\\n\\n```typescript\\nlet binding = scope.getBinding(name);\\n// \u4f8b\u5982: var a = 123; \u8fd9\u91cc\u7684 a \u5c31\u62e5\u6709 binding\u3002\\n\\nfunction test(a,b,c) {};\\n// \u51fd\u6570\u540dtest\u4ee5\u53ca\u5f62\u53c2a\uff0cb\uff0cc\u5747\u62e5\u6709 binding\u3002\\n```\\n\\n### 4. binding.path\\n\\n\u7528\u4e8e\u5b9a\u4f4d\u521d\u59cb\u62e5\u6709binding\u7684path; <a name=\\"hn5qZ\\"></a>\\n\\n### 5. binding.referenced\\n\\n\u7528\u4e8e\u5224\u65ad\u5f53\u524d\u53d8\u91cf\u662f\u5426\u88ab\u5f15\u7528\uff0ctrue\u8868\u793a\u4ee3\u7801\u4e0b\u9762\u6709\u5f15\u7528\u8be5\u53d8\u91cf\u7684\u5730\u65b9\uff0cfalse\u8868\u793a\u6ca1\u6709\u5730\u65b9\u5f15\u7528\u8be5\u53d8\u91cf\u3002\u6ce8\u610f\uff0c\u5f15\u7528\u548c\u6539\u53d8\u662f\u5206\u5f00\u7684\u3002 <a name=\\"Y9Wns\\"></a>\\n\\n### 6. binding.referencePaths\\n\\n\u5b83\u662f\u4e00\u4e2aArray\u7c7b\u578b\uff0c\u5305\u542b\u6240\u6709\u5f15\u7528\u7684path\uff0c\u591a\u7528\u4e8e\u66ff\u6362\u3002\\n\\n### 7. binding.constantViolations\\n\\n\u5b83\u662f\u4e00\u4e2aArray\u7c7b\u578b\uff0c\u5305\u542b\u6240\u6709\u6539\u53d8\u7684path\uff0c\u591a\u7528\u4e8e\u5224\u65ad\u3002\\n","isLeaf":true},{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/06 Scopes(\u4f5c\u7528\u57df).md","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/06 Scopes(\u4f5c\u7528\u57df).md","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/06 Scopes(\u4f5c\u7528\u57df).md","leaf":true,"title":"06 Scopes(\u4f5c\u7528\u57df)","depth":2,"content":"---\\ntitle: 06 Scopes\uff08\u4f5c\u7528\u57df\uff09\\nurl: https://www.yuque.com/gaollard/ubc1q5/wt5qg7\\n---\\n\\n## 1\u3001Scope \u4ecb\u7ecd\\n\\n\u63a5\u4e0b\u6765\u8ba9\u6211\u4eec\u4ecb\u7ecd [\u4f5c\u7528\u57df\uff08scope\uff09](https://en.wikipedia.org/wiki/Scope_\\\\(computer_science\\\\))\u7684\u6982\u5ff5\u3002 JavaScript \u652f\u6301[\u8bcd\u6cd5\u4f5c\u7528\u57df](https://en.wikipedia.org/wiki/Scope_\\\\(computer_science\\\\)#Lexical_scoping_vs._dynamic_scoping)\uff0c\u5728\u6811\u72b6\u5d4c\u5957\u7ed3\u6784\u4e2d\u4ee3\u7801\u5757\u521b\u5efa\u51fa\u65b0\u7684\u4f5c\u7528\u57df\u3002\\n\\n```javascript\\n// global scope\\n\\nfunction scopeOne() {\\n  // scope 1\\n  function scopeTwo() {\\n    // scope 2\\n  }\\n}\\n```\\n\\n\u5728 JavaScript \u4e2d\uff0c\u6bcf\u5f53\u4f60\u521b\u5efa\u4e86\u4e00\u4e2a\u5f15\u7528\uff0c\u4e0d\u7ba1\u662f\u901a\u8fc7\u53d8\u91cf\uff08variable\uff09\u3001\u51fd\u6570\uff08function\uff09\u3001\u7c7b\u578b\uff08class\uff09\u3001\u53c2\u6570\uff08params\uff09\u3001\u6a21\u5757\u5bfc\u5165\uff08import\uff09\u8fd8\u662f\u6807\u7b7e\uff08label\uff09\u7b49\uff0c\u5b83\u90fd\u5c5e\u4e8e\u5f53\u524d\u4f5c\u7528\u57df\u3002\\n\\n```javascript\\nvar global = \\"I am in the global scope\\";\\n\\nfunction scopeOne() {\\n  var one = \\"I am in the scope created by `scopeOne()`\\";\\n\\n  function scopeTwo() {\\n    var two = \\"I am in the scope created by `scopeTwo()`\\";\\n  }\\n}\\n```\\n\\n\u66f4\u6df1\u7684\u5185\u90e8\u4f5c\u7528\u57df\u4ee3\u7801\u53ef\u4ee5\u4f7f\u7528\u5916\u5c42\u4f5c\u7528\u57df\u4e2d\u7684\u5f15\u7528\u3002\\n\\n```javascript\\nfunction scopeOne() {\\n  var one = \\"I am in the scope created by `scopeOne()`\\";\\n\\n  function scopeTwo() {\\n    one = \\"I am updating the reference in `scopeOne` inside `scopeTwo`\\";\\n  }\\n}\\n```\\n\\n\u5185\u5c42\u4f5c\u7528\u57df\u4e5f\u53ef\u4ee5\u521b\u5efa\u548c\u5916\u5c42\u4f5c\u7528\u57df\u540c\u540d\u7684\u5f15\u7528\u3002\\n\\n```javascript\\nfunction scopeOne() {\\n  var one = \\"I am in the scope created by `scopeOne()`\\";\\n\\n  function scopeTwo() {\\n    var one = \\"I am creating a new `one` but leaving reference in `scopeOne()` alone.\\";\\n  }\\n}\\n```\\n\\n\u5f53\u7f16\u5199\u4e00\u4e2a\u8f6c\u6362\u65f6\uff0c\u5fc5\u987b\u5c0f\u5fc3\u4f5c\u7528\u57df\u3002\u6211\u4eec\u5f97\u786e\u4fdd\u5728\u6539\u53d8\u4ee3\u7801\u7684\u5404\u4e2a\u90e8\u5206\u65f6\u4e0d\u4f1a\u7834\u574f\u5df2\u7ecf\u5b58\u5728\u7684\u4ee3\u7801\u3002\\n\u6211\u4eec\u5728\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u5f15\u7528\u65f6\u9700\u8981\u786e\u4fdd\u65b0\u589e\u52a0\u7684\u5f15\u7528\u540d\u5b57\u548c\u5df2\u6709\u7684\u6240\u6709\u5f15\u7528\u4e0d\u51b2\u7a81\u3002 \u6216\u8005\u6211\u4eec\u4ec5\u4ec5\u60f3\u627e\u51fa\u4f7f\u7528\u4e00\u4e2a\u53d8\u91cf\u7684\u6240\u6709\u5f15\u7528\uff0c \u6211\u4eec\u53ea\u60f3\u5728\u7ed9\u5b9a\u7684\u4f5c\u7528\u57df\uff08Scope\uff09\u4e2d\u627e\u51fa\u8fd9\u4e9b\u5f15\u7528\u3002\\n\u4f5c\u7528\u57df\u53ef\u4ee5\u88ab\u8868\u793a\u4e3a\u5982\u4e0b\u5f62\u5f0f\uff1a\\n\\n```javascript\\n{\\n  path: path,\\n  block: path.node,\\n  parentBlock: path.parent,\\n  parent: parentScope,\\n  bindings: [...]\\n}\\n```\\n\\n\u5f53\u4f60\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4f5c\u7528\u57df\u65f6\uff0c\u9700\u8981\u7ed9\u51fa\u5b83\u7684\u8def\u5f84\u548c\u7236\u4f5c\u7528\u57df\uff0c\u4e4b\u540e\u5728\u904d\u5386\u8fc7\u7a0b\u4e2d\u5b83\u4f1a\u5728\u8be5\u4f5c\u7528\u57df\u5185\u6536\u96c6\u6240\u6709\u7684\u5f15\u7528(\u201c\u7ed1\u5b9a\u201d)\u3002\\n\u4e00\u65e6\u5f15\u7528\u6536\u96c6\u5b8c\u6bd5\uff0c\u4f60\u5c31\u53ef\u4ee5\u5728\u4f5c\u7528\u57df\uff08Scopes\uff09\u4e0a\u4f7f\u7528\u5404\u79cd\u65b9\u6cd5\uff0c\u7a0d\u540e\u6211\u4eec\u4f1a\u4e86\u89e3\u8fd9\u4e9b\u65b9\u6cd5\u3002\\n\\n## 2\u3001Scope \u5b9a\u4e49\\n\\nScope \u8868\u793a\u4f5c\u7528\u57df\\n\\n```typescript\\nexport class Scope {\\n    constructor(path: NodePath, parentScope?: Scope);\\n    path: NodePath;\\n    block: Node;\\n    parentBlock: Node;\\n    parent: Scope;\\n    hub: HubInterface;\\n    bindings: { [name: string]: Binding };\\n\\n    /** Traverse node with current scope and path. */\\n    traverse<S>(node: Node | Node[], opts: TraverseOptions<S>, state: S): void;\\n    traverse(node: Node | Node[], opts?: TraverseOptions, state?: any): void;\\n\\n    /** Generate a unique identifier and add it to the current scope. */\\n    generateDeclaredUidIdentifier(name?: string): t.Identifier;\\n\\n    /** Generate a unique identifier. */\\n    generateUidIdentifier(name?: string): t.Identifier;\\n\\n    /** Generate a unique `_id1` binding. */\\n    generateUid(name?: string): string;\\n\\n    /** Generate a unique identifier based on a node. */\\n    generateUidIdentifierBasedOnNode(parent: Node, defaultName?: string): t.Identifier;\\n\\n    /**\\n     * Determine whether evaluating the specific input `node` is a consequenceless reference. ie.\\n     * evaluating it wont result in potentially arbitrary code from being ran. The following are\\n     * whitelisted and determined not to cause side effects:\\n     *\\n     *  - `this` expressions\\n     *  - `super` expressions\\n     *  - Bound identifiers\\n     */\\n    isStatic(node: Node): boolean;\\n\\n    /** Possibly generate a memoised identifier if it is not static and has consequences. */\\n    maybeGenerateMemoised(node: Node, dontPush?: boolean): t.Identifier;\\n\\n    checkBlockScopedCollisions(local: Binding, kind: BindingKind, name: string, id: object): void;\\n\\n    rename(oldName: string, newName?: string, block?: Node): void;\\n\\n    dump(): void;\\n\\n    toArray(node: Node, i?: number): Node;\\n\\n    registerDeclaration(path: NodePath): void;\\n\\n    buildUndefinedNode(): Node;\\n\\n    registerConstantViolation(path: NodePath): void;\\n\\n    registerBinding(kind: string, path: NodePath, bindingPath?: NodePath): void;\\n\\n    addGlobal(node: Node): void;\\n\\n    hasUid(name: string): boolean;\\n\\n    hasGlobal(name: string): boolean;\\n\\n    hasReference(name: string): boolean;\\n\\n    isPure(node: Node, constantsOnly?: boolean): boolean;\\n\\n    setData(key: string, val: any): any;\\n\\n    getData(key: string): any;\\n\\n    removeData(key: string): void;\\n\\n    crawl(): void;\\n\\n    push(opts: {\\n        id: t.LVal;\\n        init?: t.Expression | undefined;\\n        unique?: boolean | undefined;\\n        kind?: \'var\' | \'let\' | \'const\' | undefined;\\n    }): void;\\n\\n    getProgramParent(): Scope;\\n\\n    getFunctionParent(): Scope | null;\\n\\n    getBlockParent(): Scope;\\n\\n    /** Walks the scope tree and gathers **all** bindings. */\\n    getAllBindings(...kinds: string[]): object;\\n\\n    bindingIdentifierEquals(name: string, node: Node): boolean;\\n\\n    getBinding(name: string): Binding | undefined;\\n\\n    getOwnBinding(name: string): Binding | undefined;\\n\\n    getBindingIdentifier(name: string): t.Identifier;\\n\\n    getOwnBindingIdentifier(name: string): t.Identifier;\\n\\n    hasOwnBinding(name: string): boolean;\\n\\n    hasBinding(name: string, noGlobals?: boolean): boolean;\\n\\n    parentHasBinding(name: string, noGlobals?: boolean): boolean;\\n\\n    /** Move a binding of `name` to another `scope`. */\\n    moveBindingTo(name: string, scope: Scope): void;\\n\\n    removeOwnBinding(name: string): void;\\n\\n    removeBinding(name: string): void;\\n}\\n\\n```\\n\\n## 3\u3001\u4ee3\u7801\u8f85\u52a9\u7406\u89e3\\n\\n### 1. \u67e5\u770b scope \u7ed3\u6784\\n\\n```typescript\\nimport * as fs from \\"fs\\";\\nimport * as path from \'path\';\\nimport * as babel from \\"@babel/core\\";\\n\\nconst code = `\\nfunction test1() {\\n  var a = 10;\\n}\\n`\\n\\nconst data = babel.parse(code, {\\n  presets: [\\"@babel/preset-typescript\\"],\\n  plugins: [\\n    [\\n      \\"@babel/plugin-proposal-decorators\\",\\n      {\\n        legacy: true,\\n      },\\n    ],\\n  ],\\n  filename: \'sss\',\\n});\\n\\n\\nbabel.traverse(data, {\\n  FunctionDeclaration(path) {\\n    console.log(path.scope)\\n  }\\n})\\n```\\n\\n```typescript\\nScope {\\n  uid: 1,\\n  path: NodePath {\\n    contexts: [ [TraversalContext] ],\\n    state: undefined,\\n    opts: { FunctionDeclaration: [Object], _exploded: true, _verified: true },\\n    _traverseFlags: 0,\\n    skipKeys: null,\\n    parentPath: NodePath {\\n      contexts: [Array],\\n      state: undefined,\\n      opts: [Object],\\n      _traverseFlags: 0,\\n      skipKeys: null,\\n      parentPath: null,\\n      container: [Node],\\n      listKey: undefined,\\n      key: \'program\',\\n      node: [Node],\\n      type: \'Program\',\\n      parent: [Node],\\n      hub: undefined,\\n      data: null,\\n      context: [TraversalContext],\\n      scope: [Scope]\\n    },\\n    container: [ [Node] ],\\n    listKey: \'body\',\\n    key: 0,\\n    node: Node {\\n      type: \'FunctionDeclaration\',\\n      start: 1,\\n      end: 35,\\n      loc: [SourceLocation],\\n      id: [Node],\\n      generator: false,\\n      async: false,\\n      params: [],\\n      body: [Node]\\n    },\\n    type: \'FunctionDeclaration\',\\n    parent: Node {\\n      type: \'Program\',\\n      start: 0,\\n      end: 36,\\n      loc: [SourceLocation],\\n      sourceType: \'module\',\\n      interpreter: null,\\n      body: [Array],\\n      directives: []\\n    },\\n    hub: undefined,\\n    data: null,\\n    context: TraversalContext {\\n      queue: [Array],\\n      priorityQueue: [],\\n      parentPath: [NodePath],\\n      scope: [Scope],\\n      state: undefined,\\n      opts: [Object]\\n    },\\n    scope: [Circular]\\n  },\\n  block: Node {\\n    type: \'FunctionDeclaration\',\\n    start: 1,\\n    end: 35,\\n    loc: SourceLocation {\\n      start: [Position],\\n      end: [Position],\\n      filename: undefined,\\n      identifierName: undefined\\n    },\\n    id: Node {\\n      type: \'Identifier\',\\n      start: 10,\\n      end: 15,\\n      loc: [SourceLocation],\\n      name: \'test1\'\\n    },\\n    generator: false,\\n    async: false,\\n    params: [],\\n    body: Node {\\n      type: \'BlockStatement\',\\n      start: 18,\\n      end: 35,\\n      loc: [SourceLocation],\\n      body: [Array],\\n      directives: []\\n    }\\n  },\\n  labels: Map {},\\n  inited: true,\\n  bindings: [Object: null prototype] {\\n    a: Binding {\\n      identifier: [Node],\\n      scope: [Circular],\\n      path: [NodePath],\\n      kind: \'var\',\\n      constantViolations: [],\\n      constant: true,\\n      referencePaths: [],\\n      referenced: false,\\n      references: 0,\\n      hasDeoptedValue: false,\\n      hasValue: false,\\n      value: null\\n    }\\n  },\\n  references: [Object: null prototype] {},\\n  globals: [Object: null prototype] {},\\n  uids: [Object: null prototype] {},\\n  data: [Object: null prototype] {},\\n  crawling: undefined\\n}\\n```\\n\\n- block  \u8be5\u4f5c\u7528\u57df\u6240\u5c5e\u7684 code block\\n- path   \u8be5\u4f5c\u7528\u57df\u6240\u5c5e\u7684 NodePath\\n- bindings  \u8be5\u4f5c\u7528\u57df\u80fd\u591f\u8bbf\u95ee\u53d8\u91cf <a name=\\"Bi4FK\\"></a>\\n\\n### 2. \u67e5\u770b binding\\n\\n```typescript\\nimport * as fs from \\"fs\\";\\nimport * as path from \'path\';\\nimport * as babel from \\"@babel/core\\";\\n\\nconst code = `\\nfunction test1() {\\n  var a = 10;\\n}\\n\\nfunction test2() {\\n  var b = 10;\\n}\\n`\\n\\nconst data = babel.parse(code, {\\n  presets: [\\"@babel/preset-typescript\\"],\\n  plugins: [\\n    [\\n      \\"@babel/plugin-proposal-decorators\\",\\n      {\\n        legacy: true,\\n      },\\n    ],\\n  ],\\n  filename: \'sss\',\\n});\\n\\n\\nbabel.traverse(data, {\\n  FunctionDeclaration(path) {\\n    if (babel.types.isIdentifier(path.node.id)) {\\n      console.log(path.node.id.name, path.scope.hasBinding(\\"a\\"))\\n    }\\n  }\\n})\\n\\n// test1 true\\n// test2 false\\n```","isLeaf":true},{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/07 State \u72b6\u6001.md","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/07 State \u72b6\u6001.md","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/07 State \u72b6\u6001.md","leaf":true,"title":"07 State \u72b6\u6001","depth":2,"content":"---\\ntitle: 07 State \u72b6\u6001\\n---\\n\\n\u72b6\u6001\u662f\u62bd\u8c61\u8bed\u6cd5\u6811AST\u8f6c\u6362\u7684\u654c\u4eba\uff0c\u72b6\u6001\u7ba1\u7406\u4f1a\u4e0d\u65ad\u7275\u626f\u4f60\u7684\u7cbe\u529b\uff0c\u800c\u4e14\u51e0\u4e4e\u6240\u6709\u4f60\u5bf9\u72b6\u6001\u7684\u5047\u8bbe\uff0c\u603b\u662f\u4f1a\u6709\u4e00\u4e9b\u672a\u8003\u8651\u5230\u7684\u8bed\u6cd5\u6700\u7ec8\u8bc1\u660e\u4f60\u7684\u5047\u8bbe\u662f\u9519\u8bef\u7684\u3002\\n\u8003\u8651\u4e0b\u5217\u4ee3\u7801\uff1a\\n\\n```javascript\\nfunction square(n) {\\n  return n * n;\\n}\\n```\\n\\n\u8ba9\u6211\u4eec\u5199\u4e00\u4e2a\u628a n \u91cd\u547d\u540d\u4e3a x \u7684\u8bbf\u95ee\u8005\u7684\u5feb\u901f\u5b9e\u73b0:\\n\\n```javascript\\nlet paramName;\\n\\nconst MyVisitor = {\\n  FunctionDeclaration(path) {\\n    const param = path.node.params[0];\\n    paramName = param.name;\\n    param.name = \\"x\\";\\n  },\\n\\n  Identifier(path) {\\n    if (path.node.name === paramName) {\\n      path.node.name = \\"x\\";\\n    }\\n  }\\n};\\n```\\n\\n\u5bf9\u4e0a\u9762\u7684\u4f8b\u5b50\u4ee3\u7801\u8fd9\u6bb5\u8bbf\u95ee\u8005\u4ee3\u7801\u4e5f\u8bb8\u80fd\u5de5\u4f5c\uff0c\u4f46\u5b83\u5f88\u5bb9\u6613\u88ab\u6253\u7834\uff1a\\n\\n```javascript\\nfunction square(n) {\\n  return n * n;\\n}\\nn;\\n```\\n\\n\u66f4\u597d\u7684\u5904\u7406\u65b9\u5f0f\u662f\u4f7f\u7528\u9012\u5f52\uff0c\u4e0b\u9762\u8ba9\u6211\u4eec\u6765\u50cf\u514b\u91cc\u65af\u6258\u4f5b\xb7\u8bfa\u5170\u7684\u7535\u5f71\u76d7\u68a6\u7a7a\u95f4\u90a3\u6837\u6765\u628a\u4e00\u4e2a\u8bbf\u95ee\u8005\u653e\u8fdb\u53e6\u5916\u4e00\u4e2a\u8bbf\u95ee\u8005\u91cc\u9762:\\n\\n```javascript\\nconst updateParamNameVisitor = {\\n  Identifier(path) {\\n    if (path.node.name === this.paramName) {\\n      path.node.name = \\"x\\";\\n    }\\n  }\\n};\\n\\nconst MyVisitor = {\\n  FunctionDeclaration(path) {\\n    const param = path.node.params[0];\\n    const paramName = param.name;\\n    param.name = \\"x\\";\\n\\n    path.traverse(updateParamNameVisitor, { paramName });\\n  }\\n};\\n\\npath.traverse(MyVisitor);\\n```\\n\\n\u6ce8\u610f\u4f8b\u5b50\u4e2d `path.traverse(updateParamNameVisitor, { paramName })` \u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5728 visitor \u4e2d\u901a\u8fc7 this \u53ef\u4ee5\u8bbf\u95ee\u3002\\n\\n\u8fd9\u4e2a\u4f8b\u5b50\u6f14\u793a\u4e86\u5982\u4f55\u4ece\u8bbf\u95ee\u8005\u4e2d\u6d88\u9664\u5168\u5c40\u72b6\u6001\u3002","isLeaf":true}]},{"key":"/Babel/04-Babel \u7ec3\u4e60","path":"/Babel/04-Babel \u7ec3\u4e60","route":"/Babel/04-Babel \u7ec3\u4e60","leaf":false,"title":"04-Babel \u7ec3\u4e60","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Babel/04-Babel \u7ec3\u4e60/01 \u904d\u5386 jsx \u8282\u70b9.md","path":"/Babel/04-Babel \u7ec3\u4e60/01 \u904d\u5386 jsx \u8282\u70b9.md","route":"/Babel/04-Babel \u7ec3\u4e60/01 \u904d\u5386 jsx \u8282\u70b9.md","leaf":true,"title":"01 \u904d\u5386 jsx \u8282\u70b9","depth":2,"content":"\u6211\u5728\u5199\u4e00\u4e2a babel \u63d2\u4ef6\uff0c\u7528\u4e8e\u7ed9\u6bcf\u4e00\u4e2a div \u6807\u7b7e\u90fd\u52a0\u4e00\u4e2a css class\u3002\u73b0\u5728\u51fa\u73b0\u4e86\u4e24\u79cd\u573a\u666f\u3002\\n\\n## 1\u3001`React.createElement(\'div\', {})`\\n\\n![20230511185255](http://s3.airtlab.com/blog/20230511185255.png)\\n\\n```js\\nmodule.exports = function (api) {\\n  api && api.cache(false);\\n  return {\\n    presets: [\\n      [\\"@babel/preset-react\\", { runtime: \\"classic\\" }],\\n    ],\\n    plugins: [\\n      // \u6ce8\u610f prefix \u4e2d\u7684\u7a7a\u683c\\n      [\\"./src/babel-plugin-change-jsx-className\\", {\\n        prefix: \'f6 \'\\n      }]\\n    ]\\n  };\\n};\\n\\n```\\n\\n```js\\nconst fs = require(\'fs\');\\nconst { Console } = require(\'console\');\\nconst logFile = process.cwd() + \'/\' + \'a.log\'\\n\\nconst std = fs.createWriteStream(logFile, { flags: \'a\' });\\nconst console = new Console(std);\\nconst types = require(\'@babel/types\');\\nlet config = {};\\n\\nmodule.exports = function (\\n  _,\\n  options = {\\n    prefix: \'\',\\n  },\\n) {\\n  config = options;\\n  return {\\n    visitor: {\\n      CallExpression,\\n      JSXElement(path) {\\n        const node = path.node;\\n        if (node.openingElement.name.name === \\"div\\") {\\n          console.log(\\"Found div:\\", node);\\n        }\\n      },\\n      BinaryExpression(path) {\\n        console.log(path.node.left); // Identifier Node\\n        console.log(path.node.right); // Identifier Node\\n        console.log(path.node.operator); // \\"*\\"\\n      },\\n    },\\n  };\\n};\\n\\nfunction CallExpression(path) {\\n  // debugger;\\n  const _this = this;\\n  const callee = path.node.callee;\\n  console.log(444, callee);\\n\\n  if (callee.type === \'MemberExpression\') {\\n    const callFn = callee.object.name + \'.\' + callee.property.name;\\n    if (callFn === \'React.createElement\') {\\n      path.skip();\\n\\n      const arg1 = path.get(\'arguments.1\');\\n\\n      if (arg1.node.type === \'NullLiteral\') {\\n        // null\\n        arg1.replaceWith(\\n          types.objectExpression([\\n            types.objectProperty(\\n              types.identifier(\'className\'),\\n              types.stringLiteral(config.prefix),\\n            ),\\n            types.objectProperty(\\n              types.identifier(\'data-code\'),\\n              types.stringLiteral(_this.filename),\\n            ),\\n          ]),\\n        );\\n      } else {\\n        // {}\\n        if (arg1.node.type === \'ObjectExpression\') {\\n          const index = arg1.node.properties.findIndex((it) => {\\n            return it.key.name === \'className\';\\n          });\\n          if (index !== -1) {\\n            const proPath = arg1.get(`properties.${index}`);\\n            proPath.node.value = types.binaryExpression(\\n              \'+\',\\n              types.StringLiteral(config.prefix),\\n              proPath.node.value,\\n            );\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n```\\n\\n```json\\n{\\n  \\"name\\": \\"f6\\",\\n  \\"version\\": \\"0.0.0\\",\\n  \\"description\\": \\"> TODO: description\\",\\n  \\"author\\": \\"gaollard <1056834607@qq.com>\\",\\n  \\"homepage\\": \\"\\",\\n  \\"license\\": \\"ISC\\",\\n  \\"main\\": \\"src/index.js\\",\\n  \\"directories\\": {\\n    \\"lib\\": \\"lib\\",\\n    \\"test\\": \\"__tests__\\"\\n  },\\n  \\"files\\": [\\n    \\"lib\\",\\n    \\"src\\"\\n  ],\\n  \\"scripts\\": {\\n    \\"test\\": \\"echo \\\\\\"Error: run tests from root\\\\\\" && exit 1\\",\\n    \\"build\\": \\"babel demo/index.js\\"\\n  },\\n  \\"dependencies\\": {\\n    \\"@babel/generator\\": \\"^7.16.5\\",\\n    \\"@babel/preset-react\\": \\"^7.16.5\\",\\n    \\"@babel/runtime\\": \\"^7.16.5\\",\\n    \\"@types/react-transition-group\\": \\"^4.4.4\\"\\n  },\\n  \\"devDependencies\\": {\\n    \\"@babel/cli\\": \\"^7.16.0\\",\\n    \\"@babel/core\\": \\"^7.16.5\\",\\n    \\"@babel/plugin-syntax-dynamic-import\\": \\"^7.0.0\\",\\n    \\"@babel/plugin-transform-modules-commonjs\\": \\"^7.16.5\\",\\n    \\"@babel/plugin-transform-object-assign\\": \\"^7.0.0\\",\\n    \\"@babel/plugin-transform-runtime\\": \\"^7.4.4\\",\\n    \\"@babel/polyfill\\": \\"^7.4.4\\",\\n    \\"@babel/preset-env\\": \\"^7.16.5\\",\\n    \\"@babel/preset-typescript\\": \\"^7.3.3\\",\\n    \\"@types/react\\": \\"^17.0.34\\",\\n    \\"@types/react-dom\\": \\"^17.0.11\\",\\n    \\"style-loader\\": \\"^3.3.1\\",\\n    \\"css-loader\\": \\"^6.5.1\\",\\n    \\"react\\": \\"^17.0.2\\",\\n    \\"react-dom\\": \\"^17.0.2\\",\\n    \\"rimraf\\": \\"^3.0.2\\",\\n    \\"typescript\\": \\"^4.4.4\\"\\n  },\\n  \\"peerDependencies\\": {\\n    \\"classnames\\": \\"^2.3.1\\",\\n    \\"react\\": \\"^17.0.2\\",\\n    \\"react-dom\\": \\"^17.0.2\\"\\n  }\\n}\\n```\\n\\n## 2\u3001_jsx(\'div\', {})\\n\\n![20230511190028](http://s3.airtlab.com/blog/20230511190028.png)\\n\\n## 3\u3001\u904d\u5386 JSXElement \u66f4\u5408\u7406\\n\\n![20230511191205](http://s3.airtlab.com/blog/20230511191205.png)","isLeaf":true},{"key":"/Babel/04-Babel \u7ec3\u4e60/02 plugin-transform-react-jsx.md","path":"/Babel/04-Babel \u7ec3\u4e60/02 plugin-transform-react-jsx.md","route":"/Babel/04-Babel \u7ec3\u4e60/02 plugin-transform-react-jsx.md","leaf":true,"title":"02 plugin-transform-react-jsx","depth":2,"content":"- \u539f\u7406\\n- \u6e90\u7801\u5206\u6790","isLeaf":true},{"key":"/Babel/04-Babel \u7ec3\u4e60/03 add-prop-to-jsx.md","path":"/Babel/04-Babel \u7ec3\u4e60/03 add-prop-to-jsx.md","route":"/Babel/04-Babel \u7ec3\u4e60/03 add-prop-to-jsx.md","leaf":true,"title":"03 add-prop-to-jsx","depth":2,"content":"https://www.johno.com/add-a-prop-to-jsx-elements-with-babel\\n\\n```js\\nexport default (api) => {\\n  const { types: t } = api;\\n\\n  return {\\n    visitor: {\\n      JSXOpeningElement(path) {\\n        const existingProp = path.node.attributes.find(\\n          (node) => node.name && node.name.name === \\"favoriteColor\\"\\n        );\\n\\n        if (existingProp) {\\n          existingProp.node.value.value === \\"tomato\\";\\n          return;\\n        }\\n\\n        const newProp = t.jSXAttribute(\\n          t.jSXIdentifier(\\"favoriteColor\\"),\\n          t.stringLiteral(\\"tomato\\")\\n        );\\n\\n        path.node.attributes.push(newProp);\\n      },\\n    },\\n  };\\n};\\n```\\n","isLeaf":true},{"key":"/Babel/04-Babel \u7ec3\u4e60/04 how-comipler-typescript.md","path":"/Babel/04-Babel \u7ec3\u4e60/04 how-comipler-typescript.md","route":"/Babel/04-Babel \u7ec3\u4e60/04 how-comipler-typescript.md","leaf":true,"title":"04 how-comipler-typescript","depth":2,"content":"---\\ntitle: 05 \u5982\u4f55\u7f16\u8bd1 typescript\\n---\\n\\n- \u5982\u679c\u6ca1\u6709\u4f7f\u7528 Babel\uff0c\u9996\u9009 TypeScript \u81ea\u5e26\u7f16\u8bd1\u5668\uff08\u914d\u5408 ts-loader \u4f7f\u7528\uff09\\n- \u5982\u679c\u9879\u76ee\u4e2d\u6709 Babel\uff0c\u5b89\u88c5 @babel/preset-typescript\uff0c\u914d\u5408 tsc \u505a\u7c7b\u578b\u68c0\u67e5\u3002\\n\\n\u4e24\u79cd\u7f16\u8bd1\u5668\u4e0d\u8981\u6df7\u7528\u3002\u53c2\u8003 https://juejin.cn/post/6954304242093932557#heading-7","isLeaf":true},{"key":"/Babel/04-Babel \u7ec3\u4e60/05 rename-function-param.md","path":"/Babel/04-Babel \u7ec3\u4e60/05 rename-function-param.md","route":"/Babel/04-Babel \u7ec3\u4e60/05 rename-function-param.md","leaf":true,"title":"05 rename-function-param","depth":2,"content":"```js\\nmodule.exports = function({ types: t }) {\\n  return {\\n    visitor: {\\n      FunctionDeclaration(path, state) {\\n        path.scope.rename(\'age\', path.scope.generateUidIdentifier(\\"age\\").name)\\n      }\\n    }\\n  }\\n}\\n```\\n\\n```js\\nmodule.exports = function({ types: t }) {\\n  return {\\n    visitor: {\\n      FunctionDeclaration(path, state) {\\n        const { replaceMap } = state.opts;\\n        const params = path.get(\'params\');\\n\\n        params.forEach((idPath) => {\\n          if (replaceMap[idPath.node.name]) {\\n            idPath.replaceWith(t.identifier(replaceMap[idPath.node.name]))\\n          }\\n        })\\n\\n        Object.keys(path.scope.bindings).forEach((name) => {\\n          const referencePaths = path.scope.bindings[name].referencePaths\\n          referencePaths.forEach((idPath) => {\\n            if (replaceMap[idPath.node.name]) {\\n              idPath.replaceWith(t.identifier(replaceMap[idPath.node.name]))\\n            }\\n          })\\n        })\\n      }\\n    }\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Babel/04-Babel \u7ec3\u4e60/06 \u751f\u6210 AST.md","path":"/Babel/04-Babel \u7ec3\u4e60/06 \u751f\u6210 AST.md","route":"/Babel/04-Babel \u7ec3\u4e60/06 \u751f\u6210 AST.md","leaf":true,"title":"06 \u751f\u6210 AST","depth":2,"content":"```javascript\\nconst fs = require(\'fs\');\\nconst babel = require(\\"@babel/core\\");\\n\\nvar res = babel.transformSync(\\"var code = 1; var fn = () => {}\\", {\\n  ast: true,\\n  plugins: [\\n    require(\'@babel/plugin-transform-arrow-functions\')\\n  ]\\n});\\n\\nconsole.log(res.code);\\n```","isLeaf":true},{"key":"/Babel/04-Babel \u7ec3\u4e60/07 \u63d2\u5165\u8282\u70b9.md","path":"/Babel/04-Babel \u7ec3\u4e60/07 \u63d2\u5165\u8282\u70b9.md","route":"/Babel/04-Babel \u7ec3\u4e60/07 \u63d2\u5165\u8282\u70b9.md","leaf":true,"title":"07 \u63d2\u5165\u8282\u70b9","depth":2,"content":"---\\ntitle: 09 \u63d2\u5165\u8282\u70b9\\n---\\n\\n### 1. \u63d2\u5165 Node\\n\\n### 2. \u63d2\u5165 \u5b57\u7b26\u4e32\u4ee3\u7801\\n","isLeaf":true}]},{"key":"/Babel/05-acorn","path":"/Babel/05-acorn","route":"/Babel/05-acorn","leaf":false,"title":"05-acorn","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Babel/05-acorn/00.md","path":"/Babel/05-acorn/00.md","route":"/Babel/05-acorn/00.md","leaf":true,"title":"00","depth":2,"content":"---\\ntitle: acorn \u6e90\u7801\u5206\u6790\\ntags: acorn\\n---\\n\\n- AST \u5728\u7ebf <https://astexplorer.net/#/2uBU1BLuJ1>\\n","isLeaf":true},{"key":"/Babel/05-acorn/01-the-super-tiny-compiler.md","path":"/Babel/05-acorn/01-the-super-tiny-compiler.md","route":"/Babel/05-acorn/01-the-super-tiny-compiler.md","leaf":true,"title":"01-the-super-tiny-compiler","depth":2,"content":"---\\ntitle: 01 the-super-tiny-compiler \u6e90\u7801\u5206\u6790\\ntags: acornjs\\n---\\n\\n<https://github.com/jamiebuilds/the-super-tiny-compiler>\uff0c\u8fd9\u4e2a\u8bbe\u8ba1\u5e93\u5b9e\u5728\u592a\u8fc7\u7b80\u5355\uff08\u6bd4\u5982\uff1a\u4e0d\u652f\u6301\u53d6\u53cd\u64cd\u4f5c\uff09\uff0c\u53ea\u80fd\u7528\u4f5c\u5b66\u4e60 compiler \u7684\u6d41\u7a0b\u8bbe\u8ba1\u3002\\n\\n- tokenizer(\u8bcd\u6cd5\u5206\u6790\u5668)\uff1a\u5212\u5206 token\uff0c\u4ea7\u751f\u4e00\u4e2a token \u6570\u7ec4\\n- parser(\u8bed\u6cd5\u5206\u6790\u5668)\uff1a\u63a5\u53d7 token \u6570\u7ec4\uff0c\u7136\u540e\u628a\u5b83\u8f6c\u5316\u4e3a AST <a name=\\"bsEHt\\"></a>\\n\\n### 1. \u6d4b\u8bd5 the-super-tiny-compiler\\n\\n    (add 21 (subtract 4 2))\\n\\n- (op v1 v2) \u62ec\u53f7\u8868\u793a\u4e00\u4e2a CallExpression \u8c03\u7528\u8868\u8fbe\u5f0f\\n- add +\\n- subtract -\\n- token \u53ea\u5305\u542b\\n  - NumberLiteral \u6570\u5b57\u5b57\u9762\u91cf\\n  - StringLiteral \u5b57\u7b26\u4e32\u5b57\u9762\u91cf\\n  - CallExpression \u8c03\u7528\u8868\u8fbe\u5f0f\\n    - add\\n    - subtract\\n\\n#### 1.1 tokens\\n\\n```json\\n[\\n  {\\n    \\"type\\": \\"paren\\",\\n    \\"value\\": \\"(\\"\\n  },\\n  {\\n    \\"type\\": \\"name\\",\\n    \\"value\\": \\"add\\"\\n  },\\n  {\\n    \\"type\\": \\"number\\",\\n    \\"value\\": \\"21\\"\\n  },\\n  {\\n    \\"type\\": \\"paren\\",\\n    \\"value\\": \\"(\\"\\n  },\\n  {\\n    \\"type\\": \\"name\\",\\n    \\"value\\": \\"subtract\\"\\n  },\\n  {\\n    \\"type\\": \\"number\\",\\n    \\"value\\": \\"4\\"\\n  },\\n  {\\n    \\"type\\": \\"number\\",\\n    \\"value\\": \\"2\\"\\n  },\\n  {\\n    \\"type\\": \\"paren\\",\\n    \\"value\\": \\")\\"\\n  },\\n  {\\n    \\"type\\": \\"paren\\",\\n    \\"value\\": \\")\\"\\n  }\\n]\\n```\\n\\n#### 1.2 AST\\n\\n```json\\n{\\n  \\"type\\": \\"Program\\",\\n  \\"body\\": [\\n    {\\n      \\"type\\": \\"CallExpression\\",\\n      \\"name\\": \\"add\\",\\n      \\"params\\": [\\n        {\\n          \\"type\\": \\"NumberLiteral\\",\\n          \\"value\\": \\"21\\"\\n        },\\n        {\\n          \\"type\\": \\"CallExpression\\",\\n          \\"name\\": \\"subtract\\",\\n          \\"params\\": [\\n            {\\n              \\"type\\": \\"NumberLiteral\\",\\n              \\"value\\": \\"4\\"\\n            },\\n            {\\n              \\"type\\": \\"NumberLiteral\\",\\n              \\"value\\": \\"2\\"\\n            }\\n          ]\\n        }\\n      ]\\n    }\\n  ]\\n}\\n```\\n\\n<a name=\\"RKRFw\\"></a>\\n\\n### 2. \u81ea\u5df1\u5b9e\u73b0\\n\\n<a name=\\"fQ8XC\\"></a>\\n\\n#### 2.1 tokenizer\\n\\n```javascript\\n/**\\n * @param {string} input \\n */\\nfunction tokenizer(input) {\\n  let current = 0;\\n  let tokens = [];\\n\\n  const lt_parent_l = \'(\';\\n  const lt_parent_r = \')\';\\n\\n  const type_paren = \'paren\';\\n  const type_number = \'number\';\\n  const type_string = \'string\';\\n  const type_name = \'name\';\\n\\n  const reg_whitespcae = /\\\\s/;\\n  const reg_numbers = /[0-9]/;\\n  const reg_letters = /[a-z]/i;\\n\\n  const isEof = () => current >= input.length;\\n\\n  const genToken = (type, value, start) => {\\n    const token = {\\n      type,\\n      value\\n    }\\n    token.loc = {\\n      start,\\n      end: token.value.length + start\\n    }\\n    tokens.push(token)\\n  } \\n\\n  while(!isEof()) {\\n    let c_char = input[current];\\n\\n    if (c_char === lt_parent_l) {\\n      genToken(type_paren, c_char, current)\\n      current++;\\n      continue;\\n    }\\n\\n    if (c_char === lt_parent_r) {\\n      genToken(type_paren, c_char, current)\\n      current++;\\n      continue;\\n    }\\n\\n    if (reg_whitespcae.test(c_char)) {\\n      current++;\\n      continue;\\n    }\\n\\n    if (reg_numbers.test(c_char)) {\\n      // \u89e3\u6790\u51fa\u5f53\u524d\u7684\u6574\u578b\u5b57\u9762\u91cf\\n\\n      let value = \'\';\\n      let start = current;\\n\\n      while(reg_numbers.test(c_char)) {\\n        value += c_char;\\n        c_char = input[++current];\\n      }\\n\\n      genToken(type_number, value, start)\\n      continue;\\n    }\\n\\n    if (c_char === \'\\"\') {\\n      // \u627e\u51fa\u5b8c\u6574\u7684\u5b57\u7b26\u4e32\\n\\n      let start = current\\n      let value = \'\';\\n      c_char = input[current++]; \\n\\n      while(c_char !== \'\\"\') {\\n        value += c_char;\\n        c_char = input[++current];\\n      }\\n\\n      // \u8df3\u8fc7\u95ed\u5408\u7684\u53cc\u5f15\u53f7\\n      c_char = input[++current];\\n\\n      genToken(type_string, value, start)\\n      continue;\\n    }\\n\\n    if (reg_letters.test(c_char)) {\\n      // \u627e\u51fa\u5b8c\u6574\u7684\u5173\u952e\u5b57\\n      let start = current;\\n      let value = \'\';\\n      while(reg_letters.test(c_char)) {\\n        value += c_char;\\n        c_char = input[++current];\\n      }\\n\\n      genToken(type_name, value, start)\\n      continue;\\n    }\\n\\n    // \u5982\u679c\u8fd8\u5269\u4e00\u4e9b\u5b57\u7b26\uff0c\u8bf4\u660e\u8868\u8fbe\u5f0f\u8bed\u6cd5\u6709\u9519\u8bef\\n    throw new TypeError(\'I dont know what this character is: \' + char);\\n  }\\n\\n  return tokens;\\n}\\n```\\n\\n```javascript\\n// (add 21 (subtract 4 2))\\n[\\n  { type: \'paren\', value: \'(\', loc: { start: 0, end: 1 } },\\n  { type: \'name\', value: \'add\', loc: { start: 1, end: 4 } },\\n  { type: \'number\', value: \'21\', loc: { start: 5, end: 7 } },\\n  { type: \'paren\', value: \'(\', loc: { start: 8, end: 9 } },\\n  { type: \'name\', value: \'subtract\', loc: { start: 9, end: 17 } },\\n  { type: \'number\', value: \'4\', loc: { start: 18, end: 19 } },\\n  { type: \'number\', value: \'2\', loc: { start: 20, end: 21 } },\\n  { type: \'paren\', value: \')\', loc: { start: 21, end: 22 } },\\n  { type: \'paren\', value: \')\', loc: { start: 22, end: 23 } }\\n]\\n```\\n\\n#### 2.2 parser","isLeaf":true},{"key":"/Babel/05-acorn/01.md","path":"/Babel/05-acorn/01.md","route":"/Babel/05-acorn/01.md","leaf":true,"title":"01","depth":2,"content":"---\\ntitle: \u7b80\u6613\u8868\u8fbe\u5f0f\\ntags: acornjs\\n---\\n\\n### 1. \u6761\u4ef6\u8868\u8fbe\u5f0f Condition\\n\\n```javascript\\na = b ? 1 : 2 + 1  // =>  a = b ? 1 : (2 + 1)\\n```\\n\\n### 2. \u8d4b\u503c\u8868\u8fbe\u5f0f Assign\\n\\n```javascript\\na == b ? 1 : 2 + 1 // => (a == b) ? 1 : (2+1)\\na += b ? 1 : 0     // => a += (b ? 1 : 0 )\\n```\\n\\n### 3. \u66f4\u65b0\u8868\u8fbe\u5f0f Update\\n\\n```javascript\\na++\\na--\\n```\\n\\n### 4. \u903b\u8f91\u8fd0\u7b97\u7b26 Logical\\n\\n```javascript\\na || b\\na == b ? 1 : 2 + 1 // => (a == b) ? 1 : (2+1)\\n```\\n\\n### 5. \u4e00\u5143\u8fd0\u7b97\u7b26\\n\\n```javascript\\n-5\\n+5\\n```\\n\\n### 6. \u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7","isLeaf":true},{"key":"/Babel/05-acorn/02.md","path":"/Babel/05-acorn/02.md","route":"/Babel/05-acorn/02.md","leaf":true,"title":"02","depth":2,"content":"---\\ntitle: acorn \u89e3\u6790\\ntags: acornjs\\n---\\n\\n## 1. \u57fa\u7840\u7c7b\u548c\u63a5\u53e3\\n\\n### 1.1 Node\\n\\n\u6240\u6709\u8282\u70b9\u7c7b\u578b\u90fd\u5b9e\u73b0\u4ee5\u4e0b\u63a5\u53e3\uff1a\\n\\n```typescript\\ninterface Node {\\n  type: string; // AST\u53d8\u4f53\u7c7b\u578b\\n  start: number; // \u8d77\u59cb\u4f4d\u7f6e\\n  end: number; // \u7ed3\u675f\u4f4d\u7f6e\\n  range?: [number, number]; // [\u8d77\u59cb\u4f4d\u7f6e, \u7ed3\u675f\u4f4d\u7f6e]\\n  loc?: SourceLocation;\\n}\\n```\\n\\nloc\u5b57\u6bb5\u8868\u793a\u8282\u70b9\u7684\u4f4d\u7f6e\u4fe1\u606f\u3002\u5982\u679c\u89e3\u6790\u5668\u6ca1\u6709\u751f\u6210\u6709\u5173\u8282\u70b9\u6e90\u4f4d\u7f6e\u7684\u4fe1\u606f\uff0c\u5219\u8be5\u5b57\u6bb5\u4e3anull\u3002\u5426\u5219\u5b83\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u62ec\u4e00\u4e2a\u8d77\u59cb\u4f4d\u7f6e \u548c\u4e00\u4e2a\u7ed3\u675f\u4f4d\u7f6e\u3002\u6bcf\u4e2aPosition\u5bf9\u8c61\u7531\u4e00\u4e2aline\u6570\u5b57\uff081\u7d22\u5f15\uff09\u548c\u4e00\u4e2acolumn\u6570\u5b57\uff080\u7d22\u5f15\uff09\u7ec4\u6210\uff1a\\n\\n```typescript\\ninterface SourceLocation {\\n    start: Position;\\n    end: Position;\\n    source?: string | null;\\n}\\n```\\n\\n```typescript\\ninterface Position {\\n    line: number >= 1;\\n    column: number >= 0;\\n}\\n```\\n\\n### 1.2 Programs\\n\\n```typescript\\ninterface Program <: Node {\\n    type: \\"Program\\";\\n    sourceType: \'script\' | \'module\';\\n    body: StatementListItem[] | ModuleItem[];\\n}\\n```\\n\\n\u8868\u793a\u4e00\u4e2a\u5b8c\u6574\u7684\u6e90\u4ee3\u7801\u6811\u3002 <a name=\\"PB0xS\\"></a>\\n\\n## 2. \u811a\u672c\u548c\u6a21\u5757\\n\\n\u6e90\u4ee3\u7801\u6570\u7684\u6765\u6e90\u5305\u62ec\u4e24\u79cd\uff0c\u4e00\u79cd\u662fscript\u811a\u672c\uff0c\u4e00\u79cd\u662fmodules\u6a21\u5757\\n\\n- \u5f53\u4e3ascript\u65f6\uff0cbody\u4e3aStatementListItem\u3002\\n- \u5f53\u4e3amodules\u65f6\uff0cbody\u4e3aModuleItem\u3002\\n\\n\u7c7b\u578b StatementListItem \u548c ModuleItem \u7c7b\u578b\u5982\u4e0b\uff1a\\n\\n```typescript\\ntype StatementListItem = Declaration | Statement;\\ntype ModuleItem = ImportDeclaration | ExportDeclaration | StatementListItem;\\n```\\n\\n### 2.1 ImportDeclaration\\n\\nimport\u8bed\u6cd5\uff0c\u5bfc\u5165\u6a21\u5757\\n\\n```typescript\\ntype ImportDeclaration {\\n    type: \'ImportDeclaration\';\\n    specifiers: ImportSpecifier[];\\n    source: Literal;\\n}\\n```\\n\\nImportSpecifier\uff1a\\n\\n```typescript\\ninterface ImportSpecifier {\\n    type: \'ImportSpecifier\' | \'ImportDefaultSpecifier\' | \'ImportNamespaceSpecifier\';\\n    local: Identifier;\\n    imported?: Identifier;\\n}\\n```\\n\\n#### 2.1.1 ImportSpecifier\\n\\nimport \u90e8\u5206\u6a21\u5757\\n\\n```typescript\\nimport { foo } from \'./foo\';\\n```\\n\\n#### 2.1.2 ImportDefaultSpecifier\\n\\nimport default \u65b9\u5f0f\\n\\n```typescript\\nimport foo from \'./foo\';\\n```\\n\\n##### 2.1.3 ImportNamespaceSpecifier\\n\\n\u6a21\u5757\u91cd\u547d\u540d\\n\\n```typescript\\nimport * as foo from \'./foo\';\\n```\\n\\n### 2.2 ExportDeclaration\\n\\n```typescript\\ntype ExportDeclaration = ExportAllDeclaration | ExportDefaultDeclaration | ExportNamedDeclaration;\\n```\\n\\n#### 2.2.1 ExportAllDeclaration\\n\\n\u4ece\u6307\u5b9a\u6a21\u5757\u4e2d\u5bfc\u51fa\\n\\n```typescript\\ninterface ExportAllDeclaration {\\n    type: \'ExportAllDeclaration\';\\n    source: Literal;\\n}\\n```\\n\\n```typescript\\nexport * from \'./foo\';\\n```\\n\\n#### 2.2.2 ExportDefaultDeclaration\\n\\n\u5bfc\u51fa\u9ed8\u8ba4\u6a21\u5757\\n\\n```typescript\\ninterface ExportDefaultDeclaration {\\n    type: \'ExportDefaultDeclaration\';\\n    declaration: Identifier | BindingPattern | ClassDeclaration | Expression | FunctionDeclaration;\\n}\\n```\\n\\n```typescript\\nexport default \'foo\';\\n```\\n\\n#### 2.2.3 ExportNamedDeclaration\\n\\n\u5bfc\u51fa\u90e8\u5206\u6a21\u5757\\n\\n```typescript\\ninterface ExportNamedDeclaration {\\n    type: \'ExportNamedDeclaration\';\\n    declaration: ClassDeclaration | FunctionDeclaration | VariableDeclaration;\\n    specifiers: ExportSpecifier[];\\n    source: Literal;\\n}\\n```\\n\\n```typescript\\nexport const foo = \'foo\';\\n```\\n","isLeaf":true},{"key":"/Babel/05-acorn/03.md","path":"/Babel/05-acorn/03.md","route":"/Babel/05-acorn/03.md","leaf":true,"title":"03","depth":2,"content":"---\\ntitle: Declarations \u58f0\u660e\\ntags: acornjs\\nurl: https://www.yuque.com/gaollard/ubc1q5/wluqrk\\n---\\n\\n### 1. VariableDeclarator\\n\\n\u53d8\u91cf\u58f0\u660e\\n\\n```typescript\\ninterface VariableDeclaration <: Declaration {\\n    type: \\"VariableDeclaration\\";\\n    declarations: [ VariableDeclarator ];\\n    kind: \\"var\\" | \\"let\\" | \\"const\\";\\n}\\n```\\n\\nVariableDeclarator \u8868\u793a\u4e00\u4e2a\u53d8\u91cf\u58f0\u660e:\\n\\n```typescript\\ninterface VariableDeclarator {\\n  type: \\"VariableDeclarator\\";\\n  id: Identifier;\\n  init: Expression;\\n}\\n```\\n\\n```typescript\\nvar c = 30\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"VariableDeclarator\\",\\n  \\"start\\": 28,\\n  \\"end\\": 34,\\n  \\"id\\": {\\n    \\"type\\": \\"Identifier\\",\\n    \\"start\\": 28,\\n    \\"end\\": 29,\\n    \\"name\\": \\"c\\"\\n  },\\n  \\"init\\": {\\n    \\"type\\": \\"Literal\\",\\n    \\"start\\": 32,\\n    \\"end\\": 34,\\n    \\"value\\": 30,\\n    \\"raw\\": \\"30\\"\\n  }\\n}\\n```\\n\\n### 2. FunctionDeclaration\\n\\n\u51fd\u6570\u58f0\u660e\uff0c\u6ce8\u610f\u4e0e\u51fd\u6570\u8868\u8fbe\u5f0f\u7684\u533a\u522b\\n\\n```typescript\\ninterface FunctionDeclaration {\\n    type: \'FunctionDeclaration\';\\n    id: Identifier | null;\\n    params: FunctionParameter[];\\n    body: BlockStatement;\\n    generator: boolean;\\n    async: boolean;\\n    expression: false;\\n}\\n```\\n\\n```javascript\\n{\\n  \\"type\\": \\"Program\\",\\n  \\"start\\": 0,\\n  \\"end\\": 17,\\n  \\"body\\": [\\n    {\\n      \\"type\\": \\"ClassDeclaration\\",\\n      \\"start\\": 0,\\n      \\"end\\": 17,\\n      \\"id\\": {\\n        \\"type\\": \\"Identifier\\",\\n        \\"start\\": 6,\\n        \\"end\\": 12,\\n        \\"name\\": \\"Person\\"\\n      },\\n      \\"superClass\\": null,\\n      \\"body\\": {\\n        \\"type\\": \\"ClassBody\\",\\n        \\"start\\": 13,\\n        \\"end\\": 17,\\n        \\"body\\": []\\n      }\\n    }\\n  ],\\n  \\"sourceType\\": \\"module\\"\\n}\\n```\\n\\n####\\n\\n```javascript\\nclass Person extends Object {\\n\\tsleep() {}\\n}\\n```\\n\\n### 3. ClassDeclaration\\n\\n\u7c7b\u58f0\u660e\uff0c\u6ce8\u610f\u548c\u7c7b\u8868\u8fbe\u5f0f\u7684\u533a\u522b\\n\\n```typescript\\ninterface ClassDeclaration {\\n  type: \'ClassDeclaration\';\\n  id: Identifier | null;\\n  superClass: Identifier | null;\\n  body: ClassBody;\\n}\\n```\\n\\nClassBody \u7c7b\u4e3b\u4f53:\\n\\n```typescript\\ninterface ClassBody {\\n  type: \'ClassBody\';\\n  body: MethodDefinition[];\\n}\\n```\\n\\nMethodDefinition \u8868\u793a\u65b9\u6cd5\u5b9a\u4e49\uff1a\\n\\n```typescript\\ninterface MethodDefinition {\\n  type: \'MethodDefinition\';\\n  key: Expression | null;\\n  computed: boolean;\\n  value: FunctionExpression | null;\\n  kind: \'method\' | \'constructor\';\\n  static: boolean;\\n}\\n```\\n\\n```typescript\\nclass Fn {\\n  constructor() {}\\n  method() {}\\n};\\n```\\n","isLeaf":true},{"key":"/Babel/05-acorn/04.md","path":"/Babel/05-acorn/04.md","route":"/Babel/05-acorn/04.md","leaf":true,"title":"04","depth":2,"content":"---\\ntitle: Expressions \u8868\u8fbe\u5f0f\\ntags: acornjs\\nurl: https://www.yuque.com/gaollard/ubc1q5/slzv6w\\n---\\n\\nExpressions \u53ef\u7528\u7c7b\u578b\u5982\u4e0b\uff1a\\n\\n```typescript\\ntype Expression = ThisExpression | Identifier | Literal |\\n    ArrayExpression | ObjectExpression | FunctionExpression | ArrowFunctionExpression | ClassExpression |\\n    TaggedTemplateExpression | MemberExpression | Super | MetaProperty |\\n    NewExpression | CallExpression | UpdateExpression | AwaitExpression | UnaryExpression |\\n    BinaryExpression | LogicalExpression | ConditionalExpression |\\n    YieldExpression | AssignmentExpression | SequenceExpression;\\n```\\n\\nJS \u4e2d\u7684\u8868\u8fbe\u5f0f\u9664\u4e86\u5e38\u89c1\u7684\u8868\u8fbe\u5f0f\u5916\uff0c\u8fd8\u53ef\u4ee5\u662f\uff1a\\n\\n- Identifier \u6807\u8bc6\u7b26\\n- Literal \u5b57\u9762\u91cf\\n- Super\\n\\n### 1. ThisExpression\\n\\nthis \u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface ThisExpression {\\n  type: \\"ThisExpression\\";\\n}\\n```\\n\\n```typescript\\n(function(ctx){})(this);\\n```\\n\\n```typescript\\n{\\n  \\"type\\": \\"Program\\",\\n  \\"start\\": 0,\\n  \\"end\\": 29,\\n  \\"body\\": [\\n    {\\n      \\"type\\": \\"ExpressionStatement\\",\\n      \\"start\\": 0,\\n      \\"end\\": 29,\\n      \\"expression\\": {\\n        \\"type\\": \\"CallExpression\\",\\n        \\"start\\": 0,\\n        \\"end\\": 28,\\n        \\"callee\\": {\\n          \\"type\\": \\"FunctionExpression\\",\\n          \\"start\\": 5,\\n          \\"end\\": 20,\\n          \\"id\\": null,\\n          \\"expression\\": false,\\n          \\"generator\\": false,\\n          \\"async\\": false,\\n          \\"params\\": [\\n            {\\n              \\"type\\": \\"Identifier\\",\\n              \\"start\\": 14,\\n              \\"end\\": 17,\\n              \\"name\\": \\"ctx\\"\\n            }\\n          ],\\n          \\"body\\": {\\n            \\"type\\": \\"BlockStatement\\",\\n            \\"start\\": 18,\\n            \\"end\\": 20,\\n            \\"body\\": []\\n          }\\n        },\\n        \\"arguments\\": [\\n          {\\n            \\"type\\": \\"ThisExpression\\",\\n            \\"start\\": 23,\\n            \\"end\\": 27\\n          }\\n        ],\\n        \\"optional\\": false\\n      }\\n    }\\n  ],\\n  \\"sourceType\\": \\"module\\"\\n}\\n```\\n\\n### 2. Identifier\\n\\n\u6807\u8bc6\u7b26\uff0c\u6bd4\u5982\u53d8\u91cf\u540d\u3001\u51fd\u6570\u540d\\n\\n```typescript\\ninterface Identifier {\\n    type: \'Identifier\';\\n    name: string;\\n}\\n```\\n\\n### 3. Literal\\n\\n\u57fa\u7840\u7684\u5b57\u9762\u91cf\uff0c\u6bd4\u5982\\n\\n- \u5b57\u7b26\u4e32\\n- \u6570\u5b57\\n- \u5e03\u5c14\\n- \u6b63\u5219\\n\\n```typescript\\ninterface Literal {\\n    type: \'Literal\';\\n    value: boolean | number | string | RegExp | null;\\n    raw: string;\\n    regex?: { pattern: string, flags: string };\\n}\\n```\\n\\n```typescript\\nvar a = 10;\\nvar a = \'string\';\\nvar a = true;\\nvar a = /\\\\d/;\\n```\\n\\n\u6ce8\u610f\uff0c{} \u548c \\\\[] \u4e0d\u88ab\u5305\u62ec\u5728\u5185\uff0c\u4ed6\u4eec\u88ab\u5206\u522b\u62bd\u79bb\u4e3a ObjectExpression ArrayExpression <a name=\\"RL6b3\\"></a>\\n\\n### 4. ObjectExpression\\n\\n\u5bf9\u8c61\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface ObjectExpression {\\n    type: \'ObjectExpression\';\\n    properties: Property[];\\n}\\n```\\n\\nproperties\u4e3a\u5c5e\u6027\u5217\u8868\uff0cProperty \u8868\u793a\u4e3a\u5bf9\u8c61\u7684\u5c5e\u6027\u63cf\u8ff0\u3002\\n\\n```typescript\\ninterface Property {\\n    type: \'Property\';\\n    key: Expression;\\n    computed: boolean;\\n    value: Expression | null;\\n    kind: \'get\' | \'set\' | \'init\';\\n    method: false;\\n    shorthand: boolean;\\n}\\n```\\n\\n```typescript\\nvar a = {\\n\\tname: 1\\n}\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"ObjectExpression\\",\\n  \\"start\\": 8,\\n  \\"end\\": 20,\\n  \\"properties\\": [\\n    {\\n      \\"type\\": \\"Property\\",\\n      \\"start\\": 11,\\n      \\"end\\": 18,\\n      \\"method\\": false,\\n      \\"shorthand\\": false,\\n      \\"computed\\": false,\\n      \\"key\\": {\\n        \\"type\\": \\"Identifier\\",\\n        \\"start\\": 11,\\n        \\"end\\": 15,\\n        \\"name\\": \\"name\\"\\n      },\\n      \\"value\\": {\\n        \\"type\\": \\"Literal\\",\\n        \\"start\\": 17,\\n        \\"end\\": 18,\\n        \\"value\\": 1,\\n        \\"raw\\": \\"1\\"\\n      },\\n      \\"kind\\": \\"init\\"\\n    }\\n  ]\\n}\\n```\\n\\n\u6ce8\u610f\uff1a{} \u65e2\u53ef\u4ee5\u8868\u793a\u4e3a\u8868\u8fbe\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u8868\u793a\u4e3aStatement\u8bed\u53e5\uff0c\u9700\u8981\u7ed3\u5408\u8bed\u4e49\u3002 <a name=\\"H0ybq\\"></a>\\n\\n### 5. ArrayExpression\\n\\n\u6570\u7ec4\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface ArrayExpression {\\n    type: \'ArrayExpression\';\\n    elements: ArrayExpressionElement[];\\n}\\n```\\n\\nArrayExpressionElement:\\n\\n```typescript\\ntype ArrayExpressionElement = Expression | SpreadElement;\\n```\\n\\n### 6. SpreadElement\\n\\n\u6269\u5c55\u8fd0\u7b97\u7b26\\n\\n```typescript\\ninterface SpreadElement {\\n    type: \'SpreadElement\';\\n    argument: Expression;\\n}\\n```\\n\\n```typescript\\nvar a = [1, 2, ...list];\\nvar b = {foo: 2, ...obj};\\n```\\n\\n### 7. FunctionExpression\\n\\nFunctionExpress \u8868\u793a\u51fd\u6570\u8868\u8fbe\u5f0f\u3002\\n\\n```typescript\\ninterface FunctionExpression {\\n    type: \'FunctionExpression\';\\n    id: Identifier | null;\\n    params: FunctionParameter[];\\n    body: BlockStatement;\\n    generator: boolean;\\n    async: boolean;\\n    expression: boolean;\\n}\\n```\\n\\n\u5728\u4e0b\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u7b49\u53f7\u53f3\u8fb9\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u8868\u8fbe\u5f0f:\\n\\n```typescript\\nvar fn = function(){}\\nvar fn = function Person(){}\\n```\\n\\n\u8bf7\u6ce8\u610f\u51fd\u6570\u58f0\u660e\u548c\u51fd\u6570\u8868\u8fbe\u5f0f\u7684\u533a\u522b\u3002 <a name=\\"l647H\\"></a>\\n\\n### 8. ArrowFunctionExpression\\n\\n\u7bad\u5934\u51fd\u6570\u3002\\n\\n```typescript\\ninterface ArrowFunctionExpression {\\n    type: \'ArrowFunctionExpression\';\\n    id: Identifier | null;\\n    params: FunctionParameter[];\\n    body: BlockStatement | Expression;\\n    generator: boolean;\\n    async: boolean;\\n    expression: false;\\n}\\n```\\n\\n```typescript\\ntype FunctionParameter = AssignmentPattern | Identifier | BindingPattern;\\n```\\n\\n### 9. TaggedTemplateExpression\\n\\n### 10. MemberExpression\\n\\n\u5c5e\u6027\u6210\u5458\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface MemberExpression {\\n    type: \'MemberExpression\';\\n    computed: boolean;\\n    object: Expression;\\n    property: Expression;\\n}\\n```\\n\\n```typescript\\nconst foo = {bar: \'bar\'};\\nfoo.bar; // // computed \u4e3a false\\nfoo[\'bar\']; // computed \u4e3a true\\n```\\n\\n### 11. Super\\n\\n\u7236\u7c7b\u5173\u952e\u5b57\\n\\n```typescript\\ninterface Super {\\n    type: \'Super\';\\n}\\n```\\n\\n```typescript\\nclass Male extends Person {\\n    constructor() {\\n        super();\\n    }\\n}\\n```\\n\\n### 12. MetaProperty\\n\\nimport.meta \u662f\u4e00\u4e2a\u7ed9JavaScript\u6a21\u5757\u66b4\u9732\u7279\u5b9a\u4e0a\u4e0b\u6587\u7684\u5143\u6570\u636e\u5c5e\u6027\u7684\u5bf9\u8c61\u3002\u5b83\u5305\u542b\u4e86\u8fd9\u4e2a\u6a21\u5757\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\u8bf4\u8fd9\u4e2a\u6a21\u5757\u7684URL\u3002\\n\\n```typescript\\ninterface MetaProperty {\\n    type: \'MetaProperty\';\\n    meta: Identifier;\\n    property: Identifier;\\n}\\n```\\n\\n```typescript\\nimport.meta\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"Program\\",\\n  \\"start\\": 0,\\n  \\"end\\": 11,\\n  \\"body\\": [\\n    {\\n      \\"type\\": \\"ExpressionStatement\\",\\n      \\"start\\": 0,\\n      \\"end\\": 11,\\n      \\"expression\\": {\\n        \\"type\\": \\"MetaProperty\\",\\n        \\"start\\": 0,\\n        \\"end\\": 11,\\n        \\"meta\\": {\\n          \\"type\\": \\"Identifier\\",\\n          \\"start\\": 0,\\n          \\"end\\": 6,\\n          \\"name\\": \\"import\\"\\n        },\\n        \\"property\\": {\\n          \\"type\\": \\"Identifier\\",\\n          \\"start\\": 7,\\n          \\"end\\": 11,\\n          \\"name\\": \\"meta\\"\\n        }\\n      }\\n    }\\n  ],\\n  \\"sourceType\\": \\"module\\"\\n}\\n```\\n\\n### 13. ClassExpression\\n\\n\u7c7b\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface ClassExpression {\\n    type: \'ClassExpression\';\\n    id: Identifier | null;\\n    superClass: Identifier | null;\\n    body: ClassBody;\\n}\\n```\\n\\n```typescript\\nvar Fn = class {\\n    constructor() {}\\n    method() {}\\n};\\n```\\n\\n### 14. NewExpression\\n\\nnew \u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface NewExpression {\\n    type: \'NewExpression\';\\n    callee: Expression;\\n    arguments: ArgumentListElement[];\\n}\\n```\\n\\n```typescript\\nnew Person(name)\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"NewExpression\\",\\n  \\"start\\": 0,\\n  \\"end\\": 16,\\n  \\"callee\\": {\\n    \\"type\\": \\"Identifier\\",\\n    \\"start\\": 4,\\n    \\"end\\": 10,\\n    \\"name\\": \\"Person\\"\\n  },\\n  \\"arguments\\": [\\n    {\\n      \\"type\\": \\"Identifier\\",\\n      \\"start\\": 11,\\n      \\"end\\": 15,\\n      \\"name\\": \\"name\\"\\n    }\\n  ]\\n}\\n```\\n\\n### 15. CallExpression\\n\\n\u51fd\u6570\u8c03\u7528\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface CallExpression {\\n    type: \'CallExpression\';\\n    callee: Expression | Import;\\n    arguments: ArgumentListElement[];\\n}\\n```\\n\\nImport \u7684\u573a\u666f\uff1a\\n\\n```typescript\\n(import(\'\'))()\\n```\\n\\n```typescript\\ninterface Import {\\n    type: \'Import\'\\n}\\n```\\n\\nArgumentListElement \u7c7b\u578b:\\n\\n```typescript\\ntype ArgumentListElement = Expression | SpreadElement;\\n```\\n\\n### 15. UpdateExpression\\n\\n\u66f4\u65b0\u64cd\u4f5c\u7b26\u8868\u8fbe\u5f0f\uff0c\u5982 `++`\u3001`--`;\\n\\n```typescript\\ninterface UpdateExpression {\\n  type: \\"UpdateExpression\\";\\n  operator: \'++\' | \'--\';\\n  argument: Expression;\\n  prefix: boolean;\\n}\\n```\\n\\n```typescript\\nvar a = 0;\\na++;\\n++a; // prefix\u4e3atrue\\n```\\n\\n### 16. AwaitExpression\\n\\nawait\u8868\u8fbe\u5f0f\uff0c\u4e0e async \u4e00\u8d77\u4f7f\u7528\\n\\n```typescript\\ninterface AwaitExpression {\\n    type: \'AwaitExpression\';\\n    argument: Expression;\\n}\\n```\\n\\n```typescript\\nasync function slepp() {\\n\\tawait fn()\\n}\\n```\\n\\n```typescript\\n{\\n  \\"type\\": \\"AwaitExpression\\",\\n  \\"start\\": 26,\\n  \\"end\\": 36,\\n  \\"argument\\": {\\n    \\"type\\": \\"CallExpression\\",\\n    \\"start\\": 32,\\n    \\"end\\": 36,\\n    \\"callee\\": {\\n      \\"type\\": \\"Identifier\\",\\n      \\"start\\": 32,\\n      \\"end\\": 34,\\n      \\"name\\": \\"fn\\"\\n    },\\n    \\"arguments\\": [],\\n    \\"optional\\": false\\n  }\\n}\\n```\\n\\n### 17. UnaryExpression\\n\\n\u4e00\u5143\u64cd\u4f5c\u7b26\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface UnaryExpression {\\n  type: \\"UnaryExpression\\";\\n  operator: UnaryOperator;\\n  prefix: boolean;\\n  argument: Expression;\\n}\\n```\\n\\nUnaryOperator:\\n\\n```typescript\\nenum UnaryOperator {\\n  \\"-\\" | \\"+\\" | \\"!\\" | \\"~\\" | \\"typeof\\" | \\"void\\" | \\"delete\\" | \\"throw\\"\\n}\\n```\\n\\n### 18. BinaryExpression\\n\\n\u4e8c\u5143\u64cd\u4f5c\u7b26\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface BinaryExpression {\\n    type: \'BinaryExpression\';\\n    operator: BinaryOperator;\\n    left: Expression;\\n    right: Expression;\\n}\\n```\\n\\nBinaryOperator:\\n\\n```typescript\\nenum BinaryOperator {\\n  \\"==\\" | \\"!=\\" | \\"===\\" | \\"!==\\"\\n     | \\"<\\" | \\"<=\\" | \\">\\" | \\">=\\"\\n     | \\"<<\\" | \\">>\\" | \\">>>\\"\\n     | \\"+\\" | \\"-\\" | \\"*\\" | \\"/\\" | \\"%\\"\\n     | \\"**\\" | \\"|\\" | \\"^\\" | \\"&\\" | \\"in\\"\\n     | \\"instanceof\\"\\n     | \\"|>\\"\\n}\\n```\\n\\n### 19. LogicalExpression\\n\\n\u903b\u8f91\u8fd0\u7b97\u7b26\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface LogicalExpression {\\n    type: \'LogicalExpression\';\\n    operator: \'||\' | \'&&\';\\n    left: Expression;\\n    right: Expression;\\n}\\n```\\n\\n```typescript\\nvar a = \'-\';\\nvar b = a || \'-\';\\nvar c = a && b || 1\\n```\\n\\n### 20. ConditionalExpression\\n\\n\u6761\u4ef6\u8fd0\u7b97\u7b26\\n\\n```typescript\\ninterface ConditionalExpression {\\n    type: \'ConditionalExpression\';\\n    test: Expression;\\n    consequent: Expression;\\n    alternate: Expression;\\n}\\n```\\n\\n```typescript\\nvar a = 1 ? \'consequent\' : \'alternate\';\\n```\\n\\n### 21. YieldExpression\\n\\nyield\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface YieldExpression {\\n    type: \'YieldExpression\';\\n    argument: Expression | null;\\n    delegate: boolean;\\n}\\n```\\n\\n```typescript\\nfunction* gen(x) {\\n  return yield x + 1;\\n}\\n```\\n\\n### 22. AssignmentExpression\\n\\n\u8d4b\u503c\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface AssignmentExpression {\\n    type: \'AssignmentExpression\';\\n    operator: \'=\' | \'*=\' | \'**=\' | \'/=\' | \'%=\' | \'+=\' | \'-=\' |\\n        \'<<=\' | \'>>=\' | \'>>>=\' | \'&=\' | \'^=\' | \'|=\';\\n    left: Expression;\\n    right: Expression;\\n}\\n```\\n\\n### 23. SequenceExpression\\n\\n\u4f7f\u7528\u9017\u53f7\u7684\u5e8f\u5217\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface SequenceExpression {\\n  type: \'SequenceExpression\';\\n  expressions: Expression[];\\n}\\n```\\n\\n```typescript\\na = 1, b = 2;\\n```\\n","isLeaf":true},{"key":"/Babel/05-acorn/05.md","path":"/Babel/05-acorn/05.md","route":"/Babel/05-acorn/05.md","leaf":true,"title":"05","depth":2,"content":"---\\ntitle: Statement \u8bed\u53e5\\ntags: acornjs\\n---\\n\\nJS \u89c4\u8303\u53ef\u4ee5\u53c2\u8003 <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference>\\nstatements\uff0c\u5373\u8bed\u53e5\uff0c\u7c7b\u578b\u5982\u4e0b\uff1a\\n\\n```typescript\\ntype Statement = BlockStatement | BreakStatement | ContinueStatement |\\n    DebuggerStatement | DoWhileStatement | EmptyStatement |\\n    ExpressionStatement | ForStatement | ForInStatement |\\n    ForOfStatement | FunctionDeclaration | IfStatement |\\n    LabeledStatement | ReturnStatement | SwitchStatement |\\n    ThrowStatement | TryStatement | VariableDeclaration |\\n    WhileStatement | WithStatement;\\n```\\n\\n### 1. BlockStatement\\n\\n\u8868\u793a\u4e00\u4e2a\u4f5c\u7528\u57df\u5757\u3002\\n\\n```typescript\\ninterface BlockStatement {\\n    type: \'BlockStatement\';\\n    body: Statement[];\\n}\\n```\\n\\n```typescript\\n{}\\n```\\n\\n```typescript\\n{\\n  \\"type\\": \\"BlockStatement\\",\\n  \\"start\\": 0,\\n  \\"end\\": 2,\\n  \\"body\\": []\\n}\\n```\\n\\n<a name=\\"ylwvh\\"></a>\\n\\n### 2. IfStatement\\n\\nIfStatement \u7528\u4e8e\u8868\u793a if \u8bed\u53e5\\n\\n```typescript\\ninterface IfStatement {\\n    type: \'IfStatement\';\\n    test: Expression;\\n    consequent: Statement;\\n    alternate?: Statement;\\n}\\n```\\n\\n```typescript\\nif (a > b) {}\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"IfStatement\\",\\n  \\"start\\": 0,\\n  \\"end\\": 13,\\n  \\"test\\": {\\n    \\"type\\": \\"BinaryExpression\\",\\n    \\"start\\": 4,\\n    \\"end\\": 9,\\n    \\"left\\": {\\n      \\"type\\": \\"Identifier\\",\\n      \\"start\\": 4,\\n      \\"end\\": 5,\\n      \\"name\\": \\"a\\"\\n    },\\n    \\"operator\\": \\">\\",\\n    \\"right\\": {\\n      \\"type\\": \\"Identifier\\",\\n      \\"start\\": 8,\\n      \\"end\\": 9,\\n      \\"name\\": \\"b\\"\\n    }\\n  },\\n  \\"consequent\\": {\\n    \\"type\\": \\"BlockStatement\\",\\n    \\"start\\": 11,\\n    \\"end\\": 13,\\n    \\"body\\": []\\n  },\\n  \\"alternate\\": null\\n}\\n```\\n\\n<a name=\\"lkIih\\"></a>\\n\\n### 3. ReturnStatement\\n\\nReturenStatement \u7528\u4e8e\u8868\u793a return \u8bed\u53e5\\n\\n```typescript\\ninterface ReturnStatement {\\n    type: \'ReturnStatement\';\\n    argument: Expression | null;\\n}\\n```\\n\\n```typescript\\nfunction sleep() {\\n\\treturn 10;\\n}\\n```\\n\\n```typescript\\n{\\n  \\"type\\": \\"ReturnStatement\\",\\n  \\"start\\": 20,\\n  \\"end\\": 30,\\n  \\"argument\\": {\\n    \\"type\\": \\"Literal\\",\\n    \\"start\\": 27,\\n    \\"end\\": 29,\\n    \\"value\\": 10,\\n    \\"raw\\": \\"10\\"\\n  }\\n}\\n```\\n\\n### 4. SwitchStatement\\n\\nSwitchStatement \u7528\u4e8e\u8868\u793a switch \u8bed\u53e5\u3002\\n\\n```typescript\\ninterface SwitchStatement {\\n    type: \'SwitchStatement\';\\n    discriminant: Expression;\\n    cases: SwitchCase[];\\n}\\n```\\n\\n```typescript\\nswitch(b) {\\n  case 10:\\n    console.log(10);\\n    break;\\n  case 20:\\n    console.log(20);\\n    break;\\n  default:\\n    console.log(\\"default\\")\\n}\\n```\\n\\n![20230608110506](http://s3.airtlab.com/blog/20230608110506.png)\\n\\n### 5. WhileStatement\\n\\nwhile \u8bed\u53e5\u3002\\n\\n```typescript\\ninterface WhileStatement {\\n    type: \'WhileStatement\';\\n    test: Expression;\\n    body: Statement;\\n}\\n```\\n\\n<a name=\\"zxenD\\"></a>\\n\\n### 6. BreakStatement\\n\\nbreak \u8bed\u53e5\u3002\\n\\n```typescript\\n{\\n   \\"type\\": \\"BreakStatement\\",\\n   \\"label\\": null | string\\n}\\n```\\n\\n```typescript\\nfor(;;){\\n\\tbreak;\\n}\\n```\\n\\n<a name=\\"pjLpI\\"></a>\\n\\n### 7. ContinueStatement\\n\\ncontinue \u8bed\u53e5\u3002\\n\\n```typescript\\n{\\n   \\"type\\": \\"ContinueStatement\\",\\n   \\"label\\": null | string\\n}\\n```\\n\\n```typescript\\nfor(;;){\\n\\tcontinue;\\n}\\n```\\n\\n<a name=\\"regOL\\"></a>\\n\\n### 8. DebuggerStatement\\n\\ndebugger \u8bed\u53e5\u3002\\n\\n```typescript\\n{\\n   \\"type\\": \\"DebuggerStatement\\"\\n}\\n```\\n\\n```typescript\\ndebugger;\\n```\\n\\n<a name=\\"i63zx\\"></a>\\n\\n### 9. DoWhileStatement\\n\\n```json\\ninterface DoWhileStatement {\\n    type: \'DoWhileStatement\';\\n    body: Statement;\\n    test: Expression;\\n}\\n```\\n\\n```typescript\\ndo {} while(1)\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"DoWhileStatement\\",\\n  \\"start\\": 0,\\n  \\"end\\": 14,\\n  \\"body\\": {\\n    \\"type\\": \\"BlockStatement\\",\\n    \\"start\\": 3,\\n    \\"end\\": 5,\\n    \\"body\\": []\\n  },\\n  \\"test\\": {\\n    \\"type\\": \\"Literal\\",\\n    \\"start\\": 12,\\n    \\"end\\": 13,\\n    \\"value\\": 1,\\n    \\"raw\\": \\"1\\"\\n  }\\n}\\n```\\n\\n<a name=\\"RK0TE\\"></a>\\n\\n### 10. EmptyStatement\\n\\n\u7a7a\u8bed\u53e5\u3002\\n\\n```typescript\\ninterface EmptyStatement {\\n  type: \\"EmptyStatement\\"\\n}\\n```\\n\\n```typescript\\n;\\n```\\n\\n<a name=\\"yuv0l\\"></a>\\n\\n### 11. ExpressionStatement\\n\\n\u8868\u8fbe\u5f0f\u8bed\u53e5\u3002\\n\\n```typescript\\ninterface ExpressionStatement {\\n  type: \\"ExpressionStatement\\";\\n  expression: Expression\\n}\\n```\\n\\n```typescript\\n(function() {})\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"ExpressionStatement\\",\\n  \\"start\\": 0,\\n  \\"end\\": 15,\\n  \\"expression\\": {\\n    \\"type\\": \\"FunctionExpression\\",\\n    \\"start\\": 1,\\n    \\"end\\": 14,\\n    \\"id\\": null,\\n    \\"expression\\": false,\\n    \\"generator\\": false,\\n    \\"async\\": false,\\n    \\"params\\": [],\\n    \\"body\\": {\\n      \\"type\\": \\"BlockStatement\\",\\n      \\"start\\": 12,\\n      \\"end\\": 14,\\n      \\"body\\": []\\n    }\\n  }\\n}\\n```\\n\\n<a name=\\"NzoXy\\"></a>\\n\\n### 12. ForStatement\\n\\n```typescript\\ninterface ForStatement {\\n    type: \'ForStatement\';\\n    init: Expression | VariableDeclaration | null; // \u521d\u59cb\u5316\\n    test: Expression | null; // \u4e2d\u95f4\u6761\u4ef6\\n    update: Expression | null; // \u8fed\u4ee3\u6b65\u9aa4\\n    body: Statement; // \u4e3b\u4f53\\n}\\n```\\n\\n<a name=\\"CtOnX\\"></a>\\n\\n### 13. ForInStatement\\n\\nfor...in.. \u8bed\u53e5\\n\\n```typescript\\ninterface ForInStatement {\\n    type: \'ForInStatement\';\\n    left: Expression;\\n    right: Expression;\\n    body: Statement;\\n}\\n```\\n\\n```typescript\\nfor(let i in a) {}\\n```\\n\\n```typescript\\n{\\n  \\"type\\": \\"ForInStatement\\",\\n  \\"start\\": 0,\\n  \\"end\\": 18,\\n  \\"left\\": {\\n    \\"type\\": \\"VariableDeclaration\\",\\n    \\"start\\": 4,\\n    \\"end\\": 9,\\n    \\"declarations\\": [\\n      {\\n        \\"type\\": \\"VariableDeclarator\\",\\n        \\"start\\": 8,\\n        \\"end\\": 9,\\n        \\"id\\": {\\n          \\"type\\": \\"Identifier\\",\\n          \\"start\\": 8,\\n          \\"end\\": 9,\\n          \\"name\\": \\"i\\"\\n        },\\n        \\"init\\": null\\n      }\\n    ],\\n    \\"kind\\": \\"let\\"\\n  },\\n  \\"right\\": {\\n    \\"type\\": \\"Identifier\\",\\n    \\"start\\": 13,\\n    \\"end\\": 14,\\n    \\"name\\": \\"a\\"\\n  },\\n  \\"body\\": {\\n    \\"type\\": \\"BlockStatement\\",\\n    \\"start\\": 16,\\n    \\"end\\": 18,\\n    \\"body\\": []\\n  }\\n}\\n```\\n\\n<a name=\\"RXXqj\\"></a>\\n\\n### 14. ForOfStatement\\n\\nfor...of \u8bed\u53e5\\n\\n```typescript\\ninterface ForOfStatement {\\n    type: \'ForOfStatement\';\\n    left: Expression;\\n    right: Expression;\\n    body: Statement;\\n}\\n```\\n\\n<a name=\\"z65t9\\"></a>\\n\\n### 15. ThrowStatement\\n\\nthrow \u8bed\u53e5\\n\\n```typescript\\ninterface ThrowStatement {\\n  type: \\"ThrowStatement\\",\\n  argument: S\\n}\\n```\\n\\n```typescript\\n// throw expression;\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"ThrowStatement\\",\\n  \\"start\\": 0,\\n  \\"end\\": 12,\\n  \\"argument\\": {\\n    \\"type\\": \\"Literal\\",\\n    \\"start\\": 6,\\n    \\"end\\": 11,\\n    \\"value\\": \\"err\\",\\n    \\"raw\\": \\"\\\\\\"err\\\\\\"\\"\\n  }\\n}\\n```\\n\\n<a name=\\"vttj4\\"></a>\\n\\n### 16. TryStatement\\n\\ntry...catch... \u8bed\u53e5\\n\\n```typescript\\ninterface TryStatement {\\n    type: \'TryStatement\';\\n    block: BlockStatement;\\n    handler: CatchClause | null;\\n    finalizer: BlockStatement | null;\\n}\\n```\\n\\n```typescript\\ntry {}catch (e) {}\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"TryStatement\\",\\n  \\"start\\": 0,\\n  \\"end\\": 18,\\n  \\"block\\": {\\n    \\"type\\": \\"BlockStatement\\",\\n    \\"start\\": 4,\\n    \\"end\\": 6,\\n    \\"body\\": []\\n  },\\n  \\"handler\\": {\\n    \\"type\\": \\"CatchClause\\",\\n    \\"start\\": 6,\\n    \\"end\\": 18,\\n    \\"param\\": {\\n      \\"type\\": \\"Identifier\\",\\n      \\"start\\": 13,\\n      \\"end\\": 14,\\n      \\"name\\": \\"e\\"\\n    },\\n    \\"body\\": {\\n      \\"type\\": \\"BlockStatement\\",\\n      \\"start\\": 16,\\n      \\"end\\": 18,\\n      \\"body\\": []\\n    }\\n  },\\n  \\"finalizer\\": null\\n}\\n```\\n\\n<a name=\\"on7Fu\\"></a>\\n\\n### 17. WithStatement\\n\\nwith\u8bed\u53e5\uff08\u6307\u5b9a\u5757\u8bed\u53e5\u7684\u4f5c\u7528\u57df\uff09\\n\\n```typescript\\ninterface WithStatement {\\n    type: \'WithStatement\';\\n    object: Expression;\\n    body: Statement;\\n}\\n```\\n","isLeaf":true}]}]},{"key":"/Elasticsearch","path":"/Elasticsearch","route":"/Elasticsearch","leaf":false,"title":"Elasticsearch","depth":0,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/01-\u4ecb\u7ecd\u548c\u5e94\u7528\u573a\u666f","path":"/Elasticsearch/01-\u4ecb\u7ecd\u548c\u5e94\u7528\u573a\u666f","route":"/Elasticsearch/01-\u4ecb\u7ecd\u548c\u5e94\u7528\u573a\u666f","leaf":false,"title":"01-\u4ecb\u7ecd\u548c\u5e94\u7528\u573a\u666f","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/01-\u4ecb\u7ecd\u548c\u5e94\u7528\u573a\u666f/01-\u6982\u8ff0.md","path":"/Elasticsearch/01-\u4ecb\u7ecd\u548c\u5e94\u7528\u573a\u666f/01-\u6982\u8ff0.md","route":"/Elasticsearch/01-\u4ecb\u7ecd\u548c\u5e94\u7528\u573a\u666f/01-\u6982\u8ff0.md","leaf":true,"title":"01-\u6982\u8ff0","depth":2,"content":"---\\ntitle: 01-\u6982\u8ff0\\n---\\n\\nElasticsearch\uff08\u7b80\u79f0ES\uff09\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u3001\u9ad8\u6269\u5c55\u7684\u3001\u5206\u5e03\u5f0f\u7684\u3001\u63d0\u4f9b\u591a\u7528\u6237\u80fd\u529b\u7684\u5168\u6587\u641c\u7d22\u5f15\u64ce\uff0c\u4e5f\u662f\u4e00\u4e2a\u57fa\u4e8eLucene \u641c\u7d22\u7684\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u8fd1\u4e4e\u5b9e\u65f6\u5730\u5b58\u50a8\u548c\u641c\u7d22\u6570\u636e\u3002\\n\\n> \u53ea\u80fd\u662f\u63a5\u8fd1\u5b9e\u65f6\uff0c\u9ed8\u8ba4\u67091\u79d2\u7684\u5ef6\u8fdf(\u53ef\u901a\u8fc7API\u5237\u65b0)\\n","isLeaf":true},{"key":"/Elasticsearch/01-\u4ecb\u7ecd\u548c\u5e94\u7528\u573a\u666f/02-\u5e94\u7528\u573a\u666f.md","path":"/Elasticsearch/01-\u4ecb\u7ecd\u548c\u5e94\u7528\u573a\u666f/02-\u5e94\u7528\u573a\u666f.md","route":"/Elasticsearch/01-\u4ecb\u7ecd\u548c\u5e94\u7528\u573a\u666f/02-\u5e94\u7528\u573a\u666f.md","leaf":true,"title":"02-\u5e94\u7528\u573a\u666f","depth":2,"content":"---\\ntitle: 02-\u4e3b\u8981\u529f\u80fd\u548c\u5e94\u7528\u573a\u666f\\nurl: https://www.yuque.com/gaollard/efekv4/hbu362\\n---\\n\\n\\n\\n### 1. \u4e3b\u8981\u529f\u80fd\\n\\n1\uff09\u6d77\u91cf\u6570\u636e\u7684\u5206\u5e03\u5f0f\u5b58\u50a8\u4ee5\u53ca\u96c6\u7fa4\u7ba1\u7406\uff0c\u80fd\u8fbe\u5230\u670d\u52a1\u4e0e\u6570\u636e\u7684\u9ad8\u53ef\u7528\u4ee5\u53ca\u7cfb\u7edf\u67b6\u6784\u7684\u6c34\u5e73\u6269\u5c55\u3002\\n2\uff09\u8fd1\u5b9e\u65f6\u7684\u6570\u636e\u641c\u7d22\u80fd\u529b\uff0c\u80fd\u591f\u5bf9\u7ed3\u6784\u5316\u6570\u636e\u3001\u5168\u6587\u6570\u636e\u3001\u5730\u7406\u4f4d\u7f6e\u7b49\u7c7b\u578b\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\u548c\u5206\u6790\u3002\\n3\uff09\u6d77\u91cf\u6570\u636e\u7684\u5b9e\u65f6\u5206\u6790\u529f\u80fd\u548c\u5404\u79cd\u5f3a\u5927\u7684\u805a\u5408\u529f\u80fd\u3002 \\n\\n### 2. \u5e94\u7528\u573a\u666f\\n\\nElasticsearch\u7684\u4e3b\u8981\u5e94\u7528\u573a\u666f\u5982\u4e0b\uff1a\\n1\uff09\u7f51\u7ad9\u641c\u7d22\u3001\u4ee3\u7801\u641c\u7d22\u7b49\u3002\\n2\uff09\u65e5\u5fd7\u7ba1\u7406\u3001\u65e5\u5fd7\u5206\u6790\u3001\u65e5\u5fd7\u5b89\u5168\u6307\u6807\u76d1\u63a7\u3001\u5e94\u7528\u6027\u80fd\u76d1\u63a7\u3001Web\u6293\u53d6\u8206\u60c5\u5206\u6790\u7b49\u3002\\n3\uff09\u5229\u7528Elasticsearch\u7684\u9ad8\u6027\u80fd\u548c\u5206\u5e03\u5f0f\u90e8\u7f72\u7279\u5f81\uff0c\u53ef\u4ee5\u5bf9\u6d77\u91cf\u7684\u4e1a\u52a1\u8ba2\u5355\u6570\u636e\u8fdb\u884c\u5206\u6790\u548c\u5904\u7406\uff0c\u8fd8\u80fd\u5229\u7528Elasticsearch\u7684\u805a\u5408\u51fd\u6570\u548c\u5206\u6790\u80fd\u529b\u7edf\u8ba1\u51fa\u5404\u79cd\u5404\u6837\u7684\u6570\u636e\u62a5\u8868\u3002 \\n\\n### 3. ELK\\n\\nElasticsearch\u662f\u4e0eLogstash\uff08\u6570\u636e\u6536\u96c6\u548c\u65e5\u5fd7\u89e3\u6790\u5f15\u64ce\uff09\u548cKibana\uff08\u6570\u636e\u5206\u6790\u548c\u53ef\u89c6\u5316\u5e73\u53f0\uff09\u4e00\u8d77\u5f00\u53d1\u7684\uff0c\u8fd93\u4e2a\u4ea7\u54c1\u88ab\u8bbe\u8ba1\u6210\u4e00\u4e2a\u96c6\u6210\u7684\u89e3\u51b3\u65b9\u6848\uff08ELK\uff09\uff0c\u88ab\u5e7f\u6cdb\u8fd0\u7528\u4e8e\u5927\u6570\u636e\u8fd1\u5b9e\u65f6\u5206\u6790\u9886\u57df\uff0c\u5305\u62ec\u65e5\u5fd7\u5206\u6790\u3001\u6307\u6807\u76d1\u63a7\u3001\u4fe1\u606f\u5b89\u5168\u7b49\\n![image.png](https://s3.airtlab.com/elasticsearch/1654416514292-9d547b27-9b78-4ae2-adfa-0c94c2b68d78.png) \\n\\n### 4. ELK + Beats\\n\\n![image.png](https://s3.airtlab.com/elasticsearch/1654416594003-938a09e5-5276-47a8-9487-9d7c2b41f6c7.png)\\nBeats\u7ed3\u5408Logstash\u5e26\u6765\u7684\u4f18\u52bf\u5982\u4e0b\uff1a\\n1\uff09Beats\u548cLogstash\u7ed3\u5408\u53ef\u4ee5\u5b9e\u73b0\u8282\u70b9\u4e4b\u95f4\u7684\u8d1f\u8f7d\u5747\u8861\u3002\\n2\uff09Logstash\u7ed3\u5408\u4f7f\u7528Beats\u6216Winlogbeat\u8fdb\u884c\u65e5\u5fd7\u6536\u96c6\u65f6\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u81f3\u5c11\u4e00\u6b21\u4ea4\u4ed8\uff0c\u800c\u4e14Logstash\u6301\u4e45\u961f\u5217\u63d0\u4f9b\u8de8\u8282\u70b9\u6545\u969c\u7684\u4fdd\u62a4\u3002\\n3\uff09\u6570\u636e\u4eceBeats\u4f20\u8f93\u5230Logstash\u548c\u4eceLogstash\u4f20\u8f93\u5230Elasticsearch\u90fd\u53ef\u4ee5\u4f7f\u7528\u52a0\u5bc6\u65b9\u5f0f\uff0c\u4fdd\u8bc1\u4e86\u6570\u636e\u7684\u5b89\u5168\u6027\u3002 \\n\\n### 5. MQ + ELK + Beats\\n\\n![image.png](https://s3.airtlab.com/elasticsearch/1654416693301-231cc3d7-79de-42e8-8751-aa0f5fa6da12.png)\\n\u7528\u6237\u53ef\u4ee5\u5728Beats\u548cLogstash\u4e2d\u95f4\u6dfb\u52a0\u8bf8\u5982Redis\u3001Kafka\u3001RabbitMQ\u7b49\u4e2d\u95f4\u4ef6\u3002\u6dfb\u52a0\u4e2d\u95f4\u4ef6\u4f1a\u7ed9\u7cfb\u7edf\u67b6\u6784\u5e26\u6765\u8bb8\u591a\u597d\u5904\uff0c\u6bd4\u5982\uff0c\u5f53\u6709\u5f88\u591a\u53f0\u673a\u5668\u9700\u8981\u8fdb\u884c\u65e5\u5fd7\u6536\u96c6\u65f6\uff0c\u8ba9\u6bcf\u53f0\u673a\u5668\u90fd\u5411Elasticsearch\u4e2d\u6301\u7eed\u5199\u5165\u6570\u636e\uff0c\u5fc5\u7136\u4f1a\u5bf9Elasticsearch\u9020\u6210\u538b\u529b\uff0c\u56e0\u6b64\u9700\u8981\u5bf9\u6570\u636e\u8fdb\u884c\u7f13\u51b2\u3002\u4f7f\u7528Redis\u3001Kafka\u3001RabbitMQ\u7b49\u4e2d\u95f4\u4ef6\u53ef\u4ee5\u5728\u6570\u636e\u5199\u5165\u65f6\u8d77\u5230\u7f13\u51b2\u4f5c\u7528\uff0c\u5e76\u4e14\u80fd\u591f\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u4fdd\u62a4\u6570\u636e\u4e0d\u4e22\u5931\u3002\\n","isLeaf":true}]},{"key":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c","path":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c","route":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c","leaf":false,"title":"02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/01-PUT\u521b\u5efa\u6216\u66ff\u6362\u6587\u6863.md","path":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/01-PUT\u521b\u5efa\u6216\u66ff\u6362\u6587\u6863.md","route":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/01-PUT\u521b\u5efa\u6216\u66ff\u6362\u6587\u6863.md","leaf":true,"title":"01-PUT\u521b\u5efa\u6216\u66ff\u6362\u6587\u6863","depth":2,"content":"---\\ntitle: 01-PUT\u521b\u5efa\u6216\u66ff\u6362\u6587\u6863\\nurl: https://www.yuque.com/gaollard/efekv4/qckve1\\n---\\n\\n\\n\\n### 1. \u4f7f\u7528\u8bed\u6cd5\\n\\n```shell\\n# id \u662f\u5fc5\u987b\u7684\\nPUT index/_doc/id\\n{\\n\\n}\\n```\\n\\n\\n\\n### 2. \u521b\u5efa\u6587\u6863\\n\\n![](https://s3.airtlab.com/elasticsearch/20220427121251.png)\\n\\n\\n\\n### 3. \u66ff\u6362\u6587\u6863\\n\\n![](https://s3.airtlab.com/elasticsearch/20220427121539.png)\\n","isLeaf":true},{"key":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/02-POST\u521b\u5efa\u6587\u6863.md","path":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/02-POST\u521b\u5efa\u6587\u6863.md","route":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/02-POST\u521b\u5efa\u6587\u6863.md","leaf":true,"title":"02-POST\u521b\u5efa\u6587\u6863","depth":2,"content":"---\\ntitle: 02-POST\u521b\u5efa\u6587\u6863\\nurl: https://www.yuque.com/gaollard/efekv4/wn65sx\\n---\\n\\n\u901a\u8fc7 POST \u8fdb\u884c\u6587\u6863\u63d2\u5165\u65f6\uff0c\u7528\u6237\u4e0d\u9700\u8981\u5173\u6ce8 \\\\_id \u5b57\u6bb5\u503c\uff08\u7cfb\u7edf\u4f1a\u81ea\u52a8\u751f\u6210\u552f\u4e00\u7684\\\\_id\u5b57\u6bb5\u503c\uff09\uff0c\u64cd\u4f5c\u8bed\u6cd5\u5982\u4e0b\uff1a\\n\\n![](https://s3.airtlab.com/elasticsearch/20220427121812.png)\\n\\n\u5728\u4f7f\u7528POST\u65b0\u589e\u6587\u6863\u7684\u65f6\u5019\u4e0d\u80fd\u6307\u5b9a\u6587\u6863\\\\_id\uff08\u4e3b\u952e\u5b57\u6bb5\uff09\uff0c\u53ea\u80fd\u7531\u7cfb\u7edf\u81ea\u52a8\u751f\u6210\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/03-\u4f7f\u7528POST\u4fee\u6539\u6587\u6863.md","path":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/03-\u4f7f\u7528POST\u4fee\u6539\u6587\u6863.md","route":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/03-\u4f7f\u7528POST\u4fee\u6539\u6587\u6863.md","leaf":true,"title":"03-\u4f7f\u7528POST\u4fee\u6539\u6587\u6863","depth":2,"content":"---\\ntitle: 03-\u4f7f\u7528POST\u4fee\u6539\u6587\u6863\\nurl: https://www.yuque.com/gaollard/efekv4/bgd3ne\\n---\\n\\n\u524d\u9762\u7684\u8303\u4f8b\u4e2d\u6211\u4eec\u76f4\u63a5\u4f7f\u7528 `PUT` \u6839\u636e `_id` \u5bf9\u6587\u6863\u5185\u5bb9\u8fdb\u884c\u4fee\u6539\uff0c`Elasticsearch` \u4e5f\u652f\u6301\u4f7f\u7528 `POST` \u5bf9\u6587\u6863\u8fdb\u884c\u4fee\u6539\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a\\n\\n![](https://s3.airtlab.com/elasticsearch/20220427121959.png)\\n\\n- PUT\u6267\u884c\u4fee\u6539\u64cd\u4f5c\u65f6\uff0c\u4f1a\u5bf9\u6587\u6863\u7684\u6574\u4e2a\u5185\u5bb9\u8fdb\u884c\u66ff\u6362\u3002\\n- POST\u6267\u884c\u4fee\u6539\u64cd\u4f5c\u65f6\uff0c\u5982\u679c\u5b57\u6bb5\u5728\u6587\u6863\u4e2d\uff0c\u5219\u4fee\u6539\u6b64\u5b57\u6bb5\u7684\u503c\uff1b\u5982\u679c\u5b57\u6bb5\u4e0d\u5728\u6587\u6863\u4e2d\uff0c\u5219\u628a\u6b64\u5b57\u6bb5\u52a0\u5165\u6587\u6863\u4fe1\u606f\u4e2d\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/04-POST\u67e5\u8be2\u6570\u636e.md","path":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/04-POST\u67e5\u8be2\u6570\u636e.md","route":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/04-POST\u67e5\u8be2\u6570\u636e.md","leaf":true,"title":"04-POST\u67e5\u8be2\u6570\u636e","depth":2,"content":"---\\ntitle: 04-POST\u67e5\u8be2\u6570\u636e\\nurl: https://www.yuque.com/gaollard/efekv4/ri8rgs\\n---\\n\\n![](https://s3.airtlab.com/elasticsearch/20220427122420.png)\\n","isLeaf":true},{"key":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/05-\u4f7f\u7528DELETE\u5220\u9664\u6587\u6863.md","path":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/05-\u4f7f\u7528DELETE\u5220\u9664\u6587\u6863.md","route":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/05-\u4f7f\u7528DELETE\u5220\u9664\u6587\u6863.md","leaf":true,"title":"05-\u4f7f\u7528DELETE\u5220\u9664\u6587\u6863","depth":2,"content":"---\\ntitle: 05-\u4f7f\u7528DELETE\u5220\u9664\u6587\u6863\\nurl: https://www.yuque.com/gaollard/efekv4/bha8ei\\n---\\n\\n    DELETE /$index/_doc/$id\\n","isLeaf":true},{"key":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/06-\u4f7f\u7528GET\u67e5\u8be2.md","path":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/06-\u4f7f\u7528GET\u67e5\u8be2.md","route":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/06-\u4f7f\u7528GET\u67e5\u8be2.md","leaf":true,"title":"06-\u4f7f\u7528GET\u67e5\u8be2","depth":2,"content":"---\\ntitle: 06-\u4f7f\u7528GET\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/nvraar\\n---\\n\\nGET\u8bed\u53e5\u4e0d\u4ec5\u53ef\u4ee5\u67e5\u8be2\u6587\u6863\u4fe1\u606f\uff0c\u8fd8\u53ef\u4ee5\u67e5\u8be2\u670d\u52a1\u4e2d\u6240\u6709\u7684\u7d22\u5f15\u5e93\u4ee5\u53ca\u7d22\u5f15\u5e93\u7684\u7ed3\u6784\u4fe1\u606f\u3002\u5982\u4e0b\u662f\u5e38\u7528\u7684GET\u67e5\u8be2\u8bed\u53e5\u3002\\n\\n```shell\\n#\u6839\u636e_id\u67e5\u8be2\u6587\u6863\u8be6\u60c5\\nGET\u7d22\u5f15\u5e93\u540d\u79f0/_doc/\u6587\u6863_id\\n\\n#\u67e5\u8be2\u6307\u5b9a\u7d22\u5f15\u5e93\u4e2d\u6240\u6709\u7684\u6587\u6863\u4fe1\u606f\\nGET\u7d22\u5f15\u5e93\u540d\u79f0/_doc/_search\\n\\n#\u67e5\u8be2\u5f53\u524d\u96c6\u7fa4\u4e2d\u6240\u6709\u7684\u7d22\u5f15\u5e93\u4fe1\u606f\\nGET /_cat/indices\\n\\n#\u67e5\u8be2\u5f53\u524d\u96c6\u7fa4\u4e2d\u6240\u6709\u7684\u522b\u540d\u7d22\u5f15\u4fe1\u606f\\nGET /_cat/aliases\\n\\n#\u67e5\u8be2\u5f53\u524d\u96c6\u7fa4\u7684\u989c\u8272\u4fe1\u606f\\nGET /_cat/health\\n\\n#\u67e5\u8be2\u5f53\u524d\u96c6\u7fa4\u4e2d\u4e3b\u8282\u70b9\u7684\u4fe1\u606f\\nGET /_cat/master\\n\\n#\u67e5\u8be2\u5f53\u524d\u96c6\u7fa4\u4e2d\u6240\u6709\u7684\u8282\u70b9\u4fe1\u606f\\nGET /_cat/nodes\\n\\n#\u67e5\u8be2\u5f53\u524d\u96c6\u7fa4\u4e2d\u7d22\u5f15\u5206\u7247\u7684\u4fe1\u606f\\nGET /_cat/shards\\n\\n#\u67e5\u8be2\u5f53\u524d\u96c6\u7fa4\u7684\u5065\u5eb7\u72b6\u6001\\nGET _cluster/health?pretty=true\\n\\n#\u67e5\u8be2\u5f53\u524d\u96c6\u7fa4\u7684\u8fd0\u884c\u72b6\u6001\u4fe1\u606f\\nGET _cluster/stats?pretty\\n\\n#\u67e5\u8be2\u5f53\u524d\u96c6\u7fa4\u4e2d\u6240\u6709\u8282\u70b9\u7684\u76d1\u63a7\u4fe1\u606f\\nGET _nodes/stats?pretty\\n\\n#\u67e5\u8be2\u5f53\u524d\u96c6\u7fa4\u4e2d\u6240\u6709\u7d22\u5f15\u7684\u76d1\u63a7\u4fe1\u606f\\nGET _stats?pretty\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/07-\u6570\u5b57\u5b57\u6bb5\u7981\u7528\u521b\u5efa\u7d22\u5f15.md","path":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/07-\u6570\u5b57\u5b57\u6bb5\u7981\u7528\u521b\u5efa\u7d22\u5f15.md","route":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/07-\u6570\u5b57\u5b57\u6bb5\u7981\u7528\u521b\u5efa\u7d22\u5f15.md","leaf":true,"title":"07-\u6570\u5b57\u5b57\u6bb5\u7981\u7528\u521b\u5efa\u7d22\u5f15","depth":2,"content":"---\\ntitle: 07-\u6570\u5b57\u5b57\u6bb5\u7981\u7528\u521b\u5efa\u7d22\u5f15\\nurl: https://www.yuque.com/gaollard/efekv4/cdu4hc\\n---\\n\\n\u901a\u5e38\u4f1a\u6709\u8bb8\u591a\u6570\u5b57\u5b57\u6bb5\uff0c\u7528\u6237\u4e00\u822c\u4f1a\u5bf9\u8fd9\u4e9b\u5b57\u6bb5\u8fdb\u884c\u805a\u5408\u8ba1\u7b97\uff0c\u5e76\u4e0d\u4f1a\u901a\u8fc7\u8fd9\u4e9b\u5b57\u6bb5\u8fdb\u884c\u641c\u7d22\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u5173\u95ed\u5bf9\u8fd9\u4e9b\u5b57\u6bb5\u521b\u5efa\u7d22\u5f15\u7684\u529f\u80fd\uff0c\u8fd9\u6837\u505a\u4e0d\u4ec5\u53ef\u4ee5\u8282\u7701\u78c1\u76d8\u7a7a\u95f4\uff0c\u8fd8\u53ef\u4ee5\u63d0\u5347\u7d22\u5f15\u5e93\u7684\u6027\u80fd\\n\\n```json\\nPUT myindex5\\n{\\n  \\"mappings\\": {\\n    \\"dynamic_templates\\": [\\n      {\\n        \\"unindexed_longs\\": {\\n          \\"match_mapping_type\\": \\"long\\",\\n          \\"mapping\\": {\\n            \\"type\\": \\"long\\",\\n            \\"index\\": false #\u7981\u6b62\u521b\u5efa\u7d22\u5f15\uff08\u672c\u8d28\u662f\u7981\u6b62\u8be5\u5b57\u6bb5\u4e2d\u7684\u5b57\u7b26\u4e32\u88ab\u5206\u8bcd\u5efa\u7acb\u7d22\u5f15\uff09\\n          }\\n        }\\n      },\\n      {\\n        \\"unindexed_doubles\\": {\\n          \\"match_mapping_type\\": \\"double\\",\\n          \\"mapping\\": {\\n            \\"type\\": \\"float\\", \\n            \\"index\\": false\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/08-\u4e0d\u8bc4\u5206\u641c\u7d22.md","path":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/08-\u4e0d\u8bc4\u5206\u641c\u7d22.md","route":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/08-\u4e0d\u8bc4\u5206\u641c\u7d22.md","leaf":true,"title":"08-\u4e0d\u8bc4\u5206\u641c\u7d22","depth":2,"content":"---\\ntitle: 08-\u4e0d\u8bc4\u5206\u641c\u7d22\\nurl: https://www.yuque.com/gaollard/efekv4/xpqbn4\\n---\\n\\n```json\\nPUT test_07\\n{\\n \\"mappings\\": {\\n   \\"dynamic\\": \\"strict\\",\\n   \\"properties\\": {\\n      \\"name\\": {\\n        \\"type\\" : \\"text\\",\\n        \\"norms\\": true, # here\\n        \\"fields\\" : {\\n          \\"keyword\\" : {\\n            \\"type\\" : \\"keyword\\",\\n            \\"ignore_above\\" : 256\\n          }\\n        }\\n      }\\n   }\\n }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/09-\u5220\u9664\u7d22\u5f15\u4e0b\u6240\u6709\u6570\u636e.md","path":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/09-\u5220\u9664\u7d22\u5f15\u4e0b\u6240\u6709\u6570\u636e.md","route":"/Elasticsearch/02-\u57fa\u7840\u5b9e\u4f8b\u64cd\u4f5c/09-\u5220\u9664\u7d22\u5f15\u4e0b\u6240\u6709\u6570\u636e.md","leaf":true,"title":"09-\u5220\u9664\u7d22\u5f15\u4e0b\u6240\u6709\u6570\u636e","depth":2,"content":"---\\ntitle: 09-\u5220\u9664\u7d22\u5f15\u4e0b\u6240\u6709\u6570\u636e\\nurl: https://www.yuque.com/gaollard/efekv4/kvnt52\\n---\\n\\n```shell\\nPOST ${index}/_delete_by_query\\n{ \\"query\\": { \\"match_all\\": {} } }\\n```\\n","isLeaf":true}]},{"key":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b","path":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b","route":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b","leaf":false,"title":"03-\u5b57\u6bb5\u7c7b\u578b","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b/01-\u5b57\u6bb5\u7c7b\u578b.md","path":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b/01-\u5b57\u6bb5\u7c7b\u578b.md","route":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b/01-\u5b57\u6bb5\u7c7b\u578b.md","leaf":true,"title":"01-\u5b57\u6bb5\u7c7b\u578b","depth":2,"content":"---\\ntitle: 01-\u5b57\u6bb5\u7c7b\u578b\\nurl: https://www.yuque.com/gaollard/efekv4/bhkl1u\\n---\\n\\ntext \u548c keyword \u7684\u533a\u522b\uff1atext \u5b57\u6bb5\u7684\u503c\u7528\u4e8e\u5168\u6587\u641c\u7d22\uff1bkeyword \u5b57\u6bb5\u7684\u503c\u5b58\u50a8\u65f6\u4e0d\u4f1a\u88ab\u5206\u8bcd\u5efa\u7acb\u7d22\u5f15\uff0c\u4e3b\u8981\u7528\u4e8e\u7edf\u8ba1\u8ba1\u7b97\u7b49\u64cd\u4f5c\u3002\\n\\n**1) \u5e38\u7528\u7c7b\u578b**\\n\\n- binary\uff1a\u8868\u793a\u53ef\u4ee5\u5b58\u50a8\u7f16\u7801\u4e3a Base64 \u7684\u5b57\u7b26\u4e32\u6216\u8005\u4e8c\u8fdb\u5236\u503c\u3002\\n- boolean\uff1a\u8868\u793a\u53ef\u4ee5\u5b58\u50a8 true \u548c false \u7684\u5e03\u5c14\u503c\u3002\\n- keyword\uff1a\u8be5\u5b57\u6bb5\u7c7b\u578b\u7684\u6570\u636e\u5728\u5b58\u50a8\u65f6\u4e0d\u4f1a\u8fdb\u884c\u5206\u8bcd\u5904\u7406\uff0c\u9002\u5408\u8fdb\u884c\u7edf\u8ba1\u5206\u6790\uff0c\u4e0d\u80fd\u8fdb\u884c\u5168\u6587\u641c\u7d22\u3002\\n- numbers\uff1a\u7528\u4e8e\u8868\u793a\u6570\u5b57\u7c7b\u578b\uff0c\u4f8b\u5982 long \u548c double\u3002\\n- date\uff1a\u8868\u793a\u53ef\u4ee5\u5b58\u50a8\u65e5\u671f\u7c7b\u578b\u7684\u6570\u636e\u3002\\n- alias\uff1a\u8868\u793a\u4e3a\u73b0\u6709\u5b57\u6bb5\u5b9a\u4e49\u522b\u540d\u3002\\n- text\uff1a\u8be5\u5b57\u6bb5\u7c7b\u578b\u7684\u6570\u636e\u5728\u5b58\u50a8\u65f6\u4f1a\u8fdb\u884c\u5206\u8bcd\u5e76\u5efa\u7acb\u7d22\u5f15\uff0c\u9002\u5408\u8fdb\u884c\u5168\u6587\u641c\u7d22\uff0c\u4e0d\u80fd\u8fdb\u884c\u7edf\u8ba1\u5206\u6790\u3002\\n\\n**2) \u5bf9\u8c61\u548c\u5173\u7cfb\u7c7b\u578b**\\n\\n- object\uff1a\u8868\u793a\u4e00\u4e2a JSON \u5bf9\u8c61\u3002\\n- nested\uff1a\u5d4c\u5957\u7c7b\u578b\uff0c\u5bf9\u8c61\u4e2d\u53ef\u4ee5\u5d4c\u5957\u5bf9\u8c61\u3002\\n- array\uff1a\u5728 Elasticsearch \u4e2d\uff0c\u6570\u7ec4\u4e0d\u9700\u8981\u4e13\u7528\u7684\u5b57\u6bb5\u7c7b\u578b\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4efb\u4f55\u5b57\u6bb5\u90fd\u53ef\u4ee5\u5305\u542b 0 \u4e2a\u6216\u591a\u4e2a\u503c\uff0c\u4f46\u662f\u6570\u7ec4\u4e2d\u7684\u6240\u6709\u503c\u5fc5\u987b\u5177\u6709\u76f8\u540c\u7684\u5b57\u6bb5\u7c7b\u578b\u3002\\n\\n**3\uff09\u5176\u4f59\u7c7b\u578b**\\n\\n- range\uff1a\u8868\u793a\u8303\u56f4\u7c7b\u578b\u3002\\n- rank\\\\_feature\uff1a\u8868\u793a\u6392\u540d\u7c7b\u578b\u3002\\n- token\\\\_count\uff1a\u8868\u793a\u4ee4\u724c\u8ba1\u6570\u7c7b\u578b\u3002\\n- ip\uff1a\u7528\u4e8e IP \u5730\u5740\u7684\u5b58\u50a8\u548c\u67e5\u8be2\u7684\u7c7b\u578b\u3002\\n- geo\\\\_point, geo\\\\_shape\uff1a\u7528\u4e8e\u5730\u7406\u4f4d\u7f6e\u548c\u7a7a\u95f4\u4f4d\u7f6e\u7684\u5b58\u50a8\u4e0e\u641c\u7d22\u7684\u7c7b\u578b\u3002\\n\\n\\n\\n### alias\\n\\n    #\u521b\u5efa\u540d\u4e3auserinfo\u7684\u7d22\u5f15\u5e93\u5e76\u4e3a\u5176\u521b\u5efa\u6620\u5c04\u5173\u7cfb\\n    PUT userinfo\\n    {\\n      \\"mappings\\": {\\n        \\"properties\\": {\\n          \\"age\\": {\\n            \\"type\\": \\"long\\"\\n          },\\n          \\"aliasage\\": {\\n            \\"type\\": \\"alias\\",#\u522b\u540d\u7c7b\u578b\\n            \\"path\\": \\"age\\"\\n          },\\n          \\"transit_mode\\": {\\n            \\"type\\": \\"keyword\\"\\n          }\\n        }\\n      }\\n    }\\n\\n\u5728\u4f7f\u7528\u522b\u540d\u65f6\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u53ef\u4ee5\u4f7f\u7528\u522b\u540d\u8fdb\u884c\u6570\u636e\u7684\u641c\u7d22\uff0c\u4f46\u662f\u4e0d\u80fd\u4f7f\u7528\u522b\u540d\u8fdb\u884c\u6570\u636e\u7684\u5199\u5165\\n\\n\\n\\n### \u6570\u7ec4\u7c7b\u578b\\n\\n\u5728 Elasticsearch \u4e2d\uff0c\u6ca1\u6709\u4e13\u7528\u7684\u6570\u7ec4\u6570\u636e\u7c7b\u578b\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4efb\u4f55\u5b57\u6bb5\u90fd\u53ef\u4ee5\u5305\u542b 0 \u4e2a\u6216\u591a\u4e2a\u503c\uff0c\u4e0d\u8fc7\u6570\u7ec4\u4e2d\u7684\u6240\u6709\u503c\u5fc5\u987b\u5177\u6709\u76f8\u540c\u7684\u6570\u636e\u7c7b\u578b\u3002\\n\\n\u53ea\u8981\u4fdd\u8bc1\u63d2\u5165\u7684\u6570\u7ec4\u5b57\u6bb5\u4e2d\u7684\u6570\u636e\u7c7b\u578b\u662f\u540c\u4e00\u4e2a\u7c7b\u578b\uff0c\u5c31\u80fd\u628a\u6570\u636e\u5199\u5165\u6b64\u6570\u7ec4\u5b57\u6bb5\u4e2d\u3002\\n\\n\\n\\n### binary \u7c7b\u578b\\n\\nbinary \u5b9a\u4e49\u7684\u5b57\u6bb5\u7c7b\u578b\u53ef\u4ee5\u5b58\u50a8\u7f16\u7801\u4e3a Base64 \u7684\u5b57\u7b26\u4e32\u6216\u8005\u4e8c\u8fdb\u5236\u503c\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n```json\\n#\u521b\u5efa\u7d22\u5f15\u6620\u5c04\u5e76\u6307\u5b9ablob\u5b57\u6bb5\u7684\u7c7b\u578b\u4e3a\u4e8c\u8fdb\u5236\u7c7b\u578b\\nPUT myindex-2_02\\n{\\n  \\"mappings\\": {\\n    \\"properties\\": {\\n      \\"name\\": {\\n        \\"type\\": \\"text\\"\\n      },\\n      \\"blob\\": {\\n        \\"type\\": \\"binary\\"\\n      }\\n    }\\n  }\\n}\\n\\n#\u5728\u7d22\u5f15\u5e93\u4e2d\u63d2\u5165\u6570\u636e\uff0cblob\u7684\u5185\u5bb9\u662fBase64\u7f16\u7801\u7684\u5b57\u7b26\u4e32\\nPUT myindex-2_02/_doc/1\\n{\\n  \\"name\\": \\"Some binary blob\\",\\n  \\"blob\\": \\"U29tZSBiaW5hcnkgYmxvYg==\\"\\n}\\n```\\n\\n\\n\\n### \u5e03\u5c14\u7c7b\u578b\\n\\n\u5e03\u5c14\u5b57\u6bb5\u7c7b\u578b\u53ef\u4ee5\u5b58\u50a8 true \u548c false \u7684\u5e03\u5c14\u503c\uff0c\u4e5f\u53ef\u4ee5\u5b58\u50a8 \\"true\\" \u548c \\"false\\" \u7684\u5b57\u7b26\u4e32\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n    #\u521b\u5efa\u7d22\u5f15\u6620\u5c04\u5e76\u6307\u5b9ais_published\u5b57\u6bb5\u7c7b\u578b\u4e3a\u5e03\u5c14\u7c7b\u578b\\n    PUT myindex-2_03\\n    {\\n      \\"mappings\\": {\\n        \\"properties\\": {\\n          \\"is_published\\": {\\n            \\"type\\": \\"boolean\\"\\n          }\\n        }\\n      }\\n    }\\n\\n    #\u65b0\u589e\u6570\u636e\uff0c\u5b57\u6bb5\u503c\u5fc5\u987b\u548c\u6620\u5c04\u7c7b\u578b\u5339\u914d\\n    POST myindex-2_03/_doc/1?refresh\\n    {\\n      \\"is_published\\": \\"true\\"\\n    }\\n\\n    #\u67e5\u8be2\u7d22\u5f15\u5e93\u4e2dis_published\u5b57\u6bb5\u7684\u503c\u662ftrue\u7684\u6570\u636e\\n    GET myindex-2_03/_search\\n    {\\n      \\"query\\": {\\n        \\"term\\": {\\n          \\"is_published\\": true\\n        }\\n      }\\n    }\\n\\n\u5982\u679c\u9700\u8981\u5bf9\u5e03\u5c14\u503c\u8fdb\u884c\u8f6c\u6362\uff0c\u53ef\u4ee5\u4f7f\u7528\u201c\u8fd0\u884c\u65f6\u201d\u811a\u672c\u6765\u5904\u7406\uff0c\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n```json\\nGET myindex-2_03/_search\\n{\\n  \\"fields\\": [\\n    {\\"field\\": \\"weight\\"}\\n  ],\\n  \\"runtime_mappings\\": {\\n    \\"weight\\": {\\n      \\"type\\": \\"long\\",\\n      \\"script\\": \\"emit(doc[\'is_published\'].value ? 1: 0)\\"#\u4f7f\u7528\\"\u8fd0\u884c\u65f6\\"\u811a\u672c\u8f6c\u6362\u5e03\u5c14\u503c\\n    }\\n  }\\n}\\n```\\n\\n\\n\\n### \u65e5\u671f\u7c7b\u578b\\n\\nElasticsearch \u4e2d\u7684\u65e5\u671f\u7c7b\u578b\u53ef\u4ee5\u662f\u5305\u542b\u65e5\u671f\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982 `\\"2021-01-01\\"`\u6216 `\\"2021/01/01 12:10:30\\"` \u7b49\u683c\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u81ea\u7eaa\u5143\u4ee5\u6765\u7684\u6beb\u79d2\u6570\u6765\u8868\u793a\uff08\u6ce8\uff1a\u5728 Unix \u4e2d\uff0c\u7eaa\u5143\u662f\u6307 UTC \u65f6\u95f4 1970 \u5e74 1 \u6708 1 \u65e5 00:00:00\uff09\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n```json\\n#\u521b\u5efa\u7d22\u5f15\u6620\u5c04\u5e76\u6307\u5b9adate\u5b57\u6bb5\u7684\u5b57\u6bb5\u7c7b\u578b\u4e3a\u65e5\u671f\u7c7b\u578b\\nPUT myindex-2_04\\n{\\n  \\"mappings\\": {\\n    \\"properties\\": {\\n      \\"date\\": {\\n        \\"type\\": \\"date\\"\\n      }\\n    }\\n  }\\n}\\n\\n#\u63d2\u5165\u6587\u6863\u6570\u636e\\nPUT  myindex-2_04/_doc/1\\n{\\n  \\"date\\": \\"2015-01-01\\"\\n}\\n\\n#\u63d2\u5165\u6587\u6863\u6570\u636e\\nPUT  myindex-2_04/_doc/2\\n{\\n  \\"date\\": \\"2015-01-01T12:10:30Z\\"\\n}\\n\\n#\u63d2\u5165\u6587\u6863\u6570\u636e\\nPUT  myindex-2_04/_doc/3\\n{\\n  \\"date\\": 1420070400001\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b/02-\u8bbe\u7f6e\u65e5\u671f\u7684\u63d2\u5165\u683c\u5f0f.md","path":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b/02-\u8bbe\u7f6e\u65e5\u671f\u7684\u63d2\u5165\u683c\u5f0f.md","route":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b/02-\u8bbe\u7f6e\u65e5\u671f\u7684\u63d2\u5165\u683c\u5f0f.md","leaf":true,"title":"02-\u8bbe\u7f6e\u65e5\u671f\u7684\u63d2\u5165\u683c\u5f0f","depth":2,"content":"---\\ntitle: 02-\u8bbe\u7f6e\u65e5\u671f\u7684\u63d2\u5165\u683c\u5f0f\\nurl: https://www.yuque.com/gaollard/efekv4/freqgf\\n---\\n\\n```json\\n#\u521b\u5efa\u7d22\u5f15\u5e76\u4e3a\u65e5\u671f\u7c7b\u578b\u7684\u5b57\u6bb5\u6307\u5b9a\u5177\u4f53\u7684\u65e5\u671f\u683c\u5f0f\\nPUT myindex-2_05\\n{\\n  \\"mappings\\": {\\n    \\"properties\\": {\\n      \\"date\\": {\\n        \\"type\\": \\"date\\",\\n         \\"format\\":\\"yyyy-MM-dd HH:mm:ss\\"\\n      }\\n    }\\n  }\\n}\\n\\n#\u4ee5\u4e0b\u8bed\u53e5\u63d2\u5165\u6587\u6863\u6570\u636e\u65f6\u5c06\u4f1a\u629b\u51fa\u5f02\u5e38\uff0c\u56e0\u4e3a\u65e5\u671f\u5185\u5bb9\u4e0d\u7b26\u5408\u6620\u5c04\u683c\u5f0f\\nPUT  myindex-2_05/_doc/1\\n{ \\n  \\"date\\": \\"2015-01-01\\" \\n}\\n\\n#\u4ee5\u4e0b\u8bed\u53e5\u63d2\u5165\u6587\u6863\u6570\u636e\u65f6\u5c06\u4f1a\u629b\u51fa\u5f02\u5e38\uff0c\u56e0\u4e3a\u65e5\u671f\u5185\u5bb9\u4e0d\u7b26\u5408\u6620\u5c04\u683c\u5f0f\\nPUT  myindex-2_05/_doc/2\\n{ \\n  \\"date\\": \\"2015-01-01T12:10:30Z\\" \\n}\\n\\n#\u4ee5\u4e0b\u8bed\u53e5\u63d2\u5165\u6587\u6863\u6570\u636e\u65f6\u5c06\u4f1a\u629b\u51fa\u5f02\u5e38\uff0c\u56e0\u4e3a\u65e5\u671f\u5185\u5bb9\u4e0d\u7b26\u5408\u6620\u5c04\u683c\u5f0f\\nPUT  myindex-2_05/_doc/3\\n{ \\n  \\"date\\": 1420070400001\\n}\\n \\n#\u4ee5\u4e0b\u8bed\u53e5\u6587\u6863\u6570\u636e\u6b63\u5e38\u63d2\u5165\uff0c\u56e0\u4e3a\u65e5\u671f\u5185\u5bb9\u7b26\u5408\u5b57\u6bb5\u6307\u5b9a\u7684\u65e5\u671f\u683c\u5f0f\\nPUT  myindex-2_05/_doc/4\\n{ \\n  \\"date\\": \\"2015-01-01 12:02:56\\" \\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b/03-\u5b57\u6bb5\u7c7b\u578b-text-keyword.md","path":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b/03-\u5b57\u6bb5\u7c7b\u578b-text-keyword.md","route":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b/03-\u5b57\u6bb5\u7c7b\u578b-text-keyword.md","leaf":true,"title":"03-\u5b57\u6bb5\u7c7b\u578b-text-keyword","depth":2,"content":"---\\ntitle: 03-\u5b57\u6bb5\u7c7b\u578b-text-keyword\\nurl: https://www.yuque.com/gaollard/efekv4/yxcau6\\n---\\n\\n\\n\\n### keyword \u7c7b\u578b\\n\\nkeyword\uff08\u5173\u952e\u5b57\uff09\u7c7b\u578b\u7528\u4e8e\u5b58\u50a8\u7ed3\u6784\u5316\u7684\u5185\u5bb9\uff0c\u4f8b\u5982 ID\u3001\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u3001\u4e3b\u673a\u540d\u3001\u72b6\u6001\u4ee3\u7801\u3001\u90ae\u653f\u7f16\u7801\u6216\u6807\u7b7e\u3002\u6b64\u7c7b\u578b\u7684\u5b57\u6bb5\u901a\u5e38\u7528\u4e8e\u6392\u5e8f\u3001\u805a\u5408\u67e5\u8be2\u7b49\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n    #\u521b\u5efa\u7d22\u5f15\u6620\u5c04\u5e76\u6307\u5b9atag\u5b57\u6bb5\u7684\u5b57\u6bb5\u7c7b\u578b\u4e3akeyword\u7c7b\u578b\\n    PUT myindex-2_11\\n    {\\n      \\"mappings\\": {\\n        \\"properties\\": {\\n          \\"tag\\": {\\n            \\"type\\":  \\"keyword\\"\\n          }\\n        }\\n      }\\n    }\\n\\n    #\u63d2\u5165\u6587\u6863\u6570\u636e\\n    PUT myindex-2_11/_doc/1\\n    {\\n      \\" tag \\":\\"\u5317\u4eac\\"\\n    }\\n\\n    #\u63d2\u5165\u6587\u6863\u6570\u636e\\n    PUT myindex-2_11/_doc/2\\n    {\\n      \\" tag \\":\\"\u5317\u4eac\u4eba\\"\\n    }\\n\\n    #\u67e5\u8be2\u7d22\u5f15\u5e93\u4e2dtag\u5b57\u6bb5\u662f\\"\u5317\u4eac\\"\u4e14\u5b8c\u5168\u5339\u914d\u7684\u5185\u5bb9\\n    GET myindex-2_11/_doc/_search?q=tag:\u5317\u4eac\\n\\n\\n\\n### text \u7c7b\u578b\\n\\n`text` \u7c7b\u578b\u7528\u4e8e\u8fdb\u884c\u5168\u6587\u641c\u7d22\uff08\u4e5f\u79f0\u4e3a\u5168\u6587\u68c0\u7d22\uff09\uff0c\u4f8b\u5982\u7535\u5b50\u90ae\u4ef6\u6b63\u6587\u6216\u4ea7\u54c1\u63cf\u8ff0\u7684\u5168\u6587\uff0c\u5b83\u4eec\u5728\u88ab\u641c\u7d22\u4e4b\u524d\u901a\u8fc7\u5206\u8bcd\u5668\u5c06\u5168\u90e8\u6587\u5b57\u5185\u5bb9\u8f6c\u6362\u4e3a\u5355\u8bcd\uff08term\uff09\u8868\u3002txt \u7c7b\u578b\u5141\u8bb8\u7528\u6237\u5728\u6bcf\u4e2a\u5168\u6587\u5b57\u6bb5\u4e2d\u641c\u7d22\u5355\u4e2a\u5355\u8bcd\u3002\\n\\n`text` \u7c7b\u578b\u7684\u5b57\u6bb5\u4e0d\u9002\u5408\u8fdb\u884c\u6392\u5e8f\uff0c\u4e5f\u4e0d\u9002\u5408\u8fdb\u884c\u805a\u5408\u8ba1\u7b97\u3002\u5982\u679c\u5b57\u6bb5\u9700\u8981\u805a\u5408\u8ba1\u7b97\u6216\u8005\u6392\u5e8f\uff0c\u63a8\u8350\u4f7f\u7528 keyword \u7c7b\u578b\u3002\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f\uff0ckeyword \u7c7b\u578b\u548c text \u7c7b\u578b\u7684\u533a\u522b\u662f\uff1akeyword \u7c7b\u578b\u7684\u5b57\u6bb5\u5185\u5bb9\u4e0d\u4f1a\u88ab\u5206\u8bcd\uff0ctext \u7c7b\u578b\u7684\u5b57\u6bb5\u5185\u5bb9\u4f1a\u88ab\u5206\u8bcd\\n\\n```json\\n#\u521b\u5efa\u7d22\u5f15\u6620\u5c04\u5e76\u6307\u5b9atagname\u5b57\u6bb5\u7684\u5b57\u6bb5\u7c7b\u578b\u4e3atext\u7c7b\u578b\\nPUT myindex-2_12\\n{\\n  \\"mappings\\": {\\n    \\"properties\\": {\\n      \\"tagname\\": {\\n        \\"type\\":  \\"text\\"\\n      }\\n    }\\n  }\\n}\\n\\n#\u63d2\u5165\u6587\u6863\u6570\u636e\\nPUT myindex-2_12/_doc/1\\n{\\n  \\"tagname\\":\\"\u6c5f\u82cf\u7701\\"\\n}\\n\\n#\u63d2\u5165\u6587\u6863\u6570\u636e\\nPUT myindex-2_12/_doc/2\\n{\\n  \\"tagname\\":\\"\u6cb3\u5317\u7701\\"\\n}\\n\\n#\u6839\u636etagname\u5b57\u6bb5\u5185\u5bb9\u5206\u8bcd\uff0c\u7136\u540e\u5bf9\u6240\u6709\u5206\u8bcd\u8fdb\u884c\u5339\u914d\u641c\u7d22\\nGET myindex-2_12/_doc/_search\\n{\\n  \\"query\\":{\\n     \\"match\\": {\\n       \\"tagname\\": \\"\u6cb3\u5357\u7701\\"\\n     }\\n  }\\n}\\n\\n\\n{\\n  \\"took\\" : 0,\\n  \\"timed_out\\" : false,\\n  \\"_shards\\" : {\\n    \\"total\\" : 1,\\n    \\"successful\\" : 1,\\n    \\"skipped\\" : 0,\\n    \\"failed\\" : 0\\n  },\\n  \\"hits\\" : {\\n    \\"total\\" : {\\n      \\"value\\" : 2,\\n      \\"relation\\" : \\"eq\\"\\n    },\\n    \\"max_score\\" : 0.19856803,\\n    \\"hits\\" : [\\n      {\\n        \\"_index\\" : \\"myindex-2_12\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"1\\",\\n        \\"_score\\" : 0.19856803,\\n        \\"_source\\" : {\\n          \\"tagname\\" : \\"\u6c5f\u82cf\u7701\\"\\n        }\\n      },\\n      {\\n        \\"_index\\" : \\"myindex-2_12\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"2\\",\\n        \\"_score\\" : 0.16853255,\\n        \\"_source\\" : {\\n          \\"tagname\\" : \\"\u6cb3\u5317\u7701\\"\\n        }\\n      }\\n    ]\\n  }\\n}\\n```\\n\\n\u4ee5\u4e0a\u641c\u7d22\u7ed3\u679c\u4e2d\u628a\\"\u6c5f\u82cf\u7701\\"\u548c\\"\u6cb3\u5317\u7701\\"\u8fd9\u4e24\u884c\u6570\u636e\u90fd\u8fd4\u56de\u4e86\uff0c\u8fd9\u662f\u56e0\u4e3a\u76ee\u524d\u9ed8\u8ba4\u7684\u5206\u8bcd\u5668\u628a\\"\u6cb3\u5357\u7701\\"\u5206\u6210\u4e86\\"\u6cb3\u5357\\"\u548c\\"\u7701\\"\u4e24\u4e2a\u8bcd\uff0c\u800c\\"\u6cb3\u5317\u7701\\"\u548c\\"\u6c5f\u82cf\u7701\\"\u5206\u522b\u5206\u6210\\"\u6cb3\u5317\\"\u3001\\"\u7701\\"\u548c\\"\u6c5f\u82cf\\"\u3001\\"\u7701\\"\uff0c\u8fd9\u4e24\u4e2a\u8bcd\u88ab\u5206\u8bcd\u540e\u90fd\u6709\u4e00\u4e2a\\"\u7701\\"\u5b57\uff0c\u6240\u4ee5\u641c\u7d22\u65f6\u88ab\u5168\u6587\u5339\u914d\u5230\u4e86\u3002\u5728\u5b9e\u9645\u4e1a\u52a1\u4e2d\uff0c\u5982\u679c\u6211\u4eec\u8981\u5bf9\u5b57\u6bb5\u7684\u5185\u5bb9\u8fdb\u884c\u5168\u6587\u641c\u7d22\uff0c\u53ef\u4ee5\u4f7f\u7528 text \u7c7b\u578b\uff1b\u5982\u679c\u8981\u805a\u5408\u67e5\u8be2\u6216\u8005\u7cbe\u51c6\u5339\u914d\uff0c\u5219\u5c3d\u91cf\u4f7f\u7528 keyword \u7c7b\u578b\u3002\\n\\n\u5bf9\u4e8e\u5927\u591a\u6570\u60f3\u8981\u5bf9\u6587\u672c\u5b57\u6bb5\u6267\u884c\u66f4\u591a\u64cd\u4f5c\u7684\u7528\u6237\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u591a\u5b57\u6bb5\u6620\u5c04\uff0c\u5176\u4e2d\u65e2\u6709 text \u7c7b\u578b\u53ef\u4ee5\u7528\u4e8e\u5168\u6587\u641c\u7d22\uff0c\u53c8\u6709 keyword \u7c7b\u578b\u53ef\u4ee5\u7528\u4e8e\u805a\u5408\u5206\u6790\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a\\n\\n    PUT\u7d22\u5f15\u5e93\u540d\u79f0\\n    {\\n      \\"mappings\\": {\\n        \\"properties\\": {\\n          \\"my_field\\": {\\n            \\"type\\": \\"text\\",\\n            \\"fields\\": {\\n              \\"keyword\\": {\\n                \\"type\\": \\"keyword\\"\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n\\n\u7531\u4ee5\u4e0a\u8bed\u53e5\u53ef\u77e5\uff0cmy\\\\_field\u5b57\u6bb5\u7684\u6620\u5c04\u5173\u7cfb\u662f\uff1a\u7236\u5b57\u6bb5\u7c7b\u578b\u662ftext\u7c7b\u578b\uff0c\u5b50\u5b57\u6bb5\u7c7b\u578b\u662fkeyword\u7c7b\u578b\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n```json\\nGET myindex-2_13/_doc/_search\\n{\\n  \\"query\\":{\\n     \\"match\\": {\\n       \\"tagname.keyword\\": \\"\u6cb3\u5357\u7701\\"\\n     }\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b/04-runtime_mappings & script_fields.md","path":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b/04-runtime_mappings & script_fields.md","route":"/Elasticsearch/03-\u5b57\u6bb5\u7c7b\u578b/04-runtime_mappings & script_fields.md","leaf":true,"title":"04-runtime_mappings & script_fields","depth":2,"content":"---\\ntitle: 04-runtime_mappings & script_fields\\nurl: https://www.yuque.com/gaollard/efekv4/ma5lc7\\n---\\n\\n```typescript\\n{\\n  \\"took\\" : 1,\\n  \\"timed_out\\" : false,\\n  \\"_shards\\" : {\\n    \\"total\\" : 1,\\n    \\"successful\\" : 1,\\n    \\"skipped\\" : 0,\\n    \\"failed\\" : 0\\n  },\\n  \\"hits\\" : {\\n    \\"total\\" : {\\n      \\"value\\" : 3,\\n      \\"relation\\" : \\"eq\\"\\n    },\\n    \\"max_score\\" : 1.0,\\n    \\"hits\\" : [\\n      {\\n        \\"_index\\" : \\"index_02\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"UiPsXoMByQPvkdn1ZDUN\\",\\n        \\"_score\\" : 1.0,\\n        \\"_source\\" : {\\n          \\"is_published\\" : 1\\n        }\\n      },\\n      {\\n        \\"_index\\" : \\"index_02\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"UyPsXoMByQPvkdn1eTUO\\",\\n        \\"_score\\" : 1.0,\\n        \\"_source\\" : {\\n          \\"is_published\\" : 2\\n        }\\n      },\\n      {\\n        \\"_index\\" : \\"index_02\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"VCPsXoMByQPvkdn1pTWj\\",\\n        \\"_score\\" : 1.0,\\n        \\"_source\\" : {\\n          \\"is_published\\" : 0\\n        }\\n      }\\n    ]\\n  }\\n}\\n```\\n\\n\\n\\n### 1\u3001runtime\\\\_mappings\\n\\n\u5982\u679c\u9700\u8981\u5bf9\u5e03\u5c14\u503c\u8fdb\u884c\u8f6c\u6362\uff0c\u53ef\u4ee5\u4f7f\u7528\u201c\u8fd0\u884c\u65f6\u201d\u811a\u672c\u6765\u5904\u7406\uff0c\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n```json\\nGET index_02/_search\\n{\\n  \\"fields\\": [\\n    {\\"field\\": \\"weight\\"}\\n  ],\\n  \\"runtime_mappings\\": {\\n    \\"weight\\": {\\n      \\"type\\": \\"long\\",\\n      \\"script\\": \\"emit(doc[\'is_published\'].value > 1 ? 1: 0)\\"\\n    }\\n  },\\n  \\"query\\": {\\n    \\"term\\": {\\n      \\"weight\\": {\\n        \\"value\\": 0\\n      }\\n    }\\n  }\\n}\\n```\\n\\n```json\\n{\\n  \\"took\\" : 4,\\n  \\"timed_out\\" : false,\\n  \\"_shards\\" : {\\n    \\"total\\" : 1,\\n    \\"successful\\" : 1,\\n    \\"skipped\\" : 0,\\n    \\"failed\\" : 0\\n  },\\n  \\"hits\\" : {\\n    \\"total\\" : {\\n      \\"value\\" : 2,\\n      \\"relation\\" : \\"eq\\"\\n    },\\n    \\"max_score\\" : 1.0,\\n    \\"hits\\" : [\\n      {\\n        \\"_index\\" : \\"index_02\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"UiPsXoMByQPvkdn1ZDUN\\",\\n        \\"_score\\" : 1.0,\\n        \\"_source\\" : {\\n          \\"is_published\\" : 1\\n        },\\n        \\"fields\\" : {\\n          \\"weight\\" : [\\n            0\\n          ]\\n        }\\n      },\\n      {\\n        \\"_index\\" : \\"index_02\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"VCPsXoMByQPvkdn1pTWj\\",\\n        \\"_score\\" : 1.0,\\n        \\"_source\\" : {\\n          \\"is_published\\" : 0\\n        },\\n        \\"fields\\" : {\\n          \\"weight\\" : [\\n            0\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\\n\\n```\\n\\n\\n\\n### 2\u3001script\\\\_fileds\\n\\n<https://www.elastic.co/guide/en/elasticsearch/reference/8.2/search-fields.html#script-fields>\\n\\n```json\\nGET index_02/_search\\n{\\n  \\"query\\": {\\n    \\"match_all\\": {}\\n  },\\n  \\"script_fields\\": {\\n    \\"test1\\": {\\n      \\"script\\": {\\n        \\"lang\\": \\"painless\\",\\n        \\"source\\": \\"doc[\'is_published\'].value * 2\\"\\n      }\\n    }\\n  },\\n  \\"_source\\": [\\"is_published\\"]\\n}\\n```\\n\\n```json\\n#! Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security.\\n{\\n  \\"took\\" : 1,\\n  \\"timed_out\\" : false,\\n  \\"_shards\\" : {\\n    \\"total\\" : 1,\\n    \\"successful\\" : 1,\\n    \\"skipped\\" : 0,\\n    \\"failed\\" : 0\\n  },\\n  \\"hits\\" : {\\n    \\"total\\" : {\\n      \\"value\\" : 3,\\n      \\"relation\\" : \\"eq\\"\\n    },\\n    \\"max_score\\" : 1.0,\\n    \\"hits\\" : [\\n      {\\n        \\"_index\\" : \\"index_02\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"UiPsXoMByQPvkdn1ZDUN\\",\\n        \\"_score\\" : 1.0,\\n        \\"_source\\" : {\\n          \\"is_published\\" : 1\\n        },\\n        \\"fields\\" : {\\n          \\"test1\\" : [\\n            2\\n          ]\\n        }\\n      },\\n      {\\n        \\"_index\\" : \\"index_02\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"UyPsXoMByQPvkdn1eTUO\\",\\n        \\"_score\\" : 1.0,\\n        \\"_source\\" : {\\n          \\"is_published\\" : 2\\n        },\\n        \\"fields\\" : {\\n          \\"test1\\" : [\\n            4\\n          ]\\n        }\\n      },\\n      {\\n        \\"_index\\" : \\"index_02\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"VCPsXoMByQPvkdn1pTWj\\",\\n        \\"_score\\" : 1.0,\\n        \\"_source\\" : {\\n          \\"is_published\\" : 0\\n        },\\n        \\"fields\\" : {\\n          \\"test1\\" : [\\n            0\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\\n```\\n","isLeaf":true}]},{"key":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219","path":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219","route":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219","leaf":false,"title":"03-\u6620\u5c04\u89c4\u5219","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219/01-ES\u7684\u6620\u5c04.md","path":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219/01-ES\u7684\u6620\u5c04.md","route":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219/01-ES\u7684\u6620\u5c04.md","leaf":true,"title":"01-ES\u7684\u6620\u5c04","depth":2,"content":"---\\ntitle: 01-ES\u7684\u6620\u5c04\\nurl: https://www.yuque.com/gaollard/efekv4/npao96\\n---\\n\\n\\n\\n### 1. \u6620\u5c04\u7684\u4ecb\u7ecd\\n\\n\u6620\u5c04\uff08Mapping\uff09\u662f\u5b9a\u4e49\u6587\u6863\u53ca\u5176\u5305\u542b\u7684\u5b57\u6bb5\u5982\u4f55\u5b58\u50a8\u5728\u7d22\u5f15\u5e93\u4e2d\u7684\u8fc7\u7a0b\u3002\\n\\n\u6620\u5c04\u5b9a\u4e49\u8fd8\u5305\u62ec\u5143\u6570\u636e\u5b57\u6bb5\uff08\u5982\\\\_source\u5b57\u6bb5\uff09\uff0c\u5b83\u81ea\u5b9a\u4e49\u5982\u4f55\u5904\u7406\u6587\u6863\u5173\u8054\u7684\u5143\u6570\u636e\uff0c\u800cElasticsearch\u652f\u6301 `\u52a8\u6001\u6620\u5c04` \u548c `\u663e\u5f0f\u6620\u5c04`\u3002\\n\\n> \u52a8\u6001\u6620\u5c04\\n>\\n> ES \u4f1a\u6839\u636e\u5199\u5165\u7684\u6587\u6863\u5185\u5bb9\u81ea\u52a8\u6dfb\u52a0\u5b57\u6bb5\u548c\u5b57\u6bb5\u7c7b\u578b\uff0c\u7528\u6237\u53ea\u8d1f\u8d23\u5199\u5165\u5177\u4f53\u7684\u6570\u636e\u5373\u53ef\u3002\\n\\n> \u663e\u5f0f\u6620\u5c04\\n>\\n> \u663e\u5f0f\u6620\u5c04\u9700\u8981\u7528\u6237\u7cbe\u786e\u5730\u9009\u62e9\u5982\u4f55\u5b9a\u4e49\u6620\u5c04\uff0c\u4f8b\u5982\u54ea\u4e9b\u5b57\u7b26\u4e32\u5b57\u6bb5\u5e94\u88ab\u89c6\u4e3a\u5168\u6587\u5b57\u6bb5\uff0c\u54ea\u4e9b\u5b57\u6bb5\u662f\u6570\u5b57\u6216\u8005\u65e5\u671f\u683c\u5f0f\u3002\u663e\u5f0f\u7d22\u5f15\u662f\u7528\u4e8e\u63a7\u5236\u52a8\u6001\u6dfb\u52a0\u5b57\u6bb5\u6620\u5c04\u7684\u81ea\u5b9a\u4e49\u89c4\u5219\uff0c\u800c\u4e14\u5728\u663e\u793a\u6620\u5c04\u4e2d\u4f7f\u7528 runtime\uff08\u8fd0\u884c\u65f6\u6620\u5c04\uff09\u65f6\u65e0\u987b\u91cd\u65b0\u521b\u5efa\u7d22\u5f15\u5c31\u53ef\u4ee5\u66f4\u6539\u6570\u636e\u5b58\u50a8\u7684\u89c4\u5219\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219/02-\u663e\u5f0f\u6620\u5c04.md","path":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219/02-\u663e\u5f0f\u6620\u5c04.md","route":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219/02-\u663e\u5f0f\u6620\u5c04.md","leaf":true,"title":"02-\u663e\u5f0f\u6620\u5c04","depth":2,"content":"---\\ntitle: 02-\u663e\u5f0f\u6620\u5c04\\nurl: https://www.yuque.com/gaollard/efekv4/an5hpo\\n---\\n\\n\u5c3d\u7ba1\u52a8\u6001\u6620\u5c04\u5f88\u6709\u7528\uff0c\u4f46\u662f\u4e3a\u4e86\u6ee1\u8db3\u4e1a\u52a1\u7684\u5404\u79cd\u9700\u6c42\uff0c\u6709\u65f6\u8fd8\u662f\u9700\u8981\u4e3a\u7d22\u5f15\u663e\u5f0f\u521b\u5efa\u6620\u5c04\u5173\u7cfb\u3002\u8bed\u6cd5\u5982\u4e0b\uff1a\\n\\n```json\\n#\u521b\u5efa\u540d\u4e3a `myindex007` \u7684\u7d22\u5f15\u5e93\u5e76\u4e3a\u5176\u521b\u5efa\u6620\u5c04\u5173\u7cfb\\nPUT /myindex007\\n{\\n  \\"mappings\\": {\\n     \\"properties\\": {\\n         \\"name\\":{\\n            \\"type\\": \\"text\\"\\n         },\\n         \\"age\\":{\\n           \\"type\\": \\"long\\"\\n         },\\n          \\"actiontime\\":\\n          {\\n            \\"type\\": \\"date\\",\\n            \\"format\\":\\"yyyy-MM-dd HH:mm:ss\\" \\n          },\\n          \\"describe\\":\\n          {\\n            \\"type\\": \\"keyword\\"\\n          }\\n     }\\n  } \\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219/03-\u52a8\u6001\u6620\u5c04.md","path":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219/03-\u52a8\u6001\u6620\u5c04.md","route":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219/03-\u52a8\u6001\u6620\u5c04.md","leaf":true,"title":"03-\u52a8\u6001\u6620\u5c04","depth":2,"content":"---\\ntitle: 03-\u52a8\u6001\u6620\u5c04\\nurl: https://www.yuque.com/gaollard/efekv4/cugcsc\\n---\\n\\n\\n\\n### 1. \u52a8\u6001\u6620\u5c04\\n\\n\u4f7f\u7528\u52a8\u6001\u6620\u5c04\u5728\u5199\u5165\u7d22\u5f15\u6587\u6863\u6570\u636e\u65f6\uff0c\u4e0d\u9700\u8981\u5148\u521b\u5efa\u7d22\u5f15\u548c\u5b9a\u4e49\u5b57\u6bb5\u3002\u7d22\u5f15\u4e2d\u7684\u5b57\u6bb5\u548c\u5b57\u6bb5\u7c7b\u578b\u90fd\u5c06\u81ea\u52a8\u521b\u5efa\u3002\\n\\n`Elasticsearch` \u5728\u7528\u6237\u5199\u5165\u6570\u636e\u65f6\u68c0\u6d4b\u5230\u65b0\u7684\u5b57\u6bb5\u65f6\uff0c\u4f1a\u52a8\u6001\u5730\u5c06\u8be5\u5b57\u6bb5\u6dfb\u52a0\u5230\u7c7b\u578b\u6620\u5c04\u4e2d\uff0c\u7531 `dynamic` \u53c2\u6570\u6765\u63a7\u5236\u6b64\u884c\u4e3a\u3002\\n\\n\\n\\n### 2. \u52a8\u6001\u6a21\u5f0f dynamic: true\\n\\n\u6839\u636e\u8f93\u5165\u6587\u6863\u7684\u5185\u5bb9\uff0c\u81ea\u52a8\u63a8\u65ad\u5b57\u6bb5\u548c\u7c7b\u578b\uff0c\u521b\u5efa mapping\u3002\\n\\n```shell\\n# \u5047\u8bbe\u4e0d\u5b58 test_04 \u7d22\u5f15\\nPOST /test_04/_doc\\n{\\n  \\"name\\": \\"hi\\"\\n}\\n\\n# \u83b7\u53d6\u7d22\u5f15\u4fe1\u606f\\nGET /test_04\\n{\\n  \\"test_04\\" : {\\n    \\"aliases\\" : { },\\n    \\"mappings\\" : {\\n      \\"properties\\" : {\\n        \\"name\\" : {\\n          \\"type\\" : \\"text\\",\\n          \\"fields\\" : {\\n            \\"keyword\\" : {\\n              \\"type\\" : \\"keyword\\",\\n              \\"ignore_above\\" : 256\\n            }\\n          }\\n        }\\n      }\\n    },\\n    # \u7701\u7565\\n    \\"settings\\" : {}\\n  }\\n}\\n```\\n\\n\\n\\n### 3. \u975e\u52a8\u6001\u6a21\u5f0f dynamic: false\\n\\n\u65e0\u6cd5\u6839\u636e\u8f93\u5165\u6587\u6863\u7684\u5185\u5bb9\u81ea\u52a8\u521b\u5efa mapping\uff0c\u9700\u8981\u624b\u52a8\u521b\u5efa mapping\u3002\\n\\n```shell\\n# \u5047\u8bbe\u4e0d\u5b58 test_05 \u7d22\u5f15\\nPUT test_05\\n{\\n \\"mappings\\": {\\n   \\"dynamic\\": false,\\n   \\"properties\\": {\\n      \\"name\\": {\\n        \\"type\\" : \\"text\\",\\n        \\"fields\\" : {\\n          \\"keyword\\" : {\\n            \\"type\\" : \\"keyword\\",\\n            \\"ignore_above\\" : 256\\n          }\\n        }\\n      }\\n   }\\n }\\n}\\n\\nGET /test_05\\n{\\n  \\"test_05\\" : {\\n    \\"aliases\\" : { },\\n    \\"mappings\\" : {\\n      \\"dynamic\\" : \\"false\\",\\n      \\"properties\\" : {\\n        \\"name\\" : {\\n          \\"type\\" : \\"text\\",\\n          \\"fields\\" : {\\n            \\"keyword\\" : {\\n              \\"type\\" : \\"keyword\\",\\n              \\"ignore_above\\" : 256\\n            }\\n          }\\n        }\\n      }\\n    },\\n    \\"settings\\" : {}\\n  }\\n}\\n```\\n\\n\u5982\u679c\u6709\u5b57\u6bb5\u4e0d\u5728mapping\u4e2d\uff0c\u4f9d\u7136\u53ef\u4ee5\u5b58\u50a8\u548c\u8bfb\u53d6\uff0c\u4f46\u662f\u8be5\u5b57\u6bb5\u4e0d\u5728mapping\u4e2d\uff0c\u56e0\u6b64\u4e5f\u65e0\u6cd5\u6839\u636e\u8be5\u5b57\u6bb5\u8fdb\u884c\u68c0\u7d22\u3002\\n\\n\\n\\n### 3. \u4e25\u683c\u6a21\u5f0f dynamic:strict\\n\\n\u7c7b\u4f3c\u975e\u52a8\u6001\u6a21\u5f0f\uff0c\u5982\u679c\u6709\u5b57\u6bb5\u4e0d\u5728mapping\u4e2d\uff0c\u65e0\u6cd5\u5b58\u50a8\uff0c\u4f1a\u76f4\u63a5\u62a5\u9519\uff0c\u4e25\u683c\u6a21\u5f0f\u5b9e\u9645\u4e0a\u5c31\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684\u8868\u4e86\uff1b\\n\\n```shell\\n# \u5047\u8bbe\u4e0d\u5b58 test_06 \u7d22\u5f15\\nPUT test_06\\n{\\n \\"mappings\\": {\\n   \\"dynamic\\": \\"strict\\",\\n   \\"properties\\": {\\n      \\"name\\": {\\n        \\"type\\" : \\"text\\",\\n        \\"fields\\" : {\\n          \\"keyword\\" : {\\n            \\"type\\" : \\"keyword\\",\\n            \\"ignore_above\\" : 256\\n          }\\n        }\\n      }\\n   }\\n }\\n}\\n\\nGET /test_06\\n{\\n  \\"test_06\\" : {\\n    \\"aliases\\" : { },\\n    \\"mappings\\" : {\\n      \\"dynamic\\" : \\"strict\\",\\n      \\"properties\\" : {\\n        \\"name\\" : {\\n          \\"type\\" : \\"text\\",\\n          \\"fields\\" : {\\n            \\"keyword\\" : {\\n              \\"type\\" : \\"keyword\\",\\n              \\"ignore_above\\" : 256\\n            }\\n          }\\n        }\\n      }\\n    },\\n  }\\n}\\n```\\n\\n```shell\\nPOST /test_06/_doc\\n{\\n  \\"name\\": \\"hi\\",\\n  \\"wife\\": \\"world\\"\\n}\\n\\n# \u65e0\u6cd5\u63d2\u5165\\n{\\n  \\"error\\": {\\n    \\"root_cause\\": [\\n      {\\n        \\"type\\": \\"strict_dynamic_mapping_exception\\",\\n        \\"reason\\": \\"mapping set to strict, dynamic introduction of [wife] within [_doc] is not allowed\\"\\n      }\\n    ],\\n    \\"type\\": \\"strict_dynamic_mapping_exception\\",\\n    \\"reason\\": \\"mapping set to strict, dynamic introduction of [wife] within [_doc] is not allowed\\"\\n  },\\n  \\"status\\": 400\\n}\\n```\\n\\n\\n\\n#### \u65e5\u671f\u68c0\u6d4b\\n\\n\u542f\u7528date\\\\_detection\u9009\u9879\uff08\u9ed8\u8ba4\u542f\u7528\uff09\uff0c\u5728\u68c0\u67e5\u65b0\u6dfb\u52a0\u7684\u5b57\u7b26\u4e32\u5b57\u6bb5\u5185\u5bb9\u662f\u5426\u4e0e\u6307\u5b9a\u7684\u4efb\u4f55\u65e5\u671f\u6a21\u5f0f\u5339\u914d\u65f6\uff0c\u5982\u679c\u627e\u5230\u5339\u914d\u9879\uff0c\u5219\u4f1a\u6dfb\u52a0\u4e00\u4e2a\u5177\u6709date\u683c\u5f0f\u7684\u65b0\u5b57\u6bb5\u3002\\n\\n\u5982\u679c\u60f3\u8981\u7981\u7528\u65e5\u671f\u68c0\u6d4b\uff0c\u628adate\\\\_detection\u53c2\u6570\u8bbe\u7f6e\u4e3afalse\u5373\u53ef\uff1a\\n\\n```shell\\nPUT myindex\\n{\\n  \\"mappings\\": {\\n    \\"date_detection\\": false\\n  }\\n}\\n```\\n\\n\u7981\u7528\u65e5\u671f\u68c0\u6d4b\u540e\uff0c\u5982\u679c\u63d2\u5165\u7684\u6570\u636e\u4e3a\u65e5\u671f\u683c\u5f0f\uff0c\u90a3\u4e48\u5176\u7c7b\u578b\u662ftext\uff0c\u800c\u5b50\u7c7b\u578b\u662fkeyword\u3002\\n\\n\\n\\n#### \u6570\u5b57\u68c0\u6d4b\\n\\n```shell\\n#\u521b\u5efa\u6620\u5c04\u5e76\u4f7f\u7528\u6570\u5b57\u68c0\u6d4b\u6a21\u5f0f\\nPUT myindex\\n{\\n  \\"mappings\\": {\\n    \\"numeric_detection\\": true\\n  }\\n}\\n\\n#\u6dfb\u52a0\u6587\u6863\u6570\u636e\uff08\u9ed8\u8ba4\u4f7f\u7528\u52a8\u6001\u6620\u5c04\uff09\\nPUT myindex/_doc/1\\n{\\n  \\"my_float\\":   \\"1.0\\", \\n  \\"my_integer\\": \\"1\\" \\n}\\n\\n#\u67e5\u8be2\u6620\u5c04\u4fe1\u606f\\nGET myindex/_mapping\\n{\\n  \\"myindex\\" : {\\n    \\"mappings\\" : {\\n      \\"numeric_detection\\" : true,\\n      \\"properties\\" : {\\n        \\"my_float\\" : {\\n          \\"type\\" : \\"float\\"\\n        },\\n        \\"my_integer\\" : {\\n          \\"type\\" : \\"long\\"\\n        }\\n      }\\n    }\\n  }\\n}\\n```\\n\\n\u5728\u6ca1\u6709\u5f00\u542f\u6570\u5b57\u68c0\u6d4b\u6a21\u5f0f\u65f6\uff0c\u65e0\u8bba\u662f\u5b57\u6bb5\u7684\u7236\u7c7b\u578b\uff0c\u8fd8\u662f\u5b50\u7c7b\u578b\uff0c\u90fd\u4e0d\u4f1a\u88ab\u6620\u5c04\u4e3a\u6570\u5b57\u7c7b\u578b\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219/04-\u52a8\u6001\u6620\u5c04\u6a21\u677f.md","path":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219/04-\u52a8\u6001\u6620\u5c04\u6a21\u677f.md","route":"/Elasticsearch/03-\u6620\u5c04\u89c4\u5219/04-\u52a8\u6001\u6620\u5c04\u6a21\u677f.md","leaf":true,"title":"04-\u52a8\u6001\u6620\u5c04\u6a21\u677f","depth":2,"content":"---\\ntitle: 04-\u52a8\u6001\u6620\u5c04\u6a21\u677f\\nurl: https://www.yuque.com/gaollard/efekv4/lhry0u\\n---\\n\\n\\n\\n### 1. \u52a8\u6001\u6620\u5c04\u6a21\u677f\\n\\n\u52a8\u6001\u6620\u5c04\u6a21\u677f\u4f7f\u5f97\u5728\u9ed8\u8ba4\u7684\u52a8\u6001\u5b57\u6bb5\u6620\u5c04\u89c4\u5219\u4e4b\u5916\u80fd\u591f\u66f4\u597d\u5730\u63a7\u5236 Elasticsearch \u5982\u4f55\u6620\u5c04\u6570\u636e\u3002\\n\\n\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u5c06 `dynamic` \u53c2\u6570\u8bbe\u7f6e\u4e3a `true` \u6765\u542f\u7528\u52a8\u6001\u6620\u5c04\u6a21\u5f0f\uff0c\u7136\u540e\u4f7f\u7528\u52a8\u6001\u6a21\u677f\u6765\u5b9a\u4e49\u81ea\u5b9a\u4e49\u6620\u5c04\uff0c\u8fd9\u4e9b\u6620\u5c04\u53ef\u4ee5\u6839\u636e\u5339\u914d\u6761\u4ef6\u5e94\u7528\u4e8e\u52a8\u6001\u6dfb\u52a0\u7684\u5b57\u6bb5\u3002\\n\\n\\n\\n### 2. \u76f8\u5173\u53c2\u6570\\n\\n- match\\\\_mapping\\\\_type\uff1a\u8868\u793a\u5bf9 Elasticsearch \u68c0\u6d4b\u5230\u7684\u6570\u636e\u7c7b\u578b\u8fdb\u884c\u64cd\u4f5c\u3002\\n- match \u548c unmatch\uff1a\u8868\u793a\u4f7f\u7528\u6a21\u5f0f\u5339\u914d\u6765\u5339\u914d\u5b57\u6bb5\u540d\u79f0\u3002\\n\\n**\u8bed\u6cd5**\\n\\n```json\\n{\\n  \\"dynamic_templates\\": [\\n    {\\n      \\"my_template_name\\": {\\n        ... match conditions ...\\n        \\"mapping\\": { ... }\\n      }\\n    },\\n    ...\\n  ]\\n}\\n```\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u52a8\u6001\u6620\u5c04\u6a21\u677f\u672a\u5b9a\u4e49 match\\\\_mapping\\\\_type \u6216\u8005 match \u53c2\u6570\uff0c\u5219\u4e0d\u4f1a\u5339\u914d\u4efb\u4f55\u5b57\u6bb5\u3002\\n\\n\\n\\n### 3. \u4f7f\u7528\u8303\u4f8b\\n\\n```json\\nPUT myindex\\n{\\n  \\"mappings\\": {\\n    \\"dynamic_templates\\": [\\n      {\\n        \\"one\\": {\\n          \\"match_mapping_type\\": \\"long\\",\\n          \\"mapping\\": {\\n            \\"type\\": \\"integer\\"\\n          }\\n        }\\n      },\\n      {\\n        \\"two\\": {\\n          \\"match_mapping_type\\": \\"string\\",\\n          \\"mapping\\": {\\n            \\"type\\": \\"text\\",\\n            \\"fields\\": {\\n              \\"raw\\": {\\n                \\"type\\": \\"keyword\\",\\n                \\"ignore_above\\": 256\\n              }\\n            }\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}\\n```\\n\\n\u5f53\u6dfb\u52a0\u6587\u6863\u7684\u65f6\u5019\uff0c\u5982\u679cElasticsearch\u7a0b\u5e8f\u4e2d\u7684JsonParser\u5bf9\u8c61\u89e3\u6790\u51fa\u6765\u7684\u7c7b\u578b\u662fmatch\\\\_mapping\\\\_type\u6307\u5b9a\u7684\u7c7b\u578b\uff0c\u7a0b\u5e8f\u5c31\u4f1a\u4f7f\u7528\u5bf9\u5e94\u7684mapping\u4f5c\u4e3a\u6620\u5c04\u89c4\u5219\u3002\\n","isLeaf":true}]},{"key":"/Elasticsearch/04-\u5206\u8bcd\u5668","path":"/Elasticsearch/04-\u5206\u8bcd\u5668","route":"/Elasticsearch/04-\u5206\u8bcd\u5668","leaf":false,"title":"04-\u5206\u8bcd\u5668","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/04-\u5206\u8bcd\u5668/01-\u5206\u8bcd\u5668.md","path":"/Elasticsearch/04-\u5206\u8bcd\u5668/01-\u5206\u8bcd\u5668.md","route":"/Elasticsearch/04-\u5206\u8bcd\u5668/01-\u5206\u8bcd\u5668.md","leaf":true,"title":"01-\u5206\u8bcd\u5668","depth":2,"content":"---\\ntitle: 01-\u5206\u8bcd\u5668\\nurl: https://www.yuque.com/gaollard/efekv4/ypgn4p\\n---\\n\\n\u201c\u5206\u8bcd\u201d \u662f\u5728 Elasticsearch \u4e2d\u8fdb\u884c\u5b58\u50a8\u548c\u5168\u6587\u641c\u7d22\u7684\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u90e8\u5206\uff0c\u56e0\u4e3a\u53ea\u6709\u9009\u62e9\u5408\u9002\u7684\u5206\u8bcd\u5668\u624d\u80fd\u66f4\u9ad8\u6548\u5730\u8fdb\u884c\u5168\u6587\u641c\u7d22\u3002Elasticsearch \u4e2d\u63d0\u4f9b\u4e86\u591a\u79cd\u5185\u7f6e\u7684\u5206\u8bcd\u5668\uff0c\u9488\u5bf9\u4e0d\u540c\u7684\u573a\u666f\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u5206\u8bcd\u5668\u3002\u8fd9\u4e9b\u5206\u8bcd\u5668\u53ea\u5bf9 `text` \u7c7b\u578b\u5b57\u6bb5\u6709\u6548\uff0c\u800c\u5bf9\u4e8e `keyword` \u7c7b\u578b\u5b57\u6bb5\u65e0\u6548\u3002\u672c\u7ae0\u4e3b\u8981\u5185\u5bb9\\n\\n- simple \u5206\u8bcd\u5668\u8be6\u89e3\\n- simple\\\\_pattern \u5206\u8bcd\u5668\u8be6\u89e3\\n- simple\\\\_pattern\\\\_split \u5206\u8bcd\u5668\u8be6\u89e3\\n- text\u7c7b\u578b\u548ckeyword\u7c7b\u578b\u7684\u533a\u522b\\n- IK\u5206\u8bcd\u5668\u63d2\u4ef6\u7684\u5404\u79cd\u73af\u5883\u5b89\u88c5\\n- IK\u5206\u8bcd\u5668\u7684\u4f7f\u7528\u6a21\u5f0f\u548c\u8303\u4f8b\\n\\n\\n\\n### simple \u5206\u8bcd\u5668\\n\\nsimple \u5206\u8bcd\u5668\u662f\u5bf9\u5b57\u6bcd\u6587\u672c\u8fdb\u884c\u5206\u8bcd\u62c6\u5206\uff0c\u5e76\u5c06\u5206\u8bcd\u540e\u7684\u5185\u5bb9\u8f6c\u6362\u6210\u5c0f\u5199\u683c\u5f0f\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n```shell\\n#\u5bf9\u6307\u5b9a\u5185\u5bb9\u6839\u636e\\"simple\\"\u5206\u8bcd\u5668\u8fdb\u884c\u5206\u8bcd\\nPOST _analyze\\n{\\n  \\"analyzer\\": \\"simple\\",\\n  \\"text\\": \\"Our usual study and experience are our most powerful support at a critical moment\\"\\n}\\n```\\n\\n\\"Our usual study and experience are our most powerful support at acritical moment\\"\u88ab\u5206\u6210\u4e8614\u4e2a\u5173\u952e\u5b57\u5e76\u4e14\u6240\u6709\u5b57\u6bcd\u90fd\u662f\u5c0f\u5199\u7684\u3002\\n\\n\\n\\n### simple\\\\_pattern \u5206\u8bcd\u5668\\n\\n\u6839\u636e\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u5206\u8bcd\u7684\u5206\u8bcd\u5668:\\n\\n```shell\\n#\u521b\u5efa\u6620\u5c04\u5e76\u5b9a\u4e49\u5b57\u6bb5\u5185\u5bb9\u5206\u8bcd\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\\nPUT myindex-simple_pattern\\n{\\n  \\"settings\\": {\\n    \\"analysis\\": {\\n      \\"analyzer\\": {\\n        \\"my_analyzer\\": {\\n          \\"tokenizer\\": \\"my_tokenizer\\"\\n        }\\n      },\\n      \\"tokenizer\\": {\\n        \\"my_tokenizer\\": {\\n          \\"type\\": \\"simple_pattern\\", #\u6b63\u5219\u8868\u8fbe\u5f0f\u8868\u793a\uff0c\u5982\u679c\u8fde\u7eed\u67093\u4e2a\u6570\u5b57\u5728\u4e00\u8d77\uff0c\u5219\u53ef\u4ee5\u88ab\u5f53\u4f5c\u4e00\u4e2a\u5355\u8bcd\\n          \\"pattern\\": \\"[0123456789]{3}\\" \\n        }\\n      }\\n    }\\n  }\\n}\\n\\n#\u5bf9\u6307\u5b9a\u5185\u5bb9\u6839\u636e\\"my_analyzer\\"\u5206\u8bcd\u5668\u8fdb\u884c\u5206\u8bcd\\nPOST myindex-simple_pattern/_analyze\\n{\\n  \\"analyzer\\": \\"my_analyzer\\",\\n  \\"text\\": \\"fd-123-4567-890-xxd9-689-x987\\"\\n}\\n\\n\\n{\\n  \\"tokens\\" : [\\n    {\\n      \\"token\\" : \\"123\\",\\n      \\"start_offset\\" : 3,\\n      \\"end_offset\\" : 6,\\n      \\"type\\" : \\"word\\",\\n      \\"position\\" : 0\\n    },\\n    {\\n      \\"token\\" : \\"456\\",\\n      \\"start_offset\\" : 7,\\n      \\"end_offset\\" : 10,\\n      \\"type\\" : \\"word\\",\\n      \\"position\\" : 1\\n    },\\n    {\\n      \\"token\\" : \\"890\\",\\n      \\"start_offset\\" : 12,\\n      \\"end_offset\\" : 15,\\n      \\"type\\" : \\"word\\",\\n      \\"position\\" : 2\\n    },\\n    {\\n      \\"token\\" : \\"689\\",\\n      \\"start_offset\\" : 21,\\n      \\"end_offset\\" : 24,\\n      \\"type\\" : \\"word\\",\\n      \\"position\\" : 3\\n    },\\n    {\\n      \\"token\\" : \\"987\\",\\n      \\"start_offset\\" : 26,\\n      \\"end_offset\\" : 29,\\n      \\"type\\" : \\"word\\",\\n      \\"position\\" : 4\\n    }\\n  ]\\n}\\n```\\n\\n\\n\\n### simple\\\\_pattern\\\\_split \u5206\u8bcd\u5668\\n\\nsimple\\\\_pattern\\\\_split\uff08\u6307\u5b9a\u5206\u8bcd\u7b26\u53f7\uff09\u5206\u8bcd\u5668\u6bd4 `simple_pattern` \u5206\u8bcd\u5668\u529f\u80fd\u66f4\u6709\u9650\uff0c\u4f46\u662f\u5206\u8bcd\u6548\u7387\u8f83\u9ad8\u3002\u9ed8\u8ba4\u6a21\u5f0f\u4e0b\uff0c\u5b83\u7684\u5206\u8bcd\u5339\u914d\u7b26\u53f7\u662f\u7a7a\u5b57\u7b26\u4e32\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4f7f\u7528\u6b64\u5206\u8bcd\u5668\u5e94\u8be5\u6839\u636e\u4e1a\u52a1\u8fdb\u884c\u914d\u7f6e\uff0c\u800c\u4e0d\u662f\u7b80\u5355\u5730\u4f7f\u7528\u9ed8\u8ba4\u5339\u914d\u6a21\u5f0f\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n```shell\\n#\u521b\u5efa\u7d22\u5f15\u6620\u5c04\u5e76\u6307\u5b9a\u5b57\u6bb5\u5185\u5bb9\u5206\u8bcd\u5339\u914d\u7b26\u53f7\\nPUT myindex-simple_pattern_split\\n{\\n  \\"settings\\": {\\n    \\"analysis\\": {\\n      \\"analyzer\\": {\\n        \\"my_analyzer\\": {\\n          \\"tokenizer\\": \\"my_tokenizer\\"\\n        }\\n      },\\n      \\"tokenizer\\": {\\n        \\"my_tokenizer\\": {\\n          \\"type\\": \\"simple_pattern_split\\",\\n          #\u5f53\u9047\u5230\\"-\\"\u7b26\u53f7\u5c31\u8fdb\u884c\u5206\u8bcd\\n          \\"pattern\\": \\"-\\"\\n        }\\n      }\\n    }\\n  }\\n}\\n\\n#\u5bf9\u6307\u5b9a\u5185\u5bb9\u6839\u636e\\"-\\"\u5206\u9694\u7b26\u5339\u914d\u89c4\u5219\u8fdb\u884c\u5206\u8bcd\\nPOST myindex-simple_pattern_split/_analyze\\n{\\n  \\"analyzer\\": \\"my_analyzer\\",\\n  \\"text\\": \\"fd-123-4567896-890-xxd9-689-x987\\"\\n}\\n\\n{\\n  \\"tokens\\" : [\\n    {\\n      \\"token\\" : \\"fd\\",\\n      \\"start_offset\\" : 0,\\n      \\"end_offset\\" : 2,\\n      \\"type\\" : \\"word\\",\\n      \\"position\\" : 0\\n    },\\n    {\\n      \\"token\\" : \\"123\\",\\n      \\"start_offset\\" : 3,\\n      \\"end_offset\\" : 6,\\n      \\"type\\" : \\"word\\",\\n      \\"position\\" : 1\\n    },\\n    {\\n      \\"token\\" : \\"4567896\\",\\n      \\"start_offset\\" : 7,\\n      \\"end_offset\\" : 14,\\n      \\"type\\" : \\"word\\",\\n      \\"position\\" : 2\\n    },\\n    {\\n      \\"token\\" : \\"890\\",\\n      \\"start_offset\\" : 15,\\n      \\"end_offset\\" : 18,\\n      \\"type\\" : \\"word\\",\\n      \\"position\\" : 3\\n    },\\n    {\\n      \\"token\\" : \\"xxd9\\",\\n      \\"start_offset\\" : 19,\\n      \\"end_offset\\" : 23,\\n      \\"type\\" : \\"word\\",\\n      \\"position\\" : 4\\n    },\\n    {\\n      \\"token\\" : \\"689\\",\\n      \\"start_offset\\" : 24,\\n      \\"end_offset\\" : 27,\\n      \\"type\\" : \\"word\\",\\n      \\"position\\" : 5\\n    },\\n    {\\n      \\"token\\" : \\"x987\\",\\n      \\"start_offset\\" : 28,\\n      \\"end_offset\\" : 32,\\n      \\"type\\" : \\"word\\",\\n      \\"position\\" : 6\\n    }\\n  ]\\n}\\n```\\n\\n\\n\\n### standard \u5206\u8bcd\u5668\\n\\nstandard\uff08\u6807\u51c6\uff09\u5206\u8bcd\u5668\u662fElasticsearch\u4e2d\u9ed8\u8ba4\u7684\u5206\u8bcd\u5668\uff0c\u5b83\u662f\u57fa\u4e8eUnicode\u6587\u672c\u5206\u5272\u7b97\u6cd5\u8fdb\u884c\u5206\u8bcd\u7684\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n```shell\\n#\u5bf9\u6307\u5b9a\u5185\u5bb9\u6839\u636estandard\u5206\u8bcd\u5668\u8fdb\u884c\u5206\u8bcd\\nPOST _analyze\\n{\\n  \\"analyzer\\": \\"standard\\",\\n  \\"text\\": \\"Our usual study and experience are our most powerful support at a critical moment\\"\\n}\\n\\n[\\"Our\\",\\"usual\\",\\"study\\",\\"and\\",\\"experience\\",\\"are\\",\\"our\\",\\"most\\",\\"powerful \\",\\"support\\",\\" at\\",\\" a\\",\\" critical\\",\\" moment\\"]\\n```\\n\\nstandard\u5206\u8bcd\u5668\u8fd8\u63d0\u4f9b\u4e86\u88684-1\u6240\u793a\u7684\u4e24\u79cd\u53c2\u6570\u3002\\n\\n![](https://s3.airtlab.com/elasticsearch/20220428213706.png)\\n\\n```shell\\n#\u521b\u5efa\u7d22\u5f15\u6620\u5c04\uff0c\u5bf9\u5206\u8bcd\u89c4\u5219\u8fdb\u884c\u914d\u7f6e\uff0c\u89c4\u5219\u662f\u5206\u8bcd\u540e\u5355\u8bcd\u7684\u6700\u5927\u957f\u5ea6\u662f6\uff0c\u6839\u636e\u82f1\u8bed\u8bed\u6cd5\u8fdb\u884c\u5206\u6790\\nPUT standard_index\\n{\\n  \\"settings\\": {\\n    \\"analysis\\": {\\n      \\"analyzer\\": {\\n        \\"english_analyzer\\":{\\n          \\"type\\":\\"standard\\",\\n          \\"max_token_length\\":6,\\n          \\"stopwords\\":\\"_english_\\"\\n        }\\n      }\\n    }\\n  }\\n}\\n\\n#\u5bf9\u6307\u5b9a\u5185\u5bb9\u6839\u636e\u5982\u4e0a\u89c4\u5219\u8fdb\u884c\u5206\u8bcd\\nPOST standard_index/_analyze\\n{\\n  \\"analyzer\\": \\"english_analyzer\\",\\n  \\"text\\": \\"Our usual study and experience are our most powerful support at a critical moment\\"\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/04-\u5206\u8bcd\u5668/02-\u81ea\u5b9a\u4e49\u4e0estandard\u7c7b\u4f3c\u7684\u5206\u8bcd\u5668.md","path":"/Elasticsearch/04-\u5206\u8bcd\u5668/02-\u81ea\u5b9a\u4e49\u4e0estandard\u7c7b\u4f3c\u7684\u5206\u8bcd\u5668.md","route":"/Elasticsearch/04-\u5206\u8bcd\u5668/02-\u81ea\u5b9a\u4e49\u4e0estandard\u7c7b\u4f3c\u7684\u5206\u8bcd\u5668.md","leaf":true,"title":"02-\u81ea\u5b9a\u4e49\u4e0estandard\u7c7b\u4f3c\u7684\u5206\u8bcd\u5668","depth":2,"content":"---\\ntitle: 02-\u81ea\u5b9a\u4e49\u4e0estandard\u7c7b\u4f3c\u7684\u5206\u8bcd\u5668\\nurl: https://www.yuque.com/gaollard/efekv4/lex3et\\n---\\n\\n\u5982\u679c\u5e0c\u671b\u81ea\u5b9a\u4e49\u4e00\u4e2a\u4e0estandard\u7c7b\u4f3c\u7684\u5206\u8bcd\u5668\uff0c\u7528\u6237\u53ea\u9700\u8981\u5728\u539f\u5b9a\u4e49\u4e2d\u914d\u7f6e\u53c2\u6570\u5373\u53ef\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n```shell\\n#\u521b\u5efa\u7d22\u5f15\u6620\u5c04\uff0c\u81ea\u5b9a\u4e49\u4e00\u4e2a\u5206\u8bcd\u5668\u89c4\u5219\uff1a\u6839\u636e\u5173\u952e\u5b57\uff08keyword\uff09\u7c7b\u578b\u5206\u8bcd\uff0c\u5c06\u5355\u8bcd\u5168\u90e8\u8f6c\u6210\u5c0f\u5199\\nPUT custom_standard_analyzer_index\\n{\\n  \\"settings\\": {\\n    \\"analysis\\": {\\n      \\"analyzer\\": {\\n        \\"rebuild_analyzer\\":{\\n          \\"type\\":\\"keyword\\",          #\u6839\u636e\u5173\u952e\u5b57\u7c7b\u578b\u5206\u8bcd\\n          \\"tokenizer\\":\\"standard\\",\\n          \\"filter\\":[\\"lowercase\\"]    #\u5355\u8bcd\u90fd\u8f6c\u6210\u5c0f\u5199\\n        }\\n      }\\n    }\\n  }\\n}\\n\\n#\u5bf9\u6307\u5b9a\u5185\u5bb9\u6839\u636e\u5982\u4e0a\u81ea\u5b9a\u4e49\u7684\u5206\u8bcd\u89c4\u5219\u8fdb\u884c\u5206\u8bcd\\nPOST custom_standard_analyzer_index/_analyze\\n{\\n  \\"text\\": \\"Our usual study and experience are our most powerful support at a critical moment\\"\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/04-\u5206\u8bcd\u5668/03-keyword\u7c7b\u578b\u548ctext\u7c7b\u578b\u7684\u533a\u522b.md","path":"/Elasticsearch/04-\u5206\u8bcd\u5668/03-keyword\u7c7b\u578b\u548ctext\u7c7b\u578b\u7684\u533a\u522b.md","route":"/Elasticsearch/04-\u5206\u8bcd\u5668/03-keyword\u7c7b\u578b\u548ctext\u7c7b\u578b\u7684\u533a\u522b.md","leaf":true,"title":"03-keyword\u7c7b\u578b\u548ctext\u7c7b\u578b\u7684\u533a\u522b","depth":2,"content":"---\\ntitle: 03-keyword\u7c7b\u578b\u548ctext\u7c7b\u578b\u7684\u533a\u522b\\nurl: https://www.yuque.com/gaollard/efekv4/bypwst\\n---\\n\\n- text\u5b57\u6bb5\u7c7b\u578b\u4f1a\u8fdb\u884c\u5206\u8bcd\u5904\u7406\uff0c\u7136\u540e\u6839\u636e\u5206\u8bcd\u540e\u7684\u5355\u8bcd\u5efa\u7acb\u5012\u6392\u7d22\u5f15\uff08\u53cd\u5411\u7d22\u5f15\uff09\uff0c\u56e0\u800c\u4e0d\u652f\u6301\u805a\u5408\u8ba1\u7b97\u3002\\n- keyword\u5b57\u6bb5\u7c7b\u578b\u4e0d\u4f1a\u8fdb\u884c\u5206\u8bcd\u5904\u7406\uff0c\u76f4\u63a5\u6839\u636e\u5b57\u7b26\u4e32\u7684\u5185\u5bb9\u5efa\u7acb\u5012\u6392\u7d22\u5f15\uff08\u53cd\u5411\u7d22\u5f15\uff09\uff0c\u652f\u6301\u805a\u5408\u8ba1\u7b97\u548c\u6392\u5e8f\u64cd\u4f5c\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/04-\u5206\u8bcd\u5668/04-IK\u5206\u8bcd\u5668.md","path":"/Elasticsearch/04-\u5206\u8bcd\u5668/04-IK\u5206\u8bcd\u5668.md","route":"/Elasticsearch/04-\u5206\u8bcd\u5668/04-IK\u5206\u8bcd\u5668.md","leaf":true,"title":"04-IK\u5206\u8bcd\u5668","depth":2,"content":"---\\ntitle: 04-IK\u5206\u8bcd\u5668\\nurl: https://www.yuque.com/gaollard/efekv4/zpv14b\\n---\\n\\n\u524d\u9762\u7684\u8303\u4f8b\u521b\u5efa\u7d22\u5f15\u3001\u641c\u7d22\u6570\u636e\u65f6\u90fd\u662f\u4f7f\u7528\u9ed8\u8ba4\u7684\u5206\u8bcd\u5668\uff0c\u56e0\u4e3a\u5b58\u50a8\u7684\u90fd\u662f\u4e2d\u6587\uff0c\u6240\u4ee5\u5206\u8bcd\u6548\u679c\u4e0d\u592a\u7406\u60f3\uff0c\u4f1a\u628a text \u7684\u5b57\u6bb5\u5206\u6210`\u4e00\u4e2a\u4e2a\u6c49\u5b57`\uff0c\u4e3a\u4e86\u66f4\u597d\u5730\u5bf9\u4e2d\u6587\u5185\u5bb9\u8fdb\u884c\u5206\u8bcd\uff0c\u9700\u8981\u66f4\u52a0\u667a\u80fd\u7684 IK \u5206\u8bcd\u5668\u3002\\n\\n```shell\\n#\u5bf9\u5185\u5bb9\\"\u5185\u5fc3\u6ca1\u6709\u5206\u522b\u5fc3\uff0c\u5c31\u662f\u771f\u6b63\u7684\u82e6\u884c\\"\u5229\u7528IK\u5206\u8bcd\u5668\u8fdb\u884c\u5206\u6790\\nPOST _analyze\\n{\\n  \\"analyzer\\": \\"ik_max_word\\",\\n  \\"text\\": \\"\u5185\u5fc3\u6ca1\u6709\u5206\u522b\u5fc3\uff0c\u5c31\u662f\u771f\u6b63\u7684\u82e6\u884c\\"\\n}\\n\\n{\\n  \\"tokens\\" : [\\n    {\\n      \\"token\\" : \\"\u5185\u5fc3\\",\\n      \\"start_offset\\" : 0,\\n      \\"end_offset\\" : 2,\\n      \\"type\\" : \\"CN_WORD\\",\\n      \\"position\\" : 0\\n    },\\n    {\\n      \\"token\\" : \\"\u6ca1\u6709\\",\\n      \\"start_offset\\" : 2,\\n      \\"end_offset\\" : 4,\\n      \\"type\\" : \\"CN_WORD\\",\\n      \\"position\\" : 1\\n    },\\n    {\\n      \\"token\\" : \\"\u5206\u522b\\",\\n      \\"start_offset\\" : 4,\\n      \\"end_offset\\" : 6,\\n      \\"type\\" : \\"CN_WORD\\",\\n      \\"position\\" : 2\\n    },\\n    {\\n      \\"token\\" : \\"\u5fc3\\",\\n      \\"start_offset\\" : 6,\\n      \\"end_offset\\" : 7,\\n      \\"type\\" : \\"CN_CHAR\\",\\n      \\"position\\" : 3\\n    },\\n    {\\n      \\"token\\" : \\"\u5c31\u662f\\",\\n      \\"start_offset\\" : 8,\\n      \\"end_offset\\" : 10,\\n      \\"type\\" : \\"CN_WORD\\",\\n      \\"position\\" : 4\\n    },\\n    {\\n      \\"token\\" : \\"\u771f\u6b63\\",\\n      \\"start_offset\\" : 10,\\n      \\"end_offset\\" : 12,\\n      \\"type\\" : \\"CN_WORD\\",\\n      \\"position\\" : 5\\n    },\\n    {\\n      \\"token\\" : \\"\u7684\\",\\n      \\"start_offset\\" : 12,\\n      \\"end_offset\\" : 13,\\n      \\"type\\" : \\"CN_CHAR\\",\\n      \\"position\\" : 6\\n    },\\n    {\\n      \\"token\\" : \\"\u82e6\u884c\\",\\n      \\"start_offset\\" : 13,\\n      \\"end_offset\\" : 15,\\n      \\"type\\" : \\"CN_WORD\\",\\n      \\"position\\" : 7\\n    }\\n  ]\\n}\\n```\\n\\nIK \u5206\u8bcd\u5668\u7684\u4e24\u79cd\u5206\u8bcd\u6a21\u5f0f:\\n\\n1\uff09ik\\\\_max\\\\_word\uff1a\u5bf9\u6587\u672c\u8fdb\u884c\u6700\u7ec6\u7c92\u5ea6\u7684\u62c6\u5206\u3002\\n\\n2\uff09ik\\\\_smart\uff1a\u5bf9\u6587\u672c\u8fdb\u884c\u6700\u7c97\u7c92\u5ea6\u7684\u62c6\u5206\u3002\\n\\n\\n\\n### ik\\\\_max\\\\_word\\n\\n- \u4f7f\u7528 ik\\\\_max\\\\_word \u6a21\u5f0f\u5c06\\"\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u56fd\u6b4c\\"\u62c6\u5206\u4e3a `\\"[\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\uff0c\u4e2d\u534e\u4eba\u6c11\uff0c\u4e2d\u534e\uff0c\u534e\u4eba\uff0c\u4eba\u6c11\u5171\u548c\u56fd\uff0c\u4eba\u6c11\uff0c\u5171\u548c\u56fd\uff0c\u5171\u548c\uff0c\u56fd\uff0c\u56fd\u6b4c]\\"`\uff0c\u4ea7\u751f\u4e86\u5404\u79cd\u53ef\u80fd\u7684\u7ec4\u5408\uff0c\u5373\u4e0d\u540c\u7684\u8bcd\u3002\\n- \u4f7f\u7528 ik\\\\_max\\\\_word \u6a21\u5f0f\u5c06\\"\u6211\u662f\u4e2d\u56fd\u4eba\\"\u62c6\u5206\u4e3a `\\"[\u6211\uff0c\u662f\uff0c\u4e2d\u56fd\u4eba\uff0c\u4e2d\u56fd\uff0c\u56fd\u4eba]\\"`\uff0c\u4ea7\u751f\u4e86\u5404\u79cd\u53ef\u80fd\u7684\u7ec4\u5408\\n\\n\\n\\n### ik\\\\_smart\\n\\n- \u4f7f\u7528 ik\\\\_smart \u6a21\u5f0f\u5c06\\"\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u56fd\u6b4c\\"\u62c6\u5206\u4e3a\\"\\\\[\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\uff0c\u56fd\u6b4c]\\"\uff0c\u4ea7\u751f\u4e86\u5c3d\u53ef\u80fd\u5c11\u7684\u7ec4\u5408\u3002\\n- \u4f7f\u7528 ik\\\\_smart \u6a21\u5f0f\u5c06\\"\u6211\u662f\u4e2d\u56fd\u4eba\\"\u62c6\u5206\u4e3a `\\"[\u6211\uff0c\u662f\uff0c\u4e2d\u56fd\u4eba]\\"`\uff0c\u4ea7\u751f\u5c3d\u53ef\u80fd\u5c11\u7684\u7ec4\u5408\\n\\n\\n\\n### \u521b\u5efa\u4f7f\u7528 IK \u5206\u8bcd\u5668\u7684\u7d22\u5f15\u6620\u5c04\\n\\n\u4e00\u822c\u5728\u521b\u5efa\u7d22\u5f15\u65f6\u4f1a\u660e\u786e\u6307\u5b9a\u5206\u8bcd\u7684\u6a21\u5f0f\uff0c\u603b\u5171\u6709\u4e24\u79cd\u64cd\u4f5c\uff1a\u4e00\u79cd\u662f\u8ba9\u6240\u6709 text \u7c7b\u578b\u7684\u5b57\u6bb5\u90fd\u4f7f\u7528\u5206\u8bcd\u6a21\u5f0f\uff0c\u53e6\u4e00\u79cd\u662f\u7ed9\u6bcf\u4e00\u79cd text \u7c7b\u578b\u7684\u5b57\u6bb5\u6307\u5b9a\u5206\u8bcd\u6a21\u5f0f\u3002\\n\\n\\n\\n#### \u8ba9\u6240\u6709 text \u7c7b\u578b\u7684\u5b57\u6bb5\u90fd\u4f7f\u7528\u5206\u8bcd\u6a21\u5f0f\\n\\n```shell\\n#\u521b\u5efa\u7d22\u5f15\u6a21\u677f\uff0c\u6240\u6709\\"text\\"\u7c7b\u578b\u7684\u5b57\u6bb5\u90fd\u4f7f\u7528IK\u5206\u8bcd\u5668\u7684\\"ik_max_word\\"\u6a21\u5f0f\\nPUT myindex_ik\\n{\\n  \\"settings\\":{\\n    \\"analysis\\":{\\n      \\"analyzer\\":{\\n        \\"ik\\":{\\n          \\"tokenizer\\":\\"ik_max_word\\"\\n        }\\n      }\\n    }\\n  },\\n  \\"mappings\\":{\\n      \\"properties\\":{\\n        \\"field1\\":{\\n          \\"type\\":\\"text\\"\\n        },\\n        \\"field2\\":{\\n          \\"type\\":\\"integer\\"\\n        },\\n        \\"field3\\":{\\n          \\"type\\":\\"text\\"\\n        },\\n        \\"field4\\":{\\n          \\"type\\":\\"text\\"\\n        }\\n    }\\n  }\\n}\\n```\\n\\n\\n\\n#### \u7ed9\u6bcf\u4e00\u79cd text \u7c7b\u578b\u7684\u5b57\u6bb5\u6307\u5b9a\u5206\u8bcd\u6a21\u5f0f\\n\\n```shell\\nPUT myindex_ik_01\\n{\\n  \\"mappings\\":{\\n      \\"properties\\":{\\n        \\"field1\\":{\\n          \\"type\\":\\"text\\",\\n          \\"analyzer\\": \\"ik_max_word\\",\\n                     \\"search_analyzer\\": \\"ik_max_word\\"\\n        },\\n        \\"field2\\":{\\n          \\"type\\":\\"integer\\"\\n        },\\n        \\"field3\\":{\\n          \\"type\\":\\"text\\",\\n          \\"analyzer\\": \\"standard\\",\\n             \\"search_analyzer\\": \\"standard\\"\\n        },\\n        \\"field4\\":{\\n          \\"type\\":\\"text\\",\\n          \\"analyzer\\": \\"ik_max_word\\",\\n            \\"search_analyzer\\": \\" ik_smart \\"\\n        }\\n    }\\n  }\\n}\\n```\\n\\n\\n\\n### \u5b58\u50a8\u548c\u641c\u7d22\u4f7f\u7528\u4e0d\u540c\u7684\u5206\u8bcd\u6a21\u5f0f\\n\\n```shell\\n#\u521b\u5efa\u7d22\u5f15\u6620\u5c04\uff0c\u5b58\u50a8\u65f6\u4f7f\u7528IK\u5206\u8bcd\u5668\u7684ik_max_word\u6a21\u5f0f\uff0c\u641c\u7d22\u65f6\u4f7f\u7528IK\u5206\u8bcd\u5668\u7684ik_smart\u6a21\u5f0f\\nPUT /clayindex_ik\\n{\\n  \\"mappings\\": {\\n    \\"properties\\": {\\n    \\"name\\":{\\n      \\"type\\": \\"keyword\\"\\n    },\\n    \\"address\\":{\\n      \\"type\\": \\"text\\",\\n      \\"analyzer\\": \\"ik_max_word\\",\\n      \\"search_analyzer\\": \\"ik_smart\\" #\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u641c\u7d22\u5206\u8bcd\u6a21\u5f0f\\n    },\\n    \\"age\\":{\\n      \\"type\\": \\"integer\\"\\n    }\\n  }\\n}\\n\\n#\u63d2\u5165\u6587\u6863\u6570\u636e\\nPOST  /clayindex_ik/_doc\\n{\\n  \\"name\\":\\"\u66f9\u64cd\\",\\n  \\"address\\":\\"\u9b4f\u56fd\\",\\n  \\"age\\":18\\n}\\n\\n#\u63d2\u5165\u6587\u6863\u6570\u636e\\nPOST  /clayindex_ik/_doc\\n{\\n  \\"name\\":\\"\u8d3e\u8be9\\",\\n  \\"address\\":\\"\u9b4f\u56fd\\",\\n  \\"age\\":19\\n}\\n\\n#\u63d2\u5165\u6587\u6863\u6570\u636e\\nPOST  /clayindex_ik/_doc\\n{\\n  \\"name\\":\\"\u8bf8\u845b\u4eae\\",\\n  \\"address\\":\\"\u8700\u56fd\\",\\n  \\"age\\":37\\n}\\n\\n#\u63d2\u5165\u6587\u6863\u6570\u636e\\nPOST  /clayindex_ik/_doc\\n{\\n  \\"name\\":\\"\u5173\u7fbd\\",\\n  \\"address\\":\\"\u8700\u56fd\\",\\n  \\"age\\":35\\n}\\n\\n#\u63d2\u5165\u6587\u6863\u6570\u636e\\nPOST  /clayindex_ik/_doc\\n{\\n  \\"name\\":\\"\u5468\u745c\\",\\n  \\"address\\":[\\"\u5434\u56fd\\",\\"\u8700\u56fd\\"],\\n  \\"age\\":25\\n}\\n\\n#\u5168\u6587\u641c\u7d22address\u7b49\u4e8e\\"\u9b4f\u56fd\\"\u7684\u6570\u636e\uff0c\u5e76\u6307\u5b9a\u5206\u8bcd\u6a21\u5f0f\\nPOST clayindex_ik/_doc/_search\\n{\\n  \\"query\\":{\\n     \\"match\\": {\\n       \\"address\\": {\\n         \\"query\\": \\"\u9b4f\u56fd\\",\\n          \\"analyzer\\": \\"ik_smart\\" #\u8fd9\u53e5\u53ef\u4ee5\u4e0d\u5199\uff0c\u56e0\u4e3a\u9ed8\u8ba4\u5c31\u662f\u8fd9\u79cd\u6a21\u5f0f\\n       }\\n     }\\n  }\\n}\\n```\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u56e0\u4e3a\u6211\u4eec\u5728\u8bbe\u7f6e\u6620\u5c04\u6a21\u677f\u65f6\u4f7f\u7528\u6700\u7ec6\u7c92\u5ea6\u8fdb\u884c\u5206\u8bcd\u5b58\u50a8\uff08\u5206\u8bcd\u5c3d\u53ef\u80fd\u591a\uff09\uff0c\u6240\u4ee5\u5728\u641c\u7d22\u65f6\u53ef\u4ee5\u6307\u5b9a\u5bf9\u6700\u7ec6\u7c92\u5ea6\u7684\u5206\u8bcd\u6a21\u5f0f\u548c\u6700\u7c97\u7c92\u5ea6\u7684\u5206\u8bcd\u6a21\u5f0f\u5206\u522b\u641c\u7d22\u3002\u5728\u6b63\u5f0f\u9879\u76ee\u7684\u4f7f\u7528\u4e2d\u4e5f\u63a8\u8350\u8fd9\u79cd\u505a\u6cd5\uff0c\u5b58\u50a8\u65f6\u9009\u62e9\u5c3d\u91cf\u7ec6\u7684\u5206\u8bcd\u89c4\u5219\uff0c\u8fd9\u6837\u5728\u641c\u7d22\u65f6\u53ef\u4ee5\u6307\u5b9a\u7b26\u5408\u5177\u4f53\u9879\u76ee\u8981\u6c42\u7684\u5206\u8bcd\u6a21\u5f0f\u3002\\n","isLeaf":true}]},{"key":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2","path":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2","route":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2","leaf":false,"title":"05-\u57fa\u7840\u67e5\u8be2","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/01-\u6279\u91cf\u63d2\u5165\u6570\u636e.md","path":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/01-\u6279\u91cf\u63d2\u5165\u6570\u636e.md","route":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/01-\u6279\u91cf\u63d2\u5165\u6570\u636e.md","leaf":true,"title":"01-\u6279\u91cf\u63d2\u5165\u6570\u636e","depth":2,"content":"---\\ntitle: 01-\u6279\u91cf\u63d2\u5165\u6570\u636e\\nurl: https://www.yuque.com/gaollard/efekv4/gn8t8g\\n---\\n\\n```shell\\nPOST /userinfo/_doc/_bulk\\n{ \\"index\\": {}}\\n{\\"name\\":\\"\u5f20\u4e09\\",\\"address\\":\\"\u4e2d\u56fd\\",\\"age\\":18}\\n{ \\"index\\": {}}\\n{\\"name\\":\\"\u674e\u56db\\",\\"address\\":\\"\u4e2d\u56fd\\",\\"age\\":19}\\n{ \\"index\\": {}}\\n{\\"name\\":\\"\u738b\u4e94\\",\\"address\\":\\"\u7f8e\u56fd\\",\\"age\\":20}\\n{ \\"index\\": {}}\\n{\\"name\\":\\"\u8d75\u516d\\",\\"address\\":\\"\u7f8e\u56fd\\",\\"age\\":21}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/02-\u67e5\u8be2\u6240\u6709\u6570\u636e.md","path":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/02-\u67e5\u8be2\u6240\u6709\u6570\u636e.md","route":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/02-\u67e5\u8be2\u6240\u6709\u6570\u636e.md","leaf":true,"title":"02-\u67e5\u8be2\u6240\u6709\u6570\u636e","depth":2,"content":"---\\ntitle: 02-\u67e5\u8be2\u6240\u6709\u6570\u636e\\nurl: https://www.yuque.com/gaollard/efekv4/ob3gn2\\n---\\n\\n```shell\\n#\u67e5\u8be2userinfo\u7d22\u5f15\u5e93\u4e2d\u6240\u6709\u7684\u6587\u6863\u6570\u636e\\nGET /userinfo/_search\\n{\\n  \\"query\\": { \\"match_all\\": {} }\\n}\\n\\n{\\n  \\"took\\" : 3,\\n  \\"timed_out\\" : false,\\n  \\"_shards\\" : {\\n    \\"total\\" : 1,\\n    \\"successful\\" : 1,\\n    \\"skipped\\" : 0,\\n    \\"failed\\" : 0\\n  },\\n  \\"hits\\" : {\\n    \\"total\\" : {\\n      \\"value\\" : 4,\\n      \\"relation\\" : \\"eq\\"\\n    },\\n    \\"max_score\\" : 1.0,\\n    \\"hits\\" : [\\n      {\\n        \\"_index\\" : \\"userinfo\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"FhDqW3oBiBO67ReogO86\\",\\n        \\"_score\\" : 1.0,\\n        \\"_source\\" : {\\n          \\"name\\" : \\"\u5f20\u4e09\\",\\n          \\"address\\" : \\"\u4e2d\u56fd\\",\\n          \\"age\\" : 18\\n        }\\n      },\\n      {\\n        \\"_index\\" : \\"userinfo\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"FxDqW3oBiBO67ReogO86\\",\\n        \\"_score\\" : 1.0,\\n        \\"_source\\" : {\\n          \\"name\\" : \\"\u674e\u56db\\",\\n          \\"address\\" : \\"\u4e2d\u56fd\\",\\n          \\"age\\" : 19\\n        }\\n      },\\n      {\\n        \\"_index\\" : \\"userinfo\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"GBDqW3oBiBO67ReogO86\\",\\n        \\"_score\\" : 1.0,\\n        \\"_source\\" : {\\n          \\"name\\" : \\"\u738b\u4e94\\",\\n          \\"address\\" : \\"\u7f8e\u56fd\\",\\n          \\"age\\" : 20\\n        }\\n      },\\n      {\\n        \\"_index\\" : \\"userinfo\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"GRDqW3oBiBO67ReogO86\\",\\n        \\"_score\\" : 1.0,\\n        \\"_source\\" : {\\n          \\"name\\" : \\"\u8d75\u516d\\",\\n          \\"address\\" : \\"\u7f8e\u56fd\\",\\n          \\"age\\" : 21\\n        }\\n      }\\n    ]\\n  }\\n}\\n```\\n\\n- took\uff1a\u8868\u793a\u67e5\u8be2\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u3002\\n- timed\\\\_out\uff1a\u8868\u793a\u67e5\u8be2\u8bf7\u6c42\u662f\u5426\u8d85\u65f6\u3002\\n- shards\uff1a\u8868\u793a\u603b\u5171\u67e5\u8be2\u4e86\u591a\u5c11\u4e2a\u5206\u7247\uff0c\u4ee5\u53ca\u662f\u5426\u6210\u529f\u3002\\n- max\\\\_score\uff1a\u8868\u793a\u67e5\u8be2\u5230\u7684\u76f8\u5173\u6587\u6863\u7684\u5206\u6570\uff0c\u5206\u6570\u8d8a\u9ad8\uff0c\u5339\u914d\u5ea6\u5c31\u8d8a\u9ad8\u3002\\n- hits.total.value\uff1a\u8868\u793a\u627e\u5230\u4e86\u591a\u5c11\u4e2a\u5339\u914d\u7684\u6587\u6863\u3002\\n- hits.\\\\_score\uff1a\u8868\u793a\u5f53\u524d\u6587\u6863\u548c\u67e5\u8be2\u5185\u5bb9\u7684\u5339\u914d\u5ea6\uff0c\u4f7f\u7528match\\\\_all\u65f6\uff0c\u6b64\u5b57\u6bb5\u7684\u503c\u6ca1\u6709\u4efb\u4f55\u610f\u4e49\u3002\\n\\n```shell\\nGET /test_01/_search\\n{\\n  \\"size\\": 15000, #size \u4e0d\u80fd\u8d85\u8fc7\u9608\u503c(\u9ed8\u8ba4 10000\uff0c\u53ef\u4ee5\u4fee\u6539)\\n  \\"query\\": { \\"match_all\\": {} }\\n}\\n\\n{\\n  \\"error\\": {\\n    \\"root_cause\\": [\\n      {\\n        \\"type\\": \\"illegal_argument_exception\\",\\n        \\"reason\\": \\"Result window is too large, from + size must be less than or equal to: [10000] but was [15000]. See the scroll api for a more efficient way to request large data sets. This limit can be set by changing the [index.max_result_window] index level setting.\\"\\n      }\\n    ],\\n    \\"type\\": \\"search_phase_execution_exception\\",\\n    \\"reason\\": \\"all shards failed\\",\\n    \\"phase\\": \\"query\\",\\n    \\"grouped\\": true,\\n    \\"failed_shards\\": [\\n      {\\n        \\"shard\\": 0,\\n        \\"index\\": \\"test_01\\",\\n        \\"node\\": \\"6JMu0nfCS5-dMb93AppHeQ\\",\\n        \\"reason\\": {\\n          \\"type\\": \\"illegal_argument_exception\\",\\n          \\"reason\\": \\"Result window is too large, from + size must be less than or equal to: [10000] but was [15000]. See the scroll api for a more efficient way to request large data sets. This limit can be set by changing the [index.max_result_window] index level setting.\\"\\n        }\\n      }\\n    ],\\n    \\"caused_by\\": {\\n      \\"type\\": \\"illegal_argument_exception\\",\\n      \\"reason\\": \\"Result window is too large, from + size must be less than or equal to: [10000] but was [15000]. See the scroll api for a more efficient way to request large data sets. This limit can be set by changing the [index.max_result_window] index level setting.\\",\\n      \\"caused_by\\": {\\n        \\"type\\": \\"illegal_argument_exception\\",\\n        \\"reason\\": \\"Result window is too large, from + size must be less than or equal to: [10000] but was [15000]. See the scroll api for a more efficient way to request large data sets. This limit can be set by changing the [index.max_result_window] index level setting.\\"\\n      }\\n    }\\n  },\\n  \\"status\\": 400\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/03-\u6392\u5e8f\u67e5\u8be2.md","path":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/03-\u6392\u5e8f\u67e5\u8be2.md","route":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/03-\u6392\u5e8f\u67e5\u8be2.md","leaf":true,"title":"03-\u6392\u5e8f\u67e5\u8be2","depth":2,"content":"---\\ntitle: 03-\u6392\u5e8f\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/xgv2yr\\n---\\n\\n```shell\\n#\u67e5\u8be2userinfo\u7d22\u5f15\u5e93\u4e2d\u6240\u6709\u7684\u6587\u6863\u6570\u636e\uff0c\u6839\u636eage\u5b57\u6bb5\u8fdb\u884c\u5012\u5e8f\u8f93\u51fa\\nGET /userinfo/_search\\n{\\n  \\"query\\": { \\"match_all\\": {} },\\n  \\"sort\\":[\\n    {\\"age\\":{\\"order\\":\\"desc\\"}}\\n  ]\\n}\\n```\\n\\n\u5982\u679c\u9700\u8981\u6839\u636e\u591a\u4e2a\u5b57\u6bb5\u6392\u5e8f\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u8bed\u53e5\uff1a\\n\\n```shell\\nGET /\u7d22\u5f15\u540d\u79f0/_search\\n{\\n  \\"query\\": { \\"match_all\\": {} },\\n   \\"sort\\":[\\n    {\\"field1\\":{\\"order\\":\\"desc\\"}},\\n    {\\"field2\\":{\\"order\\":\\"asc\\"}}\\n    ]\\n}\\n```\\n\\n\u4ee5\u4e0a\u8bed\u53e5\u8868\u793a\u5148\u6839\u636efield1\u5b57\u6bb5\u8fdb\u884c\u5012\u5e8f\u6392\u5e8f\uff0c\u518d\u6839\u636efield2\u5b57\u6bb5\u8fdb\u884c\u987a\u5e8f\u6392\u5e8f\u3002\\n\\n\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6392\u5e8f\u5b57\u6bb5\u4e0d\u53ef\u4ee5\u662ftext\u7b49\u7279\u6b8a\u7c7b\u578b\uff0c\u4e00\u822c\u662f\u6574\u6570\u7c7b\u578b\u548ckeyword\u7c7b\u578b\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/04-\u6839\u636e\u9700\u6c42\u8fd4\u56de\u76f8\u5e94\u7684\u5b57\u6bb5.md","path":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/04-\u6839\u636e\u9700\u6c42\u8fd4\u56de\u76f8\u5e94\u7684\u5b57\u6bb5.md","route":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/04-\u6839\u636e\u9700\u6c42\u8fd4\u56de\u76f8\u5e94\u7684\u5b57\u6bb5.md","leaf":true,"title":"04-\u6839\u636e\u9700\u6c42\u8fd4\u56de\u76f8\u5e94\u7684\u5b57\u6bb5","depth":2,"content":"---\\ntitle: 04-\u6839\u636e\u9700\u6c42\u8fd4\u56de\u76f8\u5e94\u7684\u5b57\u6bb5\\nurl: https://www.yuque.com/gaollard/efekv4/urovh6\\n---\\n\\n```shell\\nGET /\u7d22\u5f15\u540d\u79f0/_search\\n{\\n  \\"query\\": { \u67e5\u8be2\u8bed\u53e5 },\\n  \\"_source\\":[\\"\u5b57\u6bb51\\",\\"\u5b57\u6bb52\\",\u2026]\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/05-\u5206\u9875\u67e5\u8be2.md","path":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/05-\u5206\u9875\u67e5\u8be2.md","route":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/05-\u5206\u9875\u67e5\u8be2.md","leaf":true,"title":"05-\u5206\u9875\u67e5\u8be2","depth":2,"content":"---\\ntitle: 05-\u5206\u9875\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/uf8gc4\\n---\\n\\n```shell\\nGET /\u7d22\u5f15\u5e93\u540d\u79f0/_search\\n{\\n  \\"query\\": { \u67e5\u8be2\u8bed\u53e5 },\\n  \\"_source\\":[\\"\u5b57\u6bb51\\",\\"\u5b57\u6bb52\\",\u2026],\\n  \\"from\\":0,\\n  \\"size\\":10\\n}\\n```\\n\\n\u4ee5\u4e0a\u8bed\u53e5\u5c06\u67e5\u8be2userinfo\u7d22\u5f15\u5e93\u7684\u6240\u6709\u6587\u6863\u6570\u636e\uff0c\u5e76\u6839\u636eage\u5b57\u6bb5\u6309\u987a\u5e8f\u6392\u5e8f\uff0c\u8fd4\u56de\u4ece\u7b2c0\u6761\u5230\u7b2c2\u6761\u7684\u6587\u6863\u6570\u636e\uff0c\u53ea\u5305\u542bname\u548cage\u5b57\u6bb5\u7684\u5185\u5bb9\u3002\\n\\n\u6ce8\u610f\uff0cfrom \u548c size \u53ea\u8d77\u5230\u8fc7\u6ee4\u7684\u4f5c\u7528\\n","isLeaf":true},{"key":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/06-\u7279\u5b9a\u5b57\u8bcd\u5339\u914d(match).md","path":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/06-\u7279\u5b9a\u5b57\u8bcd\u5339\u914d(match).md","route":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/06-\u7279\u5b9a\u5b57\u8bcd\u5339\u914d(match).md","leaf":true,"title":"06-\u7279\u5b9a\u5b57\u8bcd\u5339\u914d(match)","depth":2,"content":"---\\ntitle: 06-\u7279\u5b9a\u5b57\u8bcd\u5339\u914d(match)\\nurl: https://www.yuque.com/gaollard/efekv4/tqhg6b\\n---\\n\\n```shell\\nGET /\u7d22\u5f15\u5e93\u540d\u79f0/_search\\n{\\n  \\"query\\": {\\n    \\"match\\": {\\n      \\"address\\": \\"\u67e5\u8be2\u5185\u5bb9\\"\\n    }\\n  }\\n}\\n```\\n\\n```shell\\nGET /userinfo/_search\\n{\\n  \\"query\\": {\\n    \\"match\\": {\\n      \\"address\\": \\"\u4e2d\u56fd\uff0c\u7f8e\u56fd\\"\\n    }\\n  }\\n}\\n```\\n\\n\u641c\u7d22 address \u5b57\u6bb5\u4e2d\u5305\u542b\\"\u4e2d\u56fd\\"\u6216\u8005\\"\u7f8e\u56fd\\"\u7684\u6587\u6863\u6570\u636e\\n","isLeaf":true},{"key":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/07-\u6bb5\u843d\u5339\u914d\u67e5\u8be2(match_phrase).md","path":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/07-\u6bb5\u843d\u5339\u914d\u67e5\u8be2(match_phrase).md","route":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/07-\u6bb5\u843d\u5339\u914d\u67e5\u8be2(match_phrase).md","leaf":true,"title":"07-\u6bb5\u843d\u5339\u914d\u67e5\u8be2(match_phrase)","depth":2,"content":"---\\ntitle: 07-\u6bb5\u843d\u5339\u914d\u67e5\u8be2(match_phrase)\\nurl: https://www.yuque.com/gaollard/efekv4/lm7e38\\n---\\n\\n\u56e0\u4e3a\u67e5\u8be2\u7684\u65f6\u5019\u4e24\u4e2a\u5185\u5bb9\u4e4b\u95f4\u6709\u7a7a\u683c\uff0c\u6240\u4ee5\u88ab\u5f53\u4f5c\u5206\u9694\u7b26\u5904\u7406\uff0c\u67e5\u8be2\u5185\u5bb9\u88ab\u5206\u8bcd\uff0c\u5982\u679c\u60f3\u8981\u67e5\u8be2\u7684\u5185\u5bb9\u4e0d\u88ab\u5206\u8bcd\uff0c\u53ef\u4f7f\u7528match\\\\_phrase\u67e5\u8be2\u3002\\n\\n```shell\\nGET /userinfo_002/_search\\n{\\n   \\"query\\": { \\n     \\"match_phrase\\": \\n     { \\n       \\"address\\": \\"\u4e2d\u56fd \u4e0a\u6d77\\" \\n     } \\n   }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/08-term\u7cbe\u51c6\u67e5\u8be2.md","path":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/08-term\u7cbe\u51c6\u67e5\u8be2.md","route":"/Elasticsearch/05-\u57fa\u7840\u67e5\u8be2/08-term\u7cbe\u51c6\u67e5\u8be2.md","leaf":true,"title":"08-term\u7cbe\u51c6\u67e5\u8be2","depth":2,"content":"---\\ntitle: 08-term\u7cbe\u51c6\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/skwyge\\n---\\n\\n\u5728Elasticsearch\u4e2d\u4f7f\u7528term\u548c\u524d\u9762\u4f7f\u7528match\\\\_phrase\u7684\u6548\u679c\u7c7b\u4f3c\\n","isLeaf":true}]},{"key":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22","path":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22","route":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22","leaf":false,"title":"06-\u5168\u6587\u68c0\u7d22","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/01-\u5168\u6587\u641c\u7d22match\u5339\u914d.md","path":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/01-\u5168\u6587\u641c\u7d22match\u5339\u914d.md","route":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/01-\u5168\u6587\u641c\u7d22match\u5339\u914d.md","leaf":true,"title":"01-\u5168\u6587\u641c\u7d22match\u5339\u914d","depth":2,"content":"---\\ntitle: 01-\u5168\u6587\u641c\u7d22match\u5339\u914d\\nurl: https://www.yuque.com/gaollard/efekv4/gmzg5h\\n---\\n\\n\u5728 Elasticsearch \u4e2d\u8fdb\u884c\u5168\u6587\u641c\u7d22\u65f6\uff0c\u5982\u679c\u8981\u7ed9\u5b57\u6bb5\u6307\u5b9a\u8981\u67e5\u8be2\u7684\u7279\u5b9a\u5b57\u8bcd\uff0c\u53ef\u4ee5\u4f7f\u7528 match \u7c7b\u578b\u7684\u67e5\u8be2\\n\\n```shell\\n#\u6570\u636e\u51c6\u5907\\nPOST /myindex-test-match/_bulk\\n{ \\"index\\": { \\"_id\\": 1 }}\\n{ \\"title\\": \\"The flower and the dog\\" }\\n{ \\"index\\": { \\"_id\\": 2 }}\\n{ \\"title\\": \\"The flower and the dog are beautiful\\" }\\n{ \\"index\\": { \\"_id\\": 3 }}\\n{ \\"title\\": \\"the dog are beautiful\\" }\\n\\n#\u4f7f\u7528match\u7c7b\u578b\u7684\u67e5\u8be2\\nGET /myindex-test-match/_search\\n{\\n  \\"query\\": {\\n    \\"match\\": {\\n      \\"title\\": \\"flower\\"\\n    }\\n  }\\n}\\n```\\n\\n\u4ee5\u4e0a\u8bed\u53e5\u6267\u884cmatch\u67e5\u8be2\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a\\n\\n- 1\uff09\u68c0\u67e5\u5b57\u6bb5\u7c7b\u578b\u3002title\u5b57\u6bb5\u662ftext\u7c7b\u578b\uff08\u5185\u5bb9\u4f1a\u88ab\u5206\u8bcd\uff09\uff0c\u8bf4\u660e\u6b64\u5b57\u6bb5\u5728\u5b58\u50a8\u65f6\u548c\u67e5\u8be2\u65f6\u90fd\u4f1a\u8fdb\u884c\u5206\u8bcd\uff0c\u800c\u4e14\u5728\u5b58\u50a8\u65f6\u4f1a\u5efa\u7acb\u5012\u6392\u7d22\u5f15\u3002\\n- 2\uff09\u5206\u6790\u67e5\u8be2\u5b57\u7b26\u4e32\u3002\u5c06\u67e5\u8be2\u7684\u5b57\u7b26\u4e32\\"flower\\"\u4f20\u5165\u6807\u51c6\u5206\u8bcd\u5668\u4e2d\uff0c\u8f93\u51fa\u7684\u7ed3\u679c\u662f\u5355\u8bcd\\"flower\\"\u3002\u56e0\u4e3a\u53ea\u6709\u4e00\u4e2a\u5355\u8bcd\uff0c\u6240\u4ee5match\u67e5\u8be2\u6267\u884c\u7684\u662f\u5355\u4e2a\u5e95\u5c42term\u67e5\u8be2\u3002\\n- 3\uff09\u67e5\u627e\u5339\u914d\u7684\u6587\u6863\u3002\u7528term\u67e5\u8be2\u5728\u5012\u6392\u7d22\u5f15\u4e2d\u67e5\u627e\\"flower\\"\uff0c\u7136\u540e\u83b7\u53d6\u4e00\u7ec4\u5305\u542b\u8be5\u5355\u8bcd\u7684\u6587\u6863\u6570\u636e\u3002\\n- 4\uff09\u4e3a\u6bcf\u4e2a\u6587\u6863\u8bc4\u5206\u3002\u7528term\u67e5\u8be2\u8ba1\u7b97\u51fa\u6bcf\u4e2a\u6587\u6863\u7684\u8bc4\u5206\u3002\\n\\n\u4f7f\u7528match\u67e5\u8be2\u65f6\uff0c\u8fd4\u56de\u7ed3\u679c\u4e2d\u6587\u6863\u7684\u8bc4\u5206\u662f\u548c\u8be5\u6587\u6863\u4e2d\u5b57\u6bb5\u7684\u5185\u5bb9\u957f\u5ea6\u6709\u5173\u7684\uff0c\u5373\u5b57\u6bb5\u5185\u5bb9\u8d8a\u77ed\uff0c\u8bc4\u5206\u5c31\u8d8a\u9ad8\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/02-match\u591a\u4e2a\u8bcd\u67e5\u8be2.md","path":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/02-match\u591a\u4e2a\u8bcd\u67e5\u8be2.md","route":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/02-match\u591a\u4e2a\u8bcd\u67e5\u8be2.md","leaf":true,"title":"02-match\u591a\u4e2a\u8bcd\u67e5\u8be2","depth":2,"content":"---\\ntitle: 02-match\u591a\u4e2a\u8bcd\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/tuzpdq\\n---\\n\\n```shell\\n#\u6570\u636e\u51c6\u5907\\nPOST /myindex-test-match/_bulk\\n{ \\"index\\": { \\"_id\\": 1 }}\\n{ \\"title\\": \\"The flower and the dog\\" }\\n{ \\"index\\": { \\"_id\\": 2 }}\\n{ \\"title\\": \\"The flower and the dog are beautiful\\" }\\n{ \\"index\\": { \\"_id\\": 3 }}\\n{ \\"title\\": \\"the dog are beautiful\\" }\\n\\n#\u4f7f\u7528match\u7c7b\u578b\u7684\u67e5\u8be2\\nGET /myindex-test-match/_search\\n{\\n  \\"query\\": {\\n    \\"match\\": {\\n      \\"title\\": \\"flower dog\\" # \u8fd9\u91cc\u4e0d\u652f\u6301\u6570\u7ec4\u554a [\\"dog\\", \\"and\\"]\\n    }\\n  }\\n}\\n```\\n\\nmatch\u67e5\u8be2\u5fc5\u987b\u67e5\u627e\u4e24\u4e2a\u5355\u8bcd\uff08\\"flower\\"\u548c\\"dog\\"\uff09\uff0c\u5b83\u5728\u5185\u90e8\u5b9e\u9645\u4e0a\u5148\u6267\u884c\u4e24\u6b21term\u67e5\u8be2\uff0c\u7136\u540e\u5c06\u4e24\u6b21\u67e5\u8be2\u7684\u7ed3\u679c\u5408\u5e76\u8d77\u6765\u4f5c\u4e3a\u6700\u7ec8\u7684\u67e5\u8be2\u7ed3\u679c\\n","isLeaf":true},{"key":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/03-\u5168\u6587\u641c\u7d22\u7684query_string\u67e5\u8be2.md","path":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/03-\u5168\u6587\u641c\u7d22\u7684query_string\u67e5\u8be2.md","route":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/03-\u5168\u6587\u641c\u7d22\u7684query_string\u67e5\u8be2.md","leaf":true,"title":"03-\u5168\u6587\u641c\u7d22\u7684query_string\u67e5\u8be2","depth":2,"content":"---\\ntitle: 03-\u5168\u6587\u641c\u7d22\u7684query_string\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/gqeh3s\\n---\\n\\nquery\\\\_string\u67e5\u8be2\u662f\u6839\u636e\u8fd0\u7b97\u7b26\uff08AND/OR\uff09\u6765\u89e3\u6790\u548c\u62c6\u5206\u8981\u641c\u7d22\u7684\u5b57\u7b26\u4e32\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n```shell\\nGET /myindex-test-match/_search\\n{\\n  \\"query\\": {\\n    \\"query_string\\": {\\n      \\"query\\": \\"(dog and) AND (beautiful)\\",\\n      \\"default_field\\": \\"title\\"\\n    }\\n  }\\n}\\n```\\n\\n\u5728\u4ee5\u4e0a\u8bed\u53e5\u4e2d\uff0c\u67e5\u8be2\u7d22\u5f15\u5e93\u7684title\u5b57\u6bb5\uff0c\u5fc5\u987b\u5339\u914d\u5230beautiful\u5355\u8bcd\uff0c\u5e76\u4e14\u5fc5\u987b\u5339\u914ddog\u548cand\u5176\u4e2d\u4efb\u4f55\u4e00\u4e2a\u5355\u8bcd\u7684\u5b57\u6bb5\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/04-\u5168\u6587\u641c\u7d22\u7684simple_query_string\u67e5\u8be2.md","path":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/04-\u5168\u6587\u641c\u7d22\u7684simple_query_string\u67e5\u8be2.md","route":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/04-\u5168\u6587\u641c\u7d22\u7684simple_query_string\u67e5\u8be2.md","leaf":true,"title":"04-\u5168\u6587\u641c\u7d22\u7684simple_query_string\u67e5\u8be2","depth":2,"content":"---\\ntitle: 04-\u5168\u6587\u641c\u7d22\u7684simple_query_string\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/brdsn9\\n---\\n\\nsimple\\\\_query\\\\_string\u67e5\u8be2\u662f\u4e00\u79cd\u4f7f\u7528\u7b80\u5355\u7684\u8bed\u6cd5\u6765\u89e3\u6790\u8981\u67e5\u8be2\u7684\u5b57\u7b26\u4e32\uff0c\u5e76\u5c06\u5176\u62c6\u5206\u4e3a\u57fa\u4e8e\u7279\u6b8a\u8fd0\u7b97\u7b26\u7684\u67e5\u8be2\u65b9\u5f0f\u3002\u5176\u8bed\u6cd5\u6bd4query\\\\_string\u67e5\u8be2\u66f4\u53d7\u9650\u5236\uff0c\u4f46simple\\\\_query\\\\_string\u67e5\u8be2\u5728\u906d\u9047\u65e0\u6548\u8bed\u6cd5\u4e8b\u4e0d\u4f1a\u8fd4\u56de\u9519\u8bef\u63d0\u793a\u4fe1\u606f\\n","isLeaf":true},{"key":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/05-\u5168\u6587\u641c\u7d22\u7684\u987a\u5e8f\u5339\u914d\u67e5\u8be2.md","path":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/05-\u5168\u6587\u641c\u7d22\u7684\u987a\u5e8f\u5339\u914d\u67e5\u8be2.md","route":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/05-\u5168\u6587\u641c\u7d22\u7684\u987a\u5e8f\u5339\u914d\u67e5\u8be2.md","leaf":true,"title":"05-\u5168\u6587\u641c\u7d22\u7684\u987a\u5e8f\u5339\u914d\u67e5\u8be2","depth":2,"content":"---\\ntitle: 05-\u5168\u6587\u641c\u7d22\u7684\u987a\u5e8f\u5339\u914d\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/xiwkc5\\n---\\n\\nintervals\u662f\u65f6\u95f4\u95f4\u9694\u7684\u610f\u601d\uff0c\u5728Elasticsearch\u4e2d\u5b83\u672c\u8d28\u4e0a\u662f\u5c06\u591a\u4e2a\u89c4\u5219\u6309\u7167\u987a\u5e8f\u5339\u914d\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n```shell\\nGET /myindex-test-match/_search\\n{\\n  \\"query\\": {\\n    \\"intervals\\" : {\\n      \\"title\\" : {\\n        \\"all_of\\" : {\\n          \\"ordered\\" : true,\\n          \\"intervals\\" : [\\n            {\\n              \\"match\\" : {\\n                \\"query\\" : \\"flower\\",#\u6587\u6863\u5185\u5bb9\u5148\u5339\u914d\\"flower\\"\u5355\u8bcd\\n                \\"max_gaps\\" : 0,\\n                \\"ordered\\" : true\\n              }\\n            },\\n            {\\n              \\"any_of\\" : {\\n                \\"intervals\\" : [  #\u6587\u6863\u5185\u5bb9\u518d\u5339\u914d\\"beautiful\\"\u548c\\"dog\\"\u4e24\u4e2a\u5355\u8bcd\u4e2d\u7684\u5176\u4e2d\u4e00\u4e2a\\n                  { \\"match\\" : { \\"query\\" : \\"beautiful\\" } },\\n                  { \\"match\\" : { \\"query\\" : \\"dog\\" } }\\n                ]\\n              }\\n            }\\n          ]\\n        }\\n      }\\n    }\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/06-\u5168\u6587\u641c\u7d22\u7684\u9ad8\u4eae\u67e5\u8be2.md","path":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/06-\u5168\u6587\u641c\u7d22\u7684\u9ad8\u4eae\u67e5\u8be2.md","route":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/06-\u5168\u6587\u641c\u7d22\u7684\u9ad8\u4eae\u67e5\u8be2.md","leaf":true,"title":"06-\u5168\u6587\u641c\u7d22\u7684\u9ad8\u4eae\u67e5\u8be2","depth":2,"content":"---\\ntitle: 06-\u5168\u6587\u641c\u7d22\u7684\u9ad8\u4eae\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/zptqc0\\n---\\n\\n```shell\\n#\u51c6\u5907\u6570\u636e\\nPOST  /myindex_highlight/_doc\\n{\\n  \\"name\\":\\"\u8d3e\u8be9\\",\\n  \\"address\\":\\"\u9b4f\u56fd\\",\\n  \\"age\\":19\\n}\\nPOST  /myindex_highlight/_doc\\n{\\n  \\"name\\":\\"\u8bf8\u845b\u4eae\\",\\n  \\"address\\":\\"\u8700\u56fd\\",\\n  \\"age\\":37\\n}\\n\\n#\u67e5\u8be2\u7d22\u5f15\u5e93\u4e2dname\u5b57\u6bb5\u7684\u5185\u5bb9\u4e2d\u5305\u542b\\"\u8d3e\u8be9\\"\u7684\u6587\u6863\uff0c\u5e76\u4e14\u9ad8\u4eae\u663e\u793a\u67e5\u8be2\u7684\u7ed3\u679c\\nGET myindex_highlight/_doc/_search\\n{\\n  \\"query\\":{\\n    \\"match\\": {\\n      \\"name\\": \\"\u8d3e\u8be9\\"\\n    }\\n  },\\n  \\"highlight\\":{\\n    \\"fields\\": {\\n      \\"name\\": {}\\n    }\\n  }\\n}\\n```\\n\\n```shell\\n{\\n  \\"took\\" : 6,\\n  \u2026\\n  \\"hits\\" : {\\n    \\"total\\" : {\\n      \\"value\\" : 1,\\n      \\"relation\\" : \\"eq\\"\\n    },\\n    \\"max_score\\" : 1.5098253,\\n    \\"hits\\" : [\\n      {\\n        \\"_index\\" : \\"myindex_highlight\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"UhAeYXoBiBO67Reoue-V\\",\\n        \\"_score\\" : 1.5098253,\\n        \\"_source\\" : {\\n          \\"name\\" : \\"\u8d3e\u8be9\\",\\n          \\"address\\" : \\"\u9b4f\u56fd\\",\\n          \\"age\\" : 19\\n        },\\n        //\u9ad8\u4eae\u6807\u7b7e\\n        \\"highlight\\" : {\\n          \\"name\\" : [\\n            \\"<em>\u8d3e</em><em>\u8be9</em>\\"\\n          ]\\n        }\\n      }\\n    ]\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/07-\u5168\u6587\u641c\u7d22\u7684\u81ea\u5b9a\u4e49\u9ad8\u4eae\u67e5\u8be2.md","path":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/07-\u5168\u6587\u641c\u7d22\u7684\u81ea\u5b9a\u4e49\u9ad8\u4eae\u67e5\u8be2.md","route":"/Elasticsearch/06-\u5168\u6587\u68c0\u7d22/07-\u5168\u6587\u641c\u7d22\u7684\u81ea\u5b9a\u4e49\u9ad8\u4eae\u67e5\u8be2.md","leaf":true,"title":"07-\u5168\u6587\u641c\u7d22\u7684\u81ea\u5b9a\u4e49\u9ad8\u4eae\u67e5\u8be2","depth":2,"content":"---\\ntitle: 07-\u5168\u6587\u641c\u7d22\u7684\u81ea\u5b9a\u4e49\u9ad8\u4eae\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/mlk5gx\\n---\\n\\n```shell\\n#\u67e5\u8be2\u7d22\u5f15\u5e93\u4e2dname\u5b57\u6bb5\u7684\u5185\u5bb9\u4e2d\u5305\u542b\\"\u8d3e\u8be9\\"\u7684\u6587\u6863\uff0c\u5e76\u4f7f\u7528\u81ea\u5b9a\u4e49\u6807\u7b7e\u6765\u5b9a\u4e49\u9ad8\u4eae\u663e\u793a\u7684\u6548\u679c\\nGET myindex_highlight/_doc/_search\\n{\\n  \\"query\\":{\\n  \\"match\\": {\\n    \\"name\\": \\"\u8d3e\u8be9\\"\\n  }\\n  },\\n  \\"highlight\\":{\\n    \\"pre_tags\\": \\"<p class=\'gaoliang\'>\\", #\u81ea\u5b9a\u4e49\u9ad8\u4eae\u663e\u793a\u6548\u679c\u7684\u6807\u7b7e\\n    \\"post_tags\\": \\"</p>\\", \\n    \\"fields\\": {\\n      \\"name\\": {}\\n    }\\n  }\\n}\\n```\\n","isLeaf":true}]},{"key":"/Elasticsearch/07-term-level \u67e5\u8be2","path":"/Elasticsearch/07-term-level \u67e5\u8be2","route":"/Elasticsearch/07-term-level \u67e5\u8be2","leaf":false,"title":"07-term-level \u67e5\u8be2","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/07-term-level \u67e5\u8be2/01-term level\u7684exists\u67e5\u8be2.md","path":"/Elasticsearch/07-term-level \u67e5\u8be2/01-term level\u7684exists\u67e5\u8be2.md","route":"/Elasticsearch/07-term-level \u67e5\u8be2/01-term level\u7684exists\u67e5\u8be2.md","leaf":true,"title":"01-term level\u7684exists\u67e5\u8be2","depth":2,"content":"---\\ntitle: 01-term level\u7684exists\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/wwbnrq\\n---\\n\\n```shell\\n#\u67e5\u8be2\u7d22\u5f15\u5e93\u4e2d\u5b58\u5728remarks\u5b57\u6bb5\u7684\u6587\u6863\u6570\u636e\\nGET /myindex-term-level/_search\\n{\\n  \\"query\\": {\\n    \\"exists\\": \\n    {\\n      \\"field\\": \\"remarks\\" # \u5b58\u5728\u8be5\u5b57\u6bb5\u624d\u8fd4\u56de\\n    }\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/07-term-level \u67e5\u8be2/02-term level\u7684ids\u67e5\u8be2.md","path":"/Elasticsearch/07-term-level \u67e5\u8be2/02-term level\u7684ids\u67e5\u8be2.md","route":"/Elasticsearch/07-term-level \u67e5\u8be2/02-term level\u7684ids\u67e5\u8be2.md","leaf":true,"title":"02-term level\u7684ids\u67e5\u8be2","depth":2,"content":"---\\ntitle: 02-term level\u7684ids\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/obscyz\\n---\\n\\nids\u5c31\u662f\u901a\u8fc7id\u8fdb\u884c\u6279\u91cf\u67e5\u8be2\u3002\u6211\u4eec\u5728\u5199SQL\u7684\u65f6\u5019\uff0c\u53ef\u80fd\u4f1a\u7ecf\u5e38\u8fd9\u6837\u5199\uff1a\\"select *from table where id in(1,2,3)\\"\uff0c\u901a\u8fc7id\u5339\u914d\uff0c\u4e00\u6b21\u6027\u8fd4\u56de\u591a\u884c\u6570\u636e\u3002\u800c\u5728Elasticsearch\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528ids\u67e5\u8be2\u3002\\n\\n```shell\\n#\u8fd4\u56de_id\u7b49\u4e8e1\u548c_id\u7b49\u4e8e3\u7684\u6587\u6863\u6570\u636e\\nGET /myindex-term-level/_search\\n{\\n  \\"query\\": {\\n    \\"ids\\": \\n    {\\n      \\"values\\": [1,3]\\n    }\\n  }\\n}\\n```\\n\\n```shell\\n{\\n \u2026\\n    \\"hits\\" : [\\n      {\\n        \\"_index\\" : \\"myindex-term-level\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"1\\",\\n        \\"_score\\" : 1.0,\\n        \\"_source\\" : {\\n          \\"name\\" : \\"\u5f20\u4e09\\",\\n          \\"programming_languages\\" : [\\n            \\"c++\\",\\n            \\"java\\",\\n            \\"dotnet\\"\\n          ],\\n          \\"required_matches\\" : 2\\n        }\\n      },\\n      {\\n        \\"_index\\" : \\"myindex-term-level\\",\\n        \\"_type\\" : \\"_doc\\",\\n        \\"_id\\" : \\"3\\",\\n        \\"_score\\" : 1.0,\\n        \\"_source\\" : {\\n          \\"name\\" : \\"\u738b\u4e94\\",\\n          \\"programming_languages\\" : [\\n            \\"java\\",\\n            \\"c++\\",\\n            \\"dotnet\\"\\n          ],\\n          \\"required_matches\\" : 3,\\n          \\"remarks\\" : \\"hello world\\"\\n        }\\n      }\\n    ]\\n  }\\n}\\n```\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd4\u56de\u7ed3\u679c\u7684\u987a\u5e8f\u548c\u6211\u4eec\u67e5\u627e\u65f6\u8bbe\u7f6e\u7684\u987a\u5e8f\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/07-term-level \u67e5\u8be2/03-term level\u7684prefix\u67e5\u8be2.md","path":"/Elasticsearch/07-term-level \u67e5\u8be2/03-term level\u7684prefix\u67e5\u8be2.md","route":"/Elasticsearch/07-term-level \u67e5\u8be2/03-term level\u7684prefix\u67e5\u8be2.md","leaf":true,"title":"03-term level\u7684prefix\u67e5\u8be2","depth":2,"content":"---\\ntitle: 03-term level\u7684prefix\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/mfmqql\\n---\\n\\n\u5728Elasticsearch\u4e2d\uff0c\u4f7f\u7528prefix\u53ef\u4ee5\u6839\u636e\u524d\u7f00\u6765\u67e5\u627e\u67d0\u4e2a\u5b57\u6bb5\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n```shell\\n#\u67e5\u8be2\u7d22\u5f15\u5e93\u4e2dname\u5b57\u6bb5\u7684\u5185\u5bb9\u4e2d\u524d\u7f00\u662f\\"\u5f20\\"\u7684\u6240\u6709\u6587\u6863\u4fe1\u606f\\nGET /myindex-term-level/_search\\n{\\n  \\"query\\": {\\n    \\"prefix\\": {\\n      \\"name\\": {\\n        \\"value\\": \\"\u5f20\\"\\n      }\\n    }\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/07-term-level \u67e5\u8be2/04-term\u5355\u4e2a\u5355\u8bcd\u67e5\u8be2.md","path":"/Elasticsearch/07-term-level \u67e5\u8be2/04-term\u5355\u4e2a\u5355\u8bcd\u67e5\u8be2.md","route":"/Elasticsearch/07-term-level \u67e5\u8be2/04-term\u5355\u4e2a\u5355\u8bcd\u67e5\u8be2.md","leaf":true,"title":"04-term\u5355\u4e2a\u5355\u8bcd\u67e5\u8be2","depth":2,"content":"---\\ntitle: 04-term\u5355\u4e2a\u5355\u8bcd\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/zgcop3\\n---\\n\\n\u4ee5\u4e0b\u8303\u4f8b\u662f\u5229\u7528term\uff08\u641c\u7d22\u7684\u5185\u5bb9\u4e0d\u4f1a\u88ab\u5206\u8bcd\uff09\u8fdb\u884c\u5355\u8bcd\u67e5\u8be2\u3002\\n\\n```shell\\n#\u67e5\u8be2\u7d22\u5f15\u5e93\u4e2d\\"programming_languages\\"\u5b57\u6bb5\u5185\u5bb9\u4e2d\u5305\u542b\\"dotnet\\"\u7684\u6587\u6863\u6570\u636e\\nGET /myindex-term-level/_search\\n{\\n  \\"query\\": {\\n    \\"term\\": {\\n      \\"programming_languages\\": \\"dotnet\\"\\n    }\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/07-term-level \u67e5\u8be2/05-terms\u591a\u4e2a\u5355\u8bcd\u67e5\u8be2.md","path":"/Elasticsearch/07-term-level \u67e5\u8be2/05-terms\u591a\u4e2a\u5355\u8bcd\u67e5\u8be2.md","route":"/Elasticsearch/07-term-level \u67e5\u8be2/05-terms\u591a\u4e2a\u5355\u8bcd\u67e5\u8be2.md","leaf":true,"title":"05-terms\u591a\u4e2a\u5355\u8bcd\u67e5\u8be2","depth":2,"content":"---\\ntitle: 05-terms\u591a\u4e2a\u5355\u8bcd\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/lqx2s8\\n---\\n\\n```shell\\n#\u67e5\u8be2\u7d22\u5f15\u5e93\u4e2dprogramming_languages\u5b57\u6bb5\u7684\u5185\u5bb9\uff0c\u5305\u542bphp\u548cjava\u4efb\u4f55\u4e00\u4e2a\u5355\u8bcd\u7684\u6587\u6863\u90fd\u4f1a\u88ab\u8fd4\u56de\\nGET /myindex-term-level/_search\\n{\\n  \\"query\\": {\\n    \\"terms\\": {\\n      \\"programming_languages\\": [\\"php\\",\\"java\\"]\\n    }\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/07-term-level \u67e5\u8be2/06-\u901a\u914d\u7b26\u67e5\u8be2-wildcard.md","path":"/Elasticsearch/07-term-level \u67e5\u8be2/06-\u901a\u914d\u7b26\u67e5\u8be2-wildcard.md","route":"/Elasticsearch/07-term-level \u67e5\u8be2/06-\u901a\u914d\u7b26\u67e5\u8be2-wildcard.md","leaf":true,"title":"06-\u901a\u914d\u7b26\u67e5\u8be2-wildcard","depth":2,"content":"---\\ntitle: 06-\u901a\u914d\u7b26\u67e5\u8be2-wildcard\\nurl: https://www.yuque.com/gaollard/efekv4/gxldzq\\n---\\n\\n\u5728Elasticsearch\u4e2d\uff0c\u5982\u679c\u9700\u8981\u901a\u8fc7\u901a\u914d\u7b26\u8fdb\u884c\u67e5\u8be2\uff0c\u53ef\u4f7f\u7528wildcard\u6765\u8fdb\u884c\u5904\u7406\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n```shell\\n#\u5728\u7d22\u5f15\u4e2dprogramming_languages\u5b57\u6bb5\u7684\u5185\u5bb9\u4e2d\u67e5\u8be2\u5339\u914d\\"p*p\\"\u548c\\"*\\"\uff08\u53ef\u4ee5\u8868\u793a\u4efb\u4f55\u5185\u5bb9\uff09\u7684\u6587\u6863\u6570\u636e\\nGET /myindex-term-level/_search\\n{\\n  \\"query\\": {\\n    \\"wildcard\\": {\\n      \\"programming_languages\\": {\\n        \\"value\\": \\"p*p\\"\\n      }\\n    }\\n  }\\n}\\n```\\n\\n\\"*\\"\u53ef\u4ee5\u8868\u793a\u591a\u4e2a\u5b57\u6bcd\\n","isLeaf":true},{"key":"/Elasticsearch/07-term-level \u67e5\u8be2/07-\u8303\u56f4\u67e5\u8be2-range.md","path":"/Elasticsearch/07-term-level \u67e5\u8be2/07-\u8303\u56f4\u67e5\u8be2-range.md","route":"/Elasticsearch/07-term-level \u67e5\u8be2/07-\u8303\u56f4\u67e5\u8be2-range.md","leaf":true,"title":"07-\u8303\u56f4\u67e5\u8be2-range","depth":2,"content":"---\\ntitle: 07-\u8303\u56f4\u67e5\u8be2-range\\nurl: https://www.yuque.com/gaollard/efekv4/cy0rly\\n---\\n\\n\u6211\u4eec\u5728\u7f16\u5199SQL\u67e5\u8be2\u8bed\u53e5\u65f6\uff0c\u4f1a\u7ecf\u5e38\u5bf9\u6570\u5b57\u6216\u8005\u65e5\u671f\u8fdb\u884c\u8303\u56f4\u67e5\u8be2\u3002\u5728Elasticsearch\u4e2d\uff0crange\u901a\u5e38\u88ab\u7528\u4e8e\u6570\u5b57\u6216\u8005\u65e5\u671f\u8303\u56f4\u7684\u67e5\u8be2\u4e2d\\n\\n```shell\\n#\u6839\u636e\u8303\u56f4\u67e5\u8be2required_matches\u5b57\u6bb5\u7684\u503c\u5927\u4e8e\u7b49\u4e8e3\u4e14\u5c0f\u4e8e\u7b49\u4e8e4\u7684\u6587\u6863\u6570\u636e\\nGET /myindex-term-level/_search\\n{\\n  \\"query\\": {\\n    \\"range\\": {\\n      \\"required_matches\\": {\\n        \\"gte\\": 3,\\n        \\"lte\\": 4\\n      }\\n    }\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/07-term-level \u67e5\u8be2/08-\u641c\u7d22\u8bcd\u76f8\u4f3c\u7684\u8bcd-fuzzy.md","path":"/Elasticsearch/07-term-level \u67e5\u8be2/08-\u641c\u7d22\u8bcd\u76f8\u4f3c\u7684\u8bcd-fuzzy.md","route":"/Elasticsearch/07-term-level \u67e5\u8be2/08-\u641c\u7d22\u8bcd\u76f8\u4f3c\u7684\u8bcd-fuzzy.md","leaf":true,"title":"08-\u641c\u7d22\u8bcd\u76f8\u4f3c\u7684\u8bcd-fuzzy","depth":2,"content":"---\\ntitle: 08-\u641c\u7d22\u8bcd\u76f8\u4f3c\u7684\u8bcd-fuzzy\\nurl: https://www.yuque.com/gaollard/efekv4/miggql\\n---\\n\\n    GET /myindex-term-level/_search\\n    {\\n      \\"query\\": {\\n        \\"fuzzy\\": {\\n          \\"remarks\\": {\\n            \\"value\\": \\"powerf\\"\\n          }\\n        }\\n      }\\n    }\\n","isLeaf":true},{"key":"/Elasticsearch/07-term-level \u67e5\u8be2/09-\u6b63\u5219\u8868\u8fbe\u5f0f-regexp.md","path":"/Elasticsearch/07-term-level \u67e5\u8be2/09-\u6b63\u5219\u8868\u8fbe\u5f0f-regexp.md","route":"/Elasticsearch/07-term-level \u67e5\u8be2/09-\u6b63\u5219\u8868\u8fbe\u5f0f-regexp.md","leaf":true,"title":"09-\u6b63\u5219\u8868\u8fbe\u5f0f-regexp","depth":2,"content":"---\\ntitle: 09-\u6b63\u5219\u8868\u8fbe\u5f0f-regexp\\nurl: https://www.yuque.com/gaollard/efekv4/pm3a7i\\n---\\n\\n```shell\\n#\u67e5\u8be2remarks\u5b57\u6bb5\u5185\u5bb9\u5339\u914dpo\u5f00\u5934\u7684\u6587\u6863\u6570\u636e\\nGET /myindex-term-level/_search\\n{\\n  \\"query\\": {\\n    \\"regexp\\": {\\n      \\"remarks\\": {\\n        \\"value\\": \\"po.*\\",\\n        \\"case_insensitive\\": true\\n      }\\n   }\\n  }\\n}\\n```\\n\\n![](https://s3.airtlab.com/elasticsearch/20220429092451.png)\\n","isLeaf":true}]},{"key":"/Elasticsearch/08-\u591a\u6761\u4ef6\u67e5\u8be2","path":"/Elasticsearch/08-\u591a\u6761\u4ef6\u67e5\u8be2","route":"/Elasticsearch/08-\u591a\u6761\u4ef6\u67e5\u8be2","leaf":false,"title":"08-\u591a\u6761\u4ef6\u67e5\u8be2","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/08-\u591a\u6761\u4ef6\u67e5\u8be2/01-bool\u591a\u6761\u4ef6\u67e5\u8be2.md","path":"/Elasticsearch/08-\u591a\u6761\u4ef6\u67e5\u8be2/01-bool\u591a\u6761\u4ef6\u67e5\u8be2.md","route":"/Elasticsearch/08-\u591a\u6761\u4ef6\u67e5\u8be2/01-bool\u591a\u6761\u4ef6\u67e5\u8be2.md","leaf":true,"title":"01-bool\u591a\u6761\u4ef6\u67e5\u8be2","depth":2,"content":"---\\ntitle: 01-bool\u591a\u6761\u4ef6\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/qctre0\\n---\\n\\n- must\uff1a\u5fc5\u987b\u5339\u914d\uff08\u8fd4\u56de\u7ed3\u679c\u4e2d\u8bc4\u5206\u5b57\u6bb5\u7684\u7ed3\u679c\u6709\u610f\u4e49\uff09\u3002\u5168\u90e8\u5339\u914d\u624d\u4fdd\u7559\\n- must\\\\_not\uff1a\u8fc7\u6ee4\u5b50\u53e5\uff0c\u5fc5\u987b\u4e0d\u80fd\u5339\u914d\uff08\u8fd4\u56de\u7ed3\u679c\u4e2d\u8bc4\u5206\u5b57\u6bb5\u7684\u7ed3\u679c\u65e0\u610f\u4e49\uff09\u3002\u5339\u914d\u4efb\u4f55\u4e00\u6761\u5c31\u8fc7\u6ee4\\n- should\uff1a\u9009\u62e9\u6027\u5339\u914d\uff0c\u81f3\u5c11\u6ee1\u8db3\u4e00\u6761\uff08\u8fd4\u56de\u7ed3\u679c\u4e2d\u8bc4\u5206\u5b57\u6bb5\u7684\u7ed3\u679c\u6709\u610f\u4e49\uff09\u3002\u81f3\u5c11\u5339\u914d\u4e00\u6761\u624d\u4fdd\u7559\\n- filter\uff1a\u8fc7\u6ee4\u5b50\u53e5\uff0c\u5fc5\u987b\u5339\u914d\uff08\u8fd4\u56de\u7ed3\u679c\u4e2d\u8bc4\u5206\u5b57\u6bb5\u7684\u7ed3\u679c\u65e0\u610f\u4e49\uff09\u3002\u5168\u90e8\u5339\u914d\u624d\u4fdd\u7559\\n\\n\u5728\u4f7f\u7528 Elasticsearch \u67e5\u8be2\u65f6\uff0c\u5982\u679c\u60f3\u8981\u6784\u9020\u66f4\u590d\u6742\u7684\u67e5\u8be2\uff08\u5373\u641c\u7d22\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528\\"bool\\"\u6765\u7ec4\u5408\u591a\u4e2a\u67e5\u8be2\u6761\u4ef6\u3002\u4f7f\u7528\u8bed\u6cd5\u5982\u4e0b\uff1a\\n\\n```shell\\nGET /\u7d22\u5f15\u5e93\u540d\u79f0/_search\\n{\\n  \\"query\\": {\\n    \\"bool\\": {\\n      \\"must\\": [\\n        { \\"match\\": { \\"\u5b57\u6bb51\\": \\"\u6570\u636e1\\" } }\\n      ],\\n      \\"must_not\\": [\\n        { \\"match\\": { \\"\u5b57\u6bb52\\": \\"\u6570\u636e2\\" } }\\n      ]\\n    }\\n  }\\n}\\n```\\n\\n```shell\\n#\u641c\u7d22\u7d22\u5f15\u5e93\u4e2dage\u5b57\u6bb5\u5185\u5bb9\u7b49\u4e8e18\u5e76\u4e14address\u5b57\u6bb5\u5185\u5bb9\u4e2d\u4e0d\u5305\u542b\\"\u4e2d\u56fd\u4e0a\u6d77\\"\u7684\u6570\u636e\\nGET /userinfo_003/_search\\n{\\n  \\"query\\": {\\n    \\"bool\\": {\\n      \\"must\\": [\\n        { \\"match\\": { \\"age\\": \\"18\\" } }\\n      ],\\n      \\"must_not\\": [\\n        { \\"match_phrase\\": { \\"address\\": \\"\u4e2d\u56fd\u4e0a\u6d77\\" } }\\n      ]\\n    }\\n  }\\n}\\n```\\n\\n```shell\\n#\u641c\u7d22\u7d22\u5f15\u5e93\u4e2dage\u5b57\u6bb5\u5185\u5bb9\u7b49\u4e8e18\u5e76\u4e14address\u5b57\u6bb5\u5185\u5bb9\u4e2d\u4e0d\u5305\u542b\\"\u4e2d\u56fd\u4e0a\u6d77\\"\u7684\u6570\u636e\\nGET /userinfo_003/_search\\n{\\n  \\"query\\": {\\n    \\"bool\\": {\\n      \\"must\\": [\\n        { \\"match\\": { \\"age\\": \\"18\\" } }\\n      ],\\n      \\"must_not\\": [\\n        # \u4efb\u4f55\u5176\u4e2d\u4e00\u4e2a\u5339\u914d\u5c31\u8fc7\u6ee4\\n        # \u533a\u5206\u90fd\u8981\u6ee1\u8db3\u624d\u8fc7\u6ee4\\n        { \\"match_phrase\\": { \\"address\\": \\"\u4e2d\u56fd\u4e0a\u6d77\\" } },\\n      ]\\n    }\\n  }\\n}\\n```\\n\\n\u5982\u679c\u6709\u591a\u4e2a must\\\\_not \u5462\uff1f\u6bd4\u5982 address \u4e0d\u80fd\u4e3a\u4e2d\u56fd\uff0cage \u4e0d\u80fd\u4e3a 18:\\n\\n```shell\\nGET mindex/_doc/_search\\n{\\n  \\"query\\": {\\n    \\"bool\\": {\\n      \\"must\\": [\\n        {\\n          \\"bool\\": {\\n              \\"must_not\\": [\\n              {\\n                \\"match_phrase\\": {\\n                  \\"address\\": \\"\u4e2d\u56fd\\"\\n                }\\n              }\\n            ]\\n          }\\n        },\\n        {\\n          \\"bool\\": {\\n              \\"must_not\\": [\\n              {\\n                \\"match_phrase\\": {\\n                  \\"name\\": \\"18\\"\\n                }\\n              }\\n            ]\\n          }\\n        }\\n      ]\\n    }\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/08-\u591a\u6761\u4ef6\u67e5\u8be2/02-bool\u548cfilter\u7ec4\u5408\u67e5\u8be2.md","path":"/Elasticsearch/08-\u591a\u6761\u4ef6\u67e5\u8be2/02-bool\u548cfilter\u7ec4\u5408\u67e5\u8be2.md","route":"/Elasticsearch/08-\u591a\u6761\u4ef6\u67e5\u8be2/02-bool\u548cfilter\u7ec4\u5408\u67e5\u8be2.md","leaf":true,"title":"02-bool\u548cfilter\u7ec4\u5408\u67e5\u8be2","depth":2,"content":"---\\ntitle: 02-bool\u548cfilter\u7ec4\u5408\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/yg1dkt\\n---\\n\\n```shell\\n#\u641c\u7d22address\u5b57\u6bb5\u5185\u5bb9\u4e2d\u5305\u542b\\"\u676d\u5dde\\"\u5e76\u4e14\u6ee1\u8db3age\u5927\u4e8e\u7b49\u4e8e10\u3001\u5c0f\u4e8e\u7b49\u4e8e20\u7684\u6587\u6863\u6570\u636e\\nGET userinfo_003/_doc/_search\\n{\\n\\n  \\"query\\":{\\n    \\"bool\\": {\\n      \\"must\\": [\\n        {\\n          \\"match\\": {\\n            \\"address\\": \\"\u676d\u5dde\\"\\n          }\\n        }\\n      ],\\n      \\"filter\\": {\\n        # \u4e0d\u6ee1\u8db3\u7684\u90fd\u4f1a\u88ab\u8fc7\u6ee4\\n        \\"range\\": {\\n          \\"age\\": {\\n            \\"gte\\": 10,\\n            \\"lte\\": 20\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n```\\n","isLeaf":true}]},{"key":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2","path":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2","route":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2","leaf":false,"title":"09-\u5206\u7ec4\u67e5\u8be2","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/00-\u6570\u636e\u51c6\u5907.md","path":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/00-\u6570\u636e\u51c6\u5907.md","route":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/00-\u6570\u636e\u51c6\u5907.md","leaf":true,"title":"00-\u6570\u636e\u51c6\u5907","depth":2,"content":"---\\ntitle: 00-\u6570\u636e\u51c6\u5907\\nurl: https://www.yuque.com/gaollard/efekv4/wgwseq\\n---\\n\\n    #\u6279\u91cf\u65b0\u589e\u6570\u636e\uff0c\u6570\u636e\u662f\u5173\u4e8e\u6c7d\u8f66\u4ea4\u6613\u7684\u4fe1\u606f\uff1a\u5236\u9020\u5546\u3001\u552e\u4ef7\u3001\u51fa\u552e\u65f6\u95f4\\n    POST /myindex-aggtest/_bulk\\n    { \\"index\\": {}}\\n    { \\"price\\" : 10000, \\"color\\" : \\"red\\", \\"make\\" : \\"honda\\", \\"soldtime\\" : \\"2021-11-21\\" }\\n    { \\"index\\": {}}\\n    { \\"price\\" : 15000, \\"color\\" : \\"red\\", \\"make\\" : \\"honda\\", \\"soldtime\\" : \\"2021-9-06\\" }\\n    { \\"index\\": {}}\\n    { \\"price\\" : 30000, \\"color\\" : \\"green\\", \\"make\\" : \\"ford\\", \\"soldtime\\" : \\"2021-06-18\\" }\\n    { \\"index\\": {}}\\n    { \\"price\\" : 15000, \\"color\\" : \\"blue\\", \\"make\\" : \\"toyota\\", \\"soldtime\\" : \\"2021-08-02\\" }\\n    { \\"index\\": {}}\\n    { \\"price\\" : 16000, \\"color\\" : \\"green\\", \\"make\\" : \\"toyota\\", \\"soldtime\\" : \\"2014-08-19\\" }\\n    { \\"index\\": {}}\\n    { \\"price\\" : 20000, \\"color\\" : \\"red\\", \\"make\\" : \\"honda\\", \\"soldtime\\" : \\"2021-11-08\\" }\\n    { \\"index\\": {}}\\n    { \\"price\\" : 80000, \\"color\\" : \\"red\\", \\"make\\" : \\"bmw\\", \\"soldtime\\" : \\"2021-01-03\\" }\\n    { \\"index\\": {}}\\n","isLeaf":true},{"key":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/01-\u7b80\u5355\u7684\u805a\u5408.md","path":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/01-\u7b80\u5355\u7684\u805a\u5408.md","route":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/01-\u7b80\u5355\u7684\u805a\u5408.md","leaf":true,"title":"01-\u7b80\u5355\u7684\u805a\u5408","depth":2,"content":"---\\ntitle: 01-\u7b80\u5355\u7684\u805a\u5408\\nurl: https://www.yuque.com/gaollard/efekv4/gdbgxi\\n---\\n\\n\\n\\n### 1. \u5206\u7ec4\u8bed\u6cd5\\n\\n```shell\\nGET /myindex-aggtest/_search\\n{\\n    \\"size\\" : 0,\\n    \\"aggs\\" : { \\n        \\"popular_colors\\" : { \\n            \\"terms\\" : { \\n              \\"field\\" : \\"color.keyword\\"\\n            }\\n        }\\n    }\\n}\\n```\\n\\n- size:0\uff1a\u8868\u793a\u53ea\u8981\u7edf\u8ba1\u540e\u7684\u7ed3\u679c\uff0c\u539f\u59cb\u6570\u636e\u4e0d\u9700\u8981\u8fd4\u56de\uff0c\u5982\u679c\u662f\u5927\u4e8e0\u7684\uff0c\u5219\u4f1a\u8fd4\u56de\u5bf9\u5e94\u6570\u91cf\u7684\u6587\u6863\u6570\u636e\u3002\u5982\u679c\u53ea\u9700\u8981\u805a\u5408\u7edf\u8ba1\u7684\u7ed3\u679c\uff0c\u5efa\u8bae\u628asize\u9009\u9879\u8bbe\u7f6e\u4e3a0\uff0c\u907f\u514d\u8fd4\u56de\u6ca1\u5fc5\u8981\u7684\u6570\u636e\u3002\\n- aggs\uff1a\u56fa\u5b9a\u8bed\u6cd5\uff0c\u805a\u5408\u5206\u6790\u90fd\u8981\u58f0\u660eaggs\u6216\u8005aggregations\u3002\\n- song\\\\_qty\\\\_by\\\\_language\uff1a\u805a\u5408\u7684\u540d\u79f0\uff0c\u53ef\u4ee5\u968f\u4fbf\u547d\u540d\uff0c\u4f46\u5efa\u8bae\u89c4\u8303\u547d\u540d\u3002\\n- terms\uff1a\u8868\u793a\u6309\u54ea\u4e2a\u5b57\u6bb5\u8fdb\u884c\u5206\u7ec4\u3002\\n- field\uff1a\u8868\u793a\u5177\u4f53\u7684\u5b57\u6bb5\u540d\u79f0\u3002\\n\\n\\n\\n### 2. \u5206\u7ec4\u6f14\u793a\\n\\n```shell\\n#\u6279\u91cf\u8003\u8bd5\u6210\u7ee9\u6570\u636e\uff0c\u5e76\u4f7f\u7528\u7a0b\u5e8f\u81ea\u52a8\u751f\u6210\u7d22\u5f15\u6620\u5c04\\nPOST /myindex_aggs/_doc/_bulk\\n{ \\"index\\": {}}\\n{\\"name\\":\\"\u5f20\u4e09\\",\\"address\\":\\"\u4e0a\u6d77\\",\\"age\\":18,\\"score\\":60}\\n{ \\"index\\": {}}\\n{\\"name\\":\\"\u674e\u56db\\",\\"address\\":\\"\u676d\u5dde\\",\\"age\\":18,\\"score\\":70}\\n{ \\"index\\": {}}\\n{\\"name\\":\\"\u738b\u4e94\\",\\"address\\":\\"\u676d\u5dde\\",\\"age\\":20,\\"score\\":80}\\n{ \\"index\\": {}}\\n{\\"name\\":\\"\u5927\u5200\u738b\u4e94\\",\\"address\\":\\"\u4e0a\u6d77\\",\\"age\\":21,\\"score\\":90}\\n```\\n\\n```shell\\nGET /myindex_aggs/_search\\n{\\n  \\"size\\": 0,\\n  \\"aggs\\": {\\n    \\"group_by_address\\": {\\n      \\"terms\\": {\\n        \\"field\\": \\"address.keyword\\"\\n      }\\n    }\\n  }\\n}\\n```\\n\\n```shell\\n{\\n  \\"took\\" : 2,\\n  \\"timed_out\\" : false,\\n  \u2026\\n  \\"hits\\" : {\\n    \\"total\\" : {\\n      \\"value\\" : 4,\\n      \\"relation\\" : \\"eq\\"\\n    },\\n    \\"max_score\\" : null,\\n    \\"hits\\" : [ ]\\n  },\\n  \\"aggregations\\" : {\\n    \\"group_by_address\\" : {\\n      \\"doc_count_error_upper_bound\\" : 0,\\n      \\"sum_other_doc_count\\" : 0,\\n      \\"buckets\\" : [\\n        {\\n          \\"key\\" : \\"\u4e0a\u6d77\\",\\n          \\"doc_count\\" : 2\\n        },\\n        {\\n          \\"key\\" : \\"\u676d\u5dde\\",\\n          \\"doc_count\\" : 2\\n        }\\n      ]\\n    }\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/02-\u591a\u5b57\u6bb5\u805a\u5408.md","path":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/02-\u591a\u5b57\u6bb5\u805a\u5408.md","route":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/02-\u591a\u5b57\u6bb5\u805a\u5408.md","leaf":true,"title":"02-\u591a\u5b57\u6bb5\u805a\u5408","depth":2,"content":"---\\ntitle: 02-\u591a\u5b57\u6bb5\u805a\u5408\\nurl: https://www.yuque.com/gaollard/efekv4/zwqaao\\n---\\n\\n\u5982\u679c\u60f3\u8981\u77e5\u9053\u54ea\u4e2a\u989c\u8272\u548c\u54ea\u4e2a\u5382\u5546\u7684\u6c7d\u8f66\u9500\u91cf\u6700\u597d\uff0c\u53ef\u4ee5\u5bf9\u989c\u8272\u548c\u5382\u5546\u4e24\u4e2a\u5b57\u6bb5\u8fdb\u884c\u805a\u5408\u8ba1\u7b97\\n\\n    GET /myindex-aggtest/_search\\n    {\\n        \\"size\\" : 0,\\n        \\"aggs\\" : { \\n            \\"colors\\" : { \\n                \\"terms\\" : { \\n                  \\"field\\" : \\"color.keyword\\"\\n                }\\n            },\\n            \\"make\\" : { \\n                \\"terms\\" : { \\n                  \\"field\\" : \\"make.keyword\\"\\n                }\\n            }\\n        }\\n    }\\n\\n\x3c!----\x3e\\n\\n    {\\n      \u2026\\n      \\"aggregations\\" : {\\n        \\"make\\" : {   // \u5382\u5546\u5b57\u6bb5\u805a\u5408\u7edf\u8ba1\u7ed3\u679c\\n          \\"doc_count_error_upper_bound\\" : 0,\\n          \\"sum_other_doc_count\\" : 0,\\n          \\"buckets\\" : [\\n            {\\n              \\"key\\" : \\"honda\\",\\n              \\"doc_count\\" : 2\\n            },\\n            {\\n              \\"key\\" : \\"toyota\\",\\n              \\"doc_count\\" : 2\\n            },\\n            {\\n              \\"key\\" : \\"bmw\\",\\n              \\"doc_count\\" : 1\\n            },\\n            {\\n              \\"key\\" : \\"ford\\",\\n              \\"doc_count\\" : 1\\n            }\\n          ]\\n        },\\n        \\"colors\\" : {  // \u989c\u8272\u805a\u5408\u7ed3\u679c\\n          \\"doc_count_error_upper_bound\\" : 0,\\n          \\"sum_other_doc_count\\" : 0,\\n          \\"buckets\\" : [\\n            {\\n              \\"key\\" : \\"red\\",\\n              \\"doc_count\\" : 3\\n            },\\n            {\\n              \\"key\\" : \\"green\\",\\n              \\"doc_count\\" : 2\\n            },\\n            {\\n              \\"key\\" : \\"blue\\",\\n              \\"doc_count\\" : 1\\n            }\\n          ]\\n        }\\n      }\\n    }\\n","isLeaf":true},{"key":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/03-\u52a8\u6001\u811a\u672c\u805a\u5408.md","path":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/03-\u52a8\u6001\u811a\u672c\u805a\u5408.md","route":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/03-\u52a8\u6001\u811a\u672c\u805a\u5408.md","leaf":true,"title":"03-\u52a8\u6001\u811a\u672c\u805a\u5408","depth":2,"content":"---\\ntitle: 03-\u52a8\u6001\u811a\u672c\u805a\u5408\\nurl: https://www.yuque.com/gaollard/efekv4/ga8lm5\\n---\\n\\n    #\u6839\u636e\u7d22\u5f15\u5e93\u4e2d\u5382\u5546\u540d\u79f0\u7684\u957f\u5ea6\u8fdb\u884c\u5206\u7ec4\uff0c\u8ba1\u7b97\u6bcf\u79cd\u957f\u5ea6\u7684\u6587\u6863\u6570\u91cf\\n    GET /myindex-aggtest/_search\\n    {\\n      \\"runtime_mappings\\": {\\n        \\"make_content_length\\": {\\n          \\"type\\": \\"long\\",\\n          \\"script\\": \\"emit(doc[\'make.keyword\'].value.length())\\" #\u8fd0\u884c\u65f6\u811a\u672c\u8ba1\u7b97make\u5b57\u6bb5\u5185\u5bb9\u7684\u957f\u5ea6\\n        }\\n      },\\n      \\"size\\" : 0,\\n      \\"aggs\\": {\\n        \\"make_length\\": {\\n          \\"histogram\\": {\\n            \\"interval\\": 1,\\n            \\"field\\": \\"make_content_length\\" #\u6839\u636e\u8fd0\u884c\u65f6make\u5b57\u6bb5\u7684\u5185\u5bb9\u957f\u5ea6\u8fdb\u884c\u805a\u5408\u7edf\u8ba1\\n          }\\n        }\\n      }\\n    }\\n\\n\x3c!----\x3e\\n\\n    {\\n      \u2026\\n      \\"aggregations\\" : {\\n        \\"make_length\\" : {\\n          \\"buckets\\" : [\\n            {\\n              \\"key\\" : 3.0,                  // \u8868\u793a\u5382\u5546\u540d\u79f0\u7684\u957f\u5ea6\\n              \\"doc_count\\" : 1               // \u5382\u5546\u540d\u79f0\u957f\u5ea6\u7b49\u4e8e3\u7684\u6587\u6863\u6570\u91cf\\n            },\\n            {\\n              \\"key\\" : 4.0,                  // \u8868\u793a\u5382\u5546\u540d\u79f0\u7684\u957f\u5ea6\\n              \\"doc_count\\" : 1\\n            },\\n            {\\n              \\"key\\" : 5.0,                  // \u8868\u793a\u5382\u5546\u540d\u79f0\u7684\u957f\u5ea6\\n              \\"doc_count\\" : 2\\n            },\\n            {\\n              \\"key\\" : 6.0,                  // \u8868\u793a\u5382\u5546\u540d\u79f0\u7684\u957f\u5ea6\\n              \\"doc_count\\" : 2\\n            }\\n          ]\\n        }\\n      }\\n    }\\n","isLeaf":true},{"key":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/04-\u8fc7\u6ee4\u805a\u5408-filter.md","path":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/04-\u8fc7\u6ee4\u805a\u5408-filter.md","route":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/04-\u8fc7\u6ee4\u805a\u5408-filter.md","leaf":true,"title":"04-\u8fc7\u6ee4\u805a\u5408-filter","depth":2,"content":"---\\ntitle: 04-\u8fc7\u6ee4\u805a\u5408-filter\\nurl: https://www.yuque.com/gaollard/efekv4/eh4rse\\n---\\n\\nElasticsearch\u4e2d\u4e5f\u652f\u6301\u5148\u7b5b\u9009\u518d\u805a\u5408\u3002\u8303\u4f8b\u5982\u4e0b\\n\\n```shell\\n#\u805a\u5408\u8ba1\u7b97\u5382\u5546toyota\u51fa\u552e\u8f66\u7684\u5e73\u5747\u4ef7\u683c\u548c\u51fa\u552e\u7684\u603b\u6570\u91cf\\nGET /myindex-aggtest/_search\\n{\\n  \\"size\\": 0,\\n  \\"aggs\\": {\\n    \\"make_by\\": {\\n      \\"filter\\": { \\"term\\": { \\"make\\": \\"toyota\\" } },\\n      \\"aggs\\": {\\n        \\"avg_price\\": { \\"avg\\": { \\"field\\": \\"price\\" } }\\n      }\\n    }\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/05-filters\u5206\u7ec4\u805a\u5408.md","path":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/05-filters\u5206\u7ec4\u805a\u5408.md","route":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/05-filters\u5206\u7ec4\u805a\u5408.md","leaf":true,"title":"05-filters\u5206\u7ec4\u805a\u5408","depth":2,"content":"---\\ntitle: 05-filters\u5206\u7ec4\u805a\u5408\\nurl: https://www.yuque.com/gaollard/efekv4/fp5ybn\\n---\\n\\n\u76f8\u5f53\u4e8e\u7075\u6d3b\u5206\u7ec4 `filters-aggs`\\n\\n    GET /myindex-aggtest/_search\\n    {\\n      \\"size\\": 0,\\n      \\"aggs\\" : {\\n        \\"messages\\" : {\\n          \\"filters\\" : {\\n            \\"other_bucket_key\\": \\"other_color\\", \\n            \\"filters\\" : {\\n              \\"reds\\" :   { \\"match\\" : { \\"color\\" : \\"red\\"   }},\\n              \\"greens\\" : { \\"match\\" : { \\"color\\" : \\"green\\" }}\\n            }\\n          }\\n        }\\n      }\\n    }\\n\\n```shell\\n{\\n \u2026\\n  \\"aggregations\\" : {\\n    \\"messages\\" : {\\n      \\"buckets\\" : {\\n        \\"greens\\" : {\\n          \\"doc_count\\" : 2 // \u7eff\u8272\u8f66\u8f86\u7684\u6570\u91cf\\n        },\\n        \\"reds\\" : {\\n          \\"doc_count\\" : 3 // \u7ea2\u8272\u8f66\u8f86\u7684\u989c\u8272\\n        },\\n        \\"other_color\\" : {\\n          \\"doc_count\\" : 1 // \u5176\u4ed6\u8f66\u8f86\u7684\u989c\u8272\\n        }\\n      }\\n    }\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/06-range\u6570\u503c\u8303\u56f4\u805a\u5408.md","path":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/06-range\u6570\u503c\u8303\u56f4\u805a\u5408.md","route":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/06-range\u6570\u503c\u8303\u56f4\u805a\u5408.md","leaf":true,"title":"06-range\u6570\u503c\u8303\u56f4\u805a\u5408","depth":2,"content":"---\\ntitle: 06-range\u6570\u503c\u8303\u56f4\u805a\u5408\\nurl: https://www.yuque.com/gaollard/efekv4/wcnmgz\\n---\\n\\n`range-aggs`\\n\\nElasticsearch\u63d0\u4f9b\u4e86\u57fa\u4e8e\u591a\u6876\u503c\u6e90\u7684\u805a\u5408\u65b9\u5f0f\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5b9a\u4e49\u4e00\u7ec4\u8303\u56f4\uff0c\u6bcf\u4e2a\u8303\u56f4\u4ee3\u8868\u4e00\u4e2a\u6876\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n    GET /myindex-aggtest/_search\\n    {\\n      \\"size\\": 0,\\n      \\"aggs\\": {\\n        \\"price_ranges\\": {\\n          \\"range\\": {\\n            \\"field\\": \\"price\\",\\n            \\"ranges\\": [#\u5982\u4e0b\u662f\u4e00\u7ec4\u8303\u56f4\u6761\u4ef6\\n              { \\"to\\": 10000 },\\n              { \\"from\\": 10000, \\"to\\": 20000 },\\n               { \\"from\\": 20000, \\"to\\": 30000 },\\n              { \\"from\\": 40000 }\\n            ]\\n          }\\n        }\\n      }\\n    }\\n","isLeaf":true},{"key":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/07-histrogram\u8303\u56f4\u95f4\u9694\u805a\u5408.md","path":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/07-histrogram\u8303\u56f4\u95f4\u9694\u805a\u5408.md","route":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/07-histrogram\u8303\u56f4\u95f4\u9694\u805a\u5408.md","leaf":true,"title":"07-histrogram\u8303\u56f4\u95f4\u9694\u805a\u5408","depth":2,"content":"---\\ntitle: 07-histrogram\u8303\u56f4\u95f4\u9694\u805a\u5408\\nurl: https://www.yuque.com/gaollard/efekv4/cf3k8p\\n---\\n\\n\u5728\u524d\u9762\u7684\u8303\u4f8b\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u6307\u5b9a\u5177\u4f53\u7684\u8303\u56f4\u6765\u8fdb\u884c\u805a\u5408\uff0c\u4f46\u662f\u5f53\u8303\u56f4\u5f88\u591a\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u6307\u5b9a\u8303\u56f4\u95f4\u9694\uff08Histrogram\uff09\u6765\u8fdb\u884c\u805a\u5408\u7edf\u8ba1\\n\\n    #\u805a\u5408\u7edf\u8ba1\uff0c\u6839\u636e\u51fa\u552e\u4ef7\u683c\u8303\u56f4\u8fdb\u884c\u5206\u7ec4\uff0c\u6bcf\u4e00\u7ec4\u4e4b\u95f4\u4ef7\u683c\u76f8\u5dee40000\\n    GET /myindex-aggtest/_search\\n    {\\n       \\"size\\" : 0,\\n       \\"aggs\\":{\\n          \\"price\\":{\\n             \\"histogram\\":{ \\n                \\"field\\": \\"price\\",\\n                \\"interval\\": 40000\\n             } \\n          }\\n       }\\n    }\\n","isLeaf":true},{"key":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/08-\u65e5\u671f\u8303\u56f4\u805a\u5408.md","path":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/08-\u65e5\u671f\u8303\u56f4\u805a\u5408.md","route":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/08-\u65e5\u671f\u8303\u56f4\u805a\u5408.md","leaf":true,"title":"08-\u65e5\u671f\u8303\u56f4\u805a\u5408","depth":2,"content":"---\\ntitle: 08-\u65e5\u671f\u8303\u56f4\u805a\u5408\\nurl: https://www.yuque.com/gaollard/efekv4/ied9ua\\n---\\n\\n    #\u6839\u636e\u51fa\u552e\u8f66\u7684\u5404\u4e2a\u65f6\u95f4\u6bb5\u6765\u805a\u5408\\n    GET /myindex-aggtest/_search\\n    {\\n      \\"size\\": 0,\\n      \\"aggs\\": {\\n        \\"range\\": {\\n          \\"date_range\\": {\\n            \\"field\\": \\"soldtime\\",\\n            \\"format\\": \\"yyyy-MM-dd\\",\\n            \\"ranges\\": [\\n              { \\"from\\": \\"2021-06-30\\" },  \\n              { \\"to\\": \\"2021-07-01\\" } \\n            ]\\n          }\\n        }\\n      }\\n    }\\n\\n\u65e5\u671f\u8303\u56f4\u7edf\u8ba1\u8fd8\u652f\u6301\u6839\u636e\\"Date Math\\"\u8868\u8fbe\u5f0f\u8fdb\u884c\u8303\u56f4\u5206\u89e3\u7edf\u8ba1\\n\\n    #\u8ba1\u7b975\u4e2a\u6708\u4e4b\u524d\u548c\u4e4b\u540e\u7684\u9500\u552e\u8f66\u8f86\u6570\u91cf\\n    GET /myindex-aggtest/_search\\n    {\\n      \\"size\\": 0,\\n      \\"aggs\\": {\\n        \\"range\\": {\\n          \\"date_range\\": {\\n            \\"field\\": \\"soldtime\\",\\n            \\"format\\": \\"yyyy-MM-dd\\",\\n            \\"ranges\\": [\\n              { \\"from\\": \\"now-5M/M\\" },  \\n              { \\"to\\": \\"now-5M/M\\" } \\n            ]\\n          }\\n        }\\n      }\\n    }\\n\\n```\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/09-ES\u4e0d\u652f\u6301\u5206\u7ec4\u540e\u5206\u9875.md","path":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/09-ES\u4e0d\u652f\u6301\u5206\u7ec4\u540e\u5206\u9875.md","route":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/09-ES\u4e0d\u652f\u6301\u5206\u7ec4\u540e\u5206\u9875.md","leaf":true,"title":"09-ES\u4e0d\u652f\u6301\u5206\u7ec4\u540e\u5206\u9875","depth":2,"content":"---\\ntitle: 09-ES\u4e0d\u652f\u6301\u5206\u7ec4\u540e\u5206\u9875\\nurl: https://www.yuque.com/gaollard/efekv4/gzyfh8\\n---\\n\\n<https://blog.csdn.net/laoyang360/article/details/79112946>\\n","isLeaf":true},{"key":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/10-\u5206\u7ec4-\u6392\u5e8f.md","path":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/10-\u5206\u7ec4-\u6392\u5e8f.md","route":"/Elasticsearch/09-\u5206\u7ec4\u67e5\u8be2/10-\u5206\u7ec4-\u6392\u5e8f.md","leaf":true,"title":"10-\u5206\u7ec4-\u6392\u5e8f","depth":2,"content":"---\\ntitle: 10-\u5206\u7ec4-\u6392\u5e8f\\nurl: https://www.yuque.com/gaollard/efekv4/vgwf2i\\n---\\n\\n\\n\\n### \u5206\u7ec4\u7edf\u8ba1\u6bcf\u7ec4\u7684\u6700\u5c0f\u503c\u5e76\u6309\u7edf\u8ba1\u7ed3\u679c\u6392\u5e8f\\n\\n```shell\\nGET /myindex_aggs/_search\\n{\\n  \\"size\\": 0,\\n  \\"aggs\\": {\\n    \\"group_by_address\\": {\\n      \\"terms\\": {\\n        \\"field\\": \\"address.keyword\\",\\n        \\"order\\": {\\n          \\"score_min\\": \\"desc\\"\\n        }\\n      },\\n      \\"aggs\\": {\\n        \\"score_min\\": {\\n          \\"min\\": {\\n            \\"field\\": \\"score\\"\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n```\\n","isLeaf":true}]},{"key":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570","path":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570","route":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570","leaf":false,"title":"10-\u805a\u5408\u51fd\u6570","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/01-\u805a\u5408\u51fd\u6570\u4ecb\u7ecd.md","path":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/01-\u805a\u5408\u51fd\u6570\u4ecb\u7ecd.md","route":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/01-\u805a\u5408\u51fd\u6570\u4ecb\u7ecd.md","leaf":true,"title":"01-\u805a\u5408\u51fd\u6570\u4ecb\u7ecd","depth":2,"content":"---\\ntitle: 01-\u805a\u5408\u51fd\u6570\u4ecb\u7ecd\\nurl: https://www.yuque.com/gaollard/efekv4/cr3cfl\\n---\\n\\n\\n\\n### \u5206\u7ec4\u7edf\u8ba1\u6bcf\u7ec4\u7684\u6700\u5927\u503c aggs & terms & max\\n\\n```shell\\nGET /myindex_aggs/_search\\n{\\n  \\"size\\": 0,\\n  \\"aggs\\": {\\n    \\"group_by_address\\": {\\n      \\"terms\\": {\\n        \\"field\\": \\"address.keyword\\",\\n        \\"order\\": {\\n          \\"score_max\\": \\"desc\\"\\n        }\\n      },\\n      \\"aggs\\": {\\n        \\"score_max\\": {\\n          \\"max\\": {\\n            \\"field\\": \\"score\\"\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n```\\n\\n```shell\\n{\\n  \\"took\\" : 2,\\n\u2026\\n  \\"hits\\" : {\\n    \\"total\\" : {\\n      \\"value\\" : 4,\\n      \\"relation\\" : \\"eq\\"\\n    },\\n    \\"max_score\\" : null,\\n    \\"hits\\" : [ ]\\n  },\\n  \\"aggregations\\" : {\\n    \\"group_by_address\\" : {\\n      \\"doc_count_error_upper_bound\\" : 0,\\n      \\"sum_other_doc_count\\" : 0,\\n      \\"buckets\\" : [\\n        {\\n          \\"key\\" : \\"\u4e0a\u6d77\\",\\n          \\"doc_count\\" : 2,\\n          \\"score_max\\" : {\\n            \\"value\\" : 90.0\\n          }\\n        },\\n        {\\n          \\"key\\" : \\"\u676d\u5dde\\",\\n          \\"doc_count\\" : 2,\\n          \\"score_max\\" : {\\n            \\"value\\" : 80.0\\n          }\\n        }\\n      ]\\n    }\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/02-\u8ba1\u7b97\u52a0\u6743\u5e73\u5747\u503c-weighted_avg.md","path":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/02-\u8ba1\u7b97\u52a0\u6743\u5e73\u5747\u503c-weighted_avg.md","route":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/02-\u8ba1\u7b97\u52a0\u6743\u5e73\u5747\u503c-weighted_avg.md","leaf":true,"title":"02-\u8ba1\u7b97\u52a0\u6743\u5e73\u5747\u503c-weighted_avg","depth":2,"content":"---\\ntitle: 02-\u8ba1\u7b97\u52a0\u6743\u5e73\u5747\u503c-weighted_avg\\nurl: https://www.yuque.com/gaollard/efekv4/cs31li\\n---\\n\\n    #\u6570\u636e\u51c6\u5907\\n    POST /myindex-metrics_test/_bulk\\n    { \\"index\\": {}}\\n    { \\"grade\\" : 80, \\"weight\\" : 0.5}\\n    { \\"index\\": {}}\\n    { \\"grade\\" : 90, \\"weight\\" : 0.2}\\n    { \\"index\\": {}}\\n    { \\"grade\\" : 60, \\"weight\\" : 0.3}\\n\\n    #\u8ba1\u7b97grade\u5b57\u6bb5\u7684\u52a0\u6743\u5e73\u5747\u503c\\n    POST /myindex-metrics_test/_search\\n    {\\n      \\"size\\": 0,\\n      \\"aggs\\": {\\n        \\"weighted_grade\\": {\\n          \\"weighted_avg\\": {\\n            \\"value\\": { # \u8bbe\u7f6e\u503c\u7684\u5b57\u6bb5\\n              \\"field\\": \\"grade\\"\\n            },\\n            \\"weight\\": { # \u8bbe\u7f6e\u6743\u91cd\u5b57\u6bb5\\n              \\"field\\": \\"weight\\"\\n            }\\n          }\\n        }\\n      }\\n    }\\n\\n\u4f46\u662f\u5728\u5b9e\u9645\u4e1a\u52a1\u4e2d\uff0c\u6709\u53ef\u80fd\u51fa\u73b0\u7d22\u5f15\u7ed3\u6784\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\uff0c\u90a3\u4e48\u9700\u8981\u5728\u201c\u8fd0\u884c\u65f6\u5b57\u6bb5\u201d\u4e0a\u8fdb\u884c\u805a\u5408\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n    #\u6570\u636e\u51c6\u5907\\n    POST /myindex-metrics_test1/_doc?refresh\\n    {\\n      \\"grade\\": 90,\\n      \\"weight\\": [2, 3]\\n    }\\n    POST /myindex-metrics_test1/_doc?refresh\\n    {\\n      \\"grade\\": 80,\\n      \\"weight\\": 3\\n    }\\n    #\u5728\\"\u8fd0\u884c\u65f6\u5b57\u6bb5\\"\u4e0a\u8fdb\u884c\u805a\u5408\u7edf\u8ba1\uff0c\u67e5\u8be2\u52a0\u6743\u5e73\u5747\u503c\\n    POST /myindex-metrics_test1/_search?filter_path=aggregations\\n    {\\n      \\"size\\": 0,\\n      \\"runtime_mappings\\": {\\n        \\"weight.combined\\": {\\n          \\"type\\": \\"double\\",\\n          \\"script\\": \\"\\"\\"\\n            double s = 0;\\n            for (double w : doc[\'weight\']) {\\n              s += w;\\n            }\\n            emit(s);\\n          \\"\\"\\"\\n        }\\n      },\\n      \\"aggs\\": {\\n        \\"weighted_grade\\": {\\n          \\"weighted_avg\\": {\\n            \\"value\\": {\\n              \\"script\\": \\"doc.grade.value \\"\\n            },\\n            \\"weight\\": {\\n              \\"field\\": \\"weight.combined\\"\\n            }\\n          }\\n        }\\n      }\\n    }\\n","isLeaf":true},{"key":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/03-\u53bb\u91cd\u540e\u6c42\u603b\u6570\u91cf-cardinality.md","path":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/03-\u53bb\u91cd\u540e\u6c42\u603b\u6570\u91cf-cardinality.md","route":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/03-\u53bb\u91cd\u540e\u6c42\u603b\u6570\u91cf-cardinality.md","leaf":true,"title":"03-\u53bb\u91cd\u540e\u6c42\u603b\u6570\u91cf-cardinality","depth":2,"content":"---\\ntitle: 03-\u53bb\u91cd\u540e\u6c42\u603b\u6570\u91cf-cardinality\\nurl: https://www.yuque.com/gaollard/efekv4/mu6f7o\\n---\\n\\n    #\u6570\u636e\u51c6\u5907\\n    POST /myindex_cardinality/_bulk\\n    { \\"index\\": {}}\\n    { \\"name\\" : \\"\u5f20\u4e09\\", \\"weight\\" : 60}\\n    { \\"index\\": {}}\\n    { \\"name\\" : \\"\u674e\u56db\\", \\"weight\\" : 70}\\n    { \\"index\\": {}}\\n    { \\"name\\" : \\"\u5f20\u4e09\\", \\"weight\\" : 80}\\n    #\u7edf\u8ba1\u8ba1\u7b97\u4e0d\u91cd\u540d\u7684\u59d3\u540d\u603b\u6570\u91cf\\n    POST /myindex_cardinality/_search\\n    {\\n      \\"size\\":0,\\n      \\"aggs\\": {\\n        \\"type_count\\": {\\n          \\"cardinality\\": {\\n            \\"field\\": \\"name.keyword\\"\\n          }\\n        }\\n      }\\n    }\\n","isLeaf":true},{"key":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/04-\u7edd\u5bf9\u4e2d\u4f4d\u5dee.md","path":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/04-\u7edd\u5bf9\u4e2d\u4f4d\u5dee.md","route":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/04-\u7edd\u5bf9\u4e2d\u4f4d\u5dee.md","leaf":true,"title":"04-\u7edd\u5bf9\u4e2d\u4f4d\u5dee","depth":2,"content":"---\\ntitle: 04-\u7edd\u5bf9\u4e2d\u4f4d\u5dee\\nurl: https://www.yuque.com/gaollard/efekv4/kebrio\\n---\\n\\n\u7edd\u5bf9\u4e2d\u4f4d\u5dee\u662f\u7528\u539f\u6570\u636e\u51cf\u53bb\u4e2d\u4f4d\u6570\u540e\u5f97\u5230\u7684\u65b0\u6570\u636e\u7684\u7edd\u5bf9\u503c\u4e4b\u4e2d\u4f4d\u6570\u3002Elasticsearch\u4e2d\u4e5f\u63d0\u4f9b\u4e86\u8fd9\u79cd\u8ba1\u7b97\u65b9\u5f0f\uff0c\u4f7f\u7528median\\\\_absolute\\\\_deviation\u5173\u952e\u5b57\u8fdb\u884c\u7edf\u8ba1\u3002\\n\\n    #\u6570\u636e\u51c6\u5907\uff0c\u5982\u4e0b\u662f\u4e0d\u540c\u7684\u4ef7\u683c\\n    POST /myindex_median_absolute_deviation/_bulk\\n    { \\"index\\": {}}\\n    {  \\"price\\" : 60}\\n    { \\"index\\": {}}\\n    {  \\"price\\" : 70}\\n    { \\"index\\": {}}\\n    {  \\"price\\" : 80}\\n    #\u8ba1\u7b97\u4ef7\u683c\u7684\u7edd\u5bf9\u4e2d\u4f4d\u6570\\n    GET myindex_median_absolute_deviation/_search\\n    {\\n      \\"size\\": 0,\\n      \\"aggs\\": {\\n        \\"review_average\\": {\\n          \\"avg\\": { # \u5e73\u5747\u503c\\n            \\"field\\": \\"price\\"\\n          }\\n        },\\n        \\"review_variability\\": { \\n          \\"median_absolute_deviation\\": { # \u7edd\u5bf9\u4e2d\u4f4d\u5dee\\n            \\"field\\": \\"price\\" \\n          }\\n        }\\n      }\\n    }\\n","isLeaf":true},{"key":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/05-\u6700\u5927\u6700\u5c0f\u5e73\u5747\u503c\u7b49.md","path":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/05-\u6700\u5927\u6700\u5c0f\u5e73\u5747\u503c\u7b49.md","route":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/05-\u6700\u5927\u6700\u5c0f\u5e73\u5747\u503c\u7b49.md","leaf":true,"title":"05-\u6700\u5927\u6700\u5c0f\u5e73\u5747\u503c\u7b49","depth":2,"content":"---\\ntitle: 05-\u6700\u5927\u6700\u5c0f\u5e73\u5747\u503c\u7b49\\nurl: https://www.yuque.com/gaollard/efekv4/utpawx\\n---\\n\\n\\n\\n### 1. stats\\n\\n\u4f7f\u7528stats\u5173\u952e\u5b57\u4e00\u6b21\u6027\u7edf\u8ba1\u51fa\u6700\u5927\u503c\u3001\u6700\u5c0f\u503c\u3001\u5e73\u5747\u503c\u3001\u603b\u548c\u3001\u603b\u6761\u6570\u7b49\u4fe1\u606f\\n\\n    #\u6570\u636e\u51c6\u5907\\n    POST /myindex_stats/_bulk\\n    { \\"index\\": {}}\\n    { \\"grade\\" : 80}\\n    { \\"index\\": {}}\\n    { \\"grade\\" : 90}\\n    { \\"index\\": {}}\\n    { \\"grade\\" : 60}\\n         \\n     #\u67e5\u8be2grade\u5b57\u6bb5\u7684\u6700\u5927\u503c\u3001\u6700\u5c0f\u503c\u3001\u5e73\u5747\u503c\u3001\u603b\u548c\u3001\u603b\u6761\u6570\u7b49\u4fe1\u606f\\n    POST myindex_stats/_search\\n    {  \\"size\\":0,\\n      \\"aggs\\": {\\n        \\"grades_stats\\": { \\"stats\\": { \\"field\\": \\"grade\\" } }\\n      }\\n    }\\n\\n\x3c!----\x3e\\n\\n    {\\n     \u2026\\n      \\"hits\\" : {\\n        \\"total\\" : {\\n          \\"value\\" : 3,\\n          \\"relation\\" : \\"eq\\"\\n        },\\n        \\"max_score\\" : null,\\n        \\"hits\\" : [ ]\\n      },\\n      \\"aggregations\\" : {\\n        \\"grades_stats\\" : {\\n          \\"count\\" : 3,\\n          \\"min\\" : 60.0,\\n          \\"max\\" : 90.0,\\n          \\"avg\\" : 76.66666666666667,\\n          \\"sum\\" : 230.0\\n        }\\n      }\\n    }\\n\\n\\n\\n### 2. extended\\\\_stats\\n\\n\u7edf\u8ba1\u5176\u4ed6\u6269\u5c55\u72b6\u6001\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528extended\\\\_stats\u5173\u952e\u5b57\u8fdb\u884c\u7edf\u8ba1\\n\\n    POST myindex_stats/_search\\n    {  \\"size\\":0,\\n      \\"aggs\\": {\\n        \\"grades_stats\\": { \\"extended_stats\\": { \\"field\\": \\"grade\\" } }\\n      }\\n    }\\n\\n\x3c!----\x3e\\n\\n    {\\n      \u2026\\n        \\"hits\\" : [ ]\\n      },\\n      \\"aggregations\\" : {\\n        \\"grades_stats\\" : {\\n          \\"count\\" : 3,\\n          \\"min\\" : 60.0,\\n          \\"max\\" : 90.0,\\n          \\"avg\\" : 76.66666666666667,\\n          \\"sum\\" : 230.0,\\n          \\"sum_of_squares\\" : 18100.0,\\n          \\"variance\\" : 155.55555555555597,\\n          \\"variance_population\\" : 155.55555555555597,\\n          \\"variance_sampling\\" : 233.33333333333394,\\n          \\"std_deviation\\" : 12.472191289246489,\\n          \\"std_deviation_population\\" : 12.472191289246489,\\n          \\"std_deviation_sampling\\" : 15.275252316519486,\\n          \\"std_deviation_bounds\\" : {\\n            \\"upper\\" : 101.61104924515965,\\n            \\"lower\\" : 51.722284088173694,\\n            \\"upper_population\\" : 101.61104924515965,\\n            \\"lower_population\\" : 51.722284088173694,\\n            \\"upper_sampling\\" : 107.21717129970564,\\n            \\"lower_sampling\\" : 46.1161620336277\\n          }\\n        }\\n      }\\n    }\\n","isLeaf":true},{"key":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/06-\u5b57\u7b26\u4e32\u7edf\u8ba1.md","path":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/06-\u5b57\u7b26\u4e32\u7edf\u8ba1.md","route":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/06-\u5b57\u7b26\u4e32\u7edf\u8ba1.md","leaf":true,"title":"06-\u5b57\u7b26\u4e32\u7edf\u8ba1","depth":2,"content":"---\\ntitle: 06-\u5b57\u7b26\u4e32\u7edf\u8ba1\\nurl: https://www.yuque.com/gaollard/efekv4/eadsy5\\n---\\n\\n    #\u6570\u636e\u51c6\u5907\\n    POST /myindex_string_stats/_bulk\\n    { \\"index\\": {}}\\n    { \\"body\\" : \\"Do one thing at a time, and do well\\"}\\n    { \\"index\\": {}}\\n    { \\"body\\" : \\"Believe in yourself\\"}\\n    { \\"index\\": {}}\\n    { \\"body\\" : \\"Keep on going never give up\\"}\\n         \\n    #\u805a\u5408\u7edf\u8ba1body.keyword\u5b57\u6bb5\u4e2d\u5185\u5bb9\u7684\u957f\u5ea6 \\n    POST myindex_string_stats/_search\\n    { \\n      \\"size\\":0,\\n      \\"aggs\\": {\\n        \\"message_stats\\": {\\n          \\"string_stats\\": {\\n            \\"field\\": \\"body.keyword\\"\\n          }\\n        }\\n      }\\n    }\\n\\n    {\\n      \u2026\\n      },\\n      \\"aggregations\\" : {\\n        \\"message_stats\\" : {\\n          \\"count\\" : 3,\\n          \\"min_length\\" : 19,\\n          \\"max_length\\" : 35,\\n          \\"avg_length\\" : 27.0,\\n          \\"entropy\\" : 3.987274621250932\\n        }\\n      }\\n    }\\n\\n\u8fd4\u56de\u4e86\u6240\u6709\u6587\u6863\u4e2d\u5bf9\u5e94\u5b57\u6bb5\u7684\u5185\u5bb9\u6700\u5927\u957f\u5ea6\u3001\u6700\u5c0f\u957f\u5ea6\u7b49\\n","isLeaf":true},{"key":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/07-\u767e\u5206\u4f4d\u6570\u7edf\u8ba1-\u4e0d\u7cbe\u786e.md","path":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/07-\u767e\u5206\u4f4d\u6570\u7edf\u8ba1-\u4e0d\u7cbe\u786e.md","route":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/07-\u767e\u5206\u4f4d\u6570\u7edf\u8ba1-\u4e0d\u7cbe\u786e.md","leaf":true,"title":"07-\u767e\u5206\u4f4d\u6570\u7edf\u8ba1-\u4e0d\u7cbe\u786e","depth":2,"content":"---\\ntitle: 07-\u767e\u5206\u4f4d\u6570\u7edf\u8ba1-\u4e0d\u7cbe\u786e\\nurl: https://www.yuque.com/gaollard/efekv4/qks5gd\\n---\\n\\n\u7edf\u8ba1\u5b66\u672f\u8bed\uff0c\u5982\u679c\u5c06\u4e00\u7ec4\u6570\u636e\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u5e76\u8ba1\u7b97\u76f8\u5e94\u7684\u7d2f\u8ba1\u767e\u5206\u4f4d\uff0c\u5219\u67d0\u4e00\u767e\u5206\u4f4d\u6240\u5bf9\u5e94\u6570\u636e\u7684\u503c\u5c31\u79f0\u4e3a\u8fd9\u4e00\u767e\u5206\u4f4d\u7684\u767e\u5206\u4f4d\u6570\u3002\u53ef\u8868\u793a\u4e3a\uff1a\u4e00\u7ec4n\u4e2a\u89c2\u6d4b\u503c\u6309\u6570\u503c\u5927\u5c0f\u6392\u5217\u3002\u5982\uff0c\u5904\u4e8ep%\u4f4d\u7f6e\u7684\u503c\u79f0\u7b2cp\u767e\u5206\u4f4d\u6570\u3002\\n\\n\\n\\n### 1. \u9ed8\u8ba4\u767e\u5206\u4f4d\u6570\\n\\n    #\u6570\u636e\u51c6\u5907\\n    POST /myindex_percentiles/_doc/_bulk\\n    { \\"index\\": {}}\\n    {\\"name\\":\\"\u5f20\u4e09\\",\\"address\\":\\"\u4e2d\u56fd\\",\\"age\\":18}\\n    { \\"index\\": {}}\\n    {\\"name\\":\\"\u674e\u56db\\",\\"address\\":\\"\u4e2d\u56fd\\",\\"age\\":19}\\n    { \\"index\\": {}}\\n    {\\"name\\":\\"\u738b\u4e94\\",\\"address\\":\\"\u7f8e\u56fd\\",\\"age\\":20}\\n    { \\"index\\": {}}\\n    {\\"name\\":\\"\u8d75\u516d\\",\\"address\\":\\"\u7f8e\u56fd\\",\\"age\\":21}\\n\\n    #\u8ba1\u7b97\u7d22\u5f15\u5e93\u4e2dage\u5b57\u6bb5\u7684\u767e\u5206\u4f4d\u6570\\n    GET myindex_percentiles/_search\\n    {\\n      \\"size\\": 0,\\n      \\"aggs\\": {\\n        \\"age_outlier\\": {\\n          \\"percentiles\\": {\\n            \\"field\\": \\"age\\" \\n          }\\n        }\\n      }\\n    }\\n\\n\x3c!----\x3e\\n\\n    {\\n      \u2026\\n      \\"hits\\" : {\\n        \\"total\\" : {\\n          \\"value\\" : 4,\\n          \\"relation\\" : \\"eq\\"\\n        },\\n        \\"max_score\\" : null,\\n        \\"hits\\" : [ ]\\n      },\\n      \\"aggregations\\" : {\\n        \\"age_outlier\\" : {\\n          \\"values\\" : {\\n            \\"1.0\\" : 18.000000000000004, # \u641e\u4e0d\u61c2\u4e3a\u4ec0\u4e48\u4e0d\u51c6\u786e\\n            \\"5.0\\" : 18.0,\\n            \\"25.0\\" : 18.5,\\n            \\"50.0\\" : 19.5,\\n            \\"75.0\\" : 20.5,\\n            \\"95.0\\" : 21.0,\\n            \\"99.0\\" : 21.0\\n          }\\n        }\\n      }\\n    }\\n\\n\\n\\n### 2. \u81ea\u5b9a\u4e49\u767e\u5206\u4f4d\u6570\\n\\n    GET myindex_percentiles/_search\\n    {\\n      \\"size\\": 0,\\n      \\"aggs\\": {\\n        \\"age_outlier\\": {\\n          \\"percentiles\\": {\\n            \\"field\\": \\"age\\"  ,\\n            \\"percents\\": [\\n                  50,\\n                  95,\\n                  99\\n                ]\\n         \\n          }\\n        }\\n      }\\n    }\\n","isLeaf":true},{"key":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/08-\u767e\u5206\u4f4d\u7b49\u7ea7\u8ba1\u7b97-\u4e0d\u7cbe\u786e.md","path":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/08-\u767e\u5206\u4f4d\u7b49\u7ea7\u8ba1\u7b97-\u4e0d\u7cbe\u786e.md","route":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/08-\u767e\u5206\u4f4d\u7b49\u7ea7\u8ba1\u7b97-\u4e0d\u7cbe\u786e.md","leaf":true,"title":"08-\u767e\u5206\u4f4d\u7b49\u7ea7\u8ba1\u7b97-\u4e0d\u7cbe\u786e","depth":2,"content":"---\\ntitle: 08-\u767e\u5206\u4f4d\u7b49\u7ea7\u8ba1\u7b97-\u4e0d\u7cbe\u786e\\nurl: https://www.yuque.com/gaollard/efekv4/rtxlfi\\n---\\n\\n    #\u6570\u636e\u51c6\u5907\\n    POST /myindex_percentile_ranks/_doc/_bulk\\n    { \\"index\\": {}}\\n    {\\"name\\":\\"\u5f20\u4e09\\",\\"address\\":\\"\u4e2d\u56fd\\",\\"age\\":10}\\n    { \\"index\\": {}}\\n    {\\"name\\":\\"\u674e\u56db\\",\\"address\\":\\"\u4e2d\u56fd\\",\\"age\\":20}\\n    { \\"index\\": {}}\\n    {\\"name\\":\\"\u738b\u4e94\\",\\"address\\":\\"\u7f8e\u56fd\\",\\"age\\":30}\\n    { \\"index\\": {}}\\n    {\\"name\\":\\"\u8d75\u516d\\",\\"address\\":\\"\u7f8e\u56fd\\",\\"age\\":40}\\n    { \\"index\\": {}}\\n    {\\"name\\":\\"\u674e\u767d\\",\\"address\\":\\"\u7f8e\u56fd\\",\\"age\\":50}\\n         \\n    #\u8ba1\u7b97age\u5b57\u6bb5\u503c\u7b49\u4e8e30\u548c50\u7684\u767e\u5206\u4f4d\u7b49\u7ea7\\n    GET myindex_percentile_ranks/_search\\n    {\\n      \\"size\\": 0,\\n      \\"aggs\\": {\\n        \\"age_ranks\\": {\\n          \\"percentile_ranks\\": {\\n            \\"field\\": \\"age\\",   \\n            \\"values\\": [ 30, 50 ]\\n          }\\n        }\\n      }\\n    }\\n","isLeaf":true},{"key":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/09-\u805a\u5408\u540e\u8fd4\u56de\u524dN\u6761\u6570\u636e.md","path":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/09-\u805a\u5408\u540e\u8fd4\u56de\u524dN\u6761\u6570\u636e.md","route":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/09-\u805a\u5408\u540e\u8fd4\u56de\u524dN\u6761\u6570\u636e.md","leaf":true,"title":"09-\u805a\u5408\u540e\u8fd4\u56de\u524dN\u6761\u6570\u636e","depth":2,"content":"---\\ntitle: 09-\u805a\u5408\u540e\u8fd4\u56de\u524dN\u6761\u6570\u636e\\nurl: https://www.yuque.com/gaollard/efekv4/iqku4s\\n---\\n\\n    # 1. \u6839\u636eaddress\u5b57\u6bb5\u8fdb\u884c\u805a\u5408\\n    # 2. \u518d\u6839\u636eage\u5b57\u6bb5\u5012\u5e8f\u8f93\u51fa\uff0c\u8f93\u51fa\u6bcf\u4e00\u4e2a\u5730\u5740\u4e2dage\u5b57\u6bb5\u503c\u6392\u540d\u524d1\u7684\u6570\u636e\\n    POST /myindex_percentile_ranks/_search?size=0\\n    {\\n      // \u7b2c\u4e00\u5c42\u805a\u5408\uff1a\u5148\u6309\u7167address.keyword\u5c06\u6570\u636e\u805a\u5408\u6210\u591a\u4e2aBucket\uff08\u805a\u5408\u6876\uff09\\n      \\"aggs\\": {\\n        \\"top_tags\\": {\\n          \\"terms\\": {\\n            \\"field\\": \\"address.keyword\\" \\n          },\\n          \\"aggs\\": {\\n            \\"top_sales_hits\\": {\\n              // \u7b2c\u4e8c\u5c42\u805a\u5408\uff1a\u5728\u7b2c\u4e00\u5c42\u805a\u5408\u7ed3\u679c\u4e2d\u7684\u6bcf\u4e2aBucket\u5185\u8fdb\u884ctop_hits\u64cd\u4f5c\\n              \\"top_hits\\": {\\n                \\"sort\\": [\\n                  {\\n                    \\"age\\": {\\n                      // \u6392\u5e8f\u6761\u4ef6\u6309\u7167age\u5012\u5e8f\\n                      \\"order\\": \\"desc\\"\\n                    }\\n                  }\\n                ],\\n                \\"_source\\": {\\n                  //\u53ea\u8fd4\u56dename\u548cage\u5b57\u6bb5\u7684\u503c\\n                  \\"includes\\": [ \\"name\\", \\"age\\" ] \\n                },\\n                \\"size\\": 1 // \u4ec5\u8fd4\u56de\u524d1\u6761\u8bb0\u5f55\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n\\n\x3c!----\x3e\\n\\n      {\\n      \u2026\\n      \\"aggregations\\" : {\\n       \u2026\\n          \\"buckets\\" : [\\n            {\\n              \\"key\\" : \\"\u7f8e\u56fd\\",\\n              \\"doc_count\\" : 3,\\n               \u2026\\n                  \\"hits\\" : [\\n                    {\\n                       \u2026\\n                      \\"_source\\" : {\\n                        \\"name\\" : \\"\u674e\u767d\\",\\n                        \\"age\\" : 50\\n                      },\\n                      \\"sort\\" : [\\n                        50\\n                      ]\\n                    }\\n                  ]\\n                }\\n              }\\n            },\\n            {\\n              \\"key\\" : \\"\u4e2d\u56fd\\",\\n              \\"doc_count\\" : 2,\\n              \\"top_sales_hits\\" : {\\n                \u2026\\n                  \\"hits\\" : [\\n                    {\\n                      \\"_index\\" : \\"myindex_percentile_ranks\\",\\n                      \u2026\\n                      \\"_source\\" : {\\n                        \\"name\\" : \\"\u674e\u56db\\",\\n                        \\"age\\" : 20\\n                      },\\n                      \\"sort\\" : [\\n                        20\\n                      ]\\n                     \u2026\\n                     ```\\n","isLeaf":true},{"key":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/10-top_metrics.md","path":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/10-top_metrics.md","route":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/10-top_metrics.md","leaf":true,"title":"10-top_metrics","depth":2,"content":"---\\ntitle: 10-top_metrics\\nurl: https://www.yuque.com/gaollard/efekv4/mgeg7k\\n---\\n\\ntop\\\\_metrics \u5173\u952e\u5b57\u4e0e top\\\\_hits \u5173\u952e\u5b57\u975e\u5e38\u76f8\u4f3c\uff0c\u4f46\u5b83\u80fd\u591f\u4f7f\u7528\u66f4\u5c11\u7684\u5185\u5b58\u6765\u5b8c\u6210\u805a\u5408\uff0c\u6027\u80fd\u66f4\u9ad8\u3002\\n\\n    #\u6570\u636e\u51c6\u5907\\n    POST /myindex-top_metrics_test/_bulk?refresh\\n    {\\"index\\": {}}\\n    {\\"num\\": 1, \\"score\\": 3.1415}\\n    {\\"index\\": {}}\\n    {\\"num\\": 2, \\"score\\": 1.0}\\n    {\\"index\\": {}}\\n    {\\"num\\": 3, \\"score\\": 2.71828}\\n\\n    #\u83b7\u53d6\u7d22\u5f15\u5e93\u4e2dnum\u5b57\u6bb5\u7684\u6700\u5927\u503c\u548c\u5bf9\u5e94\u7684score\u4fe1\u606f\\n    POST /myindex-top_metrics_test/_search?filter_path=aggregations\\n    {\\n      \\"aggs\\": {\\n        \\"tm\\": {\\n          \\"top_metrics\\": {\\n            \\"metrics\\": {\\"field\\": \\"score\\"},\\n            \\"sort\\": {\\"num\\": \\"desc\\"}\\n          }\\n        }\\n      }\\n    }\\n\\n\x3c!----\x3e\\n\\n    {\\n      \\"aggregations\\" : {\\n        \\"tm\\" : {\\n          \\"top\\" : [\\n            {\\n              \\"sort\\" : [\\n                3\\n              ],\\n              \\"metrics\\" : {\\n                \\"score\\" : 2.718280076980591\\n              }\\n            }\\n          ]\\n        }\\n      }\\n    }\\n\\n\x3c!----\x3e\\n\\n    POST /myindex-top_metrics_test/_search?filter_path=aggregations\\n    {\\n      \\"aggs\\": {\\n        \\"tm\\": {\\n          \\"top_metrics\\": {\\n            \\"metrics\\": {\\"field\\": \\"score\\"},\\n            \\"sort\\": {\\"num\\": \\"desc\\"},\\n            \\"size\\":2\\n          }\\n        }\\n      }\\n     }\\n\\n    {\\n      \\"aggregations\\" : {\\n        \\"tm\\" : {\\n          \\"top\\" : [\\n            {\\n              \\"sort\\" : [3],\\"metrics\\" : {\\"score\\" : 2.718280076980591}\\n            },\\n            {\\n              \\"sort\\" : [2],\\"metrics\\" : {\\"score\\" : 1.0}\\n            }\\n          ]\\n        }\\n      }\\n    }\\n\\n\u4ee5\u4e0a\u7ed3\u679c\u4e2d\uff0c\u6839\u636enum\u5b57\u6bb5\u8fdb\u884c\u6392\u5e8f\uff0c\u8fd4\u56de\u524d\u4e24\u6761\u6587\u6863\u6570\u636e\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/11-\u805a\u5408\u6570\u636e\u7ed3\u679c\u4e0d\u7cbe\u786e.md","path":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/11-\u805a\u5408\u6570\u636e\u7ed3\u679c\u4e0d\u7cbe\u786e.md","route":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/11-\u805a\u5408\u6570\u636e\u7ed3\u679c\u4e0d\u7cbe\u786e.md","leaf":true,"title":"11-\u805a\u5408\u6570\u636e\u7ed3\u679c\u4e0d\u7cbe\u786e","depth":2,"content":"---\\ntitle: 11-\u805a\u5408\u6570\u636e\u7ed3\u679c\u4e0d\u7cbe\u786e\\nurl: https://www.yuque.com/gaollard/efekv4/aowigk\\n---\\n\\n<https://www.freesion.com/article/40661095425/>\\n","isLeaf":true},{"key":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/12-\u805a\u5408\u4e0d\u652f\u6301\u5206\u9875\u7801.md","path":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/12-\u805a\u5408\u4e0d\u652f\u6301\u5206\u9875\u7801.md","route":"/Elasticsearch/10-\u805a\u5408\u51fd\u6570/12-\u805a\u5408\u4e0d\u652f\u6301\u5206\u9875\u7801.md","leaf":true,"title":"12-\u805a\u5408\u4e0d\u652f\u6301\u5206\u9875\u7801","depth":2,"content":"---\\ntitle: 12-\u805a\u5408\u4e0d\u652f\u6301\u5206\u9875\u7801\\nurl: https://www.yuque.com/gaollard/efekv4/ruzfxn\\n---\\n\\n    https://cloud.tencent.com/developer/article/1066373\\n","isLeaf":true}]},{"key":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4","path":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4","route":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4","leaf":false,"title":"11-\u9ad8\u53ef\u7528\u96c6\u7fa4","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/01-\u591a\u8282\u70b9\u96c6\u7fa4\u73af\u5883\u642d\u5efa.md","path":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/01-\u591a\u8282\u70b9\u96c6\u7fa4\u73af\u5883\u642d\u5efa.md","route":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/01-\u591a\u8282\u70b9\u96c6\u7fa4\u73af\u5883\u642d\u5efa.md","leaf":true,"title":"01-\u591a\u8282\u70b9\u96c6\u7fa4\u73af\u5883\u642d\u5efa","depth":2,"content":"---\\ntitle: 01-\u591a\u8282\u70b9\u96c6\u7fa4\u73af\u5883\u642d\u5efa\\nurl: https://www.yuque.com/gaollard/efekv4/eo9c9d\\n---\\n\\n1. \u5ba2\u6237\u7aef\u8282\u70b9\\n2. \u6570\u636e\u8282\u70b9\\n3. \u4e3b\u8282\u70b9\\n","isLeaf":true},{"key":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/02-\u751f\u4ea7\u73af\u5883\u96c6\u7fa4\u63a8\u8350\u65b9\u6848.md","path":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/02-\u751f\u4ea7\u73af\u5883\u96c6\u7fa4\u63a8\u8350\u65b9\u6848.md","route":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/02-\u751f\u4ea7\u73af\u5883\u96c6\u7fa4\u63a8\u8350\u65b9\u6848.md","leaf":true,"title":"02-\u751f\u4ea7\u73af\u5883\u96c6\u7fa4\u63a8\u8350\u65b9\u6848","depth":2,"content":"---\\ntitle: 02-\u751f\u4ea7\u73af\u5883\u96c6\u7fa4\u63a8\u8350\u65b9\u6848\\nurl: https://www.yuque.com/gaollard/efekv4/evwq2x\\n---\\n\\n1. \u5728\u4e00\u4e2a\u751f\u4ea7\u73af\u5883\u96c6\u7fa4\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u8282\u70b9\u7684\u804c\u8d23\u8fdb\u884c\u5212\u5206\uff0c\u5efa\u8bae\u96c6\u7fa4\u4e2d\u8bbe\u7f6e3\u4e2a\u4ee5\u4e0a\u7684\u8282\u70b9\u4f5c\u4e3a\u4e3b\u8282\u70b9\uff0c\u5f53\u73b0\u6709\u7684\u4e3b\u8282\u70b9\u51fa\u73b0\u6545\u969c\u65f6\uff0c\u8fd9\u4e9b\u8282\u70b9\u53ef\u4ee5\u88ab\u9009\u4e3e\u6210\u4e3a\u4e3b\u8282\u70b9\uff0c\u4ece\u800c\u7ef4\u62a4\u6574\u4e2a\u96c6\u7fa4\u7684\u72b6\u6001\u3002\\n2. \u7136\u540e\u53ef\u4ee5\u6839\u636e\u6570\u636e\u91cf\u8bbe\u7f6e\u4e00\u6279\u6570\u636e\u8282\u70b9\uff0c\u8fd9\u4e9b\u8282\u70b9\u53ea\u8d1f\u8d23\u5b58\u50a8\u6570\u636e\uff0c\u5982\u679c\u96c6\u7fa4\u4e2d\u7d22\u5f15\u6570\u91cf\u8f83\u5927\uff0c\u63a8\u8350\u5728\u96c6\u7fa4\u4e2d\u518d\u8bbe\u7f6e\u4e00\u6279\u5ba2\u6237\u7aef\u8282\u70b9\uff08\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6enode.master: false\u548cnode.data: false\uff09\uff0c\u8fd9\u4e9b\u8282\u70b9\u53ea\u8d1f\u8d23\u5904\u7406\u7528\u6237\u8bf7\u6c42\uff0c\u5b9e\u73b0\u8bf7\u6c42\u8f6c\u53d1\u3001\u8d1f\u8f7d\u5747\u8861\u7b49\u529f\u80fd\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/03-\u8282\u70b9\u53d1\u73b0.md","path":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/03-\u8282\u70b9\u53d1\u73b0.md","route":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/03-\u8282\u70b9\u53d1\u73b0.md","leaf":true,"title":"03-\u8282\u70b9\u53d1\u73b0","depth":2,"content":"---\\ntitle: 03-\u8282\u70b9\u53d1\u73b0\\nurl: https://www.yuque.com/gaollard/efekv4/rtgx5w\\n---\\n\\n\u5f53Elasticsearch\u96c6\u7fa4\u4e2d\u7684\u8282\u70b9\u542f\u52a8\u540e\uff0c\u5b83\u4eec\u4f1a\u5229\u7528\u591a\u64ad\u6216\u8005\u5355\u64ad\uff08\u5982\u679c\u7528\u6237\u66f4\u6539\u4e86\u914d\u7f6e\uff09\u5bfb\u627e\u96c6\u7fa4\u4e2d\u7684\u5176\u4ed6\u8282\u70b9\uff0c\u5e76\u4e0e\u4e4b\u5efa\u7acb\u8fde\u63a5\\n\\n![](https://s3.airtlab.com/elasticsearch/20220430212947.png)\\n","isLeaf":true},{"key":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/04-\u8282\u70b9\u6545\u969c.md","path":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/04-\u8282\u70b9\u6545\u969c.md","route":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/04-\u8282\u70b9\u6545\u969c.md","leaf":true,"title":"04-\u8282\u70b9\u6545\u969c","depth":2,"content":"---\\ntitle: 04-\u8282\u70b9\u6545\u969c\\nurl: https://www.yuque.com/gaollard/efekv4/ienygf\\n---\\n\\n\u5728\u6b63\u5e38\u5de5\u4f5c\u65f6\uff0c\u4e3b\u8282\u70b9\u4f1a\u76d1\u63a7\u6240\u6709\u7684\u8282\u70b9\uff0c\u67e5\u770b\u5404\u4e2a\u8282\u70b9\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u3002\u5982\u679c\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u67d0\u4e2a\u8282\u70b9\u65e0\u6cd5\u88ab\u8bbf\u95ee\uff0c\u8be5\u8282\u70b9\u5c31\u4f1a\u88ab\u89c6\u4e3a\u51fa\u6545\u969c\u4e86\u3002\\n\\n![](https://s3.airtlab.com/elasticsearch/20220430213044.png)\\n\\n\u5f53\u4e3b\u8282\u70b9\u53d1\u73b0\u8d85\u8fc73\u6b21Ping\u4e0d\u901a\u67d0\u4e00\u4e2a\u8282\u70b9\uff0c\u5c31\u4f1a\u8ba4\u4e3a\u6b64\u8282\u70b9\u5b95\u673a\u3002\u8282\u70b9\u6545\u969c\u7684\u76f8\u5173\u914d\u7f6e\u5982\u886810-1\u6240\u793a\u3002\\n\\n![](https://s3.airtlab.com/elasticsearch/20220430213126.png)\\n","isLeaf":true},{"key":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/05-\u96c6\u7fa4\u72b6\u6001\u66f4\u65b0.md","path":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/05-\u96c6\u7fa4\u72b6\u6001\u66f4\u65b0.md","route":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/05-\u96c6\u7fa4\u72b6\u6001\u66f4\u65b0.md","leaf":true,"title":"05-\u96c6\u7fa4\u72b6\u6001\u66f4\u65b0","depth":2,"content":"---\\ntitle: 05-\u96c6\u7fa4\u72b6\u6001\u66f4\u65b0\\nurl: https://www.yuque.com/gaollard/efekv4/oug7g7\\n---\\n\\n\u5982\u524d\u4e24\u8282\u5185\u5bb9\u6240\u8ff0\uff0c\u65e0\u8bba\u662f\u96c6\u7fa4\u4e2d\u65b0\u6dfb\u52a0\u8282\u70b9\uff0c\u8fd8\u662f\u8282\u70b9\u6709\u5f02\u5e38\uff0c\u90fd\u9700\u8981\u7ef4\u62a4\u96c6\u7fa4\u72b6\u6001\u3002\u800c\u4e3b\u8282\u70b9\u662f\u552f\u4e00\u4e00\u4e2a\u80fd\u591f\u66f4\u65b0\u96c6\u7fa4\u72b6\u6001\u7684\u8282\u70b9\u3002\\n\\n\u4e00\u4e2a\u65f6\u95f4\u6bb5\u5185\u4e3b\u8282\u70b9\u53ea\u80fd\u66f4\u65b0\u4e00\u4e2a\u96c6\u7fa4\u72b6\u6001\uff0c\u5e76\u4e14\u5c06\u66f4\u6539\u7684\u96c6\u7fa4\u72b6\u6001\u53d1\u9001\u7ed9\u5176\u4ed6\u8282\u70b9\uff0c\u5f53\u5176\u4ed6\u8282\u70b9\u63a5\u6536\u5230\u72b6\u6001\u65f6\uff0c\u5148\u786e\u8ba4\u6536\u5230\u6d88\u606f\uff0c\u4f46\u662f\u6b64\u65f6\u5e76\u4e0d\u66f4\u65b0\u5230\u6700\u65b0\u72b6\u6001\u3002\u5982\u679c\u4e3b\u8282\u70b9\u5728\u89c4\u5b9a\u65f6\u95f4\uff08discovery.zen.commit\\\\_timeout\u9ed8\u8ba430\u79d2\uff09\u5185\u6ca1\u6709\u6536\u5230\u5927\u591a\u6570\u8282\u70b9\uff08\u5927\u591a\u6570\u8282\u70b9\u6570\u91cf=discovery.zen.minimum\\\\_master\\\\_nodes\u53c2\u6570\u7684\u503c\uff09\u7684\u786e\u8ba4\uff0c\u90a3\u4e48\u96c6\u7fa4\u72b6\u6001\u66f4\u65b0\u8bf7\u6c42\u4e0d\u4f1a\u88ab\u901a\u8fc7\u3002\\n\\n\u4e00\u65e6\u8db3\u591f\u7684\u8282\u70b9\u54cd\u5e94\u4e86\u66f4\u65b0\u7684\u6d88\u606f\uff0c\u65b0\u7684\u96c6\u7fa4\u72b6\u6001\u624d\u4f1a\u88ab\u63d0\u4ea4\uff0c\u5e76\u4e14\u4f1a\u53d1\u9001\u4e00\u6761\u6d88\u606f\u7ed9\u6240\u6709\u7684\u8282\u70b9\u3002\u968f\u540e\u8fd9\u4e9b\u8282\u70b9\u5f00\u59cb\u5728\u5185\u90e8\u66f4\u65b0\u81f3\u65b0\u7684\u96c6\u7fa4\u72b6\u6001\uff0c\u5982\u56fe10-6\u6240\u793a\u3002\\n\\n![](https://s3.airtlab.com/elasticsearch/20220430213309.png)\\n\\n\u5f53\u96c6\u7fa4\u72b6\u6001\u6709\u4e86\u65b0\u7684\u53d8\u5316\uff0c\u90fd\u662f\u4e3b\u8282\u70b9\u4e3b\u52a8\u901a\u77e5\u5176\u4ed6\u8282\u70b9\u6765\u540c\u6b65\u96c6\u7fa4\u72b6\u6001\u7684\u4fe1\u606f\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/06-\u4e3b\u8282\u70b9\u9009\u4e3e.md","path":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/06-\u4e3b\u8282\u70b9\u9009\u4e3e.md","route":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/06-\u4e3b\u8282\u70b9\u9009\u4e3e.md","leaf":true,"title":"06-\u4e3b\u8282\u70b9\u9009\u4e3e","depth":2,"content":"---\\ntitle: 06-\u4e3b\u8282\u70b9\u9009\u4e3e\\nurl: https://www.yuque.com/gaollard/efekv4/fnb46s\\n---\\n\\n\u5728\u96c6\u7fa4\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4e3b\u8282\u70b9\u6709\u53ef\u80fd\u4f1a\u51fa\u73b0\u5f02\u5e38\uff1a\\n\\n![](https://s3.airtlab.com/elasticsearch/20220430213416.png)\\n\\n\u5f53\u4e3b\u8282\u70b9\u51fa\u73b0\u5b95\u673a\u6216\u8005\u7f51\u7edc\u5f02\u5e38\u65f6\uff0c\u5982\u679c\u9020\u6210\u5176\u4ed6\u8282\u70b9\u8d85\u8fc73\u6b21\u90fd\u6ca1\u6709Ping\u901a\u4e3b\u8282\u70b9\uff0c\u5219\u8ba4\u4e3a\u5f53\u524d\u4e3b\u8282\u70b9\u51fa\u73b0\u4e86\u5f02\u5e38\uff0c\u96c6\u7fa4\u4f1a\u91cd\u65b0\u9009\u4e3e\u65b0\u7684\u4e3b\u8282\u70b9\u3002\\n\\n\u5982\u679c\u4e00\u4e9b\u8282\u70b9\u7684node.master\u53c2\u6570\u4e8b\u5148\u88ab\u914d\u7f6e\u4e3atrue\uff0c\u5219\u8868\u793a\u8fd9\u79cd\u8282\u70b9\u5728\u4e3b\u8282\u70b9\u53d1\u751f\u6545\u969c\u7684\u65f6\u5019\u4f1a\u53c2\u52a0\u9009\u4e3e\u3002\u5728\u591a\u4e2a\u8282\u70b9\u9009\u4e3e\u7684\u8fc7\u7a0b\u4e2d\uff0c\u8282\u70b9\u552f\u4e00\u6807\u8bc6\u503c\u8d8a\u5c0f\uff0c\u5219\u8d8a\u6709\u53ef\u80fd\u88ab\u9009\u4e3e\u4e3a\u4e3b\u8282\u70b9\uff0c\u5982\u56fe10-8\u6240\u793a\u4e3a\u4ee3\u7801\u7247\u6bb5\u3002\\n\\n![](https://s3.airtlab.com/elasticsearch/20220430213450.png)\\n\\n\u4e0a\u8ff0\u4ee3\u7801\u7247\u6bb5\u662f\u4e3b\u8282\u70b9\u8fdb\u884c\u9009\u4e3e\u7684\u4e00\u90e8\u5206\u4ee3\u7801\uff0c\u901a\u8fc7\u4e0a\u8ff0\u4ee3\u7801\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\u5bf9\u4e8e\u6709\u8d44\u683c\u88ab\u9009\u4e3e\u4e3a\u4e3b\u8282\u70b9\u7684\u5404\u4e2a\u8282\u70b9\uff0c\u5c06\u5b83\u4eec\u7684\u8282\u70b9\u552f\u4e00\u6807\u8bc6\u8fdb\u884c\u6392\u5e8f\uff0c\u7136\u540e\u4f18\u5148\u9009\u62e9\u6807\u8bc6\u503c\u5c0f\u7684\u8282\u70b9\u4f5c\u4e3a\u4e3b\u8282\u70b9\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/07-\u8111\u88c2\u95ee\u9898\u4e0d\u518d\u6210\u4e3a\u95ee\u9898.md","path":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/07-\u8111\u88c2\u95ee\u9898\u4e0d\u518d\u6210\u4e3a\u95ee\u9898.md","route":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/07-\u8111\u88c2\u95ee\u9898\u4e0d\u518d\u6210\u4e3a\u95ee\u9898.md","leaf":true,"title":"07-\u8111\u88c2\u95ee\u9898\u4e0d\u518d\u6210\u4e3a\u95ee\u9898","depth":2,"content":"---\\ntitle: 07-\u8111\u88c2\u95ee\u9898\u4e0d\u518d\u6210\u4e3a\u95ee\u9898\\nurl: https://www.yuque.com/gaollard/efekv4/hah28e\\n---\\n\\n\u5f53\u524d\u96c6\u7fa4\u4e2d\u67096\u4e2a\u8282\u70b9\uff0c\u5de6\u8fb93\u4e2a\u8282\u70b9\u548c\u53f3\u8fb93\u4e2a\u8282\u70b9\u4e0d\u5728\u540c\u4e00\u4e2a\u7f51\u7edc\u5206\u533a\uff0c\u5982\u679c\u4e24\u4e2a\u7f51\u7edc\u5206\u533a\u4e4b\u95f4\u51fa\u73b0\u5f02\u5e38\uff0c\u5c31\u4f1a\u5bfc\u81f4\u5de6\u8fb9\u76843\u4e2a\u8282\u70b9\u91cd\u65b0\u9009\u4e3e\u4e00\u4e2a\u65b0\u7684\u4e3b\u8282\u70b9\\n\\n![](https://s3.airtlab.com/elasticsearch/20220430213622.png)\\n\\n\u53ef\u4ee5\u770b\u5230\uff0c\u96c6\u7fa4\u4e2d\u51fa\u73b0\u4e86\u4e24\u4e2a\u4e3b\u8282\u70b9\uff0c\u8fd9\u79cd\u60c5\u51b5\u5c31\u662f\u201c\u8111\u88c2\u201d\u3002\u9020\u6210\u201c\u8111\u88c2\u201d\u7684\u539f\u56e0\u6709\u5982\u4e0b\u51e0\u79cd\uff1a\\n\\n1\uff09\u7f51\u7edc\u539f\u56e0\u3002\u5185\u7f51\u4e00\u822c\u4e0d\u4f1a\u51fa\u73b0\u6b64\u95ee\u9898\uff0c\u56e0\u4e3a\u53ef\u4ee5\u76d1\u63a7\u5185\u7f51\u6d41\u91cf\u72b6\u6001\u3002\u5916\u7f51\u51fa\u73b0\u7f51\u7edc\u95ee\u9898\u7684\u53ef\u80fd\u6027\u66f4\u5927\u4e00\u4e9b\uff0c\u4f1a\u5bfc\u81f4\u5176\u4ed6\u8282\u70b9\u8ba4\u4e3a\u4e3b\u8282\u70b9\u5b95\u673a\u4e86\uff0c\u4ece\u800c\u91cd\u65b0\u9009\u62e9\u4e3b\u8282\u70b9\u3002\\n\\n2\uff09\u8282\u70b9\u8d1f\u8f7d\u3002\u4e3b\u8282\u70b9\u65e2\u8981\u8d1f\u8d23\u7ba1\u7406\u96c6\u7fa4\u53c8\u8981\u5b58\u50a8\u6570\u636e\uff0c\u5f53\u8bbf\u95ee\u91cf\u5927\u7684\u65f6\u5019\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4Elasticsearch\u5b9e\u4f8b\u53cd\u5e94\u4e0d\u8fc7\u6765\u800c\u505c\u6b62\u54cd\u5e94\uff0c\u6b64\u65f6\u5176\u4ed6\u8282\u70b9\u5728\u5411\u4e3b\u8282\u70b9\u53d1\u9001\u6d88\u606f\u65f6\u5f97\u4e0d\u5230\u4e3b\u8282\u70b9\u7684\u54cd\u5e94\uff0c\u5c31\u4f1a\u8ba4\u4e3a\u4e3b\u8282\u70b9\u5b95\u673a\u4e86\uff0c\u4ece\u800c\u91cd\u65b0\u9009\u62e9\u4e3b\u8282\u70b9\u3002\\n\\n3\uff09\u5185\u5b58\u56de\u6536\u3002\u5927\u89c4\u6a21\u56de\u6536\u5185\u5b58\u4e5f\u4f1a\u5bfc\u81f4Elasticsearch\u96c6\u7fa4\u5931\u53bb\u54cd\u5e94\uff0c\u8fdb\u800c\u5bfc\u81f4\u5176\u4ed6\u8282\u70b9\u8ba4\u4e3a\u4e3b\u8282\u70b9\u5b95\u673a\u4e86\uff0c\u4ece\u800c\u91cd\u65b0\u9009\u62e9\u4e3b\u8282\u70b9\u3002\\n\\n\u89e3\u51b3\u8111\u88c2\u95ee\u9898\u7684\u65b9\u6848\u5982\u4e0b\uff1a\u53ea\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u65b0\u589e\u4e0b\u9762\u7684\u914d\u7f6e\u5373\u53ef\uff1a\\n\\n    discovery.zen.minimum_master_nodes: (n/2)+1\\n\\n\u5728Elasticsearch 7.13\u7248\u672c\u4e2d\uff0cElasticsearch\u5185\u90e8\u521b\u5efa\u4e86\u4e00\u4e2a\u53ef\u63d2\u62d4\u7684\u96c6\u7fa4\u534f\u8c03\u7cfb\u7edf\uff0c\u5176\u9ed8\u8ba4\u5b9e\u73b0\u79f0\u4e3aZen Discovery\u3002\u5b83\u5bf9\u96c6\u7fa4\u534f\u8c03\u5c42\u8fdb\u884c\u4e86\u5f7b\u5e95\u7684\u91cd\u5efa\uff0c\u5e76\u8868\u793a\u4e0d\u4f1a\u51fa\u73b0\u201c\u8111\u88c2\u201d\u95ee\u9898\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/08-\u5206\u7247.md","path":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/08-\u5206\u7247.md","route":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/08-\u5206\u7247.md","leaf":true,"title":"08-\u5206\u7247","depth":2,"content":"---\\ntitle: 08-\u5206\u7247\\nurl: https://www.yuque.com/gaollard/efekv4/hgxy0q\\n---\\n\\n\\n\\n### 1. \u5206\u7247\u8bbe\u7f6e\\n\\n    #\u5206\u7247\u8bbe\u7f6e\u5982\u4e0b\\n    PUT /\u7d22\u5f15\u5e93\u540d\u79f0/_settings\\n    {\\n      \\"number_of_shards\\": 1,\\n      \\"number_of_replicas\\": 4\\n    }\\n\\n\x3c!----\x3e\\n\\n    PUT /clayindex\\n    {\\n       \\"settings\\": {\\n        \\"number_of_shards\\": 2,      #\u4e3b\u5206\u7247\u6570\u91cf\u662f2\\n        \\"number_of_replicas\\": 1     #\u526f\u672c\u5206\u7247\u6570\u91cf\u662f1\\n       }, \\n       \\"mappings\\": {\\n         \\"properties\\": {\\n         \\"name\\":{\\n           \\"type\\": \\"keyword\\"\\n         },\\n         \\"address\\":{\\n            \\"type\\": \\"text\\"\\n         },\\n         \\"age\\":{\\n            \\"type\\": \\"integer\\"\\n         }\\n         }\\n       }\\n    }\\n\\n\u5728\u521b\u5efa\u7d22\u5f15\u6620\u5c04\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u5728settings\u53c2\u6570\u4e2d\u6307\u5b9a\u5206\u7247\u6570\u91cf\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u6709\u7d22\u5f15\u5df2\u7ecf\u5efa\u7acb\uff0c\u90a3\u4e48\u4fee\u6539\u7684\u65f6\u5019\u53ea\u80fd\u4fee\u6539\u526f\u672c\u5206\u7247\u7684\u6570\u91cf\uff0c\u4e3b\u5206\u7247\u6570\u91cf\u4e0d\u53ef\u4ee5\u4fee\u6539\\n\\n\\n\\n### 2. \u591a\u5c11\u4e2a\u5206\u7247\u6570\u91cf\u624d\u5408\u7406\\n\\n**1. \u907f\u514d\u5206\u7247\u8fc7\u5927**\\n\\n\u56e0\u4e3a\u8fd9\u6837\u4f1a\u5bf9\u96c6\u7fa4\u201c\u4ece\u6545\u969c\u4e2d\u6062\u590d\u201d\u9020\u6210\u4e0d\u5229\u7684\u5f71\u54cd\u3002\u5c3d\u7ba1\u5e76\u6ca1\u6709\u5173\u4e8e\u5206\u7247\u5927\u5c0f\u7684\u56fa\u5b9a\u9650\u503c\uff0c\u4f46\u662f\u5f00\u53d1\u548c\u8fd0\u7ef4\u4eba\u5458\u901a\u5e38\u5c0650GB\u4f5c\u4e3a\u5206\u7247\u4e0a\u9650\uff0c\u800c\u4e14\u8fd9\u4e00\u9650\u503c\u5728\u5404\u79cd\u7528\u4f8b\u4e2d\u90fd\u5df2\u5f97\u5230\u4e86\u9a8c\u8bc1\u3002\\n\\n**2. \u5206\u7247\u4e0d\u53ef\u8fc7\u5c0f**\\n\\n\u5206\u7247\u8fc7\u5c0f\u4f1a\u5bfc\u81f4\u201c\u6bb5\u201d\uff08Segment\uff0cElasticsearch\u4e2d\u5b58\u50a8\u6570\u636e\u7684\u7a7a\u95f4\u5757\uff09\u8fc7\u5c0f\uff0c\u8fdb\u800c\u5bfc\u81f4\u5f00\u9500\u589e\u52a0\u3002\u7528\u6237\u8981\u5c3d\u91cf\u5c06\u5206\u7247\u7684\u5e73\u5747\u5927\u5c0f\u63a7\u5236\u5728\u51e0GB\u5230\u51e0\u5341GB\u3002\u5bf9\u4e8e\u65f6\u5e8f\u578b\u6570\u636e\u800c\u8a00\uff0c\u5206\u7247\u5927\u5c0f\u901a\u5e38\u4ecb\u4e8e20GB\uff5e40GB\u3002\\n\\n**3. \u6587\u6863\u5f52\u5e76**\\n\\n\u7531\u4e8e\u5355\u4e2a\u5206\u7247\u7684\u5f00\u9500\u53d6\u51b3\u4e8e\u201c\u6bb5\u201d\u7684\u6570\u91cf\u548c\u201c\u6bb5\u201d\u7684\u5927\u5c0f\uff0c\u56e0\u6b64\u901a\u8fc7\u6587\u6863\u5f52\u5e76\uff08forcemerge\uff09\u64cd\u4f5c\u5f3a\u5236\u5c06\u8f83\u5c0f\u7684\u201c\u6bb5\u201d\u5408\u5e76\u4e3a\u8f83\u5927\u7684\u201c\u6bb5\u201d\u3002\u8fd9\u6837\u505a\u80fd\u591f\u51cf\u5c11\u5f00\u9500\u5e76\u6539\u5584\u67e5\u8be2\u7684\u6027\u80fd\u3002\u7406\u60f3\u72b6\u51b5\u4e0b\uff0c\u5e94\u5f53\u5728\u7d22\u5f15\u5185\u65e0\u6570\u636e\u5199\u5165\u7684\u65f6\u5019\u5b8c\u6210\u6b64\u64cd\u4f5c\u3002\u4f46\u662f\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6587\u6863\u5f52\u5e76\u64cd\u4f5c\u662f\u4e00\u4e2a\u6781\u5176\u8017\u8d39\u8d44\u6e90\u7684\u64cd\u4f5c\uff0c\u6240\u4ee5\u5e94\u8be5\u5728\u975e\u9ad8\u5cf0\u65f6\u6bb5\u8fdb\u884c\u3002\\n\\n**4. \u5206\u7247\u6570\u91cf\u9650\u5236**\\n\\n\u6bcf\u4e2a\u8282\u70b9\u4e0a\u53ef\u4ee5\u5b58\u50a8\u7684\u5206\u7247\u6570\u91cf\u4e0e\u53ef\u7528\u7684\u5806\u5185\u5b58\u5927\u5c0f\u6210\u6b63\u6bd4\uff0c\u4f46\u662fElasticsearch\u5e76\u672a\u5f3a\u5236\u89c4\u5b9a\u56fa\u5b9a\u9650\u503c\u3002\u63a8\u8350\u5c06\u5355\u4e2a\u5206\u7247\u5b58\u50a8\u7d22\u5f15\u6570\u636e\u7684\u5927\u5c0f\u63a7\u5236\u572820GB\u5de6\u53f3\uff0c\u7edd\u5bf9\u4e0d\u8981\u8d85\u8fc750GB\uff0c\u5206\u7247\u7684\u6570\u91cf\u53ef\u4ee5\u6839\u636e\u5982\u4e0b\u516c\u5f0f\u8ba1\u7b97\uff1a\\n\\n    \u5206\u7247\u6570\u91cf=\u6570\u636e\u603b\u91cf / 20GB\\n\\n\\n\\n### 3. \u6570\u636e\u5b58\u50a8\u5206\u7247\u673a\u5236\u5e94\u5bf9\u6269\u5bb9\u548c\u5206\u7247\u6545\u969c\u7684\u65b9\u5f0f\\n\\n\u5982\u56fe10-11\u6240\u793a\uff0c\u96c6\u7fa4\u4e2d\u67093\u4e2a\u4e3b\u5206\u7247\uff0c3\u4e2a\u526f\u672c\u5206\u7247\uff0c\u6bcf\u4e2a\u4e3b\u5206\u7247\u5bf9\u5e94\u4e00\u4e2a\u526f\u672c\u5206\u7247\uff0c\u800c\u4e14\u4e3b\u5206\u7247\u548c\u526f\u672c\u5206\u7247\u5206\u5e03\u5728\u4e0d\u540c\u7684\u8282\u70b9\u3002\\n\\n\u6240\u4ee5\u5f53\u96c6\u7fa4\u4e2d\u5185\u4efb\u4f55\u4e00\u4e2a\u8282\u70b9\u51fa\u73b0\u95ee\u9898\u7684\u65f6\u5019\uff0c\u6211\u4eec\u7684\u6570\u636e\u90fd\u5b8c\u597d\u65e0\u635f\u3002\u5f53\u6211\u4eec\u5199\u5165\u6587\u6863\u65f6\uff0c\u8fd9\u4e9b\u6587\u6863\u90fd\u4f1a\u4fdd\u5b58\u5728\u4e3b\u5206\u7247\u4e0a\uff0c\u7136\u540e\u88ab\u5e76\u884c\u5730\u590d\u5236\u5230\u5bf9\u5e94\u7684\u526f\u672c\u5206\u7247\u4e0a\u3002\\n\\n\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86\u65e2\u53ef\u4ee5\u4ece\u4e3b\u5206\u7247\u4e0a\u83b7\u5f97\u6587\u6863\u6570\u636e\uff0c\u53c8\u53ef\u4ee5\u4ece\u526f\u672c\u5206\u7247\u4e0a\u83b7\u5f97\u6587\u6863\u6570\u636e\uff0c\u4e5f\u63d0\u9ad8\u4e86\u67e5\u8be2\u6548\u7387\u3002\\n\\n![](https://s3.airtlab.com/elasticsearch/20220430214308.png)\\n\\n\u5f53\u65b0\u52a0\u5165Node3\u8282\u70b9\u5bf9\u96c6\u7fa4\u8fdb\u884c\u6269\u5bb9\u65f6\uff0cNode1\u548cNode2\u4e0a\u5404\u6709\u4e00\u4e2a\u5206\u7247\u88ab\u8fc1\u79fb\u5230\u4e86\u65b0\u7684Node 3\u8282\u70b9\u4e0a\u3002\u6b64\u65f6\uff0c\u6bcf\u4e2a\u8282\u70b9\u4e0a\u90fd\u62e5\u6709\u4e24\u4e2a\u5206\u7247\uff0c\u800c\u4e0d\u662f\u4e4b\u524d\u76843\u4e2a\u5206\u7247\u3002\u8fd9\u6837\u6bcf\u4e2a\u8282\u70b9\u7684\u786c\u4ef6\u8d44\u6e90\u5c06\u88ab\u66f4\u5c11\u7684\u5206\u7247\u6240\u4f7f\u7528\uff0c\u6bcf\u4e2a\u5206\u7247\u7684\u6027\u80fd\u5c06\u4f1a\u5f97\u5230\u63d0\u5347\u3002\\n\\n![](https://s3.airtlab.com/elasticsearch/20220430214430.png)\\n\\n\u6211\u4eec\u53d1\u73b0\uff0cNode1\u548cNode2\u7ec4\u5408\u540e\u7684\u5206\u7247\u662f\uff08R0,R1,P1,P2\uff09\uff0cNode1\u548cNode3\u7ec4\u5408\u540e\u7684\u5206\u7247\u662f\uff08R2,P0,P1,P2\uff09\uff0cNode2\u548cNode3\u7ec4\u5408\u540e\u7684\u5206\u7247\u662f\uff08R0,R1,P0,R2\uff09\u3002\u6240\u4ee5\u5f53\u8fd93\u4e2a\u8282\u70b9\u4e2d\u6709\u4efb\u4f55\u4e00\u4e2a\u8282\u70b9\u51fa\u73b0\u5f02\u5e38\u65f6\uff0c\u5176\u4f59\u4e24\u4e2a\u8282\u70b9\u4e2d\u7684\u5206\u7247\u90fd\u5b8c\u6574\u5730\u4fdd\u7559\u4e86\u5206\u72470\u3001\u5206\u72471\u3001\u5206\u72472\u7684\u6570\u636e\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u51fa\u73b0\u4efb\u4f55\u4e00\u4e2a\u8282\u70b9\u5b95\u673a\u65f6\uff0c\u4e5f\u4e0d\u4f1a\u5bfc\u81f4\u670d\u52a1\u5f02\u5e38\uff0c\u53ea\u4e0d\u8fc7\u65b0\u7684\u4e3b\u8282\u70b9\u4f1a\u628a\u526f\u672c\u5206\u7247\u63d0\u5347\u4e3a\u4e3b\u5206\u7247\u3002\u4f46\u662f\u5f53\u51fa\u73b0\u4e24\u4e2a\u8282\u70b9\u540c\u65f6\u51fa\u73b0\u5f02\u5e38\u65f6\uff0c\u5219\u6b64\u96c6\u7fa4\u72b6\u6001\u5c31\u4e0d\u80fd\u6b63\u786e\u63d0\u4f9b\u670d\u52a1\uff0c\u56e0\u4e3a\u96c6\u7fa4\u6570\u636e\u4e0d\u5b8c\u6574\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/09-\u6570\u636e\u5b58\u50a8\u6bb5\u5408\u5e76\u8be6\u60c5.md","path":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/09-\u6570\u636e\u5b58\u50a8\u6bb5\u5408\u5e76\u8be6\u60c5.md","route":"/Elasticsearch/11-\u9ad8\u53ef\u7528\u96c6\u7fa4/09-\u6570\u636e\u5b58\u50a8\u6bb5\u5408\u5e76\u8be6\u60c5.md","leaf":true,"title":"09-\u6570\u636e\u5b58\u50a8\u6bb5\u5408\u5e76\u8be6\u60c5","depth":2,"content":"---\\ntitle: 09-\u6570\u636e\u5b58\u50a8\u6bb5\u5408\u5e76\u8be6\u60c5\\nurl: https://www.yuque.com/gaollard/efekv4/phxgsz\\n---\\n\\n\u5f53\u5ba2\u6237\u7aef\u5199\u5165\u6570\u636e\u65f6\uff0c\u540c\u65f6\u628a\u6570\u636e\u5199\u5165translog\u65e5\u5fd7\uff08\u9632\u6b62\u670d\u52a1\u91cd\u542f\u5bfc\u81f4\u5185\u5b58\u6570\u636e\u5e93\u4e22\u5931\uff09\u548c\u7d22\u5f15\u7f13\u5b58\uff08index buffer\uff09\u4e2d\u3002\u5728\u7528\u6237\u8bfb\u53d6\u6570\u636e\u7684\u65f6\u5019\uff0c\u8bfb\u53d6\u7684\u662f\u201c\u6bb5\u201d\u4e2d\u7684\u6570\u636e\u3002\u5728Elasticsearch\u4e2d\uff0c\u5199\u5165\u548c\u6253\u5f00\u4e00\u4e2a\u65b0\u6bb5\uff08Segment\uff09\u7684\u8fc7\u7a0b\u53eb\u4f5c\u5237\u65b0\uff08Refresh\uff09\u3002\\n\\nElasticsearch\u6570\u636e\u5199\u5165\u6d41\u7a0b: ![](https://s3.airtlab.com/elasticsearch/20220430214729.png)\\n\\n\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a\u5206\u7247\u6bcf\u79d2\u4f1a\u81ea\u52a8\u5237\u65b0\u4e00\u6b21\u3002\u8fd9\u5c31\u662f\u6211\u4eec\u8bf4 Elasticsearch \u662f\u8fd1\u5b9e\u65f6\u641c\u7d22\u5f15\u64ce\u7684\u539f\u56e0\uff08`\u6587\u6863\u7684\u53d8\u5316\u5e76\u4e0d\u662f\u7acb\u5373\u5bf9\u641c\u7d22\u53ef\u89c1\uff0c\u4f46\u4f1a\u5728\u4e00\u79d2\u4e4b\u5185\u53d8\u4e3a\u53ef\u89c1`\uff09\u3002\u6bcf\u4e2a\u6570\u636e\u5206\u7247\u662f\u7531\u5f88\u591a\u6bb5\u7ec4\u6210\u7684\uff0c\u6bcf\u4e2a\u6bb5\u90fd\u9700\u8981\u5360\u7528\u5185\u5b58\u7b49\u8d44\u6e90\u3002\\n\\n\u4e3a\u4e86\u63d0\u9ad8\u6027\u80fd\uff0cElasticsearch\u4f1a\u5b9a\u671f\u5c06\u5c0f\u7684\u6bb5\u8fdb\u884c\u5408\u5e76\uff0c\u751f\u6210\u8f83\u5927\u7684\u6bb5\u3002\u7531\u4e8e\u81ea\u52a8\u5237\u65b0\u6d41\u7a0b\u6bcf\u79d2\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6bb5\uff0c\u8fd9\u6837\u4f1a\u5bfc\u81f4\u77ed\u65f6\u95f4\u5185\u6bb5\u7684\u6570\u91cf\u66b4\u589e\u3002\u800c\u6bb5\u7684\u6570\u91cf\u592a\u591a\u4f1a\u5e26\u6765\u6bd4\u8f83\u5927\u7684\u9ebb\u70e6\uff0c\u56e0\u4e3a\u6bcf\u4e00\u4e2a\u6bb5\u90fd\u4f1a\u6d88\u8017IO\u3001\u5185\u5b58\u548cCPU\u7b49\u8d44\u6e90\u3002\u66f4\u91cd\u8981\u7684\u662f\uff0c\u6bcf\u4e2a\u641c\u7d22\u8bf7\u6c42\u90fd\u5fc5\u987b\u8f6e\u6d41\u68c0\u67e5\u6bcf\u4e2a\u6bb5\uff0c\u6240\u4ee5\u6bb5\u8d8a\u591a\uff0c\u641c\u7d22\u4e5f\u5c31\u8d8a\u6162\u3002Elasticsearch\u901a\u8fc7\u5728\u540e\u53f0\u8fdb\u884c\u6bb5\u5408\u5e76\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u5c0f\u7684\u6bb5\u88ab\u5408\u5e76\u5230\u5927\u7684\u6bb5\u91cc\u9762\uff0c\u7136\u540e\u8fd9\u4e9b\u5927\u7684\u6bb5\u518d\u88ab\u5408\u5e76\u5230\u66f4\u5927\u7684\u6bb5\u91cc\u9762\u3002\u5f53\u6bb5\u5408\u5e76\u7684\u65f6\u5019\uff0c\u4f1a\u5c06\u90a3\u4e9b\u65e7\u7684\u5df2\u5220\u9664\u7684\u6587\u6863\u4ece\u6587\u4ef6\u7cfb\u7edf\u4e2d\u6e05\u9664\u3002\u65e7\u7684\u6587\u6863\uff08\u6216\u88ab\u66f4\u65b0\u6587\u6863\u7684\u65e7\u7248\u672c\uff09\u4e0d\u4f1a\u88ab\u590d\u5236\u5230\u65b0\u7684\u5927\u6bb5\u4e2d\u53bb\u3002\u4ee5\u4e0b\u662f\u6bb5\u76f8\u5173\u7684\u4e00\u4e9b\u64cd\u4f5c\uff1a\\n\\n1\uff09\u5f53\u5199\u5165\u7d22\u5f15\u6570\u636e\u7684\u65f6\u5019\uff0c\u5237\u65b0\u64cd\u4f5c\u4f1a\u521b\u5efa\u65b0\u7684\u6bb5\u5e76\u4e14\u5c06\u6bb5\u7684\u72b6\u6001\u8bbe\u7f6e\u4e3a\u6253\u5f00\u4ee5\u4f9b\u641c\u7d22\u4f7f\u7528\u3002\\n\\n2\uff09\u6bb5\u5408\u5e76\u7684\u65f6\u5019\u4f1a\u9009\u62e9\u4e00\u5c0f\u90e8\u5206\u5927\u5c0f\u76f8\u4f3c\u7684\u6bb5\uff0c\u5e76\u4e14\u5728\u540e\u53f0\u5c06\u5b83\u4eec\u5408\u5e76\u5230\u66f4\u5927\u7684\u6bb5\u4e2d\u3002\\n\\n3\uff09\u6bb5\u5408\u5e76\u7ed3\u675f\u65f6\uff0c\u65e7\u7684\u6bb5\u4e2d\u7684\u6570\u636e\u4f1a\u88ab\u5220\u9664\u3002\\n\\n\u5237\u65b0\u64cd\u4f5c\u5e76\u4e0d\u9700\u8981\u6bcf\u79d2\u8fdb\u884c\u4e00\u6b21\u3002\u5982\u679c\u6709\u4e1a\u52a1\u6b63\u5728\u4f7f\u7528Elasticsearch\u7d22\u5f15\u4e2d\u5927\u91cf\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u6b64\u65f6\u7528\u6237\u60f3\u8981\u4f18\u5316\u6570\u636e\u5199\u5165\u6027\u80fd\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6erefresh\\\\_interval\u53c2\u6570\u8fdb\u884c\u4f18\u5316\uff0c\u4ee5\u964d\u4f4e\u7d22\u5f15\u7684\u5237\u65b0\u9891\u7387\uff0c\u63d0\u9ad8\u6570\u636e\u5199\u5165\u7684\u6027\u80fd\u3002\u8bed\u6cd5\u5982\u4e0b\uff1a\\n\\n    #\u8bbe\u7f6e\u65f6\u95f4\u65f6\u95f4\u4e3a30\u79d2\uff0c\u8868\u793a\u6bcf30\u79d2\u8fdb\u884c\u4e00\u6b21\u5237\u65b0\\n    PUT /\u7d22\u5f15\u5e93\u540d\u79f0\\n    {\\n      \\"settings\\": {\\n        \\"refresh_interval\\": \\"30s\\"\\n      }\\n    }\\n\\n    #\u5173\u95ed\u81ea\u52a8\u5237\u65b0\u64cd\u4f5c\\n    PUT /\u7d22\u5f15\u5e93\u540d\u79f0/_settings\\n    { \\"refresh_interval\\": -1 }\\n\\n    #\u5f00\u542f\u5237\u65b0\u4e14\u5237\u65b0\u65f6\u95f4\u4e3a1\u79d2\\n    PUT /\u7d22\u5f15\u5e93\u540d\u79f0/_settings\\n    { \\"refresh_interval\\": \\"1s\\" }\\n","isLeaf":true}]},{"key":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18","path":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18","route":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18","leaf":false,"title":"12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/01-\u6982\u8981\u4ecb\u7ecd.md","path":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/01-\u6982\u8981\u4ecb\u7ecd.md","route":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/01-\u6982\u8981\u4ecb\u7ecd.md","leaf":true,"title":"01-\u6982\u8981\u4ecb\u7ecd","depth":2,"content":"---\\ntitle: 01-\u6982\u8981\u4ecb\u7ecd\\nurl: https://www.yuque.com/gaollard/efekv4/tlu5g3\\n---\\n\\n- \u7d22\u5f15\u522b\u540d\u4f7f\u7528\u8be6\u60c5\\n- \u7d22\u5f15\u6a21\u677f\u522b\u540d\u4f7f\u7528\u8be6\u60c5\\n- \u5b9e\u73b0\u6eda\u52a8\u67e5\u8be2\\n- \u5b9e\u73b0\u8de8\u96c6\u7fa4\u67e5\u8be2\\n- \u5b9e\u73b0SQL\u64cd\u4f5c\\n- \u6027\u80fd\u4f18\u5316\u8be6\u89e3\\n","isLeaf":true},{"key":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/02-\u7d22\u5f15\u522b\u540d.md","path":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/02-\u7d22\u5f15\u522b\u540d.md","route":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/02-\u7d22\u5f15\u522b\u540d.md","leaf":true,"title":"02-\u7d22\u5f15\u522b\u540d","depth":2,"content":"---\\ntitle: 02-\u7d22\u5f15\u522b\u540d\\nurl: https://www.yuque.com/gaollard/efekv4/ree60u\\n---\\n\\n\u5047\u8bbe\u6709\u4e00\u4e2a\u5b66\u751f\u7684\u539f\u59cb\u7d22\u5f15 student\\\\_index\\\\_v1\uff0c\u6211\u4eec\u7ed9\u5b83\u8d77\u4e00\u4e2a\u522b\u540d student\\\\_index\uff0c\u7a0b\u5e8f\u4e2d\u4e5f\u662f\u7528\u522b\u540d student\\\\_index \u8fdb\u884c\u67e5\u8be2\uff0c\u5f53\u4e1a\u52a1\u9700\u6c42\u53d1\u751f\u6539\u53d8\uff0c\u9700\u8981\u4fee\u6539\u7d22\u5f15\u5e93\u540d\u79f0\u7684\u65f6\u5019\uff0c\u91cd\u65b0\u521b\u5efa\u4e00\u4e2a\u7d22\u5f15\u5e93 student\\\\_index\\\\_v2\uff0c\u5c06\u522b\u540d student\\\\_index \u6307\u5411\u65b0\u7684\u7d22\u5f15\u5e93 student\\\\_index\\\\_v2\uff0c\u540c\u65f6\u5c06 student\\\\_index\\\\_v1 \u7d22\u5f15\u5e93\u7684\u6570\u636e\u8fc1\u79fb\u5230\u65b0\u7684 student\\\\_index\\\\_v2 \u7d22\u5f15\u5e93\u4e2d\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u505a\u5230\u5728\u96f6\u505c\u673a\u4e0b\u4ece\u65e7\u7d22\u5f15\u5e93\u5207\u6362\u5230\u65b0\u7d22\u5f15\u5e93\u3002\u7d22\u5f15\u522b\u540d\u5c31\u50cf\u4e00\u4e2a\u5feb\u6377\u65b9\u5f0f\u6216\u8005\u8f6f\u94fe\u63a5\u3002\\n\\n    #\u7ed9\u7d22\u5f15\u5e93test1\u521b\u5efa\u522b\u540dalias1\\n    POST /_aliases\\n    {\\n        \\"actions\\" : [\\n            { \\"add\\" : { \\"index\\" : \\"test1\\", \\"alias\\" : \\"alias1\\" } }\\n        ]\\n    }\\n\\n    #\u5220\u9664\u7d22\u5f15\u5e93\u5bf9\u5e94\u7684\u522b\u540d\\n    POST /_aliases\\n    {\\n        \\"actions\\" : [\\n            { \\"remove\\" : { \\"index\\" : \\"test1\\", \\"alias\\" : \\"alias1\\" } }\\n        ]\\n    }\\n\\n    #\u7d22\u5f15\u522b\u540d\u6307\u5411\u65b0\u7684\u7d22\u5f15\u5e93\\n    POST /_aliases\\n    {\\n        \\"actions\\" : [\\n            { \\"remove\\" : { \\"index\\" : \\"test1\\", \\"alias\\" : \\"alias1\\" } },\\n            { \\"add\\" : { \\"index\\" : \\"test2\\", \\"alias\\" : \\"alias1\\" } }\\n        ]\\n    }\\n\\n\u4ee5\u4e0a\u8bed\u53e5\u5148\u8fdb\u884c\u7d22\u5f15\u522b\u540d\u79fb\u9664\uff0c\u7136\u540e\u521b\u5efa\u7d22\u5f15\u522b\u540d\u3002\u8fd9\u4e2a\u64cd\u4f5c\u662f\u5177\u6709\u539f\u5b50\u6027\u7684\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u62c5\u5fc3\u77ed\u65f6\u95f4\u5185\u522b\u540d\u4e0d\u6307\u5411\u4e00\u4e2a\u7d22\u5f15\u5e93\u3002\\n\\n    #\u4e00\u4e2a\u522b\u540d\u5173\u8054\u591a\u4e2a\u7d22\u5f15\u5e93\\n    POST /_aliases\\n    {\\n      \\"actions\\" : [\\n        { \\"add\\" : { \\"indices\\" : [\\"test1\\", \\"test2\\"], \\"alias\\" : \\"alias1\\" } }\\n      ]\\n    }\\n","isLeaf":true},{"key":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/03-\u7d22\u5f15\u6a21\u677f\u522b\u540d.md","path":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/03-\u7d22\u5f15\u6a21\u677f\u522b\u540d.md","route":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/03-\u7d22\u5f15\u6a21\u677f\u522b\u540d.md","leaf":true,"title":"03-\u7d22\u5f15\u6a21\u677f\u522b\u540d","depth":2,"content":"---\\ntitle: 03-\u7d22\u5f15\u6a21\u677f\u522b\u540d\\nurl: https://www.yuque.com/gaollard/efekv4/nvemx8\\n---\\n\\n\u5728Elasticsearch\u4e2d\uff0c\u5982\u679c\u60f3\u8981\u6839\u636e\u7d22\u5f15\u6a21\u677f\u4e3a\u7d22\u5f15\u5e93\u6307\u5b9a\u522b\u540d\uff0c\u9700\u8981\u4f7f\u7528aliases\u5173\u952e\u5b57\\n\\n    #\u521b\u5efa\u7d22\u5f15\u6a21\u677f\u5e76\u6307\u5b9a\u522b\u540d\\n    PUT _template/templateds\\n    {\\n        \\"template\\": \\"log*\\",\\n        \\"order\\": 0,\\n        \\"settings\\": {\\n            \\"number_of_shards\\":2\\n        },\\n         \\"aliases\\": {\\n           \\"log-query\\":{}  #\u522b\u540d\u540d\u79f0\\n         },\\n        \\"mappings\\": {\\n                     \\n                \\"properties\\": {\\n                    \\"name\\": {\\n                        \\"type\\": \\"keyword\\"\\n                    },\\n                    \\"id\\": {\\n                        \\"type\\": \\"long\\"\\n                    }\\n                }\\n                  \\n        }\\n    }\\n\\n\u4ee5\u4e0a\u8bed\u53e5\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3atemplateds\u7684\u7d22\u5f15\u6a21\u677f\u540d\uff0c\u7d22\u5f15\u6a21\u677f\u7684\u5339\u914d\u503c\u662f\\"log*\\"\u3002\u6839\u636e\u8fd9\u4e2a\u6a21\u677f\u521b\u5efa\u7684\u7d22\u5f15\uff0c\u5b83\u4eec\u7684\u522b\u540d\u90fd\u662flog-query\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u6211\u4eec\u6267\u884c\u4e0b\u9762\u4e24\u4e2a\u8bed\u53e5\u65f6\uff0c\u4f1a\u81ea\u52a8\u4e3alog1\u7d22\u5f15\u5e93\u548clog2\u7d22\u5f15\u5e93\u521b\u5efa\u76f8\u540c\u7684\u7d22\u5f15\u6620\u5c04\u4fe1\u606f\uff0c\u800c\u4e14log1\u548clog2\u7d22\u5f15\u5e93\u7684\u522b\u540d\u90fd\u662flog-query\uff1a\\n\\n    POST /log1/_doc/1\\n    {\\n      \\"person_name\\": \\"\u5f20\u4e09\\",\\n      \\"id\\": 1\\n    }\\n\\n    GET log1\\n\\n    POST /log2/_doc/1\\n    {\\n      \\"person_name\\": \\"\u674e\u56db\\",\\n      \\"id\\": 2\\n    }\\n\\n\u5728\u4ee5\u4e0a\u8bed\u53e5\u4e2d\uff0c\u5f53\u6211\u4eec\u7ed9log1\u548clog2\u7d22\u5f15\u5e93\u5199\u5165\u6570\u636e\u65f6\uff0clog1\u548clog2\u5339\u914d\u5230\u4e86log*\u3002\u6240\u4ee5\u7cfb\u7edf\u4f1a\u6839\u636e\u6a21\u677f\u81ea\u52a8\u751f\u6210log1\u548clog2\u7d22\u5f15\u6620\u5c04\u3002\u6211\u4eec\u9700\u8981\u540c\u65f6\u67e5\u8be2\u4e24\u4e2a\u7d22\u5f15\u5e93\u7684\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u522b\u540d\u901a\u8fc7\u4e00\u6761\u8bed\u53e5\u6765\u67e5\u8be2\uff0c\u8bed\u53e5\u5982\u4e0b\uff1a\\n\\n    POST /log-query/_search\\n    {\\n        \\"size\\": 10\\n    }\\n\\n\u4ee5\u4e0a\u8bed\u53e5\u4f1a\u540c\u65f6\u67e5\u8be2log1\u548clog2\u7d22\u5f15\u5e93\u7684\u6570\u636e\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/04-\u6eda\u52a8\u67e5\u8be2.md","path":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/04-\u6eda\u52a8\u67e5\u8be2.md","route":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/04-\u6eda\u52a8\u67e5\u8be2.md","leaf":true,"title":"04-\u6eda\u52a8\u67e5\u8be2","depth":2,"content":"---\\ntitle: 04-\u6eda\u52a8\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/qp076g\\n---\\n\\n\u5f53\u7d22\u5f15\u5e93\u4e2d\u6570\u636e\u91cf\u7279\u522b\u5927\u7684\u65f6\u5019\uff0c`\u6df1\u5ea6\u5206\u9875\u7684\u64cd\u4f5c` \u4f1a\u7ed9Elasticsearch\u96c6\u7fa4\u7684\u6027\u80fd\u5e26\u6765\u6781\u5927\u635f\u8017\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cElasticsearch\u63d0\u4f9b\u4e86\u6eda\u52a8\u67e5\u8be2\u6765\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\u3002\u8303\u4f8b\u5982\u4e0b\uff1a\\n\\n    #\u521b\u5efa\u7d22\u5f15\u5e93\u5e76\u6307\u5b9a\u6620\u5c04\u5173\u7cfb\\n    PUT scrolldb\\n    {\\n      \\"mappings\\" : {\\n        \\"properties\\" : {\\n          \\"name\\" : {\\n            \\"type\\" : \\"keyword\\"\\n          },\\n          \\"age\\" : {\\n            \\"type\\" : \\"integer\\"\\n          }\\n        }\\n      }\\n    }\\n\\n    #\u6279\u91cf\u65b0\u589e\u6570\u636e\\n    POST _bulk\\n    { \\"index\\" : { \\"_index\\" : \\"scrolldb\\", \\"_id\\" : \\"1\\" } }\\n    { \\"name\\" : \\"\u5f20\u4e09\\", \\"age\\": 12}\\n    { \\"index\\" : { \\"_index\\" : \\"scrolldb\\", \\"_id\\" : \\"2\\" } }\\n    { \\"name\\" : \\"\u674e\u56db\\", \\"age\\": 10 }\\n    { \\"index\\" : { \\"_index\\" : \\"scrolldb\\", \\"_id\\" : \\"3\\" } }\\n    { \\"name\\" : \\"\u738b\u4e94\\", \\"age\\": 11 }\\n    { \\"index\\" : { \\"_index\\" : \\"scrolldb\\", \\"_id\\" : \\"4\\" } }\\n\\n    #\u6eda\u52a8\u67e5\u8be2\uff0c\u6bcf\u6b21\u67e5\u8be2\u8fd4\u56de2\u6761\u6587\u6863\uff0c\u5e76\u4e14\u6570\u636e\u91cf\u4e0d\u80fd\u8d85\u8fc71MB\uff0c\u4e5f\u5c31\u662f\u8bf4\u5f53\u4e00\u6761\u6587\u6863\u4fe1\u606f\u8d85\u8fc71MB\u7684\u65f6\u5019\uff0c\u53ea\u4f1a\u8fd4\u56de1\u6761\u6587\u6863\u4fe1\u606f\\n    POST /scrolldb/_search?scroll=1m\\n    {\\n        \\"size\\": 2,\\n        \\"query\\": {\\n            \\"match_all\\": {\\n                   \\n            }\\n        }\\n    }\\n\\n\u7ed3\u679c\uff1a\\n\\n    {\\n      #\u4e0b\u6b21\u8fdb\u884c\u6eda\u52a8\u67e5\u8be2\u9700\u8981\u5e26\u7684\u6807\u8bc6\\n      \\"_scroll_id\\" : \\"FGluY2x1ZGVfY29udGV4dF91dWlkDXF1ZXJ5QW5kRmV0Y2gBFjZnWUJ1RTJYUmZhTzhCMVNUemNIX2cAAAAAAAFmQxZ5UWdMX25LNlJYR1JMeHltWlhkcVVR\\",\\n      \\"took\\" : 4,\\n      \\"timed_out\\" : false,\\n      \\"_shards\\" : {\\n        \\"total\\" : 1,\\n        \\"successful\\" : 1,\\n        \\"skipped\\" : 0,\\n        \\"failed\\" : 0\\n      },\\n      \\"hits\\" : {\\n        \\"total\\" : {\\n          \\"value\\" : 3,\\n          \\"relation\\" : \\"eq\\"\\n        },\\n        \\"max_score\\" : 1.0,\\n        \\"hits\\" : [\\n          {\\n            \\"_index\\" : \\"scrolldb\\",\\n            \\"_type\\" : \\"_doc\\",\\n            \\"_id\\" : \\"1\\",\\n            \\"_score\\" : 1.0,\\n            \\"_source\\" : {\\n              \\"name\\" : \\"\u5f20\u4e09\\",\\n              \\"age\\" : 12\\n            }\\n          },\\n          {\\n            \\"_index\\" : \\"scrolldb\\",\\n            \\"_type\\" : \\"_doc\\",\\n            \\"_id\\" : \\"2\\",\\n            \\"_score\\" : 1.0,\\n            \\"_source\\" : {\\n              \\"name\\" : \\"\u674e\u56db\\",\\n              \\"age\\" : 10\\n            }\\n          }\\n        ]\\n      }\\n    }\\n    #\u4f7f\u7528\u6eda\u52a8\u67e5\u8be2\u8fd4\u56de\u4fe1\u606f\u7684scroll_id\u7ee7\u7eed\u67e5\u8be2\uff0c\u76f4\u5230\u67e5\u4e0d\u51fa\u4e3a\u6b62\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u5f53\u67e5\u8be2\u7ed3\u679c\u6570\u91cf\u5c0f\u4e8e\u7b2c\u4e00\u6b21\u67e5\u8be2\u6267\u884c\u7684size\u65f6\uff0c\u7ed3\u675f\u67e5\u8be2\\n    POST /_search/scroll \\n    {\\n        \\"scroll\\" : \\"1m\\", \\n        \\"scroll_id\\" : \\" FGluY2x1ZGVfY29udGV4dF91dWlkDXF1ZXJ5QW5kRmV0Y2gBFjZnWUJ1RTJYUmZhTzhCMVNUemNIX2cAAAAAAAFmQxZ5UWdMX25LNlJYR1JMeHltWlhkcVVR \\" \\n    }\\n","isLeaf":true},{"key":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/05-\u8de8\u96c6\u7fa4\u67e5\u8be2.md","path":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/05-\u8de8\u96c6\u7fa4\u67e5\u8be2.md","route":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/05-\u8de8\u96c6\u7fa4\u67e5\u8be2.md","leaf":true,"title":"05-\u8de8\u96c6\u7fa4\u67e5\u8be2","depth":2,"content":"---\\ntitle: 05-\u8de8\u96c6\u7fa4\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/efekv4/emtsb1\\n---\\n\\n<https://weread.qq.com/web/reader/52332a607280c170523409ek7323297027173278a4a8f1d>\\n\\n\\n\\n### 1. \u8fdc\u7a0b\u96c6\u7fa4\u914d\u7f6e\\n\\n\u901a\u8fc7\u6267\u884c\u5982\u4e0b\u8bed\u53e5\u914d\u7f6e3\u4e2a\u8fdc\u7a0b\u96c6\u7fa4\uff0c\u5206\u522b\u662fcluster\\\\_one\u3001cluster\\\\_two\u548ccluster\\\\_three\u3002\\n\\n    PUT _cluster/settings\\n        {\\n          \\"persistent\\": {\\n            \\"cluster\\": {\\n              \\"remote\\": {\\n                \\"cluster_one\\": {\\n                  \\"seeds\\": [\\n                    \\"127.0.0.1:9300\\"\\n                  ]\\n                },\\n                \\"cluster_two\\": {\\n                  \\"seeds\\": [\\n                    \\"127.0.0.1:9301\\"\\n                  ]\\n                },\\n                \\"cluster_three\\": {\\n                  \\"seeds\\": [\\n                    \\"127.0.0.1:9302\\"\\n                  ]\\n                }\\n              }\\n            }\\n          }\\n        }\\n\\n\\n\\n### 2. \u8de8\u96c6\u7fa4\u67e5\u8be2\\n\\n    #\u7b5b\u9009\u67e5\u8be2cluster_one\u96c6\u7fa4\u4e2d\u7d22\u5f15\u540d\u79f0\u662fclay1\u7684\u6570\u636e\\n    GET /cluster_one:clay1/_search\\n    {\\n      \\"query\\": {\\n        \\"match\\": {\\n          \\"name\\": \\"\u5f20\u4e09\\"\\n        }\\n      }\\n    }\\n","isLeaf":true},{"key":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/06-\u4f7f\u7528SQL\u8bed\u53e5\u64cd\u4f5cElasticsearch.md","path":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/06-\u4f7f\u7528SQL\u8bed\u53e5\u64cd\u4f5cElasticsearch.md","route":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/06-\u4f7f\u7528SQL\u8bed\u53e5\u64cd\u4f5cElasticsearch.md","leaf":true,"title":"06-\u4f7f\u7528SQL\u8bed\u53e5\u64cd\u4f5cElasticsearch","depth":2,"content":"---\\ntitle: 06-\u4f7f\u7528SQL\u8bed\u53e5\u64cd\u4f5cElasticsearch\\nurl: https://www.yuque.com/gaollard/efekv4/qusmsi\\n---\\n\\n    #\u6570\u636e\u51c6\u5907\\n    POST /sqldbindex/_doc\\n    {\\n      \\"name\\":\\"clay\\",\\n      \\"age\\":18,\\n      \\"address\\":\\"\u6c5f\u82cf\u7701\\",\\n      \\"birth\\":\\"1998-01-0\\"\\n    }\\n\\n    POST /sqldbindex/_doc\\n    {\\n      \\"name\\":\\"jick\\",\\n      \\"age\\":17,\\n      \\"address\\":\\"\u6c5f\u82cf\u7701\\",\\n      \\"birth\\":\\"1999-01-0\\"\\n    }\\n\\n    #\u4f7f\u7528SQL\u64cd\u4f5cElasticsearch\u4e2d\u7684\u6570\u636e\\n    POST /_xpack/sql?format=txt\\n    {\\n      \\"query\\":\\"select * from sqldbindex\\"\\n    }\\n\\n\x3c!----\x3e\\n\\n    #! Deprecation: [POST /_xpack/sql] is deprecated! Use [POST /_sql] instead.\\n        address    |      age      |     birth     |     name      \\n    ---------------+---------------+---------------+---------------\\n    \u6c5f\u82cf\u7701            |18             |1998-01-0      |clay           \\n    \u6c5f\u82cf\u7701            |17             |1999-01-0      |jick\\n\\n\x3c!----\x3e\\n\\n    #\u4f7f\u7528SQL\u64cd\u4f5cElasticsearch\u4e2d\u7684\u6570\u636e\\n    POST /_sql\\n    {\\n      \\"query\\":\\"select * from sqldbindex\\"\\n    }\\n\\n\x3c!----\x3e\\n\\n    {\\n      \\"columns\\" : [\\n        {\\n          \\"name\\" : \\"address\\",\\n          \\"type\\" : \\"text\\"\\n        },\\n        {\\n          \\"name\\" : \\"age\\",\\n          \\"type\\" : \\"long\\"\\n        },\\n        {\\n          \\"name\\" : \\"birth\\",\\n          \\"type\\" : \\"text\\"\\n        },\\n        {\\n          \\"name\\" : \\"name\\",\\n          \\"type\\" : \\"text\\"\\n        }\\n      ],\\n      \\"rows\\" : [\\n        [\\n          \\"\u6c5f\u82cf\u7701\\",\\n          18,\\n          \\"1998-01-0\\",\\n          \\"clay\\"\\n        ],\\n        [\\n          \\"\u6c5f\u82cf\u7701\\",\\n          17,\\n          \\"1999-01-0\\",\\n          \\"jick\\"\\n        ]\\n      ]\\n    }\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cSQL\u8bed\u53e5\u4e2d\u7684\u8868\u540d\u79f0\u5c31\u662fElasticsearch\u4e2d\u7d22\u5f15\u5e93\u7684\u540d\u79f0\u3002\u53ea\u8981\u61c2SQL\u8bed\u53e5\uff0c\u5c31\u80fd\u5f88\u65b9\u4fbf\u5730\u64cd\u4f5cElasticsearch\u3002sum\u51fd\u6570\u548ccount\u51fd\u6570\u7684\u4f7f\u7528\u5982\u56fe11-4\u6240\u793a\u3002\\n\\n    #\u4f7f\u7528SQL\u64cd\u4f5cElasticsearch\u4e2d\u7684\u6570\u636e\\n    POST /_sql\\n    {\\n      \\"query\\":\\"select name as ns from sqldbindex\\"\\n    }\\n\\n![](https://s3.airtlab.com/elasticsearch/20220430221524.png)\\n","isLeaf":true},{"key":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/07-Elasticsearch\u6027\u80fd\u4f18\u5316\u8be6\u89e3.md","path":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/07-Elasticsearch\u6027\u80fd\u4f18\u5316\u8be6\u89e3.md","route":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/07-Elasticsearch\u6027\u80fd\u4f18\u5316\u8be6\u89e3.md","leaf":true,"title":"07-Elasticsearch\u6027\u80fd\u4f18\u5316\u8be6\u89e3","depth":2,"content":"---\\ntitle: 07-Elasticsearch\u6027\u80fd\u4f18\u5316\u8be6\u89e3\\nurl: https://www.yuque.com/gaollard/efekv4/xkev1d\\n---\\n\\n\\n\\n### 1. \u6570\u636e\u7ed3\u6784\u4f18\u5316\\n\\n\u57fa\u4e8eElasticsearch\u7684\u4f7f\u7528\u573a\u666f\uff0c\u6587\u6863\u6570\u636e\u7684\u7ed3\u6784\u5c3d\u91cf\u548c\u4f7f\u7528\u573a\u666f\u76f8\u7ed3\u5408\uff0c\u53bb\u6389\u6ca1\u7528\u7684\u548c\u4e0d\u5408\u7406\u7684\u6570\u636e\u3002\u4e0b\u9762\u4ecb\u7ecd\u6570\u636e\u7ed3\u6784\u4f18\u5316\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\u3002\\n\\n- \u5c3d\u91cf\u51cf\u5c11\u4e0d\u9700\u8981\u7684\u5b57\u6bb5\\n- \u5c3d\u91cf\u4f7f\u7528\u9759\u6001\u6620\u5c04, \u4f7f\u7528\u52a8\u6001\u6620\u5c04\u6709\u53ef\u80fd\u4f1a\u5bfc\u81f4\u96c6\u7fa4\u5d29\u6e83\\n\\n\\n\\n### 2. \u67e5\u8be2\u4f18\u5316\\n\\n**Cache\u7684\u8bbe\u7f6e\u53ca\u4f7f\u7528**\\n\\nElasticsearch\u5728\u67e5\u8be2\u7684\u65f6\u5019\uff0c\u4f7f\u7528filter\u67e5\u8be2\u4f1a\u7528\u5230querycache\uff0c\u5982\u679c\u4e1a\u52a1\u573a\u666f\u4e2d\u7684\u8fc7\u6ee4\u67e5\u8be2\u6bd4\u8f83\u591a\uff0c\u5efa\u8bae\u5c06querycache\u8bbe\u7f6e\u5f97\u5927\u4e00\u4e9b\uff0c\u4ee5\u63d0\u9ad8\u67e5\u8be2\u901f\u5ea6\u3002\u8bbe\u7f6e\u5982\u4e0b\uff1a\\n\\n    indices.queries.cache.size\uff1a 10%\\n\\n\u4ee5\u4e0a\u8bbe\u7f6e\u662f\u9ed8\u8ba4\u7684\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u6210\u767e\u5206\u6bd4\uff0c\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u6210\u5177\u4f53\u7684\u503c\uff0c\u5982256MB\u3002\\n\\n**\u5408\u7406\u4f7f\u7528\u6df1\u5ea6\u7ffb\u9875**\\n\\n\u5728\u4f7f\u7528 Elasticsearch \u7684\u8fc7\u7a0b\u4e2d\uff0c\u5e94\u5c3d\u91cf\u907f\u514d\u6df1\u5ea6\u7ffb\u9875\u7684\u51fa\u73b0\u3002\u6b63\u5e38\u7ffb\u9875\u67e5\u8be2\u90fd\u662f\u4ecefrom\u5f00\u59cbsize\u6761\u6570\u636e\uff0c\u9700\u8981\u5728\u6bcf\u4e2a\u5206\u7247\u4e2d\u67e5\u8be2\u6587\u6863\u8bc4\u5206\u5728\u524d\u9762\u7684from+size\u6761\u6570\u636e\uff0c\u7136\u540e\u534f\u540c\u8282\u70b9\u6536\u96c6\u6bcf\u4e2a\u5206\u914d\u7684\u524dfrom+size\u6761\u6570\u636e\uff0c\u534f\u540c\u8282\u70b9\u4e00\u5171\u4f1a\u6536\u5230N*(from+size)\u6761\u6570\u636e\uff0c\u7136\u540e\u8fdb\u884c\u6392\u5e8f\uff0c\u518d\u5c06\u5176\u4e2dfrom\u5230from+size\u6761\u6570\u636e\u8fd4\u56de\u3002\u5982\u679cfrom\u6216\u8005size\u5f88\u5927\u7684\u8bdd\uff0c\u4f1a\u5bfc\u81f4\u53c2\u52a0\u6392\u5e8f\u7684\u6570\u91cf\u8fc7\u5927\uff0c\u6700\u7ec8\u4f1a\u5bfc\u81f4CPU\u8d44\u6e90\u6d88\u8017\u589e\u5927\u3002\u5bf9\u4e8e\u8fd9\u79cd\u6df1\u5ea6\u7ffb\u9875\u7684\u4e1a\u52a1\uff0c\u63a8\u8350\u4f7f\u7528Elasticsearch\u4e2d\u7684\u6eda\u52a8\u67e5\u8be2\u6765\u89e3\u51b3\u3002\\n\\n\\n\\n### 3. \u7d22\u5f15\u4f18\u5316\u8bbe\u7f6e\\n\\n\u7d22\u5f15\u4f18\u5316\u4e3b\u8981\u662f\u5728Elasticsearch\u7684\u6570\u636e\u63d2\u5165\u5c42\u9762\u4f18\u5316\u3002\u4e0b\u9762\u4ecb\u7ecd\u7d22\u5f15\u4f18\u5316\u8bbe\u7f6e\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\u3002\\n\\n**\u5408\u7406\u6279\u91cf\u63d0\u4ea4**\\n\\n\u5f53\u6709\u5927\u91cf\u6570\u636e\u9700\u8981\u63d0\u4ea4\u65f6\uff0c\u5efa\u8bae\u91c7\u7528\u6279\u91cf\u63d0\u4ea4\uff08Bulk\u64cd\u4f5c\uff09\u7684\u65b9\u5f0f\u3002\u6b64\u5916\uff0c\u4f7f\u7528Bulk\u8bf7\u6c42\u65f6\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u7684\u6570\u636e\u91cf\u4e0d\u5b9c\u8fc7\u5927\uff0c\u56e0\u4e3a\u592a\u5927\u4f1a\u5bfc\u81f4\u5185\u5b58\u4f7f\u7528\u8fc7\u591a\uff0c\u5c3d\u91cf\u63a7\u5236\u5728\u51e0\u5341MB\u4e4b\u5185\u3002\\n\\n**\u589e\u52a0\u5237\u65b0\u65f6\u95f4\u95f4\u9694**\\n\\n\u4e3a\u4e86\u63d0\u9ad8\u641c\u7d22\u6027\u80fd\uff0cElasticsearch\u5728\u5199\u5165\u6570\u636e\u7684\u65f6\u5019\u91c7\u7528\u5ef6\u8fdf\u5199\u5165\u7684\u7b56\u7565\uff0c\u5373\u6570\u636e\u5148\u5199\u5230\u5185\u5b58\u4e2d\uff0c\u5f53\u8d85\u8fc7\u9ed8\u8ba4\u76841\u79d2\uff08index.refresh\\\\_interval\uff09\u540e\u4f1a\u8fdb\u884c\u4e00\u6b21\u5199\u5165\u64cd\u4f5c\uff0c\u5c31\u662f\u5c06\u5185\u5b58\u4e2d\u7684\u6bb5\u6570\u636e\u5237\u65b0\u5230\u78c1\u76d8\u4e2d\uff0c\u6b64\u65f6\u624d\u80fd\u5c06\u6570\u636e\u641c\u7d22\u51fa\u6765\uff0c\u6240\u4ee5\u8fd9\u5c31\u662fElasticsearch\u63d0\u4f9b\u7684\u662f\u8fd1\u5b9e\u65f6\u641c\u7d22\u529f\u80fd\uff0c\u800c\u4e0d\u662f\u5b9e\u65f6\u641c\u7d22\u529f\u80fd\u7684\u539f\u56e0\u3002\u5982\u679c\u7cfb\u7edf\u5bf9\u6570\u636e\u5ef6\u8fdf\u8981\u6c42\u4e0d\u9ad8\u7684\u8bdd\uff0c\u53ef\u4ee5\u901a\u8fc7\u5ef6\u957f\u5237\u65b0\u65f6\u95f4\u95f4\u9694\u6765\u6709\u6548\u5730\u51cf\u5c11\u6bb5\u5408\u5e76\u7684\u538b\u529b\uff0c\u63d0\u9ad8\u7d22\u5f15\u7684\u6027\u80fd\u3002\u6bd4\u5982\u5728\u505a\u5168\u94fe\u8def\u65e5\u5fd7\u8ddf\u8e2a\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c31\u5c06index.refresh\\\\_interval\u8bbe\u7f6e\u4e3a30\u79d2\uff0c\u51cf\u5c11\u5237\u65b0\u6b21\u6570\u3002\u518d\u5982\uff0c\u5728\u8fdb\u884c\u6570\u636e\u5bfc\u5165\u65f6\uff0c\u53ef\u4ee5\u5c06\u201c\u5237\u65b0\u201d\u4e34\u65f6\u5173\u95ed\uff0c\u5373\u628aindex.refresh\\\\_interval\u8bbe\u7f6e\u4e3a\u8bbe1\uff0c\u6570\u636e\u5bfc\u5165\u6210\u529f\u540e\u518d\u6253\u5f00\u4e3a\u6b63\u5e38\u6a21\u5f0f\u3002\\n\\n**\u6ce8\u610f\\\\_id\u5b57\u6bb5\u7684\u4f7f\u7528**\\n\\n\u5728\u521b\u5efa\u7d22\u5f15\u6216\u8005\u5199\u5165\u6587\u6863\u6570\u636e\u65f6\uff0c\u5e94\u8be5\u5c3d\u53ef\u80fd\u907f\u514d\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\\\\_id\uff0c\u5efa\u8bae\u4f7f\u7528Elasticsearch\u7684\u9ed8\u8ba4ID\u751f\u6210\u7b56\u7565\uff0c\u8fd9\u6837\u5bf9\u4e8eElasticsearch\u5185\u90e8\u8fdb\u884c\u6570\u636e\u8d1f\u8f7d\u6709\u5f88\u5927\u4f5c\u7528\u3002\\n\\n**\u6ce8\u610f\\\\_all\u548c\\\\_source\u5b57\u6bb5\u7684\u4f7f\u7528**\\n\\n\\\\_all\u548c\\\\_source\u5b57\u6bb5\u7684\u4f7f\u7528\u5e94\u8be5\u6ce8\u610f\u573a\u666f\u548c\u9700\u8981\uff0c\\\\_all\u5b57\u6bb5\u5305\u542b\u6240\u6709\u7684\u7d22\u5f15\u5b57\u6bb5\uff0c\u65b9\u4fbf\u505a\u5168\u6587\u641c\u7d22\uff0c\u5982\u679c\u65e0\u6b64\u9700\u6c42\uff0c\u53ef\u4ee5\u7981\u7528\uff1b\\\\_source\u5b58\u50a8\u4e86\u539f\u59cb\u7684\u6587\u6863\u5185\u5bb9\uff0c\u5982\u679c\u6ca1\u6709\u83b7\u53d6\u539f\u59cb\u6587\u6863\u6570\u636e\u7684\u9700\u6c42\uff0c\u53ef\u901a\u8fc7\u8bbe\u7f6eincludes\u3001excludes\u5c5e\u6027\u6765\u5b9a\u4e49\u653e\u5165\\\\_source\u7684\u5b57\u6bb5\u3002\\n\\n\\n\\n### 4. \u786c\u4ef6\u914d\u7f6e\u4f18\u5316\\n\\n\u5347\u7ea7\u786c\u4ef6\u8bbe\u5907\u7684\u914d\u7f6e\u4e00\u76f4\u90fd\u662f\u63d0\u9ad8\u670d\u52a1\u80fd\u529b\u6700\u5feb\u901f\u6709\u6548\u7684\u624b\u6bb5\u4e4b\u4e00\u3002\u5728\u7cfb\u7edf\u5c42\u9762\u80fd\u591f\u5f71\u54cd\u5e94\u7528\u6027\u80fd\u7684\u56e0\u7d20\u4e00\u822c\u67093\u4e2a\uff1aCPU\u3001\u5185\u5b58\u548cIO\uff0c\u53ef\u4ee5\u4ece\u8fd93\u4e2a\u65b9\u9762\u5bf9Elasticsearch\u7684\u6027\u80fd\u8fdb\u884c\u4f18\u5316\u3002\u4e0b\u9762\u4ecb\u7ecd\u786c\u4ef6\u914d\u7f6e\u4f18\u5316\u65b9\u9762\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\u3002\\n\\n**\u78c1\u76d8\u7684\u9009\u62e9**\\n\\n\u786c\u76d8\u5bf9\u6240\u6709\u7684\u96c6\u7fa4\u90fd\u5f88\u91cd\u8981\uff0c\u5bf9\u5927\u91cf\u5199\u5165\u6570\u636e\u7684\u96c6\u7fa4\u66f4\u662f\u52a0\u500d\u91cd\u8981\u3002\u786c\u76d8\u662f\u670d\u52a1\u5668\u4e0a\u6700\u6162\u7684\u5b50\u7cfb\u7edf\uff0c\u8fd9\u610f\u5473\u7740\u90a3\u4e9b\u5199\u5165\u91cf\u5f88\u5927\u7684\u96c6\u7fa4\u5f88\u5bb9\u6613\u8ba9\u786c\u76d8\u9971\u548c\uff0c\u4f7f\u5f97\u5b83\u6210\u4e3a\u96c6\u7fa4\u7684\u74f6\u9888\u3002\u5728\u7ecf\u6d4e\u538b\u529b\u80fd\u627f\u53d7\u7684\u8303\u56f4\u5185\uff0c\u5c3d\u91cf\u4f7f\u7528\u56fa\u6001\u786c\u76d8\uff08Solid StateDrive\uff0cSSD\uff09\u3002\u56fa\u6001\u786c\u76d8\u76f8\u6bd4\u4efb\u4f55\u65cb\u8f6c\u4ecb\u8d28\uff0c\u65e0\u8bba\u662f\u968f\u673a\u5199\u8fd8\u662f\u987a\u5e8f\u5199\uff0c\u90fd\u4f1a\u5bf9IO\u6709\u8f83\u5927\u7684\u63d0\u5347\u3002\\n\\n**\u7981\u6b62swap**\\n\\n\u5728\u4f7f\u7528Elasticsearch\u7684\u65f6\u5019\uff0c\u63a8\u8350\u505a\u6cd5\u662f\u7981\u7528swap\uff0c\u4e00\u65e6\u5141\u8bb8\u5185\u5b58\u4e0e\u78c1\u76d8\u4ea4\u6362\uff0c\u5c31\u4f1a\u5f15\u8d77\u81f4\u547d\u7684\u6027\u80fd\u95ee\u9898\u3002\u53ef\u4ee5\u901a\u8fc7\u5728config/elasticsearch.yml\u914d\u7f6e\u6587\u4ef6\u4e2d\u4fee\u6539bootstrap.memory\\\\_lock: true\u6765\u4fdd\u6301JVM\u9501\u5b9a\u5185\u5b58\uff0c\u4ee5\u4fdd\u8bc1Elasticsearch\u7684\u6027\u80fd\u3002\\n\\n**\u5185\u5b58\u914d\u7f6e**\\n\\n\u5728Elasticsearch\u4e2d\uff0c\u6392\u5e8f\u548c\u805a\u5408\u90fd\u5f88\u8017\u5185\u5b58\uff0c\u6240\u4ee5\u6709\u8db3\u591f\u7684\u5806\u7a7a\u95f4\u6765\u5e94\u4ed8\u5b83\u4eec\u662f\u5f88\u91cd\u8981\u7684\u3002\u5373\u4f7f\u5806\u7a7a\u95f4\u6bd4\u8f83\u5c0f\uff0c\u4e5f\u80fd\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u6587\u4ef6\u7f13\u5b58\u63d0\u4f9b\u989d\u5916\u7684\u5185\u5b58\u3002\u56e0\u4e3aLucene\u4f7f\u7528\u7684\u8bb8\u591a\u6570\u636e\u7ed3\u6784\u90fd\u662f\u57fa\u4e8e\u78c1\u76d8\u7684\u683c\u5f0f\uff0cElasticsearch\u5229\u7528\u64cd\u4f5c\u7cfb\u7edf\u7f13\u5b58\u5bf9\u6027\u80fd\u7684\u63d0\u5347\u80fd\u4ea7\u751f\u5f88\u5927\u7684\u6548\u679c\u3002\u5982\u679c\u673a\u5668\u5185\u5b58\u7b49\u4e8e64GB\uff0c\u53ef\u4ee5\u7ed9Elasticsearch\u5206\u914d32GB\uff0c\u7559\u4e0b32GB\u7ed9Lucene\u3002\u5f53\u670d\u52a1\u5185\u5b58\u662f32GB\u548c16GB\u65f6\uff0c\u6700\u5c11\u4e5f\u9700\u8981\u7ed9Elasticsearch\u5206\u914d8GB\u3002\\n","isLeaf":true},{"key":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/08-refresh-and-flush.md","path":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/08-refresh-and-flush.md","route":"/Elasticsearch/12-\u9ad8\u7ea7\u64cd\u4f5c\u548c\u6027\u80fd\u8c03\u4f18/08-refresh-and-flush.md","leaf":true,"title":"08-refresh-and-flush","depth":2,"content":"---\\ntitle: 08-refresh-and-flush\\nurl: https://www.yuque.com/gaollard/efekv4/mmp7p5\\n---\\n\\n\\n\\n### Refresh\\n\\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cES\u4f1a\u6bcf\u79d2refresh\u4e00\u6b21\uff0c\u6bcf\u6b21\u64cd\u4f5c\u90fd\u4f1a\u628a\u5185\u5b58\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u62f7\u8d1d\u5230\u65b0\u521b\u5efa\u7684 segment \u4e2d\u53bb\uff0c\u8fd9\u4e00\u6b65\u662f\u5728\u5185\u5b58\u4e2d\u64cd\u4f5c\u7684\uff0c\u8fd9\u4e2a\u65f6\u5019\u65b0\u7684\u6587\u6863\u5c31\u4f1a\u88ab\u641c\u7d22\u4e86\u3002\u4e5f\u5c31\u662f\u8bf4ES\u662f\u8fd1\u5b9e\u65f6\u6027\u7684\u641c\u7d22\uff0c\u5dee\u4e0d\u591a1s\u949f\uff0c\u624d\u80fd\u8ba9\u6570\u636e\u53ef\u4ee5\u88ab\u641c\u7d22\u5230\u3002\\n\\n\\n\\n### Flush\\n\\nFlush\u64cd\u4f5c\u610f\u5473\u7740\uff0c\u6240\u6709\u5728\u5185\u5b58\u7f13\u51b2\u533a\u7684\u6587\u6863\u88ab\u5199\u5230\u65b0\u7684 Lucene Segment \u4e2d\uff0c\u4e5f\u5c31\u662f\u6240\u6709\u5728\u5185\u5b58\u4e2d\u7684segment\u88ab\u63d0\u4ea4\u5230\u4e86\u78c1\u76d8\uff0c\u540c\u65f6\u6e05\u9664translog\u3002\\n\\n\\n\\n### \u603b\u7ed3\\n\\n- \u4e00\u822cFlush\u7684\u65f6\u95f4\u95f4\u9694\u4f1a\u6bd4\u8f83\u4e45\uff0c\u9ed8\u8ba430\u5206\u949f\uff0c\u6216\u8005\u5f53translog\u8fbe\u5230\u4e86\u4e00\u5b9a\u7684\u5927\u5c0f\uff0c\u4e5f\u4f1a\u89e6\u53d1flush\u64cd\u4f5c\u3002\\n- refresh \u64cd\u4f5c\u662f\u4e3a\u4e86\u8ba9\u6700\u65b0\u7684\u6570\u636e\u53ef\u4ee5\u7acb\u5373\u88ab\u641c\u7d22\u5230\uff0c\u800c flush \u64cd\u4f5c\u5219\u662f\u4e3a\u4e86\u8ba9\u6570\u636e\u6301\u4e45\u5316\u5230\u78c1\u76d8\u4e2d\uff0c\u53e6\u5916ES\u7684\u641c\u7d22\u662f\u5728\u5185\u5b58\u4e2d\u5904\u7406\u7684\uff0c\u56e0\u6b64Flush\u64cd\u4f5c\u4e0d\u5f71\u54cd\u6570\u636e\u80fd\u5426\u88ab\u641c\u7d22\u5230\u3002\\n","isLeaf":true}]},{"key":"/Elasticsearch/13-\u4e00\u4e9b\u7591\u95ee","path":"/Elasticsearch/13-\u4e00\u4e9b\u7591\u95ee","route":"/Elasticsearch/13-\u4e00\u4e9b\u7591\u95ee","leaf":false,"title":"13-\u4e00\u4e9b\u7591\u95ee","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Elasticsearch/13-\u4e00\u4e9b\u7591\u95ee/01-diffrent-result-in-twice-query-if-not-set-sort.md","path":"/Elasticsearch/13-\u4e00\u4e9b\u7591\u95ee/01-diffrent-result-in-twice-query-if-not-set-sort.md","route":"/Elasticsearch/13-\u4e00\u4e9b\u7591\u95ee/01-diffrent-result-in-twice-query-if-not-set-sort.md","leaf":true,"title":"01-diffrent-result-in-twice-query-if-not-set-sort","depth":2,"content":"---\\ntags: elasticsearch\\n---\\n\\n\u4e00\u4e2a\u5947\u602a\u7684\u73b0\u8c61\uff0c\u5982\u679c ES \u67e5\u8be2\u65f6\u4e0d\u8bbe\u7f6e\u6392\u5e8f\u65f6\uff0c\u6d4b\u8bd5\u4e24\u6b21\u7684\u67e5\u8be2\u7ed3\u679c\u53ef\u80fd\u4e0d\u4e00\u81f4\uff0c\u4e3a\u4e86\u4fdd\u6301\u4e00\u81f4\uff0c\u6700\u597d\u8bbe\u7f6e\u6392\u5e8f\u89c4\u5219\u3002\\n\\n```json\\n{\\n  \\"sort\\": [\\n    { \\"create_time\\": { \\"order\\": \\"DESC\\" } },\\n  ],\\n  \\"from\\": 0,\\n  \\"size\\": 10\\n}\\n```","isLeaf":true},{"key":"/Elasticsearch/13-\u4e00\u4e9b\u7591\u95ee/02-mysql-to-es-dsl.md","path":"/Elasticsearch/13-\u4e00\u4e9b\u7591\u95ee/02-mysql-to-es-dsl.md","route":"/Elasticsearch/13-\u4e00\u4e9b\u7591\u95ee/02-mysql-to-es-dsl.md","leaf":true,"title":"02-mysql-to-es-dsl","depth":2,"content":"https://printlove.cn/tools/sql2es","isLeaf":true}]},{"key":"/Elasticsearch/ES \u5b66\u4e60\u6559\u7a0b.md","path":"/Elasticsearch/ES \u5b66\u4e60\u6559\u7a0b.md","route":"/Elasticsearch/ES \u5b66\u4e60\u6559\u7a0b.md","leaf":true,"title":"ES \u5b66\u4e60\u6559\u7a0b","depth":1,"content":"---\\ntitle: ES \u5b66\u4e60\u6559\u7a0b\\nurl: https://www.yuque.com/gaollard/efekv4/trxkus\\n---\\n\\n\\n\\n### 1. \u53c2\u8003\u8d44\u6599\\n\\n- <https://blog.csdn.net/weixin_44715126/article/details/117402616>\\n- <https://mm.edrawsoft.cn/template/143601>\\n- <https://github.com/elastic/elasticsearch-js>\\n- <https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/index.html>\\n- <https://weread.qq.com/web/reader/52332a607280c170523409ek636320102206364d3f0ffdc>\\n- \\\\[\u57fa\u7840] [Elasticsearch \u83dc\u9e1f\u6559\u7a0b](https://www.knowledgedict.com/tutorial/elasticsearch-intro.html)\\n- \\\\[\u57fa\u7840] [ElasticSearch \u5168\u9762\u5206\u6790\u4e0e\u5b9e\u8df5](https://weread.qq.com/web/reader/52332a607280c170523409e)\\n- \\\\[\u8fdb\u9636] [Elasticsearch\u6e90\u7801\u89e3\u6790\u4e0e\u4f18\u5316\u5b9e\u6218](https://weread.qq.com/web/reader/f9c32dc07184876ef9cdeb6kc81322c012c81e728d9d180)\\n\\n\u7b14\u8bb0\u8d44\u6599\uff1a<https://github.com/gaollard/learb-db>\\n\\n\\n\\n### 2. \u5b66\u4e60\u5de5\u5177\\n\\n- chrome elasticsearch \u63d2\u4ef6\\n- [bodybuilder](https://www.npmjs.com/package/bodybuilder)\\n- kibana <http://8.135.111.215:5601/app/kibana#/dev_tools/console?_g=()>\\n\\n\\n\\n### 3. \u5957\u4ef6\u5b89\u88c5\\n\\n- elasticsearch\\n- logstash\\n- kibana\\n\\n\\n\\n### 4. \u5e38\u89c1\u95ee\u9898\\n\\n\\n\\n#### 1.  [elasticsearch\u5982\u4f55\u7ed3\u5408mysql\u4e00\u8d77\u4f7f\u7528\uff1f](https://www.zhihu.com/question/451680402/answer/1806594948)\\n\\n\\n\\n#### 2. No spaces match search criteria\\n","isLeaf":true}]},{"key":"/Git","path":"/Git","route":"/Git","leaf":false,"title":"Git","depth":0,"content":"","isLeaf":false,"children":[{"key":"/Git/01-introduce.md","path":"/Git/01-introduce.md","route":"/Git/01-introduce.md","leaf":true,"title":"01-introduce","depth":1,"content":"---\\ntitle: 01 Git \u4ecb\u7ecd\\ntag: Git\\n---\\n\\n## 1. \u53ef\u89c6\u5316\u5ba2\u6237\u7aef\\n- mac sourcetree\\n- win tortoisegit\\n\\n## 2. \u8f85\u52a9\u8bb0\u5fc6\u5de5\u5177\\n![20230512161907](http://s3.airtlab.com/blog/20230512161907.png)","isLeaf":true},{"key":"/Git/02-set-proxy.md","path":"/Git/02-set-proxy.md","route":"/Git/02-set-proxy.md","leaf":true,"title":"02-set-proxy","depth":1,"content":"---\\ntitle: 02 Git \u8bbe\u7f6e\u4ee3\u7406\\ntags: Git\\n---\\n\\nhttps://www.cnblogs.com/cscshi/p/15705045.html\\n\\n`git config http.proxy` \u8bbe\u7f6e HTTP \u534f\u8bae\u7684\u4ee3\u7406\u5730\u5740\uff0c\u5373\u6307\u5b9a Git \u5728\u901a\u8fc7 HTTP \u534f\u8bae\u8fdb\u884c\u7f51\u7edc\u8fde\u63a5\u65f6\u6240\u4f7f\u7528\u7684\u4ee3\u7406\u670d\u52a1\u5668\u3002\u6b64\u529f\u80fd\u901a\u5e38\u7528\u4e8e\u5728\u516c\u53f8\u6216\u7ec4\u7ec7\u7b49\u5185\u90e8\u7f51\u7edc\u73af\u5883\u4e2d\u8bbf\u95ee\u5916\u90e8Git\u4ed3\u5e93\u65f6\u7684\u9700\u8981\u3002\\n\\n\u5177\u4f53\u6765\u8bf4\uff0c\u5f53 Git \u901a\u8fc7 HTTP \u534f\u8bae\u8fdb\u884c\u7f51\u7edc\u8fde\u63a5\u65f6\uff0c\u5176\u4f1a\u5c1d\u8bd5\u76f4\u63a5\u8fde\u63a5\u76ee\u6807\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\u3002\u4f46\u5728\u4e00\u4e9b\u7f51\u7edc\u73af\u5883\u4e2d\uff0c\u76f4\u63a5\u8fde\u63a5\u53ef\u80fd\u88ab\u7981\u6b62\u6216\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u6b64\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e HTTP \u4ee3\u7406\u670d\u52a1\u5668\u6765\u8ba9 Git \u901a\u8fc7\u4ee3\u7406\u670d\u52a1\u5668\u8fdb\u884c\u7f51\u7edc\u8fde\u63a5\u3002\\n\\n\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u7f51\u7edc\u6d41\u91cf\u7684\u8fc7\u6ee4\u548c\u63a7\u5236\uff0c\u52a0\u5f3a\u5bf9\u7f51\u7edc\u5b89\u5168\u7684\u4fdd\u62a4\uff0c\u4e5f\u53ef\u4ee5\u63d0\u9ad8\u7f51\u7edc\u8fde\u63a5\u7684\u7a33\u5b9a\u6027\u548c\u6027\u80fd\u3002\\n\\n```shell\\n# \u53bb\u6389\u4ee3\u7406\u8bbe\u7f6e\\ngit config --global --unset http.proxy\\ngit config --global --unset https.proxy\\n\\n# \u8fd9\u91cc\u6211\u4f7f\u7528\u4e86\u4e30\u5de2\u5ba2\u6237\u7aef\\ngit config --global http.proxy http://127.0.0.1:7890\\ngit config --global https.proxy https://127.0.0.1:7890\\n```","isLeaf":true},{"key":"/Git/03-use-submodule.md","path":"/Git/03-use-submodule.md","route":"/Git/03-use-submodule.md","leaf":true,"title":"03-use-submodule","depth":1,"content":"---\\ntitle: 03 Git \u4f7f\u7528 submodule\\ntags: Git\\n---\\n\\n> \u53c2\u8003\u6587\u6863 [https://git-scm.com/book/zh/v2/Git-\u5de5\u5177-\u5b50\u6a21\u5757](https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E5%AD%90%E6%A8%A1%E5%9D%97)\\n\\n```bash\\nusage: git submodule [--quiet] [--cached]\\n   or: git submodule [--quiet] add [-b <branch>] [-f|--force] [--name <name>] [--reference <repository>] [--] <repository> [<path>]\\n   or: git submodule [--quiet] status [--cached] [--recursive] [--] [<path>...]\\n   or: git submodule [--quiet] init [--] [<path>...]\\n   or: git submodule [--quiet] deinit [-f|--force] (--all| [--] <path>...)\\n   or: git submodule [--quiet] update [--init] [--remote] [-N|--no-fetch] [-f|--force] [--checkout|--merge|--rebase] [--[no-]recommend-shallow] [--reference <repository>] [--recursive] [--[no-]single-branch] [--] [<path>...]\\n   or: git submodule [--quiet] set-branch (--default|--branch <branch>) [--] <path>\\n   or: git submodule [--quiet] set-url [--] <path> <newurl>\\n   or: git submodule [--quiet] summary [--cached|--files] [--summary-limit <n>] [commit] [--] [<path>...]\\n   or: git submodule [--quiet] foreach [--recursive] <command>\\n   or: git submodule [--quiet] sync [--recursive] [--] [<path>...]\\n   or: git submodule [--quiet] absorbgitdirs [--] [<path>...]\\n```\\n\\n### 1\u3001\u6dfb\u52a0\u5b50\u6a21\u5757\\n\\n```shell\\n# \u6dfb\u52a0\u5b50\u6a21\u5757\\ngit submodule add git@github.com:gaollard/test_submodule_B.git  projectB\\n\\n# \u53ef\u8bbe\u7f6e\u5b50\u6a21\u5757\u5728\u5f53\u524d\u9879\u76ee\u7684\u76f8\u5bf9\u8def\u5f84\\ngit submodule add http://test.com/backend src/vendor/\\n```\\n\\n### 2\u3001\u68c0\u51fa\u9879\u76ee\u7684\u6307\u5b9a\u7248\u672c\\n\\n```shell\\n# \u68c0\u51fa\u9879\u76ee\u7684\u6307\u5b9a\u7248\u672c(HEAD), \u6ce8\u610f\u5b83\u5e76\u4e0d\u662f\u6307\u5411\u4e00\u4e2a\u5206\u652f\\ngit submodule update\\n```\\n\\n### 3\u3001\u62c9\u53d6\u9879\u76ee\u65f6\u62c9\u53d6\u5b50\u6a21\u5757\\n\\n```shell\\n# \u53ef\u5728\u62c9\u53d6\u9879\u76ee\u65f6\u628a\u4f9d\u8d56\u7684\u5b50\u6a21\u5757\u540c\u65f6\u62c9\u53d6\u4e0b\u6765\\ngit clone \u2013recursive\\n```\\n\\n### 4\u3001submodule ignore \u9009\u9879\\n\\n```\\nuntracked \uff1a\u5ffd\u7565\u5728\u5b50\u6a21\u5757B(projectB\u76ee\u5f55)\u65b0\u6dfb\u52a0\u7684\uff0c\u672a\u53d7\u7248\u672c\u63a7\u5236\u5185\u5bb9\\ndirty     \uff1a\u5ffd\u7565\u5bf9projectB\u76ee\u5f55\u4e0b\u53d7\u7248\u672c\u63a7\u5236\u7684\u5185\u5bb9\u8fdb\u884c\u4e86\u4fee\u6539\\nall       \uff1a\u540c\u65f6\u5ffd\u7565untracked\u548cdirty\\n```\\n\\n### 5\u3001modified: XXX (new commits)\\n\\n\u8bf4\u660e\u5f53\u524d\u4e3b\u4ed3\u5e93\u4f9d\u8d56\u7684 HEAD \u548c \u672c\u5730\u4ed3\u5e93\u63d0\u4ea4\u4e0d\u5339\u914d\u4e86\uff0c\u8fd9\u4e2a\u65f6\u5019\u8981\u7279\u522b\u6ce8\u610f\u3002\\n\\n- \u5982\u679c\u5e0c\u671b\u4f7f\u7528\u65e7\u7684 `HEAD`\uff0c\u4f7f\u7528 `git submodule update`\uff1b\\n- \u5982\u679c\u5e0c\u671b\u4f7f\u7528\u65b0\u7684 `HEAD`\uff0c\u90a3\u4e48\u5c31 `git add` \u63d0\u4ea4\u4ee3\u7801\uff1b\\n\\n### 6\u3001git submodule update --remote\\n\\n\u66f4\u65b0\u5b50\u6a21\u5757\u4e3a\u8fdc\u7a0b\u9879\u76ee\u7684\u6700\u65b0\u7248\u672c\\n\\n### 7\u3001init & update\\n\\n```shell\\ngit submodule init\\ngit submodule update\\n\\n# \u5408\u5e76\\ngit submodule update --init\\n```\\n\\n### 8\u3001git submodule update --remote\\n\u66f4\u65b0\u4e3a\u8fdc\u7a0b\\n\\n### 9\u3001submodule \u51b2\u7a81\u600e\u4e48\u529e\\nsubmodule \u51b2\u7a81\u65f6\uff0c\u5e94\u5148\u5408\u5e76 submodule, \u518d\u6765\u5408\u5e76\u4e3b\u4ed3\u5e93\\n\\n### 10\u3001\u67e5\u8be2 submodule \u72b6\u6001\\n![20230717185232](http://s3.airtlab.com/blog/20230717185232.png)","isLeaf":true},{"key":"/Git/04-what-is-head.md","path":"/Git/04-what-is-head.md","route":"/Git/04-what-is-head.md","leaf":true,"title":"04-what-is-head","depth":1,"content":"---\\ntitle: 04 Git \u5bf9 head \u7684\u7406\u89e3\\ntags: Git\\n---\\n\\nhttps://www.zsythink.net/archives/3412/ \u8fd9\u7bc7\u6587\u7ae0\u8bb2\u7684\u975e\u5e38\u8be6\u7ec6\u3002\\n\\n1) \u901a\u5e38\u60c5\u51b5\u4e0b HEAD\u6307\u9488 \u2014\u2014\u2013> \u5206\u652f\u6307\u9488 \u2014\u2014\u2013> \u6700\u65b0\u63d0\u4ea4\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cHEAD \u6307\u9488\u603b\u662f\u901a\u8fc7\u5206\u652f\u6307\u9488\uff0c\u95f4\u63a5\u7684\u6307\u5411\u4e86\u5f53\u524d\u5206\u652f\u7684\u6700\u65b0\u63d0\u4ea4\u3002\\n2) \u6709\u4e9b\u60c5\u51b5\u4e0b\uff0cHEAD\u6307\u9488\u6ca1\u6709\u6307\u5411\u5206\u652f\u6307\u9488\uff0c\u800c\u662f\u76f4\u63a5\u6307\u5411\u4e86\u67d0\u4e2a\u63d0\u4ea4\uff0c\u8fd9\u88ab\u79f0\u4f5c detached head \u5206\u79bb\u5934\u3002","isLeaf":true},{"key":"/Git/05-cherry-pick.md","path":"/Git/05-cherry-pick.md","route":"/Git/05-cherry-pick.md","leaf":true,"title":"05-cherry-pick","depth":1,"content":"---\\ntitle: 05 cherry-pick\\ntags: Git\\n---\\n\\n(1) \u62f7\u8d1d\u4f9d\u8d56\u7f3a\u5931\\ncherry-pick \u53ef\u4ee5\u62f7\u8d1d\u4e00\u6b21 commit \u4fe1\u606f\uff0c\u5982\u679c\u4f60\u5728\u5206\u652f A \u62f7\u8d1d\u6765\u81ea\u5206\u652f B \u7684 commit id m1, \u4f46\u662f\u5728\u4ee3\u7801\u4e0a m1 \u4f9d\u8d56\u4e86B\u5206\u652f\u7684 m2\uff0c\u90a3\u4e48\u8fd9\u4e2a\u64cd\u4f5c\u662f\u9519\u8bef\u7684\u3002","isLeaf":true},{"key":"/Git/06-mege-commit.md","path":"/Git/06-mege-commit.md","route":"/Git/06-mege-commit.md","leaf":true,"title":"06-mege-commit","depth":1,"content":"---\\ntitle: 06 Git \u5408\u5e76\u591a\u4e2a commit\\ntags: Git\\n---\\n\\n## 1\u3001\u5408\u5e76\u65b9\u5f0f\\n- \u4f7f\u7528 git rebase -i head~{number} \u4e0d\u4f1a\u4ea7\u751f\u65b0\u7684 commit\\n- \u4f7f\u7528 git reset \u4f1a\u4ea7\u751f\u65b0\u7684 commit (\u66f4\u4e0d\u53cb\u597d\u7684\u505a\u6cd5)\\n\\n## 2\u3001\u574f\u5473\u9053\\n`git rebase` \u8fd9\u79cd\u65b9\u5f0f\u9700\u8981\u5f3a\u5236\u63a8\u9001\uff0c\u5b83\u662f\u4e00\u79cd\u574f\u5473\u9053\u505a\u6cd5\uff0c\u6700\u597d\u901a\u77e5\u5230\u9879\u76ee\u7684\u7ec4\u5458","isLeaf":true},{"key":"/Git/07-merge-vs-rebase.md","path":"/Git/07-merge-vs-rebase.md","route":"/Git/07-merge-vs-rebase.md","leaf":true,"title":"07-merge-vs-rebase","depth":1,"content":"---\\ntags: Git\\ntitle: 07 merge-vs-rebase\\n---\\n\\n\u4f7f\u7528 rebase \u8fdb\u884c\u4ee3\u7801\u5408\u5e76\uff0c\u53ef\u4ee5\u8ba9 git log \u66f4\u6e05\u6670","isLeaf":true},{"key":"/Git/08-diff.md","path":"/Git/08-diff.md","route":"/Git/08-diff.md","leaf":true,"title":"08-diff","depth":1,"content":"---\\ntags: Git\\ntitle: 08 \u8bfb\u61c2 diff\\n---\\n\\nGit diff \u53d8\u66f4\u7684\u539f\u56e0\u6709\uff1a\\n- \u65b0\u589e\u6587\u4ef6\\n- \u4fee\u6539\u6587\u4ef6\\n- \u5220\u9664\u6587\u4ef6\\n\\n## 1\u3001\u7528\u6cd5\\n```text\\nusage: git diff [<options>] [<commit>] [--] [<path>...]\\n   or: git diff [<options>] --cached [<commit>] [--] [<path>...]\\n   or: git diff [<options>] <commit> [--merge-base] [<commit>...] <commit> [--] [<path>...]\\n   or: git diff [<options>] <commit>...<commit>] [--] [<path>...]\\n   or: git diff [<options>] <blob> <blob>]\\n   or: git diff [<options>] --no-index [--] <path> <path>]\\n```\\n\\n- options \u8868\u793a\u53ef\u9009\u53c2\u6570\\n- commit \u8868\u793a commit id\\n- path \u8bbe\u7f6e\u6587\u4ef6\\n\\n### 1.1 --no-index\\n`--no-index` \u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u72ec\u7acb\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u7684\u5dee\u5f02\u3002\u5b83\u544a\u8bc9 Git diff \u547d\u4ee4\u8df3\u8fc7\u5bf9 Git \u5b58\u50a8\u5e93\u7684\u5904\u7406\uff0c\u5e76\u5c06\u5176\u7528\u4e8e\u975eGit\u6587\u4ef6\u3002\\n\u5f53\u60a8\u60f3\u8981\u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u800c\u4e0d\u5728Git\u5b58\u50a8\u5e93\u4e2d\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 `--no-index` \u9009\u9879\u3002\u8fd9\u5bf9\u4e8e\u8de8\u4e0d\u540cGit\u5b58\u50a8\u5e93\u6216\u5728\u6ca1\u6709Git\u5b58\u50a8\u5e93\u7684\u73af\u5883\u4e2d\u8fdb\u884c\u6bd4\u8f83\u5f88\u6709\u7528\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u6bd4\u8f83\u7684\u65b9\u5f0f\uff0c\u4e0d\u4f9d\u8d56\u4e8eGit\u5b58\u50a8\u5e93\u7684\u7248\u672c\u63a7\u5236\u4fe1\u606f\u3002\\n\\n\u4ee5\u4e0b\u662f\u4f7f\u7528`--no-index`\u9009\u9879\u7684\u793a\u4f8b\uff1a\\n\\n1. \u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff --no-index file1.txt file2.txt\\n   ```\\n\\n2. \u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u5939\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff --no-index dir1/ dir2/\\n   ```\\n\\n\u8bf7\u6ce8\u610f\uff0c`--no-index`\u9009\u9879\u4e0d\u4f1a\u5904\u7406Git\u5b58\u50a8\u5e93\u4e2d\u7684\u66f4\u6539\u5386\u53f2\u8bb0\u5f55\u6216\u7248\u672c\u63a7\u5236\u4fe1\u606f\u3002\u5b83\u53ea\u4f1a\u63d0\u4f9b\u4e00\u79cd\u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u4e4b\u95f4\u5dee\u5f02\u7684\u65b9\u5f0f\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4ea7\u751f\u4e0d\u540c\u7684\u8f93\u51fa\u7ed3\u679c\u3002\\n\\n### 1.2 \u5e38\u89c1\u7528\u6cd5\\n\\n1. \u6bd4\u8f83\u5de5\u4f5c\u76ee\u5f55\u548c\u6682\u5b58\u533a\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff\\n   ```\\n\\n2. \u6bd4\u8f83\u6682\u5b58\u533a\u548c\u6700\u540e\u4e00\u6b21\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff --staged\\n   ```\\n\\n3. \u6bd4\u8f83\u4e24\u4e2a\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff commit1 commit2\\n   ```\\n\\n4. \u6bd4\u8f83\u4e24\u4e2a\u5206\u652f\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff branch1 branch2\\n   ```\\n\\n5. \u663e\u793a\u6587\u4ef6\u4e2d\u5177\u4f53\u7684\u66f4\u6539\u5185\u5bb9\uff1a\\n   ```\\n   git diff --word-diff\\n   ```\\n\\n6. \u751f\u6210\u53ef\u4f9b\u6253\u5370\u7684\u7b80\u6d01\u5dee\u5f02\uff1a\\n   ```\\n   git diff --color-words\\n   ```\\n\\n\u8fd9\u53ea\u662f\u4e00\u4e9b\u57fa\u672c\u7684\u7528\u6cd5\u793a\u4f8b\u3002Git diff\u8fd8\u6709\u5f88\u591a\u5176\u4ed6\u53ef\u9009\u9879\u548c\u53c2\u6570\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u5b9a\u5236\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c`git diff --help`\u547d\u4ee4\u6765\u67e5\u770b\u6240\u6709\u53ef\u7528\u9009\u9879\u548c\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\\n\\n### 1.3 \u9ed8\u8ba4\u8f93\u51fa\u683c\u5f0f\\n\\n\u6267\u884c\\n```shell\\ngit diff 801aae133e70fe312223faccd97072e8afc07404\\n````\\n\\n\u5176\u8f93\u51fa\u662f\u4e0b\u9762\u8fd9\u6837\u7684\u4e00\u4e2a\u5217\u8868\uff0c\u6bcf\u4e00\u9879\u4ee3\u8868\u67d0\u4e2a\u6587\u4ef6\u524d\u540e\u5bf9\u6bd4\\n\\n```text\\ndiff --git a/libs/grpc/src/grpc.service.ts b/libs/grpc/src/grpc.service.ts\\nindex 3b551ff..33b5a94 100644\\n--- a/libs/grpc/src/grpc.service.ts\\n+++ b/libs/grpc/src/grpc.service.ts\\n@@ -12,6 +12,7 @@ import { dynamicProxyUrl, localService } from \'@app/config/local.service\';\\n import { migrationMap } from \'@app/shared/migrationMap\';\\n import { rpcMetrics } from \'@/prom/prom.client\';\\n import { CURRENT_ETCD } from \'@app/shared/etcd.config\';\\n+import { isThDGL } from \'@app/shared/utils/getFromContext\';\\n \\n @Injectable()\\n export class GrpcService {\\n@@ -41,6 +42,10 @@ export class GrpcService {\\n       );\\n     }\\n \\n+    if (region === \'th\') {\\n+      body = { ...body, licenseType: isThDGL() ? \'Digi\' : \'CCC\' };\\n+    }\\n+\\n     const rpcAction = getRpc(service, rpc, address as string);\\n     let makeParam =\\n       (body && body[\'migrationMap\']) || service === Service.LoanCoreDebt\\n```\\n\\n**1) diff \u683c\u5f0f**\\n\\n\u7b2c\u4e00\u884c\u8868\u793a\u7ed3\u679c\u4e3a git \u683c\u5f0f\u7684 diff:\\n```\\ndiff --git a/libs/grpc/src/grpc.service.ts b/libs/grpc/src/grpc.service.ts\\n```\\n\\n**2) diff \u5bf9\u8c61**\\n\\n\u7b2c\u4e8c\u884c\u8868\u793a\u4e24\u4e2a\u7248\u672c\u7684git\u54c8\u5e0c\u503c\\n```\\nindex 3b551ff..33b5a94 100644\\n```\\n\\nindex \u533a\u57df\u7684 3b551ff \u5bf9\u8c61 \u4e0e\u5de5\u4f5c\u76ee\u5f55\u533a\u57df\u7684 33b5a94 \u5bf9\u8c61\u8fdb\u884c\u6bd4\u8f83\uff0c\u6700\u540e\u7684\u516d\u4f4d\u6570\u5b57\u662f\u5bf9\u8c61\u7684\u6a21\u5f0f\uff08\u666e\u901a\u6587\u4ef6\uff0c644\u6743\u9650\uff09\\n\\n**3) \u53d8\u52a8\u8303\u56f4**\\n\\n\\"---\\"\u8868\u793a\u53d8\u52a8\u524d\u7684\u6587\u4ef6\uff0c\\"+++\\"\u8868\u793a\u53d8\u52a8\u540e\u7684\u6587\u4ef6\uff0c\u53d8\u52a8\u7684\u4f4d\u7f6e\u7528\u4e24\u4e2a@\u4f5c\u4e3a\u8d77\u9996\u548c\u7ed3\u675f\uff0c`@@ -12,6 +12,7 @@`\\n\\n\u524d\u9762\u7684\\"-12,6\\"\u5206\u6210\u4e09\u4e2a\u90e8\u5206\uff1a\u51cf\u53f7\u8868\u793a\u7b2c\u4e00\u4e2a\u6587\u4ef6\uff08\u5373f1\uff09\uff0c\\"12\\"\u8868\u793a\u7b2c12\u884c\uff0c\\"6\\"\u8868\u793a\u8fde\u7eed6\u884c\u3002\u5408\u5728\u4e00\u8d77\uff0c\u5c31\u8868\u793a\u4e0b\u9762\u662f\u7b2c\u4e00\u4e2a\u6587\u4ef6\u4ece\u7b2c16\u884c\u5f00\u59cb\u7684\u8fde\u7eed6\u884c\u3002\u540c\u6837\u7684\uff0c\\"+12,7\\"\u8868\u793a\u53d8\u52a8\u540e\uff0c\u6210\u4e3a\u7b2c\u4e8c\u4e2a\u6587\u4ef6\u4ece\u7b2c12\u884c\u5f00\u59cb\u7684\u8fde\u7eed7\u884c\u3002\\n\\n**4) \u53d8\u52a8\u7684\u5177\u4f53\u5185\u5bb9**\\n\\n```text\\nimport { dynamicProxyUrl, localService } from \'@app/config/local.service\';\\nimport { migrationMap } from \'@app/shared/migrationMap\';\\nimport { rpcMetrics } from \'@/prom/prom.client\';\\nimport { CURRENT_ETCD } from \'@app/shared/etcd.config\';\\n\\n@Injectable()\\nexport class GrpcService {\\n```\\n\\n```text\\n import { dynamicProxyUrl, localService } from \'@app/config/local.service\';\\n import { migrationMap } from \'@app/shared/migrationMap\';\\n import { rpcMetrics } from \'@/prom/prom.client\';\\n import { CURRENT_ETCD } from \'@app/shared/etcd.config\';\\n+import { isThDGL } from \'@app/shared/utils/getFromContext\';\\n \\n @Injectable()\\n export class GrpcService {\\n```\\n\\n### 1.4 diff \u53ef\u89c6\u5316\u5c55\u793a\\n\\n\u6839\u636e `@@` \u8fdb\u884c\u5206\u5272\uff0c\u8fdb\u884c\u9010\u884c\u5bf9\u6bd4\uff0c\u5373\u53ef\u627e\u5230\u67d0\u884c\u662f\u88ab\u5220\u9664\u3001\u8fd8\u662f\u589e\u52a0\u3002\\n\\n## 2\u3001\u53c2\u6570\\n\\n```text\\n  -z            output diff-raw with lines terminated with NUL.\\n  -p            output patch format.\\n  -u            synonym for -p.\\n  --patch-with-raw\\n                output both a patch and the diff-raw format.\\n  --stat        show diffstat instead of patch.\\n  --numstat     show numeric diffstat instead of patch.\\n  --patch-with-stat\\n                output a patch and prepend its diffstat.\\n  --name-only   show only names of changed files.\\n  --name-status show names and status of changed files.\\n  --full-index  show full object name on index lines.\\n  --abbrev=<n>  abbreviate object names in diff-tree header and diff-raw.\\n  -R            swap input file pairs.\\n  -B            detect complete rewrites.\\n  -M            detect renames.\\n  -C            detect copies.\\n  --find-copies-harder\\n                try unchanged files as candidate for copy detection.\\n  -l<n>         limit rename attempts up to <n> paths.\\n  -O<file>      reorder diffs according to the <file>.\\n  -S<string>    find filepair whose only one side contains the string.\\n  --pickaxe-all\\n                show all files diff when -S is used and hit is found.\\n  -a  --text    treat all files as text.\\n```\\n\\n### 2.1 name-only \u53ea\u5c55\u793a\u6587\u4ef6\u540d\\n```shell\\ngit diff --name-only  master\\n```\\n\\n```text\\nlibs/config/src/th/local.config.ts\\nlibs/config/src/th/test.config.ts\\nlibs/config/src/th/uat.config.ts\\nlibs/db/src/db.service.ts\\nlibs/elastic/src/elastic.interface.ts\\nlibs/elastic/src/elastic.service.ts\\nlibs/grpc/src/grpc.service.ts\\nlibs/grpc/src/proto/protobuf-uc\\n```\\n\\n\u770b\u4e0d\u51fa\u6587\u4ef6\u662f\u6539\u52a8\u3001\u5220\u9664\u6216\u8005\u65b0\u589e\\n\\n### 2.2 --stat \u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\\n\\n\u4f7f\u7528 `--stat` \u9009\u9879\u53ef\u4ee5\u5e2e\u52a9\u60a8\u5feb\u901f\u4e86\u89e3\u6587\u4ef6\u95f4\u7684\u5927\u81f4\u5dee\u5f02\uff0c\u4ee5\u4fbf\u66f4\u597d\u5730\u7406\u89e3Git\u5b58\u50a8\u5e93\u4e2d\u7684\u6539\u52a8\u60c5\u51b5\u3002\\n\\n```shell\\ngit diff --stat 801aae133e70fe312223faccd97072e8afc07404\\n```\\n\\n```text\\nlibs/grpc/src/grpc.service.ts     | 5 +++++ [\u589e\u52a05\u884c]\\nlibs/grpc/src/proto/protobuf-uc   | 2 +-    [\u589e\u52a01\u884c\uff0c\u5220\u96641\u884c]\\nlibs/grpc/src/services/BaseRpc.ts | 5 +++++ [\u589e\u52a05\u884c]\\n3 files changed, 11 insertions(+), 1 deletion(-)\\n```\\n\\n### 2.3 `--numstat` \u4ee5\u6570\u5b57\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\\n\\n\u7528\u4e8e\u4ee5\u6570\u5b57\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\u3002\u5b83\u4f1a\u663e\u793a\u51fa\u6bcf\u4e2a\u6587\u4ef6\u88ab\u6dfb\u52a0\u3001\u5220\u9664\u548c\u4fee\u6539\u7684\u884c\u6570\u3002\\n\\n```shell\\n$ git diff --numstat 801aae133e70fe312223faccd97072e8afc07404\\n5       0       libs/grpc/src/grpc.service.ts\\n1       1       libs/grpc/src/proto/protobuf-uc\\n5       0       libs/grpc/src/services/BaseRpc.ts\\n```\\n\\n### 2.4 --name-status \u5c55\u793a\u6587\u4ef6\u4fee\u6539\u7c7b\u578b\\n\\n```shell\\ngit diff --name-status  801aae133e70fe312223faccd97072e8afc07404\\nM       libs/grpc/src/grpc.service.ts\\nM       libs/grpc/src/proto/protobuf-uc\\nM       libs/grpc/src/services/BaseRpc.ts\\n```\\n\\n`--name-status` \u7528\u4e8e\u4ee5\u6587\u4ef6\u540d\u548c\u72b6\u6001\u7684\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\u3002\u5b83\u4f1a\u663e\u793a\u51fa\u6bcf\u4e2a\u6587\u4ef6\u7684\u72b6\u6001\uff0c\u5305\u62ec\u88ab\u6dfb\u52a0\u3001\u88ab\u4fee\u6539\u548c\u88ab\u5220\u9664\u3002\\n\u5f53\u60a8\u6267\u884cGit diff\u547d\u4ee4\uff0c\u5e76\u6dfb\u52a0\u4e86`--name-status`\u9009\u9879\uff0cGit\u4f1a\u4e3a\u6bcf\u4e2a\u6587\u4ef6\u4ea7\u751f\u4e00\u4e2a\u6458\u8981\uff0c\u4ee5\u6587\u4ef6\u540d\u548c\u5176\u72b6\u6001\u7684\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u7684\u5dee\u5f02\u7edf\u8ba1\u4fe1\u606f\u3002\u8f93\u51fa\u7ed3\u679c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5\uff1a\u6587\u4ef6\u7684\u72b6\u6001\u548c\u6587\u4ef6\u540d\u3002\\n\\n\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f7f\u7528`--name-status`\u9009\u9879\u7684\u793a\u4f8b\uff1a\\n\\n```\\ngit diff --name-status\\n```\\n\\n\u8fd9\u5c06\u663e\u793a\u51faGit\u5b58\u50a8\u5e93\u4e2d\u5f53\u524d\u5206\u652f\u548c\u4e0a\u4e00\u4e2a\u5206\u652f\u4e4b\u95f4\u7684\u6587\u4ef6\u5dee\u5f02\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\u8f93\u51fa\u7ed3\u679c\u53ef\u80fd\u7c7b\u4f3c\u4e8e\u4e0b\u9762\u7684\u6837\u5f0f\uff1a\\n\\n```\\nA       file1.txt\\nM       file2.txt\\nD       file3.txt\\n```\\n\\n\u8fd9\u4e2a\u793a\u4f8b\u544a\u8bc9\u6211\u4eec\uff0c`file1.txt` \u6587\u4ef6\u662f\u88ab\u6dfb\u52a0\u7684\uff08Added\uff09\uff0c`file2.txt` \u6587\u4ef6\u662f\u88ab\u4fee\u6539\u7684\uff08Modified\uff09\uff0c`file3.txt` \u6587\u4ef6\u662f\u88ab\u5220\u9664\u7684\uff08Deleted\uff09\u3002\\n\\n`--name-status` \u9009\u9879\u5bf9\u4e8e\u9700\u8981\u4ee5\u6587\u4ef6\u72b6\u6001\u5f62\u5f0f\u83b7\u53d6\u6587\u4ef6\u5dee\u5f02\u7edf\u8ba1\u4fe1\u606f\u7684\u60c5\u51b5\u5f88\u6709\u7528\u3002\u5b83\u53ef\u4ee5\u5e2e\u52a9\u60a8\u4e86\u89e3\u6bcf\u4e2a\u6587\u4ef6\u7684\u72b6\u6001\uff0c\u5305\u62ec\u6dfb\u52a0\u3001\u4fee\u6539\u548c\u5220\u9664\u7b49\u64cd\u4f5c\u3002\\n\\n## 3\u3001\u53c2\u8003\u6587\u6863\\n\\n- [\u8bfb\u61c2diff] https://www.ruanyifeng.com/blog/2012/08/how_to_read_diff.html","isLeaf":true},{"key":"/Git/09-multile-github.md","path":"/Git/09-multile-github.md","route":"/Git/09-multile-github.md","leaf":true,"title":"09-multile-github","depth":1,"content":"---\\ntags: Git\\n---\\n\\n1\u53f0\u7535\u8111\u4e0a\u4f7f\u7528\u4e24\u4e2agithub\u8d26\u6237\uff0c\u53c2\u8003 https://juejin.cn/post/6844904086085582862 \u6216\u8005\u53ef\u4ee5\u901a\u8fc7 github token \u6765\u907f\u514d\u8fd9\u4e2a\u95ee\u9898","isLeaf":true},{"key":"/Git/10-commit-rule.md","path":"/Git/10-commit-rule.md","route":"/Git/10-commit-rule.md","leaf":true,"title":"10-commit-rule","depth":1,"content":"---\\ntags: Git\\n---\\n\\n## 1\u3001\u63d0\u4ea4\u683c\u5f0f\\n```text\\ntype(scope): message\\n```\\n\\n## 2\u3001type\\n- feat\uff1a\u65b0\u529f\u80fd\u7684\u5f00\u53d1\\n- fix\uff1abug\u7684\u4fee\u590d\\n- docs\uff1a\u6587\u6863\u683c\u5f0f\u7684\u6539\u52a8\\n- style\uff1a\u4ee3\u7801\u683c\u5f0f\u6539\u53d8\\n- refactor\uff1a\u5bf9\u5df2\u6709\u7684\u529f\u80fd\u8fdb\u884c\u91cd\u6784\\n- perf\uff1a\u6027\u80fd\u4f18\u5316\\n- test\uff1a\u589e\u52a0\u6d4b\u8bd5\\n- build\uff1a\u6539\u53d8\u4e86build\u5de5\u5177\\n- revert\uff1a\u64a4\u9500\u4e0a\u4e00\u6b21\u7684commit\u63d0\u4ea4\\n- chore\uff1a\u65e5\u5e38\u7684\u4e00\u4e9b\u5c0f\u66f4\u6539\\n\\n## 3\u3001scope\\n\u7528\u4e8e\u8bf4\u660e commit \u5f71\u54cd\u7684\u8303\u56f4\uff0c\u6bd4\u5982\uff1a\u6743\u9650\u6a21\u5757\u3001\u8fd8\u662f\u9996\u9875","isLeaf":true},{"key":"/Git/11-use-hooks.md","path":"/Git/11-use-hooks.md","route":"/Git/11-use-hooks.md","leaf":true,"title":"11-use-hooks","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u53c2\u8003 https://www.cnblogs.com/woai3c/p/15033530.html \u7279\u522b\u6ce8\u610f hooks \u6587\u4ef6\u7684\u6743\u9650\u95ee\u9898","isLeaf":true},{"key":"/Git/12-file-timeline.md","path":"/Git/12-file-timeline.md","route":"/Git/12-file-timeline.md","leaf":true,"title":"12-file-timeline","depth":1,"content":"---\\ntags: Git\\n---\\n\\n## 1\u3001sourcetree\\n\u4f7f\u7528 git \u547d\u4ee4\u4e0d\u591f\u76f4\u89c2\uff0c\u53ef\u4ee5\u4f7f\u7528 sourcetree, \u70b9\u51fb\u6587\u4ef6 \u3010\u67e5\u770b\u9009\u4e2d\u7684\u4fee\u6539\u65e5\u5fd7\u3011\\n\\n## 2\u3001vscode\\n\u53ef\u4ee5\u67e5\u770b\u5f53\u524d\u7a97\u53e3\u6587\u4ef6\u7684\u65f6\u95f4\u7ebf","isLeaf":true},{"key":"/Git/13-git-log.md","path":"/Git/13-git-log.md","route":"/Git/13-git-log.md","leaf":true,"title":"13-git-log","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u53c2\u8003 https://zhuanlan.zhihu.com/p/183131156\\n\\n```shell\\ngit log --oneline\\ngit log --stat\\n```","isLeaf":true},{"key":"/Git/14-gen-ssh-key.md","path":"/Git/14-gen-ssh-key.md","route":"/Git/14-gen-ssh-key.md","leaf":true,"title":"14-gen-ssh-key","depth":1,"content":"---\\ntags: Git\\n---\\n\\n```shell\\n# make\\nssh-keygen -t rsa -C \\"2856116089@qq.com\\"\\n\\n# config\\ngit config --global user.name \\"waisai\\"\\ngit config --global user.email \\"2856116089@qq.com\\"\\n```","isLeaf":true},{"key":"/Git/15-rm-cached.md","path":"/Git/15-rm-cached.md","route":"/Git/15-rm-cached.md","leaf":true,"title":"15-rm-cached","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u6709\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u5ffd\u7565\u6389\u4ee5\u524d\u63d0\u4ea4\u8fc7\u7684\u6587\u4ef6\uff0c\u56e0\u4e3agit\u5df2\u7ecf\u7d22\u5f15\u4e86\u8be5\u6587\u4ef6\uff0c\u6240\u4ee5\u6211\u4eec\u5148\u8981\u5220\u9664\u6389\u8be5\u6587\u4ef6\u7684\u7f13\u5b58\uff0c\u5982\u6587\u4ef6 main.ts \u5df2\u7ecf\u63d0\u4ea4\u8fc7\u4e86\uff0c\u73b0\u5728\u6211\u4eec\u60f3\u5ffd\u7565\uff0c\u8fd9\u662f\u6211\u4eec\u5148\u5728 .gitignore \u4e2d\u8bbe\u7f6e\u8be5\u6587\u4ef6\u4e3a\u5ffd\u7565\u3002\\n\\n- \u4f7f\u7528 git rm --cached \u4ece Git \u7684\u6570\u636e\u5e93\u4e2d\u5220\u9664\u5bf9\u4e8e\u8be5\u6587\u4ef6\u7684\u8ffd\u8e2a\\n- \u628a\u5bf9\u5e94\u7684\u89c4\u5219\u5199\u5165 .gitignore\uff0c\u8ba9\u5ffd\u7565\u771f\u6b63\u751f\u6548\\n\\n```shell\\ngit rm --cached main.ts\\n\\n# \u82e5\u662f\u6587\u4ef6\u5939\\ngit rm -r --cached folder/\\n```","isLeaf":true},{"key":"/Git/16-reset-vs-revert.md","path":"/Git/16-reset-vs-revert.md","route":"/Git/16-reset-vs-revert.md","leaf":true,"title":"16-reset-vs-revert","depth":1,"content":"---\\ntags: Git\\n---\\n\\n- reset \u662f\u5f7b\u5e95\u56de\u9000\u5230\u6307\u5b9a\u7684commit\u7248\u672c\uff0c\u8be5commit\u540e\u7684\u6240\u6709commit\u90fd\u5c06\u88ab\u6e05\u9664\uff0c\u5305\u62ec\u63d0\u4ea4\u5386\u53f2\u8bb0\u5f55\uff1b\\n- revert \u4ec5\u4ec5\u662f\u64a4\u9500\u6307\u5b9acommit\u7684\u4fee\u6539\uff0c\u5e76\u4e0d\u5f71\u54cd\u540e\u7eed\u7684commit\uff0c\u4f46\u6240\u64a4\u9500\u7684commit\u88ab\u540e\u7eed\u7684commit\u4fee\u6539\u4e86\u540c\u4e00\u5730\u65b9\u5219\u4f1a\u4ea7\u751f\u51b2\u7a81\uff1b\\n- reset \u6267\u884c\u540e\u4e0d\u4f1a\u4ea7\u751f\u8bb0\u5f55\uff0crevert\u6267\u884c\u540e\u4f1a\u4ea7\u751f\u8bb0\u5f55\uff1b\\n- reset \u6267\u884c\u540e\u65e0\u6cd5\u518d\u6b21\u6062\u590d\uff0crevert\u6267\u884c\u540e\u56e0\u4e3a\u4e0d\u4f1a\u6e05\u9664\u8bb0\u5f55\uff0c\u5e76\u4e14\u4f1a\u4ea7\u751f\u65b0\u7eaa\u5f55\uff0c\u6240\u4ee5\u6587\u4ef6\u4e0d\u4f1a\u4e22\u5931\uff0c\u4f60\u53ef\u4ee5\u591a\u6b21\u6267\u884crevert\u6062\u590d\u5230\u67d0\u6b21\u6539\u53d8\u4e4b\u524d\u7684\u72b6\u6001\uff1b\\n- reset \u6267\u884c\u540eHEAD\u4f1a\u540e\u79fb\uff0c\u800crevert\u7684HEAD\u5219\u4e00\u76f4\u662f\u5411\u524d\u7684\uff1b\\n\\nhttps://blog.csdn.net/baiyuliang2013/article/details/120646835","isLeaf":true},{"key":"/Git/17-case-sensitive.md","path":"/Git/17-case-sensitive.md","route":"/Git/17-case-sensitive.md","leaf":true,"title":"17-case-sensitive","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u6587\u4ef6\u7cfb\u7edf\u5927\u5c0f\u5199\u654f\u611f\u662f\u975e\u5e38\u91cd\u8981\uff0c\u4f1a\u5e26\u6765\u8bf8\u591a\u95ee\u9898\u3002\u6bd4\u5982\u4e0d\u654f\u611f\u65f6\uff0c\u5f53\u4f60\u5e0c\u671b\u4fee\u6539\u6587\u4ef6\u76ee\u5f55\u4ece\u5c0f\u5199\u5230\u5927\u5199\u65f6\uff0cgit \u72b6\u6001\u662f\u672a\u53d1\u751f\u53d8\u66f4\uff0c\u610f\u5473\u7740\u4f60\u65e0\u6cd5\u63d0\u4ea4\u3002","isLeaf":true}]},{"key":"/Mysql","path":"/Mysql","route":"/Mysql","leaf":false,"title":"Mysql","depth":0,"content":"","isLeaf":false,"children":[{"key":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6","path":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6","route":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6","leaf":false,"title":"01-\u57fa\u7840\u8ba4\u8bc6","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/01-my.conf.md","path":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/01-my.conf.md","route":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/01-my.conf.md","leaf":true,"title":"01-my.conf","depth":2,"content":"---\\ntitle: 01-my.conf\\n---\\n\\n```typescript\\n[client]\\nport = 3306\\nsocket = /tmp/mysql.sock\\n\\n \\n\\n[mysqld]\\nport = 3306\\nsocket = /tmp/mysql.sock\\n\\nbasedir = /usr/local/mysql\\ndatadir = /data/mysql\\npid-file = /data/mysql/mysql.pid\\nuser = mysql\\nbind-address = 0.0.0.0\\nserver-id = 1 #\u8868\u793a\u662f\u672c\u673a\u7684\u5e8f\u53f7\u4e3a1,\u4e00\u822c\u6765\u8bb2\u5c31\u662fmaster\u7684\u610f\u601d\\n\\nskip-name-resolve\\n# \u7981\u6b62MySQL\u5bf9\u5916\u90e8\u8fde\u63a5\u8fdb\u884cDNS\u89e3\u6790\uff0c\u4f7f\u7528\u8fd9\u4e00\u9009\u9879\u53ef\u4ee5\u6d88\u9664MySQL\u8fdb\u884cDNS\u89e3\u6790\u7684\u65f6\u95f4\u3002\u4f46\u9700\u8981\u6ce8\u610f\uff0c\u5982\u679c\u5f00\u542f\u8be5\u9009\u9879\uff0c\\n# \u5219\u6240\u6709\u8fdc\u7a0b\u4e3b\u673a\u8fde\u63a5\u6388\u6743\u90fd\u8981\u4f7f\u7528IP\u5730\u5740\u65b9\u5f0f\uff0c\u5426\u5219MySQL\u5c06\u65e0\u6cd5\u6b63\u5e38\u5904\u7406\u8fde\u63a5\u8bf7\u6c42\\n\\n#skip-networking\\n\\nback_log = 600\\n# MySQL\u80fd\u6709\u7684\u8fde\u63a5\u6570\u91cf\u3002\u5f53\u4e3b\u8981MySQL\u7ebf\u7a0b\u5728\u4e00\u4e2a\u5f88\u77ed\u65f6\u95f4\u5185\u5f97\u5230\u975e\u5e38\u591a\u7684\u8fde\u63a5\u8bf7\u6c42\uff0c\u8fd9\u5c31\u8d77\u4f5c\u7528\uff0c\\n# \u7136\u540e\u4e3b\u7ebf\u7a0b\u82b1\u4e9b\u65f6\u95f4(\u5c3d\u7ba1\u5f88\u77ed)\u68c0\u67e5\u8fde\u63a5\u5e76\u4e14\u542f\u52a8\u4e00\u4e2a\u65b0\u7ebf\u7a0b\u3002back_log\u503c\u6307\u51fa\u5728MySQL\u6682\u65f6\u505c\u6b62\u56de\u7b54\u65b0\u8bf7\u6c42\u4e4b\u524d\u7684\u77ed\u65f6\u95f4\u5185\u591a\u5c11\u4e2a\u8bf7\u6c42\u53ef\u4ee5\u88ab\u5b58\u5728\u5806\u6808\u4e2d\u3002\\n# \u5982\u679c\u671f\u671b\u5728\u4e00\u4e2a\u77ed\u65f6\u95f4\u5185\u6709\u5f88\u591a\u8fde\u63a5\uff0c\u4f60\u9700\u8981\u589e\u52a0\u5b83\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679cMySQL\u7684\u8fde\u63a5\u6570\u636e\u8fbe\u5230max_connections\u65f6\uff0c\u65b0\u6765\u7684\u8bf7\u6c42\u5c06\u4f1a\u88ab\u5b58\u5728\u5806\u6808\u4e2d\uff0c\\n# \u4ee5\u7b49\u5f85\u67d0\u4e00\u8fde\u63a5\u91ca\u653e\u8d44\u6e90\uff0c\u8be5\u5806\u6808\u7684\u6570\u91cf\u5373back_log\uff0c\u5982\u679c\u7b49\u5f85\u8fde\u63a5\u7684\u6570\u91cf\u8d85\u8fc7back_log\uff0c\u5c06\u4e0d\u88ab\u6388\u4e88\u8fde\u63a5\u8d44\u6e90\u3002\\n# \u53e6\u5916\uff0c\u8fd9\u503c\uff08back_log\uff09\u9650\u4e8e\u60a8\u7684\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u5230\u6765\u7684TCP/IP\u8fde\u63a5\u7684\u4fa6\u542c\u961f\u5217\u7684\u5927\u5c0f\u3002\\n# \u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u5728\u8fd9\u4e2a\u961f\u5217\u5927\u5c0f\u4e0a\u6709\u5b83\u81ea\u5df1\u7684\u9650\u5236\uff08\u53ef\u4ee5\u68c0\u67e5\u4f60\u7684OS\u6587\u6863\u627e\u51fa\u8fd9\u4e2a\u53d8\u91cf\u7684\u6700\u5927\u503c\uff09\uff0c\u8bd5\u56fe\u8bbe\u5b9aback_log\u9ad8\u4e8e\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u7684\u9650\u5236\u5c06\u662f\u65e0\u6548\u7684\u3002\\n\\nmax_connections = 1000\\n# MySQL\u7684\u6700\u5927\u8fde\u63a5\u6570\uff0c\u5982\u679c\u670d\u52a1\u5668\u7684\u5e76\u53d1\u8fde\u63a5\u8bf7\u6c42\u91cf\u6bd4\u8f83\u5927\uff0c\u5efa\u8bae\u8c03\u9ad8\u6b64\u503c\uff0c\u4ee5\u589e\u52a0\u5e76\u884c\u8fde\u63a5\u6570\u91cf\uff0c\u5f53\u7136\u8fd9\u5efa\u7acb\u5728\u673a\u5668\u80fd\u652f\u6491\u7684\u60c5\u51b5\u4e0b\uff0c\u56e0\u4e3a\u5982\u679c\u8fde\u63a5\u6570\u8d8a\u591a\uff0c\u4ecb\u4e8eMySQL\u4f1a\u4e3a\u6bcf\u4e2a\u8fde\u63a5\u63d0\u4f9b\u8fde\u63a5\u7f13\u51b2\u533a\uff0c\u5c31\u4f1a\u5f00\u9500\u8d8a\u591a\u7684\u5185\u5b58\uff0c\u6240\u4ee5\u8981\u9002\u5f53\u8c03\u6574\u8be5\u503c\uff0c\u4e0d\u80fd\u76f2\u76ee\u63d0\u9ad8\u8bbe\u503c\u3002\u53ef\u4ee5\u8fc7\'conn%\'\u901a\u914d\u7b26\u67e5\u770b\u5f53\u524d\u72b6\u6001\u7684\u8fde\u63a5\u6570\u91cf\uff0c\u4ee5\u5b9a\u593a\u8be5\u503c\u7684\u5927\u5c0f\u3002\\n\\nmax_connect_errors = 6000\\n# \u5bf9\u4e8e\u540c\u4e00\u4e3b\u673a\uff0c\u5982\u679c\u6709\u8d85\u51fa\u8be5\u53c2\u6570\u503c\u4e2a\u6570\u7684\u4e2d\u65ad\u9519\u8bef\u8fde\u63a5\uff0c\u5219\u8be5\u4e3b\u673a\u5c06\u88ab\u7981\u6b62\u8fde\u63a5\u3002\u5982\u9700\u5bf9\u8be5\u4e3b\u673a\u8fdb\u884c\u89e3\u7981\uff0c\u6267\u884c\uff1aFLUSH HOST\u3002\\n\\nopen_files_limit = 65535\\n# MySQL\u6253\u5f00\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u9650\u5236\uff0c\u9ed8\u8ba4\u6700\u5c0f1024;\u5f53open_files_limit\u6ca1\u6709\u88ab\u914d\u7f6e\u7684\u65f6\u5019\uff0c\u6bd4\u8f83max_connections*5\u548culimit -n\u7684\u503c\uff0c\u54ea\u4e2a\u5927\u7528\u54ea\u4e2a\uff0c\\n# \u5f53open_file_limit\u88ab\u914d\u7f6e\u7684\u65f6\u5019\uff0c\u6bd4\u8f83open_files_limit\u548cmax_connections*5\u7684\u503c\uff0c\u54ea\u4e2a\u5927\u7528\u54ea\u4e2a\u3002\\n\\ntable_open_cache = 128\\n# MySQL\u6bcf\u6253\u5f00\u4e00\u4e2a\u8868\uff0c\u90fd\u4f1a\u8bfb\u5165\u4e00\u4e9b\u6570\u636e\u5230table_open_cache\u7f13\u5b58\u4e2d\uff0c\u5f53MySQL\u5728\u8fd9\u4e2a\u7f13\u5b58\u4e2d\u627e\u4e0d\u5230\u76f8\u5e94\u4fe1\u606f\u65f6\uff0c\u624d\u4f1a\u53bb\u78c1\u76d8\u4e0a\u8bfb\u53d6\u3002\u9ed8\u8ba4\u503c64\\n# \u5047\u5b9a\u7cfb\u7edf\u6709200\u4e2a\u5e76\u53d1\u8fde\u63a5\uff0c\u5219\u9700\u5c06\u6b64\u53c2\u6570\u8bbe\u7f6e\u4e3a200*N(N\u4e3a\u6bcf\u4e2a\u8fde\u63a5\u6240\u9700\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u6570\u76ee)\uff1b\\n# \u5f53\u628atable_open_cache\u8bbe\u7f6e\u4e3a\u5f88\u5927\u65f6\uff0c\u5982\u679c\u7cfb\u7edf\u5904\u7406\u4e0d\u4e86\u90a3\u4e48\u591a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u90a3\u4e48\u5c31\u4f1a\u51fa\u73b0\u5ba2\u6237\u7aef\u5931\u6548\uff0c\u8fde\u63a5\u4e0d\u4e0a\\n\\nmax_allowed_packet = 4M\\n# \u63a5\u53d7\u7684\u6570\u636e\u5305\u5927\u5c0f\uff1b\u589e\u52a0\u8be5\u53d8\u91cf\u7684\u503c\u5341\u5206\u5b89\u5168\uff0c\u8fd9\u662f\u56e0\u4e3a\u4ec5\u5f53\u9700\u8981\u65f6\u624d\u4f1a\u5206\u914d\u989d\u5916\u5185\u5b58\u3002\u4f8b\u5982\uff0c\u4ec5\u5f53\u4f60\u53d1\u51fa\u957f\u67e5\u8be2\u6216MySQLd\u5fc5\u987b\u8fd4\u56de\u5927\u7684\u7ed3\u679c\u884c\u65f6MySQLd\u624d\u4f1a\u5206\u914d\u66f4\u591a\u5185\u5b58\u3002\\n# \u8be5\u53d8\u91cf\u4e4b\u6240\u4ee5\u53d6\u8f83\u5c0f\u9ed8\u8ba4\u503c\u662f\u4e00\u79cd\u9884\u9632\u63aa\u65bd\uff0c\u4ee5\u6355\u83b7\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u9519\u8bef\u4fe1\u606f\u5305\uff0c\u5e76\u786e\u4fdd\u4e0d\u4f1a\u56e0\u5076\u7136\u4f7f\u7528\u5927\u7684\u4fe1\u606f\u5305\u800c\u5bfc\u81f4\u5185\u5b58\u6ea2\u51fa\u3002\\n\\nbinlog_cache_size = 1M\\n# \u4e00\u4e2a\u4e8b\u52a1\uff0c\u5728\u6ca1\u6709\u63d0\u4ea4\u7684\u65f6\u5019\uff0c\u4ea7\u751f\u7684\u65e5\u5fd7\uff0c\u8bb0\u5f55\u5230Cache\u4e2d\uff1b\u7b49\u5230\u4e8b\u52a1\u63d0\u4ea4\u9700\u8981\u63d0\u4ea4\u7684\u65f6\u5019\uff0c\u5219\u628a\u65e5\u5fd7\u6301\u4e45\u5316\u5230\u78c1\u76d8\u3002\u9ed8\u8ba4binlog_cache_size\u5927\u5c0f32K\\n\\nmax_heap_table_size = 8M\\n# \u5b9a\u4e49\u4e86\u7528\u6237\u53ef\u4ee5\u521b\u5efa\u7684\u5185\u5b58\u8868(memory table)\u7684\u5927\u5c0f\u3002\u8fd9\u4e2a\u503c\u7528\u6765\u8ba1\u7b97\u5185\u5b58\u8868\u7684\u6700\u5927\u884c\u6570\u503c\u3002\u8fd9\u4e2a\u53d8\u91cf\u652f\u6301\u52a8\u6001\u6539\u53d8\\n\\ntmp_table_size = 16M\\n# MySQL\u7684heap\uff08\u5806\u79ef\uff09\u8868\u7f13\u51b2\u5927\u5c0f\u3002\u6240\u6709\u8054\u5408\u5728\u4e00\u4e2aDML\u6307\u4ee4\u5185\u5b8c\u6210\uff0c\u5e76\u4e14\u5927\u591a\u6570\u8054\u5408\u751a\u81f3\u53ef\u4ee5\u4e0d\u7528\u4e34\u65f6\u8868\u5373\u53ef\u4ee5\u5b8c\u6210\u3002\\n# \u5927\u591a\u6570\u4e34\u65f6\u8868\u662f\u57fa\u4e8e\u5185\u5b58\u7684(HEAP)\u8868\u3002\u5177\u6709\u5927\u7684\u8bb0\u5f55\u957f\u5ea6\u7684\u4e34\u65f6\u8868 (\u6240\u6709\u5217\u7684\u957f\u5ea6\u7684\u548c)\u6216\u5305\u542bBLOB\u5217\u7684\u8868\u5b58\u50a8\u5728\u786c\u76d8\u4e0a\u3002\\n# \u5982\u679c\u67d0\u4e2a\u5185\u90e8heap\uff08\u5806\u79ef\uff09\u8868\u5927\u5c0f\u8d85\u8fc7tmp_table_size\uff0cMySQL\u53ef\u4ee5\u6839\u636e\u9700\u8981\u81ea\u52a8\u5c06\u5185\u5b58\u4e2d\u7684heap\u8868\u6539\u4e3a\u57fa\u4e8e\u786c\u76d8\u7684MyISAM\u8868\u3002\u8fd8\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6etmp_table_size\u9009\u9879\u6765\u589e\u52a0\u4e34\u65f6\u8868\u7684\u5927\u5c0f\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u8c03\u9ad8\u8be5\u503c\uff0cMySQL\u540c\u65f6\u5c06\u589e\u52a0heap\u8868\u7684\u5927\u5c0f\uff0c\u53ef\u8fbe\u5230\u63d0\u9ad8\u8054\u63a5\u67e5\u8be2\u901f\u5ea6\u7684\u6548\u679c\\n\\nread_buffer_size = 2M\\n# MySQL\u8bfb\u5165\u7f13\u51b2\u533a\u5927\u5c0f\u3002\u5bf9\u8868\u8fdb\u884c\u987a\u5e8f\u626b\u63cf\u7684\u8bf7\u6c42\u5c06\u5206\u914d\u4e00\u4e2a\u8bfb\u5165\u7f13\u51b2\u533a\uff0cMySQL\u4f1a\u4e3a\u5b83\u5206\u914d\u4e00\u6bb5\u5185\u5b58\u7f13\u51b2\u533a\u3002read_buffer_size\u53d8\u91cf\u63a7\u5236\u8fd9\u4e00\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u3002\\n# \u5982\u679c\u5bf9\u8868\u7684\u987a\u5e8f\u626b\u63cf\u8bf7\u6c42\u975e\u5e38\u9891\u7e41\uff0c\u5e76\u4e14\u4f60\u8ba4\u4e3a\u9891\u7e41\u626b\u63cf\u8fdb\u884c\u5f97\u592a\u6162\uff0c\u53ef\u4ee5\u901a\u8fc7\u589e\u52a0\u8be5\u53d8\u91cf\u503c\u4ee5\u53ca\u5185\u5b58\u7f13\u51b2\u533a\u5927\u5c0f\u63d0\u9ad8\u5176\u6027\u80fd\\n\\nread_rnd_buffer_size = 8M\\n# MySQL\u7684\u968f\u673a\u8bfb\u7f13\u51b2\u533a\u5927\u5c0f\u3002\u5f53\u6309\u4efb\u610f\u987a\u5e8f\u8bfb\u53d6\u884c\u65f6(\u4f8b\u5982\uff0c\u6309\u7167\u6392\u5e8f\u987a\u5e8f)\uff0c\u5c06\u5206\u914d\u4e00\u4e2a\u968f\u673a\u8bfb\u7f13\u5b58\u533a\u3002\u8fdb\u884c\u6392\u5e8f\u67e5\u8be2\u65f6\uff0c\\n# MySQL\u4f1a\u9996\u5148\u626b\u63cf\u4e00\u904d\u8be5\u7f13\u51b2\uff0c\u4ee5\u907f\u514d\u78c1\u76d8\u641c\u7d22\uff0c\u63d0\u9ad8\u67e5\u8be2\u901f\u5ea6\uff0c\u5982\u679c\u9700\u8981\u6392\u5e8f\u5927\u91cf\u6570\u636e\uff0c\u53ef\u9002\u5f53\u8c03\u9ad8\u8be5\u503c\u3002\u4f46MySQL\u4f1a\u4e3a\u6bcf\u4e2a\u5ba2\u6237\u8fde\u63a5\u53d1\u653e\u8be5\u7f13\u51b2\u7a7a\u95f4\uff0c\u6240\u4ee5\u5e94\u5c3d\u91cf\u9002\u5f53\u8bbe\u7f6e\u8be5\u503c\uff0c\u4ee5\u907f\u514d\u5185\u5b58\u5f00\u9500\u8fc7\u5927\\n\\nsort_buffer_size = 8M\\n# MySQL\u6267\u884c\u6392\u5e8f\u4f7f\u7528\u7684\u7f13\u51b2\u5927\u5c0f\u3002\u5982\u679c\u60f3\u8981\u589e\u52a0ORDER BY\u7684\u901f\u5ea6\uff0c\u9996\u5148\u770b\u662f\u5426\u53ef\u4ee5\u8ba9MySQL\u4f7f\u7528\u7d22\u5f15\u800c\u4e0d\u662f\u989d\u5916\u7684\u6392\u5e8f\u9636\u6bb5\u3002\\n# \u5982\u679c\u4e0d\u80fd\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u589e\u52a0sort_buffer_size\u53d8\u91cf\u7684\u5927\u5c0f\\n\\njoin_buffer_size = 8M\\n# \u8054\u5408\u67e5\u8be2\u64cd\u4f5c\u6240\u80fd\u4f7f\u7528\u7684\u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u548csort_buffer_size\u4e00\u6837\uff0c\u8be5\u53c2\u6570\u5bf9\u5e94\u7684\u5206\u914d\u5185\u5b58\u4e5f\u662f\u6bcf\u8fde\u63a5\u72ec\u4eab\\n\\nthread_cache_size = 8\\n# \u8fd9\u4e2a\u503c\uff08\u9ed8\u8ba48\uff09\u8868\u793a\u53ef\u4ee5\u91cd\u65b0\u5229\u7528\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\u7ebf\u7a0b\u7684\u6570\u91cf\uff0c\u5f53\u65ad\u5f00\u8fde\u63a5\u65f6\u5982\u679c\u7f13\u5b58\u4e2d\u8fd8\u6709\u7a7a\u95f4\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u7684\u7ebf\u7a0b\u5c06\u88ab\u653e\u5230\u7f13\u5b58\u4e2d\uff0c\\n# \u5982\u679c\u7ebf\u7a0b\u91cd\u65b0\u88ab\u8bf7\u6c42\uff0c\u90a3\u4e48\u8bf7\u6c42\u5c06\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6,\u5982\u679c\u7f13\u5b58\u4e2d\u662f\u7a7a\u7684\u6216\u8005\u662f\u65b0\u7684\u8bf7\u6c42\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7ebf\u7a0b\u5c06\u88ab\u91cd\u65b0\u521b\u5efa,\u5982\u679c\u6709\u5f88\u591a\u65b0\u7684\u7ebf\u7a0b\uff0c\\n# \u589e\u52a0\u8fd9\u4e2a\u503c\u53ef\u4ee5\u6539\u5584\u7cfb\u7edf\u6027\u80fd.\u901a\u8fc7\u6bd4\u8f83Connections\u548cThreads_created\u72b6\u6001\u7684\u53d8\u91cf\uff0c\u53ef\u4ee5\u770b\u5230\u8fd9\u4e2a\u53d8\u91cf\u7684\u4f5c\u7528\u3002(\u2013>\u8868\u793a\u8981\u8c03\u6574\u7684\u503c)\\n# \u6839\u636e\u7269\u7406\u5185\u5b58\u8bbe\u7f6e\u89c4\u5219\u5982\u4e0b\uff1a\\n# 1G  \u2014> 8\\n# 2G  \u2014> 16\\n# 3G  \u2014> 32\\n# \u5927\u4e8e3G  \u2014> 64\\n\\nquery_cache_size = 8M\\n#MySQL\u7684\u67e5\u8be2\u7f13\u51b2\u5927\u5c0f\uff08\u4ece4.0.1\u5f00\u59cb\uff0cMySQL\u63d0\u4f9b\u4e86\u67e5\u8be2\u7f13\u51b2\u673a\u5236\uff09\u4f7f\u7528\u67e5\u8be2\u7f13\u51b2\uff0cMySQL\u5c06SELECT\u8bed\u53e5\u548c\u67e5\u8be2\u7ed3\u679c\u5b58\u653e\u5728\u7f13\u51b2\u533a\u4e2d\uff0c\\n# \u4eca\u540e\u5bf9\u4e8e\u540c\u6837\u7684SELECT\u8bed\u53e5\uff08\u533a\u5206\u5927\u5c0f\u5199\uff09\uff0c\u5c06\u76f4\u63a5\u4ece\u7f13\u51b2\u533a\u4e2d\u8bfb\u53d6\u7ed3\u679c\u3002\u6839\u636eMySQL\u7528\u6237\u624b\u518c\uff0c\u4f7f\u7528\u67e5\u8be2\u7f13\u51b2\u6700\u591a\u53ef\u4ee5\u8fbe\u5230238%\u7684\u6548\u7387\u3002\\n# \u901a\u8fc7\u68c0\u67e5\u72b6\u6001\u503c\'Qcache_%\'\uff0c\u53ef\u4ee5\u77e5\u9053query_cache_size\u8bbe\u7f6e\u662f\u5426\u5408\u7406\uff1a\u5982\u679cQcache_lowmem_prunes\u7684\u503c\u975e\u5e38\u5927\uff0c\u5219\u8868\u660e\u7ecf\u5e38\u51fa\u73b0\u7f13\u51b2\u4e0d\u591f\u7684\u60c5\u51b5\uff0c\\n# \u5982\u679cQcache_hits\u7684\u503c\u4e5f\u975e\u5e38\u5927\uff0c\u5219\u8868\u660e\u67e5\u8be2\u7f13\u51b2\u4f7f\u7528\u975e\u5e38\u9891\u7e41\uff0c\u6b64\u65f6\u9700\u8981\u589e\u52a0\u7f13\u51b2\u5927\u5c0f\uff1b\u5982\u679cQcache_hits\u7684\u503c\u4e0d\u5927\uff0c\u5219\u8868\u660e\u4f60\u7684\u67e5\u8be2\u91cd\u590d\u7387\u5f88\u4f4e\uff0c\\n# \u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f7f\u7528\u67e5\u8be2\u7f13\u51b2\u53cd\u800c\u4f1a\u5f71\u54cd\u6548\u7387\uff0c\u90a3\u4e48\u53ef\u4ee5\u8003\u8651\u4e0d\u7528\u67e5\u8be2\u7f13\u51b2\u3002\u6b64\u5916\uff0c\u5728SELECT\u8bed\u53e5\u4e2d\u52a0\u5165SQL_NO_CACHE\u53ef\u4ee5\u660e\u786e\u8868\u793a\u4e0d\u4f7f\u7528\u67e5\u8be2\u7f13\u51b2\\n\\nquery_cache_limit = 2M\\n#\u6307\u5b9a\u5355\u4e2a\u67e5\u8be2\u80fd\u591f\u4f7f\u7528\u7684\u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u9ed8\u8ba41M\\n\\nkey_buffer_size = 4M\\n#\u6307\u5b9a\u7528\u4e8e\u7d22\u5f15\u7684\u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u589e\u52a0\u5b83\u53ef\u5f97\u5230\u66f4\u597d\u5904\u7406\u7684\u7d22\u5f15(\u5bf9\u6240\u6709\u8bfb\u548c\u591a\u91cd\u5199)\uff0c\u5230\u4f60\u80fd\u8d1f\u62c5\u5f97\u8d77\u90a3\u6837\u591a\u3002\u5982\u679c\u4f60\u4f7f\u5b83\u592a\u5927\uff0c\\n# \u7cfb\u7edf\u5c06\u5f00\u59cb\u6362\u9875\u5e76\u4e14\u771f\u7684\u53d8\u6162\u4e86\u3002\u5bf9\u4e8e\u5185\u5b58\u57284GB\u5de6\u53f3\u7684\u670d\u52a1\u5668\u8be5\u53c2\u6570\u53ef\u8bbe\u7f6e\u4e3a384M\u6216512M\u3002\u901a\u8fc7\u68c0\u67e5\u72b6\u6001\u503cKey_read_requests\u548cKey_reads\uff0c\\n# \u53ef\u4ee5\u77e5\u9053key_buffer_size\u8bbe\u7f6e\u662f\u5426\u5408\u7406\u3002\u6bd4\u4f8bkey_reads/key_read_requests\u5e94\u8be5\u5c3d\u53ef\u80fd\u7684\u4f4e\uff0c\\n# \u81f3\u5c11\u662f1:100\uff0c1:1000\u66f4\u597d(\u4e0a\u8ff0\u72b6\u6001\u503c\u53ef\u4ee5\u4f7f\u7528SHOW STATUS LIKE \'key_read%\'\u83b7\u5f97)\u3002\u6ce8\u610f\uff1a\u8be5\u53c2\u6570\u503c\u8bbe\u7f6e\u7684\u8fc7\u5927\u53cd\u800c\u4f1a\u662f\u670d\u52a1\u5668\u6574\u4f53\u6548\u7387\u964d\u4f4e\\n\\nft_min_word_len = 4\\n# \u5206\u8bcd\u8bcd\u6c47\u6700\u5c0f\u957f\u5ea6\uff0c\u9ed8\u8ba44\\n\\ntransaction_isolation = REPEATABLE-READ\\n# MySQL\u652f\u63014\u79cd\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff0c\u4ed6\u4eec\u5206\u522b\u662f\uff1a\\n# READ-UNCOMMITTED, READ-COMMITTED, REPEATABLE-READ, SERIALIZABLE.\\n# \u5982\u6ca1\u6709\u6307\u5b9a\uff0cMySQL\u9ed8\u8ba4\u91c7\u7528\u7684\u662fREPEATABLE-READ\uff0cORACLE\u9ed8\u8ba4\u7684\u662fREAD-COMMITTED\\n\\nlog_bin = mysql-bin\\nbinlog_format = mixed\\nexpire_logs_days = 30 #\u8d85\u8fc730\u5929\u7684binlog\u5220\u9664\\n\\nlog_error = /data/mysql/mysql-error.log #\u9519\u8bef\u65e5\u5fd7\u8def\u5f84\\nslow_query_log = 1\\nlong_query_time = 1 #\u6162\u67e5\u8be2\u65f6\u95f4 \u8d85\u8fc71\u79d2\u5219\u4e3a\u6162\u67e5\u8be2\\nslow_query_log_file = /data/mysql/mysql-slow.log\\n\\nperformance_schema = 0\\nexplicit_defaults_for_timestamp\\n\\n#lower_case_table_names = 1 #\u4e0d\u533a\u5206\u5927\u5c0f\u5199\\n\\nskip-external-locking #MySQL\u9009\u9879\u4ee5\u907f\u514d\u5916\u90e8\u9501\u5b9a\u3002\u8be5\u9009\u9879\u9ed8\u8ba4\u5f00\u542f\\n\\ndefault-storage-engine = InnoDB #\u9ed8\u8ba4\u5b58\u50a8\u5f15\u64ce\\n\\ninnodb_file_per_table = 1\\n# InnoDB\u4e3a\u72ec\u7acb\u8868\u7a7a\u95f4\u6a21\u5f0f\uff0c\u6bcf\u4e2a\u6570\u636e\u5e93\u7684\u6bcf\u4e2a\u8868\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u6570\u636e\u7a7a\u95f4\\n# \u72ec\u7acb\u8868\u7a7a\u95f4\u4f18\u70b9\uff1a\\n# 1\uff0e\u6bcf\u4e2a\u8868\u90fd\u6709\u81ea\u5df2\u72ec\u7acb\u7684\u8868\u7a7a\u95f4\u3002\\n# 2\uff0e\u6bcf\u4e2a\u8868\u7684\u6570\u636e\u548c\u7d22\u5f15\u90fd\u4f1a\u5b58\u5728\u81ea\u5df2\u7684\u8868\u7a7a\u95f4\u4e2d\u3002\\n# 3\uff0e\u53ef\u4ee5\u5b9e\u73b0\u5355\u8868\u5728\u4e0d\u540c\u7684\u6570\u636e\u5e93\u4e2d\u79fb\u52a8\u3002\\n# 4\uff0e\u7a7a\u95f4\u53ef\u4ee5\u56de\u6536\uff08\u9664drop table\u64cd\u4f5c\u5904\uff0c\u8868\u7a7a\u4e0d\u80fd\u81ea\u5df2\u56de\u6536\uff09\\n# \u7f3a\u70b9\uff1a\\n# \u5355\u8868\u589e\u52a0\u8fc7\u5927\uff0c\u5982\u8d85\u8fc7100G\\n# \u7ed3\u8bba\uff1a\\n# \u5171\u4eab\u8868\u7a7a\u95f4\u5728Insert\u64cd\u4f5c\u4e0a\u5c11\u6709\u4f18\u52bf\u3002\u5176\u5b83\u90fd\u6ca1\u72ec\u7acb\u8868\u7a7a\u95f4\u8868\u73b0\u597d\u3002\u5f53\u542f\u7528\u72ec\u7acb\u8868\u7a7a\u95f4\u65f6\uff0c\u8bf7\u5408\u7406\u8c03\u6574\uff1ainnodb_open_files\\n\\ninnodb_open_files = 500\\n# \u9650\u5236Innodb\u80fd\u6253\u5f00\u7684\u8868\u7684\u6570\u636e\uff0c\u5982\u679c\u5e93\u91cc\u7684\u8868\u7279\u522b\u591a\u7684\u60c5\u51b5\uff0c\u8bf7\u589e\u52a0\u8fd9\u4e2a\u3002\u8fd9\u4e2a\u503c\u9ed8\u8ba4\u662f300\\n\\ninnodb_buffer_pool_size = 64M\\n# InnoDB\u4f7f\u7528\u4e00\u4e2a\u7f13\u51b2\u6c60\u6765\u4fdd\u5b58\u7d22\u5f15\u548c\u539f\u59cb\u6570\u636e, \u4e0d\u50cfMyISAM.\\n# \u8fd9\u91cc\u4f60\u8bbe\u7f6e\u8d8a\u5927,\u4f60\u5728\u5b58\u53d6\u8868\u91cc\u9762\u6570\u636e\u65f6\u6240\u9700\u8981\u7684\u78c1\u76d8I/O\u8d8a\u5c11.\\n# \u5728\u4e00\u4e2a\u72ec\u7acb\u4f7f\u7528\u7684\u6570\u636e\u5e93\u670d\u52a1\u5668\u4e0a,\u4f60\u53ef\u4ee5\u8bbe\u7f6e\u8fd9\u4e2a\u53d8\u91cf\u5230\u670d\u52a1\u5668\u7269\u7406\u5185\u5b58\u5927\u5c0f\u768480%\\n# \u4e0d\u8981\u8bbe\u7f6e\u8fc7\u5927,\u5426\u5219,\u7531\u4e8e\u7269\u7406\u5185\u5b58\u7684\u7ade\u4e89\u53ef\u80fd\u5bfc\u81f4\u64cd\u4f5c\u7cfb\u7edf\u7684\u6362\u9875\u98a0\u7c38.\\n# \u6ce8\u610f\u572832\u4f4d\u7cfb\u7edf\u4e0a\u4f60\u6bcf\u4e2a\u8fdb\u7a0b\u53ef\u80fd\u88ab\u9650\u5236\u5728 2-3.5G \u7528\u6237\u5c42\u9762\u5185\u5b58\u9650\u5236,\\n# \u6240\u4ee5\u4e0d\u8981\u8bbe\u7f6e\u7684\u592a\u9ad8.\\n\\ninnodb_write_io_threads = 4\\ninnodb_read_io_threads = 4\\n# innodb\u4f7f\u7528\u540e\u53f0\u7ebf\u7a0b\u5904\u7406\u6570\u636e\u9875\u4e0a\u7684\u8bfb\u5199 I/O(\u8f93\u5165\u8f93\u51fa)\u8bf7\u6c42,\u6839\u636e\u4f60\u7684 CPU \u6838\u6570\u6765\u66f4\u6539,\u9ed8\u8ba4\u662f4\\n# \u6ce8:\u8fd9\u4e24\u4e2a\u53c2\u6570\u4e0d\u652f\u6301\u52a8\u6001\u6539\u53d8,\u9700\u8981\u628a\u8be5\u53c2\u6570\u52a0\u5165\u5230my.cnf\u91cc\uff0c\u4fee\u6539\u5b8c\u540e\u91cd\u542fMySQL\u670d\u52a1,\u5141\u8bb8\u503c\u7684\u8303\u56f4\u4ece 1-64\\n\\ninnodb_thread_concurrency = 0\\n# \u9ed8\u8ba4\u8bbe\u7f6e\u4e3a 0,\u8868\u793a\u4e0d\u9650\u5236\u5e76\u53d1\u6570\uff0c\u8fd9\u91cc\u63a8\u8350\u8bbe\u7f6e\u4e3a0\uff0c\u66f4\u597d\u53bb\u53d1\u6325CPU\u591a\u6838\u5904\u7406\u80fd\u529b\uff0c\u63d0\u9ad8\u5e76\u53d1\u91cf\\n\\ninnodb_purge_threads = 1\\n# InnoDB\u4e2d\u7684\u6e05\u9664\u64cd\u4f5c\u662f\u4e00\u7c7b\u5b9a\u671f\u56de\u6536\u65e0\u7528\u6570\u636e\u7684\u64cd\u4f5c\u3002\u5728\u4e4b\u524d\u7684\u51e0\u4e2a\u7248\u672c\u4e2d\uff0c\u6e05\u9664\u64cd\u4f5c\u662f\u4e3b\u7ebf\u7a0b\u7684\u4e00\u90e8\u5206\uff0c\u8fd9\u610f\u5473\u7740\u8fd0\u884c\u65f6\u5b83\u53ef\u80fd\u4f1a\u5835\u585e\u5176\u5b83\u7684\u6570\u636e\u5e93\u64cd\u4f5c\u3002\\n# \u4eceMySQL5.5.X\u7248\u672c\u5f00\u59cb\uff0c\u8be5\u64cd\u4f5c\u8fd0\u884c\u4e8e\u72ec\u7acb\u7684\u7ebf\u7a0b\u4e2d,\u5e76\u652f\u6301\u66f4\u591a\u7684\u5e76\u53d1\u6570\u3002\u7528\u6237\u53ef\u901a\u8fc7\u8bbe\u7f6einnodb_purge_threads\u914d\u7f6e\u53c2\u6570\u6765\u9009\u62e9\u6e05\u9664\u64cd\u4f5c\u662f\u5426\u4f7f\u7528\u5355\\n# \u72ec\u7ebf\u7a0b,\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u53c2\u6570\u8bbe\u7f6e\u4e3a0(\u4e0d\u4f7f\u7528\u5355\u72ec\u7ebf\u7a0b),\u8bbe\u7f6e\u4e3a 1 \u65f6\u8868\u793a\u4f7f\u7528\u5355\u72ec\u7684\u6e05\u9664\u7ebf\u7a0b\u3002\u5efa\u8bae\u4e3a1\\n\\ninnodb_flush_log_at_trx_commit = 2\\n# 0\uff1a\u5982\u679cinnodb_flush_log_at_trx_commit\u7684\u503c\u4e3a0,log buffer\u6bcf\u79d2\u5c31\u4f1a\u88ab\u5237\u5199\u65e5\u5fd7\u6587\u4ef6\u5230\u78c1\u76d8\uff0c\u63d0\u4ea4\u4e8b\u52a1\u7684\u65f6\u5019\u4e0d\u505a\u4efb\u4f55\u64cd\u4f5c\uff08\u6267\u884c\u662f\u7531mysql\u7684master thread\u7ebf\u7a0b\u6765\u6267\u884c\u7684\u3002\\n# \u4e3b\u7ebf\u7a0b\u4e2d\u6bcf\u79d2\u4f1a\u5c06\u91cd\u505a\u65e5\u5fd7\u7f13\u51b2\u5199\u5165\u78c1\u76d8\u7684\u91cd\u505a\u65e5\u5fd7\u6587\u4ef6(REDO LOG)\u4e2d\u3002\u4e0d\u8bba\u4e8b\u52a1\u662f\u5426\u5df2\u7ecf\u63d0\u4ea4\uff09\u9ed8\u8ba4\u7684\u65e5\u5fd7\u6587\u4ef6\u662fib_logfile0,ib_logfile1\\n# 1\uff1a\u5f53\u8bbe\u4e3a\u9ed8\u8ba4\u503c1\u7684\u65f6\u5019\uff0c\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u7684\u65f6\u5019\uff0c\u90fd\u4f1a\u5c06log buffer\u5237\u5199\u5230\u65e5\u5fd7\u3002\\n# 2\uff1a\u5982\u679c\u8bbe\u4e3a2,\u6bcf\u6b21\u63d0\u4ea4\u4e8b\u52a1\u90fd\u4f1a\u5199\u65e5\u5fd7\uff0c\u4f46\u5e76\u4e0d\u4f1a\u6267\u884c\u5237\u7684\u64cd\u4f5c\u3002\u6bcf\u79d2\u5b9a\u65f6\u4f1a\u5237\u5230\u65e5\u5fd7\u6587\u4ef6\u3002\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5e76\u4e0d\u80fd\u4fdd\u8bc1100%\u6bcf\u79d2\u4e00\u5b9a\u90fd\u4f1a\u5237\u5230\u78c1\u76d8\uff0c\u8fd9\u8981\u53d6\u51b3\u4e8e\u8fdb\u7a0b\u7684\u8c03\u5ea6\u3002\\n# \u6bcf\u6b21\u4e8b\u52a1\u63d0\u4ea4\u7684\u65f6\u5019\u5c06\u6570\u636e\u5199\u5165\u4e8b\u52a1\u65e5\u5fd7\uff0c\u800c\u8fd9\u91cc\u7684\u5199\u5165\u4ec5\u662f\u8c03\u7528\u4e86\u6587\u4ef6\u7cfb\u7edf\u7684\u5199\u5165\u64cd\u4f5c\uff0c\u800c\u6587\u4ef6\u7cfb\u7edf\u662f\u6709 \u7f13\u5b58\u7684\uff0c\u6240\u4ee5\u8fd9\u4e2a\u5199\u5165\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u6570\u636e\u5df2\u7ecf\u5199\u5165\u5230\u7269\u7406\u78c1\u76d8\\n# \u9ed8\u8ba4\u503c1\u662f\u4e3a\u4e86\u4fdd\u8bc1\u5b8c\u6574\u7684ACID\u3002\u5f53\u7136\uff0c\u4f60\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u914d\u7f6e\u9879\u8bbe\u4e3a1\u4ee5\u5916\u7684\u503c\u6765\u6362\u53d6\u66f4\u9ad8\u7684\u6027\u80fd\uff0c\u4f46\u662f\u5728\u7cfb\u7edf\u5d29\u6e83\u7684\u65f6\u5019\uff0c\u4f60\u5c06\u4f1a\u4e22\u59311\u79d2\u7684\u6570\u636e\u3002\\n# \u8bbe\u4e3a0\u7684\u8bdd\uff0cmysqld\u8fdb\u7a0b\u5d29\u6e83\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u4e22\u5931\u6700\u540e1\u79d2\u7684\u4e8b\u52a1\u3002\u8bbe\u4e3a2,\u53ea\u6709\u5728\u64cd\u4f5c\u7cfb\u7edf\u5d29\u6e83\u6216\u8005\u65ad\u7535\u7684\u65f6\u5019\u624d\u4f1a\u4e22\u5931\u6700\u540e1\u79d2\u7684\u6570\u636e\u3002InnoDB\u5728\u505a\u6062\u590d\u7684\u65f6\u5019\u4f1a\u5ffd\u7565\u8fd9\u4e2a\u503c\u3002\\n# \u603b\u7ed3\\n# \u8bbe\u4e3a1\u5f53\u7136\u662f\u6700\u5b89\u5168\u7684\uff0c\u4f46\u6027\u80fd\u9875\u662f\u6700\u5dee\u7684\uff08\u76f8\u5bf9\u5176\u4ed6\u4e24\u4e2a\u53c2\u6570\u800c\u8a00\uff0c\u4f46\u4e0d\u662f\u4e0d\u80fd\u63a5\u53d7\uff09\u3002\u5982\u679c\u5bf9\u6570\u636e\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u8981\u6c42\u4e0d\u9ad8\uff0c\u5b8c\u5168\u53ef\u4ee5\u8bbe\u4e3a2\uff0c\u5982\u679c\u53ea\u6700\u6c42\u6027\u80fd\uff0c\u4f8b\u5982\u9ad8\u5e76\u53d1\u5199\u7684\u65e5\u5fd7\u670d\u52a1\u5668\uff0c\u8bbe\u4e3a0\u6765\u83b7\u5f97\u66f4\u9ad8\u6027\u80fd\\n\\ninnodb_log_buffer_size = 2M\\n# \u6b64\u53c2\u6570\u786e\u5b9a\u4e9b\u65e5\u5fd7\u6587\u4ef6\u6240\u7528\u7684\u5185\u5b58\u5927\u5c0f\uff0c\u4ee5M\u4e3a\u5355\u4f4d\u3002\u7f13\u51b2\u533a\u66f4\u5927\u80fd\u63d0\u9ad8\u6027\u80fd\uff0c\u4f46\u610f\u5916\u7684\u6545\u969c\u5c06\u4f1a\u4e22\u5931\u6570\u636e\u3002MySQL\u5f00\u53d1\u4eba\u5458\u5efa\u8bae\u8bbe\u7f6e\u4e3a1\uff0d8M\u4e4b\u95f4\\n\\ninnodb_log_file_size = 32M\\n# \u6b64\u53c2\u6570\u786e\u5b9a\u6570\u636e\u65e5\u5fd7\u6587\u4ef6\u7684\u5927\u5c0f\uff0c\u66f4\u5927\u7684\u8bbe\u7f6e\u53ef\u4ee5\u63d0\u9ad8\u6027\u80fd\uff0c\u4f46\u4e5f\u4f1a\u589e\u52a0\u6062\u590d\u6545\u969c\u6570\u636e\u5e93\u6240\u9700\u7684\u65f6\u95f4\\n\\ninnodb_log_files_in_group = 3\\n# \u4e3a\u63d0\u9ad8\u6027\u80fd\uff0cMySQL\u53ef\u4ee5\u4ee5\u5faa\u73af\u65b9\u5f0f\u5c06\u65e5\u5fd7\u6587\u4ef6\u5199\u5230\u591a\u4e2a\u6587\u4ef6\u3002\u63a8\u8350\u8bbe\u7f6e\u4e3a3\\n\\ninnodb_max_dirty_pages_pct = 90\\n# innodb\u4e3b\u7ebf\u7a0b\u5237\u65b0\u7f13\u5b58\u6c60\u4e2d\u7684\u6570\u636e\uff0c\u4f7f\u810f\u6570\u636e\u6bd4\u4f8b\u5c0f\u4e8e90%\\n\\ninnodb_lock_wait_timeout = 120 \\n# InnoDB\u4e8b\u52a1\u5728\u88ab\u56de\u6eda\u4e4b\u524d\u53ef\u4ee5\u7b49\u5f85\u4e00\u4e2a\u9501\u5b9a\u7684\u8d85\u65f6\u79d2\u6570\u3002InnoDB\u5728\u5b83\u81ea\u5df1\u7684\u9501\u5b9a\u8868\u4e2d\u81ea\u52a8\u68c0\u6d4b\u4e8b\u52a1\u6b7b\u9501\u5e76\u4e14\u56de\u6eda\u4e8b\u52a1\u3002InnoDB\u7528LOCK TABLES\u8bed\u53e5\u6ce8\u610f\u5230\u9501\u5b9a\u8bbe\u7f6e\u3002\u9ed8\u8ba4\u503c\u662f50\u79d2\\n\\nbulk_insert_buffer_size = 8M\\n# \u6279\u91cf\u63d2\u5165\u7f13\u5b58\u5927\u5c0f\uff0c \u8fd9\u4e2a\u53c2\u6570\u662f\u9488\u5bf9MyISAM\u5b58\u50a8\u5f15\u64ce\u6765\u8bf4\u7684\u3002\u9002\u7528\u4e8e\u5728\u4e00\u6b21\u6027\u63d2\u5165100-1000+\u6761\u8bb0\u5f55\u65f6\uff0c \u63d0\u9ad8\u6548\u7387\u3002\u9ed8\u8ba4\u503c\u662f8M\u3002\u53ef\u4ee5\u9488\u5bf9\u6570\u636e\u91cf\u7684\u5927\u5c0f\uff0c\u7ffb\u500d\u589e\u52a0\u3002\\n\\nmyisam_sort_buffer_size = 8M\\n# MyISAM\u8bbe\u7f6e\u6062\u590d\u8868\u4e4b\u65f6\u4f7f\u7528\u7684\u7f13\u51b2\u533a\u7684\u5c3a\u5bf8\uff0c\u5f53\u5728REPAIR TABLE\u6216\u7528CREATE INDEX\u521b\u5efa\u7d22\u5f15\u6216ALTER TABLE\u8fc7\u7a0b\u4e2d\u6392\u5e8f MyISAM\u7d22\u5f15\u5206\u914d\u7684\u7f13\u51b2\u533a\\n\\nmyisam_max_sort_file_size = 10G\\n# \u5982\u679c\u4e34\u65f6\u6587\u4ef6\u4f1a\u53d8\u5f97\u8d85\u8fc7\u7d22\u5f15\uff0c\u4e0d\u8981\u4f7f\u7528\u5feb\u901f\u6392\u5e8f\u7d22\u5f15\u65b9\u6cd5\u6765\u521b\u5efa\u4e00\u4e2a\u7d22\u5f15\u3002\u6ce8\u91ca\uff1a\u8fd9\u4e2a\u53c2\u6570\u4ee5\u5b57\u8282\u7684\u5f62\u5f0f\u7ed9\u51fa\\n\\nmyisam_repair_threads = 1\\n# \u5982\u679c\u8be5\u503c\u5927\u4e8e1\uff0c\u5728Repair by sorting\u8fc7\u7a0b\u4e2d\u5e76\u884c\u521b\u5efaMyISAM\u8868\u7d22\u5f15(\u6bcf\u4e2a\u7d22\u5f15\u5728\u81ea\u5df1\u7684\u7ebf\u7a0b\u5185) \\n\\ninteractive_timeout = 28800\\n# \u670d\u52a1\u5668\u5173\u95ed\u4ea4\u4e92\u5f0f\u8fde\u63a5\u524d\u7b49\u5f85\u6d3b\u52a8\u7684\u79d2\u6570\u3002\u4ea4\u4e92\u5f0f\u5ba2\u6237\u7aef\u5b9a\u4e49\u4e3a\u5728mysql_real_connect()\u4e2d\u4f7f\u7528CLIENT_INTERACTIVE\u9009\u9879\u7684\u5ba2\u6237\u7aef\u3002\u9ed8\u8ba4\u503c\uff1a28800\u79d2\uff088\u5c0f\u65f6\uff09\\n\\nwait_timeout = 28800\\n# \u670d\u52a1\u5668\u5173\u95ed\u975e\u4ea4\u4e92\u8fde\u63a5\u4e4b\u524d\u7b49\u5f85\u6d3b\u52a8\u7684\u79d2\u6570\u3002\u5728\u7ebf\u7a0b\u542f\u52a8\u65f6\uff0c\u6839\u636e\u5168\u5c40wait_timeout\u503c\u6216\u5168\u5c40interactive_timeout\u503c\u521d\u59cb\u5316\u4f1a\u8bddwait_timeout\u503c\uff0c\\n# \u53d6\u51b3\u4e8e\u5ba2\u6237\u7aef\u7c7b\u578b(\u7531mysql_real_connect()\u7684\u8fde\u63a5\u9009\u9879CLIENT_INTERACTIVE\u5b9a\u4e49)\u3002\u53c2\u6570\u9ed8\u8ba4\u503c\uff1a28800\u79d2\uff088\u5c0f\u65f6\uff09\\n# MySQL\u670d\u52a1\u5668\u6240\u652f\u6301\u7684\u6700\u5927\u8fde\u63a5\u6570\u662f\u6709\u4e0a\u9650\u7684\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u8fde\u63a5\u7684\u5efa\u7acb\u90fd\u4f1a\u6d88\u8017\u5185\u5b58\uff0c\u56e0\u6b64\u6211\u4eec\u5e0c\u671b\u5ba2\u6237\u7aef\u5728\u8fde\u63a5\u5230MySQL Server\u5904\u7406\u5b8c\u76f8\u5e94\u7684\u64cd\u4f5c\u540e\uff0c\\n# \u5e94\u8be5\u65ad\u5f00\u8fde\u63a5\u5e76\u91ca\u653e\u5360\u7528\u7684\u5185\u5b58\u3002\u5982\u679c\u4f60\u7684MySQL Server\u6709\u5927\u91cf\u7684\u95f2\u7f6e\u8fde\u63a5\uff0c\u4ed6\u4eec\u4e0d\u4ec5\u4f1a\u767d\u767d\u6d88\u8017\u5185\u5b58\uff0c\u800c\u4e14\u5982\u679c\u8fde\u63a5\u4e00\u76f4\u5728\u7d2f\u52a0\u800c\u4e0d\u65ad\u5f00\uff0c\\n# \u6700\u7ec8\u80af\u5b9a\u4f1a\u8fbe\u5230MySQL Server\u7684\u8fde\u63a5\u4e0a\u9650\u6570\uff0c\u8fd9\u4f1a\u62a5\'too many connections\'\u7684\u9519\u8bef\u3002\u5bf9\u4e8ewait_timeout\u7684\u503c\u8bbe\u5b9a\uff0c\u5e94\u8be5\u6839\u636e\u7cfb\u7edf\u7684\u8fd0\u884c\u60c5\u51b5\u6765\u5224\u65ad\u3002\\n# \u5728\u7cfb\u7edf\u8fd0\u884c\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7show processlist\u547d\u4ee4\u67e5\u770b\u5f53\u524d\u7cfb\u7edf\u7684\u8fde\u63a5\u72b6\u6001\uff0c\u5982\u679c\u53d1\u73b0\u6709\u5927\u91cf\u7684sleep\u72b6\u6001\u7684\u8fde\u63a5\u8fdb\u7a0b\uff0c\u5219\u8bf4\u660e\u8be5\u53c2\u6570\u8bbe\u7f6e\u7684\u8fc7\u5927\uff0c\\n# \u53ef\u4ee5\u8fdb\u884c\u9002\u5f53\u7684\u8c03\u6574\u5c0f\u4e9b\u3002\u8981\u540c\u65f6\u8bbe\u7f6einteractive_timeout\u548cwait_timeout\u624d\u4f1a\u751f\u6548\u3002\\n\\n[mysqldump]\\nquick\\nmax_allowed_packet = 16M #\u670d\u52a1\u5668\u53d1\u9001\u548c\u63a5\u53d7\u7684\u6700\u5927\u5305\u957f\u5ea6\\n\\n[myisamchk]\\nkey_buffer_size = 8M\\nsort_buffer_size = 8M\\nread_buffer = 4M\\nwrite_buffer = 4M\\n```\\n","isLeaf":true},{"key":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/02-\u5b89\u88c5\u90e8\u7f72.md","path":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/02-\u5b89\u88c5\u90e8\u7f72.md","route":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/02-\u5b89\u88c5\u90e8\u7f72.md","leaf":true,"title":"02-\u5b89\u88c5\u90e8\u7f72","depth":2,"content":"---\\ntitle: 02-\u5b89\u88c5\u90e8\u7f72\\n---\\n\\n### 1. docker \u5b89\u88c5\\n\\n\u955c\u50cf\u5730\u5740 <https://hub.docker.com/_/mysql?tab=tags>\\n\\n```shell\\ndocker pull mysql\\ndocker run -itd --name mysql-test -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 mysql\\n```\\n\\n- 3306:3306 \uff1a`\u5bbf\u4e3b\u673a\u7aef\u53e3:\u5bb9\u5668\u7aef\u53e3`\uff0c\u5916\u90e8\u4e3b\u673a\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 `\u5bbf\u4e3b\u673aip:3306` \u8bbf\u95ee\u5230 MySQL \u7684\u670d\u52a1\u3002\\n- MYSQL\\\\_ROOT\\\\_PASSWORD=123456\uff1a\u8bbe\u7f6e MySQL \u670d\u52a1 root \u7528\u6237\u7684\u5bc6\u7801\u3002\\n\\n### 2. \u670d\u52a1\u542f\u52a8\\n\\n**MacOS**\\n\\n```bash\\nbrew services start mysql\\n```\\n\\n**window**\\n\\n```bash\\nmysql> net stop mysql\\nmysql> net start mysql\\n```\\n\\n**docker**\\n```shell\\ndocker stop $containerId\\ndocker start $containerId\\n```\\n\\n### Windows\\n\\nMySQL\u542f\u52a8\uff0c\u505c\u6b62\uff0c\u91cd\u542f\u65b9\u6cd5\uff1a\\n\\n\u4e00\u3001\u542f\u52a8\u65b9\u5f0f\\n\\n1\u3001\u4f7f\u7528 service \u542f\u52a8\uff1aservice mysqld start\\n\\n2\u3001\u4f7f\u7528 mysqld \u811a\u672c\u542f\u52a8\uff1a/etc/inint.d/mysqld start\\n\\n3\u3001\u4f7f\u7528 safe_mysqld \u542f\u52a8\uff1asafe_mysqld&\\n\\n\u4e8c\u3001\u505c\u6b62\\n\\n1\u3001\u4f7f\u7528 service \u542f\u52a8\uff1aservice mysqld stop\\n\\n2\u3001\u4f7f\u7528 mysqld \u811a\u672c\u542f\u52a8\uff1a/etc/inint.d/mysqld stop\\n\\n3\u3001mysqladmin shutdown\\n\\n\u4e09\u3001\u91cd\u542f\\n\\n1\u3001\u4f7f\u7528 service \u542f\u52a8\uff1aservice mysqld restart\\n\\n2\u3001\u4f7f\u7528 mysqld \u811a\u672c\u542f\u52a8\uff1a/etc/inint.d/mysqld restart","isLeaf":true},{"key":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/03-\u767b\u5f55\u64cd\u4f5c.md","path":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/03-\u767b\u5f55\u64cd\u4f5c.md","route":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/03-\u767b\u5f55\u64cd\u4f5c.md","leaf":true,"title":"03-\u767b\u5f55\u64cd\u4f5c","depth":2,"content":"---\\ntitle: 03-\u767b\u5f55\u64cd\u4f5c\\n---\\n\\n## 1. \u767b\u9646 mysql\\n\\n### 1.1 \u672c\u673a\u767b\u5f55\\n\\n```bash\\nmysql> mysql -uroot -p # \u56de\u8f66\u8f93\u5165\u5bc6\u7801\u518d\u56de\u8f66\\n```\\n\\n### 1.2 \u8fdc\u7a0b\u767b\u5f55\\n\\n```bash\\n# \u683c\u5f0f\\nmysql -h ip -u root -p -P 3306\\n\\n# \u4f8b\u5982\\nmysql -h 127.0.0.1 -u root -p -P 3306\\n\\nmysql -h 39.108.138.156 -u root -p -P 3306\\n```\\n\\n## 2. \u5141\u8bb8\u8fdc\u7a0b\u767b\u5f55\\n\\n\u521d\u59cb\u5316\u7684mysql\u7528\u6237\u6743\u9650\u53ea\u80fdlocalhost\u8bbf\u95ee\uff0c\u5916\u90e8\u673a\u5668\u8bbf\u95ee\u9700\u8981\u6dfb\u52a0\u6743\u9650\u3002\\n\\n### 2.1 mysql 5\\n\\n```bash\\nmysql> Grant all privileges on *.* to \'root\'@\'%\' identified by \'password\' with grant option;\\n```\\n\\n(%\u8868\u793a\u4efb\u610fip\uff0c\u5982\u679c\u6307\u5b9aip\uff0c\u6539\u4e3a\u5bf9\u5e94ip\u5373\u53ef\uff1b\u2018root\u2019\u662f\u6307\u8981\u4f7f\u7528\u7684\u7528\u6237\u540d)\\n\\n```bash\\nmysql> flush privileges;  # (\u5237\u65b0\u6743\u9650\u6216\u8005\u91cd\u542fmysql)\\n```\\n\\n1. GRANT ALL PRIVILEGES ON *.* TO \'root\'@\'%\' IDENTIFIED BY \'password\' ;\\n   \u8fd9\u91cc\u7684 123456 \u4e3a\u4f60\u7ed9\u65b0\u589e\u6743\u9650\u7528\u6237\u8bbe\u7f6e\u7684\u5bc6\u7801\uff0c%\u4ee3\u8868\u6240\u6709\u4e3b\u673a\uff0c\u4e5f\u53ef\u4ee5\u5177\u4f53\u5230\u4f60\u7684\u4e3b\u673aip\u5730\u5740\\n2. flush privileges;  \u8fd9\u4e00\u6b65\u4e00\u5b9a\u8981\u505a\uff0c\u4e0d\u7136\u65e0\u6cd5\u6210\u529f\uff01 \u8fd9\u53e5\u8868\u793a\u4ece mysql \u6570\u636e\u5e93\u7684grant\u8868\u4e2d\u91cd\u65b0\u52a0\u8f7d\u6743\u9650\u6570\u636e\\n   \u56e0\u4e3aMySQL\u628a\u6743\u9650\u90fd\u653e\u5728\u4e86 cache \u4e2d\uff0c\u6240\u4ee5\u5728\u505a\u5b8c\u66f4\u6539\u540e\u9700\u8981\u91cd\u65b0\u52a0\u8f7d\u3002\\n   \u6267\u884c\u5b8c\u8fd9\u4e24\u6b65\uff0c\u518d\u6b21\u67e5\u8be2\u7528\u6237\u8868\u547d\u4ee4\uff1aselect User,authentication\\\\_string,Host from user\\n   \u53d1\u73b0\u591a\u4e86\u4e00\u4e2a\u7528\u6237\uff0c\u8be5\u7528\u6237\u6240\u6709\u7684\u4e3b\u673a\u90fd\u53ef\u4ee5\u8bbf\u95ee\uff0c\u6b64\u65f6\u518d\u6b21\u7528sqlyog\u8bbf\u95ee\u8fde\u63a5\u6210\u529f\uff01 \\n\\n### 2.2 mysql 8\\n\\nmysql8 \u7248\u672c\u6267\u884c `grant all privileges on *.*  to  \'root\'@\'%\'  identified by \'root\'  with grant option;`\\n\\n\u4f1a\u62a5\u8bed\u6cd5\u9519\u8bef  ERROR 1064 (42000)\\n\\n\u5e94\u5148\u521b\u5efa\u65b0\u7528\u6237\\n\\n```sql\\ncreate user \'admin\'@\'%\' identified by \'password\';\\n```\\n\\n\u6267\u884c\u6388\u6743\\n\\n```sql\\nGRANT ALL PRIVILEGES ON *.* TO \'admin\'@\'%\';\\n```\\n\\n\u5237\u65b0\\n```sql\\nflush privileges;\\n```\\n\\n\u6388\u6743\u8fdc\u7a0b\\n\\n```sql\\nALTER USER \'admin\'@\'%\' IDENTIFIED WITH mysql_native_password BY \'password\';\\n```\\n\\n\u5237\u65b0\\n\\n```sql\\nflush privileges;\\n```\\n## 3. \u4fee\u6539\u767b\u5f55\u5bc6\u7801\u7684\u52a0\u5bc6\u65b9\u5f0f\\n<https://www.cnblogs.com/zhurong/p/9898675.html>\\n<https://www.cnblogs.com/wpf0419/p/15466752.html>","isLeaf":true},{"key":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/04-\u8f85\u52a9\u547d\u4ee4.md","path":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/04-\u8f85\u52a9\u547d\u4ee4.md","route":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/04-\u8f85\u52a9\u547d\u4ee4.md","leaf":true,"title":"04-\u8f85\u52a9\u547d\u4ee4","depth":2,"content":"---\\ntitle: 04-\u8f85\u52a9\u547d\u4ee4\\n---\\n\\n## 1\u3001\u663e\u793a\u6570\u636e\u5e93\u5217\u8868\\n\\n```bash\\nshow databases;\\n```\\n\\n![](http://s3.airtlab.com/mysql/20220522215927.png)\\n\\n## 2\u3001\u663e\u793a\u6570\u636e\u8868\u7684\u7ed3\u6784\\n\\n```bash\\nmysql>describe \u8868\u540d;\\n\\n# (\u6216\u8005)\\nmysql>desc \u8868\u540d;\\n```\\n\\n![](http://s3.airtlab.com/mysql/20220522220033.png)\\n\\n## 3\u3001\u5efa\u5e93\u4e0e\u5220\u5e93\\n\\n```bash\\nmysql> create database \u5e93\u540d;\\nmysql> drop database \u5e93\u540d;\\n```\\n\\n![](http://s3.airtlab.com/mysql/20220522220055.png)\\n\\n## 4\u3001\u5efa\u8868\\n\\n```bash\\nmysql> use \u5e93\u540d;\\nmysql> create table \u8868\u540d(\u5b57\u6bb5\u5217\u8868);\\nmysql> drop table \u8868\u540d\uff1b\\n```\\n\\n![](http://s3.airtlab.com/mysql/20220522220206.png)\\n\\n## 5. \u67e5\u770b mysql \u7248\u672c\\n\\n    mysql> select version();\\n    +-----------+\\n    | version() |\\n    +-----------+\\n    | 8.0.21    |\\n    +-----------+\\n    1 row in set (0.00 sec)\\n\\n## 6. \u67e5\u770b\u5f53\u524d\u4f7f\u7528\u7684\u6570\u636e\u5e93\\n\\n    mysql> select database();\\n    +------------+\\n    | database() |\\n    +------------+\\n    | test       |\\n    +------------+\\n    1 row in set (0.00 sec)\\n\\n## 7. \u67e5\u770b\u8868\u7ed3\u6784\\n\\n    mysql> desc student;\\n    +--------------+--------------+------+-----+---------+----------------+\\n    | Field        | Type         | Null | Key | Default | Extra          |\\n    +--------------+--------------+------+-----+---------+----------------+\\n    | id           | int unsigned | NO   | PRI | NULL    | auto_increment |\\n    | student_name | varchar(11)  | YES  |     | NULL    |                |\\n    | class_id     | int          | YES  |     | NULL    |                |\\n    +--------------+--------------+------+-----+---------+----------------+\\n    3 rows in set (0.00 sec)\\n\\n## 8. \u67e5\u770b\u5efa\u8868\u8bed\u53e5\\n\\n    mysql> show create table student;\\n    +---------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\\n    | Table   | Create Table                                                                                                                                                                                                                                             |\\n    +---------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\\n    | student | CREATE TABLE `student` (\\n      `id` int unsigned NOT NULL AUTO_INCREMENT,\\n      `student_name` varchar(11) DEFAULT NULL,\\n      `class_id` int DEFAULT NULL,\\n      PRIMARY KEY (`id`)\\n    ) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |\\n    +---------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\\n    1 row in set (0.00 sec)\\n\\n## 9. \u5bfc\u5165\u6570\u636e\u5e93\\n\\n    mysql > source [sql_file_path]\\n\\n## 10. \u53d6\u6d88\u4e00\u6761\u8bed\u53e5\\n\\n    mysql> select \\n        -> \\n        -> \\\\c\\n    mysql> \\n    mysql> select \\n        -> \\n        -> ^C\\n    mysql>\\n\\n## 11. \u9000\u51fa mysql\\n\\n    mysql> \\\\q\\n    Bye\\n\\n    mysql> exit\\n    Bye\\n","isLeaf":true},{"key":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/05-\u8bed\u53e5\u5206\u7c7b.md","path":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/05-\u8bed\u53e5\u5206\u7c7b.md","route":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/05-\u8bed\u53e5\u5206\u7c7b.md","leaf":true,"title":"05-\u8bed\u53e5\u5206\u7c7b","depth":2,"content":"---\\ntitle: 05-\u8bed\u53e5\u5206\u7c7b\\n---\\n\\n**DQL \u6570\u636e\u67e5\u8be2**\\n\\n```bash\\n# \u51e1\u662f select \u5f00\u5934\\nselect ...\\n```\\n\\n**DML \u6570\u636e\u64cd\u4f5c**\\n\\n```bash\\n# \u6570\u636e\u7684\u589e\u5220\u6539\\ninset  ***\\nupdate ***\\ndelete ***\\n```\\n\\n**DDL \u6570\u636e\u5b9a\u4e49**\\n\\n```bash\\n# \u5bf9\u8868\u7ed3\u6784\u7684\u589e\u5220\u6539\\ncreate\\ndrop\\nalert\\n```\\n\\n**TCL \u4e8b\u52a1\u63a7\u5236**\\n\\n```bash\\n# \u63d0\u4ea4\u4e8b\u7269 \u56de\u6eda\u4e8b\u7269\\ncommit\\nrollback\\n```\\n\\n**DCL \u6570\u636e\u63a7\u5236**\\n\\n```bash\\n# \u6388\u6743/\u53d6\u6d88\u6388\u6743\\ngrant\\nrevoke\\n```\\n","isLeaf":true},{"key":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/06-\u6570\u636e\u5e93\u7ba1\u7406.md","path":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/06-\u6570\u636e\u5e93\u7ba1\u7406.md","route":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/06-\u6570\u636e\u5e93\u7ba1\u7406.md","leaf":true,"title":"06-\u6570\u636e\u5e93\u7ba1\u7406","depth":2,"content":"---\\ntitle: 06-\u6570\u636e\u5e93\u7ba1\u7406\\n---\\n\\n## 1. \u7528\u6237\u7ba1\u7406\\n\\n![](http://s3.airtlab.com/mysql/20220522221950.png)\\n![](http://s3.airtlab.com/mysql/20220522222004.png)\\n\u5982\u679c\u9700\u8981\u8bbf\u95ee\u5176\u4ed6\u5e93\u6216\u8868\uff0c\u9700\u5916\u989d\u5916\u6388\u6743\u3002\u6bd4\u5982\u5efa\u8868\u4e5f\u8981\u5bf9\u5e94\u7684\u5efa\u8868\u6743\u9650\uff1a\\n\\n![image.png](http://s3.airtlab.com/mysql/1661781061517-827578e9-b541-4f95-a53f-482cec80b3dd.png)\\n\\n## 2. \u6743\u9650\u7ba1\u7406\\n\\n### 2.1 \u589e\u52a0\u6743\u9650\\n\\n![](http://s3.airtlab.com/mysql/20220522222117.png)\\n![](http://s3.airtlab.com/mysql/20220522222129.png)\\n\\n### 2.2 \u64a4\u9500\u6743\u9650\\n\\n![](http://s3.airtlab.com/mysql/20220522222137.png)\\n\\n## 3. \u5bfc\u5165\u5bfc\u51fa\\n\\n![](http://s3.airtlab.com/mysql/20220522222145.png)\\n","isLeaf":true},{"key":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/07-\u5b58\u50a8\u5f15\u64ce.md","path":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/07-\u5b58\u50a8\u5f15\u64ce.md","route":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/07-\u5b58\u50a8\u5f15\u64ce.md","leaf":true,"title":"07-\u5b58\u50a8\u5f15\u64ce","depth":2,"content":"---\\ntitle: 07-\u5b58\u50a8\u5f15\u64ce\\n---\\n\\n## 1. \u67e5\u770b\u5f53\u524dmysql\u652f\u6301\u7684\u5b58\u50a8\u5f15\u64ce\\n\\n![image.png](http://s3.airtlab.com/mysql/1601970720136-d8704cdf-de7a-414f-a92d-e4b6722021dd.png) \\n\\n## 2. \u4ec0\u4e48\u662f\u5b58\u50a8\u5f15\u64ce\\n\\n![image.png](http://s3.airtlab.com/mysql/1601970624945-4b06a5fe-0b92-4a31-a6c4-66a63134da4e.png) \\n\\n## 3. \u5e38\u89c1\u5b58\u50a8\u5f15\u64ce\\n\\n### 3.1 MYISAM\\n\\n![image.png](http://s3.airtlab.com/mysql/1601970964228-806f5cd4-f923-44d5-ae1f-6caeb105f696.png)\\n![image.png](http://s3.airtlab.com/mysql/1601971297877-ae810ab2-e111-400b-9898-d8629384b5de.png) \\n\\n### 3.2 innoDB\\n\\n![image.png](http://s3.airtlab.com/mysql/1601971418135-b9aa2c54-9afb-4583-9406-1cf4cc50202a.png)\\n![image.png](http://s3.airtlab.com/mysql/1601971695968-db89d3eb-6bf0-4636-bf31-0c57e9fe714d.png) \\n\\n#### 3.2.1 \u7ea7\u8054\u5220\u9664\u548c\u66f4\u65b0\\n\\n\u5728\u5177\u6709\u4e3b\u5916\u952e\u7684\u7236\u5b50\u8868\u4e2d\uff0c\u63d0\u4f9b\u5220\u9664\u7236\u8868\u65f6\uff0c\u540c\u65f6\u5220\u9664\u5b57\u8868\u7684\u529f\u80fd\u3002\\n\\n### 3.3 MEMORY\\n\\n![image.png](http://s3.airtlab.com/mysql/1601971760236-24541d92-d434-4d8d-b82c-598ed02c9cc9.png)\\n![image.png](http://s3.airtlab.com/mysql/1601971796616-7f3525d1-5b66-470e-bbb2-dc6e18f12d82.png)\\n","isLeaf":true},{"key":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/08-\u6570\u636e\u64cd\u4f5c.md","path":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/08-\u6570\u636e\u64cd\u4f5c.md","route":"/Mysql/01-\u57fa\u7840\u8ba4\u8bc6/08-\u6570\u636e\u64cd\u4f5c.md","leaf":true,"title":"08-\u6570\u636e\u64cd\u4f5c","depth":2,"content":"---\\ntitle: 08-\u6570\u636e\u64cd\u4f5c\\n---\\n\\n## 1. \u5efa\u8868\u8bed\u53e5\\n\\n### 1.1 \u7b80\u5355\u7528\u6cd5\\n\\n![image.png](http://s3.airtlab.com/mysql/1601908348937-91b4e3ca-3cbd-4199-9a35-c0bf441ed945.png)\\n![image.png](http://s3.airtlab.com/mysql/1601908524229-e532c80a-f39d-4d25-938d-914ec4d70c4c.png) \\n\\n### 1.2 \u5b57\u6bb5\u9ed8\u8ba4\u503c\\n\\n![image.png](http://s3.airtlab.com/mysql/1601908863955-f6ddc28a-941e-487d-90b8-ea324fd5b6ad.png) \\n\\n## 2. \u63d2\u5165\u6570\u636e\\n\\n### 2.1 \u5e38\u7528\u5199\u6cd5\\n\\n![image.png](http://s3.airtlab.com/mysql/1601908658192-2a84e38b-b707-4639-b654-5df9ec8d2ad9.png)![image.png](http://s3.airtlab.com/mysql/1601908673495-dbf776f8-4c94-4c21-a7da-2301723a921c.png)\\n![image.png](http://s3.airtlab.com/mysql/1601908737038-5ff5c405-ab89-4411-855e-33d469380124.png)\\n\\n### 2.2 \u7701\u7565\u5b57\u6bb5\u540d\\n\\n\u53ef\u4ee5\u7701\u7565\u5b57\u6bb5\u540d\uff0c\u4f46\u662f\u8981\u4fdd\u8bc1 values \u7684\u5217\u4ee5\u53ca\u987a\u5e8f\uff1a\\n![image.png](http://s3.airtlab.com/mysql/1601909044000-e89f9579-9ff0-4d2f-bcb7-189b0cab46d6.png) \\n\\n### 2.3 \u6279\u91cf\u63d2\u5165\\n\\n![image.png](http://s3.airtlab.com/mysql/1601909161876-242d4b31-8dfb-4f4b-958d-83e25a0c10bc.png) \\n\\n## 3. \u8868\u7684\u590d\u5236\\n\\n![image.png](http://s3.airtlab.com/mysql/1601909315690-1ae48412-b540-497f-8e51-ce34d004c5c3.png)\\n![image.png](http://s3.airtlab.com/mysql/1601909348517-e4adea1a-82b4-45e2-9cd9-7a6fea71791a.png)\\n\\n## 4. \u4fee\u6539\u8bb0\u5f55\\n\\n\u6ce8\u610f\u4e0b\u9762\u7684 \\",\\" \u4e0d\u80fd\u5199\u6210 and\\n![image.png](http://s3.airtlab.com/mysql/1601909474821-7725e949-a4f0-4b28-8057-c02c4f66f783.png)\\n![image.png](http://s3.airtlab.com/mysql/1601909587175-31bbacf8-bf6f-4ee0-b87e-f90e250bb899.png)\\n\\n## 6. \u5220\u9664\u8bb0\u5f55\\n\\n![image.png](http://s3.airtlab.com/mysql/1601948470266-14b2c449-0976-46b0-b724-2d59f3402248.png)\\n![image.png](http://s3.airtlab.com/mysql/1601950008844-b5078395-850a-4722-8efd-0fb98e35257d.png)\\n\\n## 7. \u4fee\u6539\u8868\u7ed3\u6784\\n![image.png](http://s3.airtlab.com/mysql/1601949016580-ebec25be-b18f-4f8d-8ed4-617e6346c1e8.png)","isLeaf":true}]},{"key":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5","path":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5","route":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5","leaf":false,"title":"02-\u67e5\u8be2\u8bed\u53e5","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/01-\u7b80\u5355\u67e5\u8be2.md","path":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/01-\u7b80\u5355\u67e5\u8be2.md","route":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/01-\u7b80\u5355\u67e5\u8be2.md","leaf":true,"title":"01-\u7b80\u5355\u67e5\u8be2","depth":2,"content":"---\\ntitle: 01-\u7b80\u5355\u67e5\u8be2\\n---\\n\\n## 1\u3001\u67e5\u8be2\u5b57\u6bb5\\n\\n- sql \u8bed\u53e5\u4ee5\u5206\u53f7\u7ed3\u5c3e\\n- sql \u8bed\u53e5\u4e0d\u533a\u5206\u5927\u5c0f\u5199 \\n\\n### 1. \u67e5\u8be2\u4e00\u4e2a\u5b57\u6bb5\\n\\n```bash\\nmysql> select id from student;\\n+----+\\n| id |\\n+----+\\n|  1 |\\n|  2 |\\n|  3 |\\n|  4 |\\n|  5 |\\n|  7 |\\n+----+\\n6 rows in set (0.00 sec)\\n```\\n\\n### 2. \u67e5\u8be2\u591a\u4e2a\u5b57\u6bb5\\n\\n```bash\\nmysql> select id, student_name from student;\\n+----+--------------+\\n| id | student_name |\\n+----+--------------+\\n|  1 | ??           |\\n|  2 | ??           |\\n|  3 | ??           |\\n|  4 | ??           |\\n|  5 | ??           |\\n|  7 | ??           |\\n+----+--------------+\\n6 rows in set (0.00 sec)\\n```\\n\\n### 3. \u67e5\u8be2\u5168\u90e8\u5b57\u6bb5\\n\\n    mysql> select * from student;\\n    +----+--------------+----------+\\n    | id | student_name | class_id |\\n    +----+--------------+----------+\\n    |  1 | ??           |        1 |\\n    |  2 | ??           |        1 |\\n    |  3 | ??           |        2 |\\n    |  4 | ??           |        2 |\\n    |  5 | ??           |        3 |\\n    |  7 | ??           |       99 |\\n    +----+--------------+----------+\\n    6 rows in set (0.00 sec)\\n\\n### 4. \u7ed9\u5b57\u6bb5\u8d77\u522b\u540d\\n\\n    mysql> select id, student_name as name  from student;\\n    +----+------+\\n    | id | name |\\n    +----+------+\\n    |  1 | ??   |\\n    |  2 | ??   |\\n    |  3 | ??   |\\n    |  4 | ??   |\\n    |  5 | ??   |\\n    |  7 | ??   |\\n    +----+------+\\n    6 rows in set (0.00 sec)\\n\\n\u5f53\u522b\u540d\u4e3a\u6570\u5b57\u6216\u8005\u4e2d\u6587\u65f6\uff0c\u9700\u8981\u4f7f\u7528\u5355\u5f15\u53f7\u3002 \\n\\n## 2\u3001**\u6761\u4ef6\u67e5\u8be2**\\n\\n### 1. mysql \u8fd0\u7b97\u7b26\\n\\n![](http://s3.airtlab.com/mysql/1661782051502-765ff27c-546e-401a-98ce-afd2091e8dc6.png)\\n\\n### 2. NULL \u4e0d\u662f\u4e00\u4e2a\u503c\\n\\n![](http://s3.airtlab.com/mysql/1661782051499-ea7c845c-4741-424e-b165-078161c63c12.png)\\n\\n\\n\\n### 3. and \u548c or \u7684\u4f18\u5148\u7ea7\\n\\n![](http://s3.airtlab.com/mysql/1661782051576-3a3d24d1-a612-47df-9136-c16d5955e10d.png)\\n\\n\\n\\n### 4. \u6a21\u7cca\u67e5\u8be2 like\\n\\n![](http://s3.airtlab.com/mysql/1661782051853-62ef74ec-1edd-441d-9ada-3b66192071f1.png)\\n\\n\u5982\u679c\u9700\u8981\u5339\u914d % \\\\_ \u9700\u8981\u8f6c\u8bd1\u5904\u7406\u3002 \\n\\n## 3\u3001\u67e5\u8be2\u6392\u5e8f\\n\\n![image.png](http://s3.airtlab.com/mysql/1661782110452-70ee0ac9-65fe-4d6d-9daa-397af5165f79.png) \\n\\n### 1. \u5355\u4e00\u6761\u4ef6\u6392\u5e8f\\n\\n```sql\\n-- \u964d\u5e8f DESC \u9ed8\u8ba4\u5347\u5e8f\\nSELECT * from student order by class_id DESC\\n\\n-- \u5347\u5e8f asc\\nSELECT * from student order by class_id asc\\n```\\n\\n### 2. \u591a\u6761\u4ef6\u6392\u5e8f\\n\\n```sql\\n-- \u5148\u6309\u7167 class_id \u964d\u5e8f\uff0c\u518d\u6309\u7167 age \u5347\u5e8f\\nSELECT * from student order by class_id DESC, age asc\\n```\\n\\n\\n\\n## 4\u3001\u53bb\u91cd\u67e5\u8be2\\n\\n\\n\\n### 1. \u5355\u5b57\u6bb5\u53bb\u91cd&#xA;![](http://s3.airtlab.com/mysql/1661782874994-1ec034bf-5235-4332-ba5b-615b48b68c06.png)\\n\\n\\n### 2. \u591a\u5b57\u6bb5\u53bb\u91cd&#xA;![](http://s3.airtlab.com/mysql/1661782875276-3dc5a245-3bb3-4d7c-8e41-9be303985513.png)\\n\\n### 3. \u7edf\u8ba1\u53bb\u91cd\u540e\u7684\u6570\u91cf&#xA;![](http://s3.airtlab.com/mysql/1661782874984-10c9fb74-1353-4a01-9d32-1eb5650ddbd8.png)\\n\\n## 5\u3001\u5206\u9875\u67e5\u8be2\\n\\n![image.png](http://s3.airtlab.com/mysql/1601888522322-9dc722db-434b-475d-992d-957b7d0ce754.png)\\n![image.png](http://s3.airtlab.com/mysql/1601888545880-ee5ee7ce-9c1f-474f-b16e-f6152cd0d188.png)\\n![image.png](http://s3.airtlab.com/mysql/1601888563228-bc40c2cb-b036-44b4-bc58-a4449d932b86.png)\\n","isLeaf":true},{"key":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/02-\u805a\u5408\u51fd\u6570.md","path":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/02-\u805a\u5408\u51fd\u6570.md","route":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/02-\u805a\u5408\u51fd\u6570.md","leaf":true,"title":"02-\u805a\u5408\u51fd\u6570","depth":2,"content":"---\\ntitle: 02-\u805a\u5408\u51fd\u6570\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n\\n\\n### 1\u30015\u4e2a\u805a\u5408\u51fd\u6570\\n\\n![](http://s3.airtlab.com/mysql/20220522232300.png)\\n\\n\\n\\n### 2\u3001\u805a\u5408\u51fd\u6570\u4f7f\u7528\u9650\u5236\\n\\n\u5206\u7ec4\u51fd\u6570\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\u5728 where \u5b50\u53e5\u4e2d\u3002\\n\\n\\n\\n### 3\u3001count(*) \u548c count(field) \u533a\u522b\\n\\n![](http://s3.airtlab.com/mysql/20220522232337.png)\\n\\n\\n\\n### 4\u3001\u5904\u7406\u5355\u884c\u6570\u636e\\n\\n![](http://s3.airtlab.com/mysql/20220522232356.png) \\n\\n### 5\u3001ifnull()\\n\\n![image.png](http://s3.airtlab.com/mysql/1661782554406-24d19cc4-3dad-4ab0-ba4e-0e3957d8c210.png)\\n","isLeaf":true},{"key":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/03-\u5206\u7ec4\u67e5\u8be2.md","path":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/03-\u5206\u7ec4\u67e5\u8be2.md","route":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/03-\u5206\u7ec4\u67e5\u8be2.md","leaf":true,"title":"03-\u5206\u7ec4\u67e5\u8be2","depth":2,"content":"---\\ntitle: 03-\u5206\u7ec4\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n\\n\\n### 1\u3001group by\\n\\n\\n\\n#### 1. \u7b80\u5355\u7528\u6cd5\\n\\n![](http://s3.airtlab.com/mysql/20220522232517.png)\\n\\n\\n\\n#### 2. \u5206\u7ec4\u65f6\u53ef\u4ee5\u67e5\u8be2\u7684\u5b57\u6bb5\uff1f(\u805a\u548c\u53c2\u6570 & \u5206\u7ec4\u5b57\u6bb5)\\n\\n![](http://s3.airtlab.com/mysql/20220522232542.png)\\n![](http://s3.airtlab.com/mysql/20220522232607.png)\\n\\n\\n\\n#### 3. \u591a\u5b57\u6bb5\u8054\u5408\u5206\u7ec4\\n\\n![](http://s3.airtlab.com/mysql/20220522232637.png)\\n![](http://s3.airtlab.com/mysql/20220522232702.png)\\n\\n\\n\\n### 2\u3001having\\n\\n\u53ea\u6709\u51fa\u73b0\u4e86 group by \u624d\u80fd\u4f7f\u7528 having\u3002\\n![](http://s3.airtlab.com/mysql/20220522232736.png)\\n\\n**\u4e0a\u9762\u8fd9\u4e2a\u7528\u6cd5\u6548\u7387\u4f4e\uff0c\u53ef\u4ee5\u4f18\u5148\u8003\u8651\u4f7f\u7528 where**\\n![](http://s3.airtlab.com/mysql/20220522232807.png)\\n\\n**\u4f46\u662f\u6709\u65f6\u5019 where \u641e\u4e0d\u5b9a\uff1a**\\n![](http://s3.airtlab.com/mysql/20220522232847.png)\\n\\n\\n\\n### 3. DQL \u603b\u7ed3\\n\\n![](http://s3.airtlab.com/mysql/20220522232903.png)\\n","isLeaf":true},{"key":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/04-\u8fde\u63a5\u67e5\u8be2.md","path":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/04-\u8fde\u63a5\u67e5\u8be2.md","route":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/04-\u8fde\u63a5\u67e5\u8be2.md","leaf":true,"title":"04-\u8fde\u63a5\u67e5\u8be2","depth":2,"content":"---\\ntitle: 04-\u8fde\u63a5\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n### 1. \u4ec0\u4e48\u662f\u8fde\u63a5\u67e5\u8be2\\n\\n![](http://s3.airtlab.com/mysql/20220523223037.png)\\n\\n\\n### 2. \u8fde\u63a5\u67e5\u8be2\u7684\u5206\u7c7b\\n\\n![](http://s3.airtlab.com/mysql/20220523223056.png)\\n\\n\\n\\n### 3. \u7b1b\u5361\u5c14\u4e58\u79ef\\n\\n![](http://s3.airtlab.com/mysql/20220523223113.png)\\n![](http://s3.airtlab.com/mysql/20220523223120.png)\\n\\n\\n\\n### 4. \u5185\u8fde\u63a5\\n\\n\\n\\n#### 1 \u7b49\u503c\u8fde\u63a5\\n\\n![](http://s3.airtlab.com/mysql/20220523223151.png)\\n\\n\u8fd9\u91cc\u7701\u7565\u4e86 inner\u3002\\n\\n\\n\\n#### 2 \u975e\u7b49\u503c\u5173\u7cfb\\n\\n![](http://s3.airtlab.com/mysql/20220523223220.png)\\n\\n\\n\\n#### 3 \u81ea\u8fde\u63a5\\n\\n\u81ea\u8fde\u63a5\u6700\u5927\u7684\u7279\u70b9\u662f\u4e00\u5f20\u8868\u770b\u6210\u4e24\u5f20\u8868\u4f7f\u7528\u3002\\n![](http://s3.airtlab.com/mysql/20220523223238.png)\\n![](http://s3.airtlab.com/mysql/20220523223244.png)\\n\\n\\n\\n### 5. \u5916\u8fde\u63a5\\n\\n\\n\\n#### 1. \u5916\u8fde\u63a5\u548c\u5185\u8fde\u63a5\u533a\u522b\\n\\n![](http://s3.airtlab.com/mysql/20220523223315.png)\\n\\n\\n\\n### 6. \u4e09\u5f20\u8868\u53ca\u4ee5\u4e0a\u7684\u67e5\u8be2\\n\\n**1\uff09\u6848\u4f8b1**\\n\\n![](http://s3.airtlab.com/mysql/20220523223351.png)\\n\\n\u5458\u5de5\u8868\\n![](http://s3.airtlab.com/mysql/20220523223410.png)\\n\\n\u90e8\u95e8\u8868\uff1a\\n![](http://s3.airtlab.com/mysql/20220523223427.png)\\n\\n\u5de5\u8d44\u7b49\u7ea7\u8868\uff1a\\n![](http://s3.airtlab.com/mysql/20220523223439.png)\\n\\n![](http://s3.airtlab.com/mysql/20220523223452.png)\\n\\n**2\uff09 \u6848\u4f8b2**\\n![](http://s3.airtlab.com/mysql/20220523223537.png)\\n","isLeaf":true},{"key":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/05-\u5b50\u67e5\u8be2.md","path":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/05-\u5b50\u67e5\u8be2.md","route":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/05-\u5b50\u67e5\u8be2.md","leaf":true,"title":"05-\u5b50\u67e5\u8be2","depth":2,"content":"---\\ntitle: 05-\u5b50\u67e5\u8be2\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n\\n\\n## 1. \u4ec0\u4e48\u662f\u5b50\u67e5\u8be2\\n\\n![image.png](http://s3.airtlab.com/mysql/1601885338455-0e369f30-0ce3-4113-b5c2-e625306e9d14.png) \\n\\n## 2. where \u5b50\u53e5\u4e2d\u4f7f\u7528\u5b50\u67e5\u8be2\\n\\n![image.png](http://s3.airtlab.com/mysql/1601885473666-c6c1b7f5-2e87-49a5-9308-ad606a5b3ffe.png)\\n![image.png](http://s3.airtlab.com/mysql/1601885488943-301bcb91-5d6a-4da4-a7ef-fa435b6cf442.png)\\n![image.png](http://s3.airtlab.com/mysql/1601885510484-1e5c9275-71fc-41e1-a0b1-014616828b83.png) \\n\\n## 3. from \u540e\u9762\u5d4c\u5957\u5b50\u67e5\u8be2\\n\\n\uff081\uff09\u627e\u51fa\u6bcf\u4e2a\u90e8\u95e8\u5e73\u5747\u85aa\u6c34\u7684\u85aa\u8d44\u7b49\u7ea7\\n![image.png](http://s3.airtlab.com/mysql/1601886221555-6c9c170b-b8db-4677-a1bb-5bf0b9af10fc.png)\\n\uff082\uff09\u627e\u51fa\u6bcf\u4e2a\u90e8\u95e8\u5e73\u5747\u7684\u85aa\u6c34\u7b49\u7ea7\\n![image.png](http://s3.airtlab.com/mysql/1601886458573-93559269-e915-4567-8a97-0105cc0857ee.png)\\n![image.png](http://s3.airtlab.com/mysql/1601886801680-65fe3708-0a0c-49c4-a526-e56917dc5df3.png)\\n![image.png](http://s3.airtlab.com/mysql/1601886912539-8bfefd1e-1368-45bb-9e43-ca4eb8d4b375.png)\\n\u8fd9\u91cc\u4e0d\u9700\u8981\u4e34\u65f6\u8868\u3002 \\n\\n## 4. select \u540e\u9762\u5d4c\u5957\u5b50\u67e5\u8be2\\n\\n![image.png](http://s3.airtlab.com/mysql/1601887387337-4c0fcacc-839d-4d04-af0d-553444199009.png)\\n\u8fd9\u91cc\u6ca1\u5fc5\u8981\u8fd9\u4e48\u5199\u3002\\n","isLeaf":true},{"key":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/06-union\u7528\u6cd5.md","path":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/06-union\u7528\u6cd5.md","route":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/06-union\u7528\u6cd5.md","leaf":true,"title":"06-union\u7528\u6cd5","depth":2,"content":"---\\ntitle: 06-union\u7528\u6cd5\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\nunion \u53ef\u4ee5\u5c06\u67e5\u8be2\u7ed3\u679c\u96c6\u76f8\u52a0:\\n![image.png](http://s3.airtlab.com/mysql/1601888135416-33e41530-f96c-44e3-b84f-6eebad546da8.png)\\n![image.png](http://s3.airtlab.com/mysql/1601888153407-fd2055a2-c3f6-4978-8af6-1b5ef75585db.png)\\n\\n***\\n\\n![image.png](http://s3.airtlab.com/mysql/1601888191141-4757336b-bd9a-4783-a799-acec39dd1330.png)\\n\u4f7f\u7528 union \u5fc5\u987b\u4fdd\u8bc1\u4e24\u4e2a\u7ed3\u679c\u96c6\u5217\u6570\u4e00\u6837\uff0c\u5426\u5219\u62a5\u9519\u3002\\n","isLeaf":true},{"key":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/07-\u5b57\u6bb5\u7ea6\u675f.md","path":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/07-\u5b57\u6bb5\u7ea6\u675f.md","route":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/07-\u5b57\u6bb5\u7ea6\u675f.md","leaf":true,"title":"07-\u5b57\u6bb5\u7ea6\u675f","depth":2,"content":"---\\ntitle: 07-\u5b57\u6bb5\u7ea6\u675f\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n\\n\\n## 1. \u7ea6\u675f\u7684\u4ecb\u7ecd\\n\\n![image.png](http://s3.airtlab.com/mysql/1601949417466-64cc808a-93df-4dd5-bdea-cef7839eb762.png) \\n\\n## 2. \u975e\u7a7a\u7ea6\u675f\\n\\n![image.png](http://s3.airtlab.com/mysql/1601949603518-89343fb9-5c39-48dd-8b87-da796e62c34d.png) \\n\\n## 3. \u552f\u4e00\u6027\u7ea6\u675f\\n\\n\\n\\n### 3.1 \u5217\u7ea6\u675f\\n\\n![image.png](http://s3.airtlab.com/mysql/1601959085218-1e629fec-f253-4c81-8f76-1428414815ad.png) \\n\\n### 3.2 \u8868\u7ea6\u675f\\n\\n![image.png](http://s3.airtlab.com/mysql/1601959135270-1497c7ba-6b57-4833-8bf0-03156fb5d627.png) \\n\\n## 4. \u4e3b\u952e\u7ea6\u675f(\u91cd\u70b9)\\n\\n![image.png](http://s3.airtlab.com/mysql/1601959597383-50596c01-d603-4ed7-b63e-3929e0a91230.png)\\n![image.png](http://s3.airtlab.com/mysql/1601961365296-2a6ea6df-851e-4923-8cd8-84608b1aeea3.png)\\n\\n![image.png](http://s3.airtlab.com/mysql/1601961407320-94a0444b-851a-4ab9-9814-eb1972023a70.png)\\n![image.png](http://s3.airtlab.com/mysql/1601961557702-5bc98c0a-641b-4cf3-b09d-1ec6ec290df7.png)\\n![image.png](http://s3.airtlab.com/mysql/1601961612224-e263a879-e80c-4734-a5b0-aaccd5d3a38f.png)\\n![image.png](http://s3.airtlab.com/mysql/1601963951481-5123afa9-d96a-4b32-9395-445106781914.png) \\n\\n## 5. \u5916\u952e\u7ea6\u675f\\n\\n![image.png](http://s3.airtlab.com/mysql/1601965067251-8da7d111-439d-45f2-a1d3-b46ed2b9116c.png)\\n![image.png](http://s3.airtlab.com/mysql/1601965100981-6a58c685-f17d-4786-ac78-aabd9f12e9d4.png)\\n![image.png](http://s3.airtlab.com/mysql/1601965149905-020fe47f-2bbc-4a2d-878f-98431e7d64d3.png)\\n\u5982\u679c\u5f15\u7528\u7684\u5916\u952e\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u63d2\u5165\u6570\u636e\u5c06\u4f1a\u629b\u51fa\u5f02\u5e38\u3002\\n![image.png](http://s3.airtlab.com/mysql/1601970143686-ebf491e0-8a0d-4ec3-9482-5c0a259101c5.png)\\n","isLeaf":true},{"key":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/08-DQL \u603b\u7ed3.md","path":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/08-DQL \u603b\u7ed3.md","route":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/08-DQL \u603b\u7ed3.md","leaf":true,"title":"08-DQL \u603b\u7ed3","depth":2,"content":"---\\ntitle: 08-DQL \u603b\u7ed3\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n![image.png](http://s3.airtlab.com/mysql/1656427575765-ec1185d3-a655-48d7-8f7d-62be88823e85.png)\\n","isLeaf":true},{"key":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/09-\u4f7f\u7528\u7d22\u5f15.md","path":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/09-\u4f7f\u7528\u7d22\u5f15.md","route":"/Mysql/02-\u67e5\u8be2\u8bed\u53e5/09-\u4f7f\u7528\u7d22\u5f15.md","leaf":true,"title":"09-\u4f7f\u7528\u7d22\u5f15","depth":2,"content":"---\\ntitle: 09-\u4f7f\u7528\u7d22\u5f15\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n\\n\\n## 1. \u4ec0\u4e48\u662f\u7d22\u5f15\\n\\n![image.png](http://s3.airtlab.com/mysql/1601993121317-cdef3d3a-e90f-4d50-b266-36946ebcc8d8.png) \\n\\n## 2. \u5982\u4f55\u521b\u5efa\u7d22\u5f15\\n\\n![image.png](http://s3.airtlab.com/mysql/1601993627255-b5086be4-b2b2-465e-a537-dc783d98e3da.png)![image.png](http://s3.airtlab.com/mysql/1601993510011-78109ddf-923b-4473-932d-c274342743e6.png) \\n\\n## 3. \u7d22\u5f15\u5b9e\u73b0\u539f\u7406\\n\\n![image.png](http://s3.airtlab.com/mysql/1601993719963-00b36c58-7872-49b7-8a63-c610283df5e9.png)\\n![image.png](http://s3.airtlab.com/mysql/1601995139699-5c50ec18-37a7-434f-b37e-b5919f4e9553.png) \\n\\n## 4. \u7d22\u5f15\u7684\u5206\u7c7b\\n\\n![image.png](http://s3.airtlab.com/mysql/1601995262424-50df09fc-ec0f-4310-a12f-08dff673e1c7.png) \\n\\n## 5. \u7d22\u5f15\u5931\u6548\u95ee\u9898\\n\\n![image.png](http://s3.airtlab.com/mysql/1601995400546-b3e8a8a7-03b2-4b8b-9f46-784e74d22e43.png)\\n","isLeaf":true}]},{"key":"/Mysql/03-\u9501\u673a\u5236 ","path":"/Mysql/03-\u9501\u673a\u5236 ","route":"/Mysql/03-\u9501\u673a\u5236 ","leaf":false,"title":"03-\u9501\u673a\u5236 ","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Mysql/03-\u9501\u673a\u5236 /01-\u53c2\u8003\u8d44\u6599.md","path":"/Mysql/03-\u9501\u673a\u5236 /01-\u53c2\u8003\u8d44\u6599.md","route":"/Mysql/03-\u9501\u673a\u5236 /01-\u53c2\u8003\u8d44\u6599.md","leaf":true,"title":"01-\u53c2\u8003\u8d44\u6599","depth":2,"content":"---\\ntitle: 01-\u53c2\u8003\u8d44\u6599\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n- [Mysql \u9501\u673a\u5236\u4e4b\u884c\u9501\u3001\u8868\u9501\u3001\u6b7b\u9501\u7684\u5b9e\u73b0](https://www.jb51.net/article/240968.htm)\\n- [MySQL \u610f\u5411\u5171\u4eab\u9501\u3001\u610f\u5411\u6392\u4ed6\u9501\u3001\u6b7b\u9501](https://www.jb51.net/article/242634.htm)\\n- <https://www.cnblogs.com/jojop/p/13982679.html>\\n- \u4e00\u5f20\u56fe\u5f7b\u5e95\u641e\u61c2 MySQL \u7684\u9501\u673a\u5236 <https://learnku.com/articles/39212?order_by=vote_count&>\\n- MySQL\u9501\u603b\u7ed3 <https://zhuanlan.zhihu.com/p/29150809>\\n- \u6f2b\u8c08MySQL\u7684\u9501\u673a\u5236 <https://zhuanlan.zhihu.com/p/75595737>\\n\\n![image.png](http://s3.airtlab.com/mysql/1661916530172-996af0e4-3fec-4032-8a01-7f16031f1881.png)\\n","isLeaf":true},{"key":"/Mysql/03-\u9501\u673a\u5236 /02-\u9501\u6d4b\u8bd5.md","path":"/Mysql/03-\u9501\u673a\u5236 /02-\u9501\u6d4b\u8bd5.md","route":"/Mysql/03-\u9501\u673a\u5236 /02-\u9501\u6d4b\u8bd5.md","leaf":true,"title":"02-\u9501\u6d4b\u8bd5","depth":2,"content":"---\\ntitle: 02-\u9501\u6d4b\u8bd5\\n---\\n\\n### 1\u3001\u884c\u9501\u6d4b\u8bd5\\n\\n#### 1. \u884c\u9501\u5206\u6790\\n\\n```sql\\nshow status like \'innodb_row_lock%\';\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1661853567939-ef25e55f-c9d6-4fb1-93cb-5ad3b0c7d4b4.png)\\n\\n```sql\\n1. innodb_row_lock_current_waits // \u5f53\u524d\u6b63\u5728\u7b49\u5f85\u9501\u5b9a\u7684\u6570\u91cf\\n2. innodb_row_lock_time // \u4ece\u7cfb\u7edf\u542f\u52a8\u5230\u73b0\u5728\u9501\u5b9a\u603b\u65f6\u95f4\u957f\u5ea6\\n3. innodb_row_lock_time_avg // \u6bcf\u6b21\u7b49\u5f85\u6240\u82b1\u5e73\u5747\u65f6\u95f4\\n4. innodb_row_lock_time_max // \u4ece\u7cfb\u7edf\u542f\u52a8\u5230\u73b0\u5728\u7b49\u5f85\u6700\u957f\u7684\u4e00\u6b21\u6240\u82b1\u65f6\u95f4\\n5. innodb_row_lock_waits // \u7cfb\u7edf\u542f\u52a8\u540e\u5230\u73b0\u5728\u603b\u5171\u7b49\u5f85\u7684\u6b21\u6570\\n```\\n\\n\\n\\n#### 2.  \u8bfb\u9501\u6d4b\u8bd5\\n\\n![image.png](http://s3.airtlab.com/mysql/1661917312810-80b15df5-0e01-4878-93c6-a134dcfbe215.png) \\n\\n#### 3. \u5199\u9501\u6d4b\u8bd5\\n\\n![image.png](http://s3.airtlab.com/mysql/1661917475949-8764df23-bd92-43b0-978e-64fb78723f13.png)\\n\\n\\n\\n### 2\u3001\u8868\u9501\u6d4b\u8bd5\\n\\n\\n\\n#### 1. \u67e5\u8be2\u662f\u5426\u9501\u8868\\n\\n```sql\\nSHOW OPEN TABLES;\\n\\nshow OPEN TABLES where In_use > 0;\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1661853872258-24d64fb2-0cf8-4e1e-a40b-78cd94a90f49.png) \\n\\n#### 2. **\u9501\u8868 & \u89e3\u9501**\\n\\n```sql\\n# \u9501\u5b9a\u6570\u636e\u8868\uff0c\u907f\u514d\u5728\u5907\u4efd\u8fc7\u7a0b\u4e2d\uff0c\u8868\u88ab\u66f4\u65b0\\n\\nmysql>LOCK TABLES tbl_name READ;\\n\\n# \u4e3a\u8868\u589e\u52a0\u4e00\u4e2a\u5199\u9501\u5b9a\uff1a\\n\\nmysql>LOCK TABLES tbl_name WRITE;\\n\\n# \u89e3\u9501\\nUNLOCK TABLES;\\n```\\n\\n\\n\\n#### 3. \u67e5\u8be2\u8868\u9501\u4e89\u7528\u60c5\u51b5\\n\\n```sql\\nSHOW STATUS LIKE \'table%\';\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1661853050613-eba3597b-5810-4fbd-9ce4-fcd5c4984ecb.png)\\n\\n- table\\\\_locks\\\\_immediate : \u53ef\u4ee5\u7acb\u5373\u83b7\u53d6\u9501\u7684\u6b21\u6570\\n- table\\\\_locks\\\\_waited : \u4e0d\u80fd\u7acb\u5373\u83b7\u53d6\u9501\uff0c\u9700\u8981\u7b49\u5f85\u9501\u7684\u6b21\u6570 (\u6bcf\u7b49\u5f85\u4e00\u6b21\u503c\u52a01\uff09 \\n\\n#### 4. \u8bfb\u9501\u6d4b\u8bd5\\n\\n![image.png](http://s3.airtlab.com/mysql/1661854262277-7d98c1c4-faed-43b2-8bad-506db28fa352.png) \\n\\n#### 5. \u5199\u9501\u6d4b\u8bd5\\n\\n\u573a\u666f\uff1a\u6570\u636e\u8fc1\u79fb\uff0c\u76ee\u6807\u8868\u52a0\u5199\u9501\uff0c\u539f\u8868\u65e2\u53ef\u4ee5\u8bfb\u9501\u53c8\u53ef\u4ee5\u5199\u9501\uff0c\u4f46\u662f\u8bfb\u9501\u66f4\u597d\\n![image.png](http://s3.airtlab.com/mysql/1661854343954-c391dda8-f866-4c9e-b44a-46ac7cae5120.png)\\n","isLeaf":true},{"key":"/Mysql/03-\u9501\u673a\u5236 /02-\u9501\u7684\u5206\u7c7b.md","path":"/Mysql/03-\u9501\u673a\u5236 /02-\u9501\u7684\u5206\u7c7b.md","route":"/Mysql/03-\u9501\u673a\u5236 /02-\u9501\u7684\u5206\u7c7b.md","leaf":true,"title":"02-\u9501\u7684\u5206\u7c7b","depth":2,"content":"---\\ntitle: 02-\u9501\u7684\u5206\u7c7b\\n---\\n\\n<https://baijiahao.baidu.com/s?id=1719317428791454942&wfr=spider&for=pc> \\n\\n### 1\u3001\u9501\u7684\u5206\u7c7b\\n\\n- \u4ece\u6027\u80fd\u4e0a\u5206\\n  - \u4e50\u89c2\u9501(\u7528\u7248\u672c\u5bf9\u6bd4\u6765\u5b9e\u73b0)\\n  - \u60b2\u89c2\u9501;\\n- \u4ece\u5bf9\u6570\u636e\u5e93\u64cd\u4f5c\u7684\u7c7b\u578b\u5206 (\u90fd\u5c5e\u4e8e\u60b2\u89c2\u9501)\\n  - \u8bfb\u9501\uff08\u5171\u4eab\u9501\uff0cS\u9501(Shared)\uff09\uff1a\u9488\u5bf9\u540c\u4e00\u4efd\u6570\u636e\uff0c\u591a\u4e2a\u8bfb\u64cd\u4f5c\u53ef\u4ee5\u540c\u65f6\u8fdb\u884c\u800c\u4e0d\u4f1a\u4e92\u76f8\u5f71\u54cd\\n  - \u5199\u9501\uff08\u6392\u5b83\u9501\uff0cX\u9501(eXclusive)\uff09\uff1a\u5f53\u524d\u5199\u64cd\u4f5c\u6ca1\u6709\u5b8c\u6210\u524d\uff0c\u5b83\u4f1a\u963b\u65ad\u5176\u4ed6\u5199\u9501\u548c\u8bfb\u9501\\n- \u4ece\u5bf9\u6570\u636e\u64cd\u4f5c\u7684\u7c92\u5ea6\u5206\\n  - \u8868\u9501\\n  - \u884c\u9501 \\n\\n### 2\u3001\u8868\u9501\u4e0e\u884c\u9501\\n\\n\\n\\n#### 1. \u8868\u9501\u7684\u4ecb\u7ecd\\n\\n\u6bcf\u6b21\u64cd\u4f5c\u9501\u4f4f\u6574\u5f20\u8868\uff1a\\n\\n- \u5f00\u9500\u5c0f\uff08\u4e0d\u9700\u8981\u5b9a\u4f4d\u5230\u67d0\u4e2a\u5143\u7d20\uff0c\u53ea\u9700\u8981\u5b9a\u4f4d\u5230\u8868\uff09\\n- \u52a0\u9501\u5feb\uff1b\\n- \u4e0d\u4f1a\u51fa\u73b0\u6b7b\u9501\uff1b\\n- \u9501\u5b9a\u7c92\u5ea6\u5927\uff0c\u53d1\u751f\u9501\u51b2\u7a81\u7684\u6982\u7387\u6700\u9ad8\uff0c\u5e76\u53d1\u5ea6\u6700\u4f4e\uff1b\\n\\n\u4e00\u822c\u7528\u5728\u6574\u8868\u6570\u636e\u8fc1\u79fb\u7684\u573a\u666f\u3002\\n\\n\\n\\n#### 2. \u8868\u9501\u64cd\u4f5c\u65b9\u5f0f (lock table...)\\n\\n- \u624b\u52a8\u589e\u52a0\u8868\u9501: `lock table \u8868\u540d\u79f0 read(write),\u8868\u540d\u79f02 read(write);`\\n- \u67e5\u770b\u8868\u4e0a\u52a0\u8fc7\u7684\u9501: `show open tables;`\\n- \u5220\u9664\u8868\u9501: `unlock tables;`\\n\\n\\n\\n#### 3. \u884c\u9501\u7684\u4ecb\u7ecd\\n\\n\u6bcf\u6b21\u64cd\u4f5c\u9501\u4f4f\u4e00\u884c\u6570\u636e\u3002\\n\\n- \u5f00\u9500\u5927\uff0c\u52a0\u9501\u6162\uff1b\\n- \u4f1a\u51fa\u73b0\u6b7b\u9501\uff1b\\n- \u9501\u5b9a\u7c92\u5ea6\u6700\u5c0f\uff0c\u53d1\u751f\u9501\u51b2\u7a81\u7684\u6982\u7387\u6700\u4f4e\uff0c\u5e76\u53d1\u5ea6\u9ad8\u3002\\n\\nInnoDB \u4e0eMYISAM \u7684\u6700\u5927\u4e0d\u540c\u70b9\uff1aInnoDB \u652f\u6301\u884c\u7ea7\u9501\u3001\u652f\u6301\u4e8b\u52a1\\n\\n- MyISAM \u5728\u6267\u884c\u67e5\u8be2\u8bed\u53e5 SELECT \u524d\uff0c\u4f1a\u81ea\u52a8\u7ed9\u6d89\u53ca\u7684\u6240\u6709\u8868\u52a0\u8bfb\u9501,\u5728\u6267\u884c update\u3001insert\u3001delete \u64cd\u4f5c\u4f1a\u81ea\u52a8\u7ed9\u6d89\u53ca\u7684\u8868\u52a0\u5199\u9501\u3002\\n- InnoDB \u5728\u6267\u884c\u67e5\u8be2\u8bed\u53e5 SELECT \u65f6(\u975e\u4e32\u884c\u9694\u79bb\u7ea7\u522b)\uff0c\u4e0d\u4f1a\u52a0\u9501\u3002\u4f46\u662f update\u3001insert\u3001delete \u64cd\u4f5c\u4f1a\u52a0\u884c\u9501\u3002\\n\\n\\n\\n#### 4. \u884c\u9501\u64cd\u4f5c\u65b9\u5f0f \uff08...`for update`\uff09\\n\\nsql \u540e\u589e\u52a0 `for update` \u6765\u5b9e\u73b0\u884c\u9501\u3002`for update` \u5728\u4e0d\u8d70\u7d22\u5f15\u7684\u65f6\u5019\u4f1a\u9501\u8868\uff01\u4f46\u662f\u5f53\u8981\u4fee\u6539\u6216\u8005\u67e5\u8be2\u7684\u6570\u636e\u4e0d\u5b58\u5728\u7684\u65f6\u5019\uff0c\u4e0d\u4f1a\u9501\u8868\uff0c\u4e5f\u4e0d\u4f1a\u9501\u5b9a\u884c\uff01\\n\\n\\n\\n### 3\u3001\u8bfb\u9501\u4e0e\u5199\u9501\\n\\n\u8bfb\u9501\u4f1a\u963b\u585e\u5199\uff0c\u4f46\u662f\u4e0d\u4f1a\u963b\u585e\u8bfb\u3002\u800c\u5199\u9501\u5219\u4f1a\u628a\u8bfb\u548c\u5199\u90fd\u963b\u585e\u3002\\n\\n\\n\\n### 4\u3001\u5e76\u53d1\u573a\u666f\u4e0b\u6311\u6218\\n\\n\u591a\u7ebf\u7a0b\u6216\u8005\u5206\u5e03\u5f0f\u7a0b\u5e8f\u4e2d\uff0c\u5e76\u53d1\u7684\u5bf9 mysql \u8868\u8bb0\u5f55\u8fdb\u884c\u4fee\u6539\u65f6\uff0c\u7531\u4e8e\u7f51\u7edc\u539f\u56e0\uff0c\u5728\u903b\u8f91\u4e0a\u65e0\u6cd5\u4fdd\u8bc1\u6700\u540e\u7684\u4fee\u6539\u8005\uff0c\u65e0\u6cd5\u4fdd\u8bc1\u6570\u636e\u7684\u6b63\u786e\u6027\u3002\u4e3e\u4f8b\uff1a\\n\\n\\n\\n#### 1. \u4e50\u89c2\u9501\u65b9\u6848\\n\\n\u5728\u8868\u91cc\u589e\u52a0\u4e2a\u5b57\u6bb5\uff0c\u7248\u672c\u53f7\u5b57\u6bb5\uff0c\u6bcf\u6b21\u66f4\u65b0\u524d\u5148\u4ece\u6570\u636e\u5e93\u91cc\u83b7\u53d6\u8fd9\u4e2a\u7248\u672c\u53f7\u7684\u503c\uff0c\u7136\u540e\u66f4\u65b0\u65f6\u8981\u540c\u6b65\u66f4\u65b0\u7248\u672c\u53f7+1\uff0c\u5e76\u4e14\u589e\u52a0\u66f4\u65b0\u6761\u4ef6\u7248\u672c\u53f7=\u67e5\u8be2\u51fa\u6765\u7684\u503c\u3002\\n\\n\u56e0\u4e3a\u66f4\u65b0\u65f6\u6bcf\u6b21\u53ea\u53ef\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u66f4\u65b0\u5230\u6570\u636e\uff0c\u7b49\u5230\u53e6\u5916\u4e00\u4e2a\u7ebf\u7a0b\u518d\u53bb\u66f4\u65b0\u6570\u636e\u7684\u65f6\u5019\u7248\u672c\u53f7\u5df2\u7ecf+1\u4e86\uff0c\u6240\u4ee5\u4f1a\u66f4\u65b0\u5931\u8d25\uff0c\u91cd\u65b0\u83b7\u53d6\u7248\u672c\u53f7\u518d\u8d70\u66f4\u65b0\u6d41\u7a0b\uff0c\u8fd9\u6837\u5c31\u89e3\u51b3\u4e86\u591a\u7ebf\u7a0b\u5e76\u53d1\u66f4\u65b0\u88ab\u8986\u76d6\u7684\u95ee\u9898\u3002\\n\\n\u800c\u4e14\u4e50\u89c2\u9501\u673a\u5236\u907f\u514d\u4e86\u957f\u4e8b\u52a1\u4e2d\u7684\u6570\u636e\u5e93\u52a0\u9501\u5f00\u9500\uff08\u591a\u4e2a\u7ebf\u7a0b\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\uff0c\u90fd\u6ca1\u6709\u5bf9\u6570\u636e\u5e93\u6570\u636e\u52a0\u9501\uff09\uff0c\u5927\u5927\u63d0\u5347\u4e86\u5927\u5e76\u53d1\u91cf\u4e0b\u7684\u7cfb\u7edf\u6574\u4f53\u6027\u80fd\u8868\u73b0\u3002\\n","isLeaf":true},{"key":"/Mysql/03-\u9501\u673a\u5236 /03 \u4e50\u89c2\u9501 & \u60b2\u89c2\u9501.md","path":"/Mysql/03-\u9501\u673a\u5236 /03 \u4e50\u89c2\u9501 & \u60b2\u89c2\u9501.md","route":"/Mysql/03-\u9501\u673a\u5236 /03 \u4e50\u89c2\u9501 & \u60b2\u89c2\u9501.md","leaf":true,"title":"03 \u4e50\u89c2\u9501 & \u60b2\u89c2\u9501","depth":2,"content":"---\\ntitle: 03 \u4e50\u89c2\u9501 & \u60b2\u89c2\u9501\\n---\\n\\n### 1\u3001\u4e50\u89c2\u9501\\n\\n\u4e50\u89c2\u9501\u4e0d\u662f\u6570\u636e\u5e93\u81ea\u5e26\u7684\uff0c\u9700\u8981\u6211\u4eec\u81ea\u5df1\u53bb\u5b9e\u73b0\u3002\u4e50\u89c2\u9501\u662f\u6307\u64cd\u4f5c\u6570\u636e\u5e93\u65f6(\u66f4\u65b0\u64cd\u4f5c)\uff0c\u60f3\u6cd5\u5f88\u4e50\u89c2\uff0c\u8ba4\u4e3a\u8fd9\u6b21\u7684\u64cd\u4f5c\u4e0d\u4f1a\u5bfc\u81f4\u51b2\u7a81\uff0c\u5728\u64cd\u4f5c\u6570\u636e\u65f6\uff0c\u5e76\u4e0d\u8fdb\u884c\u4efb\u4f55\u5176\u4ed6\u7684\u7279\u6b8a\u5904\u7406\uff08\u4e5f\u5c31\u662f\u4e0d\u52a0\u9501\uff09\uff0c\u800c\u5728\u8fdb\u884c\u66f4\u65b0\u540e\uff0c\u518d\u53bb\u5224\u65ad\u662f\u5426\u6709\u51b2\u7a81\u4e86\u3002\\n\\n```sql\\n# \u67e5\u8be2\u51fa\u5546\u54c1\u4fe1\u606f\\nselect (status,status,version) from t_goods where id=#{id}\\n\\n# \u6839\u636e\u5546\u54c1\u4fe1\u606f\u751f\u6210\u8ba2\u5355, \u4fee\u6539\u5546\u54c1status\u4e3a2\\nupdate\\n  t_goods \\nset\\n  status = 2,\\n  version = version+1\\nwhere id=#{id} and version=#{version};\\n```\\n\\n\\n\\n### 2\u3001[\u60b2\u89c2\u9501](https://so.csdn.net/so/search?q=%E6%82%B2%E8%A7%82%E9%94%81\\\\&spm=1001.2101.3001.7020)\\n\\n\u60b2\u89c2\u9501\u5c31\u662f\u5728\u64cd\u4f5c\u6570\u636e\u65f6\uff0c\u8ba4\u4e3a\u6b64\u64cd\u4f5c\u4f1a\u51fa\u73b0\u6570\u636e\u51b2\u7a81\uff0c\u6240\u4ee5\u5728\u8fdb\u884c\u6bcf\u6b21\u64cd\u4f5c\u65f6\u90fd\u8981\u901a\u8fc7\u83b7\u53d6\u9501\u624d\u80fd\u8fdb\u884c\u5bf9\u76f8\u540c\u6570\u636e\u7684\u64cd\u4f5c\u3002 \\n\\n#### 1. \u5171\u4eab\u9501  (\u8bfb\u9501)\\n\\n\u5171\u4eab\u9501(S\u9501)\u53c8\u79f0\u4e3a\u8bfb\u9501\uff0c\u82e5\u4e8b\u52a1T\u5bf9A\u52a0\u4e0aS\u9501\uff0c\u5219\u4e8b\u52a1T\u53ea\u80fd\u8bfbA\uff1b\\n\u5176\u4ed6\u4e8b\u52a1\u53ea\u80fd\u518d\u5bf9A\u52a0S\u9501\uff0c\u800c\u4e0d\u80fd\u52a0\u6392\u4ed6\u9501\uff08X\u9501\uff09\uff0c\u76f4\u5230T\u91ca\u653eA\u4e0a\u7684S\u9501\u3002\u8fd9\u5c31\u4fdd\u8bc1\u4e86\u5176\u4ed6\u4e8b\u52a1\u53ef\u4ee5\u8bfbA\uff0c\u4f46\u5728T\u91ca\u653eA\u4e0a\u7684S\u9501\u4e4b\u524d\u4e0d\u80fd\u5bf9A\u505a\u4efb\u4f55\u4fee\u6539\u3002 \\n\\n#### 2. \u6392\u5b83\u9501 (X\u9501)\\n\\n\u6392\u4ed6\u9501\uff08X\u9501\uff09\uff1a\u5982\u679c\u4e8b\u52a1T\u5bf9\u6570\u636eA\u52a0\u4e0a\u6392\u4ed6\u9501\u540e\uff0c\u5219\u5176\u4ed6\u4e8b\u52a1\u4e0d\u80fd\u518d\u5bf9A\u52a0\u4efb\u4efb\u4f55\u7c7b\u578b\u7684\u5c01\u9501\u3002\u83b7\u51c6\u6392\u4ed6\u9501\u7684\u4e8b\u52a1\u65e2\u80fd\u8bfb\u6570\u636e\uff0c\u53c8\u80fd\u4fee\u6539\u6570\u636e\u3002\\n","isLeaf":true},{"key":"/Mysql/03-\u9501\u673a\u5236 /04-InnoDB\u6b7b\u9501.md","path":"/Mysql/03-\u9501\u673a\u5236 /04-InnoDB\u6b7b\u9501.md","route":"/Mysql/03-\u9501\u673a\u5236 /04-InnoDB\u6b7b\u9501.md","leaf":true,"title":"04-InnoDB\u6b7b\u9501","depth":2,"content":"---\\ntitle: 04-InnoDB\u6b7b\u9501\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n\\n\\n### 1\u3001\u6b7b\u9501\u5b9a\u4e49\\n\\n\u5f53\u4e24\u4e2a\u6216\u4ee5\u4e0a\u7684\u4e8b\u52a1\u76f8\u4e92\u6301\u6709\u548c\u8bf7\u6c42\u9501\uff0c\u5e76\u5f62\u6210\u4e00\u4e2a\u5faa\u73af\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u5c31\u4f1a\u4ea7\u751f\u6b7b\u9501\u3002\u591a\u4e2a\u4e8b\u52a1\u540c\u65f6\u9501\u5b9a\u540c\u4e00\u4e2a\u8d44\u6e90\u65f6\uff0c\u4e5f\u4f1a\u4ea7\u751f\u6b7b\u9501\u3002\u5728\u4e00\u4e2a\u4e8b\u52a1\u7cfb\u7edf\u4e2d\uff0c\u6b7b\u9501\u662f\u786e\u5207\u5b58\u5728\u5e76\u4e14\u662f\u4e0d\u80fd\u5b8c\u5168\u907f\u514d\u7684\u3002\\n\\n\u89e3\u51b3\uff1aInnoDB\u4f1a\u81ea\u52a8\u68c0\u6d4b\u4e8b\u52a1\u6b7b\u9501\uff0c\u7acb\u5373\u56de\u6eda\u5176\u4e2d\u67d0\u4e2a\u4e8b\u52a1\uff0c\u5e76\u4e14\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\u3002\u5b83\u6839\u636e\u67d0\u79cd\u673a\u5236\u6765\u9009\u62e9\u90a3\u4e2a\u6700\u7b80\u5355\uff08\u4ee3\u4ef7\u6700\u5c0f\uff09\u7684\u4e8b\u52a1\u6765\u8fdb\u884c\u56de\u6eda\u3002\\n\\n\\n\\n### 2\u3001\u6b7b\u9501\u573a\u666f\u4e00\u4e4b select for update\\n\\n\u4ea7\u751f\u573a\u666f\uff1a\u4e24\u4e2a transaction \u90fd\u6709\u4e24\u4e2a select for update\\n\\n- transaction a \u5148\u9501\u8bb0\u5f551\uff0c\u518d\u9501\u8bb0\u5f552\\n- transaction b \u5148\u9501\u8bb0\u5f552\uff0c\u518d\u9501\u8bb0\u5f551\\n\\n\u7b2c\u4e00\u6b65\u66f4\u65b0\u4f1a\u8bdd\u4e00:\\n\\n```sql\\nstart TRANSACTION;\\nselect * from t_lock where id=1 for update;\\n```\\n\\n\u7b2c\u4e8c\u6b65\u66f4\u65b0\u4f1a\u8bdd\u4e8c:\\n\\n```sql\\nstart TRANSACTION;\\nselect * from t_lock where id=2 for update;\\n```\\n\\n\u7b2c\u4e09\u6b65\u66f4\u65b0\u4f1a\u8bdd\u4e00:\\n\\n```sql\\nselect * from t_lock where id=2 for update;\\n```\\n\\n![](http://s3.airtlab.com/mysql/20220603101538.png)\\n\\n\u7b2c\u56db\u6b65\u66f4\u65b0\u4f1a\u8bdd\u4e8c:\\n\\n```sql\\nselect * from t_lock where id=1 for update;\\n```\\n\\n![](http://s3.airtlab.com/mysql/20220603101613.png)\\n\\n\u6765\u770b\u4e0b\u6267\u884c\u7684\u65e5\u5fd7:\\n\\n```sql\\nshow engine innodb status;\\n```\\n\\n\u6700\u540e\u4e00\u4e2a\u9501\u7684\u65f6\u95f4\uff0c\u9501\u7684\u8868\uff0c\u5f15\u8d77\u9501\u7684\u8bed\u53e5\u3002\u5176\u4e2dsession1\u88ab\u9501 14\u79d2(ACTIVE 14)\uff0csession 2\u88ab\u9501\u4e8610\u79d2(Active 10)\\n\\n\\n\\n### 3\u3001\u6b7b\u9501\u573a\u666f\u4e8c\u4e4b \u4e24\u4e2aupdate\\n\\n\u4ea7\u751f\u573a\u666f\uff1a\u4e24\u4e2atransaction\u90fd\u6709\u4e24\u4e2aupdate:\\n\\n- transaction a\u5148\u66f4\u65b0\u8bb0\u5f551\uff0c\u518d\u66f4\u65b0\u8bb0\u5f552\\n- transaction b\u5148\u66f4\u65b0\u8bb0\u5f552\uff0c\u518d\u66f4\u65b0\u8bb0\u5f551\\n\\n![](http://s3.airtlab.com/mysql/20220603101843.png)\\n\\n\u4ea7\u751f\u65e5\u5fd7\uff1a\\n\\n![](http://s3.airtlab.com/mysql/20220603101903.png)\\n\\n\\n\\n### 4\u3001innodb\\\\_deadlock\\\\_detect\\n\\n\u6ce8\u610f\uff1a\u4ed4\u7ec6\u67e5\u770b\u4e0a\u97622\u4e2a\u4f8b\u5b50\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a\u73b0\u8c61\uff0c\u5f532\u6761\u8d44\u6e90\u9501\u4f4f\u540e\uff0c\u518d\u6267\u884c\u7b2c\u4e09\u4e2a\u4f1a\u6267\u884c\u6210\u529f\uff0c\u4f46\u662f\u7b2c\u56db\u4e2a\u4f1a\u63d0\u793a\u6b7b\u9501\u3002\\n\\n\u5728mysql5.7\u4e2d\uff0c\u6267\u884c\u7b2c\u4e09\u4e2a\u7684\u65f6\u5019\u5c31\u4f1a\u4e00\u76f4\u5728Running\u72b6\u6001\u4e86\uff0c\u672c\u535a\u6587\u4f7f\u7528\u7684\u662fmysql8.0 \uff0c\u5176\u4e2d \u6709\u8fd9\u4e2a\u53c2\u6570 innodb\\\\_deadlock\\\\_detect \u53ef\u4ee5\u7528\u4e8e\u63a7\u5236 InnoDB \u662f\u5426\u6267\u884c\u6b7b\u9501\u68c0\u6d4b\uff0c\u5f53\u542f\u7528\u4e86\u6b7b\u9501\u68c0\u6d4b\u65f6\uff08\u9ed8\u8ba4\u8bbe\u7f6e\uff09\uff0cInnoDB \u81ea\u52a8\u6267\u884c\u4e8b\u52a1\u7684\u6b7b\u9501\u68c0\u6d4b\uff0c\u5e76\u4e14\u56de\u6eda\u4e00\u4e2a\u6216\u591a\u4e2a\u4e8b\u52a1\u4ee5\u89e3\u51b3\u6b7b\u9501\u3002InnoDB \u5c1d\u8bd5\u56de\u6eda\u66f4\u5c0f\u7684\u4e8b\u52a1\uff0c\u4e8b\u52a1\u7684\u5927\u5c0f\u7531\u5b83\u6240\u63d2\u5165\u3001\u66f4\u65b0\u6216\u8005\u5220\u9664\u7684\u6570\u636e\u884c\u6570\u51b3\u5b9a\u3002\\n\\n![](http://s3.airtlab.com/mysql/20220603102035.png)\\n\\n\u90a3\u4e48\u8fd9\u4e2ainnodb\\\\_deadlock\\\\_detect\u53c2\u6570\uff0c\u5230\u5e95\u8981\u4e0d\u8981\u542f\u7528\u5462\uff1f\\n\\n> \u5bf9\u4e8e\u9ad8\u5e76\u53d1\u7684\u7cfb\u7edf\uff0c\u5f53\u5927\u91cf\u7ebf\u7a0b\u7b49\u5f85\u540c\u4e00\u4e2a\u9501\u65f6\uff0c\u6b7b\u9501\u68c0\u6d4b\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6027\u80fd\u7684\u4e0b\u964d\u3002\u6b64\u65f6\uff0c\u5982\u679c\u7981\u7528\u6b7b\u9501\u68c0\u6d4b\uff0c\u800c\u6539\u4e3a\u4f9d\u9760\u53c2\u6570 innodb\\\\_lock\\\\_wait\\\\_timeout \u6267\u884c\u53d1\u751f\u6b7b\u9501\u65f6\u7684\u4e8b\u52a1\u56de\u6eda\u53ef\u80fd\u4f1a\u66f4\u52a0\u9ad8\u6548\u3002\\n\\n\u901a\u5e38\u6765\u8bf4\uff0c\u5e94\u8be5\u542f\u7528\u6b7b\u9501\u68c0\u6d4b\uff0c\u5e76\u4e14\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5c3d\u91cf\u907f\u514d\u4ea7\u751f\u6b7b\u9501\uff0c\u540c\u65f6\u5bf9\u6b7b\u9501\u8fdb\u884c\u76f8\u5e94\u7684\u5904\u7406\uff0c\u4f8b\u5982\u91cd\u65b0\u5f00\u59cb\u4e8b\u52a1\u3002\\n\\n\u53ea\u6709\u5728\u786e\u8ba4\u6b7b\u9501\u68c0\u6d4b\u5f71\u54cd\u4e86\u7cfb\u7edf\u7684\u6027\u80fd\uff0c\u5e76\u4e14\u7981\u7528\u6b7b\u9501\u68c0\u6d4b\u4e0d\u4f1a\u5e26\u6765\u8d1f\u9762\u5f71\u54cd\u65f6\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u5173\u95ed innodb\\\\_deadlock\\\\_detect \u9009\u9879\u3002\u53e6\u5916\uff0c\u5982\u679c\u7981\u7528\u4e86 InnoDB \u6b7b\u9501\u68c0\u6d4b\uff0c\u9700\u8981\u8c03\u6574\u53c2\u6570 innodb\\\\_lock\\\\_wait\\\\_timeout \u7684\u503c\uff0c\u4ee5\u6ee1\u8db3\u5b9e\u9645\u7684\u9700\u6c42\u3002\\n\\n\\n\\n### 5\u3001\u7a0b\u5e8f\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5e94\u8be5\u5982\u4f55\u6ce8\u610f\u907f\u514d\u6b7b\u9501\\n\\n\u9501\u7684\u672c\u8d28\u662f\u8d44\u6e90\u76f8\u4e92\u7ade\u4e89\uff0c\u76f8\u4e92\u7b49\u5f85\uff0c\u5f80\u5f80\u662f\u4e24\u4e2a(\u6216\u4ee5\u4e0a)\u7684Session\u52a0\u9501\u7684\u987a\u5e8f\u4e0d\u4e00\u81f4\u3002\u5982\u4f55\u6709\u6548\u907f\u514d\uff1f\\n\\n\uff081\uff09\u5728\u7a0b\u5e8f\u4e2d\uff0c\u64cd\u4f5c\u591a\u5f20\u8868\u65f6\uff0c\u5c3d\u91cf\u4ee5\u76f8\u540c\u7684\u987a\u5e8f\u6765\u8bbf\u95ee\uff08\u907f\u514d\u5f62\u6210\u7b49\u5f85\u73af\u8def\uff09\\n\\n\uff082\uff09\u6279\u91cf\u64cd\u4f5c\u5355\u5f20\u8868\u6570\u636e\u7684\u65f6\u5019\uff0c\u5148\u5bf9\u6570\u636e\u8fdb\u884c\u6392\u5e8f\uff08\u907f\u514d\u5f62\u6210\u7b49\u5f85\u73af\u8def\uff09 A\u7ebf\u7a0b id\uff1a1 ,10 ,20\u6309\u987a\u5e8f\u52a0\u9501 \xa0 \xa0 B\u7ebf\u7a0bid:20,10,1 \xa0 \u8fd9\u79cd\u7684\u8bdd\u5c31\u5bb9\u6613\u9501\u3002\\n\\n\uff083\uff09\u5982\u679c\u53ef\u4ee5\uff0c\u5927\u4e8b\u52a1\u5316\u6210\u5c0f\u4e8b\u52a1\uff0c\u751a\u81f3\u4e0d\u5f00\u542f\u4e8b\u52a1 select for update==>insert==>update = insert into update on duplicate key\\n\\n\uff084\uff09\u5c3d\u91cf\u4f7f\u7528\u7d22\u5f15\u8bbf\u95ee\u6570\u636e\uff0c\u907f\u514d\u6ca1\u6709 where \u6761\u4ef6\u7684\u64cd\u4f5c\uff0c\u907f\u514d\u9501\u8868 \u6709\u8d70\u7d22\u5f15\u662f\u8bb0\u5f55\u884c\u9501\uff0c\u6ca1\u8d70\u7d22\u5f15\u662f\u8868\u9501\\n\\n\uff085\uff09\u4f7f\u7528\u7b49\u503c\u67e5\u8be2\u800c\u4e0d\u662f\u8303\u56f4\u67e5\u8be2\u67e5\u8be2\u6570\u636e\uff0c\u547d\u4e2d\u8bb0\u5f55\uff0c\u907f\u514d\u95f4\u9699\u9501\u5bf9\u5e76\u53d1\u7684\u5f71\u54cd 1\uff0c10\uff0c20 \u7b49\u503cwhere id in (1,10,20) \u8303\u56f4\u67e5\u8be2 id>1 and id<20\\n\\n\uff086\uff09\u907f\u514d\u5728\u540c\u4e00\u65f6\u95f4\u70b9\u8fd0\u884c\u591a\u4e2a\u5bf9\u540c\u4e00\u8868\u8fdb\u884c\u8bfb\u5199\u7684\u811a\u672c\uff0c\u7279\u522b\u6ce8\u610f\u52a0\u9501\u4e14\u64cd\u4f5c\u6570\u636e\u91cf\u6bd4\u8f83\u5927\u7684\u8bed\u53e5\uff1b\u6211\u4eec\u7ecf\u5e38\u4f1a\u6709\u4e00\u4e9b\u5b9a\u65f6\u811a\u672c\uff0c\u907f\u514d\u5b83\u4eec\u5728\u540c\u4e00\u65f6\u95f4\u70b9\u8fd0\u884c\\n","isLeaf":true}]},{"key":"/Mysql/04-\u4e8b\u52a1\u673a\u5236","path":"/Mysql/04-\u4e8b\u52a1\u673a\u5236","route":"/Mysql/04-\u4e8b\u52a1\u673a\u5236","leaf":false,"title":"04-\u4e8b\u52a1\u673a\u5236","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Mysql/04-\u4e8b\u52a1\u673a\u5236/01-\u4e24\u9636\u6bb5\u63d0\u4ea4.md","path":"/Mysql/04-\u4e8b\u52a1\u673a\u5236/01-\u4e24\u9636\u6bb5\u63d0\u4ea4.md","route":"/Mysql/04-\u4e8b\u52a1\u673a\u5236/01-\u4e24\u9636\u6bb5\u63d0\u4ea4.md","leaf":true,"title":"01-\u4e24\u9636\u6bb5\u63d0\u4ea4","depth":2,"content":"---\\ntitle: 01-\u4e24\u9636\u6bb5\u63d0\u4ea4\\nurl: https://www.yuque.com/gaollard/utbbp1/lkabcn\\n---\\n\\n- <https://www.cnblogs.com/jelly12345/p/14446008.html>\\n- <https://zhuanlan.zhihu.com/p/348828585>\\n- <https://zhuanlan.zhihu.com/p/377412719>\\n","isLeaf":true},{"key":"/Mysql/04-\u4e8b\u52a1\u673a\u5236/02-\u4e8b\u52a1\u5904\u7406.md","path":"/Mysql/04-\u4e8b\u52a1\u673a\u5236/02-\u4e8b\u52a1\u5904\u7406.md","route":"/Mysql/04-\u4e8b\u52a1\u673a\u5236/02-\u4e8b\u52a1\u5904\u7406.md","leaf":true,"title":"02-\u4e8b\u52a1\u5904\u7406","depth":2,"content":"---\\ntitle: 02-\u4e8b\u52a1\u5904\u7406\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n\\n\\n### 1. \u4ec0\u4e48\u662f\u4e8b\u52a1\\n\\n![image.png](http://s3.airtlab.com/mysql/1601975012141-d10ac3f8-2996-43ba-91b9-72e4bfb0276e.png) \\n\\n### 2. \u4e8b\u52a1\u7684\u539f\u7406\\n\\n![image.png](http://s3.airtlab.com/mysql/1656428518318-f833e306-2639-4cea-bb81-2db85efa9efc.png)\\n![image.png](http://s3.airtlab.com/mysql/1601975519551-f603e1a0-97b7-4a2e-91e3-a146594b2a50.png) \\n\\n### 3. \u4e8b\u52a1\u7684\u7279\u6027\\n\\n![image.png](http://s3.airtlab.com/mysql/1601975727500-8343ebc1-5879-41ac-aeec-5a12ebc94f22.png)\\n","isLeaf":true},{"key":"/Mysql/04-\u4e8b\u52a1\u673a\u5236/03-\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b.md","path":"/Mysql/04-\u4e8b\u52a1\u673a\u5236/03-\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b.md","route":"/Mysql/04-\u4e8b\u52a1\u673a\u5236/03-\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b.md","leaf":true,"title":"03-\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b","depth":2,"content":"---\\ntitle: 03-\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n\\n\\n### 1. \u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\\n\\n![image.png](http://s3.airtlab.com/mysql/1601985719414-b9620436-1bda-44f5-9946-9007739cd3c9.png)\u4e3e\u4f8b\u8bf4\u660e\uff1a<https://blog.csdn.net/weixin_43790562/article/details/117195535> \\n\\n### 2. \u4e8b\u52a1\u7684\u6f14\u793a\\n\\n\\n\\n#### 2.1 mysql \u4e8b\u52a1\u652f\u6301\u81ea\u52a8\u63d0\u4ea4\\n\\n![image.png](http://s3.airtlab.com/mysql/1601985910947-09e2873e-ce9f-4d0f-8dcc-81e0e56596ba.png)\\n![image.png](http://s3.airtlab.com/mysql/1601985987596-7a163627-754b-4371-baae-02bd08f2f290.png) \\n\\n#### 2.2 \u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u6f14\u793a\\n\\n![image.png](http://s3.airtlab.com/mysql/1601988136160-1def1715-2236-4e43-9c0b-3cf227219454.png)\\n","isLeaf":true},{"key":"/Mysql/04-\u4e8b\u52a1\u673a\u5236/04-\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u7684\u533a\u522b.md","path":"/Mysql/04-\u4e8b\u52a1\u673a\u5236/04-\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u7684\u533a\u522b.md","route":"/Mysql/04-\u4e8b\u52a1\u673a\u5236/04-\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u7684\u533a\u522b.md","leaf":true,"title":"04-\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u7684\u533a\u522b","depth":2,"content":"---\\ntitle: 04-\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u7684\u533a\u522b\\n---\\n\\n<https://www.csdn.net/tags/OtTaMg1sNzkyNTUtYmxvZwO0O0OO0O0O.html>\\n","isLeaf":true}]},{"key":"/Mysql/05-\u6570\u636e\u540c\u6b65","path":"/Mysql/05-\u6570\u636e\u540c\u6b65","route":"/Mysql/05-\u6570\u636e\u540c\u6b65","leaf":false,"title":"05-\u6570\u636e\u540c\u6b65","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Mysql/05-\u6570\u636e\u540c\u6b65/01-\u8fc1\u79fb\u4ecb\u7ecd.md","path":"/Mysql/05-\u6570\u636e\u540c\u6b65/01-\u8fc1\u79fb\u4ecb\u7ecd.md","route":"/Mysql/05-\u6570\u636e\u540c\u6b65/01-\u8fc1\u79fb\u4ecb\u7ecd.md","leaf":true,"title":"01-\u8fc1\u79fb\u4ecb\u7ecd","depth":2,"content":"---\\ntitle: 01-\u8fc1\u79fb\u4ecb\u7ecd\\nurl: https://www.yuque.com/gaollard/utbbp1/fbnwps\\n---\\n\\n- \u540c\u6784\u8fc1\u79fb\\n- \u5f02\u6784\u8fc1\u79fb\\n","isLeaf":true},{"key":"/Mysql/05-\u6570\u636e\u540c\u6b65/02-\u8868\u8815\u866b\u590d\u5236.md","path":"/Mysql/05-\u6570\u636e\u540c\u6b65/02-\u8868\u8815\u866b\u590d\u5236.md","route":"/Mysql/05-\u6570\u636e\u540c\u6b65/02-\u8868\u8815\u866b\u590d\u5236.md","leaf":true,"title":"02-\u8868\u8815\u866b\u590d\u5236","depth":2,"content":"---\\ntitle: 02-\u8868\u8815\u866b\u590d\u5236\\nurl: https://www.yuque.com/gaollard/utbbp1/ehh73z\\n---\\n\\n<https://juejin.cn/post/6999528489971875854>\\n","isLeaf":true},{"key":"/Mysql/05-\u6570\u636e\u540c\u6b65/03-\u5b9e\u65f6\u540c\u6b65\u5230ES.md","path":"/Mysql/05-\u6570\u636e\u540c\u6b65/03-\u5b9e\u65f6\u540c\u6b65\u5230ES.md","route":"/Mysql/05-\u6570\u636e\u540c\u6b65/03-\u5b9e\u65f6\u540c\u6b65\u5230ES.md","leaf":true,"title":"03-\u5b9e\u65f6\u540c\u6b65\u5230ES","depth":2,"content":"---\\ntitle: 03-\u5b9e\u65f6\u540c\u6b65\u5230ES\\nurl: https://www.yuque.com/gaollard/utbbp1/dvc0ru\\n---\\n\\n<https://blog.51cto.com/u_15050720/4245988>\\n","isLeaf":true},{"key":"/Mysql/05-\u6570\u636e\u540c\u6b65/04-canal \u8ba2\u9605 binlog.md","path":"/Mysql/05-\u6570\u636e\u540c\u6b65/04-canal \u8ba2\u9605 binlog.md","route":"/Mysql/05-\u6570\u636e\u540c\u6b65/04-canal \u8ba2\u9605 binlog.md","leaf":true,"title":"04-canal \u8ba2\u9605 binlog","depth":2,"content":"---\\ntitle: 04-canal \u8ba2\u9605 binlog\\nurl: https://www.yuque.com/gaollard/utbbp1/aohf9s\\n---\\n\\n- <https://zhuanlan.zhihu.com/p/424550462>\\n- <https://github.com/alibaba/canal/wiki>\\n\\n![image.png](https://s3.airtlab.com/mysql/1663925660698-e1fb4e47-c8d1-44f4-9c16-15e3bb8ade0e.png)\\n\\n### \u5de5\u4f5c\u539f\u7406\\n\\n- canal \u6a21\u62df MySQL slave \u7684\u4ea4\u4e92\u534f\u8bae\uff0c\u4f2a\u88c5\u81ea\u5df1\u4e3a MySQL slave \uff0c\u5411 MySQL master \u53d1\u9001 dump \u534f\u8bae\\n- MySQL master \u6536\u5230 dump \u8bf7\u6c42\uff0c\u5f00\u59cb\u63a8\u9001 binary log \u7ed9 slave (\u5373 canal )\\n- canal \u89e3\u6790 binary log \u5bf9\u8c61 (\u539f\u59cb\u4e3a byte \u6d41) \\n\\n### \u5ba2\u6237\u7aef\\n\\ncanal \u7279\u522b\u8bbe\u8ba1\u4e86 client-server \u6a21\u5f0f\uff0c\u4ea4\u4e92\u534f\u8bae\u4f7f\u7528 protobuf 3.0 , client \u7aef\u53ef\u91c7\u7528\u4e0d\u540c\u8bed\u8a00\u5b9e\u73b0\u4e0d\u540c\u7684\u6d88\u8d39\u903b\u8f91\uff0c\u6b22\u8fce\u5927\u5bb6\u63d0\u4ea4 pull request\\n\\n- canal java \u5ba2\u6237\u7aef: <https://github.com/alibaba/canal/wiki/ClientExample>\\n- canal c# \u5ba2\u6237\u7aef: <https://github.com/dotnetcore/CanalSharp>\\n- canal go\u5ba2\u6237\u7aef: <https://github.com/CanalClient/canal-go>\\n- canal php\u5ba2\u6237\u7aef: <https://github.com/xingwenge/canal-php>\\n- canal Python\u5ba2\u6237\u7aef\uff1a<https://github.com/haozi3156666/canal-python>\\n- canal Rust\u5ba2\u6237\u7aef\uff1a<https://github.com/laohanlinux/canal-rs>\\n- canal Nodejs\u5ba2\u6237\u7aef\uff1a<https://github.com/marmot-z/canal-nodejs>\\n","isLeaf":true}]},{"key":"/Mysql/08-\u9ad8\u53ef\u7528","path":"/Mysql/08-\u9ad8\u53ef\u7528","route":"/Mysql/08-\u9ad8\u53ef\u7528","leaf":false,"title":"08-\u9ad8\u53ef\u7528","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Mysql/08-\u9ad8\u53ef\u7528/01-\u9ad8\u53ef\u7528\u67b6\u6784.md","path":"/Mysql/08-\u9ad8\u53ef\u7528/01-\u9ad8\u53ef\u7528\u67b6\u6784.md","route":"/Mysql/08-\u9ad8\u53ef\u7528/01-\u9ad8\u53ef\u7528\u67b6\u6784.md","leaf":true,"title":"01-\u9ad8\u53ef\u7528\u67b6\u6784","depth":2,"content":"---\\ntitle: 01-\u9ad8\u53ef\u7528\u67b6\u6784\\nurl: https://www.yuque.com/gaollard/utbbp1/ci9s3a\\n---\\n\\n<https://baijiahao.baidu.com/s?id=1712797974314216930&wfr=spider&for=pc>\\n","isLeaf":true}]},{"key":"/Mysql/10-\u89c6\u56fe","path":"/Mysql/10-\u89c6\u56fe","route":"/Mysql/10-\u89c6\u56fe","leaf":false,"title":"10-\u89c6\u56fe","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Mysql/10-\u89c6\u56fe/01-\u89c6\u56fe\u4ecb\u7ecd.md","path":"/Mysql/10-\u89c6\u56fe/01-\u89c6\u56fe\u4ecb\u7ecd.md","route":"/Mysql/10-\u89c6\u56fe/01-\u89c6\u56fe\u4ecb\u7ecd.md","leaf":true,"title":"01-\u89c6\u56fe\u4ecb\u7ecd","depth":2,"content":"---\\ntitle: 01-\u89c6\u56fe\u4ecb\u7ecd\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n![image.png](http://s3.airtlab.com/mysql/1602034988109-949115e3-55b7-4f5a-ba0a-77db5e835d45.png)![image.png](http://s3.airtlab.com/mysql/1602035137382-c5faf76a-eac5-473b-8687-91f824b458ad.png)\\n","isLeaf":true}]},{"key":"/Mysql/11-\u5b57\u6bb5\u7c7b\u578b","path":"/Mysql/11-\u5b57\u6bb5\u7c7b\u578b","route":"/Mysql/11-\u5b57\u6bb5\u7c7b\u578b","leaf":false,"title":"11-\u5b57\u6bb5\u7c7b\u578b","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Mysql/11-\u5b57\u6bb5\u7c7b\u578b/01-JSON \u7684\u4f7f\u7528.md","path":"/Mysql/11-\u5b57\u6bb5\u7c7b\u578b/01-JSON \u7684\u4f7f\u7528.md","route":"/Mysql/11-\u5b57\u6bb5\u7c7b\u578b/01-JSON \u7684\u4f7f\u7528.md","leaf":true,"title":"01-JSON \u7684\u4f7f\u7528","depth":2,"content":"---\\ntitle: 01-JSON \u7684\u4f7f\u7528\\nurl: https://www.yuque.com/gaollard/utbbp1/qvtgbs\\n---\\n\\n\u8981\u6c42\uff1a5.7 \u4ee5\u4e0a\\n<https://www.cnblogs.com/zagwk/p/15739321.html>\\n","isLeaf":true},{"key":"/Mysql/11-\u5b57\u6bb5\u7c7b\u578b/02-\u65e5\u671f\u5b58\u50a8\u683c\u5f0f.md","path":"/Mysql/11-\u5b57\u6bb5\u7c7b\u578b/02-\u65e5\u671f\u5b58\u50a8\u683c\u5f0f.md","route":"/Mysql/11-\u5b57\u6bb5\u7c7b\u578b/02-\u65e5\u671f\u5b58\u50a8\u683c\u5f0f.md","leaf":true,"title":"02-\u65e5\u671f\u5b58\u50a8\u683c\u5f0f","depth":2,"content":"---\\ntitle: 02-\u65e5\u671f\u5b58\u50a8\u683c\u5f0f\\nurl: https://www.yuque.com/gaollard/utbbp1/yat5am\\n---\\n\\n","isLeaf":true}]},{"key":"/Mysql/12-\u89e6\u53d1\u5668","path":"/Mysql/12-\u89e6\u53d1\u5668","route":"/Mysql/12-\u89e6\u53d1\u5668","leaf":false,"title":"12-\u89e6\u53d1\u5668","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Mysql/12-\u89e6\u53d1\u5668/01-\u89e6\u53d1\u5668\u4ecb\u7ecd.md","path":"/Mysql/12-\u89e6\u53d1\u5668/01-\u89e6\u53d1\u5668\u4ecb\u7ecd.md","route":"/Mysql/12-\u89e6\u53d1\u5668/01-\u89e6\u53d1\u5668\u4ecb\u7ecd.md","leaf":true,"title":"01-\u89e6\u53d1\u5668\u4ecb\u7ecd","depth":2,"content":"---\\ntitle: 01-\u89e6\u53d1\u5668\u4ecb\u7ecd\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n\u53c2\u8003 <https://blog.csdn.net/A496608119/article/details/123277898> \\n\\n### 1\u3001\u4ec0\u4e48\u65f6\u5019\u4f1a\u89e6\u53d1\\n\\n- insert\\n- update\\n- delete\\n\\n\u8fd9\u4e9b\u52a8\u4f5c\u524d\u6216\u540e\u89e6\u53d1 \\n\\n### 2\u3001\u521b\u5efa\u89e6\u53d1\u5668\u6f14\u793a1\\n\\n![image.png](http://s3.airtlab.com/mysql/1654785829474-f4a5f09c-b95b-4413-92df-0a71fe64df9a.png)\\n\\n```sql\\ncreate trigger trigger_test1 before insert\\non chufaqi_02 for each row\\ninsert into chufaqi_01 values(2);\\n```\\n\\n\\n\\n### 3\u3001\u5220\u9664\u89e6\u53d1\u5668\\n\\n```sql\\ndrop trigger trigger_test1\\n```\\n\\n\\n\\n### 4\u3001\u89e6\u53d1\u5668\u7c7b\u578b NEW \u548c OLD \u7684\u4f7f\u7528\\n\\n![image.png](http://s3.airtlab.com/mysql/1654786195937-54a81163-7c69-4981-bed4-ced5b95c9451.png)\\n\\n```sql\\ncreate trigger trigger_test1 after update on user for each row\\ninsert into user_logs values(\\n  NULL,\\n  now(),\\n  concat(\'\u6709\u7528\u6237\u4fe1\u606f\u4fee\u6539,\u65e7\u6570\u636e\u662f\uff1a\',OLD.uid,OLD.username,OLD.password)\\n);\\n```\\n","isLeaf":true}]},{"key":"/Mysql/13-\u9884\u5907\u77e5\u8bc6","path":"/Mysql/13-\u9884\u5907\u77e5\u8bc6","route":"/Mysql/13-\u9884\u5907\u77e5\u8bc6","leaf":false,"title":"13-\u9884\u5907\u77e5\u8bc6","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Mysql/13-\u9884\u5907\u77e5\u8bc6/[\u5de5\u5177] Sequel Ace \u7684\u4f7f\u7528.md","path":"/Mysql/13-\u9884\u5907\u77e5\u8bc6/[\u5de5\u5177] Sequel Ace \u7684\u4f7f\u7528.md","route":"/Mysql/13-\u9884\u5907\u77e5\u8bc6/[\u5de5\u5177] Sequel Ace \u7684\u4f7f\u7528.md","leaf":true,"title":"[\u5de5\u5177] Sequel Ace \u7684\u4f7f\u7528","depth":2,"content":"---\\ntitle: \\"[\u5de5\u5177] Sequel Ace \u7684\u4f7f\u7528\\"\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n\\n\\n### \u5bfc\u51fa\u6570\u636e\\n\\n![image.png](http://s3.airtlab.com/mysql/1654908184693-b07d0aa5-3e1c-42b8-a3f0-65ae9b506e23.png)\\n","isLeaf":true},{"key":"/Mysql/13-\u9884\u5907\u77e5\u8bc6/\u5b9e\u4f53\u548c\u5b9e\u4f53\u5173\u7cfb.md","path":"/Mysql/13-\u9884\u5907\u77e5\u8bc6/\u5b9e\u4f53\u548c\u5b9e\u4f53\u5173\u7cfb.md","route":"/Mysql/13-\u9884\u5907\u77e5\u8bc6/\u5b9e\u4f53\u548c\u5b9e\u4f53\u5173\u7cfb.md","leaf":true,"title":"\u5b9e\u4f53\u548c\u5b9e\u4f53\u5173\u7cfb","depth":2,"content":"---\\ntitle: \u5b9e\u4f53\u548c\u5b9e\u4f53\u5173\u7cfb\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n\\n\\n### 1\u3001\u5b9e\u4f53\u5173\u7cfb\\n\\n```latex\\n1 \u5bf9 1\\n1 \u5bf9 n (n \u5bf9 1)\\nn \u5bf9 n\\n```\\n\\n\u591a\u5bf9\u591a\u5f80\u5f80\u9700\u8981\u6709\u4e00\u4e2a\u4e2d\u95f4\u8868:\\n![](http://s3.airtlab.com/mysql/20220522220343.png) \\n\\n### 2\u3001**\u8bbe\u8ba1\u8303\u5f0f**\\n\\n![image.png](http://s3.airtlab.com/mysql/1661781188760-2bc4a8a0-097b-4e98-b6bb-867de9877ecd.png)\\n![image.png](http://s3.airtlab.com/mysql/1661781196331-9dd6d2ba-98c5-4d15-a6ba-eec334183c0c.png)\\n![image.png](http://s3.airtlab.com/mysql/1661781203787-728b521f-77b6-462c-9941-e0785c0806ba.png) \\n\\n### 3\u3001**\u6570\u636e\u7c7b\u578b**\\n\\n![image.png](http://s3.airtlab.com/mysql/1661781239264-10d1309e-56d5-4541-811f-865e4ba18425.png)\\n![image.png](http://s3.airtlab.com/mysql/1661781255376-1e74efec-7206-48d7-9e47-89ed3604f03d.png)\\n","isLeaf":true},{"key":"/Mysql/13-\u9884\u5907\u77e5\u8bc6/\u5e76\u96c6&\u4ea4\u96c6&\u5dee\u96c6.md","path":"/Mysql/13-\u9884\u5907\u77e5\u8bc6/\u5e76\u96c6&\u4ea4\u96c6&\u5dee\u96c6.md","route":"/Mysql/13-\u9884\u5907\u77e5\u8bc6/\u5e76\u96c6&\u4ea4\u96c6&\u5dee\u96c6.md","leaf":true,"title":"\u5e76\u96c6&\u4ea4\u96c6&\u5dee\u96c6","depth":2,"content":"---\\ntitle: \u5e76\u96c6&\u4ea4\u96c6&\u5dee\u96c6\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n- <https://blog.csdn.net/sanzhongguren/article/details/76615464>\\n- [https://blog.csdn.net/chaochao2113/article/details/127334873](https://blog.csdn.net/chaochao2113/article/details/127334873?spm=1001.2101.3001.6650.2\\\\&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EYuanLiJiHua%7EPosition-2-127334873-blog-76615464.pc_relevant_multi_platform_whitelistv3\\\\&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EYuanLiJiHua%7EPosition-2-127334873-blog-76615464.pc_relevant_multi_platform_whitelistv3\\\\&utm_relevant_index=5)\\n\\n![image.png](http://s3.airtlab.com/mysql/1668389702823-20cb6220-bbd8-4c4b-beae-04611a86339d.png)\\n","isLeaf":true}]},{"key":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4","path":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4","route":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4","leaf":false,"title":"14 \u6570\u636e\u5e93\u8fd0\u7ef4","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4/mysql log.md","path":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4/mysql log.md","route":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4/mysql log.md","leaf":true,"title":"mysql log","depth":2,"content":"---\\ntitle: mysql log\\nurl: https://www.yuque.com/gaollard/utbbp1/bbn1g5\\n---\\n\\n- bin log\\n- slow query log\\n","isLeaf":true},{"key":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4/mysql \u4e24\u4e2a db \u7ed3\u6784\u5bf9\u6bd4\u5de5\u5177.md","path":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4/mysql \u4e24\u4e2a db \u7ed3\u6784\u5bf9\u6bd4\u5de5\u5177.md","route":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4/mysql \u4e24\u4e2a db \u7ed3\u6784\u5bf9\u6bd4\u5de5\u5177.md","leaf":true,"title":"mysql \u4e24\u4e2a db \u7ed3\u6784\u5bf9\u6bd4\u5de5\u5177","depth":2,"content":"---\\ntitle: mysql \u4e24\u4e2a db \u7ed3\u6784\u5bf9\u6bd4\u5de5\u5177\\nurl: https://www.yuque.com/gaollard/utbbp1/xrh4r1\\n---","isLeaf":true},{"key":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4/mysql \u6743\u9650.md","path":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4/mysql \u6743\u9650.md","route":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4/mysql \u6743\u9650.md","leaf":true,"title":"mysql \u6743\u9650","depth":2,"content":"---\\ntitle: mysql \u6743\u9650\\nurl: https://www.yuque.com/gaollard/utbbp1/hw7107\\n---\\n\\n<http://c.biancheng.net/view/7490.html>\\n\\n```sql\\n# gaollard VouFM2SEFk\\nCREATE USER \'gaollard\'@\'%\' IDENTIFIED BY PASSWORD \'*8D03816E306DA2740387330539899035057E5B33\';\\n```\\n\\n```sql\\n# canal 123456\\nCREATE USER \'canal\'@\'%\' IDENTIFIED BY PASSWORD \'*6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9\';\\n```\\n\\n```sql\\n# canal canal\\nCREATE USER \'canal\'@\'%\' IDENTIFIED BY PASSWORD \'*E3619321C1A937C46A0D8BD1DAC39F93B27D4458\';\\n\\n```\\n\\n```sql\\nCREATE USER canal IDENTIFIED BY \'canal\';  \\nGRANT SELECT, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO \'canal\'@\'%\';\\n-- GRANT ALL PRIVILEGES ON *.* TO \'canal\'@\'%\' ;\\nFLUSH PRIVILEGES;\\n```\\n","isLeaf":true},{"key":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4/sql beatutify.md","path":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4/sql beatutify.md","route":"/Mysql/14 \u6570\u636e\u5e93\u8fd0\u7ef4/sql beatutify.md","leaf":true,"title":"sql beatutify","depth":2,"content":"---\\ntitle: sql beatutify\\nurl: https://www.yuque.com/gaollard/utbbp1/nfu17b\\n---\\n\\n[SQL Formatter & Beautifier Online](https://codebeautify.org/sqlformatter)\\n","isLeaf":true}]},{"key":"/Mysql/15-\u8fd0\u7ef4\u5de5\u5177","path":"/Mysql/15-\u8fd0\u7ef4\u5de5\u5177","route":"/Mysql/15-\u8fd0\u7ef4\u5de5\u5177","leaf":false,"title":"15-\u8fd0\u7ef4\u5de5\u5177","depth":1,"content":"","isLeaf":false,"children":[]},{"key":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898","path":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898","route":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898","leaf":false,"title":"16 34\u9053\u7ec3\u4e60\u9898","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/34\u9053\u7ec3\u4e60\u9898.md","path":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/34\u9053\u7ec3\u4e60\u9898.md","route":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/34\u9053\u7ec3\u4e60\u9898.md","leaf":true,"title":"34\u9053\u7ec3\u4e60\u9898","depth":2,"content":"---\\ntitle: 34\u9053\u7ec3\u4e60\u9898\\nurl: https://www.yuque.com/gaollard/utbbp1/rxggbv\\n---\\n\\n\u53c2\u8003\u6587\u6863\uff1a<https://www.cnblogs.com/d9e84208/p/10977986.html>\\n","isLeaf":true},{"key":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/mysql 34\u9053\u7ec3\u4e60\u9898\uff081-10\uff09.md","path":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/mysql 34\u9053\u7ec3\u4e60\u9898\uff081-10\uff09.md","route":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/mysql 34\u9053\u7ec3\u4e60\u9898\uff081-10\uff09.md","leaf":true,"title":"mysql 34\u9053\u7ec3\u4e60\u9898\uff081-10\uff09","depth":2,"content":"---\\ntitle: mysql 34\u9053\u7ec3\u4e60\u9898\uff081-10\uff09\\n---\\n\\n\u53c2\u8003\u6587\u6863\uff1a<https://www.cnblogs.com/d9e84208/p/10977986.html>\\n\\n```sql\\nDROP TABLE IF EXISTS EMP;\\nDROP TABLE IF EXISTS DEPT;\\nDROP TABLE IF EXISTS SALGRADE;\\n\\nCREATE TABLE DEPT\\n\\t(DEPTNO int(2) not null ,\\n\\tDNAME VARCHAR(14) ,\\n\\tLOC VARCHAR(13) ,\\n\\tprimary key (DEPTNO)\\n\\t);\\nCREATE TABLE EMP\\n\\t(EMPNO int(4) not null ,\\n\\tENAME VARCHAR(10) ,\\n\\tJOB VARCHAR(9) ,\\n\\tMGR INT(4) ,\\n\\tHIREDATE DATE DEFAULT NULL ,\\n\\tSAL DOUBLE(7,2) ,\\n\\tCOMM DOUBLE(7,2) ,\\n\\tprimary key (EMPNO) ,\\n\\tDEPTNO INT(2)\\n\\t);\\nCREATE TABLE SALGRADE\\n\\t(GRADE INT ,\\n\\tLOSAL INT ,\\n\\tHISAL INT \\n\\t);\\n\\t\\nINSERT INTO DEPT ( DEPTNO, DNAME, LOC ) VALUES (\\n10, \'ACCOUNTING\', \'NEW YOURK\');\\nINSERT INTO DEPT ( DEPTNO, DNAME, LOC ) VALUES (\\n20, \'RESEARCH\', \'DALLAS\');\\nINSERT INTO DEPT ( DEPTNO, DNAME, LOC ) VALUES (\\n30, \'SALES\', \'CHICAGO\');\\nINSERT INTO DEPT( DEPTNO, DNAME, LOC ) VALUES (\\n40, \'OPERATIONS\', \'BOSTON\');\\ncommit;\\n\\nINSERT INTO EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO) VALUES (\\n7396, \'SMITH\', \'CLERK\', 7902, \'1980-12-17\', 800, NULL, 20);\\nINSERT INTO EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO) VALUES (\\n7499, \'ALLEN\', \'SALESMAN\', 7698, \'1981-02-20\', 1600, 300,30);\\nINSERT INTO EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO) VALUES (\\n7521, \'WARD\', \'SALESMAN\', 7698, \'1981-02-22\', 1250, 500, 30);\\nINSERT INTO EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO) VALUES (\\n7566, \'JONES\', \'MANAGER\', 7839, \'1981-04-02\', 2975, NULL, 20);\\nINSERT INTO EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO) VALUES (\\n7654, \'MARTIN\', \'SALESMAN\', 7698, \'1981-09-28\', 1250, 1400, 30);\\nINSERT INTO EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO) VALUES (\\n7698, \'BLAKE\', \'MANAGER\', 7839, \'1981-05-01\', 2850, NULL, 30);\\nINSERT INTO EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO) VALUES (\\n7782, \'CLARK\', \'MANAGER\', 7839, \'1981-06-09\', 2450, NULL, 20);\\nINSERT INTO EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO) VALUES (\\n7788, \'SCOTT\', \'ANALYST\', 7566, \'1987-04-19\', 3000, NULL, 20);\\nINSERT INTO EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO) VALUES (\\n7839, \'KING\', \'PRESIDENT\', NULL, \'1981-11-17\', 5000, NULL, 10);\\nINSERT INTO EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO) VALUES (\\n7844, \'TURNER\', \'SALESMAN\', 7698, \'1981-09-08\', 1500, 0, 30);\\nINSERT INTO EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO) VALUES (\\n7876, \'ADAMS\', \'CLERK\', 7788, \'1987-05-23\', 1100, NULL, 20);\\nINSERT INTO EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO) VALUES (\\n7900, \'JAMES\', \'CLERK\', 7698, \'1981-12-03\', 950, NULL, 30);\\nINSERT INTO EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO) VALUES (\\n7902, \'FORD\', \'ANALYST\', 7566, \'1981-12-03\', 3000, NULL, 20);\\nINSERT INTO EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO) VALUES (\\n7934, \'MILLER\', \'CLERK\', 7782, \'1982-01-23\', 1300, NULL, 10);\\ncommit;\\n\\nINSERT INTO SALGRADE (GRADE, LOSAL, HISAL) VALUES (\\n1, 700, 1200);\\nINSERT INTO SALGRADE (GRADE, LOSAL, HISAL) VALUES (\\n2, 1201, 1400);\\nINSERT INTO SALGRADE (GRADE, LOSAL, HISAL) VALUES (\\n3, 1401, 2000);\\nINSERT INTO SALGRADE (GRADE, LOSAL, HISAL) VALUES (\\n4, 2001, 3000);\\nINSERT INTO SALGRADE (GRADE, LOSAL, HISAL) VALUES (\\n5, 3001, 9999);\\ncommit;\\n```\\n\\n### 1. **\u53d6\u5f97\u6bcf\u4e2a\u90e8\u95e8\u6700\u9ad8\u85aa\u6c34\u7684\u4eba\u5458\u540d\u79f0**\\n\\n\u6ce8\u610f\u53ef\u80fd\u5b58\u5728\u67d0\u4e2a\u90e8\u95e8\u6709\u591a\u4e2a\u5458\u5de5\u7684\u5de5\u8d44\u76f8\u540c\uff0c\u800c\u4e14\u662f\u6700\u9ad8\u7684\u3002\\n\\n(1) \u5148\u627e\u51fa\u6bcf\u4e2a\u90e8\u95e8\u7684\u6700\u9ad8\u85aa\u8d44\u8868 T\\n\\n```sql\\n# \u67e5\u8be2\u5404\u90e8\u95e8\u6700\u9ad8\u85aa\u6c34\uff08\u4e34\u65f6\u8868T1\uff09\\n# \u6309\u7167\u90e8\u95e8\u7f16\u53f7\u5206\u7ec4\u627e\u51fa\u6bcf\u4e00\u7ec4\u6700\u5927\u503c\\nselect e.deptno, max(SAL) as maxSal from EMP e group by deptno\\n\\n+--------+---------+\\n| deptno | maxSal  |\\n+--------+---------+\\n|     10 | 5000.00 |\\n|     20 | 3000.00 |\\n|     30 | 2850.00 |\\n+--------+---------+\\n```\\n\\n\uff082\uff09\u5c06\u5458\u5de5\u8868\u548cT1\u8868\u8fde\u63a5\u67e5\u8be2\\n\\n```sql\\n\\t\\nselect\\n        e.deptno,\\n        e.ename,\\n        t.maxsal,\\n        e.sal\\nfrom\\n\\t\\tEMP e\\njoin\\n\\t\\t(select e.deptno,max(e.sal) as maxsal from EMP e group by e.deptno) t\\non\\n\\t\\te.deptno=t.deptno\\nwhere\\n    t.maxsal=e.sal\\n\\n+--------+-------+---------+---------+\\n| deptno | ename | maxsal  | sal     |\\n+--------+-------+---------+---------+\\n|     30 | BLAKE | 2850.00 | 2850.00 |\\n|     20 | SCOTT | 3000.00 | 3000.00 |\\n|     10 | KING  | 5000.00 | 5000.00 |\\n|     20 | FORD  | 3000.00 | 3000.00 |\\n+--------+-------+---------+---------+\\n4 rows in set (0.00 sec)\\n```\\n\\n### 2.\u90a3\u4e9b\u4eba\u7684\u85aa\u6c34\u5728\u90e8\u95e8\u5e73\u5747\u85aa\u6c34\u4e4b\u4e0a\\n\\n\uff081\uff09\u5148\u6c42\u51fa\u90e8\u95e8\u7684\u5e73\u5747\u85aa\u6c34\\n\\n```sql\\nselect e.ename, deptno, avg(e.sal) as avgsale from EMP e group by e.`DEPTNO`\\n\\n+-------+--------+-------------+\\n| ename | deptno | avgsale     |\\n+-------+--------+-------------+\\n| KING  |     10 | 3150.000000 |\\n| SMITH |     20 | 2220.833333 |\\n| ALLEN |     30 | 1566.666667 |\\n+-------+--------+-------------+\\n3 rows in set (0.00 sec)\\n```\\n\\n\uff082\uff09\u8fde\u63a5\u5458\u5de5\u8868\u7b5b\u9009\\n\\n```sql\\nselect\\n\\t\\te.ename,\\n\\t\\te.deptno,\\n\\t\\te.sal\\nfrom\\n\\t\\tEMP e\\njoin\\n\\t\\t(select e.ename, deptno, avg(e.sal) as avgsale from EMP e group by e.`DEPTNO`) t\\non\\n\\t\\te.deptno = t.deptno\\nand\\n\\t\\te.sal > t.avgsale;\\n```\\n\\n![20230718180900](http://s3.airtlab.com/blog/20230718180900.png)\\n\\n\\n### 3. **\u53d6\u5f97\u90e8\u95e8\u6240\u6709\u4eba\u7684\u5e73\u5747\u85aa\u6c34\u7b49\u7ea7**\\n\\n```sql\\n\\nselect\\n\\t\\te.deptno,\\n\\t\\tavg(t.grade) as avggrade\\nfrom\\n\\t\\tEMP e\\njoin\\n\\t\\tSALGRADE t\\non\\n\\t\\te.sal between t.losal and t.hisal\\ngroup by\\n\\te.deptno\\n```\\n\\n![20230718180918](http://s3.airtlab.com/blog/20230718180918.png)\\n\\n\\n### 4. **\u4e0d\u51c6\u7528\u805a\u5408\u51fd\u6570(max)\uff0c\u53d6\u5f97\u6700\u9ad8\u85aa\u6c34(\u7ed9\u51fa\u4e24\u79cd\u65b9\u6cd5)**\\n\\n1. \u4f7f\u7528max(\u5426\u5b9a)\\n\\n```sql\\nselect max(t.sal) from EMP t\\n```\\n\\n2. \u6392\u5e8f\u53d6\u4e00\u4e2a\\n\\n```sql\\nselect t.sal from EMP t order by sal DESC limit 1\\n```\\n\\n3. \u4e24\u8868\u8fde\u63a5\u628a\u4e0d\u662f\u6700\u5927\u503c\u7684\u5148\u627e\u51fa\u6765\uff0c\u7136\u540e\u7528\u6392\u9664\u6cd5\u627e\u51fa\u6700\u5927\u503c\\n\\n```sql\\nSELECT\\n\\t\\te.sal,\\n\\t\\te.ename\\nFROM\\n\\t\\tEMP e\\nWHERE\\n\\te.sal not in (SELECT distinct t.sal FROM EMP e JOIN EMP t WHERE e.sal > t.sal)\\n```\\n\\n![20230718181000](http://s3.airtlab.com/blog/20230718181000.png)\\n\\n\\n### 5. **\u53d6\u5f97\u5e73\u5747\u85aa\u6c34\u6700\u9ad8\u7684\u90e8\u95e8\u7684\u90e8\u95e8\u7f16\u53f7**\\n\\n\u5148\u53d6\u51fa\u6bcf\u4e2a\u90e8\u95e8\u5e73\u5747\u503c\uff0c\u7136\u540e\u518d\u53d6\u51fa\u6700\u5927\u503c\\n\\n```sql\\nselect \\n\\t\\te.deptno,\\n\\t\\tmax(e.avg_sal) as max_avg_sal\\nfrom \\n\\t\\t(select avg(e.sal) as avg_sal, e.deptno from EMP e group by e.deptno) e\\n```\\n\\n![20230718181017](http://s3.airtlab.com/blog/20230718181017.png)\\n\\n### 6. **\u53d6\u5f97\u5e73\u5747\u85aa\u6c34\u6700\u9ad8\u7684\u90e8\u95e8\u7684\u90e8\u95e8\u540d\u79f0**\\n\\n```sql\\nselect\\n\\t\\te.deptno,\\n\\t\\td.dname,\\n\\t\\tavg(e.sal)\\nfrom\\n\\t\\tEMP e\\nJOIN\\n\\t\\tDEPT d\\non\\n\\td.deptno = e.deptno\\ngroup by\\n\\t\\te.deptno\\nlimit \\t1\\n```\\n\\n![20230718181057](http://s3.airtlab.com/blog/20230718181057.png)\\n\\n**\u5982\u679c\u662f\u6c42\u5e73\u5747\u85aa\u6c34\u6700\u4f4e\u7684\u90e8\u95e8\u540d\u79f0\u5462\uff1f**\\n\uff081\uff09\u601d\u8def\u6574\u7406\\n\\n```sql\\n# \u85aa\u6c34\u8868\u548c\u90e8\u95e8\u8868\u8fdb\u884c\u5185\u8fde\u63a5\uff0c\u5e76\u4e14\u5206\u7ec4\uff0c\u627e\u51fa\uff1a\u90e8\u95e8\u7f16\u53f7\uff0c\u90e8\u95e8\u540d\u79f0\uff0c\u5e73\u5747\u85aa\u6c34\\n# \u5bf9\u4e0a\u8868\u8fdb\u884c\u751f\u5e8f\u6392\u5e8f\uff0c\u5e76\u53d6\u51fa\u7b2c\u4e00\u4e2a\u503c\\n```\\n\\n\uff082\uff09\u6211\u7684\u4ee3\u7801\\n\\n```sql\\nselect\\n\\t\\te.deptno,\\n\\t\\td.dname,\\n\\t\\tavg(e.sal) as avg_sal\\nfrom\\n\\t\\tEMP e\\nJOIN\\n\\t\\tDEPT d\\non\\n\\td.deptno = e.deptno\\ngroup by\\n\\t\\te.deptno\\norder by\\n\\t\\tavg_sal ASC\\nlimit 1\\n```\\n\\n![20230718181124](http://s3.airtlab.com/blog/20230718181124.png)\\n\\n### 7. \u6c42\u5e73\u5747\u85aa\u6c34\u7b49\u7ea7\u6700\u4f4e\u7684\u90e8\u95e8\u7684\u90e8\u95e8\u540d\u79f0&#xA;\\n\\n\uff081\uff09\u6211\u7684\u65b9\u6cd51\\n\\n```sql\\n# \u6c42\u51fa\u90e8\u95e8\u7684\u5458\u5de5\u7684\u85aa\u6c34\u7b49\u7ea7\\n# \u6c42\u51fa\u90e8\u95e8\u7684\u5458\u5de5\u5e73\u5747\u85aa\u6c34\u7b49\u7ea7\\n# \u6c42\u51fa\u5e73\u5747\u85aa\u6c34\u7b49\u7ea7\u6700\u4f4e\u7684\u90e8\u95e8\\n```\\n\\n\u65b9\u6cd5\uff1a\u5206\u7ec4+\u5b50\u67e5\u8be2\\n\\n```sql\\nselect\\n\\t\\tt.DEPTNO,\\n\\t\\tavg(t.sal_grade)\\nfrom\\n\\t\\t(\\n\\t\\t\\tSELECT\\n\\t\\t\\t\\t\\te.*,\\n\\t\\t\\t\\t\\ts.GRADE as sal_grade\\n\\t\\t\\tfrom\\n\\t\\t\\t\\t\\tEMP e\\n\\t\\t\\tJOIN\\n\\t\\t\\t\\t\\tSALGRADE s\\n\\t\\t\\ton\\n\\t\\t\\t\\t\\te.sal between s.LOSAL and s.HISAL\\n\\t\\t) as t\\ngroup by\\n\\t\\tt.DEPTNO\\norder by \\n\\t\\tavg(t.sal_grade)\\nlimit 1\\n```\\n\\n![20230718181146](http://s3.airtlab.com/blog/20230718181146.png)\\n\\n\u5f53\u67d0\u4e2a\u90e8\u95e8\u6ca1\u6709\u5458\u5de5\u65f6\uff0c\u8fd4\u56de\u7684\u6570\u636e\u6ca1\u6709\u5305\u542b\u6539\u90e8\u95e8\uff0c\u662f\u7b26\u5408\u903b\u8f91\u7684\u3002\\n\\n***\\n\\n\\n### 8. **\u53d6\u5f97\u6bd4\u666e\u901a\u5458\u5de5(\u5458\u5de5\u4ee3\u7801\u6ca1\u6709\u5728mgr\u4e0a\u51fa\u73b0)\u6700\u9ad8\u85aa\u6c34\u8fd8\u8981\u9ad8\u7684\u7ecf\u7406\u4eba\u59d3\u540d**\\n\\n```sql\\n-- \u627e\u51fa mgr\\nselect distinct mgr  from emp;\\n\\n\\n-- mgr \u5458\u5de5\\nselect\\n\\t*\\nfrom\\n\\temp\\nwhere\\n\\tempno\\nin\\n\\t(select distinct mgr from emp where mgr is not null)\\n\\n\\n-- \u666e\u901a\u5458\u5de5\\nselect\\n\\t*\\nfrom\\n\\temp\\nwhere\\n\\tempno\\nnot in\\n\\t(select distinct mgr from emp where mgr is not null)\\n\\n\\n\\n-- \u627e\u51fa\u666e\u901a\u5458\u5de5\u7684ID\uff1a \\nselect\\n\\tempno, sal\\nfrom\\n\\temp\\nwhere\\n\\tempno\\nnot in \\n\\t(select distinct mgr  from emp where mgr is not null); \\n\\n/* empno\\tsal\\n7396\\t800.00\\n7499\\t1600.00\\n7521\\t1250.00\\n7654\\t1250.00\\n7844\\t1500.00\\n7876\\t1100.00\\n7900\\t950.00\\n7934\\t1300.00 */\\n\\n\\n-- 3\uff1a\u53d6\u5f97\u666e\u901a\u5458\u5de5\u7684\u6700\u9ad8\u85aa\u6c34\\nselect\\n\\tmax(t.sal) as max_sal \\nfrom\\n\\t(select empno,sal from emp where empno not in (select distinct mgr  from emp where mgr is not null)) t;\\n  \\n\\n-- 4: \u6700\u7ec8\u8bed\u53e5\\nselect\\n\\tename,\\n\\tsal\\nfrom\\n-- \\temp e\\n\\t(select * from emp where empno in (select distinct mgr from emp where mgr is not null)) e\\nwhere\\n\\te.sal > (\\n\\t\\tselect max(t.sal) as max_sal \\n\\t\\tfrom  (select empno, sal from emp where empno not in (select distinct mgr from emp where mgr is not null)) t\\n\\t)\\n```\\n\\n### 9. \u53d6\u5f97\u85aa\u6c34\u6700\u9ad8\u7684\u524d\u4e94\u540d\u5458\u5de5\\n\\n```sql\\nselect ename, sal from emp e order by\\te.sal limit\\t0,5\\n```\\n\\n### 10. \u53d6\u5f97\u85aa\u6c34\u6700\u9ad8\u7684\u7b2c\u516d\u5230\u7b2c\u5341\u540d\u5458\u5de5\\n\\n```sql\\nselect ename, sal from emp e order by\\te.sal limit\\t6,10\\n```\\n\\n### 11. \u53d6\u5f97\u6700\u540e\u5165\u804c\u7684\u4e94\u540d\u5458\u5de5\\n","isLeaf":true},{"key":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/mysql 34\u9053\u7ec3\u4e60\u9898\uff0811-20\uff09.md","path":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/mysql 34\u9053\u7ec3\u4e60\u9898\uff0811-20\uff09.md","route":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/mysql 34\u9053\u7ec3\u4e60\u9898\uff0811-20\uff09.md","leaf":true,"title":"mysql 34\u9053\u7ec3\u4e60\u9898\uff0811-20\uff09","depth":2,"content":"---\\ntitle: mysql 34\u9053\u7ec3\u4e60\u9898\uff0811-20\uff09\\n---\\n\\n### 11. \u53d6\u5f97\u6700\u540e\u5165\u804c\u7684\u4e94\u540d\u5458\u5de5\\n\\n```sql\\n# \u6309\u7167\u5165\u804c\u65f6\u95f4\u6765\u6392\u5e8f  \u5165\u804c\u665a \u65f6\u95f4\u5927\\nselect * from emp order by HIREDATE DESC limit 0, 5\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620804750369-0ac485e1-7303-455e-bf0c-d83035dacef9.png) \\n\\n### 12. \u53d6\u5f97\u6bcf\u4e2a\u85aa\u6c34\u7b49\u7ea7\u6709\u591a\u5c11\u4e2a\u5458\u5de5\\n\\n```sql\\n-- # \u5148\u67e5\u51fa\u6bcf\u4e2a\u5458\u5de5\u7684\u85aa\u6c34\u7b49\u7ea7\\n\\n/* select\\n        e.ename,\\n        e.sal,\\n        s.grade\\nfrom\\n        emp  e\\njoin\\n\\t\\tsalgrade s\\non\\n\\t\\te.sal between s.losal and s.hisal */\\n\\t\\t\\n-- +--------+---------+-------+\\n-- | ename  | sal     | grade |\\n-- +--------+---------+-------+\\n-- | SMITH  |  800.00 |     1 |\\n-- | ALLEN  | 1600.00 |     3 |\\n-- | WARD   | 1250.00 |     2 |\\n-- | JONES  | 2975.00 |     4 |\\n-- | MARTIN | 1250.00 |     2 |\\n-- | BLAKE  | 2850.00 |     4 |\\n-- | CLARK  | 2450.00 |     4 |\\n-- | SCOTT  | 3000.00 |     4 |\\n-- | KING   | 5000.00 |     5 |\\n-- | TURNER | 1500.00 |     3 |\\n-- | ADAMS  | 1100.00 |     1 |\\n-- | JAMES  |  950.00 |     1 |\\n-- | FORD   | 3000.00 |     4 |\\n-- | MILLER | 1300.00 |     2 |\\n\\t\\t\\n-- # \u518d\u7528\u805a\u5408\u51fd\u6570\u6839\u636e\u85aa\u6c34\u7b49\u7ea7\u5206\u7c7b\u5373\u53ef\\n\\nselect\\n\\t\\tt.grade,\\n\\t\\tcount(t.grade) as grade_count\\nfrom\\n\\t\\t(\\n\\t\\tselect\\n\\t\\t        e.ename,\\n        \\t\\te.sal,\\n\\t\\t        s.grade\\n\\t\\tfrom\\n        \\t\\temp  e\\n\\t\\tjoin\\n\\t\\t\\t\\tsalgrade s\\n\\t\\ton\\n\\t\\t\\t\\te.sal between s.losal and s.hisal\\n\\t\\t) t\\n\\t\\t\\ngroup by\\n\\t\\tgrade\\n\\n-- +-------+-------------+\\n-- | grade | grade_count |\\n-- +-------+-------------+\\n-- |     1 |           3 |\\n-- |     2 |           3 |\\n-- |     3 |           2 |\\n-- |     4 |           5 |\\n-- |     5 |           1 |\\n-- +-------+-------------+\\n```\\n\\n### 13. XXXXXXXX\\n\\n### 14. \u5217\u51fa\u6240\u6709\u5458\u5de5\u53ca\u9886\u5bfc\u7684\u540d\u5b57\\n\\n```sql\\nselect\\n\\t\\tt1.ename,\\n\\t\\tt2.ename as boss_name\\nfrom\\n\\t\\temp t1\\njoin\\n\\t\\temp t2\\non\\n\\t\\tt1.MGR = t2.EMPNO\\n\\t\\t\\n-- +--------+-------+\\n-- | ename  | boss  |\\n-- +--------+-------+\\n-- | SMITH  | FORD  |\\n-- | ALLEN  | BLAKE |\\n-- | WARD   | BLAKE |\\n-- | JONES  | KING  |\\n-- | MARTIN | BLAKE |\\n-- | BLAKE  | KING  |\\n-- | CLARK  | KING  |\\n-- | SCOTT  | JONES |\\n-- | KING   | NULL  |\\n-- | TURNER | BLAKE |\\n-- | ADAMS  | SCOTT |\\n-- | JAMES  | BLAKE |\\n-- | FORD   | JONES |\\n-- | MILLER | CLARK |\\n-- +--------+-------+\\n```\\n\\n### 15. \u5217\u51fa\u53d7\u96c7\u65e5\u671f\u65e9\u4e8e\u5176\u76f4\u63a5\u4e0a\u7ea7\u7684\u6240\u6709\u5458\u5de5 \u7f16\u53f7&\u59d3\u540d&\u90e8\u95e8\u540d\u79f0\\n\\n```sql\\nselect\\n\\t\\tt1.empno,\\n\\t\\tt1.ename,\\n\\t\\td.dname,\\n\\t\\tt2.ename as boss_name\\nfrom\\n\\t\\temp t1\\njoin\\n\\t\\temp t2\\njoin\\n\\t\\tdept d\\non\\n\\t\\tt1.deptno = d.deptno\\nwhere\\n\\t\\tt1.MGR = t2.EMPNO and t1.`HIREDATE` < t2.`HIREDATE`\\n\\t\\t\\n\\t\\t\\n-- +--------+-------+\\n-- | ename  | boss  |\\n-- +--------+-------+\\n-- | SMITH  | FORD  |\\n-- | ALLEN  | BLAKE |\\n-- | WARD   | BLAKE |\\n-- | JONES  | KING  |\\n-- | MARTIN | BLAKE |\\n-- | BLAKE  | KING  |\\n-- | CLARK  | KING  |\\n-- | SCOTT  | JONES |\\n-- | KING   | NULL  |\\n-- | TURNER | BLAKE |\\n-- | ADAMS  | SCOTT |\\n-- | JAMES  | BLAKE |\\n-- | FORD   | JONES |\\n-- | MILLER | CLARK |\\n-- +--------+-------+\\n```\\n\\n### 16. \u5217\u51fa\u90e8\u95e8\u540d\u79f0\u548c\u8fd9\u4e9b\u90e8\u95e8\u7684\u5458\u5de5\u4fe1\u606f\uff0c\u540c\u65f6\u5217\u51fa\u90a3\u4e9b\u6ca1\u6709\u5458\u5de5\u7684\u90e8\u95e8\\n\\n```sql\\n# select d.dname, e.* from dept d join emp e on d.deptno = e.deptno\\nselect d.dname, e.* from emp e join dept d on d.deptno = e.deptno\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620806857777-0d3198fc-3863-4090-92f4-76cd884278d3.png)\\n\\n### 17. \u5217\u51fa\u81f3\u5c11\u67095\u4e2a\u5458\u5de5\u7684\u6240\u6709\u90e8\u95e8\\n\\n```sql\\nselect\\n\\t\\te.deptno,\\n\\t\\td.dname,\\n\\t\\tcount(e.deptno) as em_count\\nfrom\\n\\t\\temp e\\njoin\\n\\t\\tdept d\\non\\n\\t\\td.deptno = e.deptno\\ngroup by\\n\\t\\te.deptno\\nhaving\\n\\t\\tem_count > 5\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620807257224-06be3670-af5f-4fe5-a2e7-ee25307a8e60.png) \\n\\n### 18. \u5217\u51fa\u85aa\u6c34\u6bd4\u201cSMITH\u201d\u591a\u7684\u6240\u6709\u5458\u5de5\u4fe1\u606f\\n\\n```sql\\n(\u4e3b\u8981\u8003\u5bdf\u5b50\u67e5\u8be2)\\nselect * from emp where sal>(select sal from emp where ename =\'smith\');\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620807432665-e4f1b2a6-b535-40b8-b60a-98827df9eaf5.png) \\n\\n### 19. \u5217\u51fa\u6240\u6709\u201cCLARK\u201d\uff08\u529e\u4e8b\u5458\uff09\u7684\u59d3\u540d\u53ca\u5176\u90e8\u95e8\u540d \u79f0\uff0c\u90e8\u95e8\u4eba\u6570\\n\\n```sql\\n-- \u6240\u6709\u529e\u4e8b\u5458(\u90e8\u95e8\u540d\u79f0\u4e5f\u627e\u51fa)\\n(select e.ENAME, e.DEPTNO, e.`empno`, d.`dname` from emp e join dept d on d.`DEPTNO` = e.`DEPTNO` where e.`JOB` = \\"CLERK\\");\\n\\n+--------+--------+-------+------------+\\n| ENAME  | DEPTNO | empno | dname      |\\n+--------+--------+-------+------------+\\n| MILLER |     10 |  7934 | ACCOUNTING |\\n| SMITH  |     20 |  7396 | RESEARCH   |\\n| ADAMS  |     20 |  7876 | RESEARCH   |\\n| JAMES  |     30 |  7900 | SALES      |\\n+--------+--------+-------+------------+\\n```\\n\\n```sql\\n-- \u901a\u8fc7 name \u5206\u7ec4\\nselect\\n\\t\\tt.*,\\n\\t\\tcount(e.`EMPNO`) as emp_count\\nfrom\\n\\t\\t(select e.ENAME as name, e.DEPTNO, e.`empno`, d.`dname` from emp e join dept d on d.`DEPTNO` = e.`DEPTNO` where e.`JOB` = \\"CLERK\\") t\\njoin\\n\\t\\temp e\\non\\n\\t\\te.`DEPTNO` = t.`DEPTNO`\\ngroup by\\n\\t\\tt.`name` \\n\\n+--------+--------+-------+------------+-----------+\\n| name   | DEPTNO | empno | dname      | emp_count |\\n+--------+--------+-------+------------+-----------+\\n| ADAMS  |     20 |  7876 | RESEARCH   |         6 |\\n| JAMES  |     30 |  7900 | SALES      |         6 |\\n| MILLER |     10 |  7934 | ACCOUNTING |         2 |\\n| SMITH  |     20 |  7396 | RESEARCH   |         6 |\\n+--------+--------+-------+------------+-----------+\\n```\\n\\n### 20. \u5217\u51fa\u6700\u4f4e\u85aa\u6c34\u5927\u4e8e1500\u7684\u5404\u79cd\u5de5\u4f5c\u53ca\u4ece\u4e8b\u6b64\u5de5\u4f5c\u7684\u5168\u90e8\u96c7\u5458\u4eba\u6570\\n\\n```sql\\n-- \u67e5\u8be2\u5458\u5de5\u8868\uff0c\u6839\u636e\u5de5\u4f5c\u5206\u7ec4\uff0c\u5e76\u4e14\u83b7\u53d6\u8be5\u5de5\u4f5c\u7684\u6700\u4f4e\u85aa\u6c34 \u548c \u4eba\u6570\\nselect\\n\\t\\te.job,\\n    \\tcount(e.empno) as emp_count,\\n\\t\\tmin(e.sal) as minsal\\nfrom \\n\\t\\temp e\\ngroup by\\n\\t\\te.`job`\\nhaving\\n\\t\\tminsal > 1500\\n\\n+-----------+-----------+---------+\\n| job       | emp_count | minsal  |\\n+-----------+-----------+---------+\\n| ANALYST   |         2 | 3000.00 |\\n| MANAGER   |         3 | 2450.00 |\\n| PRESIDENT |         1 | 5000.00 |\\n+-----------+-----------+---------+\\n```\\n","isLeaf":true},{"key":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/mysql 34\u9053\u7ec3\u4e60\u9898\uff0821-30\uff09.md","path":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/mysql 34\u9053\u7ec3\u4e60\u9898\uff0821-30\uff09.md","route":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/mysql 34\u9053\u7ec3\u4e60\u9898\uff0821-30\uff09.md","leaf":true,"title":"mysql 34\u9053\u7ec3\u4e60\u9898\uff0821-30\uff09","depth":2,"content":"---\\ntitle: mysql 34\u9053\u7ec3\u4e60\u9898\uff0821-30\uff09\\n---\\n\\n### 21. \u5217\u51fa\u5728\u90e8\u95e8\u201cSALES\u201d\u5de5\u4f5c\u7684\u5458\u5de5\u7684\u59d3\u540d\uff0c\u5047\u5b9a\u4e0d\u77e5\u9053\u9500\u552e\u90e8\u95e8\u7684\u90e8\u95e8\u7f16\u53f7\\n\\n```sql\\n-- \u5b57\u67e5\u8be2\\nselect ename from emp e where e.`DEPTNO` = (select deptno from dept d where d.dname = \'SALES\');\\n\\n-- \u8fde\u8868\u67e5\\nselect ename from emp e join dept d on e.deptno = d.deptno where d.dname = \'SALES\';\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620876916754-264db0f0-3d3d-41d0-8c89-88d0fb349ec1.png)\\n\\n### 22. \u5217\u51fa\u85aa\u91d1\u9ad8\u4e8e\u516c\u53f8\u6c34\u5e73\u85aa\u8d44\u7684\u5458\u5de5\uff0c\u4ee5\u53ca\u6240\u5728\u90e8\u95e8\u3001\u4e0a\u7ea7\u9886\u5bfc\u3001\u5de5\u8d44\u7b49\u7ea7\xa0\\n\\n```sql\\n-- \u627e\u51fa\u516c\u53f8\u5e73\u5747\u85aa\u8d44\\nselect avg(sal) from `emp`;\\n\\n-- \u627e\u51fa\u85aa\u8d44\u9ad8\u4e8e\u5e73\u5747\u6c34\u5e73\u7684\u5458\u5de5\\nselect * from `emp` e where e.sal > (select avg(sal) from `emp`)\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620884283793-27cea758-4ac5-4b9f-9813-b66c35979710.png)\\n\\n```sql\\n-- \u6700\u540e\u7ec4\u88c5\\nselect\\n\\te.*,\\n\\td.dname,\\n\\ts.grade as salgrade,\\n\\te2.ename as boos\\nfrom `emp` e \\njoin dept d\\non e.deptno = d.deptno\\njoin salgrade s\\non e.sal between s.losal and s.hisal\\njoin emp e2\\non e2.`EMPNO` = e.mgr\\nwhere e.sal > (select avg(sal) from `emp`);\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620879548185-bb0a8f6b-4c10-4bc9-8838-fe22d00341ec.png)\\n\u8fd9\u4e2a\u4ee3\u7801\u6709\u95ee\u9898\uff0c\u9057\u6f0f\u4e86 KING\uff0c\u8fd9\u91cc\u9762\u81ea\u8fde\u63a5\u9700\u8981\u6539\u4e3a\u5de6\u8fde\u63a5\uff1a\\n\\n```sql\\n-- \u6700\u540e\u7ec4\u88c5\\nselect\\n\\te.*,\\n\\td.dname,\\n\\ts.grade as salgrade,\\n\\te2.ename as boos\\nfrom\\n\\t`emp` e \\njoin\\n\\tdept d\\non\\n\\te.deptno = d.deptno\\njoin\\n\\tsalgrade s\\non\\n\\te.sal between s.losal and s.hisal\\nleft join\\n\\temp e2\\non\\n\\te2.`EMPNO` = e.mgr\\nwhere\\n\\te.sal > (select avg(sal) from `emp`);\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620884541416-07fa256d-de8b-4d5c-a477-9ba4e8cb2c2b.png) \\n\\n### 23. \u5217\u51fa\u4e0e\u201cSCOTT\u201d\u4ece\u4e8b\u76f8\u540c\u5de5\u4f5c\u7684\u6240\u6709\u5458\u5de5\u53ca\u90e8\u95e8\u540d\u79f0\\n\\n```sql\\nselect\\n\\te.job,\\n\\te.ename,\\n\\td.dname\\nfrom emp e\\nleft join dept d\\non e.`DEPTNO` = d.`DEPTNO`\\nwhere e.`JOB` = (select e.`JOB` from emp e where e.ename = \\"SCOTT\\")\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620885157145-5bf1ee9b-7aa9-4533-b5b2-440114a275fd.png)\\n\\n### 24. \u274c \u5217\u51fa\u85aa\u91d1\u7b49\u4e8e\u90e8\u95e8(\u7f16\u53f730)\u4e2d\u5458\u5de5\u7684\u85aa\u91d1\u7684\u5176\u5b83\u5458\u5de5\u7684\u59d3\u540d\u548c\u85aa\u91d1\uff1f\uff1f\uff1f\\n\\n### 25. \u5217\u51fa\u85aa\u91d1\u9ad8\u4e8e\u5728\u90e8\u95e830\u5de5\u4f5c\u7684\u6240\u6709\u5458\u5de5\u7684\u85aa\u91d1\u7684\u5458\u5de5\u59d3\u540d&\u85aa\u91d1&\u90e8\u95e8\u540d\u79f0\\n\\n```sql\\n-- \u627e\u51fa\u5728\u90e8\u95e830\u5de5\u4f5c\u7684\u6240\u6709\u5458\u5de5\u7684\u85aa\u91d1\u7684\u6700\u5927\u503c v\\n-- \u627e\u51fa\u85aa\u8d44\u5927\u4e8e v \u7684\u6240\u6709\u5458\u5de5\uff0c\u4ee5\u53ca\u90e8\u95e8\u7f16\u53f7\\n```\\n\\n```sql\\n (select max(e.sal) from emp e where e.`DEPTNO` = 30)\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620885612410-3bc0e240-c804-4528-b5d9-fa78d0628c9f.png)\\n\\n```sql\\nselect * from emp e where e.sal > (select max(e.sal) from emp e where e.`DEPTNO` = 30)\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620885642367-6d502fd0-3cc9-4710-ac5d-34821c58d430.png)\\n\\n```sql\\nselect e.*, d.dname from emp e left join dept d on e.`DEPTNO` = d.`DEPTNO` where e.sal > (select max(e.sal) from emp e where e.`DEPTNO` = 30)\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620885793282-8ea2f728-1477-40b5-a9fe-93e8996a3828.png)\\n\\n### 26. \u5217\u51fa\u5728\u6bcf\u4e2a\u90e8\u95e8\u5de5\u4f5c\u7684\u5458\u5de5\u6570\u91cf\u3001\u5e73\u5747\u5de5\u8d44\u548c\u5e73\u5747\u670d\u52a1\u671f\u9650\\n\\n```sql\\nselect\\n\\te.DEPTNO,\\n\\tcount(e.`EMPNO`) as emp_count,\\n\\tavg(e.`SAL`) as avg_sal,\\n\\tavg((to_days(now())-to_days(hiredate))/365) as avg_server_year \\nfrom\\n\\temp e\\ngroup by e.`DEPTNO`\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620886160834-dd817860-d24c-4fbf-a11e-350118cb2c5b.png)\\n\\n### 27. \u5217\u51fa\u6240\u6709\u5458\u5de5\u7684\u59d3\u540d\u3001\u90e8\u95e8\u540d\u79f0\u3001\u5de5\u8d44\xa0\\n\\n```sql\\nselect e.ename, e.sal, d.dname from emp e left join dept d on d.`DEPTNO` = e.`DEPTNO`\\n```\\n\\n### 28. \u5217\u51fa\u6240\u6709\u90e8\u95e8\u7684\u8be6\u7ec6\u4fe1\u606f\u548c\u4eba\u6570\\n\\n```sql\\nselect\\n\\td.*,\\n\\tcount(d.DEPTNO) as count_emp\\nfrom \\n\\tdept d\\njoin\\n\\temp e\\non\\n\\te.`DEPTNO` = d.`DEPTNO`\\ngroup by\\n\\td.`DEPTNO`\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620889331650-29c68b81-5060-4c4d-bc01-1be1450bda1f.png)\\n\\n### 29. \u5217\u51fa\u5404\u79cd\u5de5\u4f5c\u7684\u6700\u4f4e\u5de5\u8d44\u53ca\u4ece\u4e8b\u6b64\u5de5\u4f5c\u7684\u96c7\u5458\u59d3\u540d\\n\\n```sql\\n-- \u5217\u51fa\u5404\u79cd\u5de5\u4f5c\u7684\u6700\u4f4e\u5de5\u8d44\\nselect e.job, min(e.sal) as minsal from emp e group by e.job;\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620888491489-0f0b2ca2-7fb3-48ff-a736-e98659928514.png)\\n\\n```sql\\nselect\\n\\tt.*,\\n\\te.ename\\nfrom \\n\\t(select e.job, min(e.sal) as minsal from emp e group by e.job) t\\nleft join\\n\\temp e\\non \\n\\te.`JOB` = t.`JOB` and e.sal = t.minsal;\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1620889071665-56613af7-500b-4d90-a272-eeec47ea719d.png)\\n\\n### 30 .\u5217\u51fa\u5404\u4e2a\u90e8\u95e8 MANAGER \u7684\u6700\u4f4e\u85aa\u91d1\\n\\n```sql\\n-- \u627e\u51fa\u5404\u4e2a\u90e8\u95e8 MANAGER\\n\\nselect\\n        e.deptno,min(e.sal) as minsal\\nfrom\\n        emp e\\nwhere\\n        e.job=\'manager\'\\ngroup by\\n        e.deptno;\\n```\\n","isLeaf":true},{"key":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/mysql 34\u9053\u7ec3\u4e60\u9898\uff0831-34\uff09.md","path":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/mysql 34\u9053\u7ec3\u4e60\u9898\uff0831-34\uff09.md","route":"/Mysql/16 34\u9053\u7ec3\u4e60\u9898/mysql 34\u9053\u7ec3\u4e60\u9898\uff0831-34\uff09.md","leaf":true,"title":"mysql 34\u9053\u7ec3\u4e60\u9898\uff0831-34\uff09","depth":2,"content":"---\\ntitle: mysql 34\u9053\u7ec3\u4e60\u9898\uff0831-34\uff09\\n---\\n\\n### 31. \u5217\u51fa\u6240\u6709\u5458\u5de5\u7684\u5e74\u5de5\u8d44\uff0c\u6309\u5e74\u85aa\u4ece\u4f4e\u5230\u9ad8\u6392\u5e8f\\n\\n```sql\\nselect sal * 12 as year_sal from emp e order by year_sal DESC;\\n\\n+----------+\\n| year_sal |\\n+----------+\\n| 60000.00 |\\n| 36000.00 |\\n| 36000.00 |\\n| 35700.00 |\\n| 34200.00 |\\n| 29400.00 |\\n| 19200.00 |\\n| 18000.00 |\\n| 15600.00 |\\n| 15000.00 |\\n| 15000.00 |\\n| 13200.00 |\\n| 11400.00 |\\n|  9600.00 |\\n+----------+\\n```\\n\\n### 32. \u6c42\u51fa\u5458\u5de5\u9886\u5bfc\u7684\u85aa\u6c34\u8d85\u8fc73000\u7684\u5458\u5de5\u540d\u79f0\u548c\u9886\u5bfc\u540d\u79f0\\n\\n```sql\\nselect\\n\\te.`ename`,\\n\\ta.ename as boss,\\n\\ta.sal\\n\\t\\nfrom emp e join emp a on e.`mgr` = a.`empno` where a.sal>3000;\\n\\n+-------+------+---------+\\n| ename | boss | sal     |\\n+-------+------+---------+\\n| JONES | KING | 5000.00 |\\n| BLAKE | KING | 5000.00 |\\n| CLARK | KING | 5000.00 |\\n+-------+------+---------+\\n```\\n\\n### 33. \u6c42\u90e8\u95e8\u540d\u79f0\u4e2d\u5e26\u201cS\u201d\u5b57\u7b26\u7684\u90e8\u95e8\u5458\u5de5\u7684\u5de5\u8d44\u5408\u8ba1&\u90e8\u95e8\u4eba\u6570\\n\\n```sql\\n-- \u90e8\u95e8\u540d\u79f0\u4e2d\u5e26\u201cS\u201d\u5b57\u7b26\u7684\u90e8\u95e8A\\n-- \u6c42A\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u90e8\u95e8\u5458\u5de5\u7684\u5de5\u8d44\u5408\u8ba1 \u4ee5\u53ca \u90e8\u95e8\u4eba\u6570\\n\\nselect\\n\\td.deptno,\\n\\td.dname,\\n\\tsum(e.`sal`) as sum_sal,\\n\\tcount(e.`empno`) as count_emp\\nfrom\\n\\tdept d\\njoin\\n\\temp e\\non\\n\\te.`deptno` = d.`deptno`\\nwhere\\n\\td.dname like \'%s%\'\\ngroup by\\n\\td.dname;\\n  \\n+--------+----------+----------+-----------+\\n| deptno | dname    | sum_sal  | count_emp |\\n+--------+----------+----------+-----------+\\n|     20 | RESEARCH | 13325.00 |         6 |\\n|     30 | SALES    |  9400.00 |         6 |\\n+--------+----------+----------+-----------+\\n```\\n\\n### 34. \u7ed9\u4efb\u804c\u65e5\u671f\u8d85\u8fc730\u5e74\u7684\u5458\u5de5\u52a0\u85aa10%\\n\\n```sql\\n-- \u627e\u51fa\u804c\u65e5\u671f\u8d85\u8fc730\u5e74\u7684\u5458\u5de5\\n\\n-- # \u5148\u5907\u4efd\u4e00\u4e0b\u8868\\ncreate table emp_bak as select * from emp;\\nupdate emp_bak set sal = sal *1.1 where (to_days(now())-to_days(hiredate))/365>30;\\n-- +-------+--------+-----------+------+------------+---------+---------+--------+\\n-- | EMPNO | ENAME  | JOB       | MGR  | HIREDATE   | SAL     | COMM    | DEPTNO |\\n-- +-------+--------+-----------+------+------------+---------+---------+--------+\\n-- |  7396 | SMITH  | CLERK     | 7902 | 1980-12-17 |  880.00 |    NULL |     20 |\\n-- |  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1760.00 |  300.00 |     30 |\\n-- |  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1375.00 |  500.00 |     30 |\\n-- |  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 3272.50 |    NULL |     20 |\\n-- |  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1375.00 | 1400.00 |     30 |\\n-- |  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 3135.00 |    NULL |     30 |\\n-- |  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2695.00 |    NULL |     20 |\\n-- |  7788 | SCOTT  | ANALYST   | 7566 | 1987-04-19 | 3300.00 |    NULL |     20 |\\n-- |  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5500.00 |    NULL |     10 |\\n-- |  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1650.00 |    0.00 |     30 |\\n-- |  7876 | ADAMS  | CLERK     | 7788 | 1987-05-23 | 1210.00 |    NULL |     20 |\\n-- |  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 | 1045.00 |    NULL |     30 |\\n-- |  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 3300.00 |    NULL |     20 |\\n-- |  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1430.00 |    NULL |     10 |\\n-- +-------+--------+-----------+------+------------+---------+---------+--------+\\n```\\n","isLeaf":true}]},{"key":"/Mysql/17 \u6781\u5ba2\u65f6\u95f4 45\u8bb2","path":"/Mysql/17 \u6781\u5ba2\u65f6\u95f4 45\u8bb2","route":"/Mysql/17 \u6781\u5ba2\u65f6\u95f4 45\u8bb2","leaf":false,"title":"17 \u6781\u5ba2\u65f6\u95f4 45\u8bb2","depth":1,"content":"","isLeaf":false,"children":[]},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee","leaf":false,"title":"18 \u4e00\u4e9b\u7591\u95ee","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/01-query-on-tcp.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/01-query-on-tcp.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/01-query-on-tcp.md","leaf":true,"title":"01-query-on-tcp","depth":2,"content":"---\\ntags: Mysql\\n---\\n\\n## 1\u3001\u6267\u884c\u4e00\u6b21 mysql \u67e5\u8be2\uff0c\u4f1a\u8fdb\u884c\u51e0\u6b21 tcp \u901a\u8baf\\n\\n\u6267\u884c\u4e00\u6b21MySQL\u67e5\u8be2\u5927\u81f4\u4f1a\u8fdb\u884c\u4e24\u6b21TCP\u901a\u4fe1\uff1a\\n1. \u5efa\u7acb\u8fde\u63a5\uff1a\u5ba2\u6237\u7aef\u4e0eMySQL\u670d\u52a1\u5668\u901a\u8fc7TCP\u5efa\u7acb\u8fde\u63a5\u3002\\n\\n2. \u6267\u884c\u67e5\u8be2\uff1a\u5b8c\u6210\u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u5ba2\u6237\u7aef\u5411MySQL\u670d\u52a1\u5668\u53d1\u9001\u67e5\u8be2\u8bf7\u6c42\uff0cMySQL\u670d\u52a1\u5668\u8fd4\u56de\u67e5\u8be2\u7ed3\u679c\uff0c\u6b64\u8fc7\u7a0b\u4e2d\u4e5f\u662f\u4f7f\u7528TCP\u8fdb\u884c\u901a\u8baf\u3002\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u6267\u884c\u67e5\u8be2\u8fc7\u7a0b\u4e2d\uff0c\u901a\u4fe1\u6b21\u6570\u8fd8\u4f1a\u53d7\u5230\u4e00\u4e9b\u5176\u4ed6\u56e0\u7d20\u7684\u5f71\u54cd\uff0c\u5982\u67e5\u8be2\u7684\u590d\u6742\u7a0b\u5ea6\u3001\u8868\u7684\u5927\u5c0f\u3001\u7f51\u7edc\u72b6\u51b5\u7b49\u3002\u4f46\u662f\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\uff0cMySQL\u67e5\u8be2\u90fd\u4f1a\u8fdb\u884c\u81f3\u5c11\u4e24\u6b21TCP\u901a\u4fe1\u3002\\n\\n## 2\u3001\u6267\u884c\u67e5\u8be2\u7684\u8be6\u7ec6\u8fc7\u7a0b\\n\\nMySQL\u67e5\u8be2\u7684\u8be6\u7ec6\u8fc7\u7a0b\u5982\u4e0b\uff1a\\n1. \u5ba2\u6237\u7aef\u5411MySQL\u670d\u52a1\u5668\u53d1\u9001\u67e5\u8be2\u8bf7\u6c42\uff0c\u901a\u8fc7TCP\u5957\u63a5\u5b57\u53d1\u9001\u4e00\u4e2aSQL\u547d\u4ee4\u5b57\u7b26\u4e32\u5230MySQL\u670d\u52a1\u5668\u3002\\n\\n2. MySQL\u670d\u52a1\u5668\u6536\u5230\u67e5\u8be2\u8bf7\u6c42\u540e\uff0c\u89e3\u6790SQL\u547d\u4ee4\uff0c\u5982SELECT\u3001INSERT\u7b49\uff0c\u5e76\u5bf9\u547d\u4ee4\u8fdb\u884c\u5408\u6cd5\u6027\u9a8c\u8bc1\uff0c\u4f8b\u5982\u68c0\u67e5\u8bed\u6cd5\u9519\u8bef\u548c\u8bbf\u95ee\u6743\u9650\u3002\\n\\n3. \u5982\u679cSQL\u8bed\u53e5\u5408\u6cd5\uff0c\u5219\u670d\u52a1\u5668\u4f1a\u6267\u884cSQL\u67e5\u627e\u6570\u636e\u6216\u4fee\u6539\u6570\u636e\u7684\u64cd\u4f5c\u3002\u5bf9\u4e8e\u4e00\u4e2aSELECT\u67e5\u8be2\uff0c\u670d\u52a1\u5668\u4f1a\u5c06\u7ed3\u679c\u96c6\u62c6\u5206\u4e3a\u591a\u4e2a\u6570\u636e\u5305\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u3002\u5bf9\u4e8eINSERT\u3001UPDATE\u548cDELETE\u8bed\u53e5\uff0c\u670d\u52a1\u5668\u4f1a\u8fd4\u56de\u547d\u4ee4\u6267\u884c\u7684\u7ed3\u679c\u4fe1\u606f\u3002\\n\\n4. \u5ba2\u6237\u7aef\u63a5\u6536\u5230MySQL\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u65f6\uff0c\u901a\u8fc7TCP\u5957\u63a5\u5b57\u5c06\u7ed3\u679c\u96c6\u5b57\u8282\u6d41\u4f20\u8f93\u5230\u672c\u5730\u8ba1\u7b97\u673a\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u5c06\u7ed3\u679c\u96c6\u6570\u636e\u8f6c\u5316\u4e3a\u7a0b\u5e8f\u5185\u90e8\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5982\u4e8c\u7ef4\u6570\u7ec4\u3001\u54c8\u5e0c\u8868\u7b49\u3002\\n\\n5. \u5ba2\u6237\u7aef\u5904\u7406\u7ed3\u679c\u96c6\u6570\u636e\uff0c\u4f8b\u5982\u8fdb\u884c\u6570\u636e\u5206\u6790\u3001\u7edf\u8ba1\u548c\u5c55\u793a\u7b49\u64cd\u4f5c\u3002\\n\\n6. \u5ba2\u6237\u7aef\u91ca\u653e\u7ed3\u679c\u96c6\u5185\u5b58\u5e76\u5173\u95edTCP\u5957\u63a5\u5b57\u8fde\u63a5\u3002\\n\\n## 3\u3001\u6293\u5305\u5206\u6790\\n\\n![20230506165553](http://s3.airtlab.com/blog/20230506165553.png)\\n\\n![20230506165632](http://s3.airtlab.com/blog/20230506165632.png)\\n\\n![20230506165647](http://s3.airtlab.com/blog/20230506165647.png)\\n\\n## 4\u3001mysql \u901a\u8baf\u534f\u8bae","isLeaf":true},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/02-mysql-utilities.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/02-mysql-utilities.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/02-mysql-utilities.md","leaf":true,"title":"02-mysql-utilities","depth":2,"content":"---\\ntags: Mysql\\n---\\n\\n## 1\u3001MySQL Utilities \u4ecb\u7ecd\\n\\nMySQL Utilities \u63d0\u4f9b\u4e00\u7ec4\u547d\u4ee4\u884c\u5de5\u5177\u7528\u4e8e\u7ef4\u62a4\u548c\u7ba1\u7406 MySQL \u670d\u52a1\u5668\uff0c\u5305\u62ec\uff1a\\n\\n- \u7ba1\u7406\u5de5\u5177 (\u514b\u9686\u3001\u590d\u5236\u3001\u6bd4\u8f83\u3001\u5dee\u5f02\u3001\u5bfc\u51fa\u3001\u5bfc\u5165)\\n- \u590d\u5236\u5de5\u5177 (\u5b89\u88c5\u3001\u914d\u7f6e)\\n- \u4e00\u822c\u5de5\u5177 (\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5\u3001\u5197\u4f59\u7d22\u5f15\u3001\u641c\u7d22\u5143\u6570\u636e)\\n\\nMySQL Utilities \u662f\u4e00\u7cfb\u5217\u7684\u547d\u4ee4\u884c\u5de5\u5177\u4ee5 \u53ca\u200b\xa0\u200bPython\u200b\u200b\u5e93\u66f4\u5bb9\u6613\u5b8c\u6210\u7ba1\u7406\u7684\u4efb\u52a1\\n\\n## 2\u3001\u901a\u8fc7 pip \u5b89\u88c5 \u3010\u5931\u8d25\u3011\\n\\n\u60a8\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u5728 macOS \u4e0a\u5b89\u88c5 mysql utilities\uff1a\\n\\n1. \u4f7f\u7528 Homebrew \u5b89\u88c5 MySQL\uff1a\\n\\n```\\nbrew install mysql\\n```\\n\\n2. \u5b89\u88c5 Python pip \u5de5\u5177\uff08\u5982\u679c\u60a8\u7684\u7cfb\u7edf\u5c1a\u672a\u5b89\u88c5\uff09\uff1a\\n\\n```\\nsudo easy_install pip\\n```\\n\\n\u8fd9\u91cc\u5b89\u88c5\u53ef\u80fd\u4f1a\u62a5\u9519 (https://stackoverflow.com/questions/72270592/syntaxerror-when-pip-install-pip-def-readrel-path-str) \\n\\n![20230515145909](http://s3.airtlab.com/blog/20230515145909.png)\\n\\n3. \u4f7f\u7528 pip \u5b89\u88c5 mysql-utilities\uff1a\\n\\n```\\nsudo pip install mysql-utilities\\n```\\n\\n\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u7ec8\u7aef\u4e2d\u8fd0\u884c mysql utilities \u547d\u4ee4\u3002\\n\\n## 3\u3001\u4e0b\u8f7d\u6e90\u7801\u5b89\u88c5 \u3010\u6210\u529f\u3011\\n\\nhttps://github.com/mysql/mysql-utilities/releases/tag/release-1.6.5\\n\\n```shell\\ncd mysql-utilities-release-1.6.5\\npython setup.py install\\n\\ncd /Library/Frameworks/Python.framework/Versions/2.7/bin\\n```\\n\\n![20230515160248](http://s3.airtlab.com/blog/20230515160248.png)\\n\\n## 4\u3001\u6d4b\u8bd5 mysqldiff\\n\\n```shell\\nmysqldiff --server1=root:123456@127.0.0.1:3306 --server2=root:123456@127.0.0.1:3306 --changes-for=server2 test:test2\\n```\\n\\n\u63d0\u793a\u7f3a\u5c11 MySQLConverter\\n\\n```shell\\nTraceback (most recent call last):\\n  File \\"/Library/Frameworks/Python.framework/Versions/2.7/bin/mysqldiff\\", line 30, in <module>\\n    from mysql.utilities.command.diff import object_diff, database_diff\\n  File \\"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/mysql/utilities/command/diff.py\\", line 25, in <module>\\n    from mysql.utilities.common.database import Database\\n  File \\"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/mysql/utilities/common/database.py\\", line 32, in <module>\\n    from mysql.utilities.common.options import obj2sql\\n  File \\"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/mysql/utilities/common/options.py\\", line 36, in <module>\\n    from mysql.connector.conversion import MySQLConverter\\nImportError: No module named connector.conversion\\n```\\n\\n\u5b89\u88c5\\n```shell\\npip install mysql-connector-python\\n```\\n\\n\u53c8\u63d0\u793a\\n```text\\nTraceback (most recent call last):\\n  File \\"/Library/Frameworks/Python.framework/Versions/2.7/bin/mysqldiff\\", line 28, in <module>\\n    from mysql.utilities.common.tools import check_python_version\\nImportError: No module named utilities.common.tools\\n```\\n\\n\u653e\u5f03\u4e86... \u5c31\u5f88\u65e0\u8bed \ud83d\ude2d\ud83d\ude2d\ud83d\ude2d","isLeaf":true},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/03-mysql-workbench.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/03-mysql-workbench.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/03-mysql-workbench.md","leaf":true,"title":"03-mysql-workbench","depth":2,"content":"---\\ntags: Mysql\\n---\\n\\n## 1\u3001MySQL Workbench \u4ecb\u7ecd\\n\\nMySQL Workbench \u662f\u4e00\u4e2a\u53ef\u89c6\u5316\u6570\u636e\u5e93\u8bbe\u8ba1\u548c\u7ba1\u7406\u5de5\u5177\uff0c\u65e8\u5728\u7b80\u5316 MySQL \u6570\u636e\u5e93\u7684\u5f00\u53d1\u3001\u90e8\u7f72\u548c\u7ba1\u7406\u3002\\nMySQL Workbench \u63d0\u4f9b\u4e86\u4ee5\u4e0b\u529f\u80fd\uff1a\\n\\n1. \u6570\u636e\u5e93\u5efa\u6a21\u548c\u8bbe\u8ba1\uff1a\u5141\u8bb8\u7528\u6237\u901a\u8fc7\u53ef\u89c6\u5316\u5de5\u5177\u8fdb\u884c\u6570\u636e\u5e93\u8bbe\u8ba1\u548c\u5efa\u6a21\u3002\\n\\n2. SQL \u5f00\u53d1\uff1a\u5141\u8bb8\u7528\u6237\u521b\u5efa\u3001\u7f16\u8f91\u548c\u6267\u884c SQL \u67e5\u8be2\u3001\u8bed\u53e5\u548c\u811a\u672c\u3002\\n\\n3. \u6570\u636e\u5e93\u7ba1\u7406\uff1a\u5141\u8bb8\u7528\u6237\u521b\u5efa\u3001\u4fee\u6539\u3001\u5220\u9664\u6570\u636e\u5e93\u3001\u8868\u3001\u89c6\u56fe\u3001\u5b58\u50a8\u8fc7\u7a0b\u7b49\u3002\\n\\n4. \u6570\u636e\u8fde\u63a5\uff1aMySQL Workbench \u5141\u8bb8\u7528\u6237\u8fde\u63a5\u591a\u4e2a MySQL \u5b9e\u4f8b\uff0c\u5305\u62ec\u5728\u672c\u5730\u6216\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u7684 MySQL \u5b9e\u4f8b\u3002\\n\\n5. \u6570\u636e\u5e93\u5907\u4efd\u548c\u6062\u590d\uff1aMySQL Workbench \u5141\u8bb8\u7528\u6237\u5bf9 MySQL \u6570\u636e\u5e93\u8fdb\u884c\u5907\u4efd\u548c\u8fd8\u539f\uff0c\u4ee5\u53ca\u7ba1\u7406\u5907\u4efd\u6587\u4ef6\u3002\\n\\n6. \u6570\u636e\u5e93\u6027\u80fd\u5206\u6790\u548c\u4f18\u5316\uff1aMySQL Workbench \u5141\u8bb8\u7528\u6237\u67e5\u770b\u548c\u5206\u6790 MySQL \u6570\u636e\u5e93\u7684\u6027\u80fd\uff0c\u5e76\u751f\u6210\u53ef\u89c6\u5316\u56fe\u8868\u3002\u540c\u65f6\u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e9b\u4f18\u5316\u5de5\u5177\uff0c\u5982\u67e5\u8be2\u4f18\u5316\u5668\u7b49\u3002\\n\\n\u603b\u4e4b\uff0cMySQL Workbench \u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u548c DBA \u66f4\u9ad8\u6548\u5730\u8bbe\u8ba1\u3001\u5f00\u53d1\u548c\u7ba1\u7406 MySQL \u6570\u636e\u5e93\uff0c\u5e76\u63d0\u4f9b\u5168\u9762\u7684\u6570\u636e\u5e93\u7ba1\u7406\u548c\u6027\u80fd\u4f18\u5316\u5de5\u5177\u3002","isLeaf":true},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/04-get-db-used-size.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/04-get-db-used-size.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/04-get-db-used-size.md","leaf":true,"title":"04-get-db-used-size","depth":2,"content":"---\\ntags: Mysql\\n---\\n\\n## 1\u3001\u67d0\u5f20\u8868\u5360\u7528\u78c1\u76d8\u5927\u5c0f\\n\\n\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u8be2MySQL\u6570\u636e\u5e93\u4e2d\u67d0\u5f20\u8868\u5360\u7528\u7684\u78c1\u76d8\u5927\u5c0f\uff1a\\n\\n```\\nSELECT table_name AS \\"Table\\",\\nROUND(((data_length + index_length) / 1024 / 1024), 2) AS \\"Size (MB)\\"\\nFROM information_schema.TABLES\\nWHERE table_schema = \\"<your_database_name>\\"\\nAND table_name = \\"<your_table_name>\\";\\n```\\n\\n\u8bf7\u5c06 `<your_database_name>` \u548c `<your_table_name>` \u66ff\u6362\u4e3a\u60a8\u60f3\u67e5\u8be2\u7684\u6570\u636e\u5e93\u540d\u79f0\u548c\u8868\u540d\u79f0\u3002\\n\\n\u6267\u884c\u8be5\u547d\u4ee4\u540e\uff0c\u60a8\u5c06\u770b\u5230\u8868\u683c\u540d\u79f0\u548c\u8868\u5360\u7528\u7684\u78c1\u76d8\u7a7a\u95f4\u5927\u5c0f\uff08\u4ee5MB\u4e3a\u5355\u4f4d\uff09\u3002\\n\\n## 2\u3001\u6570\u636e\u5e93\u5360\u7528\u78c1\u76d8\u5927\u5c0f\\n\\n\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0bMySQL\u67e5\u8be2\u6765\u68c0\u7d22\u6574\u4e2a\u6570\u636e\u5e93\u6240\u5360\u7528\u7684\u78c1\u76d8\u7a7a\u95f4\u5927\u5c0f\uff1a\\n\\n```\\nSELECT table_schema AS \\"Database\\",\\nSUM(data_length + index_length) / 1024 / 1024 AS \\"Size (MB)\\"\\nFROM information_schema.TABLES\\nGROUP BY table_schema;\\n```\\n\\n\u6267\u884c\u8be5\u547d\u4ee4\u540e\uff0c\u60a8\u5c06\u770b\u5230\u6bcf\u4e2a\u6570\u636e\u5e93\u7684\u540d\u79f0\u548c\u5b83\u6240\u5360\u7528\u7684\u78c1\u76d8\u7a7a\u95f4\u5927\u5c0f\uff08\u4ee5MB\u4e3a\u5355\u4f4d\uff09\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u5c06\u4e3a\u6240\u6709\u8868\u683c\u7684\u6570\u636e\u548c\u7d22\u5f15\u7a7a\u95f4\u603b\u548c\u63d0\u4f9b\u4e00\u4e2a\u4f30\u8ba1\u503c\u3002","isLeaf":true},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/SQL \u8bed\u8a00\u4ecb\u7ecd.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/SQL \u8bed\u8a00\u4ecb\u7ecd.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/SQL \u8bed\u8a00\u4ecb\u7ecd.md","leaf":true,"title":"SQL \u8bed\u8a00\u4ecb\u7ecd","depth":2,"content":"---\\ntitle: SQL \u8bed\u8a00\u4ecb\u7ecd\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n![image.png](http://s3.airtlab.com/mysql/1601645857104-cb7526b8-c5af-4677-ae19-83318c1c2b68.png)\\n![image.png](http://s3.airtlab.com/mysql/1601645911349-030d10cd-beba-47a6-af6e-91e7667bd76d.png)\\n![image.png](http://s3.airtlab.com/mysql/1601646004497-fbd4186f-0ae0-462f-a910-94dd7fa42632.png)\\n","isLeaf":true},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/mysql like \u4e3a\u4ec0\u4e48\u5f88\u6162.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/mysql like \u4e3a\u4ec0\u4e48\u5f88\u6162.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/mysql like \u4e3a\u4ec0\u4e48\u5f88\u6162.md","leaf":true,"title":"mysql like \u4e3a\u4ec0\u4e48\u5f88\u6162","depth":2,"content":"---\\ntitle: mysql like \u4e3a\u4ec0\u4e48\u5f88\u6162\\nurl: https://www.yuque.com/gaollard/utbbp1/xhevle\\n---\\n\\n\u6a21\u7cca\u67e5\u8be2\u4f1a\u5bfc\u81f4\u7d22\u5f15\u5931\u6548\\n","isLeaf":true},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/mysql \u4f7f\u7528 explain \u89e3\u91ca\u8bed\u53e5.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/mysql \u4f7f\u7528 explain \u89e3\u91ca\u8bed\u53e5.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/mysql \u4f7f\u7528 explain \u89e3\u91ca\u8bed\u53e5.md","leaf":true,"title":"mysql \u4f7f\u7528 explain \u89e3\u91ca\u8bed\u53e5","depth":2,"content":"---\\ntitle: mysql \u4f7f\u7528 explain \u89e3\u91ca\u8bed\u53e5\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n```sql\\nexplain select * from `book` t group by t.name\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1625556945713-0acc311a-f6c2-4a58-afcf-522c650366d8.png)\\n","isLeaf":true},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/mysql \u5206\u7ec4.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/mysql \u5206\u7ec4.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/mysql \u5206\u7ec4.md","leaf":true,"title":"mysql \u5206\u7ec4","depth":2,"content":"---\\ntitle: mysql \u5206\u7ec4\\nurl: https://www.yuque.com/gaollard/utbbp1/is25v0\\n---\\n\\n1\u3001group \u5e38\u7528\u53e5\u5f0f\\n\\n```sql\\nselect ... from ... where ... group by ... having ... order by ...\\n```\\n\\n```sql\\nselect * from `book` t where t.id > 1 group by t.name having t.id > 1  order by t.id ASC \\n```\\n","isLeaf":true},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/mysql \u65f6\u95f4\u600e\u4e48\u5b58.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/mysql \u65f6\u95f4\u600e\u4e48\u5b58.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/mysql \u65f6\u95f4\u600e\u4e48\u5b58.md","leaf":true,"title":"mysql \u65f6\u95f4\u600e\u4e48\u5b58","depth":2,"content":"---\\ntitle: mysql \u65f6\u95f4\u600e\u4e48\u5b58\\nurl: https://www.yuque.com/gaollard/utbbp1/ttugko\\n---\\n\\n- int\\n- datetime\\n- timestamp\\n- varchar\\n\\n\u7528\u54ea\u4e00\u4e2a\u597d\uff1f\\n\\n- \u4ec5\u4ec5\u7528\u505a\u5c55\u793a\\n- \u5927\u5c0f\u5bf9\u6bd4\\n","isLeaf":true},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/union \u4e0e union all.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/union \u4e0e union all.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/union \u4e0e union all.md","leaf":true,"title":"union \u4e0e union all","depth":2,"content":"---\\ntitle: union \u4e0e union all\\nurl: https://www.yuque.com/gaollard/utbbp1/esgoiz\\n---\\n\\n","isLeaf":true},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u5168\u8868\u5206\u7ec4\u7684\u6027\u80fd\u5dee.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u5168\u8868\u5206\u7ec4\u7684\u6027\u80fd\u5dee.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u5168\u8868\u5206\u7ec4\u7684\u6027\u80fd\u5dee.md","leaf":true,"title":"\u5168\u8868\u5206\u7ec4\u7684\u6027\u80fd\u5dee","depth":2,"content":"---\\ntitle: \u5168\u8868\u5206\u7ec4\u7684\u6027\u80fd\u5dee\\nurl: https://www.yuque.com/gaollard/utbbp1/nb231s\\n---\\n\\n","isLeaf":true},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u5982\u4f55\u6b63\u786e\u4f7f\u7528 join \u4ece\u53e5.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u5982\u4f55\u6b63\u786e\u4f7f\u7528 join \u4ece\u53e5.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u5982\u4f55\u6b63\u786e\u4f7f\u7528 join \u4ece\u53e5.md","leaf":true,"title":"\u5982\u4f55\u6b63\u786e\u4f7f\u7528 join \u4ece\u53e5","depth":2,"content":"---\\ntitle: \u5982\u4f55\u6b63\u786e\u4f7f\u7528 join \u4ece\u53e5\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n### 1. \u8fde\u63a5\u7c7b\u578b\\n\\n***\\n\\n![image.png](http://s3.airtlab.com/mysql/1601646120805-feb496bd-9874-4cc1-9592-ba9bb857f38f.png) \\n\\n### 2. \u5185\u8fde\u63a5\\n\\n***\\n\\n\u5185\u8fde\u63a5\u4e5f\u79f0\u4e3a\u7b49\u503c\u8fde\u63a5\uff0c\u8fd4\u56de\u4e24\u5f20\u8868\u90fd\u6ee1\u8db3\u6761\u4ef6\u7684\u90e8\u5206\u3002\\n![image.png](http://s3.airtlab.com/mysql/1601647451240-ff77e6c7-ec03-480b-95e1-0259916956a7.png)\\n![image.png](http://s3.airtlab.com/mysql/1601647482334-67b8f9b2-421f-4f39-b762-7d6dd35a71e4.png)\\n![image.png](http://s3.airtlab.com/mysql/1601647510549-e7f2e88e-0314-4052-8599-1ec44d42d435.png)\\n\\n```sql\\n-- \u53ea\u7528 where ...\\nselect s.`student_name`, c.`class_name`,  s.`class_id`, s.`id` as `student_id` from student s, class c where s.`class_id` = c.`id`\\n\\n-- join ... on ...\\nselect s.`student_name`, c.`class_name`,  s.`class_id`, s.`id` as `student_id` from student s join class c on s.`class_id` = c.`id`\\n\\n-- inner join ... on ...\\nselect s.`student_name`, c.`class_name`,  s.`class_id`, s.`id` as `student_id` from student s inner join class c on s.`class_id` = c.`id`\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1601647626566-9f555265-a068-4b26-a9ec-5efc95f6d129.png) \\n\\n### 3. \u5916\u8fde\u63a5\\n\\n***\\n\\n#### 3.1 \u5de6\u8fde\u63a5\\n\\n\u6839\u636e\u5de6\u8868\u7684\u8bb0\u5f55\uff0c\u5728\u88ab\u8fde\u63a5\u7684\u53f3\u8868\u4e2d\u627e\u51fa\u7b26\u5408\u6761\u4ef6\u7684\u8bb0\u5f55\u4e0e\u4e4b\u5339\u914d\uff0c\u5982\u679c\u627e\u4e0d\u5230\u4e0e\u5de6\u8868\u5339\u914d\u7684\uff0c\u7528 null \u8868\u793a\u3002\u6ce8\u610f\u548c\u5185\u8fde\u63a5\u7684\u533a\u522b\uff0c\u5185\u8fde\u63a5\u662f\u8bc6\u522b\u51fa\u4ea4\u96c6\u90e8\u5206\uff0c\u800c\u5de6\u8fde\u63a5\u662f\u4ee5\u5de6\u8868\u4e3a\u57fa\u51c6\uff0c\u53f3\u8fb9\u7684\u8868\u6309\u6761\u4ef6\u627e\u51fa\u7b26\u5408\u6761\u4ef6\u7684\u663e\u793a\uff0c\u4e0d\u7b26\u5408\u5219\u663e\u793anull\u3002\\n![image.png](http://s3.airtlab.com/mysql/1601648425851-5c144939-a985-4e86-96cb-eca5dbaab320.png)\\n![image.png](http://s3.airtlab.com/mysql/1601648507489-6464a585-46ed-42a3-a3a0-c5df7c1982e9.png)\\n![image.png](http://s3.airtlab.com/mysql/1601648520602-4211e3ce-5225-430b-aa41-f58687da1fdd.png)\\n\\n```sql\\n-- letf join ... on ...\\nselect s.`student_name`, c.`class_name`,  s.`class_id`, s.`id` as `student_id` from student s left join class c on s.`class_id` = c.`id`\\n\\n-- letf outer join ... on ...\\nselect s.`student_name`, c.`class_name`,  s.`class_id`, s.`id` as `student_id` from student s left outer join class c on s.`class_id` = c.`id`\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1601651166059-a41028b2-f055-4737-9691-805a9879847e.png) \\n\\n#### 3.2 \u53f3\u8fde\u63a5\\n\\n![image.png](http://s3.airtlab.com/mysql/1601652160919-e8960bed-f0cb-48a3-9a9c-89d4999801bd.png)\\n\u53d6\u53f3\u8fb9\u7684\u8868\u7684\u5168\u90e8\uff0c\u5de6\u8fb9\u7684\u8868\u6309\u6761\u4ef6\uff0c\u7b26\u5408\u7684\u663e\u793a\uff0c\u4e0d\u7b26\u5408\u5219\u663e\u793anull\u3002\u7528\u6cd5\u5b8c\u5168\u4e0e\u5de6\u8fde\u63a5\u5b8c\u5168\u4e00\u81f4\uff0c\u53ea\u662f\u5c06 left join \u6539\u4e3a right join\u3002\\n![image.png](http://s3.airtlab.com/mysql/1601651529787-d0279b09-7a18-4697-8d0e-f51698e78523.png)\\n![image.png](http://s3.airtlab.com/mysql/1601651539854-e8e698fd-9d12-4ff1-ab16-54ee6d1546eb.png)\\n![image.png](http://s3.airtlab.com/mysql/1601651558941-62a0abe6-ab08-4d27-92a4-d5ef51bf14f9.png) \\n\\n#### 3.3 \u5168\u8fde\u63a5\\n\\n\u8fd4\u56de\u7b26\u5408\u6761\u4ef6\u7684\u6240\u6709\u8868\u7684\u8bb0\u5f55\uff0c\u6ca1\u6709\u4e0e\u4e4b\u5339\u914d\u7684\uff0c\u7528 null \u8868\u793a\uff08\u7ed3\u679c\u662f\u5de6\u8fde\u63a5\u548c\u53f3\u8fde\u63a5\u7684\u5e76\u96c6\uff09\\n![image.png](http://s3.airtlab.com/mysql/1601652137150-f67c5ce3-fd5d-4a1e-9943-e60e1bdc9e10.png)\\n\u5728 mysql \u4e2d\u4f7f\u7528 full join \u4f1a\u8bed\u6cd5\u62a5\u9519\uff0c\u9700\u8981\u6362\u4e00\u79cd\u65b9\u5f0f\uff1a\\n![image.png](http://s3.airtlab.com/mysql/1601652679077-39e9ea35-e791-4e67-8ef7-2f4aa1e73d4f.png)\\n\\n```sql\\nselect s.`student_name`, s.`id` as `student_id`, c.`class_name`, c.`id` as `class_id` from student s LEFT JOIN class c ON s.`class_id` = c.`id`\\n\\nUNION ALL\\n\\nselect s.`student_name`, s.`id` as `student_id`, c.`class_name`,  c.`id` as `class_id` from student s RIGHT JOIN class c ON s.`class_id` = c.`id`\\n```\\n\\n\u8fd9\u91cc\u9700\u8981\u6ce8\u610f union \u4e0e union all \u7684\u533a\u522b\u3002\\n![image.png](http://s3.airtlab.com/mysql/1601653439698-30e9d183-3451-4221-84d6-9f68530fe018.png) \\n\\n### 4. \u4ea4\u53c9\u8fde\u63a5(\u7b1b\u5361\u5c14\u96c6)\\n\\n![image.png](http://s3.airtlab.com/mysql/1601653634696-bfec6734-9973-4925-bb8d-ac45e725679b.png)\\n\\n```sql\\n-- where \\nselect * from student CROSS join class where student.`student_name`=\\"\u5c0f\u534e\\"\\n\\n-- on\\nselect * from student CROSS join class on student.`student_name`=\\"\u5c0f\u534e\\"\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1601653913263-b786d0f0-b79c-400c-b7e0-58eb29bce77e.png) \\n\\n### \u53c2\u8003\u6587\u6863\\n\\n1. <https://www.cnblogs.com/buxingzhelyd/p/7853454.html>\\n","isLeaf":true},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u6027\u80fd\u6392\u67e5.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u6027\u80fd\u6392\u67e5.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u6027\u80fd\u6392\u67e5.md","leaf":true,"title":"\u6027\u80fd\u6392\u67e5","depth":2,"content":"---\\ntitle: \u6027\u80fd\u6392\u67e5\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n\u53c2\u8003\u8d44\u6599 <https://www.bilibili.com/video/BV1zd4y127FJ/?spm_id_from=333.337.search-card.all.click&vd_source=0e3c815b57fd2e0fe8ae7e1813631816> \\n\\n### 1\u3001\u6162\u67e5\u8be2\\n\\n\\n\\n#### \u6162\u67e5\u8be2\u65f6\u95f4\u9608\u503c\\n\\n```typescript\\nshow variables like \\"long_query_time%\\";\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1667399532196-07dff47e-91dd-45fd-aca7-b29cec2df3a2.png) \\n\\n#### \u67e5\u770b\u6162\u67e5\u8be2\u65e5\u5fd7\\n\\n```typescript\\nshow variables like \\"slow_query%\\";\\n```\\n\\n![image.png](http://s3.airtlab.com/mysql/1667399556378-8edd7f2d-94d4-4a4e-8071-f9c774b03ecc.png) \\n\\n### 2\u3001\u5f53\u524d\u7ebf\u7a0b\u7684\u6267\u884c\u60c5\u51b5\\n\\n\\n\\n#### full processlist\\n\\n![image.png](http://s3.airtlab.com/mysql/1667399673892-8bcc29c3-326f-4830-8c12-7b5771c4a49f.png)\\n\u53ef\u4ee5\u4f7f\u7528 kill id \u6740\u6b7b\u4e00\u4e2a\u7ebf\u7a0b\\n![image.png](http://s3.airtlab.com/mysql/1667399767364-f4279202-1438-4ddb-9406-39c0c1d8867d.png) \\n\\n#### processlist + where\\n\\n```typescript\\nselect * from information_schema.processlist where db = \'credit_admin_id_db\';\\n```\\n\\n\\n\\n### 3\u3001\u501f\u52a9 performance\\\\_schema\\n\\n![image.png](http://s3.airtlab.com/mysql/1667399855162-2b8b1cc5-24c1-4fa7-bde5-57a70bf20911.png)\\n","isLeaf":true},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u6279\u91cf\u63d2\u5165\u4e3a\u4ec0\u4e48\u5feb.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u6279\u91cf\u63d2\u5165\u4e3a\u4ec0\u4e48\u5feb.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u6279\u91cf\u63d2\u5165\u4e3a\u4ec0\u4e48\u5feb.md","leaf":true,"title":"\u6279\u91cf\u63d2\u5165\u4e3a\u4ec0\u4e48\u5feb","depth":2,"content":"---\\ntitle: \u6279\u91cf\u63d2\u5165\u4e3a\u4ec0\u4e48\u5feb\\nurl: https://www.yuque.com/gaollard/utbbp1\\n---\\n\\n\u7ed3\u8bba\uff1a\u6279\u91cf\u8bed\u53e5\uff0c\u53ea\u8981\u6709\u4e00\u4e2a\u5931\u8d25\uff0c\u5c31\u4f1a\u5168\u90e8\u5931\u8d25\u3002\u5f00\u53d1\u7a0b\u5e8f\u7684\u65f6\u5019\u8981\u6ce8\u610f\u8fd9\u70b9\u3002\\n![image.png](http://s3.airtlab.com/mysql/1667377725306-cb885614-4b64-4c46-b902-bd3250e8c351.png)\\n","isLeaf":true},{"key":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u67e5\u8be2\u6700\u540e\u4e00\u6761\u6570\u636e\u4e00\u5b9a\u662f\u5168\u8868\u626b\u63cf\u5417.md","path":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u67e5\u8be2\u6700\u540e\u4e00\u6761\u6570\u636e\u4e00\u5b9a\u662f\u5168\u8868\u626b\u63cf\u5417.md","route":"/Mysql/18 \u4e00\u4e9b\u7591\u95ee/\u67e5\u8be2\u6700\u540e\u4e00\u6761\u6570\u636e\u4e00\u5b9a\u662f\u5168\u8868\u626b\u63cf\u5417.md","leaf":true,"title":"\u67e5\u8be2\u6700\u540e\u4e00\u6761\u6570\u636e\u4e00\u5b9a\u662f\u5168\u8868\u626b\u63cf\u5417","depth":2,"content":"\u8c8c\u4f3c\u6027\u80fd\u8fd8\u53ef\u4ee5\\n\\n```typescript\\nmysql:\\n\\nselect * from table order by id DESC limit 1\\n\\noracle:\\n\\nselect * from emp where id in (select max(id) from emp);\\n```\\n","isLeaf":true}]},{"key":"/Mysql/\u5b66\u4e60\u8d44\u6599.md","path":"/Mysql/\u5b66\u4e60\u8d44\u6599.md","route":"/Mysql/\u5b66\u4e60\u8d44\u6599.md","leaf":true,"title":"\u5b66\u4e60\u8d44\u6599","depth":1,"content":"---\\ntitle: \u5b66\u4e60\u8d44\u6599\\n---\\n\\n- [\u83dc\u9e1f\u6559\u7a0b](https://www.runoob.com/mysql/mysql-tutorial.html)\\n- [B\u7ad9\u52a8\u529b\u8282\u70b9](https://www.bilibili.com/video/BV1a3411N7CE?spm_id_from=333.337.search-card.all.click)\\n- [\u6155\u8bfe\u7f51 MySQL \u5f00\u53d1\u6280\u5de7](https://www.imooc.com/learn/398)\\n- [\u7f8e\u5316 SQL \u5728\u7ebf](https://www.dpriver.com/pp/sqlformat.htm)","isLeaf":true}]},{"key":"/Nginx","path":"/Nginx","route":"/Nginx","leaf":false,"title":"Nginx","depth":0,"content":"","isLeaf":false,"children":[{"key":"/Nginx/01-introduce.md","path":"/Nginx/01-introduce.md","route":"/Nginx/01-introduce.md","leaf":true,"title":"01-introduce","depth":1,"content":"---\\ntitle: 01 nginx \u4ecb\u7ecd\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1\u3001nginx \u4ecb\u7ecd\\n\\nNginx \u662f\u4e00\u4e2a\u514d\u8d39\u5f00\u6e90\u7684\u3001\u9ad8\u6027\u80fd\u7684Web\u670d\u52a1\u5668\u8f6f\u4ef6\uff0c\u53ef\u7528\u505a\uff1a\\n- \u53cd\u5411\u4ee3\u7406\\n- \u8d1f\u8f7d\u5747\u8861\\n- HTTP\u7f13\u5b58\\n- \u52a8\u9759\u5206\u79bb\\n\\nNginx \u6700\u521d\u7531Igor Sysoev\u5f00\u53d1\uff0c\u73b0\u7531 NGINX INC. \u7ef4\u62a4\u3002\\n\\nNginx \u662f\u57fa\u4e8e**\u4e8b\u4ef6\u9a71\u52a8**\u7684\u65b9\u5f0f\u5b9e\u73b0\u7684\uff0c\u5b83\u91c7\u7528**\u5f02\u6b65\u975e\u963b\u585eI/O\u6a21\u578b**\uff0c\u5728\u5904\u7406\u9ad8\u5e76\u53d1\u8bf7\u6c42\u65f6\u6027\u80fd\u6bd4\u4f20\u7edf\u7684\u963b\u585e\u5f0fWeb\u670d\u52a1\u5668\u66f4\u4f18\u79c0\u3002Nginx\u53ef\u4ee5\u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u540c\u65f6\u5904\u7406\u6570\u4e07\u4e2a\u5e76\u53d1\u8bf7\u6c42\uff0c\u5bf9\u9ad8\u6d41\u91cf\u7f51\u7ad9\u6765\u8bf4\u662f\u975e\u5e38\u6709\u7528\u7684\u3002\\n\\n\u5728\u53cd\u5411\u4ee3\u7406\u4e2d\uff0cNginx\u53ef\u4ee5\u5c06\u5ba2\u6237\u7aef\u8bf7\u6c42\u8f6c\u53d1\u5230\u591a\u4e2a\u540e\u7aefWeb\u670d\u52a1\u5668\u8fdb\u884c\u5904\u7406\uff0c\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\uff0c\u4fdd\u8bc1\u670d\u52a1\u5668\u7684\u9ad8\u53ef\u7528\u6027\u548c\u6027\u80fd\u5f39\u6027\u3002\\n\\nNginx\u53ef\u4ee5\u901a\u8fc7\u6a21\u5757\u548c\u63d2\u4ef6\u6269\u5c55\u529f\u80fd\uff0c\u4f8b\u5982\u589e\u52a0HTTPS\u652f\u6301\uff0c\u5b9e\u73b0\u52a8\u6001\u5185\u5bb9\u7684FastCGI\u4ee3\u7406\uff0c\u7f13\u5b58\u548c\u538b\u7f29\u6570\u636e\u7b49\u7b49\u3002\\n\\nNginx\u6613\u4e8e\u914d\u7f6e\u548c\u4f7f\u7528\uff0c\u5177\u6709\u8f83\u9ad8\u7684\u53ef\u9760\u6027\u548c\u7a33\u5b9a\u6027\uff0c\u5728Linux\u548cUNIX\u7b49\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u5e7f\u6cdb\u5e94\u7528\u4e8e\u9ad8\u6027\u80fdWeb\u670d\u52a1\u5668\uff0c\u4e91\u8ba1\u7b97\u9886\u57df\u548c\u5927\u578b\u4f01\u4e1a\u7ea7\u5e94\u7528\u7cfb\u7edf\u4e2d\u3002\\n\\n## 2\u3001nginx \u67b6\u6784\\n\\n![20230609162440](http://s3.airtlab.com/blog/20230609162440.png)\\n\\nNginx\u670d\u52a1\u5668\u7684\u8fdb\u7a0b\u6a21\u578b\u6709\u4e24\u79cd\uff1a`Single\u6a21\u578b` \u548c `Master-Worker\u6a21\u578b`\u3002`Single\u6a21\u578b` \u4e3a\u5355\u8fdb\u7a0b\u65b9\u5f0f\uff0c\u6027\u80fd\u8f83\u5dee\uff0c\u4e00\u822c\u5728\u5b9e\u9645\u5de5\u4f5c\u4e2d\u4e0d\u4f7f\u7528\u3002`Master-Worker\u6a21\u578b` \u5b9e\u9645\u4e0a\u88ab\u66f4\u5e7f\u6cdb\u5730\u79f0\u4e3a `Master-Slave\u6a21\u578b`\u3002\u5728Nginx\u670d\u52a1\u5668\u4e2d\uff0c\u5145\u5f53Slave\u89d2\u8272\u7684\u662f\u5de5\u4f5c\u8fdb\u7a0b\u3002\\n\\n## 3\u3001\u5b66\u4e60\u8d44\u6e90\\n**(1) \u5b98\u65b9\u6587\u6863**\\n\\n\u5bf9\u6bcf\u4e2a\u6a21\u5757\u7684\u4f7f\u7528\u90fd\u4ecb\u7ecd\u7684\u975e\u5e38\u6e05\u695a\u3002http://nginx.org/en/docs\\n\\n**(2)\u300aNginx\u9ad8\u6027\u80fdWeb\u670d\u52a1\u5668\u8be6\u89e3 \u300b**\\n\\n\u6b64\u4e66\u5bf9\u65b0\u624b\u975e\u5e38\u53cb\u597d\uff0c\u80fd\u591f\u5feb\u901f\u4e0a\u624b \u4ee5\u53ca \u4e86\u89e3 Nginx \u7684\u5de5\u4f5c\u6a21\u5f0f\u3002https://weread.qq.com/web/bookDetail/e8d3200059fb19e8d3b2af6\\n","isLeaf":true},{"key":"/Nginx/02-root-vs-alias.md","path":"/Nginx/02-root-vs-alias.md","route":"/Nginx/02-root-vs-alias.md","leaf":true,"title":"02-root-vs-alias","depth":1,"content":"---\\ntitle: 02 root \u548c alias \u7684\u533a\u522b\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\nnginx \u6307\u5b9a\u6587\u4ef6\u8def\u5f84\u6709\u4e24\u79cd\u65b9\u5f0f root \u548c alias\uff0c\u4e24\u8005\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e nginx \u5982\u4f55\u89e3\u91ca location \u540e\u9762\u7684 uri\u3002\\n\\n## 1\u3001\u771f\u5b9e\u76ee\u5f55\u4e0e\u865a\u62df\u76ee\u5f55\\n\\n\u5b98\u65b9\u7684\u8bf4\uff0calias \u6307\u4ee4\u7528\u6765\u91cd\u7f6e\u5f53\u524d\u6587\u4ef6\u7684\u76ee\u5f55\uff0clacation \u540e\u9762\u7684uri \u662f\u865a\u62df\u76ee\u5f55\uff0c\u800c\u4f7f\u7528 root \u65f6\uff0clacation \u540e\u9762\u7684 uri \u662f\u771f\u5b9e\u76ee\u5f55\u3002\\n\\n\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5bf9\u4e8e\u76f8\u540c\u914d\u7f6e\uff0c\u8bbf\u95ee [http://localhost/test/index.html](http://localhost/test/index.html)\\n\\n```nginx\\nlocation ^~ /test/ {\\n  root /www/root/html/;\\n}\\n```\\n\\n\u5c06\u4f1a\u8bbf\u95ee\u670d\u52a1\u5668\u7684 /www/root/html/test/index.html \u8d44\u6e90\u3002\\n\\n```nginx\\nlocation ^~ /test/ {\\n  alias /www/root/html/;\\n}\\n```\\n\\n\u5c06\u4f1a\u8bbf\u95ee\u670d\u52a1\u5668\u7684 /www/root/html/index.html \u8d44\u6e90\u3002\\n\\n## 2\u3001\u4f7f\u7528\u5efa\u8bae\\n\\n\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5728 nginx \u914d\u7f6e\u4e2d\u7684\u826f\u597d\u4e60\u60ef\u662f\uff1a\\n\\n- 1\uff09\u5728location / \u4e2d\u914d\u7f6eroot\u76ee\u5f55\uff1b\\n- 2\uff09\u5728location /path \u4e2d\u914d\u7f6ealias\u865a\u62df\u76ee\u5f55\u3002\\n\\n\u5f53\u7136\uff0c\u4f7f\u7528 root + rewrite \u53ef\u4ee5 \u5b9e\u73b0\u865a\u62df\u76ee\u5f55\u7684\u529f\u80fd\u3002alias \u540e\u9762\u4e5f\u53ef\u4ee5\u4f7f\u7528 reweite \u529f\u80fd\uff0c\u6bd4\u5982\uff1a\\n\\n```nginx\\nlocation /web1 {\\n  # index index.html index;\\n  alias /Users/user/Desktop/html;\\n  rewrite /web1 /web2/web2;\\n}\\n\\nlocation /web2 {\\n  # index index.html index;\\n  alias /Users/user/Desktop/html;\\n}\\n```","isLeaf":true},{"key":"/Nginx/03-if-condition.md","path":"/Nginx/03-if-condition.md","route":"/Nginx/03-if-condition.md","leaf":true,"title":"03-if-condition","depth":1,"content":"---\\ntitle: 03 nginx \u6761\u4ef6\u5224\u65ad\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n\u521d\u7528 nginx \uff0c\u53d1\u73b0 nginx \u4e0d\u652f\u6301if\u5d4c\u5957\uff0c\u903b\u8f91\u4e0e\uff0c\u903b\u8f91\u6216\u3002\u4f46\u662f\u53ef\u4ee5\u91c7\u7528\u53d8\u91cf\u53e0\u52a0\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\uff0c\u4e3e\u4f8b\uff1a\\n\\n```nginx\\nlocation ~ / {\\n  root /Users/manba/Desktop/html;\\n\\n  set $talent_static_flag \\"0\\";\\n\\n  if ($request_uri ~* \\"\\\\.(gif|jpg|jpeg|bmp|png|ico|txt|json|svg|js|css)$\\") {\\n    # \u8bf7\u6c42\u8d44\u6e90\u7c7b\u578b\u4e3a\u9759\u6001\u8d44\u6e90\\n    set $talent_static_flag \\"1\\";\\n  }\\n\\n  if ($http_referer ~ \\".*\\\\/talent\\\\/?\\") {\\n    # \u8bf7\u6c42referer\u5305\u542b /talent\\n    set $talent_static_flag \\"{$talent_static_flag}1\\"; # \u8fd9\u91cc\u7684\u503c\u5305\u542b {}\uff0c\ud83d\ude02\u6682\u65f6\u4e0d\u77e5\u9053\u5982\u4f55\u53bb\u6389 \\n  }\\n\\n  if ($talent_static_flag = \\"{1}1\\") {\\n    rewrite /(.*) / break;\\n    proxy_pass http://demo.airtlab.com;\\n    break;\\n  }\\n}\\n```","isLeaf":true},{"key":"/Nginx/04-set-header.md","path":"/Nginx/04-set-header.md","route":"/Nginx/04-set-header.md","leaf":true,"title":"04-set-header","depth":1,"content":"---\\ntitle: 04 header \u64cd\u4f5c\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1. ngx_http_headers_module\\n\\n\u8fd9\u662f\u4e00\u4e2a\u81ea\u5e26\u6a21\u5757\uff0c\u5df2\u7ecf\u96c6\u6210\u5230\u4e86 nginx \u7684\u4e8c\u8fdb\u5236\u5b89\u88c5\u5305\u3002\\n\\n### 1) \u6dfb\u52a0 header \u5b57\u6bb5\\n\\n- \u8bed\u6cd5\uff1a`add_header name value [always];`\\n- \u4e0a\u4e0b\u6587\uff1a`http, server, location, if in location`\\n\\n```nginx\\nlocation = /test2 {\\n  add_header x-server nginx;\\n}\\n```\\n\\n> \u9ed8\u8ba4\u5f53\u54cd\u5e94\u72b6\u6001\u7801\u4e3a 200, 201 (1.3.10), 204, 206, 301, 302, 303, 304, 307 (1.1.16, 1.0.13), or 308 (1.13.0). add_header \u624d\u4f1a\u88ab\u4f7f\u7528\uff0c\u5982\u679c\u5e0c\u671b\u5ffd\u7565\u72b6\u6001\u7801\uff0c\u53ef\u4ee5\u4f7f\u7528\u662f 4 \u4e2a\u53c2\u6570 always\u3002\\n\\n> There could be several add_header directives. These directives are inherited from the previous configuration level if and only if there are no add_header directives defined on the current level. \u60a8\u53ef\u80fd\u4f1a\u914d\u7f6e\u591a\u4e2a add_header\uff0c\u4f46\u662f nginx \u53ea\u4f1a\u9075\u5faa\u5c31\u8fd1\u539f\u5219\uff0c\u6700\u7ec8\u53ea\u6709\u4e00\u4e2a\u4f1a\u751f\u6548\u3002\\n\\n\u53e6\u5916\uff0c\u5f53\u60a8\u4f7f\u7528\u4e86\u4ee3\u7406\u670d\u52a1\u5668\u65f6\uff0c\u5f53\u51fa\u73b0\u4e86\u540c\u540d\u7684\u5b57\u6bb5\uff0cadd_header \u4e0d\u80fd\u8986\u76d6\u539f\u6709\u7684 header \u5b57\u6bb5\uff0c\u53ea\u4f1a\u518d\u6b21\u589e\u52a0\uff0c\u8fd9\u4f1a\u5e26\u6765\u4e00\u4e9b BUG\u3002\\n\\n### 2) \u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4 expires\\n\\n```nginx\\nlocation / {\\n  expires    24h;\\n}\\n```\\n\\n\u76f4\u63a5\u770b\u6587\u6863\uff1a[http://nginx.org/en/docs/http/ngx_http_headers_module.html#expires](http://nginx.org/en/docs/http/ngx_http_headers_module.html#expires)\\n\\n## 2. headers_more \u6a21\u5757\\n\\n\u6e90\u7801\u5730\u5740\uff1ahttps://github.com/openresty/headers-more-nginx-module\u3002\u7528\u4e8e\u6dfb\u52a0\uff0c\u8bbe\u7f6e\uff0c\u6e05\u9664\u8f93\u5165\u548c\u8f93\u51fa\u7684\u5934\u4fe1\u606f\u3002nginx \u6e90\u7801\u6ca1\u6709\u5305\u542b\u8be5\u6a21\u5757\uff0c\u9700\u8981\u53e6\u884c\u6dfb\u52a0\u3002\\n\\n\u8be5\u6a21\u5757\u662f `ngx_http_headers_module` \u6a21\u5757\u7684\u589e\u5f3a\u7248\uff0c\u63d0\u4f9b\u4e86\u66f4\u591a\u7684\u5b9e\u7528\u5de5\u5177\uff0c\u6bd4\u5982\u590d\u4f4d\u6216\u6e05\u9664\u5185\u7f6e\u5934\u4fe1\u606f\uff0c\u5982 Content-Type, Content-Length, \u548c Server\u3002\\n\\n\u4e3b\u8981\u533a\u522b\uff1a\\n\\n1. \u8be5\u6a21\u5757\u7684\u6307\u793a\u9002\u7528\u4e8e\u6240\u6709\u7684\u72b6\u6001\u7801\uff0c\u5305\u62ec 4xx \u548c 5xx \u7684\u3002 add_header \u53ea\u9002\u7528\u4e8e 200\uff0c201\uff0c204\uff0c206\uff0c301\uff0c302\uff0c303\uff0c304\uff0c\u6216 307\u3002\\n2. \u53ef\u4ee5\u6dfb\u52a0\u6216\u8005\u66ff\u6362\u3002\\n\\n\u4e3b\u8981\u6307\u4ee4\uff1a\\n\\n- more_set_headers \u7528\u4e8e\u6dfb\u52a0\u3001\u4fee\u6539\u3001\u6e05\u9664\u54cd\u5e94\u5934\\n- more_clear_headers \u7528\u4e8e\u6e05\u9664\u54cd\u5e94\u5934\\n- more_set_input_headers \u7528\u4e8e\u6dfb\u52a0\u3001\u4fee\u6539\u3001\u6e05\u9664\u8bf7\u6c42\u5934\uff0c\u5e38\u5e38\u548c proxy_pass \u4e00\u8d77\u4f7f\u7528\u3002\\n- more_clear_input_headers \u7528\u4e8e\u6e05\u9664\u8bf7\u6c42\u5934\uff0c\u5e38\u5e38\u548c proxy_pass \u4e00\u8d77\u4f7f\u7528\u3002\\n\\n```nginx\\nlocation /bar {\\n  more_set_headers \'X-1: 1\' \'X-2: 1\';\\n  more_clear_headers \'Content-Type\';\\n  # proxy_pass ...\\n}\\n\\nlocation /foo {\\n  set $my_host \'my dog\';\\n  more_set_input_headers \'Host: $my_host\';\\n  # proxy_pass ...\\n}\\n```\\n\\n## 3. ngx_http_proxy_module\\n\u7528\u4e8e\u7ed9\u4ee3\u7406\u4e0b\u6e38\u670d\u52a1\u6dfb\u52a0\u8bf7\u6c42\u5934\\n\\n### 1) proxy_set_header\\n\\n\u8bed\u6cd5: `proxy_set_header field value;`\\n\u9ed8\u8ba4:\\n\\n```\\nproxy_set_header Host $proxy_host;\\nproxy_set_header Connection close;\\n```\\n\\n\u4e0a\u4e0b\u6587: http, server, location\\n\u4f7f\u7528\u8fd9\u4e2a\u6307\u4ee4\u7279\u522b\u6ce8\u610f\uff0c\u5982\u679c\u4f60\u7684\u4ee3\u7406\u670d\u52a1\u548c\u5ba2\u6237\u7aef\u662f\u540c\u4e00\u4e2a HOST\uff0c\u90a3\u4e48\u8f6c\u53d1\u8bbe\u7f6e\u662f\u8fd9\u6837\u7684\uff1a\\n\\n```nginx\\nproxy_set_header Host       $http_host\\n```\\n\\n\u5982\u679c\u4e0d\u662f\u540c\u4e00\u4e2a HOST\uff0c\u90a3\u4f60\u5e94\u8be5\u6539\u6210\u4f60\u9700\u8981\u7684\uff1a\\n\\n```nginx\\nproxy_set_header Host       $host;\\n```\\n\\n![](https://img2020.cnblogs.com/blog/2032346/202012/2032346-20201209090752688-1537133429.png#id=wqEca&originHeight=456&originWidth=2044&originalType=binary&ratio=1&status=done&style=none)\\n","isLeaf":true},{"key":"/Nginx/05-timeout-set.md","path":"/Nginx/05-timeout-set.md","route":"/Nginx/05-timeout-set.md","leaf":true,"title":"05-timeout-set","depth":1,"content":"---\\ntitle: 05 nginx \u8d85\u65f6\u8bbe\u7f6e\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1. \u957f\u94fe\u63a5\u8d85\u65f6 keepalive\\n- \u8bed\u6cd5: `keepalive_timeout timeout [ header_timeout ]`\\n- \u9ed8\u8ba4\u503c\uff1a75s\\n- \u4e0a\u4e0b\u6587: http server location\\n\\n\u8bf4\u660e\uff1a\\n\\n- \u7b2c\u4e00\u4e2a\u53c2\u6570\u6307\u5b9a\u4e86\u4e0e client \u7684 keep-alive \u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\u3002\u670d\u52a1\u5668\u5c06\u4f1a\u5728\u8fd9\u4e2a\u65f6\u95f4\u540e\u5173\u95ed\u8fde\u63a5\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a 60s\u3002\\n- \u53ef\u9009\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9a\u4e86\u5728\u54cd\u5e94\u5934 Keep-Alive: timeout=time\u4e2d\u7684time\u503c\u3002\u8fd9\u4e2a\u5934\u80fd\u591f\u8ba9\u4e00\u4e9b\u6d4f\u89c8\u5668\u4e3b\u52a8\u5173\u95ed\u8fde\u63a5\uff0c\u8fd9\u6837\u670d\u52a1\u5668\u5c31\u4e0d\u5fc5\u8981\u53bb\u5173\u95ed\u8fde\u63a5\u4e86\u3002\\n- keepalive_timeout \u7684\u503c\u5e94\u8be5\u5927\u4e8e client_body_timeout\\n\\n\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e0a\u901a\u8fc7 connectionId \u6d4b\u8bd5\u3002\\n\\n## 2. \u5ba2\u6237\u7aef header \u8d85\u65f6 client_header_timeout\\n\\n- \u8bed\u6cd5: `client_header_timeout 15s;`\\n- \u9ed8\u8ba4\u503c\uff1a60s\\n\\n\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u9001\u4e00\u4e2a\u5b8c\u6574\u7684 request header \u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5982\u679c60s\u5185\u6ca1\u6709\u6536\u5230\u5b8c\u6574\u7684 http request header\uff0c\u5219\u4e3a\u8d85\u65f6\u3002\u5982\u679c\u5ba2\u6237\u7aef\u8d85\u65f6\uff0cnginx \u8fd4\u56de HTTP 408\uff08Request Timed Out\uff09\u3002\\n\\n\u5f53 cookie \u5f88\u5927\u5f88\u5927\u65f6\uff0c\u5bb9\u6613\u51fa\u73b0\u3002\\n\\n## 3. \u5ba2\u6237\u7aef body \u8d85\u65f6 client_body_timeout\\n\\n- \u8bed\u6cd5\uff1a`client_body_timeout 15s;`\\n- \u9ed8\u8ba4\u503c\uff1a60s\\n\\n\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u9001 request body \u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5982\u679c\u8fde\u7eed\u768460s\u5185\u6ca1\u6709\u6536\u5230\u5ba2\u6237\u7aef\u76841\u4e2a\u5b57\u8282\uff0c\u5219\u8868\u793a\u8d85\u65f6\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u8d85\u65f6\uff0cnginx \u8fd4\u56de HTTP 408\uff08Request Timed Out\uff09\u3002\\n\\n## 4. \u5411\u5ba2\u6237\u7aef\u53d1\u9001\u6570\u636e\u8d85\u65f6 send_timeout\\n\\n- \u8bed\u6cd5\uff1a`send_timeout 15s;`\\n- \u9ed8\u8ba4\u503c: 60s\\n\\nsend_timeout \u6307\u5b9a\u5ba2\u6237\u7aef\u7684\u54cd\u5e94\u8d85\u65f6\u65f6\u95f4\u3002\u8fd9\u4e2a\u8bbe\u7f6e\u6307\u7684\u662f\u5728\u8fd9\u6bb5\u65f6\u95f4\u5185\uff0c\u5ba2\u6237\u7aef\u6ca1\u6709\u8bfb\u53d6\u4efb\u4f55\u6570\u636e\uff0cnginx\u5c31\u4f1a\u5173\u95ed\u8fde\u63a5\u3002\\n\\n## 5. \u5927\u6587\u4ef6\u4e0a\u4f20\\n\u6709\u5927\u6587\u4ef6\u4e0a\u4f20\u65f6\uff0c\u9700\u8981\u6307\u5b9abody\u7684\u6700\u5927\u503c:\\n```nginx\\nclient_max_body_size          50m;` # \u9ed8\u8ba41M\\n```\\n\\n\u8d85\u8fc7\u8fd9\u4e2a\u503c\u4f1a\u8fd4\u56de 413 \u72b6\u6001\u7801\u3002\\n\\n## 6. \u5927\u6587\u4ef6\u4e0b\u8f7d\\n\u5982\u679c\u6709\u5927\u6587\u4ef6\u4e0b\u8f7d\uff0c\u5efa\u8bae\u9650\u5236\u4e0b\u8f7d\u901f\u5ea6\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u7f51\u7ad9\u5954\u6e83\u3002\\n\\n## 7. nginx \u4f5c\u4e3a\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\\n\u901a\u5e38\u9700\u8981\u6ce8\u610f\u4ee5\u4e0b\u914d\u7f6e\uff1a\\n\\n- \u5b9a\u4e49\u4e0e\u88ab\u4ee3\u7406\u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5\u7684\u8d85\u65f6\uff0c\u5e94\u8be5\u6ce8\u610f\uff0c\u8fd9\u4e2a\u8d85\u65f6\u901a\u5e38\u4e0d\u80fd\u8d85\u8fc775\u79d2\u3002\\n```nginx\\nproxy_connect_timeout 60s;\\n```\\n\\n- \u8bbe\u7f6e\u5411\u88ab\u4ee3\u7406\u670d\u52a1\u5668\u4f20\u8f93\u8bf7\u6c42\u7684\u8d85\u65f6\u3002\u8d85\u65f6\u4ec5\u5728\u4e24\u4e2a\u8fde\u7eed\u7684\u5199\u64cd\u4f5c\u4e4b\u95f4\u8bbe\u7f6e\uff0c\u800c\u4e0d\u7528\u4e8e\u4f20\u8f93\u6574\u4e2a\u8bf7\u6c42\u3002\u5982\u679c\u4ee3\u7406\u670d\u52a1\u5668\u5728\u6b64\u671f\u95f4\u6ca1\u6709\u63a5\u6536\u5230\u4efb\u4f55\u5185\u5bb9\uff0c\u5219\u5173\u95ed\u8fde\u63a5\u3002\\n```nginx\\nproxy_send_timeout 60s;\\n```\\n\\n- \u5b9a\u4e49\u4ece\u88ab\u4ee3\u7406\u670d\u52a1\u5668\u8bfb\u53d6\u54cd\u5e94\u7684\u8d85\u65f6\u3002\u8d85\u65f6\u4ec5\u5728\u4e24\u4e2a\u8fde\u7eed\u7684\u8bfb\u53d6\u64cd\u4f5c\u4e4b\u95f4\u8bbe\u7f6e\uff0c\u800c\u4e0d\u7528\u4e8e\u4f20\u8f93\u6574\u4e2a\u54cd\u5e94\u3002\u5982\u679c\u4ee3\u7406\u670d\u52a1\u5668\u5728\u6b64\u671f\u95f4\u6ca1\u6709\u4f20\u8f93\u4efb\u4f55\u5185\u5bb9\uff0c\u5219\u5173\u95ed\u8fde\u63a5\u3002\\n```nginx\\nproxy_read_timeout 60s;\\n```\\n","isLeaf":true},{"key":"/Nginx/06-content-phase.md","path":"/Nginx/06-content-phase.md","route":"/Nginx/06-content-phase.md","leaf":true,"title":"06-content-phase","depth":1,"content":"---\\ntitle: 06 content \u9636\u6bb5\u7591\u60d1\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n```nginx\\nlocation /renwu/ {\\n  # 1\\n  rewrite /renwu(.*) /api/index.html break;\\n\\n  # 2\\n  proxy_pass http://renwu.airtlab.com;\\n}\\n```\\n\\n\u4e4b\u524d\u5bf9\u8fd9\u4e00\u5757\u4e0d\u4e86\u89e3\uff0c\u81ea\u5df1\u770b\u4e0d\u61c2\u4e0a\u9762\u7684\u914d\u7f6e\uff0c\u4ee5\u4e3a\u8fd9\u91cc\u7684 proxy_pass \u662f\u65e0\u6548\u7684\uff0c\u5f53\u8bbf\u95ee /renwu/ \u65f6\u6c38\u8fdc\u90fd\u662f\u8bbf\u95ee\\n`/api/index.html` \u8fd9\u4e2a\u8d44\u6e90\u3002\\n\\n\u4eca\u5929\u63a5\u624b\u4e86\u540c\u4e8b\u7684\u9879\u76ee\uff0c\u53d1\u73b0\u8fd9\u6837\u914d\u7f6e\u662f\u6709\u6548\u7684\uff0c\u4e8e\u662f\u67e5\u4e86\u76f8\u5173\u6587\u6863\u641e\u6e05\u695a\u4e86\uff0c\u8fd9\u91cc\u6d89\u53ca\u5230\u4e24\u4e2a\u77e5\u8bc6\u70b9\u3002\\n\\n\uff081\uff09rewrite \u6bd4 proxy_pass \u5148\u6267\u884c\uff0c\u800c\u4e14\u91cd\u5b9a\u5411\u540e\u7684 path \u4f1a\u66ff\u4ee3 proxy_pass \u7684 URI\\n\\n![20230512205118](http://s3.airtlab.com/blog/20230512205118.png)\\n\\n\uff082\uff09proxy_pass \u6709\u6548\u7684\u539f\u56e0\u662f\uff0cproxy_pass \u5728 conetnt \u9636\u6bb5\u6267\u884c\u3002\\n\\n> CONTENT \u9636\u6bb5\u6709\u4e9b\u7279\u6b8a\uff0c\u5b83\u4e0d\u50cf\u5176\u4ed6\u9636\u6bb5\u53ea\u80fd\u6267\u884c\u56fa\u5b9a\u7684 handler \u94fe\uff0c\u8fd8\u6709\u4e00\u4e2a\u7279\u6b8a\u7684 content_handler\uff0c\u6bcf\u4e2a location \u53ef\u4ee5\u6709\u81ea\u5df1\u72ec\u7acb\u7684 content handler\uff0c\u800c\u4e14\u5f53\u6709 content handler \u65f6\uff0cCONTENT \u9636\u6bb5\u53ea\u4f1a\u6267\u884c content handler\uff0c\u4e0d\u518d\u6267\u884c\u672c\u9636\u6bb5\u7684 handler \u94fe\u3002\\n\\n\\n> \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cnginx \u4f1a\u5728 CONTENT \u9636\u6bb5\u7684 handler\u94fe\u6302\u4e0aindex\u6a21\u5757\uff0c\u9759\u6001\u6587\u4ef6\u5904\u7406\u6a21\u5757\u7b49\u7684 handler\u3002\u53e6\u5916\u6a21\u5757\u8fd8\u53ef\u4ee5\u8bbe\u7f6e\u72ec\u7acb\u7684 content handler\uff0c\u6bd4\u5982ngx_http_proxy_module\u7684proxy_pass\u6307\u4ee4\u4f1a\u8bbe\u7f6e\u4e00\u4e2a\u540d\u4e3angx_http_proxy_handler\u7684content handler\u3002\\n\\n\u8fd9\u91cc\u89e3\u91ca\u4e86\u4e3a\u4ec0\u4e48\u8fd9\u91cc\u7684 proxy_pass \u6709\u6548\u7684\u539f\u56e0\uff0c\u53c2\u8003\u6587\u7ae0\u89c1\uff1a[http://tengine.taobao.org/book/chapter_12.html#content](http://tengine.taobao.org/book/chapter_12.html#content)","isLeaf":true},{"key":"/Nginx/07-rate-limit.md","path":"/Nginx/07-rate-limit.md","route":"/Nginx/07-rate-limit.md","leaf":true,"title":"07-rate-limit","depth":1,"content":"---\\ntitle: 07 \u8bbf\u95ee\u9650\u901f\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n- \u4f7f\u7528 nginx \u9650\u5236\u5355\u4e2a IP \u7684\u5e76\u53d1\u8fde\u63a5\u6570\u80fd\u591f\u51cf\u5c11\u4e00\u4e9b\u91c7\u96c6\u7a0b\u5e8f\u6216\u8005 DDOS \u7684\u653b\u51fb\\n- \u4f7f\u7528 nginx \u9650\u5236\u4e0b\u8f7d\u901f\u5ea6\uff0c\u53ef\u4ee5\u9632\u6b62\u4e0b\u8f7d\u5927\u6587\u4ef6\u65f6\uff0c\u5bfc\u81f4\u7f51\u7ad9\u4e0d\u53ef\u8bbf\u95ee\\n\\n```nginx\\nhttp {\\n  # ...\\n\\n  # \u9650\u5236\u5f53\u524d\u7ad9\u70b9\u6700\u5927\u5e76\u53d1\u6570 50\\n  limit_conn perserver 50;\\n\\n  # \u8bbe\u7f6e\u5355\u4e2a IP \u7684\u5e76\u53d1\u8fde\u63a5\u6570\u4e3a 10\\n  limit_conn perip 10;\\n\\n  # \u9650\u5236\u5ba2\u6237\u7aef\u4e0b\u8f7d\u901f\u5ea6100KB/\u79d2\uff0c\u6b64\u9650\u5236\u662f\u9488\u5bf9\u5355\u4e2a\u7ebf\u7a0b\\n  limit_rate       50k;\\n\\n  # 500k \u4ee5\u540e\u5f00\u59cb\u9650\u901f\\n  limit_rate_after 500k;\\n\\n  # ...\\n}\\n```","isLeaf":true},{"key":"/Nginx/08-log-setting.md","path":"/Nginx/08-log-setting.md","route":"/Nginx/08-log-setting.md","leaf":true,"title":"08-log-setting","depth":1,"content":"---\\ntitle: 08 \u65e5\u5fd7\u914d\u7f6e\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1. nginx \u65e5\u5fd7\u529f\u80fd\\n\\n\u5728 nginx \u4e2d\u6709\u4e24\u79cd\u65e5\u5fd7\uff1a\\n\\n- access_log\uff1a\u8bbf\u95ee\u65e5\u5fd7\uff0c\u901a\u8fc7\u8bbf\u95ee\u65e5\u5fd7\u53ef\u4ee5\u83b7\u53d6\u7528\u6237\u7684IP\u3001\u8bf7\u6c42\u5904\u7406\u7684\u65f6\u95f4\u3001\u6d4f\u89c8\u5668\u4fe1\u606f\u7b49\\n- error_log\uff1a\u9519\u8bef\u65e5\u5fd7\uff0c\u8bb0\u5f55\u4e86\u8bbf\u95ee\u51fa\u9519\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u7528\u4e8e\u5b9a\u4f4d\u9519\u8bef\u7684\u539f\u56e0\\n\\n## 2. \u8bbe\u7f6e access_log\\n\\n\u8bbf\u95ee\u65e5\u5fd7\u4e3b\u8981\u7528\u4e8e\u8bb0\u5f55\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u3002\u5ba2\u6237\u7aef\u5411 nginx \u670d\u52a1\u5668\u53d1\u8d77\u7684\u6bcf\u4e00\u6b21\u8bf7\u6c42\u90fd\u4f1a\u88ab\u8bb0\u5f55\u5230 access_log \u4e2d\u3002\\n\\n\u5305\u542b\u8bf7\u6c42 IP\u3001\u65f6\u95f4\u3001\u8bbf\u95ee url \u7b49\u7b49\uff0c\u5f53\u7136\u8bbf\u95ee\u65e5\u5fd7\u4e2d\u5177\u4f53\u8bb0\u5f55\u54ea\u4e9b\u65e5\u5fd7\u4fe1\u606f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 log_format \u8bbe\u7f6e\u3002\\n\\n### access_log \u6307\u4ee4\u8bed\u6cd5\\n\\n```bash\\naccess_log path [format [buffer=size] [gzip[=level]] [flush=time] [if=condition]]; # \u8bbe\u7f6e\u8bbf\u95ee\u65e5\u5fd7\\naccess_log off; # \u5173\u95ed\u8bbf\u95ee\u65e5\u5fd7\\n\\n- path \u8868\u793a\u6307\u5b9a\u65e5\u5fd7\u5b58\u653e\u4f4d\u7f6e\\n- format \u8868\u793a\u65e5\u5fd7\u683c\u5f0f\u5373\u65e5\u5fd7\u4e2d\u8bb0\u5f55\u7684\u5185\u5bb9\\n- buffer \u7528\u4e8e\u6307\u5b9a\u65e5\u5fd7\u5199\u5165\u65f6\u7684\u7f13\u5b58\u5927\u5c0f\uff0c\u9ed8\u8ba4 64k\\n- gzip \u65e5\u5fd7\u5199\u5165\u524d\u5148\u538b\u7f29\u3002\u538b\u7f29\u7387\u53ef\u4ee5\u6307\u5b9a\uff0c\u4ece1\u52309\u6570\u503c\u8d8a\u5927\u538b\u7f29\u6bd4\u8d8a\u9ad8\uff0c\u540c\u65f6\u538b\u7f29\u7684\u901f\u5ea6\u4e5f\u8d8a\u6162\uff0c\u9ed8\u8ba41\\n- flush \u8bbe\u7f6e\u7f13\u5b58\u7684\u65f6\u95f4\uff0c\u5982\u679c\u8d85\u8fc7flush\u6307\u5b9a\u7684\u65f6\u95f4\uff0c\u7f13\u5b58\u4e2d\u7684\u5185\u5bb9\u5c06\u88ab\u6e05\u7a7a\\n- if \u5224\u65ad\u6761\u4ef6\uff0c\u5982\u679c\u6307\u5b9a\u7684\u6761\u4ef6\u8ba1\u7b97\u4e3a0\u6216\u7a7a\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u8be5\u8bf7\u6c42\u4e0d\u4f1a\u88ab\u5199\u5165\u65e5\u5fd7\\n```\\n\\n\u8bbe\u7f6e buffer \u7684\u76ee\u7684\uff0c\u662f\u4e3a\u4e86\u907f\u514d\u9ad8\u9891\u5bf9\u78c1\u76d8\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\uff0c\u5373\u6682\u65f6\u5148\u4e0d\u5c06\u65e5\u5fd7\u5199\u5165\u78c1\u76d8\uff0c\u800c\u662f\u5b58\u5165\u5185\u5b58\u4e2d\uff0c\u7b49\u8fbe\u5230\u4e86\u8bbe\u7f6e\u7f13\u5b58\u5927\u5c0f\u4e4b\u540e\u518d\u4e00\u6b21\u6027\u5199\u5165\u3002\\n\\n\u6ce8\u610f flush \u6307\u4ee4\u662f\u548c buffer \u4e00\u8d77\u4f7f\u7528\u7684\uff0c\u5373\u6307\u5b9a buffer=size \u4e4b\u540e\uff0c\u5982\u679c\u8d85\u8fc7 flush \u6307\u4ee4\u8bbe\u5b9a\u7684\u65f6\u95f4\u4ecd\u7136\u672a\u8fbe\u5230\u7f13\u5b58\u533a\u5927\u5c0f\uff0c\u5219\u4e5f\u4f1a\u88ab\u5199\u5165\u5230\u78c1\u76d8\uff0c\u6ca1\u6709 buffer \u800c\u53ea\u6709 flush \u5219\u4f1a\u62a5\u9519\u3002\\n\\n### access_log \u914d\u7f6e\u793a\u4f8b\\n\\n```bash\\naccess_log /var/logs/nginx-access.log\\n```\\n\\n\u4e0a\u9762\u7684\u4f8b\u5b50\u6307\u5b9a\u65e5\u5fd7\u7684\u5199\u5165\u8def\u5f84\u4e3a /var/logs/nginx-access.log \u65e5\u5fd7\u683c\u5f0f\u9ed8\u8ba4\u4f7f\u7528 combined\uff1a\\n\\n```bash\\naccess_log /var/logs/nginx-access.log buffer=32k gzip flush=1m\\n```\\n\\n\u8be5\u4f8b\u5b50\u6307\u5b9a\u65e5\u5fd7\u5199\u5165\u8def\u5f84\u4e3a `/var/logs/nginx-access.log` \u65e5\u5fd7\u683c\u5f0f\u9ed8\u8ba4\u4f7f\u7528 combined \uff0c\u65e5\u5fd7\u7684\u7f13\u5b58\u5927\u5c0f\u4e3a 32k\uff0c\u65e5\u5fd7\u5199\u5165\u524d\u542f\u7528 gzip \u538b\u7f29\uff0c\u538b\u7f29\u6bd4\u503c 1\uff0c\u7f13\u5b58\u6570\u636e\u7684\u6709\u6548\u65f6\u95f4\u4e3a 1 \u5206\u949f\u3002\\n\\n\u9700\u8981\u6ce8\u610f\uff0c\u5728 nginx.conf \u6587\u4ef6\u4e2d access_log \u9ed8\u8ba4\u662f\u5173\u95ed\u7684\uff1a\\n![20230512205539](http://s3.airtlab.com/blog/20230512205539.png)\\n\\n\u53bb\u6389\u6ce8\u91ca\uff1a\\n![](http://c1.airtlab.com/15953369053114.jpg#id=yK5bl&originHeight=700&originWidth=2190&originalType=binary&ratio=1&status=done&style=none)\\n\\n### access_log \u65e5\u5fd7\u67e5\u770b\\n\\n\u901a\u8fc7 cat \u547d\u4ee4\u67e5\u770b\u65e5\u5fd7\uff1a\\n![](http://c1.airtlab.com/15953370482388.jpg#id=Atj9p&originHeight=490&originWidth=2878&originalType=binary&ratio=1&status=done&style=none)\\n\\n\u5b83\u7684\u683c\u5f0f\u4e3a\uff1a\\n![](http://c1.airtlab.com/15953374175706.jpg#id=lTOrp&originHeight=164&originWidth=1136&originalType=binary&ratio=1&status=done&style=none)\\n\\n```bash\\n127.0.0.1 - - [21/Jul/2020:21:10:27 +0800] \\"GET / HTTP/1.1\\" 304 0 \\"-\\" \\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36\\" \\"-\\"\\n\\n1. $remote_addr(\u5ba2\u6237\u7aef(\u7528\u6237) IP\u5730\u5740) 127.0.0.1\\n2. $remote_user(\u9700\u8981\u5728\u57fa\u4e8e\u8ba4\u8bc1\u89c4\u5219\u7684\u65f6\u5019\uff0c\u624d\u6709) \'\'\\n3. $time_local(\u8bbf\u95ee\u65f6\u95f4) 21/Jul/2020:21:10:27 +0800\\n4. $request(\u8bf7\u6c42\u7684 url \u5730\u5740) \\"GET / HTTP/1.1\\"\\n5. $body_bytes_sent(nginx\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u7684\u54cd\u5e94\u4f53\u7684\u5b57\u8282\u6570\uff0c\u5373\u4e0d\u542b\u54cd\u5e94\u5934) 0\\n6. $status(\u8bf7\u6c42\u72b6\u6001) 304 \\n7. $http_referer(\u8bf7\u6c42\u6765\u6e90) \\"-\\"\\n8. $http_user_agent(\u5ba2\u6237\u7aef\u4fe1\u606f) \\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36\\"\\n9. $http_x_forwarded_for(\u8868\u793a HTTP \u8bf7\u6c42\u7aef\u771f\u5b9e IP) \\"-\\"\\n```\\n\\n\u6211\u4eec\u4e5f\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u9700\u8981\u65e5\u5fd7\u4fe1\u606f\u5728 nginx \u914d\u7f6e\u6587\u4ef6\u4e2d\u4fee\u6539\u65e5\u5fd7\u683c\u5f0f\u3002\\n\\n## 3. \u8bbe\u7f6e error_log\\n\\nerror_log \u9519\u8bef\u65e5\u5fd7\uff0c\u8bb0\u5f55\u4e86\u8bbf\u95ee\u51fa\u9519\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u7528\u4e8e\u5b9a\u4f4d\u9519\u8bef\u7684\u539f\u56e0\u3002\\n\\n### error_log \u6307\u4ee4\u8bed\u6cd5\\n\\n```bash\\nerror_log file [level];\\n```\\n\\n\u7b2c\u4e00\u4e2a\u53c2\u6570\u6307\u5199\u5165\u9519\u8bef\u65e5\u5fd7\u7684\u8def\u5f84\\n\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u65e5\u5fd7\u7684\u7ea7\u522b\u3002level \u53ef\u4ee5\u662f\uff1adebug\u3001info\u3001notice\u3001warn\u3001error\u3001crit\u3001alert\u3001emerg \u4e2d\u7684\u4efb\u610f\u503c\u3002\u53ea\u6709\u65e5\u5fd7\u7684\u9519\u8bef\u7ea7\u522b\u5927\u4e8e\u7b49\u4e8elevel \u6307\u5b9a\u7684\u503c\u624d\u4f1a\u88ab\u5199\u5165\u9519\u8bef\u65e5\u5fd7\u4e2d\uff0c\u9ed8\u8ba4\u503c\u662f error\u3002\\n\\n### error_log \u914d\u7f6e\u793a\u4f8b\\n\\n```bash\\nerror_log logs/error.log error;\\n```\\n\\n### error_log \u65e5\u5fd7\u67e5\u770b\\n\\n![](http://c1.airtlab.com/15953384654024.jpg#id=XaDjw&originHeight=568&originWidth=2856&originalType=binary&ratio=1&status=done&style=none)\\n\\n```bash\\n2020/07/21 18:21:47 [emerg] 57325#0: bind() to 0.0.0.0:9000 failed (48: Address already in use)\\n\\n1. \u53d1\u751f\u9519\u8bef\u65f6\u95f4\uff1a2020/07/21 18:21:47 \\n2. \u65e5\u5fd7\u7ea7\u522b\uff1aemerg \\n3. \u8be6\u7ec6\u4fe1\u606f\uff1abind() to 0.0.0.0:9000 failed (48: Address already in use)\\n```\\n\\n## 4. \u53c2\u8003\u6587\u7ae0\\n1. [https://www.cnblogs.com/aoniboy/p/4866395.html](https://www.cnblogs.com/aoniboy/p/4866395.html)\\n2. [https://www.cnblogs.com/leeyongbard/p/10880356.html](https://www.cnblogs.com/leeyongbard/p/10880356.html)","isLeaf":true},{"key":"/Nginx/09-log-cutting.md","path":"/Nginx/09-log-cutting.md","route":"/Nginx/09-log-cutting.md","leaf":true,"title":"09-log-cutting","depth":1,"content":"---\\ntitle: 09 nginx \u65e5\u5fd7\u5207\u5272\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\nnginx web \u670d\u52a1\u5668\u4e2d access \u65e5\u5fd7\uff0c\u9ed8\u8ba4\u662f\u4e0d\u80fd\u6309\u65f6\u95f4\u5206\u9694\u7684\uff0c\u6bcf\u6b21\u65e5\u5fd7\u90fd\u662f\u6253\u5728access.log\u4e0a\uff0c\u8fd9\u6837\u4e45\u800c\u4e45\u4e4b\u8fd9\u4e2a\u65e5\u5fd7\u6587\u4ef6\u5c31\u7279\u522b\u7684\u5927\uff0c\u4e5f\u4e0d\u5229\u4e8e\u6e05\u7406\u548c\u7ba1\u7406\uff0c\u6545\u6b64\u6211\u4eec\u80af\u5b9a\u662f\u9700\u8981\u505a\u65f6\u95f4\u4e0a\u7684\u5207\u5272\u7684\uff0c\u90a3\u4e48\u5982\u4f55\u505a\u5230\u5b8c\u7f8e\u7684\u5207\u5272\u7684\u5462\uff1f\\n\\n\u6211\u4eec\u91c7\u53d6\u7684\u65b9\u6848\u662f\u5229\u7528shell\u811a\u672c\u548ccrontab\u5b9a\u65f6\u4efb\u52a1\u6765\u505a\uff1a\u6bcf\u5929 23:59:59 \u5c06\u65e5\u5fd7\u53d6\u51fa\u6765\u5e76\u65b0\u5efa\u6587\u4ef6\uff0c\u6bd4\u5982\uff1aerror-2020-07-20.log\u3002\\n\\n\u521b\u5efashell\u811a\u672c `cut_nginx_log.sh`\uff1a\\n\\n```shell\\n#!/bin/bash\\nyear=`date +%Y`\\nmonth=`date +%m`\\nday=`date +%d`\\nlogs_backup_path=\\"/usr/local/Cellar/nginx/1.15.8/logs\\"  \\n\\nlogs_path=\\"/usr/local/Cellar/nginx/1.15.8/logs/\\" \\nlogs_access=\\"access\\" \\nlogs_error=\\"error\\"\\npid_path=\\"/usr/local/etc/nginx/logs/nginx.pid\\"\\n\\n[ -d $logs_backup_path ]||mkdir -p $logs_backup_path\\nrq=`date +%Y_%m_%d`\\n\\nif [ -f \\"/usr/local/Cellar/nginx/1.15.8/logs/access.log\\" ];then\\nmv ${logs_path}${logs_error}.log ${logs_backup_path}/${logs_error}_${rq}.log\\nfi\\n\\nif [ -f \\"/usr/local/Cellar/nginx/1.15.8/logs/error.log\\" ];then\\nmv ${logs_path}${logs_access}.log ${logs_backup_path}/${logs_access}_${rq}.log\\nfi\\n\\n# \u5237\u65b0 nginx \u65e5\u5fd7\u6587\u4ef6\\nkill -USR1 $(cat /usr/local/etc/nginx/logs/nginx.pid)\\n```\\n\\n\u521b\u5efa\u5b9a\u65f6\u4efb\u52a1\uff1a\\n\\n```shell\\n# \u6bcf\u5929 23:59:\u5206\u5f00\u59cb\u6267\u884c\\ncrontab \u2013e 59 23 * * * bash cut_nginx_log.sh\\n```\\n\\n`kill -USR1 ...` \u7528\u4e8e\u5411nginx\u670d\u52a1\u4e3b\u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7, USR1\u4e3a\u4fe1\u53f7\u7c7b\u578b\uff0c\u5b83\u652f\u6301\u4ee5\u4e0b\u51e0\u79cd\uff1a\\n![](http://c1.airtlab.com/15954265846281.jpg#id=y1tYR&originHeight=602&originWidth=1964&originalType=binary&ratio=1&status=done&style=none)\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u4e0a\u9762\u7684\u811a\u672c\u4e2d\uff0c\u6211\u5c06 nginx \u7684\u5b89\u88c5\u8def\u5f84\u5199\u6b7b\u4e86\uff0c\u5e94\u8be5\u5c3d\u91cf\u907f\u514d\u8fd9\u79cd\u505a\u6cd5\uff0c\u901a\u7528\u6027\u4e0d\u5f3a\uff0c\u5e94\u8be5\u6539\u4e3a\u4f7f\u7528shell\u547d\u4ee4\u83b7\u53d6\u3002","isLeaf":true},{"key":"/Nginx/10-interview.md","path":"/Nginx/10-interview.md","route":"/Nginx/10-interview.md","leaf":true,"title":"10-interview","depth":1,"content":"---\\ntitle: 10 nginx \u5e38\u89c1\u95ee\u9898\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n- https://blog.csdn.net/weixin_43122090/article/details/105461971\\n- https://zhuanlan.zhihu.com/p/101907416?hmsr=toutiao.io\\n- https://www.zhihu.com/zvideo/1304102200206655488","isLeaf":true},{"key":"/Nginx/11-proxy.md","path":"/Nginx/11-proxy.md","route":"/Nginx/11-proxy.md","leaf":true,"title":"11-proxy","depth":1,"content":"---\\ntitle: 11 \u53cd\u5411\u4ee3\u7406\u914d\u7f6e\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n```nginx\\nserver {\\n  listen 80;\\n  server_name www.example.com example.com;\\n\\n  location /app {\\n    proxy_pass http://127.0.0.1:8080;\\n  }\\n}\\n```\\n\\n\u4e0a\u9762\u7684\u914d\u7f6e\u6307\u793a nginx \u5c06\u6240\u6709\u4ee5 `/app` \u5f00\u5934\u7684\u8bf7\u6c42\u4f20\u9012\u5230\u5230 `http://127.0.0.1:8080` \u670d\u52a1\\n\\n\u5c06\u8bf7\u6c42\u5934 Host \u5b57\u6bb5\u7684\u503c\u66f4\u6539\u4e3a $host\uff0c\u5e76\u5c06 Accept-Encoding \u503c\u8bbe\u7f6e\u4e3a\u7a7a\u5b57\u7b26\u4e32\u6765\u5220\u9664\u6807\u5934 Accept-Encoding \u8bf7\u6c42\u5934\u3002\\n\\n```nginx\\nlocation / {\\n  proxy_set_header Host $host;\\n  proxy_set_header Accept-Encoding \\"\\";\\n  proxy_pass http://localhost:3000;\\n}\\n```\\n\\n\u53c2\u8003 https://www.myfreax.com/nginx-reverse-proxy","isLeaf":true},{"key":"/Nginx/12-rewrite.md","path":"/Nginx/12-rewrite.md","route":"/Nginx/12-rewrite.md","leaf":true,"title":"12-rewrite","depth":1,"content":"---\\ntitle: 12 \u91cd\u5b9a\u5411\u529f\u80fd\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1. return \u6307\u4ee4\\n\\n(1) \u8bed\u6cd5\\n\\n![20230512210550](http://s3.airtlab.com/blog/20230512210550.png)\\n\\n(2) CODE\\n\\n-  301 \u6c38\u4e45\u91cd\u5b9a\u5411 \\n-  302 \u4e34\u65f6\u91cd\u5b9a\u5411\uff0c\u7981\u6b62\u7f13\u5b58 \\n-  303 \u4e34\u65f6\u91cd\u5b9a\u5411\uff0c\u5141\u8bb8\u6539\u53d8\u8bf7\u6c42\u65b9\u6cd5\uff0c\u4e34\u65f6\u91cd\u5b9a\u5411\uff0c\u7981\u6b62\u7f13\u5b58 \\n-  307 \u4e34\u65f6\u91cd\u5b9a\u5411\uff0c\u4e0d\u5141\u8bb8\u6539\u53d8\u8bf7\u6c42\u65b9\u6cd5\uff0c\u4e34\u65f6\u91cd\u5b9a\u5411\uff0c\u7981\u6b62\u7f13\u5b58 \\n-  308 \u6c38\u4e45\u91cd\u5b9a\u5411\uff0c\u4e0d\u5141\u8bb8\u6539\u53d8\u8bf7\u6c42\u65b9\u6cd5 \\n\\n(3) return \u5728\u5404\u4e0a\u4e0b\u6587\u7684\u6267\u884c\u987a\u5e8f\\nserver return > location return > error_page\\n\\n![20230512210612](http://s3.airtlab.com/blog/20230512210612.png)\\n\\n## 2. return \u4e0d\u4e0b\u8f7d\u6587\u4ef6\\n\\n![20230512211033](http://s3.airtlab.com/blog/20230512211033.png)\\n\\nnginx \u4f7f\u7528 return \u6307\u4ee4\uff0c\u4f1a\u4e0b\u8f7d\u6587\u4ef6\uff0c\u914d\u7f6e\u8fd4\u56de\u5185\u5bb9\u7684\u7f16\u7801\u683c\u5f0f\u5373\u53ef\uff1a\\n\\n```nginx\\nlocation /test {\\n  default_type text/html ;\\n  return 200 \\"hello $remote_addr\\";\\n}\\n```\\n\\n## 3. rewrite \u6307\u4ee4\\n\\n![20230512210642](http://s3.airtlab.com/blog/20230512210642.png)\\n\\n### 1. last \u548c break \u533a\u522b\u6f14\u793a\\n\\n\u5047\u8bbe html \u6839\u76ee\u5f55\u5982\u4e0b\uff1a\\n\\n![20230512210730](http://s3.airtlab.com/blog/20230512210730.png)\\n\\n```\\n\\n```nginx\\nlocation /first {\\n  rewrite /first(.*) /second$1 break;\\n  return 200 \\"first\\";\\n}\\n\\nlocation /second {\\n  rewrite /second(.*) /third$1 last;\\n  return 200 \\"second\\";\\n}\\n\\nlocation /test {\\n  rewrite /xxxtest(.*) /second$1 break;\\n  return 200 \\"test\\";\\n}\\n\\nlocation /third {\\n  return 200 \\"third\\";\\n}\\n```\\n\\n\u6f14\u793a last \u4e0e break \u533a\u522b\uff1a\\n\\n\uff081\uff09\u8bbf\u95ee /first/1.html\uff0c\u4f1a\u91cd\u5b9a\u5411\u5230 /second$1\uff0c\u6b64\u65f6\u4f7f\u7528\u4e86 break\uff0c\u5219\u505c\u6b62\u7ee7\u7eed\u5339\u914d\uff0c\u76f4\u63a5\u8bbf\u95ee /second/1.html\uff0c\u8fd9\u91cc\u8fd4\u56de 404\\n\\n\uff082\uff09\u8bbf\u95ee /second/3.html\uff0c\u4f1a\u91cd\u5b9a\u5411\u5230 /third$1\uff0c\u6b64\u65f6\u4f7f\u7528\u4e86 last\uff0c\u6240\u4ee5\u4e0d\u4f1a\u76f4\u63a5\u8f93\u51fa /third/3.html\uff0c\u800c\u662f\u7ee7\u7eed\u5339\u914d\uff0c\u8fdb\u5165 `location /third`\uff0c\u7136\u540e\u8fd4\u56de `third`\u3002\\n\\n\uff083\uff09\u8bbf\u95ee /test/1.html\uff0c\u6b64\u65f6 `location /test` \u4e0b\u7684 rewrite \u91cd\u5b9a\u5411\u5931\u8d25(\u5339\u914d\u5931\u8d25)\uff0c\u4f1a\u76f4\u63a5\u8d70\u540e\u9762\u7684 return \u8bed\u53e5\uff0c\u8fd4\u56de `test`\u3002\\n\\n### 2. rewrite 301/302 \u91cd\u5b9a\u5411\\n\\n![20230512210801](http://s3.airtlab.com/blog/20230512210801.png)\\n\\n### 3. \u5f00\u542f rewrite_log\\n\\nrewrite_log \u5f00\u542f\u540e\uff0c\u53ef\u4ee5\u770b\u5230\u91cd\u5b9a\u5411\u65e5\u5fd7\uff0c\u4ee5\u4fbf\u8c03\u8bd5\\n\\n![20230512210943](http://s3.airtlab.com/blog/20230512210943.png)","isLeaf":true},{"key":"/Nginx/13-try_file.md","path":"/Nginx/13-try_file.md","route":"/Nginx/13-try_file.md","leaf":true,"title":"13-try_file","depth":1,"content":"---\\ntitle: 13 try_file \u6307\u4ee4\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1\u3001\u6f14\u793a1\\n\\n```nginx\\nlocation / {\\n  root data;\\n  index index.html index.htm;\\n  try_files $uri $uri/ /index.html;\\n}\\n```\\n\\n**\u89e3\u91ca\u914d\u7f6e**\\n- root\uff1a\u8bbe\u7f6e\u9759\u6001\u6839\u76ee\u5f55\u4e3a data\\n- index\uff1a\u8bbe\u7f6e\u76ee\u5f55\u7684\u9ed8\u8ba4\u6587\u4ef6\u4e3a index.html \u3001index.htm\\n- try_files\uff1a\u8bbe\u7f6e\u6587\u4ef6\u67e5\u627e\u89c4\u5219\u4e3a $uri $uri/ /index.html\u3002\u53733\u4e2a\u89c4\u5219\uff0c\u5148\u4ece $uri \u67e5\u627e\uff0c\u518d\u4ece $uri/ \u76ee\u5f55\u4e2d\u67e5\u627e\uff0c\u6700\u540e\u67e5\u627e /index.html\u3002\\n\\n\u4f8b\u5b50\uff1a\u6839\u636e\u4e0a\u9762\u7684\u914d\u7f6e\uff0c\u5f53\u8bf7\u6c42 http://localhost:3004/api \u65f6\uff0c$uri \u4e3a /api\u3002\u5f53\u524dtry_file \u5177\u4f53\u4e3a\uff1a/api\u3001/api/\u3001/index.html\uff0c\u5176\u4e2d / \u8868\u793a\u6839\u76ee\u5f55\uff08\u6839\u636e root \u6216 alias \u6765\u6307\u5b9a\uff09\u3002\\n\\n**\u67e5\u627e\u903b\u8f91**\\n- \u9996\u5148\uff1a\u68c0\u67e5 data \u76ee\u5f55\u4e2d\u662f\u5426\u5b58\u5728 api \u6587\u4ef6\uff0c\u5982\u679c\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u6587\u4ef6\uff1b\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u8fdb\u884c\u4e0b\u4e00\u6b65\u3002\\n- \u5176\u6b21\uff1a\u68c0\u67e5 data \u76ee\u5f55\u4e2d\u662f\u5426\u5b58\u5728 api/ \u76ee\u5f55\uff0c\u5982\u679c\u5b58\u5728\uff0c\u5219\u5728\u68c0\u67e5 api/ \u76ee\u5f55\u4e2d\u662f\u5426\u5b58\u5728 index.html \u6216\u8005 index.htm \u6587\u4ef6\uff08\u7531 index \u6307\u5b9a\uff09\uff1b\u5982\u679c\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u8be5\u6587\u4ef6\u3002\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u8fdb\u884c\u4e0b\u4e00\u6b65\u3002\\n- \u6700\u540e\uff1a\u68c0\u67e5 data \u76ee\u5f55\u4e2d\u662f\u5426\u5b58\u5728 index.html \u6587\u4ef6\u3002\u5982\u679c\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u6587\u4ef6\uff1b\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de 404\u3002\\n\\n## 2\u3001\u6f14\u793a2\\n```nginx\\nlocation /pngs/ {\\n  root /data/user/;\\n  index index.html index.htm;\\n  try_files $uri   $uri/  /pngs/file.png; \\n}\\n```\\n\\n\u6839\u636e\u4e0a\u9762\u7684\u914d\u7f6e\uff0c\u5f53\u8bf7\u6c42 http://localhost:3003/pngs/rule.png \u65f6\uff0c $uri \u4e3a /pngs/rule.png\uff0c\u5f53\u524d try_file \u67e5\u627e\u987a\u5e8f\u4e3a\\n- \u9996\u5148\u662f\uff1a/data/user/pngs/rule.png\\n- \u5176\u6b21\u662f\uff1a/data/user/pngs/rule.png/ \u6587\u4ef6\u4e0b\u7684 index \u6240\u914d\u7f6e\u7684\u6587\u4ef6\uff0c\u5373\uff1a index.html\u3001index.htm\\n- \u6700\u540e\u662f\uff1a /data/user/pngs/file.png\u3002","isLeaf":true},{"key":"/Nginx/14-get-url-param.md","path":"/Nginx/14-get-url-param.md","route":"/Nginx/14-get-url-param.md","leaf":true,"title":"14-get-url-param","depth":1,"content":"---\\ntitle: 14 \u83b7\u53d6URL\u53c2\u6570\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## $args\\n\\n\u5728 nginx \u4e2d\u83b7\u53d6 URL \u53c2\u6570\u53ef\u4ee5\u4f7f\u7528 `ngx_http_core_module` \u6a21\u5757\u63d0\u4f9b\u7684 `$args` \u53d8\u91cf\uff0c\u8be5\u53d8\u91cf\u5305\u542b\u6574\u4e2a\u8bf7\u6c42\u4e2d\u7684 URL \u53c2\u6570\u5b57\u7b26\u4e32\u3002\\n\u8981\u83b7\u53d6\u7279\u5b9a\u53c2\u6570\u7684\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528 `ngx_http_set_misc_module` \u6a21\u5757\u63d0\u4f9b\u7684 `set` \u6307\u4ee4\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u793a\u4f8b\u914d\u7f6e\uff1a\\n\\n```nginx\\nlocation /example {\\n  set $param1 \'\';\\n  set $param2 \'\';\\n\\n  if ($args ~* \\"param1=([^&]+)\\") {\\n    set $param1 $1;\\n  }\\n\\n  if ($args ~* \\"param2=([^&]+)\\") {\\n    set $param2 $1;\\n  }\\n\\n  # do something with $param1 and $param2 here...\\n}\\n```\\n\\n\u5728\u4e0a\u9762\u7684\u914d\u7f6e\u4e2d\uff0c\u6211\u4eec\u9996\u5148\u5b9a\u4e49\u4e24\u4e2a\u53d8\u91cf `param1` \u548c `param2`\uff0c\u7136\u540e\u4f7f\u7528 `if` \u8bed\u53e5\u548c\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u63d0\u53d6\u53c2\u6570\u503c\u3002\u4f8b\u5982\uff0c\u5982\u679c URL \u5305\u542b\u53c2\u6570 `param1=foo`\uff0c\u90a3\u4e48 `$param1` \u53d8\u91cf\u5c06\u88ab\u8bbe\u7f6e\u4e3a `foo`\uff1b\u5982\u679c\u53c2\u6570\u4e0d\u5b58\u5728\uff0c\u5219 `$param1` \u5c06\u4fdd\u6301\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002\u6700\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 `$param1` \u548c `$param2` \u53d8\u91cf\u6267\u884c\u4efb\u4f55\u5fc5\u8981\u7684\u64cd\u4f5c\u3002\\n\\n## $arg_{name}\\n\\n\u901a\u8fc7 $arg_{name} \u83b7\u5f97\u5355\u4e2a\u53c2\u6570\u503c\uff0c\u6bd4\u5982 $arg_name \u7528\u4e8e\u83b7\u53d6 name \u7684\u503c\uff0c$arg_age \u7528\u4e8e\u83b7\u53d6 age \u7684\u503c","isLeaf":true},{"key":"/Nginx/15-match-question-mark.md","path":"/Nginx/15-match-question-mark.md","route":"/Nginx/15-match-question-mark.md","leaf":true,"title":"15-match-question-mark","depth":1,"content":"---\\ntitle: 15  normalized URI \u4e0d\u5305\u542b\u67e5\u8be2\u5b57\u7b26\u4e32\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n\u671f\u671b\u5f53\u8bbf\u95ee `localhost:5000/bill/detail/1234?a=1&b=2` \u65f6\u91cd\u5b9a\u5411\u5230 `http://localhost:5000/bill/detail/?a=1&b=2&term=123`\\n\\n## 1\u3001\u4ee3\u7801\u6d4b\u8bd5\\n\\n```conf\\n  location /bill/detail {\\n    # $1 \u5339\u914d \u6570\u5b57\u90e8\u5206\\n    # $2 \u5339\u914d query string\\n    rewrite  ^/bill/detail/([\\\\d]+)\\\\?(.*)$ https://www.baidu.com?$2&term=$1 redirect;\\n  }\\n```\\n\\n```\\n2023/06/03 20:20:38 [notice] 3128#0: *5 \\"^/bill/detail/([\\\\d]+)\\\\?(.*)$\\" does not match \\"/bill/detail/1234\\", client: 127.0.0.1, server: 127.0.0.1, request: \\"GET /bill/detail/1234?a=1&b=2 HTTP/1.1\\", host: \\"localhost:5000\\"\\n```\\n\\n## 2\u3001\u76f8\u5173\u95ee\u9898\\n\\n(1) https://stackoverflow.com/questions/58019632/how-to-rewrtite-in-nginx-uri-with-a-question-mark\\n\\n![20230603203523](http://s3.airtlab.com/blog/20230603203523.png)\\n  \\n(2) https://stackoverflow.com/questions/15713934/how-to-match-question-mark-as-regexp-on-nginx-conf-location\\n\\n![20230603204049](http://s3.airtlab.com/blog/20230603204049.png)\\n\\n\u8fd9\u91cc\u662f\u8bf4 `location ~ match` match \u4e0d\u80fd\u5339\u914d ? query string \u90e8\u5206\\n\\n(3) https://stackoverflow.com/questions/40551769/nginx-rewrite-rule-add-trailing-slash-before-question-mark\\n\\n\u8fd9\u662f\u4e00\u4e2a\u7c7b\u4f3c\u95ee\u9898\uff0c\u4f5c\u8005\u4e5f\u60f3\u5339\u914d `?`\\n\\n## 3\u3001\u53c2\u8003\u8d44\u6599\\n\\n- http://nginx.org/en/docs/http/ngx_http_rewrite_module.html#rewrite\\n\\n## 4\u3001\u539f\u56e0\\n\\n`The ? marks the start of the query string which is not part of the normalized URI used in location and rewrite directives.` \u53c2\u8003 https://stackoverflow.com/questions/40551769/nginx-rewrite-rule-add-trailing-slash-before-question-mark\\n\\n`The ? and anything following is the query string and is not part of the normalised URI used by nginx in location and rewrite directives.`\\n\\nhttps://stackoverflow.com/questions/44782411/nginx-rewrite-question-mark\\n\\n\\n\u95ee\u53f7\u548c\u95ee\u53f7\u540e\u9762\u7684\u5185\u5bb9\u662f\u67e5\u8be2\u5b57\u7b26\u4e32\uff0c\u4e0d\u662f\u7531nginx\u5728\u4f4d\u7f6e\u548c\u91cd\u5199\u6307\u793a\u4e2d\u4f7f\u7528\u7684\u6807\u51c6\u5316URI\u7684\u4e00\u90e8\u5206\u3002\u67e5\u8be2\u5b57\u7b26\u4e32\u662fHTTP\u8bf7\u6c42\u4e2d\u7528\u4e8e\u5c06\u989d\u5916\u7684\u53c2\u6570\u4f20\u9012\u7ed9\u670d\u52a1\u5668\u7684\u4e00\u90e8\u5206\uff0c\u800cURI\uff08\u7edf\u4e00\u8d44\u6e90\u6807\u8bc6\u7b26\uff09\u5219\u6307\u5b9a\u4e86\u8981\u8bbf\u95ee\u7684\u8d44\u6e90\u7684\u6807\u8bc6\u7b26\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e\u4f7f\u7528nginx\u7684\u4f4d\u7f6e\u548c\u91cd\u5199\u6307\u4ee4\u7684\u670d\u52a1\u5668\u6765\u8bf4\uff0c\u67e5\u8be2\u5b57\u7b26\u4e32\u9700\u8981\u5355\u72ec\u5904\u7406\u3002\\n\\n## 5\u3001\u6700\u7ec8\u65b9\u6848\\n\\n```nginx\\nlocation /bill/detail {\\n  rewrite ^/bill/detail/([\\\\d]+)(.*)$ https://www.baidu.com/?term=$1&$args? redirect;\\n}\\n```","isLeaf":true},{"key":"/Nginx/16-why-args-duplicate.md","path":"/Nginx/16-why-args-duplicate.md","route":"/Nginx/16-why-args-duplicate.md","leaf":true,"title":"16-why-args-duplicate","depth":1,"content":"---\\ntitle: 16 why-args-duplicate\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1\u3001\u6d4b\u8bd5 1\\n```nginx\\nlocation /bill/detail {\\n  rewrite ^/bill/detail/([\\\\d]+)(.*)$ https://www.baidu.com/?$args redirect;\\n}\\n```\\n\\n`http://localhost:5000/bill/detail/1234?a=1`\\n\\n=>\\n\\n`https://www.baidu.com/?a=1&a=1`\\n\\n## 2\u3001\u6d4b\u8bd5 2\\n\\n```nginx\\nlocation /bill/detail {\\n  rewrite ^/bill/detail/([\\\\d]+)(.*)$ https://www.baidu.com/?term=$1&$args redirect;\\n}\\n```\\n\\n`http://localhost:5000/bill/detail/1234?a=1&b=2`\\n\\n=>\\n\\n`https://www.baidu.com/?term=1234&a=1&b=2&a=1&b=2`\\n\\n## 3\u3001\u89e3\u91ca \\n\\n> Nginx appends the query string automatically if there are other get parameters in the rewritten URL. If you\'re adding $args yourself you should add a ? (question mark) at the end of the rewritten URL to avoid having duplicate parameters.\\n\\n```nginx\\nrewrite ^(...)$ /destination$is_args$args? [permanent|redirect];\\n```\\n\\nhttps://stackoverflow.com/questions/23635203/using-args-in-nginx-rewrite-causing-duplicate-url-parameters","isLeaf":true},{"key":"/Nginx/17-config-template.md","path":"/Nginx/17-config-template.md","route":"/Nginx/17-config-template.md","leaf":true,"title":"17-config-template","depth":1,"content":"---\\ntitle: 17 \u5e38\u7528\u914d\u7f6e\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1\u3001try_file\\n\\n```nginx\\nlocation / {\\n  index index.html index;\\n  try_files $uri $uri/ /index.html =404;\\n}\\n```\\n\\n## 2\u3001\u53cd\u5411\u4ee3\u7406\\n\\n```nginx\\nserver {\\n  listen 80;\\n  server_name www.example.com example.com;\\n\\n  location /api {\\n    proxy_set_header Host $host;\\n    proxy_set_header Accept-Encoding \\"\\";\\n    proxy_pass http://localhost:3000;\\n  }\\n}\\n```\\n\\n\u6ce8\u610f\u8fd9\u91cc `http://localhost:3000` \u548c `http://localhost:3000/` \u7684\u533a\u522b\\n\\n## 3\u3001\u91cd\u5b9a\u5411\\n\\n```nginx\\nlocation /bill/detail {\\n  rewrite ^/bill/detail/([\\\\d]+)(.*)$ https://www.baidu.com/?$args redirect;\\n}\\n```\\n\\n## 4\u3001\u5927\u6587\u4ef6\u4e0a\u4f20\\n\\n```nginx\\nserver {\\n  listen       80;\\n  server_name  localhost;\\n  \\n  client_max_body_size     50m;  # \u9650\u5236\u8bf7\u6c42\u4f53\u7684\u5927\u5c0f\uff0c\u82e5\u8d85\u8fc7\u6240\u8bbe\u5b9a\u7684\u5927\u5c0f\uff0c\u8fd4\u56de413\u9519\u8bef\uff0c\u9ed8\u8ba41m\\n  client_header_timeout    1m;  # \u8bfb\u53d6\u8bf7\u6c42\u5934\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u82e5\u8d85\u8fc7\u6240\u8bbe\u5b9a\u7684\u5927\u5c0f\uff0c\u8fd4\u56de408\u9519\u8bef\\n  client_body_timeout      1m; # \u8bfb\u53d6\u8bf7\u6c42\u5b9e\u4f53\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u82e5\u8d85\u8fc7\u6240\u8bbe\u5b9a\u7684\u5927\u5c0f\uff0c\u8fd4\u56de413\u9519\u8bef\\n  proxy_connect_timeout     60s; # http\u8bf7\u6c42\u65e0\u6cd5\u7acb\u5373\u88ab\u5bb9\u5668(tomcat, netty\u7b49)\u5904\u7406\uff0c\u88ab\u653e\u5728nginx\u7684\u5f85\u5904\u7406\u6c60\u4e2d\u7b49\u5f85\u88ab\u5904\u7406\u3002\u6b64\u53c2\u6570\u4e3a\u7b49\u5f85\u7684\u6700\u957f\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a60\u79d2\uff0c\u5b98\u65b9\u63a8\u8350\u6700\u957f\u4e0d\u8981\u8d85\u8fc775\u79d2\\n  proxy_read_timeout      1m;  # http\u8bf7\u6c42\u88ab\u5bb9\u5668(tomcat, netty\u7b49)\u5904\u7406\u540e\uff0cnginx\u4f1a\u7b49\u5f85\u5904\u7406\u7ed3\u679c\uff0c\u4e5f\u5c31\u662f\u5bb9\u5668\u8fd4\u56de\u7684response\u3002\u6b64\u53c2\u6570\u5373\u4e3a\u670d\u52a1\u5668\u54cd\u5e94\u65f6\u95f4\uff0c\u9ed8\u8ba460\u79d2\\n  proxy_send_timeout      1m; # http\u8bf7\u6c42\u88ab\u670d\u52a1\u5668\u5904\u7406\u5b8c\u540e\uff0c\u628a\u6570\u636e\u4f20\u8fd4\u56de\u7ed9Nginx\u7684\u7528\u65f6\uff0c\u9ed8\u8ba460\u79d2\\n\\n  location  / {\\n      # ...\\n  }\\n}   \\n```\\n\\n## 5\u3001\u865a\u62df\u76ee\u5f55\\n\\n```\\nlocation /web2 {\\n  # index index.html index;\\n  alias /Users/user/Desktop/html;\\n}\\n```\\n\\n\u4f7f\u7528 root + rewrite \u53ef\u4ee5 \u5b9e\u73b0\u865a\u62df\u76ee\u5f55\u7684\u529f\u80fd\\n","isLeaf":true},{"key":"/Nginx/18-nginx-single-process.md","path":"/Nginx/18-nginx-single-process.md","route":"/Nginx/18-nginx-single-process.md","leaf":true,"title":"18-nginx-single-process","depth":1,"content":"---\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\nnginx \u5728\u5904\u7406\u6bcf\u4e00\u4e2a\u7528\u6237\u8bf7\u6c42\u65f6\uff0c\u90fd\u662f\u6309\u7167\u82e5\u5e72\u4e2a\u4e0d\u540c\u7684\u9636\u6bb5\u4f9d\u6b21\u5904\u7406\u7684\uff0c\u4e0e\u914d\u7f6e\u6587\u4ef6\u4e0a\u7684\u987a\u5e8f\u6ca1\u6709\u5173\u7cfb\uff0c\u8be6\u7ec6\u5185\u5bb9\u53ef\u4ee5\u9605\u8bfb\u300a\u6df1\u5165\u7406\u89e3nginx:\u6a21\u5757\u5f00\u53d1\u4e0e\u67b6\u6784\u89e3\u6790\u300b\u8fd9\u672c\u4e66\uff0c\u8fd9\u91cc\u53ea\u505a\u7b80\u5355\u4ecb\u7ecd\uff1b\\n\\n\uff081\uff09post-read\\n\\n\u8bfb\u53d6\u8bf7\u6c42\u5185\u5bb9\u9636\u6bb5\uff0cnginx\u8bfb\u53d6\u5e76\u89e3\u6790\u5b8c\u8bf7\u6c42\u5934\u4e4b\u540e\u5c31\u7acb\u5373\u5f00\u59cb\u8fd0\u884c\uff1b\\n\\n\uff082\uff09server-rewrite\\n\\nserver\u8bf7\u6c42\u5730\u5740\u91cd\u5199\u9636\u6bb5\uff1b\\n\\n\uff083\uff09find-config\\n\\n\u914d\u7f6e\u67e5\u627e\u9636\u6bb5\uff0c\u7528\u6765\u5b8c\u6210\u5f53\u524d\u8bf7\u6c42\u4e0elocation\u914d\u91cd\u5757\u4e4b\u95f4\u7684\u914d\u5bf9\u5de5\u4f5c\uff1b\\n\\n\uff084\uff09rewrite\\n\\nlocation\u8bf7\u6c42\u5730\u5740\u91cd\u5199\u9636\u6bb5\uff0c\u5f53ngx_rewrite\u6307\u4ee4\u7528\u4e8elocation\u4e2d\uff0c\u5c31\u662f\u518d\u8fd9\u4e2a\u9636\u6bb5\u8fd0\u884c\u7684\uff1b\\n\\n\uff085\uff09post-rewrite\\n\\n\u8bf7\u6c42\u5730\u5740\u91cd\u5199\u63d0\u4ea4\u9636\u6bb5\uff0c\u5f53nginx\u5b8c\u6210rewrite\u9636\u6bb5\u6240\u8981\u6c42\u7684\u5185\u90e8\u8df3\u8f6c\u52a8\u4f5c\uff0c\u5982\u679crewrite\u9636\u6bb5\u6709\u8fd9\u4e2a\u8981\u6c42\u7684\u8bdd\uff1b\\n\\n\uff086\uff09preaccess\\n\\n\u8bbf\u95ee\u6743\u9650\u68c0\u67e5\u51c6\u5907\u9636\u6bb5\uff0cngx_limit_req\u548cngx_limit_zone\u5728\u8fd9\u4e2a\u9636\u6bb5\u8fd0\u884c\uff0cngx_limit_req\u53ef\u4ee5\u63a7\u5236\u8bf7\u6c42\u7684\u8bbf\u95ee\u9891\u7387\uff0cngx_limit_zone\u53ef\u4ee5\u63a7\u5236\u8bbf\u95ee\u7684\u5e76\u53d1\u5ea6\uff1b\\n\\n\uff087\uff09access\\n\\n\u6743\u9650\u68c0\u67e5\u9636\u6bb5\uff0cngx_access\u5728\u8fd9\u4e2a\u9636\u6bb5\u8fd0\u884c\uff0c\u914d\u7f6e\u6307\u4ee4\u591a\u662f\u6267\u884c\u8bbf\u95ee\u63a7\u5236\u76f8\u5173\u7684\u4efb\u52a1\uff0c\u5982\u68c0\u67e5\u7528\u6237\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u68c0\u67e5\u7528\u6237\u7684\u6765\u6e90IP\u662f\u5426\u5408\u6cd5\uff1b\\n\\n\uff088\uff09post-access\\n\\n\u8bbf\u95ee\u6743\u9650\u68c0\u67e5\u63d0\u4ea4\u9636\u6bb5\uff1b\\n\\n\uff089\uff09try-files\\n\\n\u914d\u7f6e\u9879try_files\u5904\u7406\u9636\u6bb5\uff1b\\n\\n\uff0810\uff09content\\n\\n\u5185\u5bb9\u4ea7\u751f\u9636\u6bb5\uff0c\u662f\u6240\u6709\u8bf7\u6c42\u5904\u7406\u9636\u6bb5\u4e2d\u6700\u4e3a\u91cd\u8981\u7684\u9636\u6bb5\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u9636\u6bb5\u7684\u6307\u4ee4\u901a\u5e38\u662f\u7528\u6765\u751f\u6210HTTP\u54cd\u5e94\u5185\u5bb9\u7684\uff1b\\n\\n\uff0811\uff09log\\n\\n\u65e5\u5fd7\u6a21\u5757\u5904\u7406\u9636\u6bb5\uff1b","isLeaf":true},{"key":"/Nginx/19-nginx-with-lua.md","path":"/Nginx/19-nginx-with-lua.md","route":"/Nginx/19-nginx-with-lua.md","leaf":true,"title":"19-nginx-with-lua","depth":1,"content":"---\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\nnginx \u4e2d\u5d4c\u5165 lua \u811a\u672c\u73af\u5883\u642d\u5efa\uff1a\\n\\n## 1. \u73af\u5883\u642d\u5efa\\n\\n### 1.1 \u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\\n\u53ef\u4ee5\u53c2\u8003 https://segmentfault.com/a/1190000018641801\\n\\n### nginx-mod-http-lua \u96c6\u6210\u73af\u5883\\n\\n\u5b89\u88c5\u8fd9\u4e2a\u5305\u540e\uff0c\u4f1a\u5b89\u88c5 nginx \u4ee5\u53ca lua \u76f8\u5173\u7684\u4f9d\u8d56\\n\\n```Dockerfile\\nFROM alpine:3.6\\n\\nRUN apk add --no-cache nginx-mod-http-lua\\n\\n# Delete default config\\nRUN rm -r /etc/nginx/conf.d && rm /etc/nginx/nginx.conf\\n\\n# Create folder for PID file\\nRUN mkdir -p /run/nginx\\n\\n# Add our nginx conf\\nCOPY ./nginx.conf /etc/nginx/nginx.conf\\n\\nRUN mkdir www\\nCOPY html/ www\\n\\nCMD [\\"nginx\\"]\\n\\nEXPOSE 80\\n```\\n\\n**\u4f7f\u7528\u6f14\u793a**\\n\\n```nginx\\nload_module /usr/lib/nginx/modules/ndk_http_module.so;\\nload_module /usr/lib/nginx/modules/ngx_http_lua_module.so;\\n\\npcre_jit on;\\n\\nevents {\\n  worker_connections 1024;\\n}\\n\\nhttp {\\n  include       mime.types;\\n  default_type  application/octet-stream;\\n\\n  gzip on;\\n  gzip_min_length 1k;\\n  gzip_comp_level 1;\\n  gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript;\\n  gzip_vary on;\\n  server_tokens       off;  # returns \\"Server: nginx\\"\\n\\n  log_format custom \'$host - $remote_addr - $remote_user [$time_local] \'\\n                          \'\\"$request\\" $status $body_bytes_sent \'\\n                          \'\\"$http_referer\\" \\"$http_user_agent\\" \\"$gzip_ratio\\"\';\\n\\n  gzip_disable \\"MSIE [1-6]\\\\.\\";\\n  sendfile        on;\\n\\n  server {\\n    listen 80;\\n\\n    location / {\\n      root /www;\\n      index  index.html index.htm;\\n    }\\n\\n    location /lua {\\n      # \u5b9a\u4e49MIME\u7c7b\u578b\\n      default_type \'text/plain\';\\n      content_by_lua_block {\\n        ngx.say(\'Hello,world!\')\\n      }\\n    }\\n  }\\n}\\n\\ndaemon off;\\n```\\n\\n## 2. \u52a0\u8f7d\u52a8\u6001\u6a21\u5757\\n\\n\u5728nginx\u4e2d\uff0cload_module\u6307\u4ee4\u7528\u4e8e\u52a0\u8f7d\u52a8\u6001\u6a21\u5757\uff0c\u4ee5\u6269\u5c55nginx\u7684\u529f\u80fd\u3002\\n\\n\u52a8\u6001\u6a21\u5757\u662f\u6307\u53ef\u4ee5\u5728nginx\u8fd0\u884c\u65f6\u52a8\u6001\u52a0\u8f7d\u548c\u5378\u8f7d\u7684\u4e00\u4e9b\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u901a\u8fc7\u52a0\u8f7d\u52a8\u6001\u6a21\u5757\uff0c\u53ef\u4ee5\u4e3anginx\u6dfb\u52a0\u5404\u79cd\u529f\u80fd\uff0c\u5982\u652f\u6301\u65b0\u7684\u534f\u8bae\u3001\u6587\u4ef6\u683c\u5f0f\u3001\u8ba4\u8bc1\u65b9\u5f0f\u7b49\u3002\\n\\n\u5728 nginx \u914d\u7f6e\u6587\u4ef6\u4e2d\uff0cload_module \u6307\u4ee4\u7528\u4e8e\u6307\u5b9a\u8981\u52a0\u8f7d\u7684\u52a8\u6001\u6a21\u5757\u6587\u4ef6\u7684\u8def\u5f84\u548c\u540d\u79f0\u3002\u5f53nginx\u542f\u52a8\u65f6\uff0c\u5b83\u4f1a\u81ea\u52a8\u52a0\u8f7d\u5e76\u521d\u59cb\u5316\u6307\u5b9a\u7684\u52a8\u6001\u6a21\u5757\uff0c\u4ece\u800c\u6269\u5c55\u5176\u529f\u80fd\u3002\\n\\n\u4f8b\u5982\uff0c\u8981\u52a0\u8f7d\u4e00\u4e2a\u540d\u4e3a mod_http_echo.so \u7684\u52a8\u6001\u6a21\u5757\uff0c\u53ea\u9700\u5728nginx\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5982\u4e0b\u6307\u4ee4\uff1a\\n\\n```nginx\\nload_module /path/to/mod_http_echo.so;\\n```\\n\\n\u8fd9\u5c06\u52a0\u8f7d mod_http_echo.so \u52a8\u6001\u6a21\u5757\uff0c\u5e76\u4f7f\u5176\u5728nginx\u4e2d\u53ef\u7528\u3002\\n\\n## 3. openrestry\\n\\nOpenResty \u662f\u4e00\u4e2a\u57fa\u4e8e nginx \u670d\u52a1\u5668\u7684 Web \u5e94\u7528\u5f00\u53d1\u6846\u67b6\u3002\u5b83\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684 Lua \u5e93\u548c\u7b2c\u4e09\u65b9\u6a21\u5757\uff0c\u5e76\u901a\u8fc7\u5185\u7f6e\u7684 Lua \u89e3\u91ca\u5668\u5c06 Lua \u8bed\u8a00\u5d4c\u5165 Nginx \u7684\u914d\u7f6e\u6587\u4ef6\u548c\u670d\u52a1\u5668\u4e2d\u3002\\nOpenResty \u5305\u542b\u4e86\u4e00\u7cfb\u5217\u7684\u7ec4\u4ef6\uff0c\u4f8b\u5982\uff1a\\n\\n- Nginx\uff1a\u4e3a HTTP/HTTPS \u670d\u52a1\u5668\u63d0\u4f9b\u5e73\u53f0\u3002\\n- LuaJIT\uff1a \u9ad8\u6027\u80fd Lua VM \u7684\u5feb\u901f JIT \u7f16\u8bd1\u5668\u3002\\n- ngx_lua\uff1a\u5c06 Lua \u811a\u672c\u7f16\u5199\u6210 Nginx \u7684\u6a21\u5757\u3002\\n- ngx_stream_lua\uff1a\u5c06 Lua \u811a\u672c\u7f16\u5199\u6210 Nginx \u7684 TCP \u6216 UDP \u7684\u6a21\u5757\u3002\\n- LuaRocks\uff1a\u5f00\u6e90\u7684 Lua \u5e93\u548c\u5de5\u5177\u7ba1\u7406\u7cfb\u7edf\u3002\\n\\nOpenResty \u901a\u8fc7\u5c06 Lua \u811a\u672c\u7f16\u5199\u6210 Nginx \u6a21\u5757\uff0c\u4f7f\u5f97\u8fd9\u4e9b\u6a21\u5757\u53ef\u4ee5\u901a\u8fc7 Nginx \u7684\u4e8b\u4ef6\u6a21\u578b\u5f02\u6b65\u5904\u7406\u8bf7\u6c42\uff0c\u5e76\u9ad8\u6548\u5730\u6267\u884c\u5404\u79cd\u64cd\u4f5c\uff0c\u5982\uff1a\u6570\u636e\u5904\u7406\u3001\u8bbf\u95ee\u6570\u636e\u5e93\u3001HTTP \u7f13\u5b58\u7b49\u7b49\uff0c\u5e76\u4e14\uff0c\u5728 Lua \u8bed\u8a00\u4e2d\u7f16\u5199\u4e1a\u52a1\u903b\u8f91\u66f4\u52a0\u7b80\u5355\u548c\u7075\u6d3b\u3002\\n\\nOpenResty \u5df2\u7ecf\u5728\u8bb8\u591a\u9ad8\u6027\u80fd Web \u5e94\u7528\u573a\u666f\u5f97\u5230\u5e94\u7528\uff0c\u4f8b\u5982\uff1aAPI Gateway\u3001\u53cd\u5411\u4ee3\u7406\u3001Web \u5e94\u7528\u9632\u706b\u5899\u3001\u5206\u5e03\u5f0f\u7f13\u5b58\u548c\u8d1f\u8f7d\u5747\u8861\u7b49\u7b49\u3002","isLeaf":true},{"key":"/Nginx/20-openrestry.md","path":"/Nginx/20-openrestry.md","route":"/Nginx/20-openrestry.md","leaf":true,"title":"20-openrestry","depth":1,"content":"---\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1. OpenResty \u4ecb\u7ecd\\n\\nOpenResty \u662f\u4e00\u4e2a\u57fa\u4e8e nginx \u670d\u52a1\u5668\u7684 Web \u5e94\u7528\u5f00\u53d1\u6846\u67b6\u3002\u5b83\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684 Lua \u5e93\u548c\u7b2c\u4e09\u65b9\u6a21\u5757\uff0c\u5e76\u901a\u8fc7\u5185\u7f6e\u7684 Lua \u89e3\u91ca\u5668\u5c06 Lua \u8bed\u8a00\u5d4c\u5165 Nginx \u7684\u914d\u7f6e\u6587\u4ef6\u548c\u670d\u52a1\u5668\u4e2d\u3002\\nOpenResty \u5305\u542b\u4e86\u4e00\u7cfb\u5217\u7684\u7ec4\u4ef6\uff0c\u4f8b\u5982\uff1a\\n\\n- Nginx\uff1a\u4e3a HTTP/HTTPS \u670d\u52a1\u5668\u63d0\u4f9b\u5e73\u53f0\u3002\\n- LuaJIT\uff1a \u9ad8\u6027\u80fd Lua VM \u7684\u5feb\u901f JIT \u7f16\u8bd1\u5668\u3002\\n- ngx_lua\uff1a\u5c06 Lua \u811a\u672c\u7f16\u5199\u6210 Nginx \u7684\u6a21\u5757\u3002\\n- ngx_stream_lua\uff1a\u5c06 Lua \u811a\u672c\u7f16\u5199\u6210 Nginx \u7684 TCP \u6216 UDP \u7684\u6a21\u5757\u3002\\n- LuaRocks\uff1a\u5f00\u6e90\u7684 Lua \u5e93\u548c\u5de5\u5177\u7ba1\u7406\u7cfb\u7edf\u3002\\n\\nOpenResty \u901a\u8fc7\u5c06 Lua \u811a\u672c\u7f16\u5199\u6210 Nginx \u6a21\u5757\uff0c\u4f7f\u5f97\u8fd9\u4e9b\u6a21\u5757\u53ef\u4ee5\u901a\u8fc7 Nginx \u7684\u4e8b\u4ef6\u6a21\u578b\u5f02\u6b65\u5904\u7406\u8bf7\u6c42\uff0c\u5e76\u9ad8\u6548\u5730\u6267\u884c\u5404\u79cd\u64cd\u4f5c\uff0c\u5982\uff1a\u6570\u636e\u5904\u7406\u3001\u8bbf\u95ee\u6570\u636e\u5e93\u3001HTTP \u7f13\u5b58\u7b49\u7b49\uff0c\u5e76\u4e14\uff0c\u5728 Lua \u8bed\u8a00\u4e2d\u7f16\u5199\u4e1a\u52a1\u903b\u8f91\u66f4\u52a0\u7b80\u5355\u548c\u7075\u6d3b\u3002\\n\\nOpenResty \u5df2\u7ecf\u5728\u8bb8\u591a\u9ad8\u6027\u80fd Web \u5e94\u7528\u573a\u666f\u5f97\u5230\u5e94\u7528\uff0c\u4f8b\u5982\uff1aAPI Gateway\u3001\u53cd\u5411\u4ee3\u7406\u3001Web \u5e94\u7528\u9632\u706b\u5899\u3001\u5206\u5e03\u5f0f\u7f13\u5b58\u548c\u8d1f\u8f7d\u5747\u8861\u7b49\u7b49\u3002\\n\\n## 2. \u914d\u7f6e \\n\\n![20230609174240](http://s3.airtlab.com/blog/20230609174240.png)\\n\\n**/usr/local/openresty/nginx/nginx.conf.default**\\n```nginx\\n#user  nobody;\\nworker_processes  1;\\n\\n#error_log  logs/error.log;\\n#error_log  logs/error.log  notice;\\n#error_log  logs/error.log  info;\\n\\n#pid        logs/nginx.pid;\\n\\n\\nevents {\\n    worker_connections  1024;\\n}\\n\\n\\nhttp {\\n    include       mime.types;\\n    default_type  application/octet-stream;\\n\\n    #log_format  main  \'$remote_addr - $remote_user [$time_local] \\"$request\\" \'\\n    #                  \'$status $body_bytes_sent \\"$http_referer\\" \'\\n    #                  \'\\"$http_user_agent\\" \\"$http_x_forwarded_for\\"\';\\n\\n    #access_log  logs/access.log  main;\\n\\n    sendfile        on;\\n    #tcp_nopush     on;\\n\\n    #keepalive_timeout  0;\\n    keepalive_timeout  65;\\n\\n    #gzip  on;\\n\\n    server {\\n        listen       80;\\n        server_name  localhost;\\n\\n        #charset koi8-r;\\n\\n        #access_log  logs/host.access.log  main;\\n\\n        location / {\\n            root   html;\\n            index  index.html index.htm;\\n        }\\n\\n        #error_page  404              /404.html;\\n\\n        # redirect server error pages to the static page /50x.html\\n        #\\n        error_page   500 502 503 504  /50x.html;\\n        location = /50x.html {\\n            root   html;\\n        }\\n\\n        # proxy the PHP scripts to Apache listening on 127.0.0.1:80\\n        #\\n        #location ~ \\\\.php$ {\\n        #    proxy_pass   http://127.0.0.1;\\n        #}\\n\\n        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\\n        #\\n        #location ~ \\\\.php$ {\\n        #    root           html;\\n        #    fastcgi_pass   127.0.0.1:9000;\\n        #    fastcgi_index  index.php;\\n        #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\\n        #    include        fastcgi_params;\\n        #}\\n\\n        # deny access to .htaccess files, if Apache\'s document root\\n        # concurs with nginx\'s one\\n        #\\n        #location ~ /\\\\.ht {\\n        #    deny  all;\\n        #}\\n    }\\n\\n\\n    # another virtual host using mix of IP-, name-, and port-based configuration\\n    #\\n    #server {\\n    #    listen       8000;\\n    #    listen       somename:8080;\\n    #    server_name  somename  alias  another.alias;\\n\\n    #    location / {\\n    #        root   html;\\n    #        index  index.html index.htm;\\n    #    }\\n    #}\\n\\n\\n    # HTTPS server\\n    #\\n    #server {\\n    #    listen       443 ssl;\\n    #    server_name  localhost;\\n\\n    #    ssl_certificate      cert.pem;\\n    #    ssl_certificate_key  cert.key;\\n\\n    #    ssl_session_cache    shared:SSL:1m;\\n    #    ssl_session_timeout  5m;\\n\\n    #    ssl_ciphers  HIGH:!aNULL:!MD5;\\n    #    ssl_prefer_server_ciphers  on;\\n\\n    #    location / {\\n    #        root   html;\\n    #        index  index.html index.htm;\\n    #    }\\n    #}\\n\\n}\\n```\\n\\n**/usr/local/openresty/nginx/conf/nginx.conf**\\n\\n```nginx\\n# nginx.conf  --  docker-openresty\\n#\\n# This file is installed to:\\n#   `/usr/local/openresty/nginx/conf/nginx.conf`\\n# and is the file loaded by nginx at startup,\\n# unless the user specifies otherwise.\\n#\\n# It tracks the upstream OpenResty\'s `nginx.conf`, but removes the `server`\\n# section and adds this directive:\\n#     `include /etc/nginx/conf.d/*.conf;`\\n#\\n# The `docker-openresty` file `nginx.vh.default.conf` is copied to\\n# `/etc/nginx/conf.d/default.conf`.  It contains the `server section\\n# of the upstream `nginx.conf`.\\n#\\n# See https://github.com/openresty/docker-openresty/blob/master/README.md#nginx-config-files\\n#\\n\\n#user  nobody;\\n#worker_processes 1;\\n\\n# Enables the use of JIT for regular expressions to speed-up their processing.\\npcre_jit on;\\n\\n\\n\\n#error_log  logs/error.log;\\n#error_log  logs/error.log  notice;\\n#error_log  logs/error.log  info;\\n\\n#pid        logs/nginx.pid;\\n\\n\\nevents {\\n    worker_connections  1024;\\n}\\n\\n\\nhttp {\\n    include       mime.types;\\n    default_type  application/octet-stream;\\n\\n    # Enables or disables the use of underscores in client request header fields.\\n    # When the use of underscores is disabled, request header fields whose names contain underscores are marked as invalid and become subject to the ignore_invalid_headers directive.\\n    # underscores_in_headers off;\\n\\n    #log_format  main  \'$remote_addr - $remote_user [$time_local] \\"$request\\" \'\\n    #                  \'$status $body_bytes_sent \\"$http_referer\\" \'\\n    #                  \'\\"$http_user_agent\\" \\"$http_x_forwarded_for\\"\';\\n\\n    #access_log  logs/access.log  main;\\n\\n        # Log in JSON Format\\n        # log_format nginxlog_json escape=json \'{ \\"timestamp\\": \\"$time_iso8601\\", \'\\n        # \'\\"remote_addr\\": \\"$remote_addr\\", \'\\n        #  \'\\"body_bytes_sent\\": $body_bytes_sent, \'\\n        #  \'\\"request_time\\": $request_time, \'\\n        #  \'\\"response_status\\": $status, \'\\n        #  \'\\"request\\": \\"$request\\", \'\\n        #  \'\\"request_method\\": \\"$request_method\\", \'\\n        #  \'\\"host\\": \\"$host\\",\'\\n        #  \'\\"upstream_addr\\": \\"$upstream_addr\\",\'\\n        #  \'\\"http_x_forwarded_for\\": \\"$http_x_forwarded_for\\",\'\\n        #  \'\\"http_referrer\\": \\"$http_referer\\", \'\\n        #  \'\\"http_user_agent\\": \\"$http_user_agent\\", \'\\n        #  \'\\"http_version\\": \\"$server_protocol\\", \'\\n        #  \'\\"nginx_access\\": true }\';\\n        # access_log /dev/stdout nginxlog_json;\\n\\n    # See Move default writable paths to a dedicated directory (#119)\\n    # https://github.com/openresty/docker-openresty/issues/119\\n    client_body_temp_path /var/run/openresty/nginx-client-body;\\n    proxy_temp_path       /var/run/openresty/nginx-proxy;\\n    fastcgi_temp_path     /var/run/openresty/nginx-fastcgi;\\n    uwsgi_temp_path       /var/run/openresty/nginx-uwsgi;\\n    scgi_temp_path        /var/run/openresty/nginx-scgi;\\n\\n    sendfile        on;\\n    #tcp_nopush     on;\\n\\n    #keepalive_timeout  0;\\n    keepalive_timeout  65;\\n\\n    #gzip  on;\\n\\n    include /etc/nginx/conf.d/*.conf;\\n\\n    # Don\'t reveal OpenResty version to clients.\\n    # server_tokens off;\\n}\\n```\\n\\n```nginx\\n# nginx.vh.default.conf  --  docker-openresty\\n#\\n# This file is installed to:\\n#   `/etc/nginx/conf.d/default.conf`\\n#\\n# It tracks the `server` section of the upstream OpenResty\'s `nginx.conf`.\\n#\\n# This config (and any other configs in `etc/nginx/conf.d/`) is loaded by\\n# default by the `include` directive in `/usr/local/openresty/nginx/conf/nginx.conf`.\\n#\\n# See https://github.com/openresty/docker-openresty/blob/master/README.md#nginx-config-files\\n#\\n\\n\\nserver {\\n    listen       80;\\n    server_name  localhost;\\n\\n    #charset koi8-r;\\n    #access_log  /var/log/nginx/host.access.log  main;\\n\\n    location / {\\n        root   /usr/local/openresty/nginx/html;\\n        index  index.html index.htm;\\n    }\\n\\n    #error_page  404              /404.html;\\n\\n    # redirect server error pages to the static page /50x.html\\n    #\\n    error_page   500 502 503 504  /50x.html;\\n    location = /50x.html {\\n        root   /usr/local/openresty/nginx/html;\\n    }\\n\\n    # proxy the PHP scripts to Apache listening on 127.0.0.1:80\\n    #\\n    #location ~ \\\\.php$ {\\n    #    proxy_pass   http://127.0.0.1;\\n    #}\\n\\n    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\\n    #\\n    #location ~ \\\\.php$ {\\n    #    root           /usr/local/openresty/nginx/html;\\n    #    fastcgi_pass   127.0.0.1:9000;\\n    #    fastcgi_index  index.php;\\n    #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\\n    #    include        fastcgi_params;\\n    #}\\n\\n    # deny access to .htaccess files, if Apache\'s document root\\n    # concurs with nginx\'s one\\n    #\\n    #location ~ /\\\\.ht {\\n    #    deny  all;\\n    #}\\n}\\n```","isLeaf":true}]},{"key":"/NodeJS","path":"/NodeJS","route":"/NodeJS","leaf":false,"title":"NodeJS","depth":0,"content":"","isLeaf":false,"children":[{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6","leaf":false,"title":"01 \u57fa\u7840\u77e5\u8bc6","depth":1,"content":"","isLeaf":false,"children":[{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/01 npm \u7528\u6cd5\u7b14\u8bb0.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/01 npm \u7528\u6cd5\u7b14\u8bb0.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/01 npm \u7528\u6cd5\u7b14\u8bb0.md","leaf":true,"title":"01 npm \u7528\u6cd5\u7b14\u8bb0","depth":2,"content":"## 1\u3001\u8bbe\u7f6e\u955c\u50cf\u5730\u5740\\n\\n\u7528\u6237\u7ea7\u522b `npm` \u914d\u7f6e\u6587\u4ef6\u4e00\u822c\u5728 `~/.npmrc`\uff0c\u53ef\u4ee5\u624b\u52a8\u6253\u5f00\u5e76\u4fee\u6539\uff1a\\n\\n```text\\n;;;;\\n; npm userconfig file: /Users/xxx/.npmrc\\n; this is a simple ini-formatted file\\n; lines that start with semi-colons are comments\\n; run `npm help 7 config` for documentation of the various options\\n;\\n; Configs like `@scope:registry` map a scope to a given registry url.\\n;\\n; Configs like `//<hostname>/:_authToken` are auth that is restricted\\n; to the registry host specified.\\n\\nhome=https://www.npmjs.org\\nregistry=https://npm.shopee.io/ # \u8bbe\u7f6e\u4ed3\u5e93\u5730\u5740\\n```\\n\\n\u6216\u8005\u901a\u8fc7 `npm config` \u547d\u4ee4\u6253\u5f00\u6587\u4ef6:\\n\\n```bash\\nnpm config edit\\n```\\n\\n\u6216\u8005\u76f4\u63a5\u4f7f\u7528 `npm config` \u547d\u4ee4\u8fdb\u884c\u4fee\u6539\uff1a\\n\\n```text\\nUsage:\\nnpm config set <key>=<value> [<key>=<value> ...]\\nnpm config get [<key> [<key> ...]]\\nnpm config delete <key> [<key> ...]\\nnpm config list [--json]\\nnpm config edit\\n```\\n\\n\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u65b0\u5efa `.npmrc` \u6587\u4ef6\u8fdb\u884c\u5c40\u90e8\u8986\u76d6\uff1a\\n\\n```text\\nregistry=https://registry.npmjs.org/\\n```\\n\\n## 2\u3001\u5b89\u88c5\u672c\u5730 npm \u5305\\n\\n```bash\\nnpm install [path]\\n```\\n\\n\u6bd4\u5982\u5b89\u88c5\u4e0b\u9762\u7684 sleep \u5305\uff0c\u53ef\u4ee5\u901a\u8fc7 `npm install ~/Desktop/sleep` \u8fdb\u884c\u5b89\u88c5\uff0c\u5176\u76ee\u5f55\u5730\u5740\u4e3a `~/Desktop/sleep`\u3002\\n\\n![20230404152959](http://s3.airtlab.com/blog/20230404152959.png)\\n\\n```js\\nconst sleep = () => {\\n  console.log(sleep);\\n};\\nmodule.exports = { sleep };\\n```\\n\\n\u5b89\u88c5\u5b8c\u6210\u540e\uff0c`dependencies` \u4e2d\u663e\u793a `sleep` \u662f\u4e00\u4e2a\u672c\u5730\u6587\u4ef6\uff1a\\n\\n```json\\n{\\n  \\"dependencies\\": {\\n    \\"sleep\\": \\"file:../sleep\\"\\n  }\\n}\\n```\\n\\n`package-lock.json` \u4e5f\u4f1a\u6807\u6ce8\u672c\u5730\u4f9d\u8d56\uff1a\\n\\n```json\\n{\\n  \\"packages\\": {\\n    \\"../sleep\\": {\\n      \\"version\\": \\"1.0.0\\",\\n      \\"license\\": \\"ISC\\"\\n    },\\n    \\"node_modules/sleep\\": {\\n      \\"resolved\\": \\"../sleep\\",\\n      \\"link\\": true\\n    }\\n  }\\n}\\n```\\n\\n## 3\u3001\u67e5\u770b npm \u5168\u5c40\u5305\\n\\n\u6267\u884c `npm -h` \u63d0\u793a\uff1a\\n\\n```shell\\nroot@host ~ %\\nroot@host ~ %\\nroot@host ~ %\\nroot@host ~ %\\nroot@host ~ %\\nroot@host ~ % npm -h\\nnpm <command>\\n\\nUsage:\\n\\nnpm install        install all the dependencies in your project\\nnpm install <foo>  add the <foo> dependency to your project\\nnpm test           run this project\'s tests\\nnpm run <foo>      run the script named <foo>\\nnpm <command> -h   quick help on <command>\\nnpm -l             display usage info for all commands\\nnpm help <term>    search for help on <term>\\nnpm help npm       more involved overview\\n\\nAll commands:\\n\\n    access, adduser, audit, bin, bugs, cache, ci, completion,\\n    config, dedupe, deprecate, diff, dist-tag, docs, doctor,\\n    edit, exec, explain, explore, find-dupes, fund, get, help,\\n    hook, init, install, install-ci-test, install-test, link,\\n    ll, login, logout, ls, org, outdated, owner, pack, ping,\\n    pkg, prefix, profile, prune, publish, query, rebuild, repo,\\n    restart, root, run-script, search, set, set-script,\\n    shrinkwrap, star, stars, start, stop, team, test, token,\\n    uninstall, unpublish, unstar, update, version, view, whoami\\n\\nSpecify configs in the ini-formatted file:\\n    /Users/xiong.gao/.npmrc\\nor on the command line via: npm <command> --key=value\\n\\nMore configuration info: npm help config\\nConfiguration fields: npm help 7 config\\n\\nnpm@8.19.3 /usr/local/lib/node_modules/npm\\n```\\n\\n\u5176\u4e2d\u6700\u5e95\u90e8 `/usr/local/lib/node_modules` \u5c31\u662f\u5168\u5c40\u5305\u7684\u5b89\u88c5\u8def\u5f84\\n\\n## 4\u3001npm link \u7528\u6cd5\\n\\n`npm link` \u5728\u5f00\u53d1 npm \u5305\u8fdb\u884c\u672c\u5730\u8c03\u8bd5\u7684\u65f6\u5019\u4f1a\u5f88\u6709\u7528\uff0c\u5047\u8bbe\u73b0\u5728\u6709\u4e24\u4e2a\u9879\u76ee\uff0cmain \u4e3a\u4e3b\u9879\u76ee\uff0csleep \u4e3a npm \u5305\u9879\u76ee\u3002\\n\\n- \u5728 sleep \u76ee\u5f55\u4e0b\u6267\u884c `npm link`\uff0c\u6b64\u64cd\u4f5c\u4f1a\u5728\u5168\u5c40\u5305\u4e2d\u521b\u5efa\u4e00\u4e2a\u8f6f\u8fde\u63a5\u6307\u5411\u771f\u5b9e\u76ee\u5f55\\n- \u5728 main \u76ee\u5f55\u4e0b\u6267\u884c `npm link sleep`\uff0c\u521b\u5efa\u8f6f\u8fde\u63a5\u5230 node_modules\\n\\n![20230404154920](http://s3.airtlab.com/blog/20230404154920.png)\\n\\n## 5\u3001npx \u7528\u6cd5\\n\\nnpx \u60f3\u8981\u89e3\u51b3\u7684\u4e3b\u8981\u95ee\u9898\uff0c\u5c31\u662f\u8c03\u7528\u9879\u76ee\u5185\u90e8\u5b89\u88c5\u7684\u6a21\u5757\u3002\u6bd4\u5982\uff0c\u9879\u76ee\u5185\u90e8\u5b89\u88c5\u4e86 xxx\uff0c\u5982\u679c\u60f3\u5728\u547d\u4ee4\u884c\u4e0b\u8c03\u7528\uff0c\u5fc5\u987b\u50cf\u4e0b\u9762\u8fd9\u6837\uff1a\\n\\n```shell\\n# \u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u6267\u884c\\n$ node-modules/.bin/xxx --version\\n```\\n\\n\u4f7f\u7528 npx \u53ea\u8981\u50cf\u4e0b\u9762\u8fd9\u6837\u8c03\u7528\u5c31\u884c\u4e86\\n\\n```shell\\nnpx xxx --version\\n```\\n\\n## 6\u3001npm ci \u548c npm install \u533a\u522b\\n\\n- \u5fc5\u987b\u5df2\u7ecf\u5b58\u5728 package-lock.json \u6216 npm-shrinkwrap.json\uff0c\u5426\u5219\u65e0\u6cd5\u4f7f\u7528 npm ci\\n- \u5982\u679c package-lock.json \u4e2d\u7684\u4f9d\u8d56\u9879\u4e0e package.json \u4e2d\u7684\u4f9d\u8d56\u9879\u4e0d\u5339\u914d\uff0c\u5219 npm ci \u5c06\u9000\u51fa\u5e76\u663e\u793a\u9519\u8bef\uff0c\u800c\u4e0d\u662f\u66f4\u65b0 package-lock.json\\n- npm ci \u4e00\u6b21\u53ea\u80fd\u5b89\u88c5\u6574\u4e2a\u9879\u76ee\uff0c\u65e0\u6cd5\u6dfb\u52a0\u5355\u4e2a\u4f9d\u8d56\u9879\\n- npm ci \u5f00\u59cb\u5b89\u88c5\u4e4b\u524d\u81ea\u52a8\u5220\u9664 node_modules \u6587\u4ef6\u5939\\n- npm ci \u4e0d\u4f1a\u66f4\u6539 package.json \u548c package-lock.json\\n\\n## 7\u3001npm prune \u7684\u4f5c\u7528\\n\\n\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u80fd\u4f7f\u7528\u4e86\u67d0\u4e9b\u6a21\u5757\uff0c\u800c\u540e\u6765\u7684\u67d0\u4e2a\u73af\u8282\u53ef\u80fd\u53c8\u4e0d\u518d\u4f7f\u7528\u3002\u4f46\u662f npm install \u4e00\u6b21\uff0c\u90fd\u4f1a\u5728 node_modules \u4e2d\u5b58\u7559\u6587\u4ef6\uff0cnode_modules \u76ee\u5f55\u5c31\u4f1a\u53d8\u7684\u81c3\u80bf\u8d77\u6765\uff0cnpm prune \u6b64\u547d\u4ee4\u7684\u529f\u80fd\u662f\u6839\u636e package.json \u91cc\u7684\u4f9d\u8d56\u9879\uff0c\u5220\u9664\u4e0d\u9700\u8981\u7684\u6a21\u5757\u6587\u4ef6\u3002\u5982\u679c --production \u6307\u5b9a\u4e86\u6807\u5fd7\u6216\u5c06 NODE_ENV \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u4e3a production\uff0c\u5219\u6b64\u547d\u4ee4\u5c06\u5220\u9664\u60a8\u7684\u5305\u4e2d\u6307\u5b9a\u7684\u8f6f\u4ef6\u5305 devDependencies\\n\\n```shell\\nnpm prune --production\\n```\\n\\n## 8\u3001peerDependencies \u4f5c\u7528\\n\\n\u5f53\u4e00\u4e2a\u5305\u88ab\u4f9d\u8d56\u65f6\uff0c\u5982\u679c\u5b83\u5728\u5176peer dependency\u4e2d\u58f0\u660e\u4e86\u53e6\u4e00\u4e2a\u4f9d\u8d56\u5305\uff0c\u90a3\u4e48\u8fd9\u4e2a\u4f9d\u8d56\u5305\u7684\u7248\u672c\u548c\u5b89\u88c5\u65b9\u5f0f\u5c06\u88ab\u5ffd\u7565\uff0c\u800c\u662f\u4f7f\u7528\u5f53\u524d\u9879\u76ee\u4e2d\u6216\u7236\u7ea7\u5305\u4e2d\u5df2\u7ecf\u5b89\u88c5\u7684\u76f8\u540c\u7248\u672c\u7684\u4f9d\u8d56\u5305\u3002\\n\\n\u9ed8\u8ba4\u5728\u5b89\u88c5\u4f9d\u8d56\u65f6 peerDependency \u7248\u672c\u4e0d\u4e00\u81f4\u4f1a\u62a5\u9519\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u5ffd\u7565\u3002\\n\\n## 9\u3001npm devDependencies\\n\\n\u6211\u7684\u9879\u76ee\u4f9d\u8d56\u4e86 npm \u5305 b\uff0c \u5f53\u6267\u884c npm install b \u65f6\uff0cb \u91cc\u9762\u7684 devDependencies \u4f1a\u88ab\u81ea\u52a8\u5b89\u88c5\u5417\uff1f\\n\\n\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5f53\u60a8\u8fd0\u884c `npm install b` \u65f6\uff0cnpm \u5c06\u4ec5\u5b89\u88c5\u4f9d\u8d56\u9879\u5217\u8868\u4e2d\u5217\u51fa\u7684\u751f\u4ea7\u73af\u5883\u4f9d\u8d56\u9879\uff0c\u800c\u4e0d\u4f1a\u81ea\u52a8\u5b89\u88c5 `b` \u5305\u4e2d `devDependencies` \u4e2d\u5217\u51fa\u7684\u5f00\u53d1\u73af\u5883\u4f9d\u8d56\u9879\u3002\\n\u5982\u679c\u4f60\u9700\u8981\u540c\u65f6\u5b89\u88c5\u5f00\u53d1\u73af\u5883\u4f9d\u8d56\u9879\uff0c\u4f60\u9700\u8981\u5728\u5b89\u88c5\u65f6\u52a0\u4e0a `--dev` \u6216 `-D` \u53c2\u6570\u6765\u5b89\u88c5\u6240\u6709\u751f\u4ea7\u548c\u5f00\u53d1\u73af\u5883\u4f9d\u8d56\u9879\u3002\\n\\n\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u6765\u540c\u65f6\u5b89\u88c5\u751f\u4ea7\u548c\u5f00\u53d1\u73af\u5883\u4f9d\u8d56\u9879\uff1a\\n\\n```\\nnpm install b --save-dev\\n```\\n\\n\u6216\u8005\u4e5f\u53ef\u4ee5\u7b80\u5199\u4e3a\uff1a\\n\\n```\\nnpm install b -D\\n```\\n\\n\u8fd9\u5c06\u5b89\u88c5 `b` \u4f9d\u8d56\u9879\u548c `b` \u7684\u6240\u6709 `devDependencies` \u4f9d\u8d56\u9879\u3002\\n","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/02 nodejs \u7248\u672c\u7ba1\u7406.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/02 nodejs \u7248\u672c\u7ba1\u7406.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/02 nodejs \u7248\u672c\u7ba1\u7406.md","leaf":true,"title":"02 nodejs \u7248\u672c\u7ba1\u7406","depth":2,"content":"\u63a8\u8350\u5728 windows \u4e0a\u4f7f\u7528 nvm\uff0c\u5728 mac \u4e0a\u5219\u4f7f\u7528 n\u3002\\n\u4e8c\u8005\u4e3b\u8981\u533a\u522b\u5982\u4e0b\uff1a\\n- n \u4f1a\u5c06 nodejs \u5b89\u88c5\u4e3a\u5168\u5c40\u7248\u672c\uff0c\u56e0\u6b64\u6709\u53ef\u80fd\u5728\u5207\u6362 node \u7248\u672c\u540e\uff0c\u53d1\u751f\u5168\u5c40\u6a21\u5757\u6267\u884c\u51fa\u9519\u7684\u95ee\u9898\uff1b\\n- nvm \u5219\u4f1a\u5c06\u5168\u5c40\u6a21\u5757\u5b58\u5728\u4e8e\u5404\u81ea\u7248\u672c\u7684\u6c99\u7bb1\u4e2d\uff0c\u5207\u6362\u7248\u672c\u540e\u9700\u8981\u91cd\u65b0\u5b89\u88c5\uff0c\u4e0d\u540c\u7248\u672c\u95f4\u4e5f\u4e0d\u5b58\u5728\u4efb\u4f55\u51b2\u7a81\uff1b\\n\\n\u5bf9\u4e8e `node` \u53ef\u6267\u884c\u6587\u4ef6\u7684\u4f4d\u7f6e:\\n- n \u5b58\u653e\u5230 `/usr/local/bin`\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u5c31\u80fd\u8bbf\u95ee\\n- nvm \u5219\u9700\u8981\u624b\u52a8\u6307\u5b9a\u8def\u5f84\u3002\\n\\n## 1. nvm\\nnvm \u5168\u540d Node.js Version Management\uff0c\u5728 macOS\u3001Linux\uff08\u5305\u62ec\u9002\u7528\u4e8e Linux \u7684 Windows \u5b50\u7cfb\u7edf\uff09\u548c\u5404\u79cd\u5176\u4ed6\u7c7b Unix \u7cfb\u7edf\u4e0a\u5747\u53d7\u652f\u6301\u3002\\n\u7531\u4e8e Windows \u652f\u6301\u7a0b\u5ea6\u4e0d\u4f73\uff0c\u793e\u533a\u5b75\u5316\u4e86 nvm-windows \u4f9b Windows \u4f7f\u7528\uff0c\u5b83\u4eec\u96b6\u5c5e\u4e8e\u4e0d\u540c\u7684\u9879\u76ee\uff0c\u76f8\u4e92\u5206\u5f00\u7684\u652f\u6301\u548c\u7ef4\u62a4\u3002\\n\\n- Linux\u3001Mac OS\uff1ahttps://github.com/nvm-sh/nvm\\n- Windows\uff1ahttps://github.com/coreybutler/nvm-windows\\n\\n### 1.1 \u5b89\u88c5\\n#### Mac\\n```shell\\n# \u65b9\u5f0f1 \u6d4f\u89c8\u5668\u6253\u5f00\u4e0b\u9762\u94fe\u63a5\u4e0b\u8f7d\\nhttps://github.com/nvm-sh/nvm/blob/v0.39.1/install.sh\\n# \u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u901a\u8fc7\u547d\u4ee4\u5b89\u88c5\\nsh install.sh\\n\\n# \u65b9\u5f0f2 \u63a8\u8350\\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash\\n\\n# \u65b9\u5f0f3\\nwget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash\\n```\\n\\n#### windows\\n\u53c2\u8003 https://www.freecodecamp.org/chinese/news/node-version-manager-nvm-install-guide/\\n\\n\u6ce8\u610f\uff0c\u5982\u679c\u5728\u5b89\u88c5 nvm \u4e4b\u524d\u5df2\u7ecf\u88c5\u4e86 nodejs\uff0c\u5efa\u8bae\u5148\u5378\u8f7d\u6389\u3002\\n\\n**nvm-setup \u5b89\u88c5**\\n\u8bf7\u8bb0\u4f4f\u5b89\u88c5\u4f4d\u7f6e\uff0c\u540e\u7eed\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u65f6\u65b9\u4fbf\u68c0\u67e5\\n![vnm\u5b89\u88c5\u8def\u5f84](http://s3.airtlab.com/blog/20230224224924.png)\\n\\n![\u94fe\u63a5\u8def\u5f84](http://s3.airtlab.com/blog/20230224224943.png)\\n\\n**\u67e5\u770b\u5b89\u88c5\u8def\u5f84**\\nC:\\\\Users\\\\Administrator\\\\AppData\\\\Roaming\\\\nvm\\n![20230224225211](http://s3.airtlab.com/blog/20230224225211.png)\\n\\n**\u4fee\u6539 setting \u914d\u7f6e\u955c\u50cf**\\n![20230224225244](http://s3.airtlab.com/blog/20230224225244.png)\\n\\n### 1.2 \u4f7f\u7528\\n```shell\\nnvm ls                # \u67e5\u770b\u7248\u672c\u5b89\u88c5\u6240\u6709\u7248\u672c\\nnvm ls-remote         # \u67e5\u770b\u8fdc\u7a0b\u6240\u6709\u7684 Node.js \u7248\u672c\\nnvm install 17.0.0    # \u5b89\u88c5\u6307\u5b9a\u7684 Node.js \u7248\u672c\\nnvm use 17.0.0        # \u4f7f\u7528\u6307\u5b9a\u7684 Node.js \u7248\u672c\\nnvm alias default 17.0.0  # \u8bbe\u7f6e\u9ed8\u8ba4 Node.js \u7248\u672c\\nnvm alias dev 17.0.0  # \u8bbe\u7f6e\u6307\u5b9a\u7248\u672c\u7684\u522b\u540d\uff0c\u5982\u5c06 17.0.0 \u7248\u672c\u522b\u540d\u8bbe\u7f6e\u4e3a dev\\n```\\n\\n## 2. n\\nn \u662f\u4e00\u6b3e\u4ea4\u4e92\u5f0f\u7684 Node.js \u7248\u672c\u7ba1\u7406\u5de5\u5177\uff0c\u6ca1\u6709\u5b50\u811a\u672c\uff0c\u6ca1\u6709\u914d\u7f6e\u6587\u4ef6\uff0c\u4e5f\u6ca1\u6709\u590d\u6742\u7684 API\uff0c\u4f7f\u7528\u8d77\u6765\u975e\u5e38\u7b80\u5355\u3002\\nn \u53ea\u9002\u7528\u4e8e macOS \u548c Linux \uff0c\u4e0d\u9002\u7528\u4e8e Windows\u3002\\n### 2.1 \u5b89\u88c5\\n\\n```shell\\nnpm install n -g\\n```\\n\\n### 2.2 \u4f7f\u7528\\n```shell\\nn          # \u663e\u793a\u6240\u6709\u5df2\u4e0b\u8f7d\u7248\u672c\\nn 10.16.0  # \u4e0b\u8f7d\u6307\u5b9a\u7248\u672c\\nn lts      # \u67e5\u770b\u8fdc\u7a0b\u6240\u6709 LTS Node.js \u7248\u672c\\nn run 10.16.0 # \u8fd0\u884c\u6307\u5b9a\u7684 Node.js \u7248\u672c\\n```","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/03 nodejs \u4ee3\u7801\u8c03\u8bd5.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/03 nodejs \u4ee3\u7801\u8c03\u8bd5.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/03 nodejs \u4ee3\u7801\u8c03\u8bd5.md","leaf":true,"title":"03 nodejs \u4ee3\u7801\u8c03\u8bd5","depth":2,"content":"\u76ee\u6807\uff1a\u638c\u63e1\u7a0b\u5e8f\u7684\u8c03\u8bd5\u6280\u5de7\\n\\n## 1\u3001\u5f00\u542f\u8c03\u8bd5\u6a21\u5f0f\\n\\n\u5728\u8c03\u8bd5\u4e4b\u524d\u6211\u4eec\u5148\u521d\u59cb\u5316\u4e00\u4e2a\u5de5\u7a0b\uff1a\\n```shell\\n$ npm init -y\\n$ npm install --save koa koa-route\\n```\\n\\n```js\\n// app.js\\nconst Koa = require(\'koa\');\\nconst router = require(\'koa-route\');\\n\\nconst app = new Koa();\\n\\nconst main = ctx => {\\n  debugger\\n  ctx.response.body = \'Hello World\';\\n};\\n\\nconst welcome = (ctx, name) => {\\n  ctx.response.body = \'Hello \' + name;\\n};\\n\\napp.use(router.get(\'/\', main));\\napp.use(router.get(\'/:name\', welcome));\\n\\napp.listen(3000);\\nconsole.log(\'listening on port 3000\');\\n```\\n\\n### 1) 9229\\n\\n\u7aef\u53e3 9229 \u662f\u9ed8\u8ba4\u7684 NodeJS \u8c03\u8bd5\u7aef\u53e3\u3002\u5b83\u5141\u8bb8\u60a8\u5c06\u8bf8\u5982Chrome \u7684 Inspector\u6216 WebStorm \u7684\u8fdc\u7a0b\u8c03\u8bd5\u4e4b\u7c7b\u7684\u8c03\u8bd5\u5de5\u5177\u9644\u52a0\u5230\u4f7f\u7528\u7279\u6b8a\u6807\u5fd7\u8fd0\u884c\u7684 Node \u8fdb\u7a0b\\n\\n### 2) --inspect\\n\\n\u5728\u8fd0\u884c nodejs \u7a0b\u5e8f\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 `--inspect` \u5f00\u59cb\u8c03\u8bd5\u6a21\u5f0f\uff1a\\n```shell\\nnode --inspect app.js\\n```\\n\\n\u7136\u540e\u5c31\u53ef\u4ee5\u901a\u8fc7 `\u6d4f\u89c8\u5668` \u548c `vscode` \u4ee5\u53ca `webstorm` \u7b49UI\u754c\u9762\u8c03\u8bd5\u4e86\u3002 \\n\\n\u542f\u52a8\u540e\u63d0\u793a\uff1a\\n```shell\\n# \u8fd9\u91cc\u63d0\u793a\u8c03\u8bd5\u901a\u9053\u7684\u5730\u5740\u4e3a ws://127.0.0.1:9229/91a04b5e-67bd-4b1a-93c5-9260a75403d2\\nDebugger listening on ws://127.0.0.1:9229/91a04b5e-67bd-4b1a-93c5-9260a75403d2\\nFor help, see: https://nodejs.org/en/docs/inspector\\nlistening on port 3000\\n```\\n\\n### 3) inspect-brk\\n\\n`--inspect-brk` \u6307\u5b9a\u5728\u7b2c\u4e00\u884c\u5c31\u8bbe\u7f6e\u65ad\u70b9\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u5f00\u59cb\u8fd0\u884c\uff0c\u5c31\u662f\u6682\u505c\u7684\u72b6\u6001\u3002\u8fd9\u5bf9\u5728 chrome \u4e2d\u8c03\u8bd5\u975e\u670d\u52a1\u811a\u672c\u4f1a\u975e\u5e38\u6709\u7528\u3002\u5426\u5219\u5728\u4f60\u8bbe\u7f6e\u65ad\u70b9\u4e4b\u524d\u7a0b\u5e8f\u5c31\u7ed3\u675f\u4e86\u3002\\n\\n## 2\u3001\u4f7f\u7528\u6d4f\u89c8\u5668\u8c03\u8bd5\\n\\n\u4e00\u5171\u6709\u4e24\u79cd\u6253\u5f00\u8c03\u8bd5\u5de5\u5177\u7684\u65b9\u6cd5\uff0c\u7b2c\u4e00\u79cd\u662f\u5728 Chrome \u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\uff0c\u952e\u5165 `chrome://inspect` \u6216\u8005 `about:inspect`\uff0c\u56de\u8f66\u540e\u5c31\u53ef\u4ee5\u770b\u5230\u4e0b\u9762\u7684\u754c\u9762\uff1a\\n\\n![20230225085601](http://s3.airtlab.com/blog/20230225085601.png)\\n\\n\u70b9\u51fb inspect \u94fe\u63a5\uff0c\u5c31\u80fd\u8fdb\u5165\u8c03\u8bd5\u5de5\u5177\u4e86\u3002\\n\\n\u7b2c\u4e8c\u79cd\u65b9\u6cd5\uff0c\u662f\u5728 http://127.0.0.1:3000 \u7684\u7a97\u53e3\u6253\u5f00\\"\u5f00\u53d1\u8005\u5de5\u5177\\"\uff0c\u9876\u90e8\u5de6\u4e0a\u89d2\u6709\u4e00\u4e2a Node \u7684\u7eff\u8272\u6807\u5fd7\uff0c\u70b9\u51fb\u5c31\u53ef\u4ee5\u8fdb\u5165\u3002\\n\\n![20230225085741](http://s3.airtlab.com/blog/20230225085741.png)\\n\\n\u70b9\u51fb\u540e\u8fdb\u5165\uff1a\\n![20230225085820](http://s3.airtlab.com/blog/20230225085820.png)\\n\\n\u5f53\u6211\u4eec\u8bbf\u95ee `http://localhost:3000`\uff0c\u5c31\u4f1a\u8fdb\u5165\u6682\u505c\u5728\u65ad\u70b9\u5904\uff1a\\n![20230225090028](http://s3.airtlab.com/blog/20230225090028.png)\\n\\n### 1) url \u8c03\u8bd5\u5730\u5740\\n\\n\u5047\u82e5 ws \u5730\u5740\u4e3a\uff1aws://127.0.0.1:9229/8e951b59-b730-41dc-a4c0-15da52b71fd3\uff0c\u6709\u4e24\u4e2a\u5f88\u91cd\u8981\u7684\u9875\u9762\u5730\u5740\uff1a\\n\\n- **js_app.html**: `devtools://devtools/bundled/js_app.html?experiments=true&v8only=true&ws=127.0.0.1:9229/8e951b59-b730-41dc-a4c0-15da52b71fd3`\\n\\n- **inspector.html**: `devtools://devtools/bundled/inspector.html?experiments=true&v8only=true&ws=127.0.0.1:9229/8e951b59-b730-41dc-a4c0-15da52b71fd3` \u8bbf\u95ee\u8be5 url \u5373\u53ef\u8fdb\u5165\u8c03\u8bd5\u9875\u9762\\n\\n## 3\u3001\u4f7f\u7528 vscode \u8c03\u8bd5\\n\\n\u521b\u5efa `launch.json ` \u6587\u4ef6, \u683c\u5f0f\u5982\u4e0b\uff1a\\n\\n```json\\n{\\n  \\"version\\": \\"0.2.0\\",\\n  \\"configurations\\": [\\n    // \u914d\u7f6e1\\n    {},\\n    // \u914d\u7f6e2\\n    {}\\n  ]\\n}\\n```\\n\\n### 1) \u8c03\u8bd5 Node.js \u7a0b\u5e8f\\n```json\\n{\\n  \\"version\\": \\"0.2.0\\",\\n  \\"configurations\\": [\\n    {\\n      \\"type\\": \\"pwa-node\\",\\n      \\"request\\": \\"launch\\",\\n      \\"name\\": \\"Launch Javascript Program\\",\\n      \\"skipFiles\\": [\\"<node_internals>/**\\"],\\n      \\"program\\": \\"${workspaceFolder}/node_modules/@vue/cli-service/lib/Service.js\\"\\n    }\\n  ]\\n}\\n```\\n\\n- type: \u5fc5\u586b\u9879\uff0c\u8c03\u8bd5\u7c7b\u578b\uff0c\u5f53\u524d\u4e3a node\uff0c\u5982\u679c\u662f PHP \u8c03\u8bd5\uff0c\u5219\u5728\u5b89\u88c5 PHP \u8c03\u8bd5\u63d2\u4ef6\u540e\u5199 php\uff1b\\n- request: \u5fc5\u586b\u9879\uff0c\u6709\u4e24\u79cd\u7c7b\u578b\uff0c\u5206\u522b\u662f launch \u548c attach\uff0c\u524d\u8005\u7684\u610f\u601d\u5c31\u662f VSCode \u4f1a\u6253\u5f00\u8fd9\u4e2a\u7a0b\u5e8f\u7136\u540e\u8fdb\u5165\u8c03\u8bd5\uff0c\u540e\u8005\u7684\u610f\u601d\u662f\u4f60\u5df2\u7ecf\u6253\u5f00\u4e86\u7a0b\u5e8f\uff0c\u7136\u540e\u63a5\u901a Node.js \u7684\u5185\u90e8\u8c03\u8bd5\u534f\u8bae\u8fdb\u884c\u8c03\u8bd5\uff0c\u5982\u679c\u4f60\u770b\u8fc7\u201cNode.js \u7684\u8c03\u8bd5\u539f\u7406\u201d\u4e00\u6587\uff0c\u5e94\u8be5\u53ef\u4ee5\u5927\u81f4\u7406\u89e3\uff1b\\n- program: \u7a0b\u5e8f\u7684\u542f\u52a8\u5165\u53e3\uff1b\\n\\n\u8fd8\u53ef\u4ee5\u4f7f\u7528\u53e6\u5916\u7684\u914d\u7f6e\u65b9\u5f0f\uff0c\u6253\u5f00 launch.json \u627e\u5230 name \u4e3a \u8c03\u8bd5 Node.js \u7a0b\u5e8f - args \u7684\u6587\u4ef6\uff1a\\n```json\\n{\\n  \\"name\\": \\"\u8c03\u8bd5 Node.js \u7a0b\u5e8f - args\\",\\n  \\"type\\": \\"node\\",\\n  \\"request\\": \\"launch\\",\\n  \\"runtimeExecutable\\": \\"node\\",\\n  \\"args\\": [\\n    \\"${workspaceFolder}/src/index.js\\"\\n  ]\\n}\\n```\\n\\n\u8fd9\u91cc\u5e76\u6ca1\u6709\u91c7\u7528 program \u6765\u63cf\u8ff0\u7a0b\u5e8f\u5165\u53e3\uff0c\u800c\u662f\u901a\u8fc7 runtimeExecutable \u548c args \u7ec4\u5408\u7684\u65b9\u5f0f\u6765\u542f\u52a8\u7a0b\u5e8f:\\n\\n- runtimeExecutable: \u4f7f\u7528\u4ec0\u4e48\u547d\u4ee4\u542f\u52a8\\n- args: \u542f\u52a8\u65f6\u7684\u53c2\u6570\\n\\n\u76f8\u5f53\u4e8e\uff1a\\n```shell\\nnode ${workspaceFolder}/src/index.js\\n```\\n\\n### 2) \u901a\u8fc7npm\u811a\u672c\u542f\u52a8\\n\\n```json\\n{\\n  \\"version\\": \\"0.2.0\\",\\n  \\"configurations\\": [\\n    {\\n      \\"type\\": \\"pwa-node\\",\\n      \\"request\\": \\"launch\\",\\n      \\"name\\": \\"Npm Command\\",\\n      \\"skipFiles\\": [\\"<node_internals>/**\\"],\\n      \\"runtimeExecutable\\": \\"npm\\",\\n      \\"runtimeArgs\\": [\\"run-script\\", \\"build\\"]\\n    }\\n  ]\\n}\\n```\\n\\nruntimeArgs \u662f\u4e3a runtimeExecutable \u73af\u5883\u63d0\u4f9b\u7684\u914d\u7f6e\uff0c\u800c args \u662f\u4e3a\u7a0b\u5e8f\u63d0\u4f9b\u7684\u914d\u7f6e\u3002\u8fd9\u4e2a JSON \u7684\u610f\u601d\u662f\uff1a\\n```shell\\nnpm run build\\n```\\n\\n### 3) \u8c03\u8bd5\u4e00\u4e2a TS Node \u7a0b\u5e8f\\n\\n```json\\n{\\n  \\"version\\": \\"0.2.0\\",\\n  \\"configurations\\": [\\n    {\\n      \\"type\\": \\"node\\",\\n      \\"request\\": \\"launch\\",\\n      \\"name\\": \\"Launch Typescript Program\\",\\n      \\"runtimeArgs\\": [\\"-r\\", \\"ts-node/register\\"],\\n      \\"args\\": [\\"${workspaceFolder}/main.ts\\"]\\n    }\\n  ]\\n}\\n```\\n\\n\u7b49\u540c\u4e8e:\\n```shell\\nnode --inspect-brk=DEBUG_PORT -r ts-node/register $workspaceFolder/main.ts\\n```\\n\\n### 4) \u8c03\u8bd5\u5df2\u542f\u52a8\u7684\u7a0b\u5e8f\\n\\n```json\\n{\\n  \\"type\\": \\"pwa-node\\",\\n  \\"request\\": \\"attach\\",\\n  \\"name\\": \\"Attach\\",\\n  \\"port\\": 9229\\n}\\n```\\n\u4e0a\u9762\u5199\u6b7b\u4e86 9229\uff0c\u4f60\u53ef\u4ee5\u6362\u79cd\u5199\u6cd5\uff1a\\n\\n```json\\n{\\n  \\"type\\": \\"pwa-node\\",\\n  \\"request\\": \\"attach\\",\\n  \\"name\\": \\"Attach\\",\\n  \\"processId\\": \\"${command:PickProcess}\\"\\n}\\n```\\n\\n`${command:PickProcess}` \u4f5c\u4e3a processId \u7684\u503c\uff0cVSCode \u4f1a\u904d\u5386\u6240\u6709\u7684 Node PID \u5217\u51fa\u6765\u8ba9\u4f60\u9009\u62e9\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a\\n![20230225094847](http://s3.airtlab.com/blog/20230225094847.png)\\n\\n\\n### 5) \u8c03\u8bd5\u7f51\u9875\u7684 JS \u4ee3\u7801\\n\u5927\u5bb6\u5e94\u8be5\u5341\u5206\u719f\u6089\u5728 Chrome \u4e2d\u8c03\u8bd5 JS \u4ee3\u7801\uff0c\u4e0d\u8fc7 VSCode \u5141\u8bb8\u4f60\u5728\u5b89\u88c5\u4e86 Debugger for Chrome \u63d2\u4ef6\u540e\uff0c\u76f4\u63a5\u5728 VSCode \u8c03\u8bd5 JS \u4ee3\u7801\uff0c\u8ba9\u4f60\u7684\u4ee3\u7801\u548c\u8c03\u8bd5\u878d\u4e3a\u4e00\u4f53\uff0c\u63d0\u5347\u5f00\u53d1\u4f53\u9a8c\uff1a\\n\\n![20230225095030](http://s3.airtlab.com/blog/20230225095030.png)\\n\\n\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u7b80\u5355\u7684\u914d\u7f6e\u8fdb\u884c\u8c03\u8bd5\uff1a\\n```json\\n{\\n  \\"name\\": \\"\u8c03\u8bd5\u7f51\u9875\u7684 JS \u6587\u4ef6\\",\\n  \\"request\\": \\"launch\\",\\n  \\"type\\": \\"chrome\\",\\n  \\"file\\": \\"${workspaceFolder}/index.html\\"\\n}\\n```\\n\\n\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684 type \u662f chrome\uff0c\u9ed8\u8ba4\u4f1a\u542f\u52a8\u4e00\u4e2a Chrome \u6d4f\u89c8\u5668\uff08\u65b0\u7528\u6237\uff09\u52a0\u8f7d file \u5b57\u6bb5\u5bf9\u5e94\u7684\u6587\u4ef6\u5730\u5740\uff08\u901a\u8fc7 file:// \u534f\u8bae\u52a0\u8f7d\uff09\uff0c\u6587\u4ef6\u4e2d\u7528\u5230\u7684 JS \u90fd\u53ef\u4ee5\u65ad\u70b9\u8c03\u8bd5\u3002\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u8d77\u4e00\u4e2a Web Server \u6765\u8c03\u8bd5 http:// \u534f\u8bae\u7684\u6587\u4ef6\uff0c\u8fd9\u91cc\u5c31\u9700\u8981\u8bbe\u7f6e webRoot \u548c url \u53c2\u6570\u4e86\uff0c\u53ef\u81ea\u884c Google\u3002\\n\\n\\n## 3\u3001\u53c2\u8003\u6587\u6863\\n- [nodejs debugger](https://code.visualstudio.com/docs/nodejs/nodejs-debugging)\\n- [VSCode \u8c03\u8bd5\u4e2d launch.json \u914d\u7f6e\u4e0d\u5b8c\u5168\u6307\u5357](https://www.barretlee.com/blog/2019/03/18/debugging-in-vscode-tutorial/)\\n- [Node \u8c03\u8bd5\u5de5\u5177\u5165\u95e8\u6559\u7a0b](https://www.ruanyifeng.com/blog/2018/03/node-debugger.html)\\n- [\u8ba9\u4f60 nodejs \u6c34\u5e73\u66b4\u589e\u7684 debugger \u6280\u5de7](https://zhuanlan.zhihu.com/p/387270007?utm_source=wechat_session&utm_medium=social&utm_oi=635912988696121344)\\n- [\u5982\u4f55\u5728vscode\u91cc\u9762\u8c03\u8bd5js\u548cnode.js](https://www.cnblogs.com/both-eyes/p/10152142.html)\\n","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/04 nodejs \u8c03\u8bd5\u539f\u7406.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/04 nodejs \u8c03\u8bd5\u539f\u7406.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/04 nodejs \u8c03\u8bd5\u539f\u7406.md","leaf":true,"title":"04 nodejs \u8c03\u8bd5\u539f\u7406","depth":2,"content":"> \u539f\u6587 \u795e\u5149\u300aJavaScript Debugger \u539f\u7406\u63ed\u79d8\u300b https://zhuanlan.zhihu.com/p/372135871\\n\\n> \u8fd9\u7bc7\u6587\u7ae0\u9996\u5148\u5bf9\u6211\u662f\u6709\u5e2e\u52a9\u7684\uff0c\u4e86\u89e3\u4e00\u4e9b\u6982\u5ff5\uff0c\u4f46\u662f\u4f5c\u8005\u5728\u4ecb\u7ecd \u201c\u89e3\u91ca\u578b\u8bed\u8a00\u7684 debugger\u201d \u539f\u7406\u65f6\u660e\u663e\u662f\u6709\u7eb0\u6f0f\u7684\uff0c\u6ca1\u6709\u8bb2\u5230\u89e3\u91ca\u5668\u662f\u5982\u4f55\u652f\u6301\u4e2d\u65ad\u7684\u3002\u6bd4\u5982\u6211\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a\u6b7b\u5faa\u73af\uff1f\u8fd9\u660e\u663e\u662f\u9519\u8bef\u7684\u3002\u5176\u4e2d\u53ef\u4ee5\u53c2\u8003\u96ea\u78a7\u5927\u4f6c\u7684\u56de\u7b54\uff1a\\n\\n> doodlewind: \u8fd9\u4e2a\u6709\u70b9\u8dd1\u504f\u4e86\u5427\u2026\u2026\u611f\u89c9\u8fd9\u65b9\u9762\u5185\u5bb9\u4e3b\u8981\u5e94\u8be5\u6d89\u53ca step over\u3001step in \u7684\u65f6\u5019\u4f1a\u53d1\u751f\u7684\u4e8b\uff1f\uff08\u6216\u8005\u8bf4\u5f15\u64ce\u662f\u5982\u4f55\u652f\u6301\u8c03\u8bd5\u534f\u8bae\u7684\u3002\uff09\u81f3\u4e8e\u7c7b\u4f3c INT3 \u4e2d\u65ad\u7684\u673a\u5236\uff0c\u8fd9\u5bf9\u89e3\u91ca\u5668\u6765\u8bf4\u786e\u5b9e\u662f\u5fc5\u8981\u7684\uff08\u6bd4\u5982\u5f15\u64ce\u8dd1\u8fdb\u6b7b\u5faa\u73af JS \u4ee3\u7801\u7684\u65f6\u5019\uff0c\u4e5f\u53ef\u4ee5\u54cd\u5e94 ctrl-c \u7684\u4fe1\u53f7\u8df3\u51fa main loop\uff09\uff0c\u4f46\u6211\u4e0d\u592a\u89c9\u5f97\u8fd9\u4e2a\u6982\u5ff5\u5c31\u662f\u8c03\u8bd5\u5668\u7684\u300c\u5e95\u5c42\u539f\u7406\u300d\u2026\u2026[\u6342\u8138]\\n\\n## 1\u3001CPU \u4e2d\u65ad\\n\\ncpu \u53ea\u4f1a\u4e0d\u65ad\u5730\u6267\u884c\u4e0b\u4e00\u6761\u6307\u4ee4\uff0c\u4f46\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u96be\u514d\u8981\u5904\u7406\u4e00\u4e9b\u5916\u90e8\u7684\u6d88\u606f\uff0c\u6bd4\u5982 io\u3001\u7f51\u7edc\u3001\u5f02\u5e38\u7b49\u7b49\uff0c\u6240\u4ee5\u8bbe\u8ba1\u4e86\u4e2d\u65ad\u7684\u673a\u5236\uff0ccpu \u6bcf\u6267\u884c\u5b8c\u4e00\u6761\u6307\u4ee4\uff0c\u5c31\u4f1a\u53bb\u770b\u4e0b\u4e2d\u65ad\u6807\u8bb0\uff0c\u662f\u5426\u9700\u8981\u4e2d\u65ad\u4e86\u3002\u5c31\u50cf event loop \u6bcf\u6b21 loop \u5b8c\u90fd\u8981\u68c0\u67e5\u4e0b\u662f\u5426\u9700\u8981\u6e32\u67d3\u4e00\u6837\u3002\\n\\n## 2\u3001INT \u6307\u4ee4\\n\\ncpu \u652f\u6301 INT \u6307\u4ee4\u6765\u89e6\u53d1\u4e2d\u65ad\uff0c\u4e2d\u65ad\u6709\u7f16\u53f7\uff0c\u4e0d\u540c\u7684\u7f16\u53f7\u6709\u4e0d\u540c\u7684\u5904\u7406\u7a0b\u5e8f\uff0c\u8bb0\u5f55\u7f16\u53f7\u548c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u7684\u8868\u53eb\u505a\u4e2d\u65ad\u5411\u91cf\u8868\u3002\u5176\u4e2d INT 3 (3 \u53f7\u4e2d\u65ad)\u53ef\u4ee5\u89e6\u53d1 debugger\uff0c\u8fd9\u662f\u4e00\u79cd\u7ea6\u5b9a\u3002\\n\\n\u90a3\u4e48\u53ef\u6267\u884c\u6587\u4ef6\u662f\u600e\u4e48\u5229\u7528\u8fd9\u4e2a 3 \u53f7\u4e2d\u65ad\u6765 debugger \u7684\u5462?\u5176\u5b9e\u5c31\u662f\u8fd0\u884c\u65f6\u66ff\u6362\u6267\u884c\u7684\u5185\u5bb9\uff0cdebugger \u7a0b\u5e8f\u4f1a\u5728\u9700\u8981\u8bbe\u7f6e\u65ad\u70b9\u7684\u4f4d\u7f6e\u628a\u6307\u4ee4\u5185\u5bb9\u6362\u6210 INT 3\uff0c\u4e5f\u5c31\u662f 0xCC\uff0c\u8fd9\u5c31\u65ad\u4f4f\u4e86\u3002\u5c31\u53ef\u4ee5\u83b7\u53d6\u8fd9\u65f6\u5019\u7684\u73af\u5883\u6570\u636e\u6765\u505a\u8c03\u8bd5\u3002\\n\\n![20230226204200](http://s3.airtlab.com/blog/20230226204200.png)\\n\\n\u901a\u8fc7\u673a\u5668\u7801\u66ff\u6362\u6210 0xcc (INT 3)\u662f\u628a\u7a0b\u5e8f\u65ad\u4f4f\u4e86\uff0c\u53ef\u662f\u600e\u4e48\u6062\u590d\u6267\u884c\u5462?\u5176\u5b9e\u4e5f\u6bd4\u8f83\u7b80\u5355\uff0c\u628a\u5f53\u65f6\u66ff\u6362\u7684\u673a\u5668\u7801\u8bb0\u5f55\u4e0b\u6765\uff0c\u9700\u8981\u91ca\u653e\u65ad\u70b9\u7684\u65f6\u5019\u518d\u6362\u56de\u53bb\u5c31\u884c\u4e86\u3002\\n\\n\u8fd9\u5c31\u662f\u53ef\u6267\u884c\u6587\u4ef6\u7684 debugger \u7684\u539f\u7406\u4e86\uff0c\u6700\u7ec8\u8fd8\u662f\u9760 cpu \u652f\u6301\u7684\u4e2d\u65ad\u673a\u5236\u6765\u5b9e\u73b0\u7684\u3002\\n\\n## 3\u3001\u4e2d\u65ad\u5bc4\u5b58\u5668\\n\\n\u4e0a\u9762\u8bf4\u7684 debugger \u5b9e\u73b0\u65b9\u5f0f\u662f\u4fee\u6539\u5185\u5b58\u4e2d\u7684\u673a\u5668\u7801\u7684\u65b9\u5f0f\uff0c\u4f46\u6709\u7684\u65f6\u5019\u4fee\u6539\u4e0d\u4e86\u4ee3\u7801\uff0c\u6bd4\u5982 ROM\uff0c\u8fd9\u79cd\u60c5\u51b5\u5c31\u8981\u901a\u8fc7 cpu \u63d0\u4f9b\u7684 4 \u4e2a\u4e2d\u65ad\u5bc4\u5b58\u5668(DR0 - DR3)\u6765\u505a\u4e86\u3002\u8fd9\u79cd\u53eb\u505a\u786c\u4e2d\u65ad\u3002\\n\\n\u603b\u4e4b\uff0cINT 3 \u7684\u8f6f\u4e2d\u65ad\uff0c\u8fd8\u6709\u4e2d\u65ad\u5bc4\u5b58\u5668\u7684\u786c\u4e2d\u65ad\uff0c\u662f\u53ef\u6267\u884c\u6587\u4ef6\u5b9e\u73b0 debugger \u7684\u4e24\u79cd\u65b9\u5f0f\u3002\\n\\n## 4\u3001\u89e3\u91ca\u578b\u8bed\u8a00\u7684 debugger\\n\\n\u7f16\u8bd1\u578b\u8bed\u8a00\u56e0\u4e3a\u76f4\u63a5\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u4e0a\u6267\u884c\uff0c\u6240\u4ee5\u8981\u5229\u7528 cpu \u548c\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e2d\u65ad\u673a\u5236\u548c\u7cfb\u7edf\u8c03\u7528\u6765\u5b9e\u73b0 debugger\u3002\u4f46\u662f\u89e3\u91ca\u578b\u8bed\u8a00\u662f\u81ea\u5df1\u5b9e\u73b0\u4ee3\u7801\u7684\u89e3\u91ca\u6267\u884c\u7684\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u90a3\u4e00\u5957\uff0c\u4f46\u662f\u5b9e\u73b0\u601d\u8def\u8fd8\u662f\u4e00\u6837\u7684\uff0c\u5c31\u662f\u63d2\u5165\u4e00\u6bb5\u4ee3\u7801\u6765\u65ad\u4f4f\uff0c\u652f\u6301\u73af\u5883\u6570\u636e\u7684\u67e5\u770b\u548c\u4ee3\u7801\u7684\u6267\u884c\uff0c\u5f53\u91ca\u653e\u65ad\u70b9\u7684\u65f6\u5019\u5c31\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c\u3002\\n\\n\u6bd4\u5982 javascript \u4e2d\u652f\u6301 debugger \u8bed\u53e5\uff0c\u5f53\u89e3\u91ca\u5668\u6267\u884c\u5230\u8fd9\u4e00\u6761\u8bed\u53e5\u7684\u65f6\u5019\u5c31\u4f1a\u65ad\u4f4f\u3002\\n\\n\u89e3\u91ca\u578b\u8bed\u8a00\u7684 debugger \u76f8\u5bf9\u7b80\u5355\u4e00\u4e9b\uff0c\u4e0d\u9700\u8981\u4e86\u89e3 cpu \u7684 INT 3 \u4e2d\u65ad\u3002\\n\\n> \u8fd9\u4e2a\u6709\u70b9\u8dd1\u504f\u4e86\u5427\u2026\u2026\u611f\u89c9\u8fd9\u65b9\u9762\u5185\u5bb9\u4e3b\u8981\u5e94\u8be5\u6d89\u53ca step over\u3001step in \u7684\u65f6\u5019\u4f1a\u53d1\u751f\u7684\u4e8b\uff1f\uff08\u6216\u8005\u8bf4\u5f15\u64ce\u662f\u5982\u4f55\u652f\u6301\u8c03\u8bd5\u534f\u8bae\u7684\u3002\uff09\u81f3\u4e8e\u7c7b\u4f3c INT3 \u4e2d\u65ad\u7684\u673a\u5236\uff0c\u8fd9\u5bf9\u89e3\u91ca\u5668\u6765\u8bf4\u786e\u5b9e\u662f\u5fc5\u8981\u7684\uff08\u6bd4\u5982\u5f15\u64ce\u8dd1\u8fdb\u6b7b\u5faa\u73af JS \u4ee3\u7801\u7684\u65f6\u5019\uff0c\u4e5f\u53ef\u4ee5\u54cd\u5e94 ctrl-c \u7684\u4fe1\u53f7\u8df3\u51fa main loop\uff09\uff0c\u4f46\u6211\u4e0d\u592a\u89c9\u5f97\u8fd9\u4e2a\u6982\u5ff5\u5c31\u662f\u8c03\u8bd5\u5668\u7684\u300c\u5e95\u5c42\u539f\u7406\u300d\u2026\u2026[\u6342\u8138]\\n\\n## 5\u3001debugger \u5ba2\u6237\u7aef\\n\\n\u4e0a\u9762\u6211\u4eec\u4e86\u89e3\u4e86\u76f4\u63a5\u6267\u884c\u548c\u89e3\u91ca\u6267\u884c\u7684\u4ee3\u7801\u7684 debugger \u5206\u522b\u662f\u600e\u4e48\u5b9e\u73b0\u7684\u3002\u6211\u4eec\u77e5\u9053\u4e86\u4ee3\u7801\u662f\u600e\u4e48\u65ad\u4f4f\u7684\uff0c\u90a3\u4e48\u65ad\u4f4f\u4e4b\u540e\u5462?\u600e\u4e48\u628a\u73af\u5883\u6570\u636e\u66b4\u9732\u51fa\u53bb\uff0c\u600e\u4e48\u6267\u884c\u5916\u90e8\u4ee3\u7801?\\n\\n\u8fd9\u5c31\u9700\u8981 debugger \u5ba2\u6237\u7aef\u4e86\u3002\u6bd4\u5982 v8 \u5f15\u64ce\u4f1a\u628a\u8bbe\u7f6e\u65ad\u70b9\u3001\u83b7\u53d6\u73af\u5883\u4fe1\u606f\u3001\u6267\u884c\u811a\u672c\u7684\u80fd\u529b\u901a\u8fc7 socket \u66b4\u9732\u51fa\u53bb\uff0csocket \u4f20\u9012\u7684\u4fe1\u606f\u683c\u5f0f\u5c31\u662f v8 debug protocol \u3002\\n\\n\u8bbe\u7f6e\u65ad\u70b9\uff1a\\n\\n```json\\n{\\n  \\"seq\\": 117,\\n  \\"type\\": \\"request\\",\\n  \\"command\\": \\"setbreakpoint\\",\\n  \\"arguments\\": {\\n    \\"type\\": \\"function\\",\\n    \\"target\\": \\"f\\"\\n  }\\n}\\n```\\n\\n\u53bb\u6389\u65ad\u70b9\uff1a\\n\\n```json\\n{\\n  \\"seq\\": 117,\\n  \\"type\\": \\"request\\",\\n  \\"command\\": \\"clearbreakpoint\\",\\n  \\"arguments\\": {\\n    \\"type\\": \\"function\\",\\n    \\"breakpoint\\": 1\\n  }\\n}\\n```\\n\\n\u7ee7\u7eed\uff1a\\n\\n```json\\n{\\n  \\"seq\\": 117,\\n  \\"type\\": \\"request\\",\\n  \\"command\\": \\"continue\\"\\n}\\n```\\n\\n\u6267\u884c\u4ee3\u7801\uff1a\\n\\n```json\\n{\\n  \\"seq\\": 117,\\n  \\"type\\": \\"request\\",\\n  \\"command\\": \\"evaluate\\",\\n  \\"arguments\\": { \\"expression\\": \\"1+2\\" }\\n}\\n```\\n\u611f\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u53bb v8 debug protocol \u7684\u6587\u6863\u4e2d\u53bb\u67e5\u770b\u5168\u90e8\u7684\u534f\u8bae\u3002\\n\\n\u57fa\u4e8e\u8fd9\u4e9b\u534f\u8bae\u5c31\u53ef\u4ee5\u63a7\u5236 v8 \u7684 debugger \u4e86\uff0c\u6240\u6709\u7684\u80fd\u591f\u5b9e\u73b0 debugger \u7684\u90fd\u662f\u5bf9\u63a5\u4e86\u8fd9\u4e2a\u534f\u8bae\uff0c\u6bd4\u5982 chrome devtools\u3001vscode debugger \u8fd8\u6709\u5176\u4ed6\u5404\u79cd ide \u7684 debugger\u3002\\n\\n## 6\u3001nodejs \u4ee3\u7801\u7684\u8c03\u8bd5\\n\\nnodejs \u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0 --inspect \u7684 option \u6765\u505a\u8c03\u8bd5(\u4e5f\u53ef\u4ee5\u662f --inspect-brk\uff0c\u8fd9\u4e2a\u4f1a\u5728\u9996\u884c\u5c31\u65ad\u4f4f)\u3002\\n\\n\u5b83\u4f1a\u8d77\u4e00\u4e2a debugger \u7684 websocket \u670d\u52a1\u7aef\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 vscode \u6765\u8c03\u8bd5 nodejs \u4ee3\u7801\uff0c\u4e5f\u53ef\u4ee5\u7528 chrome devtools \u6765\u8c03\u8bd5(\u89c1 nodejs debugger \u6587\u6863)\u3002\\n\\n```bash\\nnode --inspect test.js\\nDebugger listening on ws://127.0.0.1:9229/db309268-623a-4abe-b19a-c4407ed8998d\\nFor help see https://nodejs.org/en/docs/inspector\\n```\\n\\n\u539f\u7406\u5c31\u662f\u5b9e\u73b0\u4e86 v8 debug protocol\u3002\\n\u6211\u4eec\u5982\u679c\u81ea\u5df1\u505a\u8c03\u8bd5\u5de5\u5177\u3001\u505a ide\uff0c\u90a3\u5c31\u8981\u5bf9\u63a5\u8fd9\u4e2a\u534f\u8bae\u3002\\n\\n## 7\u3001debugger adaptor protocol\\n\u4e0a\u9762\u4ecb\u7ecd\u7684 v8 debug protocol \u53ef\u4ee5\u5b9e\u73b0 js \u4ee3\u7801\u7684\u8c03\u8bd5\uff0c\u90a3\u4e48 python\u3001c# \u7b49\u80af\u5b9a\u4e5f\u6709\u81ea\u5df1\u7684\u8c03\u8bd5\u534f\u8bae\uff0c\u5982\u679c\u8981\u5b9e\u73b0 ide\uff0c\u90fd\u8981\u5bf9\u63a5\u4e00\u904d\u592a\u8fc7\u9ebb\u70e6\u3002\u6240\u4ee5\u540e\u6765\u51fa\u73b0\u4e86\u4e00\u4e2a\u4e2d\u95f4\u5c42\u534f\u8bae\uff0cDAP(debugger adaptor protocol)\u3002\\n\\ndebugger adaptor protocol\uff0c \u987e\u540d\u601d\u4e49\uff0c\u5c31\u662f\u9002\u914d\u7684\uff0c\u4e00\u7aef\u9002\u914d\u5404\u79cd debugger \u534f\u8bae\uff0c\u4e00\u7aef\u63d0\u4f9b\u7ed9\u5ba2\u6237\u7aef\u7edf\u4e00\u7684\u534f\u8bae\u3002\u8fd9\u662f\u9002\u914d\u5668\u6a21\u5f0f\u7684\u4e00\u4e2a\u5f88\u597d\u7684\u5e94\u7528\u3002\\n\\n![20230226205040](http://s3.airtlab.com/blog/20230226205040.png)\\n\\n## 8\u3001\u603b\u7ed3\\n\\n\u672c\u6587\u6211\u4eec\u5b66\u4e60\u4e86 debugger \u7684\u5b9e\u73b0\u539f\u7406\u548c\u66b4\u9732\u51fa\u7684\u8c03\u8bd5\u534f\u8bae\u3002\\n\\n\u9996\u5148\u6211\u4eec\u4e86\u89e3\u4e86\u4ee3\u7801\u4e24\u79cd\u8fd0\u884c\u65b9\u5f0f\uff1a\u76f4\u63a5\u6267\u884c\u548c\u89e3\u91ca\u6267\u884c\uff0c\u7136\u540e\u5206\u6790\u4e86\u4e0b\u4e3a\u4ec0\u4e48\u9700\u8981 debugger\u3002\\n\\n\u4e4b\u540e\u63a2\u7d22\u4e86\u76f4\u63a5\u6267\u884c\u7684\u4ee3\u7801\u901a\u8fc7 INT 3 \u7684\u4e2d\u65ad\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0 debugger \u548c\u89e3\u91ca\u578b\u8bed\u8a00\u81ea\u5df1\u5b9e\u73b0\u7684 debugger\u3002\\n\\n\u7136\u540e debugger \u7684\u80fd\u529b\u4f1a\u901a\u8fc7 socket \u66b4\u9732\u7ed9\u5ba2\u6237\u7aef\uff0c\u63d0\u4f9b\u8c03\u8bd5\u534f\u8bae\uff0c\u6bd4\u5982 v8 debug protocol\uff0c\u5404\u79cd\u5ba2\u6237\u7aef\u5305\u62ec chrome devtools\u3001ide \u7b49\u90fd\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u534f\u8bae\u3002\\n\\n\u4f46\u662f\u6bcf\u79cd\u8bed\u8a00\u90fd\u8981\u5b9e\u73b0\u4e00\u6b21\u7684\u8bdd\u592a\u8fc7\u9ebb\u70e6\uff0c\u6240\u4ee5\u540e\u6765\u51fa\u73b0\u4e86\u4e00\u4e2a\u9002\u914d\u5c42\u534f\u8bae\uff0c\u5c4f\u853d\u4e86\u4e0d\u540c\u534f\u8bae\u7684\u533a\u522b\uff0c\u63d0\u4f9b\u7edf\u4e00\u7684\u534f\u8bae\u63a5\u53e3\u7ed9\u5ba2\u6237\u7aef\u7528\u3002\\n\\n\u5e0c\u671b\u8fd9\u7bc7\u6587\u7ae0\u80fd\u591f\u8ba9\u4f60\u7406\u89e3 debugger \u7684\u539f\u7406\uff0c\u5982\u679c\u8981\u5b9e\u73b0\u8c03\u8bd5\u5de5\u5177\u4e5f\u77e5\u9053\u600e\u4e48\u8be5\u600e\u4e48\u53bb\u5bf9\u63a5\u534f\u8bae\u3002\u80fd\u591f\u77e5\u9053 chrome devtools\u3001vscode \u4e3a\u5565\u90fd\u53ef\u4ee5\u8c03\u8bd5 nodejs \u4ee3\u7801\u3002\\n\\n## 9\u3001\u6587\u7ae0\u7ea0\u9519\\n\u5176\u4e2d\u6d89\u53ca\u4e00\u4e9b\u9519\u8bef\u53c2\u8003\u539f\u6587\u8bc4\u8bba -> https://zhuanlan.zhihu.com/p/372135871\xb7","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/05 \u7406\u89e3\u5b57\u7b26\u7f16\u7801.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/05 \u7406\u89e3\u5b57\u7b26\u7f16\u7801.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/05 \u7406\u89e3\u5b57\u7b26\u7f16\u7801.md","leaf":true,"title":"05 \u7406\u89e3\u5b57\u7b26\u7f16\u7801","depth":2,"content":"> - ASCII\u7f16\u7801\u8f6c\u6362 https://www.qqxiuzi.cn/bianma/ascii.htm\\n> - Unicode(UTF-8, UTF-16)\u4ee4\u4eba\u6df7\u6dc6\u7684\u6982\u5ff5 https://www.cnblogs.com/kingcat/archive/2012/10/16/2726334.html\\n\\n### 1\u3001ASCII\\nASCII\u7f16\u7801\u8303\u56f4 0x00-0x7F\uff0c\u5373\u5341\u8fdb\u5236\u76840-127\uff0c\u5b9a\u4e49\u4e86128\u4e2a\u5355\u5b57\u8282\u5b57\u7b26\uff0c\u5176\u4e2d\u5305\u542b95\u4e2a\u53ef\u6253\u5370\u5b57\u7b26\uff08\u6570\u5b57\u3001\u5b57\u6bcd\u3001\u7b26\u53f7\uff09\uff0c\u4ee5\u53ca33\u4e2a\u63a7\u5236\u5b57\u7b26\uff08\u4e0b\u8868\u4e2d\u6587\u63cf\u8ff0\u7684\u5b57\u7b26\uff09\u3002\u56fd\u6807\u7801GB18030\u3001\u56fd\u9645\u7801Unicode\u5747\u517c\u5bb9ASCII\u7f16\u7801\u3002\\n\\n### 2\u3001Unicode\\n\u7edf\u4e00\u7801\uff08Unicode\uff09\uff0c\u4e5f\u53eb\u4e07\u56fd\u7801\u3001Unicode\u7684\u6700\u521d\u76ee\u6807\uff0c\u662f\u75281\u4e2a16\u4f4d\u7684\u7f16\u7801\u6765\u4e3a\u8d85\u8fc765000\u5b57\u7b26\u63d0\u4f9b\u6620\u5c04\u3002\u4f46\u8fd9\u8fd8\u4e0d\u591f\uff0c\u5b83\u4e0d\u80fd\u8986\u76d6\u5168\u90e8\u5386\u53f2\u4e0a\u7684\u6587\u5b57\uff0c\u4e5f\u4e0d\u80fd\u89e3\u51b3\u4f20\u8f93\u7684\u95ee\u9898 (implantation head-ache\'s)\uff0c\u5c24\u5176\u5728\u90a3\u4e9b\u57fa\u4e8e\u7f51\u7edc\u7684\u5e94\u7528\u4e2d\u3002\u5df2\u6709\u7684\u8f6f\u4ef6\u5fc5\u987b\u505a\u5927\u91cf\u7684\u5de5\u4f5c\u6765\u7a0b\u5e8f16\u4f4d\u7684\u6570\u636e\u3002 \\n\\n\u56e0\u6b64\uff0cUnicode\u7528\u4e00\u4e9b\u57fa\u672c\u7684\u4fdd\u7559\u5b57\u7b26\u5236\u5b9a\u4e86\u4e09\u5957\u7f16\u7801\u65b9\u5f0f\u3002\u5b83\u4eec\u5206\u522b\u662f`UTF-8`, `UTF-16` \u548c `UTF-32`\u3002\\n\\n\u5728UTF\uff0d8\u4e2d\uff0c\u5b57\u7b26 \u662f\u4ee58\u4f4d\u5e8f\u5217\u6765\u7f16\u7801\u7684\uff0c\u7528\u4e00\u4e2a\u6216\u51e0\u4e2a\u5b57\u8282\u6765\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\u3002\u8fd9\u79cd\u65b9\u5f0f\u7684\u6700\u5927\u597d\u5904\uff0c\u662fUTF\uff0d8\u4fdd\u7559\u4e86ASCII\u5b57\u7b26\u7684\u7f16\u7801\u505a\u4e3a\u5b83\u7684\u4e00\u90e8\u5206\uff0c\u4f8b\u5982\uff0c\u5728 UTF\uff0d8\u548cASCII\u4e2d\uff0c\u201cA\u201d\u7684\u7f16\u7801\u90fd\u662f0x41\u3002\\n\\nUTF\uff0d16\u548cUTF\uff0d32\u5206\u522b\u662fUnicode\u768416\u4f4d\u548c32\u4f4d\u7f16\u7801\u65b9\u5f0f\u3002\u8003\u8651\u5230\u6700\u521d\u7684\u76ee\u7684\uff0c\u901a\u5e38\u8bf4\u7684Unicode\u5c31\u662f\u6307UTF-16\u3002\u5728\u8ba8\u8bbaUnicode\u65f6\uff0c\u641e\u6e05\u695a\u54ea\u79cd\u7f16\u7801\u65b9\u5f0f\u975e\u5e38\u91cd\u8981\u3002Unicdoe\u76f8\u5173\u7684\u6280\u672f\u4ecb\u7ecd\u53c2\u89c1http://www.unicode.org/unicode/standard/principles.html.\\n\\n### 3\u3001UTF8\\n\u53c2\u8003 https://www.zhihu.com/question/23374078\\n![20230226215929](http://s3.airtlab.com/blog/20230226215929.png)\\n\\n> UTF-8\u7684\u7f16\u7801\u65b9\u5f0f\u4e2d\uff0c\u5f53\u8ba1\u7b97\u673a\u8bfb\u52301110XXXX\uff0c\u5c31\u77e5\u9053\u76ee\u524d\u7684\u8fd9\u4e2a\u5b57\u7b26\u5360\u4e863\u4e2a\u5b57\u8282\uff0c\u5e94\u8be5\u7ee7\u7eed\u5f80\u540e\u8bfb\u53d6\u3002\\n\\n### 4\u3001UTF-8/UTF-16/UTF-32\\n\uff081\uff09UTF-8\u662f\u53d8\u957f\u7f16\u7801\uff0c\u6bcf\u4e2aUnicode\u4ee3\u7801\u70b9\u6309\u7167\u4e0d\u540c\u8303\u56f4\uff0c\u53ef\u4ee5\u67091-3\u5b57\u8282\u7684\u4e0d\u540c\u957f\u5ea6\u3002\\n\\n\uff082\uff09UTF-16\u957f\u5ea6\u76f8\u5bf9\u56fa\u5b9a\uff0c\u53ea\u8981\u4e0d\u5904\u7406\u5927\u4e8e\\\\U200000\u8303\u56f4\u7684\u5b57\u7b26\uff0c\u6bcf\u4e2aUnicode\u4ee3\u7801\u70b9\u4f7f\u752816\u4f4d\u53732\u5b57\u8282\u8868\u793a\uff0c\u8d85\u51fa\u90e8\u5206\u4f7f\u7528\u4e24\u4e2aUTF-16\u53734\u5b57\u8282\u8868\u793a\u3002\u6309\u7167\u9ad8\u4f4e\u4f4d\u5b57\u8282\u987a\u5e8f\uff0c\u53c8\u5206\u4e3aUTF-16BE/UTF-16LE\u3002\\n\\n\uff083\uff09UTF-32\u957f\u5ea6\u59cb\u7ec8\u56fa\u5b9a\uff0c\u6bcf\u4e2aUnicode\u4ee3\u7801\u70b9\u4f7f\u752832\u4f4d\u53734\u5b57\u8282\u8868\u793a\u3002\u6309\u7167\u9ad8\u4f4e\u4f4d\u5b57\u8282\u987a\u5e8f\uff0c\u53c8\u5206\u4e3aUTF-32BE/UTF-32LE\u3002\\n\\n**\u4e3e\u4e2a\u4f8b\u5b50**\\n\u5047\u5982\u4e2d\u6587\u5b57\\"\u6c49\\"\u5bf9\u5e94\u7684 unicode \u662f6C49(\u8fd9\u662f\u7528\u5341\u516d\u8fdb\u5236\u8868\u793a\uff0c\u7528\u5341\u8fdb\u5236\u8868\u793a\u662f 27721 \u4e3a\u5565\u4e0d\u7528\u5341\u8fdb\u5236\u8868\u793a\u5462\uff1f\u5f88\u660e\u663e\u7528\u5341\u516d\u8fdb\u5236\u8868\u793a\u8981\u77ed\u70b9\u3002\u5176\u5b9e\u90fd\u662f\u7b49\u4ef7\u7684\u6ca1\u5565\u4e0d\u4e00\u6837\uff0c\u5c31\u8ddf\u4f60\u8bf460\u5206\u949f\u548c1\u5c0f\u65f6\u4e00\u6837)\u3002\u4f60\u53ef\u80fd\u4f1a\u95ee\u5f53\u7528\u7a0b\u5e8f\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u65f6\u6211\u4eec\u600e\u4e48\u77e5\u9053\u90a3\u662f\u7528\u7684UTF-8\u8fd8\u662fUTF-16\u554a.\u81ea\u7136\u4f1a\u6709\u70b9\u5565\u6807\u5fd7,\u5728\u6587\u4ef6\u7684\u5f00\u5934\u51e0\u4e2a\u5b57\u8282\u5c31\u662f\u6807\u5fd7:\\n```\\nEF BB BF \u8868\u793aUTF-8\\nFE FF \u8868\u793aUTF-16.\\n```\\n\\n### 5\u3001base64\\nBase64\u662f\u7f51\u7edc\u4e0a\u6700\u5e38\u89c1\u7684\u7528\u4e8e\u4f20\u8f938Bit\u5b57\u8282\u7801\u7684\u7f16\u7801\u65b9\u5f0f\u4e4b\u4e00\uff0cBase64\u5c31\u662f\u4e00\u79cd`\u57fa\u4e8e64\u4e2a\u53ef\u6253\u5370\u5b57\u7b26\u6765\u8868\u793a\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u65b9\u6cd5`\u3002\u53ef\u67e5\u770bRFC2045\uff5eRFC2049\uff0c\u4e0a\u9762\u6709MIME\u7684\u8be6\u7ec6\u89c4\u8303\u3002base64 \u7f16\u7801\u662f\u53ef\u9006\u7684\u3002\\n","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/06 \u8fdb\u5236\u8868\u793a.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/06 \u8fdb\u5236\u8868\u793a.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/06 \u8fdb\u5236\u8868\u793a.md","leaf":true,"title":"06 \u8fdb\u5236\u8868\u793a","depth":2,"content":"> \u5728\u7ebf\u8fdb\u5236\u8f6c\u6362 https://www.sojson.com/hexconvert.html\\n\\n## 1. \u4e8c\u8fdb\u5236\\n\\n\u4e8c\u8fdb\u5236\u6570\uff08binaries\uff09\u662f\u90222\u8fdb\u4f4d\u7684\u8fdb\u4f4d\u5236\uff0c0\u30011 \u662f\u57fa\u672c\u7b97\u7b26\u3002\\n\\n**\u7279\u6027**: \u5982\u679c\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\uff08\u6574\u578b\uff09\u6570\u7684\u7b2c\u96f6\u4f4d\u7684\u503c\u662f1\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6570\u5c31\u662f\u5947\u6570\uff1b\u800c\u5982\u679c\u8be5\u4f4d\u662f0\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6570\u5c31\u662f\u5076\u6570\u3002\\n\\n## 2. N \u8fdb\u5236\\n\\n- \u5341\u8fdb\u5236\uff1a\u670910\u4e2a\u57fa\u6570\uff1a0\u30011\u30012\u30013\u30014\u30015\u30016\u30017\u30018\u30019\uff0c\u9022\u5341\u8fdb\u4e00\\n- \u4e8c\u8fdb\u5236\uff1a\u67092 \u4e2a\u57fa\u6570\uff1a0\u30011\uff0c\u9022\u4e8c\u8fdb\u4e00\\n- \u516b\u8fdb\u5236\uff1a\u67098\u4e2a\u57fa\u6570\uff1a0\u30011\u30012\u30013\u30014\u30015\u30016\u30017\uff0c\u9022\u516b\u8fdb\u4e00\\n- \u5341\u516d\u8fdb\u5236\uff1a\u670916\u4e2a\u57fa\u6570\uff1a0\u30011\u30012\u30013\u30014\u30015\u30016\u30017\u30018\u30019\u3001A\u3001B\u3001C\u3001D\u3001E\u3001F\uff0c\u9022\u5341\u516d\u8fdb\u4e00\\n\\n## 3. \u8fdb\u5236\u8f6c\u6362\\n\\n![20230227091616](http://s3.airtlab.com/blog/20230227091616.png)\\nhttps://zhuanlan.zhihu.com/p/459817484 \\n\\n## 4. \u8d1f\u6570\u7684\u8868\u793a\\n- \u6c42\u51fa\u539f\u7801\\n- \u6c42\u51fa\u53cd\u7801\\n- \u6c42\u51fa\u8865\u7801\\n\\n\u6f14\u793a -5 \u7684\u4e8c\u8fdb\u5236\u8ba1\u7b97\u8fc7\u7a0b\uff1a\\n- 5\u7684\u539f\u7801\uff1a 101 => 0000 0101\\n- \u6c42\u51fa\u53cd\u7801\uff1a    => 1111 1010\\n- \u6c42\u51fa\u8865\u7801\uff1a    => 1111 1011\\n\\n\u5982\u679c\u8981\u8868\u793a16\u4f4d\u7684-5\uff0c\u5728\u5de6\u8fb9\u6dfb\u4e0a8\u4e2a1\u5373\\n1111 1111 1111 1011\\n\\n**\u9006\u8fd0\u7b97**\\n\u6bd4\u5982\u77e5\u9053\u4e00\u4e2a\u8865\u7801: 1111 1011\\n- \u6839\u636e\u8865\u7801\u5f97\u5230\u53cd\u7801: 1111 1010\\n- \u6839\u636e\u53cd\u7801\u5f97\u5230\u539f\u7801\uff1a0000  0101 => 5\\n\\n### 4.1 \u6700\u9ad8\u4f4d\u4e0a\u76841\u548c0\u662f\u8868\u793a\u6b63\u8d1f\uff0c\u8fd8\u662f\u4e0d\u8868\u793a\u6b63\u8d1f\uff1f\\n\\n\u4e8c\u8fdb\u5236\u662f\u8868\u793a\u8ba1\u6570\u7684\u4e00\u79cd\u65b9\u6cd5\uff0c\u7528\u4e8c\u8fdb\u5236\u8ba1\u6570\u65f6\uff0c\u7528\u6700\u9ad8\u4f4d\u4e0a\u76841\u548c0\u6765\u4ee3\u8868\u8fd9\u4e2a\u6570\u7684\u6b63\u4e0e\u8d1f\uff0c\u8fd9\u6837\u7684\u6570\u5c31\u79f0\u4e3a\u201c\u6709\u7b26\u53f7\u6570\u201d\uff0c\u540c\u65f6\u4e5f\u5b58\u5728\u7740\u201c\u65e0\u7b26\u53f7\u6570\u201d\u3002\\n\\n\u90a3\u82e5\u7ed9\u51fa\u4e00\u4e2a\u7528\u4e8c\u8fdb\u5236\u8868\u793a\u51fa\u6765\u7684\u6570\uff0c\u5982\u4f55\u5206\u8fa8\u6700\u9ad8\u4f4d\u4e0a\u76841\u548c0\u662f\u8868\u793a\u6b63\u8d1f\uff0c\u8fd8\u662f\u4e0d\u8868\u793a\u6b63\u8d1f\uff1f\\n\\n\u6bd4\u5982 11010110:\\n- \u65e0\u7b26\u53f7\u6570\u8868\u793a\uff1a214\\n- \u6709\u7b26\u53f7\u6570\u8868\u793a\uff1a-42\\n  - \u6839\u636e\u8865\u7801\u5f97\u5230\u53cd\u7801\uff1a11010110 - 1 = 11010101\\n  - \u6839\u636e\u53cd\u7801\u5f97\u5230\u539f\u7801\uff1a00101010 => 42\\n\\n\u8fd9\u4e2a\u662f\u4eba\u4e3a\u5b9a\u4e49\u7684\uff0c\u5047\u5982 int \u5360\u75281\u4e2a\u5b57\u8282\uff0c\u90a3\u4e48:\\n```c\\n// \u5b9a\u4e49\u6709\u7b26\u53f7 -128 \u2014\u2014\u2014 0 \u2014\u2014\u2014- 127\\nint a\\n\\n// \u5b9a\u4e49\u65e0\u7b26\u53f7 0 \u2014\u2014\u2014\u2014\u2014\u2013 255\\nunsigned int b\\n```\\n\\n## 5. \u6d6e\u70b9\u6570\u7684\u8868\u793a\\n\\n![20230227232435](http://s3.airtlab.com/blog/20230227232435.png)\\n\\n\u5f88\u591a\u4eba\u90fd\u9047\u5230\u8fc7\u8fd9\u4e2a\u95ee\u9898 \u201c0.1 + 0.2 == 0.3?\u201d \u7b54\u6848\u662f\u4e0d\u4e00\u5b9a\uff1a\\n> \u8fd9\u4e3b\u8981\u662f\u56e0\u4e3a\u6709\u7684\u5c0f\u6570\u65e0\u6cd5\u53ef\u4ee5\u7528\u300c\u5b8c\u6574\u300d\u7684\u4e8c\u8fdb\u5236\u6765\u8868\u793a\uff0c\u6240\u4ee5\u8ba1\u7b97\u673a\u91cc\u53ea\u80fd\u91c7\u7528\u8fd1\u4f3c\u6570\u7684\u65b9\u5f0f\u6765\u4fdd\u5b58\uff0c\u90a3\u4e24\u4e2a\u8fd1\u4f3c\u6570\u76f8\u52a0\uff0c\u5f97\u5230\u7684\u5fc5\u7136\u4e5f\u662f\u4e00\u4e2a\u8fd1\u4f3c\u6570\u3002https://xiaolincoding.com/os/1_hardware/float.html\\n\\n- double \u7684\u6709\u6548\u6570\u5b57\u662f 15~16 \u4f4d\\n- float \u7684\u6709\u6548\u6570\u5b57\u662f 7~8 \u4f4d\\n\\n\u8fd9\u4e9b\u6709\u6548\u4f4d\u662f\u5305\u542b\u6574\u6570\u90e8\u5206\u548c\u5c0f\u6570\u90e8\u5206\uff1b","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/07 buffer\u64cd\u4f5c\u4e8c\u8fdb\u5236\u6570.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/07 buffer\u64cd\u4f5c\u4e8c\u8fdb\u5236\u6570.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/07 buffer\u64cd\u4f5c\u4e8c\u8fdb\u5236\u6570.md","leaf":true,"title":"07 buffer\u64cd\u4f5c\u4e8c\u8fdb\u5236\u6570","depth":2,"content":"> \u90e8\u5206\u5185\u5bb9\u53c2\u8003 \u300a\u9488\u5bf9 Node \u7684 Buffer \u6a21\u5757\u4e2d\u96be\u7406\u89e3\u7684 API \u505a\u4e00\u6b21\u5f7b\u5e95\u7684\u8bb2\u89e3\u300bhttps://www.bilibili.com/read/cv4881167?spm_id_from=333.999.0.0\\n\\nBuffer \u5bf9\u8c61\u7528\u4e8e\u8868\u793a\u56fa\u5b9a\u957f\u5ea6\u7684\u5b57\u8282\u5e8f\u5217\uff0c\u8bb8\u591a Node.js API \u90fd\u652f\u6301 Buffer\u3002\\n\\n## 1. \u9884\u5907\u77e5\u8bc6\\n\\n### 1.1 \u4ec0\u4e48\u662f\u7f13\u51b2\u533a Buffer\\n\\n\u5728 Node.js \u4e2d\uff0cBuffer \u7c7b\u662f\u968f Node \u5185\u6838\u4e00\u8d77\u53d1\u5e03\u7684\u6838\u5fc3\u5e93\u3002Buffer \u5e93\u4e3a Node.js \u5e26\u6765\u4e86\u4e00\u79cd\u5b58\u50a8\u539f\u59cb\u6570\u636e\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u8ba9 Node.js \u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u6bcf\u5f53\u9700\u8981\u5728 Node.js \u4e2d\u5904\u7406 I/O \u64cd\u4f5c\u4e2d\u79fb\u52a8\u7684\u6570\u636e\u65f6\uff0c\u5c31\u6709\u53ef\u80fd\u4f7f\u7528 Buffer \u5e93\u3002\u539f\u59cb\u6570\u636e\u5b58\u50a8\u5728 Buffer \u7c7b\u7684\u5b9e\u4f8b\u4e2d\u3002\u4e00\u4e2a Buffer \u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u6574\u6570\u6570\u7ec4\uff0c\u4f46\u5b83\u5bf9\u5e94\u4e8e V8 \u5806\u5185\u5b58\u4e4b\u5916\u7684\u4e00\u5757\u539f\u59cb\u5185\u5b58\u3002\\n\\n### 1.2 Buffer \u4e0e\u5b57\u7b26\u7f16\u7801\\n\\nBuffer \u5b9e\u4f8b\u4e00\u822c\u7528\u4e8e\u8868\u793a\u7f16\u7801\u5b57\u7b26\u7684\u5e8f\u5217\uff0c\u6bd4\u5982 UTF-8 \u3001 UCS2 \u3001 Base64 \u3001\u6216\u5341\u516d\u8fdb\u5236\u7f16\u7801\u7684\u6570\u636e\u3002 \u901a\u8fc7\u4f7f\u7528\u663e\u5f0f\u7684\u5b57\u7b26\u7f16\u7801\uff0c\u5c31\u53ef\u4ee5\u5728 Buffer \u5b9e\u4f8b\u4e0e\u666e\u901a\u7684 JavaScript \u5b57\u7b26\u4e32\u4e4b\u95f4\u8fdb\u884c\u76f8\u4e92\u8f6c\u6362\u3002\\n\\n```javascript\\nconst buf = Buffer.from(\\"r\\", \\"ascii\\");\\nconsole.log(buf); // <Buffer 72>\\n// \u8fd9\u91cc\u7684 72 \u5728 ascii \u7f16\u7801\u4e2d\u5bf9\u5e94\u7684\u5341\u516d\u8fdb\u5236\u503c\u4e3a72 => \u5176\u4e8c\u8fdb\u5236\u503c\u4e3a 0111 0010\\n```\\n\\n```javascript\\nconst buf = Buffer.from(\\"runoob\\", \\"ascii\\");\\n\\n// \u8f93\u51fa 72756e6f6f62\\nconsole.log(buf.toString(\\"hex\\"));\\n\\n// \u8f93\u51fa cnVub29i\\nconsole.log(buf.toString(\\"base64\\"));\\n```\\n\\nNode.js \u76ee\u524d\u652f\u6301\u7684\u5b57\u7b26\u7f16\u7801\u5305\u62ec\uff1a\\n\\n- ascii\xa0- \u4ec5\u652f\u6301 7 \u4f4d ASCII \u6570\u636e\u3002\u5982\u679c\u8bbe\u7f6e\u53bb\u6389\u9ad8\u4f4d\u7684\u8bdd\uff0c\u8fd9\u79cd\u7f16\u7801\u662f\u975e\u5e38\u5feb\u7684\u3002\\n- utf8\xa0- \u591a\u5b57\u8282\u7f16\u7801\u7684 Unicode \u5b57\u7b26\u3002\u8bb8\u591a\u7f51\u9875\u548c\u5176\u4ed6\u6587\u6863\u683c\u5f0f\u90fd\u4f7f\u7528 UTF-8 \u3002\\n- utf16le\xa0- 2 \u6216 4 \u4e2a\u5b57\u8282\uff0c\u5c0f\u5b57\u8282\u5e8f\u7f16\u7801\u7684 Unicode \u5b57\u7b26\u3002\u652f\u6301\u4ee3\u7406\u5bf9\uff08U+10000 \u81f3 U+10FFFF\uff09\u3002\\n- ucs2\xa0-\xa0utf16le\xa0 \u7684\u522b\u540d\u3002\\n- base64\xa0- Base64 \u7f16\u7801\u3002\\n- latin1\xa0- \u4e00\u79cd\u628a \xa0Buffer\xa0 \u7f16\u7801\u6210\u4e00\u5b57\u8282\u7f16\u7801\u7684\u5b57\u7b26\u4e32\u7684\u65b9\u5f0f\u3002\\n- binary\xa0-\xa0latin1\xa0 \u7684\u522b\u540d\u3002\\n- hex\xa0- \u5c06\u6bcf\u4e2a\u5b57\u8282\u7f16\u7801\u4e3a\u4e24\u4e2a\u5341\u516d\u8fdb\u5236\u5b57\u7b26\u3002\\n\\n### 1.3 Buffer \u4e0e Stream \u7684\u5173\u7cfb\\n\\n\u5728\u5e94\u7528\u4e2d\uff0c\u56e0\u4e3a\u5728\u540e\u7aef\u4e0e\u524d\u7aef\u3001\u540e\u7aef\u7684 IO \u4e2d\uff0c\u6bcf\u5f53\u9700\u8981\u5728 Node.js \u4e2d\u5904\u7406 I/O \u64cd\u4f5c\u4e2d\u79fb\u52a8\u7684\u6570\u636e\u65f6\uff0c\u5c31\u6709\u53ef\u80fd\u4f7f\u7528 Buffer \u5e93\uff0c\u5f88\u591a\u65f6\u5019\u4f1a\u51fa\u73b0\u6570\u636e\u8fc7\u5927\uff0c\u4e0d\u80fd\u4e00\u6b21\u6027\u8bfb\u53d6\u7684\u95ee\u9898\u3002\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u7684\u7b49\u5f85\u65f6\u95f4\u8fc7\u957f\uff0c\u56e0\u6b64\uff0c\u6d41\u64cd\u4f5c\uff08stream\uff09\u4fbf\u8425\u8fd0\u800c\u751f\u3002\\n\\n\u5728 readable \u548c writable \u7684 Stream \u4e4b\u95f4\u7b51\u8d77\u6c9f\u901a\uff0c\u5982\u679c\u4ec5\u4ec5\u4f7f\u7528\u4e8b\u4ef6\u65b9\u6cd5\u6765\u8fdb\u884c\u7684\u8bdd\uff0c\u4ee3\u7801\u4f1a\u663e\u5f97\u5f88\u5197\u6742\uff0c\u56e0\u6b64\u9700\u8981\u51fa\u73b0 pipe\uff08\u7ba1\u9053\uff09\u65b9\u6cd5\u6765\u8fdb\u884c\u3002\\n\\n```javascript\\nreadable.pipe(writable);\\n```\\n\\nStream \u5c31\u50cf\u53f8\u673a\uff0c\u5b83\u7684\u4f5c\u7528\u5c31\u662f\u5c06\u88c5\u7740\u6570\u636e\u7684 Buffer \u5f00\u5411\u7ec8\u70b9\uff0c\u5728 NodeJS \u4e2d\uff0c\u8bb8\u591a\u63a5\u53e3\u90fd\u96c6\u6210 Stream\u3002\u5047\u5982\u4f60\u4e0d\u61c2 Stream \u4e5f\u6ca1\u6709\u5173\u7cfb\uff0c\u5148\u8fd9\u6837\u4e86\u89e3\u5c31\u53ef\u4ee5\u4e86\u3002\\n\\n## 2.\xa0 \u521b\u5efa Buffer \u7c7b\\n\\nBuffer \u63d0\u4f9b\u4e24\u7c7b API \u6765\u521b\u5efa buffer\\n\\n### 2.1 \u4ece\u5b57\u7b26\u4e32\u521b\u5efa\\n\\n`Buffer.from(string[, encoding])`\\n\\n```javascript\\nconst buf = Buffer.from(\\"\u77e5\\", \\"utf-8\\");\\nconsole.log(buf); // <Buffer e7 9f a5>\\n```\\n\\n### 2.2 \u6307\u5b9a\u5b57\u8282\u5e8f\u5217\u521b\u5efa\\n\\n\u6307\u5b9a\u5b57\u8282\u5e8f\u5217\u521b\u5efa Buffer(\u4f7f\u7528 0 \u2013 255 \u8303\u56f4\u5185\u7684\u5b57\u8282 array \u5206\u914d)\uff0c\u8be5\u8303\u56f4\u4e4b\u5916\u7684\u6570\u7ec4\u6761\u76ee\u5c06\u88ab\u622a\u65ad\u4ee5\u7b26\u5408\u5b83\u3002\\n\\n`Buffer.from(array)`\\n\\n```javascript\\n// \u521b\u5efa\u5305\u542b\u5b57\u7b26\u4e32 \'buffer\' \u7684 UTF-8 \u5b57\u8282\u7684\u65b0\u7f13\u51b2\u533a\u3002\\nconst buf = Buffer.from([0x62, 0x75, 0x66, 0x66, 0x65, 0x72]);\\nconsole.log(buf);\\n```\\n\\n### 2.3 buffer \u62f7\u8d1d\u521b\u5efa\\n\\n`Buffer.from(buffer)`\\n\\n```javascript\\nconst buf1 = Buffer.from(\\"buffer\\");\\nconst buf2 = Buffer.from(buf1);\\n\\nbuf1[0] = 0x61; // a\\n\\nconsole.log(buf1.toString());\\n// \u6253\u5370: auffer\\nconsole.log(buf2.toString());\\n// \u6253\u5370: buffer\\n```\\n\\n```javascript\\nconst buf1 = Buffer.from(\\"\u77e5\\");\\nconst buf2 = Buffer.from(buf1);\\n\\n// \u6839\u636e utf-8 \u7f16\u7801\u89c4\u5219, \u540e\u9762\u4e24\u4e2a\u5b57\u8282\u663e\u7136\u65e0\u6548\u55bd\\n// \u56e0\u4e3a\u5b83\u5c5e\u4e8e 0~U+007F\\nbuf1[0] = 0x61;\\n\\nconsole.log(buf1.toString());\\n// \u6253\u5370: a\ufffd\ufffd\\nconsole.log(buf2.toString());\\n// \u6253\u5370: \u77e5\\n```\\n\\n### 2.4 Buffer.alloc\\n\\n```javascript\\nconst buf = Buffer.alloc(26);\\nfor (var i = 0; i < 26; i++) {\\n  buf[i] = i + 97;\\n}\\n\\nconsole.log(buf.toString(\\"ascii\\")); // \u8f93\u51fa: abcdefghijklmnopqrstuvwxyz\\nconsole.log(buf.toString(\\"ascii\\", 0, 5)); // \u8f93\u51fa: abcde\\nconsole.log(buf.toString(\\"utf8\\", 0, 5)); // \u8f93\u51fa: abcde\\nconsole.log(buf.toString(undefined, 0, 5)); // \u4f7f\u7528 \'utf8\' \u7f16\u7801, \u5e76\u8f93\u51fa: abcde\\n```\\n\\n#### Buffer.alloc(size[, fill[, encoding]])\\n\\n- size \u4ee3\u8868 Buffer \u7684\u957f\u5ea6\\n- fill \u521d\u59cb\u5316\u586b\u5145\u7684\u5185\u5bb9\\n- encoding \u4ee3\u8868\u7f16\u7801\\n\\n![20230228202308](http://s3.airtlab.com/blog/20230228202308.png)\\n\\n\u53ef\u4ee5\u770b\u51fa fil l \u548c encoding \u4e4b\u95f4\u7684\u5173\u7cfb\uff0cfill \u5148\u6309\u7167 encoding \u7f16\u7801\u6210\u4e8c\u8fdb\u5236\uff0c\u7136\u540e\u4e00\u4e2a\u5b57\u8282\u4e00\u4e2a\u5b57\u8282\u7684\u5411\u6b64\u65b9\u6cd5\u751f\u6210\u7684 Buffer \u4e2d\u586b\u5145\uff0c\u6839\u636e\u957f\u5ea6 size\uff0c\u4f9d\u6b21\u5faa\u73af\u3002\\n\\n### 2.5 Buffer.from \u5bf9\u6bd4\\n\\n(1) Buffer.from(array)\xa0 \u8fd4\u56de\u4e00\u4e2a\u88ab array \u7684\u503c\u521d\u59cb\u5316\u7684\u65b0\u7684 Buffer \u5b9e\u4f8b\uff08\u4f20\u5165\u7684 array \u7684\u5143\u7d20\u53ea\u80fd\u662f\u6570\u5b57\uff0c\u4e0d\u7136\u5c31\u4f1a\u81ea\u52a8\u88ab 0 \u8986\u76d6\uff09\u3002\\n(2) Buffer.from(arrayBuffer[, byteOffset[, length]])\xa0 \u8fd4\u56de\u4e00\u4e2a\u65b0\u5efa\u7684\u4e0e\u7ed9\u5b9a\u7684 ArrayBuffer \u5171\u4eab\u540c\u4e00\u5185\u5b58\u7684 Buffer\u3002\\n(3) Buffer.from(buffer)\xa0 \u590d\u5236\u4f20\u5165\u7684 Buffer \u5b9e\u4f8b\u7684\u6570\u636e\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 Buffer \u5b9e\u4f8b\u3002\\n(4) Buffer.from(string[, encoding])\uff1a \u8fd4\u56de\u4e00\u4e2a\u88ab string \u7684\u503c\u521d\u59cb\u5316\u7684\u65b0\u7684 Buffer \u5b9e\u4f8b\u3002\\n\\n```javascript\\n// \u521b\u5efa\u4e00\u4e2a\u5305\u542b [0x1, 0x2, 0x3] \u7684 Buffer\u3002\\nconst buf4 = Buffer.from([1, 2, 3]);\\n\\n// \u521b\u5efa\u4e00\u4e2a\u5305\u542b UTF-8 \u5b57\u8282 [0x74, 0xc3, 0xa9, 0x73, 0x74] \u7684 Buffer\u3002\\nconst buf5 = Buffer.from(\\"t\xe9st\\");\\n\\n// \u521b\u5efa\u4e00\u4e2a\u5305\u542b Latin-1 \u5b57\u8282 [0x74, 0xe9, 0x73, 0x74] \u7684 Buffer\u3002\\nconst buf6 = Buffer.from(\\"t\xe9st\\", \\"latin1\\");\\n```\\n\\n#### Buffer.from(arrayBuffer[, byteOffset[, length]])\\n\\n![20230228202419](http://s3.airtlab.com/blog/20230228202419.png)\\n\\n\u5c06\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\u7ec4`[5000, 4000]` \u653e\u5165 Buffer \u4e2d\u751f\u6210\u4e86 `<88 a0>`\uff0c\u56e0\u4e3a Buffer \u5b9e\u4f8b\u662f Uint8Array \u7684\u5b9e\u4f8b\uff0c\u6b64\u65f6\u76f8\u5f53\u4e8e\u628a arr \u653e\u5165 Uint8Array \u4e2d\uff0c\u5143\u7d20\u4e00\u4e00\u5bf9\u5e94\uff0c\u800c Uint8Array \u6bcf\u4e2a\u5143\u7d20\u90fd\u662f 8 \u4f4d\uff0c\u6700\u5927\u503c\u662f 256\uff0c\u6240\u4ee5\u53d1\u751f\u4e86\u6ea2\u51fa\uff0c\u6839\u636e\u6ea2\u51fa\u7684\u7b97\u6cd5\u6700\u7ec8\u53d8\u4e3a\u4e86<88 a0>\u3002\\n\\n\u5982\u679c\u4e0d\u60f3\u53d1\u751f\u6ea2\u51fa\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e8c\u8fdb\u5236\u6570\u7ec4\u7684 buffer \u5c5e\u6027\uff08\u6b64\u65f6\u4f1a\u5171\u4eab\u5185\u5b58\uff09\uff1a\\n\\n![20230228202649](http://s3.airtlab.com/blog/20230228202649.png)\\n\\n\u53ef\u9009\u7684 byteOffset \u548c length \u53c2\u6570\u6307\u5b9a arrayBuffer \u4e2d\u4e0e Buffer \u5171\u4eab\u7684\u5185\u5b58\u8303\u56f4\uff0c\u5982\u679c\u4e0d\u4f7f\u7528 buffer \u5c5e\u6027\uff0c\u8fd9\u4e24\u4e2a\u53c2\u6570\u5e76\u4e0d\u4f1a\u751f\u6548\u3002\\n\\n![20230228202659](http://s3.airtlab.com/blog/20230228202659.png)\\n\\n\u53ef\u9009\u7684 byteOffset \u548c length \u53c2\u6570\u6307\u5b9a arrayBuffer \u4e2d\u4e0e Buffer \u5171\u4eab\u7684\u5185\u5b58\u8303\u56f4\uff0c\u5982\u679c\u4e0d\u4f7f\u7528 buffer \u5c5e\u6027\uff0c\u8fd9\u4e24\u4e2a\u53c2\u6570\u5e76\u4e0d\u4f1a\u751f\u6548\uff1a\\n![20230228202715](http://s3.airtlab.com/blog/20230228202715.png)\\n\\n## 3\u3001\u8bfb\u5b57\u8282\u6d41\\n\\n### 3.1 readUInt8/readInt8\\n\\n\u8bfb\u53d6\u4e00\u4e2a\u5b57\u8282\u7684\u6709/\u65e0\u7b26\u53f7\u7684\u6574\u6570\\n\\n![20230228202626](http://s3.airtlab.com/blog/20230228202626.png)\\n\\n- readUInt8 \u76f4\u63a5\u8bfb\u53d6\u4e00\u4e2a\u5b57\u8282\u7684\u4e8c\u8fdb\u5236\\n- readInt8 \u8bfb\u53d6 8 \u4f4d\u6709\u7b26\u53f7\u7684\u4e8c\u8fdb\u5236\uff0c\u6240\u4ee5\u6709\u53ef\u80fd\u4f1a\u53d1\u751f\u6ea2\u51fa\uff0c\u6ea2\u51fa\u7684\u7b97\u6cd5\u4e4b\u524d\u5df2\u7ecf\u63d0\u5230\u4e86\\n\\n### 3.2 \u8bfb\u53d6 16 \u4f4d\\n\\n- readInt16BE\\n- readInt16LE\\n- readUInt16BE\\n- readUInt16LE\\n\\n\u8bfb\u53d6`\u4e24\u4e2a\u5b57\u8282`\u7684\u6709/\u65e0\u7b26\u53f7\u7684\u6574\u6570\\n\\n- BE \u4ee3\u8868\u5927\u7aef\u5b57\u8282\u5e8f\uff0c\u9ad8\u4f4d\u5728\u524d\uff0c\u7f51\u7edc\u5c31\u662f\u8fd9\u79cd\u5b57\u8282\u5e8f\\n- LE \u4ee3\u8868\u5c0f\u7aef\u5b57\u8282\u5e8f\uff0c\u4f4e\u4f4d\u5728\u524d\\n\\n![20230228202551](http://s3.airtlab.com/blog/20230228202551.png)\\n\\n```javascript\\nconst buf = Buffer.from([0xff, 0x01, 0x08, 0x05]);\\nconsole.log(buf);\\n\\nconsole.log(buf.readUInt16BE(0)); // 65281 = 15 * 16 * 16 * 16 + 15 * 16 * 16 + 1\\n\\n// \u6309\u7167\u5927\u7aef\u987a\u5e8f\u8bfb\u53d6\uff08\u6709\u7b26\u53f7\uff09\\n// => 1111 1111 0000 0001\\n// => 1111 1110\\n// => 1111 1111\\nconsole.log(buf.readInt16BE(0)); // -255\\n```\\n\\n```javascript\\n{\\n  const buf = Buffer.from([0x9f, 0xaf, 0x08, 0x05]);\\n  console.log(buf);\\n\\n  // 9 * 16 * 16 * 16 + 15 * 16 * 16 + 10 * 16 + 15 = 40879\\n  // \u800c16\u4f4d\u6709\u7b26\u53f7\u8303\u56f4 -32768\uff5e32767\\n  // 1001 1111 1010 1111 \u539f\u7801\\n  // 0110 0000 0101 0000 \u53cd\u7801\\n  // 0110 0000 0110 0001 \u8865\u7801\\n  // 6051 => 24657\\n  console.log(buf.readInt16BE(0)); // -24657  \u8fd9\u4e2a\u6570\u662f\u600e\u4e48\u6765\u7684\u5462\\n}\\n```\\n\\n## 4.\xa0 \u5199\u5165\u7f13\u51b2\u533a\\n\\n```javascript\\nbuf.write(string[, offset[, length]][, encoding])\\n// @param string - \u5199\u5165\u7f13\u51b2\u533a\u7684\u5b57\u7b26\u4e32\u3002\\n// @param offset - \u7f13\u51b2\u533a\u5f00\u59cb\u5199\u5165\u7684\u7d22\u5f15\u503c\uff0c\u9ed8\u8ba4\u4e3a 0 \u3002\\n// @param length - \u5199\u5165\u7684\u5b57\u8282\u6570\uff0c\u9ed8\u8ba4\u4e3a buffer.length\\n// @param encoding - \u4f7f\u7528\u7684\u7f16\u7801\u3002\u9ed8\u8ba4\u4e3a \'utf8\' \u3002\\n// @result \u8fd4\u56de\u5b9e\u9645\u5199\u5165\u7684\u5927\u5c0f\u3002\u5982\u679c buffer \u7a7a\u95f4\u4e0d\u8db3\uff0c \u5219\u53ea\u4f1a\u5199\u5165\u90e8\u5206\u5b57\u7b26\u4e32\u3002\\n```\\n\\n```javascript\\nconst buf = Buffer.alloc(256);\\nconst len = buf.write(\\"www.runoob.com\\");\\nconsole.log(\\"\u5199\u5165\u5b57\u8282\u6570 : \\" + len);\\nconsole.log(buf.toString(\\"ascii\\"));\\n```\\n\\n## 5.\xa0 \u4ece\u7f13\u51b2\u533a\u8bfb\u53d6\u6570\u636e\\n\\n```javascript\\nbuf.toString([encoding[, start[, end]]])\\n// @param encoding - \u4f7f\u7528\u7684\u7f16\u7801\u3002\u9ed8\u8ba4\u4e3a \'utf8\' \u3002\\n// @param start - \u6307\u5b9a\u5f00\u59cb\u8bfb\u53d6\u7684\u7d22\u5f15\u4f4d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a 0\u3002\\n// @param end - \u7ed3\u675f\u4f4d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a\u7f13\u51b2\u533a\u7684\u672b\u5c3e\u3002\\n// @result \u89e3\u7801\u7f13\u51b2\u533a\u6570\u636e\u5e76\u4f7f\u7528\u6307\u5b9a\u7684\u7f16\u7801\u8fd4\u56de\u5b57\u7b26\u4e32\\n```\\n\\n```javascript\\nbuf = Buffer.alloc(26);\\nfor (var i = 0; i < 26; i++) {\\n  buf[i] = i + 97;\\n}\\n\\nconsole.log(buf.toString(\\"ascii\\")); // \u8f93\u51fa: abcdefghijklmnopqrstuvwxyz\\nconsole.log(buf.toString(\\"ascii\\", 0, 5)); // \u8f93\u51fa: abcde\\nconsole.log(buf.toString(\\"utf8\\", 0, 5)); // \u8f93\u51fa: abcde\\nconsole.log(buf.toString(undefined, 0, 5)); // \u4f7f\u7528 \'utf8\' \u7f16\u7801, \u5e76\u8f93\u51fa: abcde\\n```\\n\\n## 6.\xa0 \u7f13\u51b2\u533a\u5408\u5e76\\n\\n```javascript\\nvar buffer1 = Buffer.from(\\"\u83dc\u9e1f\u6559\u7a0b\\");\\nvar buffer2 = Buffer.from(\\"www.runoob.com\\");\\n\\nvar buffer3 = Buffer.concat([buffer1, buffer2]);\\nconsole.log(\\"buffer3 \u5185\u5bb9: \\" + buffer3.toString());\\n```\\n\\n## 7. **TypedArray**\\n\\n> \u4e00\u4e2a **_TypedArray_** \u5bf9\u8c61\u63cf\u8ff0\u4e86\u5e95\u5c42[\u4e8c\u8fdb\u5236\u6570\u636e\u7f13\u51b2\u533a](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer)\u7684\u7c7b\u6570\u7ec4\u89c6\u56fe\uff0c\u662f\u6240\u6709 TypedArray \u5b50\u7c7b\u7684\u901a\u7528\u7236\u7c7b\u3002\u5c06 %TypedArray% \u4f5c\u4e3a\u4e00\u4e2a\u201c\u62bd\u8c61\u7c7b\u201d\uff0c\\n\\n```javascript\\n// Create a TypedArray with a size in bytes\\nconst typedArray1 = new Int8Array(8);\\ntypedArray1[0] = 32;\\n\\nconst typedArray2 = new Int8Array(typedArray1);\\ntypedArray2[1] = 42;\\n\\nconsole.log(typedArray1);\\n// Expected output: Int8Array [32, 0, 0, 0, 0, 0, 0, 0]\\n\\nconsole.log(typedArray2);\\n// Expected output: Int8Array [32, 42, 0, 0, 0, 0, 0, 0]\\n```\\n\\n### TypeArray \u5217\u8868\\n\\n| \u7c7b\u578b                                                                                                                    | \u503c\u8303\u56f4                                       | \u5b57\u8282\u5927\u5c0f | \u63cf\u8ff0                                                      | Web IDL \u7c7b\u578b        | \u7b49\u4ef7\u7684 C \u7c7b\u578b                 |\\n| ----------------------------------------------------------------------------------------------------------------------- | -------------------------------------------- | -------- | --------------------------------------------------------- | ------------------- | ----------------------------- |\\n| [Int8Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Int8Array)                 | -128 \u5230 127                                  | 1        | 8 \u4f4d\u6709\u7b26\u53f7\u6574\u578b\uff08\u8865\u7801\uff09                                    | byte                | int8_t                        |\\n| [Uint8Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)               | 0 \u5230 255                                     | 1        | 8 \u4f4d\u65e0\u7b26\u53f7\u6574\u578b                                            | octet               | uint8_t                       |\\n| [Uint8ClampedArray](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray) | 0 \u5230 255                                     | 1        | 8 \u4f4d\u65e0\u7b26\u53f7\u6574\u578b\uff08\u4e00\u5b9a\u5728 0 \u5230 255 \u4e4b\u95f4\uff09                    | octet               | uint8_t                       |\\n| [Int16Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Int16Array)               | -32768 \u5230 32767                              | 2        | 16 \u4f4d\u6709\u7b26\u53f7\u6574\u578b\uff08\u8865\u7801\uff09                                   | short               | int16_t                       |\\n| [Uint16Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array)             | 0 \u5230 65535                                   | 2        | 16 \u4f4d\u65e0\u7b26\u53f7\u6574\u578b                                           | unsigned short      | uint16_t                      |\\n| [Int32Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Int32Array)               | -2147483648 \u5230 2147483647                    | 4        | 32 \u4f4d\u6709\u7b26\u53f7\u6574\u578b\uff08\u8865\u7801\uff09                                   | long                | int32_t                       |\\n| [Uint32Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array)             | 0 \u5230 4294967295                              | 4        | 32 \u4f4d\u65e0\u7b26\u53f7\u6574\u578b                                           | unsigned long       | uint32_t                      |\\n| [Float32Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Float32Array)           | -3.4E38 \u5230 3.4E38 \u5e76\u4e14 1.2E-38 \u662f\u6700\u5c0f\u7684\u6b63\u6570  | 4        | 32 \u4f4d IEEE \u6d6e\u70b9\u6570\uff087 \u4f4d\u6709\u6548\u6570\u5b57\uff0c\u4f8b\u5982 1.234567\uff09          | unrestricted float  | float                         |\\n| [Float64Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Float64Array)           | -1.8E308 \u5230 1.8E308 \u5e76\u4e14 5E-324 \u662f\u6700\u5c0f\u7684\u6b63\u6570 | 8        | 64 \u4f4d IEEE \u6d6e\u70b9\u6570\uff0816 \u4f4d\u6709\u6548\u6570\u5b57\uff0c\u4f8b\u5982 1.23456789012345\uff09 | unrestricted double | double                        |\\n| [BigInt64Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/BigInt64Array)         | -263 \u5230 263 - 1                              | 8        | 64 \u4f4d\u6709\u7b26\u53f7\u6574\u578b\uff08\u8865\u7801\uff09                                   | bigint              | int64_t (signed long long)    |\\n| [BigUint64Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/BigUint64Array)       | 0 \u5230 264 - 1                                 | 8        | 64 \u4f4d\u65e0\u7b26\u53f7\u6574\u578b                                           | bigint              | uint64_t (unsigned long long) |\\n\\n### \u6ea2\u51fa\u89c4\u5219\\n\\n```javascript\\n{\\n  // -128 \u5230 127\\n  const typedArray1 = new Int8Array(8);\\n  typedArray1[0] = 128;\\n\\n  console.log(typedArray1); // ? \u4e3a\u4ec0\u4e48\u662f -128\\n  // Int8Array(8) [\\n  //     -128, 0, 0, 0,\\n  //        0, 0, 0, 0\\n  //   ]\\n}\\n\\n{\\n  // -128 \u5230 127\\n  const typedArray1 = new Int8Array(8);\\n  typedArray1[0] = 300;\\n\\n  console.log(typedArray1); // ? \u4e3a\u4ec0\u4e48\u662f44\\n  // Int8Array(8) [\\n  //     44, 0, 0, 0,\\n  //        0, 0, 0, 0\\n  //   ]\\n}\\n```\\n","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/08 ArrayBuffer.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/08 ArrayBuffer.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/08 ArrayBuffer.md","leaf":true,"title":"08 ArrayBuffer","depth":2,"content":"\u76ee\u524d\u7b14\u8005\u5f88\u5c11\u6709\u4f7f\u7528\u5230\u76f8\u5173API\uff0c\u4ec5\u505a\u4e86\u89e3\u3002\\n\\n## 1. \u4e8c\u8fdb\u5236\u6570\u7ec4\u7684\u7531\u6765\\n\u4e3a\u4e86\u6ee1\u8db3 JavaScript \u4e0e\u663e\u5361\u4e4b\u95f4\u5927\u91cf\u7684\u3001\u5b9e\u65f6\u7684\u6570\u636e\u4ea4\u6362\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u6570\u636e\u901a\u4fe1\u5fc5\u987b\u662f\u4e8c\u8fdb\u5236\u7684\uff0c\u800c\u4e0d\u80fd\u662f\u4f20\u7edf\u7684\u6587\u672c\u683c\u5f0f\u3002\u6587\u672c\u683c\u5f0f\u4f20\u9012\u4e00\u4e2a32\u4f4d\u6574\u6570\uff0c\u4e24\u7aef\u7684 JavaScript \u811a\u672c\u4e0e\u663e\u5361\u90fd\u8981\u8fdb\u884c\u683c\u5f0f\u8f6c\u5316\uff0c\u5c06\u975e\u5e38\u8017\u65f6\u3002\u8fd9\u65f6\u8981\u662f\u5b58\u5728\u4e00\u79cd\u673a\u5236\uff0c\u53ef\u4ee5\u50cf C \u8bed\u8a00\u90a3\u6837\uff0c\u76f4\u63a5\u64cd\u4f5c\u5b57\u8282\uff0c\u5c064\u4e2a\u5b57\u8282\u768432\u4f4d\u6574\u6570\uff0c\u4ee5\u4e8c\u8fdb\u5236\u5f62\u5f0f\u539f\u5c01\u4e0d\u52a8\u5730\u9001\u5165\u663e\u5361\uff0c\u811a\u672c\u7684\u6027\u80fd\u5c31\u4f1a\u5927\u5e45\u63d0\u5347\u3002\\n\\n\u6bd4\u5982 WebGL \u76f8\u5173\u63a5\u53e3\u7684\u8c03\u7528\u3002\\n\\n\u4e8c\u8fdb\u5236\u6570\u7ec4\u4e3b\u8981\u6709\u4e09\u4e2a\u5bf9\u8c61\uff1a\\n- ArrayBuffer\\n- TypedArray\\n- DataView\\n\\n\u53c2\u8003\u6587\u7ae0\uff1a\\n- [JS\u64cd\u4f5c\u5185\u5b58\uff1f\u4e8c\u8fdb\u5236\u6570\u7ec4\u4e86\u89e3\u4e00\u4e0b](https://www.bilibili.com/read/cv4386302/)\\n- [ArrayBuffer \u4ecb\u7ecd](https://wizardforcel.gitbooks.io/es6-tutorial-3e/content/docs/arraybuffer.html)","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/09 nodejs \u94fe\u8def\u8ffd\u8e2a.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/09 nodejs \u94fe\u8def\u8ffd\u8e2a.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/09 nodejs \u94fe\u8def\u8ffd\u8e2a.md","leaf":true,"title":"09 nodejs \u94fe\u8def\u8ffd\u8e2a","depth":2,"content":"## 1\u3001\u7814\u7a76\u80cc\u666f\\n\u94fe\u8def\u8ffd\u8e2a\u662f\u540e\u53f0\u670d\u52a1\u5f00\u53d1\u7684\u4e00\u4e2a\u5f88\u91cd\u8981\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u5c06\u6240\u6709\u7684\u8c03\u7528\u4e32\u8054\u8d77\u6765\uff0c\u5f62\u6210\u4e00\u4e2a\u6709\u5148\u540e\u987a\u5e8f\u7684\u94fe\u8def\u56fe\u3002\u672c\u6587\u7814\u7a76\u5982\u4f55\u5728 nodejs \u4e2d\u5b9e\u73b0\u94fe\u8def\u8ffd\u8e2a\u3002\\n\\n## 2\u3001\u94fe\u8def\u4fe1\u606f\u83b7\u53d6\\n\u5bf9\u4e8e\u591a\u7ebf\u7a0b\u8bed\u8a00\u5982 Java \u3001 Python \u6765\u8bf4\uff0c\u505a\u5168\u94fe\u8def\u4fe1\u606f\u83b7\u53d6\u6709\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5982 ThreadLocal \u8fd9\u79cd\u5229\u5668\u76f8\u52a9\u3002\u800c\u5bf9\u4e8e Node.js \u6765\u8bf4\uff0c\u7531\u4e8e\u5355\u7ebf\u7a0b\u548c\u57fa\u4e8eIO\u56de\u8c03\u7684\u65b9\u5f0f\u6765\u5b8c\u6210\u5f02\u6b65\u64cd\u4f5c\uff0c\u6240\u4ee5\u5728\u5168\u94fe\u8def\u4fe1\u606f\u83b7\u53d6\u4e0a\u5b58\u5728\u5929\u7136\u83b7\u53d6\u96be\u5ea6\u5927\u7684\u95ee\u9898\u3002\u90a3\u4e48\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\\n\\n## 3\u3001\u4e1a\u754c\u65b9\u6848\\n\u7531\u4e8e Node.js \u5355\u7ebf\u7a0b\uff0c\u975e\u963b\u585e IO \u7684\u8bbe\u8ba1\u601d\u60f3\u3002\u5728\u5168\u94fe\u8def\u4fe1\u606f\u83b7\u53d6\u4e0a\uff0c\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b 2 \u79cd\u65b9\u6848\uff1a\\n\\n- \u663e\u5f0f\u4f20\u9012\uff1a\u624b\u52a8\u4f20\u9012\u3001\u4e2d\u95f4\u4ef6\u6302\u8f7d\uff1b\\n- Async Hooks\uff1anode api\uff1b\\n\\n\u65b9\u68481\u663e\u5f0f\u4f20\u9012\u8fc7\u4e8e\u7e41\u7410\u548c\u5177\u6709\u4fb5\u5165\u6027\u3002<br />\u6548\u679c\u6700\u597d\u7684\u65b9\u6848\u5c31\u662f\u7b2c2\u79cd\u65b9\u6848\uff0c\u8fd9\u79cd\u65b9\u6848\u6709\u5982\u4e0b\u4f18\u70b9\uff1a\\n\\n- nodejs \u539f\u751f\u652f\u6301\u7684\u6a21\u5757\uff0c\u5177\u6709\u53ef\u9760\u6027\u6027\u4fdd\u8bc1\\n- \u9690\u5f0f\u7684\u94fe\u8def\u8ddf\u8e2a\uff0c\u5165\u4fb5\u5c0f\uff0c\u76ee\u524d\u9690\u5f0f\u8ddf\u8e2a\u7684\u6700\u4f18\u89e3\uff1b\\n- \u63d0\u4f9b\u4e86 API \u6765\u8ffd\u8e2a node \u4e2d\u5f02\u6b65\u8d44\u6e90\u7684\u751f\u547d\u5468\u671f\uff1b\\n- \u501f\u52a9 async_hook \u5b9e\u73b0\u4e0a\u4e0b\u6587\u7684\u5173\u8054\u5173\u7cfb\uff1b\\n\\n## 4\u3001Async Hooks\\n### 4.1  Async Hooks \u6982\u5ff5\\nAsync Hooks \u662f Node.js v8.x \u7248\u672c\u65b0\u589e\u52a0\u7684\u4e00\u4e2a\u6838\u5fc3\u6a21\u5757\uff0c\u5b83\u63d0\u4f9b\u4e86 API \u7528\u6765\u8ffd\u8e2a Node.js \u4e2d\u5f02\u6b65\u8d44\u6e90\u7684\u751f\u547d\u5468\u671f\uff0c\u53ef\u5e2e\u52a9\u6211\u4eec\u6b63\u786e\u8ffd\u8e2a\u5f02\u6b65\u8c03\u7528\u7684\u5904\u7406\u903b\u8f91\u53ca\u5173\u7cfb\u3002\\n\\n### 4.2 Async Hooks \u6838\u5fc3\\n![image__1](http://s3.airtlab.com/blog/image__1.png)\\n```typescript\\nimport async_hooks from \'node:async_hooks\';\\n\\n// Return the ID of the current execution context.\\n// \u8fd4\u56de\u5f53\u524d\u5f02\u6b65\u8d44\u6e90\u7684\u6267\u884c\u4e0a\u4e0b\u6587 id\\nconst eid = async_hooks.executionAsyncId();\\n\\n// Return the ID of the handle responsible for triggering the callback of the\\n// current execution scope to call.\\n// \u8fd4\u56de\u5f53\u524d\u5f02\u6b65\u8d44\u6e90\u6267 execution scope \u7684 trigger ID\\nconst tid = async_hooks.triggerAsyncId();\\n\\n// Create a new AsyncHook instance. All of these callbacks are optional.\\n// \u521b\u5efa\u5b9e\u4f8b\\nconst asyncHook =\\n    async_hooks.createHook({ init, before, after, destroy, promiseResolve });\\n\\n// Allow callbacks of this AsyncHook instance to call. This is not an implicit\\n// action after running the constructor, and must be explicitly run to begin\\n// executing callbacks.\\n// \u542f\u7528\\nasyncHook.enable();\\n\\n// Disable listening for new asynchronous events.\\n// \u7981\u7528\\nasyncHook.disable();\\n\\n//\\n// The following are the callbacks that can be passed to createHook().\\n//\\n\\n// init() is called during object construction. The resource may not have\\n// completed construction when this callback runs. Therefore, all fields of the\\n// resource referenced by \\"asyncId\\" may not have been populated.\\n// \u521d\u59cb\u5316(\u4e0d\u4e00\u5b9a\u5b8c\u6210)\\nfunction init(asyncId, type, triggerAsyncId, resource) { }\\n\\n// before() is called just before the resource\'s callback is called. It can be\\n// called 0-N times for handles (such as TCPWrap), and will be called exactly 1\\n// time for requests (such as FSReqCallback).\\nfunction before(asyncId) { }\\n\\n// after() is called just after the resource\'s callback has finished.\\nfunction after(asyncId) { }\\n\\n// destroy() is called when the resource is destroyed.\\nfunction destroy(asyncId) { }\\n\\n// promiseResolve() is called only for promise resources, when the\\n// resolve() function passed to the Promise constructor is invoked\\n// (either directly or through other means of resolving a promise).\\nfunction promiseResolve(asyncId) { }\\n```\\n\u901a\u8fc7 async_hooks \u94a9\u5b50\uff0c\u6211\u4eec\u53ef\u4ee5\u63a2\u6d4b\u5f02\u6b65\u8d44\u6e90\u6267\u884c\u7684\u5168\u751f\u547d\u5468\u671f\uff0c\u4ece \u521b\u5efa -> \u6267\u884c\u524d -> \u6267\u884c\u540e -> \u9500\u6bc1\u3002\\n```javascript\\nconst asyncHooks = require(\'async_hooks\');\\nconst fs = require(\'fs\');\\n\\nconst hooks = asyncHooks.createHook({\\n  init(asyncId, type, triggerAsyncId, resource) {\\n    fs.writeFileSync(2, `init asyncId: ${asyncId}, type: ${type}, triggerAsyncId: ${triggerAsyncId}\\\\n`)\\n  },\\n  destroy (asyncId) {\\n    fs.writeFileSync(2, `destroy: ${asyncId}\\\\n`)\\n  },\\n  before (asyncId) {\\n    fs.writeFileSync(2, `before: ${asyncId}\\\\n`)\\n  },\\n  after (asyncId) {\\n    fs.writeFileSync(2, `after: ${asyncId}\\\\n`)\\n  }\\n});\\nhooks.enable();\\n\\nsetTimeout(() => {\\n  setTimeout(() => {\\n  })\\n})\\n```\\n\u6253\u5370\u987a\u5e8f\u5982\u4e0b\uff1a\\n```javascript\\ninit asyncId: 2, type: Timeout, triggerAsyncId: 1\\nbefore: 2\\ninit asyncId: 3, type: Timeout, triggerAsyncId: 2\\nafter: 2\\ndestroy: 2\\nbefore: 3\\nafter: 3\\ndestroy: 3\\n```\\n\\n### 4.3 AsyncResource \u5f02\u6b65\u8d44\u6e90\\nAsyncResource \u7528\u4e8e\u521b\u5efa\u5f02\u6b65\u8d44\u6e90 context\uff0c\u53ef\u4ee5\u8ba9\u5f88\u591a\u4e2a\u5f02\u6b65\u8d44\u6e90\u5171\u4eab\u4e0a\u4e0b\u6587\u3002\\n```typescript\\nconst asyncHook = require(\\"async_hooks\\");\\nconst fs = require(\\"fs\\");\\nconst list = []\\n\\nasyncHook\\n  .createHook({\\n    init(asyncId, type, triggerAsyncId) {\\n      const content = `asyncId: ${asyncId}, type: ${type}, triggerAsyncId: ${triggerAsyncId}`\\n      fs.writeSync(1, content);\\n      fs.writeSync(1, \\"\\\\n\\");\\n    },\\n  })\\n  .enable();\\n\\nconst asyncResource = new asyncHook.AsyncResource(\\"ZeroContext\\");\\nfs.writeSync(1, asyncResource.asyncId().toString());\\nfs.writeSync(1, \\"\\\\n\\");\\n\\n// \u5728\u6b64\u5f02\u6b65\u8d44\u6e90\u7684\u6267\u884c\u4e0a\u4e0b\u6587\u4e2d\u8c03\u7528\u7684\u51fd\u6570\\nasyncResource.runInAsyncScope(() => {\\n  setTimeout(() => {})\\n});\\n\\n// asyncId: 2, type: ZeroContext, triggerAsyncId: 1\\n// 2\\n// asyncId: 3, type: Timeout, triggerAsyncId: 2\\n```\\n```javascript\\nconst http = require(\'http\');\\nconst { AsyncLocalStorage } = require(\'async_hooks\');\\n\\nconst asyncLocalStorage = new AsyncLocalStorage();\\n\\nfunction logWithId(msg) {\\n  const id = asyncLocalStorage.getStore();\\n  console.log(`${id !== undefined ? id : \'-\'}:`, msg);\\n}\\n\\nlet idSeq = 0;\\n\\nhttp.createServer((req, res) => {\\n  // \u6bcf\u4e00\u4e2a\u8bf7\u6c42\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684id\\n  // \u6bcf\u4e00\u4e2a\u8bf7\u6c42\u7684\u5904\u7406\u903b\u8f91\u90fd\u653e\u5230 asyncLocalStorage.run \u4e2d\uff0c\u5e76\u4e14\u4f20\u5165 id\\n\\n  asyncLocalStorage.run(idSeq++, () => {\\n    logWithId(\'start\');\\n    setImmediate(() => {\\n      logWithId(\'processing...\');\\n      setTimeout(() => {\\n        logWithId(\'finish\');\\n        res.end(\\"hello\\");\\n      }, 2000)\\n    });\\n  });\\n}).listen(8080);\\n```\\n\\n## 5\u3001http-context \u7684\u5b9e\u73b0\\nhttp context \u662f\u6307\u8bf7\u6c42\u4e0a\u4e0b\u6587\uff0c\u5bf9\u4e8e server \u6765\u8bf4\uff0c\u6bcf\u4e00\u4e2a\u8bf7\u6c42\u90fd\u6709\u72ec\u7acb\u7684\u8bf7\u6c42\u4e0a\u4e0b\u6587\u3002\\n### 5.1 \u901a\u8fc7 hooks \u5b9e\u73b0\\n\u7b80\u5316\u540e\u7684\u4ee3\u7801\uff0cns \u5bf9\u8c61\u67093\u4e2a\u5173\u952e\u7684\u5c5e\u6027: \\n\\n- active \u5f53\u524d\u7684 context\\n- _contexts context \u548c asyncId \u7684\u6620\u5c04\\n- _set context \u6808\\n```javascript\\nfunction Context() {\\n  this._map = {};\\n}\\n\\nContext.prototype.set = function (key, val) {\\n  this._map[key] = val;\\n};\\n\\nContext.prototype.get = function (key, val) {\\n  return this._map[key];\\n};\\n\\nconst ns = new Namespace();\\nlet currentUid = -1;\\n\\nfunction createNamespace(name) {\\n  let namespace = new Namespace(name);\\n  namespace.id = currentUid;\\n}\\n\\nconst hooks = asyncHooks.createHook({\\n  // \u5f53 int \u88ab\u89e6\u53d1\u65f6\u8bf4\u660e\uff0c\u6b63\u5728\u521b\u5efa\u4e00\u4e2a\u5f02\u6b65\u8d44\u6e90\uff0c\\n  // \u6211\u4eec\u9700\u8981\u5c06\u8be5\u5f02\u6b65\u8d44\u6e90\u548c\u5f53\u524d\u7684 context \u5173\u8054\u8d77\u6765\\n  init(asyncId, type, triggerAsyncId, resource) {\\n    currentUid = async_hooks.executionAsyncId();\\n    if (namespace.active) {\\n      namespace._contexts.set(asyncId, namespace.active);\\n    } else if (currentUid === 0) {\\n      const triggerId = async_hooks.triggerAsyncId();\\n      const triggerIdContext = namespace._contexts.get(triggerId);\\n      if (triggerIdContext) {\\n        namespace._contexts.set(asyncId, triggerIdContext);\\n      }\\n    }\\n  },\\n  // \u5f53 before \u88ab\u8c03\u7528\u65f6\uff0c\u8bf4\u660e\u9a6c\u4e0a\u8981\u6267\u884c\u8be5\u5f02\u6b65\u8d44\u6e90\u7684\u56de\u8c03\\n  // \u6211\u4eec\u9700\u8981\u66f4\u65b0\u8be5 active \u4e3a _map[asyncId]\\n  // \u800c\u4e14 push \u5230 context stack \u4e2d\\n  before(asyncId) {\\n    const context = this._map[asyncId];\\n    ns.enter(context);\\n  },\\n  // \u5f53 after \u88ab\u8c03\u7528\u65f6\uff0c\u8bf4\u660e\u9a6c\u4e0a\u8981\u6267\u884c\u8be5\u5f02\u6b65\u8d44\u6e90\u7684\u56de\u8c03\u5df2\u7ecf\u6267\u884c\u5b8c\u6bd5\\n  // \u6211\u4eec\u9700\u8981\u66f4\u65b0\u8be5 active \u4e3a stack \u4e2d\u7684\u5012\u6570\u7b2c\u4e8c\u4e2a\\n  after(asyncId) {\\n    const context = this._map[asyncId];\\n    ns.exit(context);\\n  },\\n  // \u5f02\u6b65\u8d44\u6e90\u9500\u6bc1\uff0c\u91ca\u653e\u8d44\u6e90\\n  destroy(asyncId) {\\n    ns._contexts[asyncId] = null;\\n  },\\n});\\n\\nhooks.enabled();\\n\\nfunction Namespace() {\\n  this.active = null;\\n  this._set = [];\\n  this._contexts = new Map();\\n}\\n\\nNamespace.prototype.run = function (fn) {\\n  const context = new createContext();\\n  this.enter(context);\\n  fn(context);\\n};\\n\\nNamespace.prototype.runPromise = function (fn) {\\n  const context = new createContext();\\n  const promise = this.enter(context);\\n\\n  return promise\\n    .then((result) => {\\n      this.exit(context);\\n      return result;\\n    })\\n    .catch((err) => {\\n      this.exit(context);\\n      throw err;\\n    });\\n};\\n\\nNamespace.prototype.enter = function (context) {\\n  this.active = context;\\n  this.stack.push(this.active);\\n};\\n\\nNamespace.prototype.exit = function (context) {\\n  if (this.active === context) {\\n    this.active = this._set.pop();\\n    return;\\n  }\\n};\\n\\n// \u63d0\u4f9b express middleware\\nfunction contextMiddleware(req, res, next) {\\n  ns.run(() => next());\\n}\\n```\\n### 5.2 cls-hookd\\n[npm cls]([https://www.npmjs.com/package/cls](https://www.npmjs.com/package/cls)) \u7684\u5de5\u4f5c\u65b9\u5f0f\u7c7b\u4f3c\u4e8e tls\u3002[cls-hooked]([https://www.npmjs.com/package/cls-hooked](https://www.npmjs.com/package/cls-hooked)) \u8fd9\u4e2a\u5305\u4ece cls fork \u800c\u6765\uff0ccls-hooked \u91c7\u7528\u65b0\u7684 api [async_hooks](https://link.juejin.cn/?target=https%3A%2F%2Fnodejs.org%2Fapi%2Fasync_hooks.html) \u5bf9\u6838\u5fc3\u903b\u8f91\u8fdb\u884c\u4e86\u91cd\u5199\u3002\\n### 5.3 express-http-context\\n\u57fa\u4e8e cls-hookd \u5c01\u88c5\u4e3a express \u4e2d\u95f4\u4ef6\u7684\u5f62\u5f0f\\n## 6\u3001\u53c2\u8003\u8d44\u6599\\n\\n- VIVO \u6280\u672f\u56e2\u961f\u300a Node.js \u5e94\u7528\u5168\u94fe\u8def\u8ffd\u8e2a\u6280\u672f\u300b\u2014\u2014 [\u5168\u94fe\u8def\u4fe1\u606f\u83b7\u53d6](https://mp.weixin.qq.com/s/SpC50ZqbKnKjlGBTSPMd9w?scene=25#wechat_redirect)","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/10 \u8ba9 nodejs \u7a0b\u5e8f crash.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/10 \u8ba9 nodejs \u7a0b\u5e8f crash.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/10 \u8ba9 nodejs \u7a0b\u5e8f crash.md","leaf":true,"title":"10 \u8ba9 nodejs \u7a0b\u5e8f crash","depth":2,"content":"- \u5f02\u5e38\u672a\u88ab\u6355\u83b7\\n- \u5185\u5b58\u6ea2\u51fa\\n- \u53d1\u9001\u4e2d\u65ad\u4fe1\u53f7\uff08CTRL + C\uff09\u6216\u505c\u6b62\u8fdb\u7a0b\u6765\u505c\u6b62Node.js\u7a0b\u5e8f\\n- \u5728\u4ee3\u7801\u4e2d\u5f15\u5165\u4e0d\u5b58\u5728\u7684\u6a21\u5757\u6216\u6587\u4ef6","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/11 stream \u7684\u4f7f\u7528.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/11 stream \u7684\u4f7f\u7528.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/11 stream \u7684\u4f7f\u7528.md","leaf":true,"title":"11 stream \u7684\u4f7f\u7528","depth":2,"content":"## 1\u3001stream \u4ecb\u7ecd\\n\\nStream \u662f\u4e00\u4e2a\u62bd\u8c61\u63a5\u53e3\uff0cNode \u4e2d\u6709\u5f88\u591a\u5bf9\u8c61\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u63a5\u53e3\u3002\u4f8b\u5982\uff0c\u5bf9 http \u670d\u52a1\u5668\u53d1\u8d77\u8bf7\u6c42\u7684 request \u5bf9\u8c61\u5c31\u662f\u4e00\u4e2a Stream\uff0c\u8fd8\u6709 stdout\uff08\u6807\u51c6\u8f93\u51fa\uff09\u3002\\n\\n**Node.js Stream \u6709\u56db\u79cd\u6d41\u7c7b\u578b**:\\n- Readable - \u53ef\u8bfb\u64cd\u4f5c\u3002\\n- Writable - \u53ef\u5199\u64cd\u4f5c\u3002\\n- Duplex - \u53ef\u8bfb\u53ef\u5199\u64cd\u4f5c.\\n- Transform - \u64cd\u4f5c\u88ab\u5199\u5165\u6570\u636e\uff0c\u7136\u540e\u8bfb\u51fa\u7ed3\u679c\u3002\\n\\n\u6240\u6709\u7684 Stream \u5bf9\u8c61\u90fd\u662f EventEmitter \u7684\u5b9e\u4f8b\u3002\\n\\n**\u5e38\u7528\u7684\u4e8b\u4ef6\u6709**\uff1a\\n- data - \u5f53\u6709\u6570\u636e\u53ef\u8bfb\u65f6\u89e6\u53d1\u3002\\n- end - \u6ca1\u6709\u66f4\u591a\u7684\u6570\u636e\u53ef\u8bfb\u65f6\u89e6\u53d1\u3002\\n- error - \u5728\u63a5\u6536\u548c\u5199\u5165\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef\u65f6\u89e6\u53d1\u3002\\n- finish - \u6240\u6709\u6570\u636e\u5df2\u88ab\u5199\u5165\u5230\u5e95\u5c42\u7cfb\u7edf\u65f6\u89e6\u53d1\u3002\\n\\n## 2\u3001stream \u4f18\u52bf\\n\\n\u76f8\u5bf9\u4e8e\u4f7f\u7528\u5176\u4ed6\u7684\u6570\u636e\u5904\u7406\u65b9\u6cd5\uff0c\u6d41\u57fa\u672c\u4e0a\u63d0\u4f9b\u4e86\u4e24\u4e2a\u4e3b\u8981\u4f18\u70b9\uff1a\\n- \u5185\u5b58\u6548\u7387: \u65e0\u9700\u52a0\u8f7d\u5927\u91cf\u7684\u6570\u636e\u5230\u5185\u5b58\u4e2d\u5373\u53ef\u8fdb\u884c\u5904\u7406\u3002\\n- \u65f6\u95f4\u6548\u7387: \u5f53\u83b7\u5f97\u6570\u636e\u4e4b\u540e\u5373\u53ef\u7acb\u5373\u5f00\u59cb\u5904\u7406\u6570\u636e\uff0c\u8fd9\u6837\u6240\u9700\u7684\u65f6\u95f4\u66f4\u5c11\uff0c\u800c\u4e0d\u5fc5\u7b49\u5230\u6574\u4e2a\u6570\u636e\u6709\u6548\u8d1f\u8f7d\u53ef\u7528\u624d\u5f00\u59cb\\n\\n## 3\u3001\u5185\u5b58\u5360\u7528\u6d4b\u8bd5\\n\\n```js\\nconst fs = require(\\"fs\\");\\nconst v8 = require(\\"v8\\");\\n\\nconst getData = (start) => {\\n  const list = [];\\n  return new Promise((resolve) => {\\n    setTimeout(() => {\\n      const a = {};\\n      a;\\n      for (let i = 0; i < 50; i++) {\\n        const index = start + i;\\n        list.push({\\n          name: \\"\u59d3\u540d\\" + index,\\n          age: `${index}`,\\n          content: `\u8fd9\u662f\u4e00\u4e2a\u63a9\u6f14\u793a\uff0c\u54c8\u54c8\u54c8 ${index}`,\\n          name2: \\"\u59d3\u540d\\" + index,\\n          age2: `${index}`,\\n          content2: `\u8fd9\u662f\u4e00\u4e2a\u63a9\u6f14\u793a\uff0c\u54c8\u54c8\u54c8 ${index}`,\\n          id: `\u5927\u51b0\u54e5 ${index}`,\\n          address: `\u6df1\u5733\u5e02 ${index}`,\\n        });\\n      }\\n      resolve(list);\\n    });\\n  });\\n};\\n\\nasync function testNormal() {\\n  const list = [];\\n  let i = 0;\\n\\n  // setInterval(() => {\\n  //   console.log(v8.getHeapStatistics().used_heap_size);\\n  // }, 2000);\\n\\n  while (i < 100 * 10000) {\\n    const data = await getData(i);\\n    list.push(...data);\\n    i += 50;\\n  }\\n\\n  console.log(\\"case normal\\", v8.getHeapStatistics().used_heap_size);\\n\\n  setTimeout(() => {\\n    fs.writeFileSync(\\"out.json\\", JSON.stringify(list));\\n  });\\n}\\n\\nfunction write(stream, chunk) {\\n  return new Promise((resolve) => {\\n    stream.write(chunk, (err) => {\\n      if (!err) {\\n        resolve();\\n      }\\n    });\\n  });\\n}\\n\\nasync function testStream() {\\n  const stream = fs.createWriteStream(\\"stream.json\\");\\n\\n  stream.on(\'drain\', () => {\\n    console.log(`drain`)\\n  })\\n\\n  let i = 0;\\n\\n  setInterval(() => {\\n    console.log(v8.getHeapStatistics().used_heap_size);\\n  }, 2000);\\n\\n  while (i < 100 * 10000) {\\n    const data = await getData(i);\\n    await write(stream, JSON.stringify(data));\\n    i += 50;\\n  }\\n\\n  console.log(`case stream`);\\n  console.log(v8.getHeapStatistics().used_heap_size);\\n\\n  setTimeout(() => {\\n    stream.close();\\n  });\\n}\\n\\nasync function start() {\\n  console.log(process.pid);\\n  await testStream()\\n  // setTimeout(() => {\\n  //   testNormal();\\n  // }, 1000)\\n}\\n\\nstart()\\n```\\n\\n\u901a\u8fc7\u5bf9\u6bd4\u53d1\u73b0\uff0c\u4f7f\u7528 stream \u65b9\u5f0f\u8fdb\u884c\u5199\u6587\u4ef6\u65f6\uff0c\u5185\u5b58\u5360\u7528\u6bd4\u8f83\u7a33\u5b9a\uff0c\u800c\u4ee4\u53e6\u4e00\u79cd\u65b9\u5f0f\uff0c\u5185\u5b58\u4f1a\u6301\u7eed\u4e0a\u5347\uff0c\u76f4\u5230\u6587\u4ef6\u5199\u5165\u5b8c\u6210\u3002\\n\\n## 5\u3001\u5e38\u89c1\u95ee\u9898\\n\\n### 5.1 \u4ec0\u4e48\u662f stream\\n\\nstream \u662f\u57fa\u4e8e\u4e8b\u4ef6EventEmitter\u7684\u6570\u636e\u7ba1\u7406\u6a21\u5f0f\uff0e\u7531\u5404\u79cd\u4e0d\u540c\u7684\u62bd\u8c61\u63a5\u53e3\u7ec4\u6210\uff0c\u4e3b\u8981\u5305\u62ec\u53ef\u5199\uff0c\u53ef\u8bfb\uff0c\u53ef\u8bfb\u5199\uff0c\u53ef\u8f6c\u6362\u7b49\u51e0\u79cd\u7c7b\u578b\uff0e\\n\\n### 5.2 stream \u597d\u5904\\n\\n\u975e\u963b\u585e\u5f0f\u6570\u636e\u5904\u7406\u63d0\u5347\u6548\u7387\uff0c\u7247\u65ad\u5904\u7406\u8282\u7701\u5185\u5b58\uff0c\u7ba1\u9053\u5904\u7406\u65b9\u4fbf\u53ef\u6269\u5c55\u7b49.\\n\\n### 5.3 stream \u5178\u578b\u5e94\u7528\\n\\n\u6587\u4ef6\uff0c\u7f51\u7edc\uff0c\u6570\u636e\u8f6c\u6362\uff0c\u97f3\u9891\u89c6\u9891\u7b49.\\n\\n### 5.4 \u600e\u4e48\u6355\u83b7 stream \u9519\u8bef\\n\\n\u76d1\u542c error \u4e8b\u4ef6\uff0c\u65b9\u6cd5\u540c EventEmitter.\\n\\n### 5.5 \u6709\u54ea\u4e9b\u5e38\u7528 stream\\n- Readable \u4e3a\u53ef\u88ab\u8bfb\u6d41\uff0c\u5728\u4f5c\u4e3a\u8f93\u5165\u6570\u636e\u6e90\u65f6\u4f7f\u7528\uff1b\\n- Writable \u4e3a\u53ef\u88ab\u5199\u6d41,\u5728\u4f5c\u4e3a\u8f93\u51fa\u6e90\u65f6\u4f7f\u7528\uff1b\\n- Duplex \u4e3a\u53ef\u8bfb\u5199\u6d41,\u5b83\u4f5c\u4e3a\u8f93\u51fa\u6e90\u63a5\u53d7\u88ab\u5199\u5165\uff0c\u540c\u65f6\u53c8\u4f5c\u4e3a\u8f93\u5165\u6e90\u88ab\u540e\u9762\u7684\u6d41\u8bfb\u51fa\uff0e\\n- Transform \u673a\u5236\u548c Duplex \u4e00\u6837\uff0c\u90fd\u662f\u53cc\u5411\u6d41\uff0c\u533a\u522b\u662f Transform \u53ea\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570 `_transfrom(chunk, encoding, callback)` \u800c Duplex \u9700\u8981\u5206\u522b\u5b9e\u73b0`_read(size)` \u51fd\u6570\u548c `_write(chunk, encoding, callback)` \u51fd\u6570\u3002\\n\\n### 5.6 \u5b9e\u73b0\u4e00\u4e2a writable stream\\n\\n\u4e09\u6b65\u8d70:\\n- 1) \u6784\u9020\u51fd\u6570 call Writable \\n- 2) \u7ee7\u627f Writable\\n- 3) \u5b9e\u73b0 `_write(chunk, encoding, callback)` \u51fd\u6570\\n\\n```js\\nvar Writable = require(\'stream\').Writable;\\nvar util = require(\'util\');\\n\\nfunction MyWritable(options) {\\n\\tWritable.call(this, options);\\n}\\n\\nutil.inherits(MyWritable, Writable); // \u7ee7\u627f\u81eaWritable\\n\\nMyWritable.prototype._write = function(chunk, encoding, callback) {\\n\\tconsole.log(\\"\u88ab\u5199\u5165\u7684\u6570\u636e\u662f:\\", chunk.toString()); // \u6b64\u5904\u53ef\u5bf9\u5199\u5165\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\\n\\tcallback();\\n};\\n\\nprocess.stdin.pipe(new MyWritable()); // stdin\u4f5c\u4e3a\u8f93\u5165\u6e90\uff0cMyWritable\u4f5c\u4e3a\u8f93\u51fa\u6e90   \\n```\\n\\n## 6\u3001\u53c2\u8003\u6587\u6863\\n\\n- [\u6df1\u5165\u7406\u89e3 Node Stream \u5185\u90e8\u673a\u5236](https://www.barretlee.com/blog/2017/06/06/dive-to-nodejs-at-stream-module/)\\n- [\u60f3\u5b66Node.js\uff0cstream\u5148\u6709\u5fc5\u8981\u641e\u6e05\u695a](https://juejin.cn/post/6844903891083984910)\\n- [\u53ef\u5199\u6d41 - nodejs stream\u603b\u7ed3](https://www.cnblogs.com/walkermag/p/13579990.html)","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/12 \u4e8b\u4ef6\u5faa\u73af.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/12 \u4e8b\u4ef6\u5faa\u73af.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/12 \u4e8b\u4ef6\u5faa\u73af.md","leaf":true,"title":"12 \u4e8b\u4ef6\u5faa\u73af","depth":2,"content":"- \u5927\u5faa\u73af\u5b8f\u4efb\u52a1\\n- \u5c0f\u5faa\u73af\u5fae\u4efb\u52a1","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/13 setTimeout \u5b9e\u73b0\u539f\u7406.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/13 setTimeout \u5b9e\u73b0\u539f\u7406.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/13 setTimeout \u5b9e\u73b0\u539f\u7406.md","leaf":true,"title":"13 setTimeout \u5b9e\u73b0\u539f\u7406","depth":2,"content":"\u4e0d\u540c\u7684 Runtime \u5b9e\u73b0\u673a\u5236\u4e0d\u4e00\u6837\uff0c`setTimeout` \u5e76\u4e0d\u662f ECMA \u7684 API\uff0c\u800c\u662f Web API\uff0c\u6240\u4ee5 V8 \u8fd9\u7c7b JavaScript \u5f15\u64ce\u662f\u4e0d\u4f1a\u5e2e\u4f60\u5b9e\u73b0\u7684\uff0c\u9700\u8981\u5728 Runtime \u4e2d\u81ea\u884c\u5b9e\u73b0\u3002 \\n\\n- [`\u6b7b\u6708` \u548c `\u738b\u8bd1\u950b` \u56de\u7b54](https://www.zhihu.com/question/463446982/answer/1927497540)\\n- [\u6df1\u5165Linux C/C++ Timer\u5b9a\u65f6\u5668\u7684\u5b9e\u73b0\u6838\u5fc3\u539f\u7406](https://cloud.tencent.com/developer/article/1763594)","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/14 \u8bbe\u7f6e max-old-space-size.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/14 \u8bbe\u7f6e max-old-space-size.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/14 \u8bbe\u7f6e max-old-space-size.md","leaf":true,"title":"14 \u8bbe\u7f6e max-old-space-size","depth":2,"content":"\u8bbe\u7f6e V8 \u65e7\u751f\u4ee3\u5185\u5b58\u90e8\u5206\u7684\u6700\u5927\u5185\u5b58\u5927\u5c0f\u3002 \u968f\u7740\u5185\u5b58\u6d88\u8017\u63a5\u8fd1\u6781\u9650\uff0cV8 \u4f1a\u82b1\u66f4\u591a\u7684\u65f6\u95f4\u5728\u5783\u573e\u56de\u6536\u4e0a\uff0c\u4ee5\u91ca\u653e\u672a\u4f7f\u7528\u7684\u5185\u5b58\u3002\\n\\ntest.js\\n```js\\nconst v8 = require(\'v8\');\\nconsole.log(v8.getHeapStatistics())\\n```\\n\\n\u5f53\u524d\u7684\u6d4b\u8bd5\u5bbf\u4e3b\u673a\u4e3a MacPro 2019 16G \u5185\u5b58\u3002\\n\\n\u5f53\u6267\u884c `node test.js`\\n```json\\n{\\n  total_heap_size: 4984832,\\n  total_heap_size_executable: 524288,\\n  total_physical_size: 3947728,\\n  total_available_size: 4342033176,\\n  used_heap_size: 4170336,\\n  heap_size_limit: 4345298944,\\n  malloced_memory: 254120,\\n  peak_malloced_memory: 90624,\\n  does_zap_garbage: 0,\\n  number_of_native_contexts: 1,\\n  number_of_detached_contexts: 0,\\n  total_global_handles_size: 8192,\\n  used_global_handles_size: 3200,\\n  external_memory: 321551\\n}\\n```\\n\\n\u5f53\u6267\u884c `NODE_OPTIONS=--max-old-space-size=6144 node ./test.js`\\n```json\\n{\\n  total_heap_size: 4984832,\\n  total_heap_size_executable: 524288,\\n  total_physical_size: 3913440,\\n  total_available_size: 6489516800,\\n  used_heap_size: 4170368,\\n  heap_size_limit: 6492782592,\\n  malloced_memory: 254120,\\n  peak_malloced_memory: 221520,\\n  does_zap_garbage: 0,\\n  number_of_native_contexts: 1,\\n  number_of_detached_contexts: 0,\\n  total_global_handles_size: 8192,\\n  used_global_handles_size: 3200,\\n  external_memory: 321551\\n}\\n```\\n\\n\u5176\u4e2d total_available_size \u5df2\u7ecf\u88ab\u4fee\u6539\u3002","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/15 v8 \u5185\u5b58\u5feb\u7167\u6587\u4ef6\u5206\u6790.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/15 v8 \u5185\u5b58\u5feb\u7167\u6587\u4ef6\u5206\u6790.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/15 v8 \u5185\u5b58\u5feb\u7167\u6587\u4ef6\u5206\u6790.md","leaf":true,"title":"15 v8 \u5185\u5b58\u5feb\u7167\u6587\u4ef6\u5206\u6790","depth":2,"content":"- https://segmentfault.com/a/1190000039650874?sort=newest\\n- https://zhengrenzhe.com/posts/v8-snapshot/","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/16 nodejs \u5e94\u7528\u76d1\u63a7.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/16 nodejs \u5e94\u7528\u76d1\u63a7.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/16 nodejs \u5e94\u7528\u76d1\u63a7.md","leaf":true,"title":"16 nodejs \u5e94\u7528\u76d1\u63a7","depth":2,"content":"- alinode https://www.aliyun.com/product/nodejs","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/17 \u76d1\u542c\u6587\u4ef6\u53d8\u5316.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/17 \u76d1\u542c\u6587\u4ef6\u53d8\u5316.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/17 \u76d1\u542c\u6587\u4ef6\u53d8\u5316.md","leaf":true,"title":"17 \u76d1\u542c\u6587\u4ef6\u53d8\u5316","depth":2,"content":"- [node.js\u76d1\u542c\u6587\u4ef6\u53d8\u5316](https://juejin.cn/post/6844903824738500622)\\n- chokidar \u7684\u4f7f\u7528\\n- nodemon \u539f\u7406\u7b49\\n- watchdog \u7684\u4f7f\u7528\\n","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/18 \u5982\u4f55\u91cd\u542f\u670d\u52a1.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/18 \u5982\u4f55\u91cd\u542f\u670d\u52a1.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/18 \u5982\u4f55\u91cd\u542f\u670d\u52a1.md","leaf":true,"title":"18 \u5982\u4f55\u91cd\u542f\u670d\u52a1","depth":2,"content":"\u5f53 node \u8fdb\u7a0b\u6302\u4e86\uff0c\u5982\u4f55\u81ea\u52a8\u91cd\u542f\uff1fsupervisor nodemon \u7b49\u91cd\u542f\u539f\u7406\u3002\u3002\\n\\n\u5728 Node.js \u5e94\u7528\u8fd0\u884c\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u7b2c\u4e09\u65b9\u7684 Node.js \u6a21\u5757\u6216\u8005\u5de5\u5177\u6765\u5b9e\u73b0\u5e94\u7528\u6302\u4e86\u4e4b\u540e\u81ea\u52a8\u91cd\u3002\\n\\n## 1. PM2\\nPM2\uff08process manager 2\uff09\u662f\u4e00\u4e2a\u5f00\u6e90\u7684 Node.js \u8fdb\u7a0b\u7ba1\u7406\u5668\uff0c\u5b83\u53ef\u4ee5\u542f\u52a8\u3001\u505c\u6b62\u3001\u91cd\u542f\u548c\u76d1\u89c6 Node.js \u5e94\u7528\u3002PM2 \u53ef\u4ee5\u81ea\u52a8\u76d1\u63a7\u5e94\u7528\u7a0b\u5e8f\u7684\u8fd0\u884c\u72b6\u6001\uff0c\u5e76\u4e14\u5728\u5e94\u7528\u7a0b\u5e8f\u9000\u51fa\u6216\u5954\u6e83\u65f6\u81ea\u52a8\u91cd\u542f\u3002\u4f7f\u7528 PM2 \u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u57fa\u672c\u7684\u547d\u4ee4\u6765\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f8b\u5982\uff1a\\n\\n```\\npm2 start /path/to/app.js       // \u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\\npm2 stop app                    // \u505c\u6b62\u5e94\u7528\u7a0b\u5e8f\\npm2 restart app                 // \u91cd\u542f\u5e94\u7528\u7a0b\u5e8f\\npm2 list                        // \u5217\u51fa\u5f53\u524d\u8fd0\u884c\u7684\u6240\u6709\u5e94\u7528\u7a0b\u5e8f\\n```\\n\\n## 2. Forever\\nForever \u662f\u4e00\u4e2a\u7b80\u5355\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u542f\u52a8\u548c\u7ba1\u7406 Node.js \u5e94\u7528\u7a0b\u5e8f\uff0c\u7c7b\u4f3c\u4e8e PM2\u3002\u4f7f\u7528 Forever \u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\u540e\uff0cForever \u4f1a\u76d1\u89c6\u5e94\u7528\u7a0b\u5e8f\u7684\u8fd0\u884c\u72b6\u6001\uff0c\u5f53\u5e94\u7528\u7a0b\u5e8f\u5954\u6e83\u65f6\u4f1a\u81ea\u52a8\u91cd\u542f\u5e94\u7528\u7a0b\u5e8f\u3002Forever \u7684\u547d\u4ee4\u884c\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a\\n\\n```\\nforever start /path/to/app.js   // \u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\\nforever stop app                // \u505c\u6b62\u5e94\u7528\u7a0b\u5e8f\\nforever restart app             // \u91cd\u542f\u5e94\u7528\u7a0b\u5e8f\\nforever list                    // \u5217\u51fa\u5f53\u524d\u8fd0\u884c\u7684\u6240\u6709\u5e94\u7528\u7a0b\u5e8f\\n```\\n\\n\u603b\u4e4b\uff0c\u4f7f\u7528\u8fd9\u4e9b\u5de5\u5177\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u5b9e\u73b0\u5e94\u7528\u6302\u4e86\u4e4b\u540e\u81ea\u52a8\u91cd\u542f\u7684\u529f\u80fd\uff0c\u51cf\u5c11\u5e94\u7528\u7a0b\u5e8f\u5954\u6e83\u5bf9\u4e1a\u52a1\u9020\u6210\u7684\u5f71\u54cd\u3002\\n\\n\u5982\u679c\u60a8\u4e0d\u60f3\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\uff0c\u4e5f\u53ef\u4ee5\u7f16\u5199\u4e00\u4e9b\u4ee3\u7801\u6765\u5b9e\u73b0\u81ea\u52a8\u91cd\u542f\u7684\u529f\u80fd\u3002\u4e0b\u9762\u4ecb\u7ecd\u4e24\u79cd\u65b9\u6cd5\u3002\\n\\n## 3. \u589e\u52a0\u76d1\u63a7\u7a0b\u5e8f\\n1. \u4f7f\u7528 child_process \u6a21\u5757\u542f\u52a8\u5b50\u8fdb\u7a0b\uff0c\u5e76\u76d1\u542c\u5176 exit \u4e8b\u4ef6\u3002\u5982\u679c\u5b50\u8fdb\u7a0b\u9000\u51fa\uff0c\u5c31\u91cd\u65b0\u542f\u52a8\u65b0\u7684\u5b50\u8fdb\u7a0b\u3002\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a\\n\\n```js\\nconst { spawn } = require(\'child_process\');\\n\\nfunction startApp() {\\n  const app = spawn(\'node\', [\'/path/to/app.js\']);\\n\\n  app.stdout.on(\'data\', (data) => {\\n    console.log(`stdout: ${data}`);\\n  });\\n\\n  app.stderr.on(\'data\', (data) => {\\n    console.error(`stderr: ${data}`);\\n  });\\n\\n  app.on(\'exit\', (code) => {\\n    console.log(`child process exited with code ${code}`);\\n    setTimeout(startApp, 5000); // \u91cd\u65b0\u542f\u52a8\u5b50\u8fdb\u7a0b\\n  });\\n}\\n\\nstartApp();\\n```\\n\\n2. \u4f7f\u7528 try-catch \u88c5\u9970\u5668\u6765\u6355\u83b7\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u5f02\u5e38\uff0c\u5e76\u8fdb\u884c\u91cd\u542f\u64cd\u4f5c\u3002\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a\\n\\n```js\\nfunction restartOnCrash(target) {\\n  const originalMethod = target.prototype.run;\\n\\n  target.prototype.run = function() {\\n    try {\\n      originalMethod.apply(this, arguments);\\n    } catch (err) {\\n      console.error(`application crashed: ${err}`);\\n      setTimeout(() => {\\n        console.log(`restarting application...`);\\n        this.run();\\n      }, 5000);\\n    }\\n  };\\n}\\n\\nclass MyApp {\\n  run() {\\n    // your application code goes here\\n  }\\n}\\n\\nrestartOnCrash(MyApp);\\nconst app = new MyApp();\\napp.run();\\n```\\n\\n\u8fd9\u91cc\u4f7f\u7528\u4e86\u88c5\u9970\u5668 `restartOnCrash` \u5bf9 `MyApp` \u7c7b\u4e2d\u7684 `run` \u65b9\u6cd5\u8fdb\u884c\u88c5\u9970\uff0c\u5f53 `run` \u65b9\u6cd5\u4e2d\u629b\u51fa\u5f02\u5e38\u65f6\uff0c\u4f1a\u5728 5 \u79d2\u949f\u540e\u91cd\u65b0\u8c03\u7528 `run` \u65b9\u6cd5\u3002","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/19 cross-spawn \u8de8\u5e73\u53f0\u8fdb\u7a0b.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/19 cross-spawn \u8de8\u5e73\u53f0\u8fdb\u7a0b.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/19 cross-spawn \u8de8\u5e73\u53f0\u8fdb\u7a0b.md","leaf":true,"title":"19 cross-spawn \u8de8\u5e73\u53f0\u8fdb\u7a0b","depth":2,"content":"---\\ntitle: 19 cross-spawn \u8de8\u5e73\u53f0\u8fdb\u7a0b\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\nnpm cross-spawn \u662f\u4e00\u4e2a Node.js \u6a21\u5757\uff0c\u4e3b\u8981\u7528\u4e8e\u5728\u8de8\u5e73\u53f0\u73af\u5883\u4e2d\uff0c\u5b89\u5168\u5730\u8fd0\u884c shell \u547d\u4ee4\u548c\u5b50\u8fdb\u7a0b\u3002\\n\u5728 Windows \u548c Linux \u7b49\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0cshell \u547d\u4ee4\u548c\u5b50\u8fdb\u7a0b\u7684\u5b9e\u73b0\u65b9\u5f0f\u53ef\u80fd\u5b58\u5728\u5dee\u5f02\uff0c\u4f8b\u5982 Windows \u4e0b\u7684\u5b50\u8fdb\u7a0b\u53ef\u80fd\u9700\u8981\u4f7f\u7528 cmd.exe \u6765\u6267\u884c\uff0c\u800c Linux \u4e0b\u7684\u5b50\u8fdb\u7a0b\u5219\u9700\u8981\u4f7f\u7528 sh\u3002\\n\\n\u8fd9\u5c31\u4f1a\u5bfc\u81f4\u5728\u8de8\u5e73\u53f0\u5f00\u53d1\u4e2d\uff0c\u4f7f\u7528 child_process \u6a21\u5757\u6267\u884c shell \u547d\u4ee4\u548c\u5b50\u8fdb\u7a0b\u65f6\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e00\u4e9b\u517c\u5bb9\u6027\u95ee\u9898\u3002\\n\\n\u800c npm cross-spawn \u5229\u7528\u4e86 Node.js \u7684 child_process \u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u8de8\u5e73\u53f0\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u5e73\u53f0\u4e0a\u5b89\u5168\u5730\u6267\u884c shell \u547d\u4ee4\u548c\u5b50\u8fdb\u7a0b\uff0c\u5e76\u4e14\u80fd\u591f\u81ea\u52a8\u8bc6\u522b\u5f53\u524d\u6240\u5904\u7684\u64cd\u4f5c\u7cfb\u7edf\u73af\u5883\uff0c\u4ece\u800c\u9009\u62e9\u6b63\u786e\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002\u8fd9\u6837\u53ef\u4ee5\u6709\u6548\u907f\u514d\u56e0\u4e0d\u540c\u5e73\u53f0\u5b9e\u73b0\u65b9\u5f0f\u5dee\u5f02\u800c\u5bfc\u81f4\u7684\u95ee\u9898\uff0c\u63d0\u9ad8\u8de8\u5e73\u53f0\u5f00\u53d1\u7684\u6548\u7387\u548c\u53ef\u9760\u6027\u3002\\n\\n\\n```js\\nconst args = process.argv.slice(2);\\n\\nconst scriptIndex = args.findIndex(\\n  (x) => x === \\"build\\" || x === \\"eject\\" || x === \\"start\\" || x === \\"test\\"\\n);\\nconst script = scriptIndex === -1 ? args[0] : args[scriptIndex];\\nconst nodeArgs = scriptIndex > 0 ? args.slice(0, scriptIndex) : [];\\n\\nconst result = spawn.sync(\\n    process.execPath, // node path\\n    nodeArgs\\n      .concat(require.resolve(\\"../lib/\\" + script))\\n      .concat(args.slice(scriptIndex + 1)),\\n    { stdio: \\"inherit\\" }\\n  );\\nconsole.log(result)\\n```\\n\\n```js\\n// work\\nprocess.exit(10)\\n```\\n\\n\\n```json\\n{\\n  status: 10,\\n  signal: null,\\n  output: [ null, null, null ],\\n  pid: 43229,\\n  stdout: null,\\n  stderr: null,\\n  error: null\\n}\\n```\\n","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/20 linux \u8fdb\u7a0b\u4fe1\u53f7.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/20 linux \u8fdb\u7a0b\u4fe1\u53f7.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/20 linux \u8fdb\u7a0b\u4fe1\u53f7.md","leaf":true,"title":"20 linux \u8fdb\u7a0b\u4fe1\u53f7","depth":2,"content":"---\\ntitle: 20 linux \u8fdb\u7a0b\u4fe1\u53f7\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n- \u53c2\u8003 http://gityuan.com/2015/12/20/signal/\\n- https://blog.csdn.net/xiaobai_hellow/article/details/124673131\\n\\n\\n## 1\u3001linux \u4fe1\u53f7\\n```bash\\n[root@localhost test6]# kill -l\\n```\\n\\n```text\\n\\n 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL\\n\\n 5) SIGTRAP      6) SIGABRT      7) SIGBUS       8) SIGFPE\\n\\n 9) SIGKILL     10) SIGUSR1     11) SIGSEGV     12) SIGUSR2\\n\\n13) SIGPIPE     14) SIGALRM     15) SIGTERM     16) SIGSTKFLT\\n\\n17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP\\n\\n21) SIGTTIN     22) SIGTTOU     23) SIGURG      24) SIGXCPU\\n\\n25) SIGXFSZ     26) SIGVTALRM   27) SIGPROF     28) SIGWINCH\\n\\n29) SIGIO       30) SIGPWR      31) SIGSYS      34) SIGRTMIN\\n\\n35) SIGRTMIN+1  36) SIGRTMIN+2  37) SIGRTMIN+3  38) SIGRTMIN+4\\n\\n39) SIGRTMIN+5  40) SIGRTMIN+6  41) SIGRTMIN+7  42) SIGRTMIN+8\\n\\n43) SIGRTMIN+9  44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12\\n\\n47) SIGRTMIN+13 48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14\\n\\n51) SIGRTMAX-13 52) SIGRTMAX-12 53) SIGRTMAX-11 54) SIGRTMAX-10\\n\\n55) SIGRTMAX-9  56) SIGRTMAX-8  57) SIGRTMAX-7  58) SIGRTMAX-6\\n\\n59) SIGRTMAX-5  60) SIGRTMAX-4  61) SIGRTMAX-3  62) SIGRTMAX-2\\n\\n63) SIGRTMAX-1  64) SIGRTMAX\\n```\\n\\n\u53ea\u6709\u7b2c9\u79cd\u4fe1\u53f7 (SIGKILL) \u624d\u53ef\u4ee5\u65e0\u6761\u4ef6\u7ec8\u6b62\u8fdb\u7a0b\uff0c\u5176\u4ed6\u4fe1\u53f7\u8fdb\u7a0b\u90fd\u6709\u6743\u5229\u5ffd\u7565\u3002\u4e0b\u9762\u662f\u5e38\u7528\u7684\u4fe1\u53f7\uff1a\\n\\n```text\\nHUP\u3000\u30001    \u7ec8\u7aef\u65ad\u7ebf\\n\\nINT\u3000\u30002    \u4e2d\u65ad\uff08\u540c Ctrl+C\uff09\\n\\nQUIT\u3000 3    \u9000\u51fa\uff08\u540c Ctrl+\\\\\uff09\\n\\nTERM   15   \u7ec8\u6b62\\n\\nKILL   9    \u5f3a\u5236\u7ec8\u6b62\\n\\nCONT   18   \u7ee7\u7eed\uff08\u4e0eSTOP\u76f8\u53cd\uff0c fg/bg\u547d\u4ee4\uff09\\n\\nSTOP   19   \u6682\u505c\uff08\u540c Ctrl+Z\uff09\\n```\\n\\n## 2\u3001\u6f14\u793a\u7ed9 node \u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7\\n\\n```js\\nconst http = require(\\"http\\");\\nconsole.log(process.pid)\\n\\nconst server = http.createServer((req, res) => {\\n  res.end(\'hello\')\\n});\\n\\nserver.listen(3002, () => {\\n  console.log(\\"\u670d\u52a1\u542f\u52a8\u6210\u529f\\");\\n});\\n\\nprocess.on(\'exit\', function (code) {\\n  // TODO \u8fd9\u91cc\u53ef\u4ee5\u4e3b\u52a8\u91ca\u653e\u5176\u4ed6\u8d44\u6e90 \u5982zookeeper\u8fde\u63a5\u7b49\\n  console.log(`exit-------------------------`);\\n\\n  if (code === 1000) {\\n    console.error(\'process:uncaughtException\');\\n  } else if (code === 1001) {\\n    console.error(\'process:SIGINT\');\\n  } else if (code === 1002) {\\n    console.error(\'process:SIGTERM\');\\n  } else {\\n    console.error(\'process:unknown\');\\n  }\\n});\\n\\nprocess.on(\'uncaughtException\', function (e) {\\n  console.log(`uncaughtException`, e);\\n  // \u5f02\u5e38\u53ef\u4ee5\u9009\u62e9\u4e0d\u9000\u51fa\\n  process.exit(1000);\\n});\\n\\nprocess.on(\'SIGINT\', function () {\\n  console.log(`SIGINT`);\\n  process.exit(1001);\\n});\\n\\nprocess.on(\'SIGTERM\', function () {\\n  console.log(`SIGTERM`);\\n  process.exit(1002);\\n});\\n\\nprocess.on(\'SIGHUP\', () => {\\n  console.log(`SIGHUP`);\\n  console.log(\'\u63a5\u6536\u5230\u9000\u51fa\u6307\u4ee4\');\\n});\\n```\\n\\n\u5047\u8bbe\u8fdb\u7a0b id \u4e3a 44525\uff0c\u6267\u884c\uff1a\\n\\n```shell\\nkill -s SIGINTS 44525\\n```\\n\\n\u4f1a\u6253\u5370\\n\\n```text\\nSIGINT\\nexit-------------------------\\nprocess:SIGINT\\n```\\n\\n## 3\u3001Node.js \u6355\u83b7 Ctrl+C\\nNode \u652f\u6301\u4fe1\u53f7\u4e8b\u4ef6\uff0c\u8981\u6355\u83b7 Ctrl+C \uff0c\u53ea\u8981\u6ce8\u518cSIGINT\u4fe1\u53f7\u4e8b\u4ef6\u5c31\u53ef\u4ee5\u6355\u83b7 Ctrl+C\u3002\u9700\u8981\u6ce8\u610f\u7684\u662fSIGINT\u4fe1\u53f7\u4e8b\u4ef6\u88ab\u6ce8\u518c\u540e\uff0c\u5728\u7ec8\u7aef\u6309\u4e0b Ctrl+C \u5c31\u6ca1\u6cd5\u7ec8\u6b62\u7a0b\u5e8f\u4e86\uff0c\u6240\u4ee5\u5728\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u5185\u5fc5\u987b\u8c03\u7528process.exit() \u51fd\u6570\u7ec8\u6b62\u7a0b\u5e8f\u3002\\n\\n```js\\nprocess.on(\'SIGINT\', function () {\\n    console.log(\'Exit now!\');\\n    process.exit();\\n});\\n```\\n\\n\u5982\u679c\u5728\u9000\u51fa\u4e4b\u524d\u9700\u8981\u505a\u4e00\u4e9b\u540e\u7eed\u7684\u5904\u7406\uff0c\u90a3\u4e48\u53ef\u4ee5\u5c06 process.exit() \u653e\u5728\u5176\u5b83\u56de\u8c03\u51fd\u6570\u5185\u8c03\u7528\u3002\\n\\n```js\\nprocess.on(\'SIGINT\', function () {\\n    console.log(\'Exit now!\');\\n    port.write(\'ddd\', function (){\\n        process.exit();\\n    });\\n});\\n```\\n\\n## 4\u3001\u5173\u4e8e kill \u547d\u4ee4\\nhttps://www.cnblogs.com/heracles-lau/articles/3392029.html\\n","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/21 nodejs \u6a21\u5757\u673a\u5236.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/21 nodejs \u6a21\u5757\u673a\u5236.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/21 nodejs \u6a21\u5757\u673a\u5236.md","leaf":true,"title":"21 nodejs \u6a21\u5757\u673a\u5236","depth":2,"content":"- nodejs \u6a21\u5757\u673a\u5236 https://juejin.cn/post/6844903951742025736","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/22 crypto \u52a0\u5bc6\u76f8\u5173.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/22 crypto \u52a0\u5bc6\u76f8\u5173.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/22 crypto \u52a0\u5bc6\u76f8\u5173.md","leaf":true,"title":"22 crypto \u52a0\u5bc6\u76f8\u5173","depth":2,"content":"## aes \u6f14\u793a\\n\\nNode.js\u5185\u7f6e\u4e86\u52a0\u5bc6\u6a21\u5757\uff0c\u8be5\u6a21\u5757\u63d0\u4f9b\u4e86\u5404\u79cd\u52a0\u5bc6\u548c\u89e3\u5bc6\u7b97\u6cd5\uff0c\u5982AES\uff08\u9ad8\u7ea7\u52a0\u5bc6\u6807\u51c6\uff09\u548cDES\uff08\u6570\u636e\u52a0\u5bc6\u6807\u51c6\uff09\u7b49\u3002\\n\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u7528\u7684\u52a0\u5bc6\u548c\u89e3\u5bc6\u65b9\u6cd5\uff1a\\n\\n- crypto.createHash(algorithm): \u521b\u5efa\u4e00\u4e2a\u6563\u5217\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u53ef\u7528\u4e8e\u751f\u6210\u4e00\u4e2a\u52a0\u5bc6\u7684\u54c8\u5e0c\u503c\uff0c\u5176\u4e2d\u7684\u201calgorithm\u201d\u53c2\u6570\u662f\u6563\u5217\u7b97\u6cd5\u7684\u540d\u79f0\uff0c\u5982\u201csha256\u201d\uff0c\u201csha512\u201d\u7b49\u3002\\n\\n- crypto.createCipheriv(algorithm, key, iv): \u521b\u5efa\u4e00\u4e2a\u52a0\u5bc6\u7b97\u6cd5\u7684\u5bf9\u8c61\uff0c\u5176\u4e2d\u7684\u201calgorithm\u201d\u53c2\u6570\u662f\u52a0\u5bc6\u7b97\u6cd5\u7684\u540d\u79f0\uff0c\u5982\u201cAES-128-CBC\u201d\u6216\u201cDES-EDE3-CBC\u201d\uff0c\u201ckey\u201d\u53c2\u6570\u662f\u52a0\u5bc6\u5bc6\u94a5\uff0civ\u53c2\u6570\u662f\u521d\u59cb\u5316\u5411\u91cf\u3002\\n\\n- cipher.update(data, input_encoding, output_encoding): \u4f7f\u7528\u8f93\u5165\u7f16\u7801\uff08\u5982\u679c\u7ed9\u51fa\uff09\u548c\u8f93\u51fa\u7f16\u7801\uff08\u5982\u679c\u7ed9\u51fa\uff09\u66f4\u65b0\u52a0\u5bc6\u3002\\n\\n- cipher.final(output_encoding): \u8fd4\u56de\u52a0\u5bc6\u7684\u7ed3\u679c\uff0c\u5e76\u4e14\u5173\u95ed\u52a0\u5bc6\u5668\u3002\\n\\n\\n\u4f8b\u5982\uff0cAES\u52a0\u5bc6\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\uff1a\\n\\n```javascript\\nconst crypto = require(\'crypto\');\\n\\nconst algorithm = \'aes-256-cbc\';\\nconst key = \'mysecretkey\';\\nconst iv = crypto.randomBytes(16);\\nconst message = \'secret message\';\\n\\nconst cipher = crypto.createCipheriv(algorithm, key, iv);\\nlet encrypted = cipher.update(message, \'utf8\', \'hex\');\\nencrypted += cipher.final(\'hex\');\\n\\nconsole.log(\'Encrypted message:\', encrypted);\\n```\\n\\n\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528AES-256-CBC\u52a0\u5bc6\u7b97\u6cd5\uff0c\u5c06\u5bc6\u94a5\u8bbe\u7f6e\u4e3a\u201cmysecretkey\u201d\uff0c\u4f7f\u7528\u968f\u673a\u751f\u6210\u768416\u5b57\u8282IV\uff0c\u5e76\u4e14\u6211\u4eec\u5c06\u660e\u6587\u6d88\u606f\u8bbe\u7f6e\u4e3a\u201csecret message\u201d\u3002\u901a\u8fc7 `crypto.createCipheriv()` \u65b9\u6cd5\u521b\u5efa\u52a0\u5bc6\u7b97\u6cd5\u5bf9\u8c61\uff0c\u7136\u540e\u4f7f\u7528 `cipher.update()` \u6765\u52a0\u5bc6\u6d88\u606f\uff0c\u5e76\u4f7f\u7528 `cipher.final()`\u6765\u5bf9\u6d88\u606f\u8fdb\u884c\u6700\u7ec8\u52a0\u5bc6\u3002\\n\\n## md5 \u6f14\u793a\\n\\n\u5728Node.js\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528`crypto`\u6a21\u5757\u6765\u8ba1\u7b97MD5\u6563\u5217\u503c\u3002\u4e0b\u9762\u662f\u4f7f\u7528Node.js\u7684\u4ee3\u7801\u793a\u4f8b\uff0c\u6f14\u793a\u5982\u4f55\u4f7f\u7528`crypto`\u6a21\u5757\u8ba1\u7b97\u5b57\u7b26\u4e32\u7684MD5\u6563\u5217\u503c\uff1a\\n```javascript\\nconst crypto = require(\'crypto\');\\n\\nconst message = \'\u9700\u8981\u52a0\u5bc6\u7684\u5b57\u7b26\u4e32\';\\nconst hash = crypto.createHash(\'md5\').update(message).digest(\'hex\');\\n\\nconsole.log(\'MD5\u52a0\u5bc6\u540e\u7684\u5b57\u7b26\u4e32\u4e3a\uff1a\', hash);\\n```\\n\\n\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u9996\u5148\u5c06\u8981\u52a0\u5bc6\u7684\u5b57\u7b26\u4e32\u5b58\u50a8\u5728\u53d8\u91cf`message`\u4e2d\u3002\u7136\u540e\uff0c\u6211\u4eec\u4f7f\u7528`createHash()`\u65b9\u6cd5\u521b\u5efa\u4e00\u4e2aMD5 hash\u5bf9\u8c61\uff0c\u5e76\u4f7f\u7528`update()`\u65b9\u6cd5\u5c06\u8f93\u5165\u5b57\u7b26\u4e32\u6dfb\u52a0\u5230\u5bf9\u8c61\u4e2d\u3002\u6700\u540e\uff0c\u6211\u4eec\u4f7f\u7528`digest()`\u65b9\u6cd5\u83b7\u5f97\u8ba1\u7b97\u51fa\u768416\u8fdb\u5236\u5b57\u7b26\u4e32\uff0c\u5b83\u8868\u793a\u4e86\u8f93\u5165\u5b57\u7b26\u4e32\u7684MD5\u6563\u5217\u503c\u3002\u6700\u540e\uff0c\u4f7f\u7528`console.log()`\u8bed\u53e5\u8f93\u51fa\u8ba1\u7b97\u540e\u7684\u6563\u5217\u503c\u3002\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cMD5\u867d\u7136\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u6563\u5217\u51fd\u6570\uff0c\u4f46\u5176\u5b89\u5168\u6027\u5df2\u7ecf\u88ab\u653b\u51fb\uff0c\u56e0\u6b64\u5efa\u8bae\u4f7f\u7528\u66f4\u5b89\u5168\u7684\u6563\u5217\u51fd\u6570\uff0c\u4f8b\u5982SHA-2\u7cfb\u5217\u7684\u51fd\u6570\u3002\\n","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/23 V8 \u5783\u573e\u56de\u6536.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/23 V8 \u5783\u573e\u56de\u6536.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/23 V8 \u5783\u573e\u56de\u6536.md","leaf":true,"title":"23 V8 \u5783\u573e\u56de\u6536","depth":2,"content":"TODO","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/24 libuv \u5165\u95e8.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/24 libuv \u5165\u95e8.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/24 libuv \u5165\u95e8.md","leaf":true,"title":"24 libuv \u5165\u95e8","depth":2,"content":"- https://musicfe.com/libuv/\\n- https://zhuanlan.zhihu.com/p/50497450\\n\\n## libuv \u7684\u6838\u5fc3\\n\\nlibuv \u4e3a\u4ec0\u4e48\u53ef\u4ee5\u8fd9\u4e48\u9ad8\u6548\u5462\uff1f\u5b9e\u9645\u4ed6\u4f7f\u7528\u4e86\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u9ad8\u5e76\u53d1\u5f02\u6b65\u6a21\u578b\uff1a\\n- linux: epoll\\n- freebsd: kqueue\\n- windows: iocp\\n\\n\u6bcf\u4e2a\u6211\u4eec\u5e38\u89c1\u7684\u64cd\u4f5c\u7cfb\u7edf\u90fd\u4e3a\u6211\u4eec\u5c01\u88c5\u4e86\u7c7b\u4f3c\u7684\u9ad8\u5e76\u53d1\u5f02\u6b65\u6a21\u578b\uff0c\u90a3libuv\u5176\u5b9e\u5c31\u662f\u5bf9\u5404\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u5c01\u88c5\uff0c\u6700\u540e\u66b4\u9732\u51fa\u7edf\u4e00\u7684api\u4f9b\u5f00\u53d1\u8005\u8c03\u7528\uff0c\u5f00\u53d1\u8005\u4e0d\u9700\u8981\u5173\u7cfb\u5e95\u5c42\u662f\u4ec0\u4e48\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4ec0\u4e48API\u4e86\u3002 \u6211\u4eec\u6765\u770b\u4e00\u4e0b\u540c\u6b65\u6a21\u578b\u548c\u5f02\u6b65\u6a21\u578b\u7684\u533a\u522b\\n\\n\\n![image](https://user-images.githubusercontent.com/34447750/230695916-e4c2dcef-62ce-432d-9fa0-d3ed667eabbd.png)","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/25 nodejs mvc \u5b9e\u73b0.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/25 nodejs mvc \u5b9e\u73b0.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/25 nodejs mvc \u5b9e\u73b0.md","leaf":true,"title":"25 nodejs mvc \u5b9e\u73b0","depth":2,"content":"## 1\u3001mvc \u4ecb\u7ecd\\n\\nMVC\u662f\u4e00\u79cd\u8f6f\u4ef6\u8bbe\u8ba1\u67b6\u6784\uff0c\u5b83\u5c06\u5e94\u7528\u7a0b\u5e8f\u6309\u7167\u6a21\u578b\uff08Model\uff09\u3001\u89c6\u56fe\uff08View\uff09\u548c\u63a7\u5236\u5668\uff08Controller\uff09\u7684\u89d2\u8272\u5206\u6210\u4e09\u4e2a\u90e8\u5206\u3002\\nMVC\u6846\u67b6\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u66f4\u8f7b\u677e\u5730\u6784\u5efa\u548c\u7ef4\u62a4Web\u5e94\u7528\u7a0b\u5e8f\uff0c\u5e76\u63d0\u9ad8\u5e94\u7528\u7a0b\u5e8f\u7684\u53ef\u6269\u5c55\u6027\u548c\u53ef\u91cd\u7528\u6027\u3002\u4e0b\u9762\u662fMVC\u6846\u67b6\u7684\u4e00\u4e9b\u5173\u952e\u7279\u5f81\uff1a\\n- \u6a21\u578b\uff08Model\uff09\u5904\u7406\u6570\u636e\u548c\u6570\u636e\u64cd\u4f5c\uff0c\u5305\u62ec\u6570\u636e\u7684\u83b7\u53d6\u3001\u5b58\u50a8\u548c\u9a8c\u8bc1\u7b49\u3002\\n- \u89c6\u56fe\uff08View\uff09\u663e\u793a\u6570\u636e\uff0c\u901a\u5e38\u662fHTML\u9875\u9762\u6216\u8005\u662f\u5176\u4ed6UI\u7ec4\u4ef6\u3002\\n- \u63a7\u5236\u5668\uff08Controller\uff09\u5904\u7406\u4e1a\u52a1\u903b\u8f91\u548c\u7528\u6237\u8f93\u5165\uff0c\u4f8b\u5982\u54cd\u5e94\u7528\u6237\u7684\u8bf7\u6c42\u5e76\u5c06\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u5408\u9002\u7684\u6a21\u578b\u548c\u89c6\u56fe\u3002\\n\\nMVC\u6846\u67b6\u5c06\u5e94\u7528\u7a0b\u5e8f\u5206\u4e3a\u4e09\u4e2a\u72ec\u7acb\u7684\u6a21\u5757\uff0c\u4f7f\u5f00\u53d1\u66f4\u52a0\u6a21\u5757\u5316\u548c\u6613\u4e8e\u7ec4\u7ec7\u3002MVC\u8fd8\u53ef\u4ee5\u63d0\u9ad8\u4ee3\u7801\u7684\u590d\u7528\u7a0b\u5ea6\uff0c\u56e0\u4e3a\u6a21\u578b\u548c\u89c6\u56fe\u901a\u5e38\u53ef\u4ee5\u5728\u591a\u4e2a\u63a7\u5236\u5668\u4e4b\u95f4\u5171\u4eab\u3002\u56e0\u6b64\uff0cMVC\u662fWeb\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u4e2d\u5e7f\u6cdb\u4f7f\u7528\u7684\u4e00\u79cd\u67b6\u6784\u3002\u5e38\u89c1\u7684MVC\u6846\u67b6\u5305\u62ecSpring MVC\u3001ASP.NET MVC\u3001Ruby on Rails\u7b49\u3002\\n\\n## 2\u3001mvc \u4e0d\u662f\u5b8c\u6574\u7684\u6846\u67b6\\n\\nMVC\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u8f6f\u4ef6\u67b6\u6784\u6a21\u5f0f\uff0c\u4f46\u662f\u5b83\u4e0d\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u5e94\u7528\u7a0b\u5e8f\u8bbe\u8ba1\u6216\u6846\u67b6\uff0c\u800c\u53ea\u662f\u4e00\u79cd\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7ec4\u7ec7\u4ee3\u7801\u7684\u65b9\u6cd5\u3002MVC\u4e2d\u7684\u67b6\u6784\u6a21\u5f0f\u662f\u6a21\u578b\uff08Model\uff09\u3001\u89c6\u56fe\uff08View\uff09\u548c\u63a7\u5236\u5668\uff08Controller\uff09\u7684\u7f29\u5199\uff0c\u5176\u4e2d\u89c6\u56fe\u548c\u63a7\u5236\u5668\u90fd\u662f\u5c5e\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u754c\u9762\u548c\u4ea4\u4e92\u5c42\u3002\\n\u5728MVC\u7684\u8bbe\u8ba1\u4e2d\uff0c\u901a\u5e38\u4e0d\u9700\u8981\u670d\u52a1\u5c42\u6765\u5904\u7406\u5177\u4f53\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u800c\u5e94\u8be5\u5c06\u4e1a\u52a1\u903b\u8f91\u653e\u5728\u63a7\u5236\u5668\u4e2d\u5904\u7406\u3002\u63a7\u5236\u5668\u4f5c\u4e3a\u8fde\u63a5\u6a21\u578b\u548c\u89c6\u56fe\u7684\u4e2d\u4ecb\uff0c\u53ef\u4ee5\u5904\u7406\u7528\u6237\u7684\u8bf7\u6c42\u5e76\u6839\u636e\u9700\u8981\u4ece\u6a21\u578b\u4e2d\u83b7\u53d6\u6570\u636e\uff0c\u518d\u628a\u6570\u636e\u4f20\u9012\u7ed9\u89c6\u56fe\u8fdb\u884c\u5448\u73b0\u3002\u5982\u679c\u9700\u8981\u5bf9\u6570\u636e\u8fdb\u884c\u4e00\u4e9b\u903b\u8f91\u64cd\u4f5c\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u63a7\u5236\u5668\u5c42\u9762\u8fdb\u884c\u5904\u7406\uff0c\u800c\u4e0d\u9700\u8981\u5f15\u5165\u989d\u5916\u7684\u670d\u52a1\u5c42\u3002\\n\\n\u5f53\u7136\uff0c\u5728\u67d0\u4e9bMVC\u5b9e\u73b0\u4e2d\uff0c\u670d\u52a1\u5c42\u6216\u4e1a\u52a1\u5c42\u53ef\u80fd\u4f1a\u88ab\u7528\u6765\u5904\u7406\u66f4\u590d\u6742\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u7279\u522b\u662f\u5f53\u63a7\u5236\u5668\u548c\u6a21\u578b\u975e\u5e38\u5e9e\u5927\u65f6\u3002\u4f46\u662f\uff0c\u8fd9\u5e76\u4e0d\u662fMVC\u7684\u5f3a\u5236\u6027\u8981\u6c42\uff0c\u800c\u662f\u4e00\u79cd\u8bbe\u8ba1\u9009\u62e9\u3002\\n\\n\u76f8\u6bd4\u4e4b\u4e0b\uff0cNestJS \u662f\u4e00\u4e2a\u540e\u7aef\u5f00\u53d1\u6846\u67b6\uff0c\u5b83\u5728MVC\u8bbe\u8ba1\u4e4b\u4e0a\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4e86\u4fbf\u6377\u7684\u6a21\u5757\u5316\u548c\u670d\u52a1\u5316\u3002\u5728 NestJS\u7684\u8bbe\u8ba1\u4e2d\uff0c\u670d\u52a1\u5c42\u662f\u7528\u6765\u5904\u7406\u4e1a\u52a1\u903b\u8f91\u7684\uff0c\u63a7\u5236\u5668\u5c42\u53ea\u8d1f\u8d23\u5904\u7406HTTP\u8bf7\u6c42\u5e76\u5c06\u8bf7\u6c42\u4f20\u9012\u7ed9\u670d\u52a1\u5c42\u5904\u7406\u5e76\u8fd4\u56de\u8bf7\u6c42\u7684\u54cd\u5e94\u3002\u56e0\u6b64\uff0cNestJS\u7684\u8bbe\u8ba1\u9700\u8981\u5f15\u5165\u670d\u52a1\u5c42\u6765\u5206\u79bb\u4e1a\u52a1\u903b\u8f91\u548c\u63a7\u5236\u5668\uff0c\u5b9e\u73b0\u4e1a\u52a1\u903b\u8f91\u7684\u53ef\u91cd\u7528\u6027\u5e76\u4f7f\u4ee3\u7801\u66f4\u52a0\u6e05\u6670\u6613\u61c2\u3002\\n\\n## 3\u3001nodejs mvc\\n\\n\u4f7f\u7528Node.js\u548cExpress\u6846\u67b6\u7684\u7b80\u5355MVC\u6846\u67b6\u3002\u4e0b\u9762\u662f\u4e3b\u8981\u7684\u4ee3\u7801\u548c\u6587\u4ef6\uff1a\\n\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u5728\u9879\u76ee\u4e2d\u5b89\u88c5 Express\uff1a\\n\\n```\\nnpm install express\\n```\\n\\n\u7136\u540e\uff0c\u521b\u5efa\u4e00\u4e2aserver.js\u6587\u4ef6\uff0c\u7528\u6765\u542f\u52a8\u670d\u52a1\u5668\u5e76\u8bbe\u7f6e\u8def\u7531\uff1a\\n\\n```javascript\\nconst express = require(\'express\');\\nconst app = express();\\n\\n// \u8bbe\u7f6e\u8def\u7531\\napp.get(\'/\', function(req, res){\\n  res.send(\'Hello World!\');\\n});\\n\\napp.listen(3000, function(){\\n  console.log(\'Server started on port 3000...\');\\n});\\n```\\n\\n\u8fd9\u6bb5\u4ee3\u7801\u542f\u52a8\u4e00\u4e2a\u670d\u52a1\u5668\uff0c\u5e76\u5728\u6839URL\u4e0a\u8fd4\u56de \\"Hello World!\\" \u5b57\u7b26\u4e32\u3002\\n\\n\u63a5\u4e0b\u6765\uff0c\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55\u7ed3\u6784\uff0c\u7528\u6765\u5bb9\u7eb3\u6211\u4eec\u7684MVC\u6846\u67b6\uff1a\\n\\n```\\n- app/\\n  - controllers/\\n    - homeController.js\\n  - models/\\n    - homeModel.js\\n  - views/\\n    - homeView.ejs\\n  - routes.js\\n- server.js\\n```\\n\\n\u5728MVC\u6846\u67b6\u4e2d\uff0c\u4ee3\u7801\u88ab\u5206\u6210\u4e09\u5c42\uff1a\u6a21\u578b\u3001\u89c6\u56fe\u548c\u63a7\u5236\u5668\u3002\\n\\n- \u6a21\u578b\u5c42\u8d1f\u8d23\u5904\u7406\u6570\u636e\u548c\u6570\u636e\u64cd\u4f5c\uff08CRUD\uff09\u3002\\n- \u89c6\u56fe\u5c42\u8d1f\u8d23\u663e\u793a\u6570\u636e\u3002\\n- \u63a7\u5236\u5668\u5c42\u8d1f\u8d23\u63a5\u6536\u548c\u5904\u7406\u7528\u6237\u8bf7\u6c42\uff0c\u5e76\u5c06\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u9002\u5f53\u7684\u6a21\u578b\u548c\u89c6\u56fe\u3002\\n\\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6765\u5b9e\u73b0\u8fd9\u4e09\u4e2a\u5c42\u7684\u4ee3\u7801\uff1a\\n\\n### \u6a21\u578b\u5c42\\n\\n\u6253\u5f00homeModel.js\u6587\u4ef6\uff0c\u52a0\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a\\n\\n```javascript\\nclass HomeModel {\\n  constructor() {\\n    this.data = {\\n      name: \\"John\\",\\n      age: 30,\\n      email: \\"john@example.com\\"\\n    };\\n  }\\n\\n  getData() {\\n    return this.data;\\n  }\\n}\\n\\nmodule.exports = HomeModel;\\n```\\n\\n\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6a21\u578b\u7c7b\uff0c\u5b83\u53ea\u662f\u8fd4\u56de\u4e00\u4e9b\u786c\u7f16\u7801\u7684\u6570\u636e\u3002\\n\\n### \u89c6\u56fe\u5c42\\n\\n\u6211\u4eec\u4f7f\u7528EJS\uff08Embedded JavaScript\uff09\u6a21\u677f\u5f15\u64ce\u6765\u5b9e\u73b0\u6211\u4eec\u7684\u89c6\u56fe\u3002\\n\\n\u6253\u5f00homeView.ejs\u6587\u4ef6\uff0c\u5e76\u52a0\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a\\n\\n```html\\n<!DOCTYPE html>\\n<html>\\n<head>\\n  <meta charset=\\"utf-8\\">\\n  <title>Home Page</title>\\n</head>\\n<body>\\n  <h1>Welcome <%= name %>!</h1>\\n  <p>You are <%= age %> years old.</p>\\n  <p>Your email address is <%= email %>.</p>\\n</body>\\n</html>\\n```\\n\\n\u8fd9\u4e2a\u6a21\u677f\u4f7f\u7528\u4e86EJS\u7684\u5d4c\u5165\u5f0fJavascript\u8bed\u6cd5\uff0c\u5b83\u5c06\u5728\u6e32\u67d3\u89c6\u56fe\u65f6\u88ab\u52a8\u6001\u66ff\u6362\u4e3a\u6570\u636e\u3002\\n\\n### \u63a7\u5236\u5668\u5c42\\n\\n\u6253\u5f00homeController.js\u6587\u4ef6\uff0c\u5e76\u52a0\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a\\n\\n```javascript\\nconst HomeModel = require(\'../models/homeModel\');\\n\\nclass HomeController {\\n  constructor() {\\n    this.homeModel = new HomeModel();\\n  }\\n\\n  index(req, res) {\\n    let data = this.homeModel.getData();\\n    res.render(\'homeView\', data);\\n  }\\n}\\n\\nmodule.exports = HomeController;\\n```\\n\\n\u8fd9\u4e2a\u63a7\u5236\u5668\u5c06\u63a5\u6536\u8bf7\u6c42\u5e76\u8c03\u7528\u6a21\u578b\u5bf9\u8c61\uff0c\u7136\u540e\u5c06\u6a21\u578b\u6570\u636e\u4f20\u9012\u7ed9\u89c6\u56fe\u8fdb\u884c\u5448\u73b0\u3002\\n\\n### service\\n\u589e\u52a0 service \u6587\u4ef6\u5939\uff0c\u589e\u52a0\uff1a\\n- home.service.js\\n- user.service.js\\n\\n\u7b80\u5316 Controller \u4ee3\u7801\uff0c\u62bd\u79bb\u5230 Service \u4e2d \\n\\n### \u8def\u7531\\n\\n\u6253\u5f00routes.js\u6587\u4ef6\uff0c\u5e76\u52a0\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a\\n\\n```javascript\\nconst express = require(\'express\');\\nconst router = express.Router();\\nconst HomeController = require(\'./controllers/homeController\');\\n\\nconst homeController = new HomeController();\\n\\nrouter.get(\'/\', homeController.index.bind(homeController));\\n\\nmodule.exports = router;\\n```\\n\\n\u8fd9\u4e2a\u8def\u7531\u6587\u4ef6\u5efa\u7acb\u8def\u7531\uff0c\u5e76\u5c06\u8bf7\u6c42\u4f20\u9012\u5230HomeController\u7684index\u65b9\u6cd5\u3002\\n\\n### \u542f\u52a8\u670d\u52a1\u5668\\n\\n\u6700\u540e\uff0c\u5728server.js\u6587\u4ef6\u4e2d\u52a0\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a\\n\\n```javascript\\nconst express = require(\'express\');\\nconst app = express();\\nconst router = require(\'./app/routes\');\\n\\n// \u8bbe\u7f6e\u8def\u7531\\napp.use(\'/\', router);\\n\\napp.set(\'view engine\', \'ejs\');\\napp.set(\'views\', __dirname + \'/app/views\');\\n\\napp.listen(3000, function(){\\n  console.log(\'Server started on port 3000...\');\\n});\\n```\\n\\n\u8fd9\u4e2a\u6587\u4ef6\u542f\u52a8\u670d\u52a1\u5668\u5e76\u8bbe\u7f6e\u8def\u7531\uff0c\u540c\u65f6\u6307\u5b9a\u89c6\u56fe\u6e32\u67d3\u5f15\u64ce\u4e3aEJS\u3002\\n\\n\u73b0\u5728\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u542f\u52a8\u670d\u52a1\u5668\uff1a\\n\\n```\\nnode server.js\\n```\\n\\n\u73b0\u5728\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee http://localhost:3000/\uff0c\u4f60\u5e94\u8be5\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a\u7b80\u5355\u7684\u6b22\u8fce\u9875\u9762\u3002\u606d\u559c\uff0c\u4f60\u5df2\u7ecf\u5199\u4e86\u4e00\u4e2a\u4f7f\u7528 Node.js \u548c Express \u7684\u7b80\u5355\u7684 MVC \u6846\u67b6\uff01\\n\\n### \u7ea6\u5b9a\u5f0f\u81ea\u52a8\u52a0\u8f7d\\n\u6309\u7167\u7ea6\u5b9a\\n- service \u76ee\u5f55\u4e0b\u6bcf\u4e2a\u6587\u4ef6\u5bfc\u51fa\u4e00\u4e2a Service\\n- controller \u76ee\u5f55\u4e0b\u6bcf\u4e2a\u6587\u4ef6\u5bfc\u51fa\u4e00\u4e2a Controller\\n- model \u76ee\u5f55\u4e0b\u6bcf\u4e2a\u6587\u4ef6\u5bfc\u51fa\u4e00\u4e2a Model\\n\\n\u5047\u8bbe\u7a0b\u5e8f\u5165\u53e3\u4e3a main.js\uff0c\u5728 main.js \u4e2d\uff0c\u4f7f\u7528 fs \u904d\u5386\u6587\u4ef6\u5939\uff0c\u518d require \u6bcf\u4e2a\u6587\u4ef6\uff0c\u6302\u8f7d\u5230\u5bf9\u5e94\u7684 `ctx.controller` `ctx.service`  `ctx.model`\uff0c\u4f7f\u7528\u65f6\u4e0d\u9700\u8981\u518d\u5bfc\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u5f15\u7528 ctx\u3002 \\n\\n## 4\u3001\u8f6f\u4ef6\u67b6\u6784\u7684\u5c42\u7ea7\u5212\u5206\\n- \u7c97\u5212\u5206\\n  - Model\\n  - View\\n  - Controller\\n- \u7ec6\u5212\u5206\\n  - Model\\n  - View\\n  - Controller\\n  - Service\\n  - Validation","isLeaf":true},{"key":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/26 ejs \u6a21\u677f\u5f15\u64ce.md","path":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/26 ejs \u6a21\u677f\u5f15\u64ce.md","route":"/NodeJS/01 \u57fa\u7840\u77e5\u8bc6/26 ejs \u6a21\u677f\u5f15\u64ce.md","leaf":true,"title":"26 ejs \u6a21\u677f\u5f15\u64ce","depth":2,"content":"- \u5b98\u65b9\u6587\u6863 https://ejs.co/#install\\n\\n## 1\u3001ejs \u6a21\u677f\u51fd\u6570\\n\\n\u53ef\u4ee5\u5728 EJS \u6a21\u677f\u4e2d\u7f16\u5199 JavaScript \u51fd\u6570\u3002 \u5728 EJS \u4e2d\uff0c\u53ef\u4ee5\u50cf\u5728 JavaScript \u4ee3\u7801\u4e2d\u4e00\u6837\u5b9a\u4e49\u5e76\u6267\u884c\u51fd\u6570\u3002 \u53ef\u4ee5\u5728 EJS \u6a21\u677f\u7684\u4ee3\u7801\u5757\u4e2d\u5b9a\u4e49\u51fd\u6570\uff0c\u7136\u540e\u5728\u6a21\u677f\u4e2d\u4f7f\u7528\u5b83\u4eec\u3002\\n\u4ee5\u4e0b\u662f\u4f7f\u7528 EJS \u7f16\u5199\u51fd\u6570\u7684\u793a\u4f8b\uff1a\\n\\n```html\\n<% function greet(name) {\\n    return \\"Hello \\" + name;\\n} %>\\n\\n<p><%= greet(\\"John\\") %></p>\\n```\\n\\n\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a\u201cgreet\u201d\u7684\u51fd\u6570\uff0c\u5b83\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\u201cname\u201d\u5e76\u8fd4\u56de\u201cHello\u201d\u52a0\u4e0a\u7ed9\u5b9a\u540d\u79f0\u7684\u5b57\u7b26\u4e32\u3002 \u7136\u540e\uff0c\u6211\u4eec\u5728\u6a21\u677f\u4e2d\u4f7f\u7528\u4e86 greet \u51fd\u6570\uff0c\u5e76\u4f20\u9012\u201cJohn\u201d\u4f5c\u4e3a\u53c2\u6570\u3002 \u6211\u4eec\u4f7f\u7528<%= %>\u6807\u8bb0\u6765\u5448\u73b0\u51fd\u6570\u8fd4\u56de\u7684\u503c\u3002\\n\\n\u8bf7\u6ce8\u610f\uff0c\u51fd\u6570\u5e94\u8be5\u5728\u5bf9\u5b83\u4eec\u8fdb\u884c\u8c03\u7528\u4e4b\u524d\u5b9a\u4e49\uff0c\u4ee5\u4fbf EJS \u80fd\u591f\u6b63\u786e\u89e3\u6790\u5b83\u4eec\u3002\\n\\n## 2\u3001\u6a21\u677f\u5f15\u7528\\n\\n```\\n- views\\n  - header.ejs\\n  - footer.ejs\\n- main.js\\n```\\n\\n```js\\nlet ejs = require(\\"ejs\\");\\nlet path = require(\\"path\\");\\n\\nconst tpl = `\\n<%- include(\\"/views/header\\"); %>\\n\\n<%- include(\\"/views/footer\\"); %>\\n`;\\n\\nvar html = ejs.render(tpl, null, {\\n  root: path.resolve(__dirname),\\n});\\n\\nconsole.log(html);\\n\\n```\\n\\n## 3\u3001ejs \u9012\u5f52\u6e32\u67d3\\n\\n### \u5b9e\u73b0\u65b9\u5f0f 1\\n\\n`./user/item`\\n\\n```html\\n<li class=\\"item\\">\\n  <div class=\\"title\\"><%= user.title %></div>\\n  <% if (user.children && user.children.length) { %> <%- include(\'/user/list\',\\n  {users: user.children}); %> <% } %>\\n</li>\\n```\\n\\n`./user/list`\\n\\n```html\\n<ul class=\\"list\\">\\n  <% users.forEach(function(user){ %> <%- include(\'/user/item\', {user: user});\\n  %> <% }); %>\\n</ul>\\n```\\n\\n`./entry.js`\\n\\n```js\\nlet ejs = require(\\"ejs\\");\\nlet path = require(\\"path\\");\\nlet fs = require(\\"fs\\");\\n\\nvar html = ejs.render(\\n  fs.readFileSync(\\"./user/list.ejs\\", \\"utf8\\"),\\n  {\\n    users: [\\n      {\\n        title: \\"B\\",\\n        children: [\\n          {\\n            title: \\"B1\\",\\n          },\\n          {\\n            title: \\"B2\\",\\n          },\\n        ],\\n      },\\n      {\\n        title: \\"CC\\",\\n      },\\n    ],\\n  },\\n  {\\n    root: path.resolve(__dirname),\\n  }\\n);\\n\\nfs.writeFileSync(\\"out/03.html\\", html);\\n```\\n\\n### \u5b9e\u73b0\u65b9\u5f0f 2\\n\\n```js\\nlet ejs = require(\\"ejs\\");\\nlet path = require(\\"path\\");\\nlet fs = require(\\"fs\\");\\n\\nconst tpl = `\\n<% function renderTree(node) {\\n  %>\\n  <ul>\\n      <li><%= node.name %></li>\\n      <% if(node.children && node.children.length) {\\n          node.children.forEach(child => {\\n              %> \\n              <li><%= renderTree(child) %></li>\\n              <%})\\n          }\\n      %>\\n  </ul>\\n  <%\\n} %>\\n\\n<%= renderTree(rootNode) %>\\n`;\\n\\nvar html = ejs.render(\\n  tpl,\\n  {\\n    rootNode: {\\n      name: \\"AA\\",\\n      children: [\\n        {\\n          name: \\"BB\\",\\n        },\\n        {\\n          name: \\"CC\\",\\n        },\\n      ],\\n    },\\n  },\\n  {\\n    root: path.resolve(__dirname),\\n  }\\n);\\n\\nfs.writeFileSync(\\"out/04.html\\", html);\\n```\\n","isLeaf":true}]},{"key":"/NodeJS/02 expressjs","path":"/NodeJS/02 expressjs","route":"/NodeJS/02 expressjs","leaf":false,"title":"02 expressjs","depth":1,"content":"","isLeaf":false,"children":[{"key":"/NodeJS/02 expressjs/01-design.md","path":"/NodeJS/02 expressjs/01-design.md","route":"/NodeJS/02 expressjs/01-design.md","leaf":true,"title":"01-design","depth":2,"content":"---\\ntitle: 01 \u6574\u4f53\u4ecb\u7ecd\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---\\n\\n## 1\u3001\u521d\u8bc6 express\\n[express.js](https://link.juejin.cn/?target=https%3A%2F%2Fwww.expressjs.com.cn%2F) \u662f\u4e00\u6b3e\u57fa\u4e8e Node.js \u5e73\u53f0\uff0c\u6781\u7b80\u7684 Web \u5f00\u53d1\u6846\u67b6\u3002\u672c\u6587\u5c06\u57fa\u4e8e 4.18.2 \u7248\u672c\uff0c\u8be6\u7ec6\u8bb2\u89e3 Express \u6838\u5fc3\u539f\u7406\u7684\u5b9e\u73b0\uff0c\u5305\u62ec\u4e3b\u4f53\u67b6\u6784 \u4ee5\u53ca \u6838\u5fc3\u7684\u4e2d\u95f4\u4ef6\u67b6\u6784\u6a21\u578b\u8bb2\u89e3\u3002\\n\\nExpress \u5728\u4f7f\u7528\u4e0a\u975e\u5e38\u8f83\u7b80\u5355\uff1a\\n\\n- \uff081\uff09\u521d\u59cb\u5316\u4e00\u4e2a\u5e94\u7528\\n- \uff082\uff09\u6ce8\u518c\u4e2d\u95f4\u4ef6\u8c03\u7528\\n- \uff083\uff09\u6700\u540e\u76d1\u542c\u7aef\u53e3\u542f\u52a8\u670d\u52a1\\n\\n```typescript\\nconst express = require(\'express\')\\n\\n// \u521d\u59cb\u5316\u4e00\u4e2a\u5e94\u7528\\nconst app = express()\\nconst port = 3000\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6\u8c03\u7528\\napp.get(\'/\', (req, res) => {\\n  res.send(\'Hello World!\')\\n})\\n\\n// \u76d1\u542c\u7aef\u53e3\u542f\u52a8\u670d\u52a1\\napp.listen(port, () => {\\n  console.log(`Example app listening on port ${port}`)\\n})\\n```\\n \\n\u8fd9\u4e2a\u4f8b\u5b50\u5f88\u7b80\u5355\uff0c\u5728\u66f4\u8fdb\u4e00\u6b65\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u7406\u89e3 express.js \u7684\u4e2d\u95f4\u4ef6\u6a21\u578b\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u7406\u89e3\u6e90\u7801\u3002\\n\\n## 2\u3001\u4e2d\u95f4\u4ef6\u6a21\u578b\\nexpress.js \u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u6a21\u578b\uff0c\u6bd4\u5982\u5bf9\u4e8e\u5982\u4e0b\u4ee3\u7801\uff1a\\n```cpp\\nconst express = require(\'express\')\\nconst app = express()\\nconst port = 3000\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6: \u54cd\u5e94\u8bf7\u6c42\uff0c\u6253\u53701\uff0c\u5e76\u4e14\u8c03\u7528 next() \u8fdb\u5165\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\napp.get(\'/\', (req, res, next) => {\\n  console.log(1)\\n  res.send(\'Hello World!\')\\n  next()\\n})\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6: \u6253\u53702\uff0c\u5e76\u4e14\u8c03\u7528 next() \u8fdb\u5165\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\napp.get(\'/\', (req, res, next) => {\\n  console.log(2)\\n  next()\\n})\\n\\n// \u6ce8\u518c\u4e2d\u95f4: \u6253\u53703\\napp.get(\'/\', (req, res, next) => {\\n  console.log(3)\\n  next()\\n})\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6: \u6253\u53704\\napp.get(\'/hello\', (req, res) => {\\n  console.log(4)\\n})\\n\\napp.listen(port, () => {\\n  console.log(`Example app listening on port ${port}`)\\n})\\n```\\n\u5728\u8fd9\u91cc\u6211\u4eec\u6ce8\u518c\u4e864\u4e2a\u4e2d\u95f4\u4ef6\uff0c\u5f53\u8bbf\u95ee [http://localhost:3000/](http://localhost:3000/) \u4f1a\u547d\u4e2d\u524d3\u4e2a\u4e2d\u95f4\u4ef6\uff0c\u4ece\u800c\u6253\u5370 1 2 3\uff0c\u5176\u547d\u4e2d\u89c4\u5219\u4e3b\u8981\u4f9d\u9760 HTTP \u8bf7\u6c42\u65b9\u6cd5 \u548c \u8bf7\u6c42\u8def\u5f84\u6765\u5224\u65ad\u3002\\n\\n![\u56fe1](http://s3.airtlab.com/blog/20230228221626.png)\\n\\n\u5728 express.js \u5185\u90e8\uff0c\u5f53\u76d1\u542c\u5230\u4e00\u4e2a\u8bf7\u6c42\u65f6\uff0c\u4f1a\u904d\u5386\u6240\u6709\u4e2d\u95f4\u4ef6\uff0c\u5982\u679c\u67d0\u4e2a\u4e2d\u95f4\u4ef6\u547d\u4e2d\uff0c\u5219\u4f1a\u8fdb\u5165\u8be5\u4e2d\u95f4\u4ef6\uff0c\u5426\u5219\u8df3\u8fc7\uff0c\u76f4\u5230\u6240\u6709\u4e2d\u95f4\u4ef6\u904d\u5386\u7ed3\u675f\u3002 \\n\\n## 3\u3001\u6838\u5fc3\u6982\u5ff5\u4ecb\u7ecd\\n\u4ee5\u4e0b\u7684\u5185\u5bb9\uff0c\u53ea\u9700\u8981\u5927\u4f53\u6e05\u695a\u7559\u4e2a\u5370\u8c61\u5373\u53ef\uff0c\u5728\u540e\u9762\u7684\u7ae0\u8282\u4e2d\uff0c\u6211\u4eec\u4f1a\u8be6\u7ec6\u7684\u4ecb\u7ecd\u3002\\n\\n### 3.1 application \u5bf9\u8c61\\n\u8be5\u5bf9\u8c61\u7531 express() \u521b\u5efa\uff0capp \u672c\u8d28\u662f\u4e00\u4e2a\u51fd\u6570(\u4e5f\u662f\u4e2d\u95f4\u4ef6)\uff0c\u7528\u4e8e\u63a5\u53d7\u8bf7\u6c42\u5e76\u4e0b\u53d1\uff0c\u540c\u65f6\u6302\u8f7d\u4e86\u5f88\u591a\u65b9\u6cd5\u3002\\n```typescript\\nvar app = function(req, res, nest) {}\\n\\n/**\\n * Initialize the server.\\n *\\n *   - setup default configuration\\n *   - setup default middleware\\n *   - setup route reflection methods\\n *\\n * @private\\n */\\n// \u5165\u53e3\\napp.init = function init() {}\\n\\n/**\\n * Initialize application configuration.\\n * @private\\n */\\n// \u521d\u59cb\u5316\u914d\u7f6e\\napp.defaultConfiguration = function defaultConfiguration() {}\\n\\n// \u521b\u5efa router\\napp.lazyrouter = function lazyrouter() {}\\n```\\n### 3.2 middleware \u4e2d\u95f4\u4ef6\\nmiddleware \u672c\u8d28\u4e0a\u662f\u4e00\u4e2a Function\uff0c\u5b58\u57283\u79cd\u5b9a\u4e49\uff1a\\n```cpp\\n// \u6b63\u5e38\u4e2d\u95f4\u4ef6\uff1a\u4f60\u5bf9\u6570\u636e\u8fdb\u884c\u5904\u7406\uff0c\u7136\u540e\u8c03\u7528 next \u8c03\u7528\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\nfn1(req, res, next) {}\\n\\n// \u5f02\u5e38\u4e2d\u95f4\u4ef6: \u4f60\u51fa\u9519\u53e3\u624d\u8c03\u7528\u5b83\uff0c\u800c\u4e14\u5fc5\u987b\u662f\u56db\u4e2a\u53c2\u6570\uff0c\u4e0d\u80fd\u591a\u4e5f\u4e0d\u80fd\u5c11\\nfn2(err, req, res, next) {}\\n\\n// \u7ec8\u6b62\u4e2d\u95f4\u4ef6\uff1a\u6ca1\u6709 next \u8bf4\u660e\u6570\u636e\u5230\u91cc\u7ed3\u675f\\nfn3(req, res) {}\\n```\\n\u4e2d\u95f4\u4ef6\u53ef\u4ee5\u7ed1\u5b9a\u8def\u7531\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u7528\u7ed1\u5b9a\u8def\u7531\uff1a\\n```cpp\\n// \u5168\u5c40, \u4e0d\u7ed1\u5b9a\u8def\u7531\\napp.use(function(req, res, next){});\\n\\n// \u8def\u7531\u4e2d\u95f4\u4ef6, \u7ed1\u5b9a\u8def\u7531 get \u65b9\u6cd5\\napp.get(\\"/ping\\", function(req, res, next){})\\n\\n// \u8def\u7531\u4e2d\u95f4\u4ef6, \u7ed1\u5b9a\u8def\u7531 \u6240\u6709\u65b9\u6cd5\\napp.all(\\"/ping\\", function(req, res, next){})\\n```\\n\u4e2d\u95f4\u4ef6\u7684\u66f4\u591a\u6f14\u793a [Middleware callback function examples]([https://expressjs.com/en/4x/api.html#app.use](https://expressjs.com/en/4x/api.html#app.use))\\n\\n### 3.3 Router \u5bf9\u8c61\\n\u6bcf\u4e00\u4e2a application \u4e2d\u90fd\u53ea\u6709\u4e00\u4e2a router \u8def\u7531\u5bf9\u50cf\uff0c\u8fd9\u4e2a\u5bf9\u50cf\u7ba1\u7406\u8fd9\u4e2a application \u4e0b\u9762\u6709\u6240\u6709\u7684 subApplication, middleware \u548c route\u3002\\n\\n### 3.4 Route \u5bf9\u8c61\\n```cpp\\nfunction Route(path) {\\n  this.path = path;\\n  this.stack = [];\\n\\n  debug(\'new %o\', path)\\n\\n  // route handlers for various http methods\\n  this.methods = {};\\n}\\n```\\n\u7528\u4e8e\u7ba1\u7406\u8def\u7531\u5bf9\u8c61\uff0c\u6bd4\u5982\uff1a\\n```cpp\\napp.get(\\"/ping\\", function fn1(req, res, next){})\\n```\\n\u8fd9\u65f6\uff0c\u5c31\u4f1a\u521b\u5efa\u4e00\u4e2a Route \u5b9e\u4f8b:\\n```cpp\\n{\\n\\t\\"path\\": \\"/ping\\", // \u8bf7\u6c42\u8def\u5f84\\n    \\"stack\\": [fn1],  // \u56de\u6389\u51fd\u6570\\n    \\"methods\\": {     // \u8be5 route \u7ed1\u5b9a\u4e86\u7684\u8bf7\u6c42\u65b9\u6cd5\\n        \\"get\\": true\\n    }\\n}\\n```\\n\\n### 3.5 Layer \u5bf9\u8c61\\nLayer \u662f\u4e00\u4e2a\u8fde\u63a5\u5668\uff0c\u7528\u4e8e\u4e32\u8054 router route \u4ee5\u53ca middleware\uff0c\u4e5f\u662f express.js \u4e2d\u95f4\u4ef6\u7684\u6838\u5fc3\\n\\n### 3.6 sub application \u5b50\u5e94\u7528\\napplication \u6307\u4e00\u4e2a express \u5b9e\u4f8b\uff0c\u8fd9\u4e2a\u5b9e\u4f8b\u53ef\u4ee5\u6709\u81ea\u5df1\u73af\u5883\u53d8\u91cf\u7b49\uff0c\u800c subApplication \u662f\u6307\u7684 application \u4e0b\u9762\u53c8\u4f1a\u5d4c\u5957 \u4e00\u4e2a express \u5b9e\u4f8b\u5bf9\u50cf\u3002\\n```cpp\\n// An Express app is valid middleware.\\nvar subApp = express()\\nsubApp.get(\'/\', function (req, res, next) {\\n  next()\\n})\\napp.use(subApp)\\n```","isLeaf":true},{"key":"/NodeJS/02 expressjs/02-create-app.md","path":"/NodeJS/02 expressjs/02-create-app.md","route":"/NodeJS/02 expressjs/02-create-app.md","leaf":true,"title":"02-create-app","depth":2,"content":"---\\ntitle: 02 \u521b\u5efa application\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---\\n\\nexpress.js \u7b2c\u4e00\u6b65\u662f\u521b\u5efa application \u5b9e\u4f8b\\n\\n```js\\nconst express = require(\'express\')\\n\\n// \u521b\u5efa application \u5b9e\u4f8b\\nconst app = express()\\nconst port = 3000\\n\\napp.get(\'/\', (req, res) => {\\n  res.send(\'Hello World!\')\\n})\\n\\napp.listen(port, () => {\\n  console.log(`Example app listening on port ${port}`)\\n})\\n```\\n\\n\u6211\u4eec\u6765\u770b\u770b \u8c03\u7528 express \u51fd\u6570\u540e\uff0c\u80cc\u540e\u7684\u903b\u8f91\u662f\u4ec0\u4e48\u3002\\n\\n## 1. createApplication()\\n\\n\u6e90\u7801\uff1alib/express.js<br />express \u51fd\u6570\u5c31\u662f createApplication:\\n\\n```js\\n/**\\n* Create an express application.\\n*\\n* @return {Function}\\n* @api public\\n*/\\n\\nfunction createApplication() {\\n  // app \u4ec5\u4ec5\u662f\u4e00\u4e2a\u51fd\u6570\\n  // app \u4e3a\u4ec0\u4e48\u8fd9\u4e48\u5b9a\u4e49\uff0c\u540e\u7eed\u4f1a\u8bb2\u5230\\n  var app = function (req, res, next) {\\n    app.handle(req, res, next);\\n  };\\n\\n  // \u7ed9 app \u6269\u5c55 \u53d1\u5e03\u8ba2\u9605\\n  mixin(app, EventEmitter.prototype, false);\\n\\n  // \u7ed9 app \u6269\u5c55 application \u91cc\u9762\u6240\u5b9a\u4e49\u5bf9\u8c61\\n  // \u6bd4\u5982 app.init \u5c31\u5728 proto \u4e2d\u5b9a\u4e49\u7684\\n  mixin(app, proto, false);\\n\\n  // \u5c06 request \u6302\u8f7d\u5230 app.request\\n  // \u5e76\u4e14 app \u6302\u8f7d\u5230   request.app\\n  // expose the prototype that will get set on requests\\n  app.request = Object.create(req, {\\n    app: { configurable: true, enumerable: true, writable: true, value: app },\\n\\t});\\n\\n  // \u5c06 response \u6302\u8f7d\u5230  app.response\\n  // \u5e76\u4e14 app \u6302\u8f7d\u5230 response.app\\n  // expose the prototype that will get set on responses\\n  app.response = Object.create(res, {\\n    app: { configurable: true, enumerable: true, writable: true, value: app },\\n  });\\n\\n  // \u521d\u59cb\u5316\\n  app.init();\\n\\n  return app;\\n}\\n```\\n\\n## 2. app.init()\\n\\n\u6e90\u7801\uff1alib/application.js\\n\\n```js\\n/**\\n* Initialize the server.\\n*\\n*   - setup default configuration\\n*   - setup default middleware\\n*   - setup route reflection methods\\n*\\n* @private\\n*/\\n\\napp.init = function init() {\\n  this.cache = {};\\n  this.engines = {};\\n  this.settings = {};\\n\\n  // \u521d\u59cb\u5316 setting\\n  // setting \u7528\u4e8e\u5b58\u50a8\u4e00\u4e9b\u914d\u7f6e\u9879\\n  this.defaultConfiguration();\\n};\\n```\\n\\n## 3. app.defaultConfiguration()\\n\\n\u6e90\u7801\uff1alib/application.js\\n\\n```js\\n/**\\n* Initialize application configuration.\\n* @private\\n*/\\n\\napp.defaultConfiguration = function defaultConfiguration() {\\n  var env = process.env.NODE_ENV || \'development\';\\n\\n  // default settings\\n  // this.set(key, value) \u8bbe\u7f6e settings\\n  this.enable(\'x-powered-by\');\\n  this.set(\'etag\', \'weak\');\\n  this.set(\'env\', env);\\n  this.set(\'query parser\', \'extended\');\\n  this.set(\'subdomain offset\', 2);\\n  this.set(\'trust proxy\', false);\\n\\n  // trust proxy inherit back-compat\\n  Object.defineProperty(this.settings, trustProxyDefaultSymbol, {\\n    configurable: true,\\n    value: true\\n    });\\n\\n  debug(\'booting in %s mode\', env);\\n\\n  // MARK TODO mount \u4e8b\u4ef6\u4ec0\u4e48\u65f6\u5019 emit\\n  this.on(\'mount\', function onmount(parent) {\\n    // inherit trust proxy\\n    if (this.settings[trustProxyDefaultSymbol] === true\\n    && typeof parent.settings[\'trust proxy fn\'] === \'function\') {\\n    delete this.settings[\'trust proxy\'];\\n    delete this.settings[\'trust proxy fn\'];\\n  }\\n\\n  // inherit protos\\n  setPrototypeOf(this.request, parent.request)\\n    setPrototypeOf(this.response, parent.response)\\n    setPrototypeOf(this.engines, parent.engines)\\n    setPrototypeOf(this.settings, parent.settings)\\n  });\\n\\n  // setup locals\\n  this.locals = Object.create(null);\\n\\n  // top-most app is mounted at /\\n  this.mountpath = \'/\';\\n\\n  // default locals\\n  this.locals.settings = this.settings;\\n\\n  // default configuration\\n  this.set(\'view\', View);\\n  this.set(\'views\', resolve(\'views\'));\\n  this.set(\'jsonp callback name\', \'callback\');\\n\\n  if (env === \'production\') {\\n    this.enable(\'view cache\');\\n  }\\n\\n  Object.defineProperty(this, \'router\', {\\n    get: function() {\\n      throw new Error(\'\\\\\'app.router\\\\\' is deprecated!\\\\nPlease see the 3.x to 4.x migration guide for details on how to update your app.\');\\n    }\\n  });\\n};\\n```\\n\\n## 4. \u76d1\u542c mount \u4e8b\u4ef6\\n\\n\u5f53 express \u5b9e\u4f8b\u662f\u4e00\u4e2a\u5b50\u5e94\u7528\u65f6\uff0c\u8be5\u5b50\u5e94\u7528\u6ce8\u518c\u6210\u529f\u540e\uff0c\u5c31\u4f1a\u6536\u5230 mount \u4e8b\u4ef6\\n\\n```js\\n  app.on(\'mount\', function onmount(parent) {\\n    // inherit trust proxy\\n    if (this.settings[trustProxyDefaultSymbol] === true\\n      && typeof parent.settings[\'trust proxy fn\'] === \'function\') {\\n      delete this.settings[\'trust proxy\'];\\n      delete this.settings[\'trust proxy fn\'];\\n    }\\n\\n    // inherit protos\\n    setPrototypeOf(this.request, parent.request)\\n    setPrototypeOf(this.response, parent.response)\\n    setPrototypeOf(this.engines, parent.engines)\\n    setPrototypeOf(this.settings, parent.settings)\\n  });\\n```\\n\\n```js\\n// An Express app is valid middleware.\\nvar subApp = express()\\nsubApp.get(\'/\', function (req, res, next) {\\n  next()\\n})\\napp.use(subApp)\\n```\\n\\napp.use \u6e90\u7801\\n\\n```js\\napp.use = function use(fn) {\\n  var offset = 0;\\n  var path = \'/\';\\n\\n  // default path to \'/\'\\n  // disambiguate app.use([fn])\\n  if (typeof fn !== \'function\') {\\n    var arg = fn;\\n\\n    while (Array.isArray(arg) && arg.length !== 0) {\\n      arg = arg[0];\\n    }\\n\\n    // first arg is the path\\n    if (typeof arg !== \'function\') {\\n      offset = 1;\\n      path = fn;\\n    }\\n  }\\n\\n  var fns = flatten(slice.call(arguments, offset));\\n\\n  if (fns.length === 0) {\\n    throw new TypeError(\'app.use() requires a middleware function\')\\n  }\\n\\n  // setup router\\n  this.lazyrouter();\\n  var router = this._router;\\n\\n  fns.forEach(function (fn) {\\n    // non-express app\\n    if (!fn || !fn.handle || !fn.set) {\\n      return router.use(path, fn);\\n    }\\n\\n    debug(\'.use app under %s\', path);\\n    fn.mountpath = path;\\n    fn.parent = this;\\n\\n    // restore .app property on req and res\\n    router.use(path, function mounted_app(req, res, next) {\\n      var orig = req.app;\\n      fn.handle(req, res, function (err) {\\n        setPrototypeOf(req, orig.request)\\n        setPrototypeOf(res, orig.response)\\n        next(err);\\n      });\\n    });\\n\\n    // mounted an app\\n    fn.emit(\'mount\', this);\\n  }, this);\\n\\n  return this;\\n};\\n```\\n","isLeaf":true},{"key":"/NodeJS/02 expressjs/03-app-receive-request.md","path":"/NodeJS/02 expressjs/03-app-receive-request.md","route":"/NodeJS/02 expressjs/03-app-receive-request.md","leaf":true,"title":"03-app-receive-request","depth":2,"content":"---\\ntitle: 03 app \u63a5\u6536\u8bf7\u6c42\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---\\n\\n```js\\nconst express = require(\'express\')\\n\\n// \u521d\u59cb\u5316\u4e00\u4e2a\u5e94\u7528\\nconst app = express()\\nconst port = 3000\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6\u8c03\u7528\\napp.get(\'/\', (req, res) => {\\n  res.send(\'Hello World!\')\\n})\\n\\n// \u76d1\u542c\u7aef\u53e3\u542f\u52a8\u670d\u52a1\\napp.listen(port, () => {\\n  console.log(`Example app listening on port ${port}`)\\n})\\n```\\n\u7136\u540e app.listen \u5185\u90e8\u5c01\u88c5 http.createServer\uff0c\u6240\u4ee5\u5148\u770b\u770b app.listen\\n\\n## 1. app.listen()\\n```js\\n// lib/application.js\\napp.listen = function listen() {\\n  // this \u5c31\u662f\\n  // var app = function (req, res, next) {\\n  //   next \u4e3a undefined  \\n  //   app.handle(req, res, next);\\n  // };\\n\\n  var server = http.createServer(this);\\n\\n  return server.listen.apply(server, arguments);\\n};\\n```\\n\u6240\u4ee5\u5f53\u76d1\u542c\u5230\u8bf7\u6c42\u65f6\u4f1a\u8fdb\u5165 app.handle\\n\\n## 2. app.handle()\\n```cpp\\n// lib/application.js\\n\\n// Dispatch a req, res pair into the application. Starts pipeline processing.\\n// If no callback is provided, then default error handlers will respond\\n// in the event of an error bubbling through the stack.\\napp.handle = function handle(req, res, callback) {\\n  var router = this._router;\\n\\n  // final handler\\n  var done = callback || finalhandler(req, res, {\\n    env: this.get(\'env\'),\\n    onerror: logerror.bind(this)\\n  });\\n\\n  // no routes\\n  if (!router) {\\n    debug(\'no routes defined on app\');\\n    done();\\n    // \u5982\u679c\u6ca1\u6709\u6ce8\u518c\u4efb\u4f55\u7684\u4e2d\u95f4\u4ef6\uff0c\u5219 done()\\n    return;\\n  }\\n\\n  router.handle(req, res, done);\\n};\\n```\\n app.handle  \u7528\u4e8e\u4e0b\u53d1\u8bf7\u6c42\u5230 router \u8fdb\u884c\u5904\u7406\uff0c\u9996\u5148\u5b9a\u4e49\u4e86 done Function\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u5728\u6240\u6709\u4e2d\u95f4\u4ef6\u90fd\u6267\u884c\u5b8c\u4e86\u540e\u6267\u884c\u3002\u8c03\u7528 router.handle \u540e\uff0c\u4f1a\u8fdb\u4eba\u6d41\u6c34\u7ebf\u5904\u7406\u6d41\u7a0b\uff0c\u6211\u4eec\u5148\u770b\u770b finalhandler \u7684\u5b9a\u4e49\\n```cpp\\nfunction finalhandler (req, res, options) {\\n  var opts = options || {}\\n\\n  // get environment\\n  var env = opts.env || process.env.NODE_ENV || \'development\'\\n\\n  // get error callback\\n  var onerror = opts.onerror\\n\\n  // \u5982\u679c\u6267\u884c\u6d41\u6c34\u7ebf\u6267\u884c\u5b8c\u6210\uff0c\u6216\u8005\u4e2d\u9014\u51fa\u73b0\u4e86\u9519\u8bef\\n  // \u5219\u4f1a\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\uff0c\u5e76\u4e14\u4f20\u5165\u9519\u8bef\u4fe1\u606f\\n  return function (err) {\\n    var headers\\n    var msg\\n    var status\\n\\n    // ignore 404 on in-flight response\\n    // \u5982\u679c\u6ca1\u9519\u8bef\uff0c\u4f46\u662f\u5df2\u7ecf\u54cd\u5e94\u8bf7\u6c42\u4e86\uff0c\u5219\u8bf7\u6c42\u5904\u7406\u5b8c\u6210\\n    if (!err && headersSent(res)) {\\n      debug(\'cannot 404 after headers sent\')\\n      return\\n    }\\n\\n    // unhandled error\\n    if (err) {\\n      // respect status code from error\\n      status = getErrorStatusCode(err)\\n\\n      if (status === undefined) {\\n        // fallback to status code on response\\n        status = getResponseStatusCode(res)\\n      } else {\\n        // respect headers from error\\n        headers = getErrorHeaders(err)\\n      }\\n\\n      // get error message\\n      msg = getErrorMessage(err, status, env)\\n    } else {\\n      // not found\\n      status = 404\\n      msg = \'Cannot \' + req.method + \' \' + encodeUrl(getResourceName(req))\\n    }\\n\\n    debug(\'default %s\', status)\\n\\n    // schedule onerror callback\\n    if (err && onerror) {\\n      defer(onerror, err, req, res)\\n    }\\n\\n    // cannot actually respond\\n    if (headersSent(res)) {\\n      debug(\'cannot %d after headers sent\', status)\\n      req.socket.destroy()\\n      return\\n    }\\n\\n    // send response\\n    send(req, res, status, headers, msg)\\n  }\\n}\\n```\\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u770b\u770b router.handle \u7684\u903b\u8f91\\n\\n## 3. router.handle()\\nrouter.handle \u662f\u4e2d\u95f4\u4ef6\u6267\u884c\u8c03\u5ea6\u7684\u6838\u5fc3\uff0c\u6211\u4eec\u540e\u7eed\u4f1a\u7528\u5355\u72ec\u7684\u7ae0\u8282\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u8fd9\u91cc\u53ea\u505a\u5927\u6982\u7684\u9610\u8ff0\u3002<br />\u5b9e\u9645\u4e0a\uff0c\u6240\u6709\u6ce8\u518c\u7684\u4e2d\u95f4\u4ef6\u90fd\u4f1a\u88ab router \u5bf9\u8c61\u6240\u7ba1\u7406\uff0c\u5728 router.handle \u5185\u90e8\u5c01\u88c5\u4e86\u5173\u952e\u7684 next \u65b9\u6cd5 \u4ee5\u53ca \u5173\u952e\u6307\u9488 idx\uff0cnext \u65b9\u6cd5 + idx \u6307\u9488\u6765\u4e32\u8054\u6240\u6709\u7684\u4e2d\u95f4\u4ef6\uff1a\\n\\n- \u4ece idx = 0 \u5f00\u59cb\uff0c\u8fdb\u5165 next \u65b9\u6cd5\uff0c\u53d6\u4e00\u4e2a matched \u7684\u4e2d\u95f4\u4ef6\\n- \u5f53\u7b2c\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u6267\u884c\u5b8c\u6210\u540e\uff0c\u5e76\u4e14 next \u88ab\u8c03\u7528\\n- \u5219\u53d6\u4e0b\u4e00\u4e2a matched\uff0c\u8fd9\u6837\u76f4\u5230\u6240\u6709 middleware \u90fd\u88ab\u5904\u7406\\n- \u6700\u540e\u6267\u884c done() \\n\\n\u4e0b\u9762\u662f\u6781\u7b80\u7684\u4ee3\u7801\uff08\u4ec5\u4ec5\u63d0\u4f9b\u5e2e\u52a9\u7406\u89e3\uff0c\u540e\u7eed\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\uff09\\n```js\\nproto.handle = function handle(req, res, out) {\\n  var self = this;\\n\\n  var idx = 0;\\n\\n  // middleware and routes\\n  var stack = self.stack;\\n\\n  var done = restore(out, req, \'baseUrl\', \'next\', \'params\');\\n\\n  // setup basic req values\\n  req.baseUrl = parentUrl;\\n  req.originalUrl = req.originalUrl || req.url;\\n\\n  next();\\n\\n  function next(err) {\\n    var layerError = err === \'route\'\\n      ? null\\n      : err;\\n\\n    if (idx >= stack.length) {\\n      setImmediate(done, layerError);\\n      return;\\n    }\\n\\n    // max sync stack\\n    if (++sync > 100) {\\n      return setImmediate(next, err)\\n    }\\n\\n    // find next matching layer\\n    var layer;\\n    var match;\\n    var route;\\n\\n    // while \u5faa\u73af\u8d1f\u8d23\u83b7\u53d6\u4e00\u4e2a matched \u7684\u4e2d\u95f4\u4ef6\\n    while (match !== true && idx < stack.length) {\\n      layer = stack[idx++];\\n      match = matchLayer(layer);\\n      if (match !== true) {\\n        continue;\\n      }\\n    }\\n\\n    // \u6267\u884c\u8be5\u4e2d\u95f4\u4ef6\\n\\thandle_request(req, res, next)\\n  }\\n};\\n```\\n\u7136\u540e\u6574\u4e2a\u8bf7\u6c42\u5c31\u5904\u7406\u5b8c\u6210\u4e86\\n","isLeaf":true},{"key":"/NodeJS/02 expressjs/04-middleware-register.md","path":"/NodeJS/02 expressjs/04-middleware-register.md","route":"/NodeJS/02 expressjs/04-middleware-register.md","leaf":true,"title":"04-middleware-register","depth":2,"content":"---\\ntitle: 04 \u4e2d\u95f4\u4ef6\u6ce8\u518c\u6d41\u7a0b\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---\\n\\n\u521b\u5efa app \u4ee5\u53ca app \u63a5\u6536\u8bf7\u6c42 \u6211\u4eec\u5df2\u7ecf\u9610\u8ff0\u8fc7\u4e86\uff0c\u5e76\u4e14\u5728\u300aapp \u63a5\u6536\u8bf7\u6c42\u300b\u8fd9\u4e00\u5c0f\u8282\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86 router.handle \u4e2d\u95f4\u4ef6\u5b8f\u89c2\u7684\u6267\u884c\u6d41\u7a0b\u3002\u73b0\u5728\u6211\u4eec\u9700\u8981\u8be6\u7ec6\u7684\u7406\u89e3 \u4e2d\u95f4\u4ef6\u7684\u6ce8\u518c\u6d41\u7a0b \u4ee5\u53ca \u4e2d\u95f4\u4ef6\u7684\u6267\u884c\u6d41\u7a0b\u3002\\n\\n\u8fd9\u4e00\u5c0f\u8282\u5148\u4ecb\u7ecd\u6ce8\u518c\u6d41\u7a0b\uff08\u5982\u679c\u4f60\u5e0c\u671b\u5feb\u901f\u4e86\u89e3 middleware \u7684\u6a21\u578b\uff0c\u8bf7\u770b\u6587\u7ae0\u672b\u5c3e\u7684 layer \u6a21\u578b\u56fe\uff09\\n\\n## 1. \u4ece `app[method]()` \u5f00\u59cb\\n`app[method](path, fn)` \u6ce8\u518c\u4e2d\u95f4\u4ef6:\\n```js\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6: \u54cd\u5e94\u8bf7\u6c42\uff0c\u6253\u53701\uff0c\u5e76\u4e14\u8c03\u7528 next() \u8fdb\u5165\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\napp.get(\'/\', (req, res, next) => {\\n  console.log(1)\\n  res.send(\'Hello World!\')\\n  next()\\n})\\n```\\n\\n\u6211\u4eec\u9700\u8981\u77e5\u9053 `app.get` \u662f\u5982\u4f55\u5b9a\u4e49\u7684\uff1a\\n```js\\n// lib/application.js\\n// \u904d\u5386\u6240\u6709 http method\\nmethods.forEach(function(method){\\n  app[method] = function(path){\\n    if (method === \'get\' && arguments.length === 1) {\\n      // app.get(setting)\\n      return this.set(path);\\n    }\\n\\n    // \u521b\u5efa router, \u5185\u90e8\u6709\u5224\u65ad\uff0c\u53ea\u4f1a\u5168\u5c40\u521b\u5efa\u4e00\u4e2a router\\n    this.lazyrouter();\\n      \\n    // \u521b\u5efa Route \u5b9e\u4f8b\\n    var route = this._router.route(path);\\n\\n    // \u8fd9\u4e2a\u8c03\u7528\u4e86 route.method \u65b9\u6cd5\\n    // \u672c\u8d28\u4e0a\u7ed9\u8be5 route \u521b\u5efa\u4e86\u4e00\u4e2a layer\\n    // route \u7ed1\u5b9a\u4e86 handle\\n    route[method].apply(route, slice.call(arguments, 1));\\n\\n    return this;\\n  };\\n});\\n```\\n\u5904\u7406\u903b\u8f91\u5305\u62ec\uff1a\\n\\n- \u521b\u5efa Router \u5b9e\u4f8b (\u5185\u90e8\u6709\u5224\u65ad\uff0c\u53ea\u4f1a\u5168\u5c40\u521b\u5efa\u4e00\u4e2a router)\\n- \u521b\u5efa Route \u5b9e\u4f8b\uff0c\u6bcf\u6b21\u8c03\u7528 app[method] \u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a Route\\n  - \u521b\u5efa route\\n  - \u521b\u5efa router layer\\n- \u6267\u884c route[method] \u65b9\u6cd5\uff0c\u53c2\u6570\u4e3a handle\\n  - \u521b\u5efa route layer\\n\\n\u4e0b\u9762\u5206\u522b\u8be6\u7ec6\u4ecb\u7ecd\u3002\\n\\n## 2. new Router\\n### app.lazyrouter [\u521b\u5efa router]\\n```js\\napp.lazyrouter = function lazyrouter() {\\n  if (!this._router) {\\n    this._router = new Router({\\n      caseSensitive: this.enabled(\'case sensitive routing\'),\\n      strict: this.enabled(\'strict routing\')\\n    });\\n\\n    // query parser: \u89e3\u6790 url \u53c2\u6570\\n    this._router.use(query(this.get(\'query parser fn\')));\\n\\n    // \u5b8c\u6210 req \u548c res \u4e92\u76f8\u5f15\u7528\uff0c\u4ee5\u53ca\u6309\u7167\u56fd\u9645\u60ef\u4f8b\u589e\u52a0 \\"X-Powered-By\\" \ud83d\ude01\\n    this._router.use(middleware.init(this));\\n  }\\n};\\n```\\nlazyrouter \u5185\u90e8\u51b3\u5b9a\u662f\u5426\u6267\u884c new Router\uff0c\u53ea\u4f1a\u521b\u5efa\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u8fd9\u91cc\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e24\u6b65\uff1a\\n\\n- \u521b\u5efa Router \u5b9e\u4f8b\\n- \u6ce8\u518c\u4e24\u4e2a\u5185\u7f6e\u7684 middleware\\n\\n### Router \u7684\u5b9a\u4e49\\nlib/router/index.js\\n```js\\nvar proto = module.exports = function(options) {\\n  var opts = options || {};\\n\\n  // \u6709\u8da3\u7684\u662f router \u672c\u8eab\u4e5f\u662f\u4e00\u4e2a\u5145\u5f53 middlewaren handle \u7684\u51fd\u6570\\n  // \u8fd9\u4e2a\u4f1a\u5f88\u6709\u7528, \u6bd4\u5982\u8def\u7531\u5206\u7ec4  \\n  function router(req, res, next) {\\n    router.handle(req, res, next);\\n  }\\n\\n  // mixin Router class functions\\n  setPrototypeOf(router, proto)\\n\\n  router.params = {};\\n  router._params = [];\\n  router.caseSensitive = opts.caseSensitive;\\n  router.mergeParams = opts.mergeParams;\\n  router.strict = opts.strict;\\n\\n  // \u7528\u4e8e\u4fdd\u5b58\u6240\u6709\u7684 middleware\\n  router.stack = [];\\n\\n  return router;\\n};\\n```\\n\\n## 3. new Route\\n### router.route() [\u521b\u5efa Route & router layer]\\n\u6ce8\u518c\u4e2d\u95f4\u4ef6\u65f6:\\n\\n- (1) \u521b\u5efa\u4e00\u4e2a route\\n- (2) \u521b\u5efa\u4e00\u4e2a layer\\n- (3) layer.route = route\\n- (4) \u5c06 layer \u6dfb\u52a0\u5230 router.stack \u4e2d\\n\\n```js\\n/**\\n * Create a new Route for the given path.\\n *\\n * Each route contains a separate middleware stack and VERB handlers.\\n *\\n * See the Route api documentation for details on adding handlers\\n * and middleware to routes.\\n *\\n * @param {String} path\\n * @return {Route}\\n * @public\\n */\\nproto.route = function route(path) {\\n  var route = new Route(path);\\n\\n  // layer \u7684 handle \u4e3a route.dispatch \u8fd9\u4e2a\u5f88\u91cd\u8981\\n  var layer = new Layer(path, {\\n    sensitive: this.caseSensitive,\\n    strict: this.strict,\\n    end: true\\n  }, route.dispatch.bind(route));\\n\\n  layer.route = route;\\n\\n  this.stack.push(layer);\\n  return route;\\n};\\n```\\n\\n### route[method] [\u521b\u5efa route layer]\\nlib/router/route.js\\n```js\\nmethods.forEach(function(method){\\n  Route.prototype[method] = function(){\\n      // handles \u5c31\u662f app.method(path, fn1, fn2) \u4e2d\u7684 [fn1, fn2]\\n    var handles = flatten(slice.call(arguments));\\n\\n    for (var i = 0; i < handles.length; i++) {\\n      var handle = handles[i];\\n\\n      if (typeof handle !== \'function\') {\\n        var type = toString.call(handle);\\n        var msg = \'Route.\' + method + \'() requires a callback function but got a \' + type\\n        throw new Error(msg);\\n      }\\n\\n      debug(\'%s %o\', method, this.path)\\n\\n      // \u521b\u5efa Layer\\n      // \u5c06 layer \u6dfb\u52a0\u5230 layer.stack \u4e2d\\n      var layer = Layer(\'/\', {}, handle);\\n      layer.method = method;\\n\\n      this.methods[method] = true;\\n      this.stack.push(layer);\\n    }\\n\\n    return this;\\n  };\\n});\\n\\n```\\n\\n## 4. new Layer\\nLayer \u662f\u5bf9 middleware \u7684\u5c01\u88c5\uff0c\u5148\u770b Layer \u7684\u5b9a\u4e49\u3002\\n\\n### Layer \u7684\u5b9a\u4e49\\n```js\\n\\nvar pathRegexp = require(\'path-to-regexp\');\\nvar debug = require(\'debug\')(\'express:router:layer\');\\n\\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\\n\\nmodule.exports = Layer;\\n\\nfunction Layer(path, options, fn) {\\n  if (!(this instanceof Layer)) {\\n    return new Layer(path, options, fn);\\n  }\\n\\n  debug(\'new %o\', path)\\n  var opts = options || {};\\n\\n  // \u5173\u952e\u5c5e\u6027\\n  this.handle = fn;\\n\\n  this.name = fn.name || \'<anonymous>\';\\n  this.params = undefined;\\n  this.path = undefined;\\n  this.regexp = pathRegexp(path, this.keys = [], opts);\\n\\n  // set fast path flags\\n  this.regexp.fast_star = path === \'*\'\\n  this.regexp.fast_slash = path === \'/\' && opts.end === false\\n}\\n\\n/**\\n * Handle the error for the layer.\\n *\\n * @param {Error} error\\n * @param {Request} req\\n * @param {Response} res\\n * @param {function} next\\n * @api private\\n */\\nLayer.prototype.handle_error = function handle_error(error, req, res, next) {\\n  var fn = this.handle;\\n\\n  if (fn.length !== 4) {\\n    // not a standard error handler\\n    return next(error);\\n  }\\n\\n  try {\\n    fn(error, req, res, next);\\n  } catch (err) {\\n    next(err);\\n  }\\n};\\n\\n/**\\n * Handle the request for the layer.\\n *\\n * @param {Request} req\\n * @param {Response} res\\n * @param {function} next\\n * @api private\\n */\\nLayer.prototype.handle_request = function handle(req, res, next) {\\n  var fn = this.handle;\\n\\n    // \u5982\u679c handle \u53c2\u6570\u53ea\u67092\u4e2a\u65f6\\n    // \u5185\u90e8\u4f1a\u5e2e\u52a9 next() \u907f\u514d pipe \u4e2d\u65ad\\n  if (fn.length > 3) {\\n    // not a standard request handler\\n    return next();\\n  }\\n\\n  try {\\n    fn(req, res, next);\\n  } catch (err) {\\n    next(err);\\n  }\\n};\\n\\n/**\\n * Check if this route matches `path`, if so\\n * populate `.params`.\\n *\\n * @param {String} path\\n * @return {Boolean}\\n * @api private\\n */\\nLayer.prototype.match = function match(path) {\\n  var match\\n\\n  if (path != null) {\\n    // fast path non-ending match for / (any path matches)\\n    if (this.regexp.fast_slash) {\\n      this.params = {}\\n      this.path = \'\'\\n      return true\\n    }\\n\\n    // fast path for * (everything matched in a param)\\n    if (this.regexp.fast_star) {\\n      this.params = {\'0\': decode_param(path)}\\n      this.path = path\\n      return true\\n    }\\n\\n    // match the path\\n    match = this.regexp.exec(path)\\n  }\\n\\n  if (!match) {\\n    this.params = undefined;\\n    this.path = undefined;\\n    return false;\\n  }\\n\\n  // store values\\n  this.params = {};\\n  this.path = match[0]\\n\\n  var keys = this.keys;\\n  var params = this.params;\\n\\n  for (var i = 1; i < match.length; i++) {\\n    var key = keys[i - 1];\\n    var prop = key.name;\\n    var val = decode_param(match[i])\\n\\n    if (val !== undefined || !(hasOwnProperty.call(params, prop))) {\\n      params[prop] = val;\\n    }\\n  }\\n\\n  return true;\\n};\\n\\n/**\\n * Decode param value.\\n *\\n * @param {string} val\\n * @return {string}\\n * @private\\n */\\n\\nfunction decode_param(val) {\\n  if (typeof val !== \'string\' || val.length === 0) {\\n    return val;\\n  }\\n\\n  try {\\n    return decodeURIComponent(val);\\n  } catch (err) {\\n    if (err instanceof URIError) {\\n      err.message = \'Failed to decode param \\\\\'\' + val + \'\\\\\'\';\\n      err.status = err.statusCode = 400;\\n    }\\n\\n    throw err;\\n  }\\n}\\n\\n```\\n\\n\u4ece 2 \u548c 3 \u4e2d\u53ef\u4ee5\u770b\u5230, route \u548c router \u5b9e\u4f8b\u90fd\u6709 stack \u5c5e\u6027\uff0c\u90fd\u7528\u4e8e\u4fdd\u5b58 Layer \u5b9e\u4f8b\uff0c\u5b83\u4eec\u4e4b\u95f4\u6709\u4ec0\u4e48\u533a\u522b\u5462\uff1f\u4e3b\u8981 handle function \u7684\u5dee\u5f02\u3002\\n\\n### route layer \u548c route layer\\n\u524d\u9762\u6211\u4eec\u5df2\u7ecf\u8bb2\u8fc7\uff0crouter layer \u662f\u5728\u8c03\u7528 router.route \u65b9\u6cd5\u65f6\u521b\u5efa\u7684\uff1a\\n```js\\nrouter.route = function route(path) {\\n  var route = new Route(path);\\n\\n  var layer = new Layer(path, {\\n    sensitive: this.caseSensitive,\\n    strict: this.strict,\\n    end: true\\n  }, route.dispatch.bind(route));\\n\\n  layer.route = route;\\n\\n  this.stack.push(layer);\\n  return route;\\n};\\n```\\n\u6ce8\u610f router layer \u7684 handle \u5b9e\u9645\u4e0a\u662f  route.dispatch\uff0c\u800c route layer \u662f\u5728\u8c03\u7528 route[method]() \u521b\u5efa\u7684:\\n```js\\nmethods.forEach(function(method){\\n  Route.prototype[method] = function(){\\n    var handles = flatten(slice.call(arguments));\\n\\n    for (var i = 0; i < handles.length; i++) {\\n      var handle = handles[i];\\n\\n      if (typeof handle !== \'function\') {\\n        var type = toString.call(handle);\\n        var msg = \'Route.\' + method + \'() requires a callback function but got a \' + type\\n        throw new Error(msg);\\n      }\\n\\n      debug(\'%s %o\', method, this.path)\\n\\n      var layer = Layer(\'/\', {}, handle);\\n      layer.method = method;\\n      // route layer \u5fc5\u987b\u7ed1\u5b9a method, \u56e0\u4e3a\u4e00\u4e2a route \u65e2\u53ef\u4ee5\u7ed1\u5b9a post \u4e5f\u53ef\u4ee5\u7ed1\u5b9a get...\\n      // post \u5bf9\u5e94 post layer, get \u5bf9\u5e94 get layer\\n\\n      this.methods[method] = true;\\n      this.stack.push(layer);\\n    }\\n\\n    return this;\\n  };\\n});\\n```\\n\u5bf9\u6bd4\u5dee\u5f02\uff1a\\n```js\\n// router layer\\nnew Layer(path, {\\n    sensitive: this.caseSensitive,\\n    strict: this.strict,\\n    end: true\\n  }, route.dispatch.bind(route));\\nlayer.route = route;\\n\\n// route layer\\nvar layer = Layer(\'/\', {}, handle);\\nlayer.method = method;\\n```\\n\\n### user handle \u548c dispatch handle\\n\u6982\u5ff5\u533a\u5206\uff0c\u4f53\u73b0\u5dee\u5f02\\n\\n### layer \u6d4b\u8bd5\\n```js\\nconst express = require(\'express\')\\nconst app = express()\\nconst port = 3000\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6\\n// \u529f\u80fd\u5305\u542b\uff1a\u54cd\u5e94\u8bf7\u6c42\uff0c\u6253\u53701\uff0c\u5e76\u4e14\u8c03\u7528 next() \u8fdb\u5165\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\napp.get(\'/\', (req, res, next) => {\\n  console.log(1)\\n  res.send(\'Hello World!\')\\n  next()\\n})\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6\\n// \u529f\u80fd\u5305\u542b\uff1a\u6253\u53702\uff0c\u5e76\u4e14\u8c03\u7528 next() \u8fdb\u5165\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\napp.get(\'/\', (req, res, next) => {\\n  console.log(2)\\n  next()\\n})\\n\\napp.listen(port, () => {\\n  console.log(`Example app listening on port ${port}`)\\n})\\ndebugger\\n```\\n\u9488\u5bf9\u4e0a\u9762\u4ee3\u7801\uff0c\u5f53\u6267\u884c\u5230 debugger \u65f6, app._router.stack \u957f\u5ea6\u4e3a 4:\\n\\n![20230228234147](http://s3.airtlab.com/blog/20230228234147.png)\\n\\n\u524d\u4e24\u4e2a\u662f\u5185\u7f6e\u4e2d\u95f4\u4ef6\uff0c\u540e\u97622\u4e2a\u662f\u81ea\u5b9a\u4e49\u6ce8\u518c\u7684\u3002\u6211\u4eec\u770b\u770b\u7b2c\u4e09\u4e2a layer:\\n\\n![20230228234130](http://s3.airtlab.com/blog/20230228234130.png)\\n\\n\u8be5 layer \u7684 handle \u662f route.dispatch \u65b9\u6cd5\uff0c\u800c\u4e14\u8be5 layer \u6709\u4e00\u4e2a route \u5c5e\u6027\u3002route \u4e5f\u6709 \u4e00\u4e2a layer, \u5176 handle \u5c31\u662f\u6211\u4eec\u6ce8\u518c\u7684 callback function\u3002route.stack \u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u8fd9\u8868\u793a\u4e00\u4e2aroute\u53ef\u4ee5\u62e5\u6709\u591alayer\uff0c\u6bd4\u5982\uff1a\\n```js\\n// route.all \u6216\u8005 route.get \u652f\u6301\u94fe\u5f0f\u5199\u6cd5\\n// \u7ed9\u4e00\u4e2a route \u6ce8\u518c\u4e86\u4e24\u4e2alayer\\nrouter.route(\'/users/:user_id\')\\n  .all(function (req, res, next) {\\n    // runs for all HTTP verbs first\\n    // think of it as route specific middleware!\\n    next()\\n  })\\n  .get(function (req, res, next) {\\n    res.json(req.user)\\n  })\\n```\\n\\n### layer \u6a21\u578b\u56fe\\n\u5230\u6b64\u4e3a\u6b62\u6211\u4eec\u753b\u51fa Layer \u7684\u6a21\u578b\u56fe:\\n\\n![20230228234105](http://s3.airtlab.com/blog/20230228234105.png)\\n\\n### route \u591a layer\\n```js\\napp.route(\'/user\') \\n.get((req, res, next) => { \\n    res.send(\'GET request called\'); \\n}) \\n.post((req, res, next) => { \\n\\tres.send(\'POST request called\'); \\n}) \\n.all((req, res, next) => { \\n\\tres.send(\'Other requests called\'); \\n}) \\n  \\n```","isLeaf":true},{"key":"/NodeJS/02 expressjs/05-middleware-runtime.md","path":"/NodeJS/02 expressjs/05-middleware-runtime.md","route":"/NodeJS/02 expressjs/05-middleware-runtime.md","leaf":true,"title":"05-middleware-runtime","depth":2,"content":"---\\ntitle: 05 \u4e2d\u95f4\u4ef6\u6267\u884c\u6d41\u7a0b\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---\\n\\n\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u8fdb\u884c\u8c03\u8bd5:\\n```cpp\\nconst express = require(\'express\')\\nconst app = express()\\nconst port = 3000\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6\\n// \u529f\u80fd\u5305\u542b\uff1a\u54cd\u5e94\u8bf7\u6c42\uff0c\u6253\u53701\uff0c\u5e76\u4e14\u8c03\u7528 next() \u8fdb\u5165\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\napp.get(\'/\', (req, res, next) => {\\n  console.log(1)\\n  res.send(\'Hello World!\')\\n  next()\\n})\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6\\n// \u529f\u80fd\u5305\u542b\uff1a\u6253\u53702\uff0c\u5e76\u4e14\u8c03\u7528 next() \u8fdb\u5165\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\napp.get(\'/\', (req, res, next) => {\\n  console.log(2)\\n  next()\\n})\\n\\napp.listen(port, () => {\\n  debugger\\n  console.log(`Example app listening on port ${port}`)\\n})\\n```\\n\\n### 1. layer \u6267\u884c\u6d41\u7a0b\\n\u5148\u4e86\u89e3 express.js \u4e2d layer \u7684\u6267\u884c\u6d41\u7a0b\uff0c\u518d\u770b\u4ee3\u7801\u4f1a\u53d8\u5f97\u975e\u5e38\u7b80\u5355\u3002<br />\\n![image](http://s3.airtlab.com/blog/image.png)\\n\\n- \u7406\u89e3 router layer \u9012\u5f52\\n- \u7406\u89e3 route layer \u9012\u5f52\\n\\n### 2. router.handle \u63a5\u7ba1\u8bf7\u6c42\\n```cpp\\n/**\\n * Dispatch a req, res into the router.\\n * @private\\n */\\nrouter.handle = function handle(req, res, out) {\\n  var self = this;\\n\\n  debug(\'dispatching %s %s\', req.method, req.url);\\n\\n  var idx = 0;\\n  var protohost = getProtohost(req.url) || \'\'\\n  var removed = \'\';\\n  var slashAdded = false;\\n  var sync = 0\\n  var paramcalled = {};\\n\\n  // store options for OPTIONS request\\n  // only used if OPTIONS request\\n  var options = [];\\n\\n  // middleware and routes\\n  var stack = self.stack;\\n\\n  // manage inter-router variables\\n  var parentParams = req.params;\\n  var parentUrl = req.baseUrl || \'\';\\n  var done = restore(out, req, \'baseUrl\', \'next\', \'params\');\\n\\n  // setup next layer\\n  req.next = next;\\n\\n  // for options requests, respond with a default if nothing else responds\\n  if (req.method === \'OPTIONS\') {\\n    done = wrap(done, function(old, err) {\\n      if (err || options.length === 0) return old(err);\\n      sendOptionsResponse(res, options, old);\\n    });\\n  }\\n\\n  // setup basic req values\\n  req.baseUrl = parentUrl;\\n  req.originalUrl = req.originalUrl || req.url;\\n\\n  next();\\n\\n  function next(err) {}\\n}\\n```\\n#### next() \u9012\u5f52\u51fd\u6570\\n\u6211\u4eec\u53ea\u770b next \u7684\u6838\u5fc3\u903b\u8f91\uff0c\u5c31\u662f\u9012\u5f52\u7684\u5339\u914d layer \u5e76\u6267\u884c handle\uff0c\u5176\u4ed6\u7684\u53ef\u4ee5\u5148\u5ffd\u7565\u3002\\n```cpp\\n  function next(err) {\\n    var layerError = err === \'route\'\\n      ? null\\n      : err;\\n\\n    // remove added slash\\n    if (slashAdded) {\\n      req.url = req.url.slice(1)\\n      slashAdded = false;\\n    }\\n\\n    // restore altered req.url\\n    if (removed.length !== 0) {\\n      req.baseUrl = parentUrl;\\n      req.url = protohost + removed + req.url.slice(protohost.length)\\n      removed = \'\';\\n    }\\n\\n    // signal to exit router\\n    if (layerError === \'router\') {\\n      setImmediate(done, null)\\n      return\\n    }\\n\\n    // no more matching layers\\n    if (idx >= stack.length) {\\n      setImmediate(done, layerError);\\n      return;\\n    }\\n\\n    // max sync stack\\n    if (++sync > 100) {\\n      return setImmediate(next, err)\\n    }\\n\\n    // get pathname of request\\n    var path = getPathname(req);\\n\\n    if (path == null) {\\n      return done(layerError);\\n    }\\n\\n    // find next matching layer\\n    var layer;\\n    var match;\\n    var route;\\n\\n    while (match !== true && idx < stack.length) {\\n      layer = stack[idx++];\\n      match = matchLayer(layer, path);\\n      route = layer.route;\\n\\n      if (typeof match !== \'boolean\') {\\n        // hold on to layerError\\n        layerError = layerError || match;\\n      }\\n\\n      if (match !== true) {\\n        continue;\\n      }\\n\\n      if (!route) {\\n        // process non-route handlers normally\\n        continue;\\n      }\\n\\n      if (layerError) {\\n        // routes do not match with a pending error\\n        match = false;\\n        continue;\\n      }\\n\\n      var method = req.method;\\n      var has_method = route._handles_method(method);\\n\\n      // build up automatic options response\\n      if (!has_method && method === \'OPTIONS\') {\\n        appendMethods(options, route._options());\\n      }\\n\\n      // don\'t even bother matching route\\n      if (!has_method && method !== \'HEAD\') {\\n        match = false;\\n      }\\n    }\\n\\n    // no match\\n    if (match !== true) {\\n      return done(layerError);\\n    }\\n\\n    // store route for dispatch on change\\n    if (route) {\\n      req.route = route;\\n    }\\n\\n    // Capture one-time layer values\\n    req.params = self.mergeParams\\n      ? mergeParams(layer.params, parentParams)\\n      : layer.params;\\n\\n    // layerPath \u548c path \u7684\u533a\u522b\\n    var layerPath = layer.path;\\n\\n    // this should be done for the layer\\n    self.process_params(layer, paramcalled, req, res, function (err) {\\n      if (err) {\\n        next(layerError || err)\\n      } else if (route) {\\n          // \u5982\u679c\u662f\u4e00\u4e2a route layer, \u5219\u6267\u884c layer.handle, \u4e5f\u5c31\u662f route.dispatch\\n        layer.handle_request(req, res, next)\\n      } else {\\n          // \u5982\u679c\u4e0d\u662f route layer, \u5219\u8981 trim_prefix\\n          // \u540e\u7eed\u5728\u8bb2 trim_prefix \u662f\u5e72\u4ec0\u4e48\\n        trim_prefix(layer, layerError, layerPath, path)\\n      }\\n\\n      sync = 0\\n    });\\n  }\\n\\n```\\n```cpp\\nLayer.prototype.handle_request = function handle(req, res, next) {\\n  var fn = this.handle;\\n\\n  if (fn.length > 3) {\\n    // not a standard request handler\\n    return next();\\n  }\\n\\n  try {\\n    fn(req, res, next);\\n  } catch (err) {\\n    next(err);\\n  }\\n};\\n\\n// app.get(\'/\', (req, res, next) => {\\n//   console.log(2)\\n//   next() => router next()\\n// })\\n```\\n#### trim_prefix \u51fd\u6570\\n```cpp\\n  function trim_prefix(layer, layerError, layerPath, path) {\\n    if (layerPath.length !== 0) {\\n      // Validate path is a prefix match\\n      if (layerPath !== path.slice(0, layerPath.length)) {\\n        next(layerError)\\n        return\\n      }\\n\\n      // Validate path breaks on a path separator\\n      var c = path[layerPath.length]\\n      if (c && c !== \'/\' && c !== \'.\') return next(layerError)\\n\\n      // Trim off the part of the url that matches the route\\n      // middleware (.use stuff) needs to have the path stripped\\n      debug(\'trim prefix (%s) from url %s\', layerPath, req.url);\\n      removed = layerPath;\\n      req.url = protohost + req.url.slice(protohost.length + removed.length)\\n\\n      // Ensure leading slash\\n      if (!protohost && req.url[0] !== \'/\') {\\n        req.url = \'/\' + req.url;\\n        slashAdded = true;\\n      }\\n\\n      // Setup base URL (no trailing slash)\\n      req.baseUrl = parentUrl + (removed[removed.length - 1] === \'/\'\\n        ? removed.substring(0, removed.length - 1)\\n        : removed);\\n    }\\n\\n    debug(\'%s %s : %s\', layer.name, layerPath, req.originalUrl);\\n\\n    if (layerError) {\\n      layer.handle_error(layerError, req, res, next);\\n    } else {\\n      layer.handle_request(req, res, next);\\n    }\\n  }\\n```\\n#### layerPath \u548c path \u7684\u533a\u522b\\n#### req.baseUrl & req.url \u7ef4\u62a4\\n`req.baseUrl` \u8868\u793a\u5f53\u524d router instance \u6240\u6302\u8f7d\u7684\u8def\u5f84\\n```cpp\\nconst app = express()\\nconst port = 3000\\n\\n// \u6f14\u793a1\\napp.get(\'/test\', function (req, res) {\\n  console.log(req.baseUrl) // \'\'\\n  console.log(req.path) // /test\\n\\n  res.send(\'Konichiwa!\')\\n})\\n\\n\\n// \u6f14\u793a2\\nvar greet = express.Router()\\n\\ngreet.get(\'/jp\', function (req, res) {\\n  console.log(req.baseUrl) // /greet\\n  console.log(req.path) // jp\\n  res.send(\'Konichiwa!\')\\n})\\n\\napp.use(\'/greet\', greet) // load the router on \'/greet\'\\n\\n// \u6f14\u793a3\\ngreet.get(\'/:id\', function (req, res) {\\n  console.log(req.baseUrl) // /greet\\n  console.log(req.path) // 12\\n  res.send(\'Konichiwa!\')\\n})\\n\\napp.use(\'/greet\', greet) // load the router on \'/greet\'\\n// visit /greet/12\\n```\\n### 3. route.dispatch\\n```cpp\\n// \u5f53 route \u91cc\u9762\u7684 layer \u6267\u884c\u5b8c\u6210\u4e4b\u540e\uff0c\u4f1a\u6267\u884c done\\n// \u8fd9\u4e2a done \u5b9e\u9645\u5c31\u662f router layer next\\nRoute.prototype.dispatch = function dispatch(req, res, done) {}\\n```\\n```cpp\\nRoute.prototype.dispatch = function dispatch(req, res, done) {\\n  var idx = 0;\\n  var stack = this.stack;\\n  var sync = 0\\n\\n  if (stack.length === 0) {\\n    return done();\\n  }\\n\\n  var method = req.method.toLowerCase();\\n  if (method === \'head\' && !this.methods[\'head\']) {\\n    method = \'get\';\\n  }\\n\\n  req.route = this;\\n\\n  next();\\n\\n  function next(err) {\\n    // signal to exit route\\n    if (err && err === \'route\') {\\n      return done();\\n    }\\n\\n    // signal to exit router\\n    if (err && err === \'router\') {\\n      return done(err)\\n    }\\n\\n    // max sync stack\\n    if (++sync > 100) {\\n      return setImmediate(next, err)\\n    }\\n\\n    var layer = stack[idx++]\\n\\n    // end of layers\\n    if (!layer) {\\n      return done(err)\\n    }\\n\\n    // layer \u4e5f\u7ed1\u5b9a\u4e86 method  \\n    if (layer.method && layer.method !== method) {\\n      next(err)\\n    } else if (err) {\\n      layer.handle_error(err, req, res, next);\\n    } else {\\n      layer.handle_request(req, res, next);\\n    }\\n\\n    sync = 0\\n  }\\n};\\n```","isLeaf":true},{"key":"/NodeJS/02 expressjs/06-router-group.md","path":"/NodeJS/02 expressjs/06-router-group.md","route":"/NodeJS/02 expressjs/06-router-group.md","leaf":true,"title":"06-router-group","depth":2,"content":"---\\ntitle: 06 \u8def\u7531\u5206\u7ec4\u539f\u7406\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---\\n\\n`app[http method]` \u7528\u4e8e\u6302\u8f7d\u4e00\u4e2a\u8def\u7531\u5230\u9ed8\u8ba4\u7684 router\uff0c\u800c `app.use` \u53ef\u4ee5\u6302\u8f7d\u5b50 router, \u56e0\u4e3a router instance \u672c\u8eab\u4e5f\u662f\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u3002<br />\u8c03\u8bd5\u4ee3\u7801\uff1a\\n\\n```js\\nconst express = require(\'express\')\\nconst app = express()\\nconst port = 3000\\n\\nvar greet = express.Router()\\ngreet.get(\'/jp\', function (req, res) {\\n  res.send(\'Konichiwa!\')\\n})\\n\\napp.use(\'/greet\', greet) // load the router on \'/greet\'\\n\\ndebugger\\napp.listen(port, () => {\\n  console.log(`Example app listening on port ${port}`)\\n})\\n\\n```\\n\\n![image](http://s3.airtlab.com/blog/image.png)\\n\\n### 1. app.use()\\n\\n```cpp\\napp.use = function use(fn) {\\n  var offset = 0;\\n  var path = \'/\';\\n\\n  // default path to \'/\'\\n  // disambiguate app.use([fn])\\n  if (typeof fn !== \'function\') {\\n    var arg = fn;\\n\\n    while (Array.isArray(arg) && arg.length !== 0) {\\n      arg = arg[0];\\n    }\\n\\n    // first arg is the path\\n    if (typeof arg !== \'function\') {\\n      offset = 1;\\n      path = fn;\\n    }\\n  }\\n\\n  var fns = flatten(slice.call(arguments, offset));\\n\\n  if (fns.length === 0) {\\n    throw new TypeError(\'app.use() requires a middleware function\')\\n  }\\n\\n  // setup router\\n  this.lazyrouter();\\n  var router = this._router;\\n\\n  fns.forEach(function (fn) {\\n    // non-express app\\n    if (!fn || !fn.handle || !fn.set) {\\n        // entered\\n      return router.use(path, fn);\\n    }\\n\\n    debug(\'.use app under %s\', path);\\n    fn.mountpath = path;\\n    fn.parent = this;\\n\\n    // restore .app property on req and res\\n    router.use(path, function mounted_app(req, res, next) {\\n      var orig = req.app;\\n      fn.handle(req, res, function (err) {\\n        setPrototypeOf(req, orig.request)\\n        setPrototypeOf(res, orig.response)\\n        next(err);\\n      });\\n    });\\n\\n    // mounted an app\\n    fn.emit(\'mount\', this);\\n  }, this);\\n\\n  return this;\\n};\\n\\n```\\n![image_1](http://s3.airtlab.com/blog/image_1.png)\\n\\n### 2. router.use()\\n\\n\u5728 router \u4e2d\u6ce8\u518c\u4e2d\u95f4\u4ef6\u6709\u4e24\u79cd\u65b9\u5f0f\uff0c\u7b2c\u4e00\u79cd\u662f router[method](), \u53e6\u4e00\u79cd\u662f router.use(), \u540e\u8005\u6ce8\u518c\u7684\u65b9\u5f0f\u548c HTTP Method \u65e0\u5173\uff0c\u53ea\u6709 path \u6709\u5173\uff1a\\n\\n```cpp\\n// all requests to this router will first hit this middleware\\nrouter.use(function (req, res, next) {\\n  console.log(\'%s %s %s\', req.method, req.url, req.path)\\n  next()\\n})\\n\\n// this will only be invoked if the path starts with /bar from the mount point\\nrouter.use(\'/bar\', function (req, res, next) {\\n  // ... maybe some additional /bar logging ...\\n  next()\\n})\\n```\\n\\n\u6e90\u7801\uff1a\\n\\n```cpp\\nrouter.use = function use(fn) {\\n  var offset = 0;\\n  var path = \'/\';\\n\\n  // default path to \'/\'\\n  // disambiguate router.use([fn])\\n  if (typeof fn !== \'function\') {\\n    var arg = fn;\\n\\n    while (Array.isArray(arg) && arg.length !== 0) {\\n      arg = arg[0];\\n    }\\n\\n    // first arg is the path\\n    if (typeof arg !== \'function\') {\\n      offset = 1;\\n      path = fn;\\n    }\\n  }\\n\\n  var callbacks = flatten(slice.call(arguments, offset));\\n\\n  if (callbacks.length === 0) {\\n    throw new TypeError(\'Router.use() requires a middleware function\')\\n  }\\n\\n  for (var i = 0; i < callbacks.length; i++) {\\n    var fn = callbacks[i];\\n\\n    if (typeof fn !== \'function\') {\\n      throw new TypeError(\'Router.use() requires a middleware function but got a \' + gettype(fn))\\n    }\\n\\n    // add the middleware\\n    debug(\'use %o %s\', path, fn.name || \'<anonymous>\')\\n\\n    var layer = new Layer(path, {\\n      sensitive: this.caseSensitive,\\n      strict: false,\\n      end: false\\n    }, fn);\\n\\n    // \u901a\u8fc7\\n    layer.route = undefined;\\n\\n    this.stack.push(layer);\\n  }\\n\\n  return this;\\n};\\n```\\n\\n### 3. trim_prefix() \u5265\u6389\u5206\u7ec4\u524d\u7f00\\n\u5f53\u6267\u884c\u5230 greet \u4e2d\u95f4\u4ef6\u65f6:\\n![image_](http://s3.airtlab.com/blog/image_.png)\\n\\n```cpp\\nfunction trim_prefix(layer, layerError, layerPath, path) {\\n    if (layerPath.length !== 0) {\\n      // Validate path is a prefix match\\n      // \u6821\u9a8c\u524d\u7f00\u662f\u5426\u76f8\u7b49\\n      if (layerPath !== path.slice(0, layerPath.length)) {\\n        next(layerError)\\n        return\\n      }\\n\\n      // Validate path breaks on a path separator\\n      // \u6821\u9a8c\u5206\u5272\u7b26\\n      var c = path[layerPath.length]\\n      if (c && c !== \'/\' && c !== \'.\') return next(layerError)\\n\\n      // Trim off the part of the url that matches the route\\n      // middleware (.use stuff) needs to have the path stripped\\n      debug(\'trim prefix (%s) from url %s\', layerPath, req.url);\\n      removed = layerPath;\\n\\n      // /greeting/test => /test\\n      req.url = protohost + req.url.slice(protohost.length + removed.length)\\n\\n      // Ensure leading slash\\n      // \u4fdd\u8bc1 / \u5f00\u5934\\n      if (!protohost && req.url[0] !== \'/\') {\\n        req.url = \'/\' + req.url;\\n        slashAdded = true;\\n      }\\n\\n      // Setup base URL (no trailing slash)\\n      req.baseUrl = parentUrl + (removed[removed.length - 1] === \'/\'\\n        ? removed.substring(0, removed.length - 1)\\n        : removed);\\n    }\\n\\n    debug(\'%s %s : %s\', layer.name, layerPath, req.originalUrl);\\n\\n    if (layerError) {\\n      layer.handle_error(layerError, req, res, next);\\n    } else {\\n      layer.handle_request(req, res, next);\\n    }\\n  }\\n```\\n","isLeaf":true},{"key":"/NodeJS/02 expressjs/07-express-session.md","path":"/NodeJS/02 expressjs/07-express-session.md","route":"/NodeJS/02 expressjs/07-express-session.md","leaf":true,"title":"07-express-session","depth":2,"content":"---\\ntitle: 07 express-session \u2b55\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---","isLeaf":true},{"key":"/NodeJS/02 expressjs/08-express-http-context.md","path":"/NodeJS/02 expressjs/08-express-http-context.md","route":"/NodeJS/02 expressjs/08-express-http-context.md","leaf":true,"title":"08-express-http-context","depth":2,"content":"---\\ntitle: 08 express-http-context \u2b55\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---\\n\\nTODO","isLeaf":true}]},{"key":"/NodeJS/03 koa","path":"/NodeJS/03 koa","route":"/NodeJS/03 koa","leaf":false,"title":"03 koa","depth":1,"content":"","isLeaf":false,"children":[{"key":"/NodeJS/03 koa/01 design.md","path":"/NodeJS/03 koa/01 design.md","route":"/NodeJS/03 koa/01 design.md","leaf":true,"title":"01 design","depth":2,"content":"## 1. koa \u67b6\u6784\u8bbe\u8ba1\\n## 2. koa\\n## 3. koa-compose\\n## 4. koa-convert\\n## 5. @koa/router","isLeaf":true},{"key":"/NodeJS/03 koa/02 \u521d\u59cb\u5316\u6d41\u7a0b.md","path":"/NodeJS/03 koa/02 \u521d\u59cb\u5316\u6d41\u7a0b.md","route":"/NodeJS/03 koa/02 \u521d\u59cb\u5316\u6d41\u7a0b.md","leaf":true,"title":"02 \u521d\u59cb\u5316\u6d41\u7a0b","depth":2,"content":"### new app\\n\\n```js\\nnew Koa()\\n```\\n\\n![20230721115829](http://s3.airtlab.com/blog/20230721115829.png)\\n\\n```js\\n{\\n constructor(options) {\\n    super();\\n    options = options || {};\\n    this.proxy = options.proxy || false;\\n    this.subdomainOffset = options.subdomainOffset || 2;\\n    this.proxyIpHeader = options.proxyIpHeader || \'X-Forwarded-For\';\\n    this.maxIpsCount = options.maxIpsCount || 0;\\n    this.env = options.env || process.env.NODE_ENV || \'development\';\\n    if (options.keys) this.keys = options.keys;\\n\\n    // \u4e2d\u95f4\u4ef6\u6570\u7ec4\\n    this.middleware = [];\\n\\n    this.context = Object.create(context);\\n    this.request = Object.create(request);\\n    this.response = Object.create(response);\\n    // util.inspect.custom support for node 6+\\n    /* istanbul ignore else */\\n    if (util.inspect.custom) {\\n      this[util.inspect.custom] = this.inspect;\\n    }\\n    if (options.asyncLocalStorage) {\\n      const { AsyncLocalStorage } = require(\'async_hooks\');\\n      assert(AsyncLocalStorage, \'Requires node 12.17.0 or higher to enable asyncLocalStorage\');\\n      this.ctxStorage = new AsyncLocalStorage();\\n      this.use(this.createAsyncCtxStorageMiddleware());\\n    }\\n  }\\n}\\n```\\n\\n### app.listen\\n\\n```js\\n  /**\\n   * Shorthand for:\\n   *\\n   *    http.createServer(app.callback()).listen(...)\\n   *\\n   * @param {Mixed} ...\\n   * @return {Server}\\n   * @api public\\n   */\\n\\n  listen(...args) {\\n    debug(\'listen\');\\n\\n    // http callback \u7531 app.callback \u8fd4\u56de\\n    const server = http.createServer(this.callback());\\n    return server.listen(...args);\\n  }\\n```\\n\\n### request handle\\n\\n```js\\n  /**\\n   * Return a request handler callback\\n   * for node\'s native http server.\\n   *\\n   * @return {Function}\\n   * @api public\\n   */\\n\\n  callback() {\\n    const fn = compose(this.middleware);\\n\\n    if (!this.listenerCount(\'error\')) this.on(\'error\', this.onerror);\\n\\n    const handleRequest = (req, res) => {\\n      // \u8bf7\u6c42\u8fdb\u5165\u8fd9\u91cc\\n      const ctx = this.createContext(req, res);\\n      return this.handleRequest(ctx, fn);\\n    };\\n\\n    return handleRequest;\\n  }\\n\\n  /**\\n   * Handle request in callback.\\n   *\\n   * @api private\\n   */\\n  handleRequest(ctx, fnMiddleware) {\\n    const res = ctx.res;\\n    res.statusCode = 404;\\n    const onerror = err => ctx.onerror(err);\\n    const handleResponse = () => respond(ctx);\\n    onFinished(res, onerror);\\n\\n    // fnMiddleware \u6267\u884c\u5b8c\uff0c\u5219\u6240\u6709\u7684\u4e2d\u95f4\u4ef6\u4e5f\u6267\u884c\u5b8c\u6210\u4e86\\n    // \u7136\u540e\u624d\u4f1a response client\\n    return fnMiddleware(ctx).then(handleResponse).catch(onerror);\\n  }\\n```\\n\\n### compose create request handle\\n\\n```js\\nmodule.exports = compose\\n\\nfunction flatten (arr) {\\n  return arr.reduce((acc, next) => acc.concat(Array.isArray(next) ? flatten(next) : next), [])\\n}\\n\\nfunction compose (middleware) {\\n  if (!Array.isArray(middleware)) throw new TypeError(\'Middleware stack must be an array!\')\\n  middleware = flatten(middleware)\\n  for (const fn of middleware) {\\n    if (typeof fn !== \'function\') throw new TypeError(\'Middleware must be composed of functions!\')\\n  }\\n\\n  return function (context, next) {\\n    // last called middleware #\\n    let index = -1\\n    return dispatch(0)\\n    function dispatch (i) {\\n      if (i <= index) return Promise.reject(new Error(\'next() called multiple times\'))\\n      index = i\\n      let fn = middleware[i]\\n      if (i === middleware.length) fn = next\\n      if (!fn) return Promise.resolve()\\n      try {\\n        return Promise.resolve(fn(context, dispatch.bind(null, i + 1)));\\n      } catch (err) {\\n        return Promise.reject(err)\\n      }\\n    }\\n  }\\n}\\n```","isLeaf":true},{"key":"/NodeJS/03 koa/03 compose \u6f14\u793a.md","path":"/NodeJS/03 koa/03 compose \u6f14\u793a.md","route":"/NodeJS/03 koa/03 compose \u6f14\u793a.md","leaf":true,"title":"03 compose \u6f14\u793a","depth":2,"content":"\u5047\u5982\u4ee3\u7801\u4e3a\uff1a\\n\\n```js\\nconst m1 = (ctx, next) => {\\n  console.log(1)\\n  next()\\n  console.log(2)\\n}\\napp.use(m1);\\n\\nconst m2 = (ctx, next) => {\\n  console.log(3)\\n  next()\\n  console.log(4)\\n  ctx.body = \'Hello Koa\';\\n}\\napp.use(m2);\\n```\\n\\n// 1\\n// 3\\n// 4\\n// 2\\n\\n```js\\nconst middleware = [\\n  m1,\\n  m2\\n]\\n\\nconst fn = compose(middleware);\\n\\nfn = () => {\\n  return () => {\\n    return  Promise.resolve(m1(context, () => {\\n      return Promise.resolve(m2(context, () => {\\n        return respond(ctx);\\n      }))\\n    }));\\n  }\\n}\\n```","isLeaf":true}]},{"key":"/NodeJS/04 nestjs","path":"/NodeJS/04 nestjs","route":"/NodeJS/04 nestjs","leaf":false,"title":"04 nestjs","depth":1,"content":"","isLeaf":false,"children":[{"key":"/NodeJS/04 nestjs/00-introduce.md","path":"/NodeJS/04 nestjs/00-introduce.md","route":"/NodeJS/04 nestjs/00-introduce.md","leaf":true,"title":"00-introduce","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n![20230606151927](http://s3.airtlab.com/blog/20230606151927.png)\\n\\n![20230606151934](http://s3.airtlab.com/blog/20230606151934.png)\\n\\n## \u4ecb\u7ecd\\nNest\u662f\u6784\u5efa\u9ad8\u6548\uff0c\u53ef\u6269\u5c55\u7684 Node.js Web \u5e94\u7528\u7a0b\u5e8f\u7684\u6846\u67b6\u3002 \u5b83\u4f7f\u7528\u73b0\u4ee3\u7684 JavaScript \u6216 TypeScript\uff08\u4fdd\u7559\u4e0e\u7eaf JavaScript \u7684\u517c\u5bb9\u6027\uff09\uff0c\u5e76\u7ed3\u5408 OOP\uff08\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff09\uff0cFP\uff08\u51fd\u6570\u5f0f\u7f16\u7a0b\uff09\u548cFRP\uff08\u51fd\u6570\u54cd\u5e94\u5f0f\u7f16\u7a0b\uff09\u7684\u5143\u7d20\u3002\u3002\\n\\n## \u8bbe\u8ba1\u54f2\u5b66\\n\u8fd1\u51e0\u5e74\uff0c\u7531\u4e8e Node.js\uff0cJavaScript \u5df2\u7ecf\u6210\u4e3a Web \u524d\u7aef\u548c\u540e\u7aef\u5e94\u7528\u7a0b\u5e8f\u7684\u201c\u901a\u7528\u8bed\u8a00\u201d\uff0c\u5e76\u4e14\u6709\u4e86 Angular\uff0cReact \u548c Vue \u7b49\u4ee4\u4eba\u8033\u76ee\u4e00\u65b0\u7684\u9879\u76ee\uff0c\u63d0\u9ad8\u4e86\u5f00\u53d1\u4eba\u5458\u7684\u751f\u4ea7\u529b\uff0c\u4f7f\u5f97\u53ef\u4ee5\u5feb\u901f\u6784\u5efa\u53ef\u6d4b\u8bd5\u7684\u4e14\u53ef\u6269\u5c55\u7684\u524d\u7aef\u5e94\u7528\u7a0b\u5e8f\u3002 \u7136\u800c\uff0c\u5728\u670d\u52a1\u5668\u7aef\uff0c\u867d\u7136\u6709\u5f88\u591a\u4f18\u79c0\u7684\u5e93\u3001helper \u548c Node \u5de5\u5177\uff0c\u4f46\u662f\u5b83\u4eec\u90fd\u6ca1\u6709\u6709\u6548\u5730\u89e3\u51b3\u4e3b\u8981\u95ee\u9898 - \u67b6\u6784\u3002\\n\\nNest \u65e8\u5728\u63d0\u4f9b\u4e00\u4e2a\u5f00\u7bb1\u5373\u7528\u7684\u5e94\u7528\u7a0b\u5e8f\u4f53\u7cfb\u7ed3\u6784\uff0c\u5141\u8bb8\u8f7b\u677e\u521b\u5efa\u9ad8\u5ea6\u53ef\u6d4b\u8bd5\uff0c\u53ef\u6269\u5c55\uff0c\u677e\u6563\u8026\u5408\u4e14\u6613\u4e8e\u7ef4\u62a4\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\\n\\n## \u5b66\u4e60\u8d44\u6599\\n\\n- nestJS \u4e2d\u6587\u6587\u6863 [https://docs.nestjs.cn/7/controllers?id=headers](https://docs.nestjs.cn/7/controllers?id=headers)\\n- nestJS \u5b98\u65b9\u6587\u6863 [https://docs.nestjs.com/first-steps](https://docs.nestjs.com/first-steps) \\n- [https://gitee.com/gaollard/zhufeng-nestjs](https://gitee.com/gaollard/zhufeng-nestjs)  \u73e0\u5cf0 nestjs \u6559\u7a0b\\n\\n- \u300anestjs\u642d\u5efa\u901a\u7528\u4e1a\u52a1\u6846\u67b6\u300b\\n  - [Coding World](https://www.toimc.com/categories/nestjs%E6%90%AD%E5%BB%BA%E9%80%9A%E7%94%A8%E4%B8%9A%E5%8A%A1%E6%A1%86%E6%9E%B6/)\\n\\n- \u300anestjs-mysql-api\u4f01\u4e1a\u7ea7\u6743\u9650\u7cfb\u7edf\u300b\\n  - [https://github.com/kuangshp/nestjs-mysql-api](https://github.com/kuangshp/nestjs-mysql-api)\\n  - [https://juejin.cn/post/6877421936356360200](https://juejin.cn/post/6877421936356360200)","isLeaf":true},{"key":"/NodeJS/04 nestjs/01-basic.md","path":"/NodeJS/04 nestjs/01-basic.md","route":"/NodeJS/04 nestjs/01-basic.md","leaf":true,"title":"01-basic","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n\u53c2\u8003\u6587\u6863\uff1a[https://docs.nestjs.cn/7/controllers?id=request](https://docs.nestjs.cn/7/controllers?id=request)\\n\\n- \u8def\u7531\uff1a\u5e38\u7528\u662f\u6307 uri\\n- \u63a7\u5236\u5668\uff1a\u7528\u4e8e\u5904\u7406\u7279\u5b9a\u8def\u7531\\n- \\n\\n## 1\u3001\u8bf7\u6c42\u65b9\u6cd5\\n\\n### @GET\\n```typescript\\nimport { Controller, Get } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get()\\n  getHello(): string {\\n    return this.appService.getHello();\\n  }\\n\\n  @Get(\'/home\')\\n  getHome(): string {\\n    return \'hello home\';\\n  }\\n}\\n\\n```\\n\\n### @Post\\n\\n```typescript\\nimport { Controller, Get, Query, Request, Response, Post } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Post(\'test\')\\n  getTest(@Request() req): string {\\n    console.log(req.body)\\n    return \'test\'\\n  }\\n}\\n```\\n\\n## 2\u3001\u8bf7\u6c42\u53c2\u6570\\n\\n### @Query \u83b7\u53d6 query \u53c2\u6570\\n\\n```typescript\\nimport { Controller, Get, Query } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get()\\n  getHello(): string {\\n    return this.appService.getHello();\\n  }\\n\\n  @Get(\'/home\')\\n  getHome(@Query() query): string {\\n    console.log(query)\\n    return \'hello home\';\\n  }\\n}\\n```\\n```typescript\\nimport { Controller, Get, Query } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get(\'/home\')\\n  getHome(@Query(\'name\') query): string {\\n    console.log(query)\\n    return \'hello home\';\\n  }\\n}\\n\\n```\\n\\n### @Params \u83b7\u53d6 path \u53c2\u6570\\n\\n```typescript\\nimport { Controller, Header, Headers, Get, Query, Request, Response, Post, Body, Param } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get(\':id\')\\n  getTest(@Headers() headers, @Param() params): string {\\n    console.log(params)\\n    return \'test\'\\n  }\\n}\\n```\\n\\n### @Body \u83b7\u53d6 body \u53c2\u6570\\n\\n```typescript\\nimport { Controller, Get, Query, Request, Response, Post, Body } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Post(\'test\')\\n  getTest(@Body() body): string {\\n    console.log(body)\\n    return \'test\'\\n  }\\n}\\n```\\n\\n## 3\u3001\u8bf7\u6c42\u5bf9\u8c61&\u54cd\u5e94\u5bf9\u8c61\\n\\n### @Request \u8bf7\u6c42\u5bf9\u8c61\\n\\n```typescript\\nimport { Controller, Get, Query, Request } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get(\'test\')\\n  getTest(@Request() req): string {\\n    console.log(req.query)\\n    return \'test\'\\n  }\\n}\\n```\\n\\n### @Response \u54cd\u5e94\u5bf9\u8c61\\n\\n## 4\u3001\u8bf7\u6c42\u5934\u83b7\u53d6\u548c\u8bbe\u7f6e\\n\\n### @Headers \u83b7\u53d6\u8bf7\u6c42\u5934\\n```typescript\\nimport { Controller, Header, Headers, Get, Query, Request, Response, Post, Body } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Post(\'test\')\\n  getTest(@Headers() headers): string {\\n    console.log(headers)\\n    return \'test\'\\n  }\\n}\\n```\\n\\n### @Header \u8bbe\u7f6e\u5934\\n```typescript\\nimport { Controller, Header, Headers, Get, Query, Request, Response, Post, Body } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Post(\'test\')\\n  @Header(\'x-s\', \'ddd\')\\n  getTest(@Headers() headers): string {\\n    console.log(headers)\\n    return \'test\'\\n  }\\n}\\n```\\n\\n## 5\u3001\u8def\u7531\u5206\u7ec4\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { RouterModule, Routes } from \'nest-router\';\\nimport { AppController } from \'./app.controller\';\\nimport { AppService } from \'./app.service\';\\nimport { UserModule } from \'./user.module\';\\n\\nconst routes: Routes = [\\n  {\\n    path: \'/v1\',\\n    module: UserModule,\\n  },\\n];\\n\\n@Module({\\n  imports: [\\n    UserModule,\\n    RouterModule.forRoutes(routes),\\n  ],\\n  controllers: [AppController],\\n  providers: [AppService],\\n})\\nexport class AppModule {}\\n\\n```\\n## 6\u3001\u8def\u7531\u91cd\u5b9a\u5411\\n```typescript\\nimport { Controller, Get, Res } from \'@nestjs/common\';\\nimport { Response } from \'supertest\';\\nimport { PingService } from \'./ping.service\';\\n\\n@Controller(\'ping\')\\nexport class PingController {\\n  constructor(private service: PingService) {}\\n\\n  @Get(\'test\')\\n  test(): string {\\n    return this.service.getHello();\\n  }\\n\\n  @Get()\\n  getHello(): string {\\n    return this.service.getHello();\\n  }\\n\\n  @Get(\'redirect\')\\n  redirect(\\n    @Res() res: Response & { redirect: (uri: string, status?: number) => void },\\n  ) {\\n    // (1) \u91cd\u5b9a\u5411\u5230 http \u534f\u8bae\u7684\u7ad9\u70b9\\n    // res.redirect(\'https://nestjs.com\', 301)\\n    // (2) \u91cd\u5b9a\u5411\u5230\u7ad9\u70b9\\n    // (property) request.Response.redirect: boolean\\n    // redirect \u5c45\u7136\u662f\u4e2a boolean \u7c7b\u578b\uff0c\u597d\u5947\u602a\\n    res.redirect(\'/ping/test\', 302)\\n  }\\n}\\n\\n```\\n","isLeaf":true},{"key":"/NodeJS/04 nestjs/02-view.md","path":"/NodeJS/04 nestjs/02-view.md","route":"/NodeJS/04 nestjs/02-view.md","leaf":true,"title":"02-view","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n## 1\u3001\u4f7f\u7528\u6a21\u7248\u5f15\u64ce\\n\\n```typescript\\nimport { NestFactory } from \'@nestjs/core\';\\nimport { NestExpressApplication } from \'@nestjs/platform-express\';\\nimport { AppModule } from \'./app.module\';\\n\\nimport { join } from \'path\';\\n\\nasync function bootstrap() {\\n  const app = await NestFactory.create<NestExpressApplication>(AppModule);\\n  \\n  // \u914d\u7f6e\u6a21\u677f\u5f15\u64ce(\u5b89\u88c5ejs: yarn add ejs)\\n  app.setBaseViewsDir(\'views\');\\n  app.setViewEngine(\'ejs\');\\n\\n  await app.listen(7000);\\n}\\n\\nbootstrap();\\n```\\n\\n```typescript\\nimport { Controller, Header, Headers, Get, Render, Param } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get(\':id\')\\n  @Render(\'home\')\\n  getTest(@Headers() headers, @Param() params) {\\n    console.log(headers)\\n    return {\\n      name: \\"XManba\\",\\n      headers: headers\\n    }\\n  }\\n}\\n```\\n\\n![20230606150205](http://s3.airtlab.com/blog/20230606150205.png)\\n\\n## 2\u3001\u9759\u6001\u8d44\u6e90\u670d\u52a1\u8bbe\u7f6e\\n```typescript\\nimport { NestFactory } from \'@nestjs/core\';\\nimport { NestExpressApplication } from \'@nestjs/platform-express\';\\nimport { AppModule } from \'./app.module\';\\n\\nimport { join } from \'path\';\\n\\nasync function bootstrap() {\\n  const app = await NestFactory.create<NestExpressApplication>(AppModule);\\n\\n  // \u914d\u7f6e\u9759\u6001\u8d44\u6e90(\u8bbe\u7f6e\u865a\u62df\u76ee\u5f55\u662f\u66f4\u597d\u7684\u505a\u6cd5)\\n  // app.useStaticAssets(join(__dirname, \'..\', \'public\'));\\n  app.useStaticAssets(join(__dirname, \'..\', \'public\'), {\\n    prefix: \'/static/\', // \u8bbe\u7f6e\u865a\u62df\u8def\u5f84\\n  });\\n\\n  await app.listen(7000);\\n}\\n\\nbootstrap();\\n```","isLeaf":true},{"key":"/NodeJS/04 nestjs/03-cookie-session.md","path":"/NodeJS/04 nestjs/03-cookie-session.md","route":"/NodeJS/04 nestjs/03-cookie-session.md","leaf":true,"title":"03-cookie-session","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n## 1\u3001\u4f7f\u7528 cookie\\n\\n### cookie-parser(express\u5e73\u53f0)\\n\\n```typescript\\nimport { NestFactory } from \'@nestjs/core\';\\nimport { NestExpressApplication } from \'@nestjs/platform-express\';\\nimport { AppModule } from \'./app.module\';\\nimport * as cookieParser from \'cookie-parser\';\\n\\nimport { join } from \'path\';\\n\\nasync function bootstrap() {\\n  const app = await NestFactory.create<NestExpressApplication>(AppModule);\\n\\n  app.use(cookieParser());\\n\\n  await app.listen(7000);\\n}\\n\\n\\nbootstrap();\\n```\\n\\n**\u8bbe\u7f6ecookie**\\n\\n```typescript\\nimport {Controller, Get, Response } from \'@nestjs/common\';\\nimport { NewsService } from \'./news.service\';\\n\\n@Controller(\'news\')\\nexport class NewsController {\\n  constructor(private newsService: NewsService) {}\\n\\n  @Get()\\n  getNewsList(@Response() res) {\\n    res.cookie(\'username\', \'XManba\', {\\n      maxAge: 24 * 60 * 60\\n    })\\n    // \u8fd9\u91cc\u53ea\u80fd\u7528 res.send\\n    res.send(this.newsService.findAll())\\n    // return this.newsService.findAll()\\n  }\\n}\\n```\\n\\n**\u83b7\u53d6cookie**\\n\\n```typescript\\nimport { Controller, Get, Request, Response } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get()\\n  getTest(@Request() req) {\\n    return req.cookies;\\n  }\\n}\\n```\\n\\n### cookie \u914d\u7f6e\u53c2\u6570\\n\\n![20230606150407](http://s3.airtlab.com/blog/20230606150407.png)\\n\\n\\n### cookie \u52a0\u5bc6\\n\\n![20230606150419](http://s3.airtlab.com/blog/20230606150419.png)\\n\\n**\u8bbe\u7f6e**\\n```typescript\\nimport {Controller, Get, Response } from \'@nestjs/common\';\\nimport { NewsService } from \'./news.service\';\\n\\n@Controller(\'news\')\\nexport class NewsController {\\n  constructor(private newsService: NewsService) {}\\n\\n  @Get()\\n  getNewsList(@Response() res) {\\n    res.cookie(\'username\', \'1XManba\', {\\n      maxAge: 24 * 60 * 60 * 1000,\\n      httpOnly: false,\\n      signed: true\\n    })\\n    // \u8fd9\u91cc\u53ea\u80fd\u7528 res.send\\n    res.send(this.newsService.findAll())\\n    // return this.newsService.findAll()\\n  }\\n}\\n```\\n\\n**\u83b7\u53d6**\\n\\n```typescript\\nimport { Controller, Get, Request, Response } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get()\\n  getTest(@Request() req) {\\n    return {\\n      ...req.signedCookies,\\n      ...req.cookies\\n    }\\n  }\\n}\\n```\\n\\n## 2\u3001\u4f7f\u7528 session\\n\\n![20230606150519](http://s3.airtlab.com/blog/20230606150519.png)\\n\\n![20230606150532](http://s3.airtlab.com/blog/20230606150532.png)\\n\\n**\u914d\u7f6e**\\n```typescript\\nimport { NestFactory } from \'@nestjs/core\';\\nimport { NestExpressApplication } from \'@nestjs/platform-express\';\\nimport { AppModule } from \'./app.module\';\\n\\nimport * as cookieParser from \'cookie-parser\';\\nimport * as session from \'express-session\';\\n\\nimport { join } from \'path\';\\n\\nasync function bootstrap() {\\n  const app = await NestFactory.create<NestExpressApplication>(AppModule);\\n\\n  // cookie\\n  app.use(cookieParser(\'user123.\'));\\n\\n  // session\\n  app.use(session({\\n    secret: \'user123.\',\\n    cookie: {\\n      maxAge: 1000 * 10\\n    }\\n  }))\\n\\n  await app.listen(7000);\\n}\\n\\n\\nbootstrap();\\n```\\n\\n**\u4f7f\u7528**\\n```typescript\\nimport { Controller, Get, Response, Request } from \'@nestjs/common\';\\n\\n@Controller(\'session\')\\nexport class SessionController {\\n  @Get(\'set\')\\n  getSession(@Request() req) {\\n    console.log(req.session)\\n    req.session.token = \\"zxczxcxzc\\"\\n    return req.session.token\\n  }\\n\\n  @Get(\'get\')\\n  setSession(@Request() req) {\\n    return req.session.token ? req.session.token : \'none\';\\n  }\\n}\\n```\\n\\n### \u5e38\u7528\u53c2\u6570\\n\\n![20230606150628](http://s3.airtlab.com/blog/20230606150628.png)\\n\\n![20230606150635](http://s3.airtlab.com/blog/20230606150635.png)\\t\\t\\t\\t\\t\\n\\n### \u5e38\u7528\u65b9\u6cd5\\n\\n![20230606150646](http://s3.airtlab.com/blog/20230606150646.png)","isLeaf":true},{"key":"/NodeJS/04 nestjs/04-file-upload.md","path":"/NodeJS/04 nestjs/04-file-upload.md","route":"/NodeJS/04 nestjs/04-file-upload.md","leaf":true,"title":"04-file-upload","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n---\\ntitle: 04 \u6587\u4ef6\u4e0a\u4f20\\n---\\n\\n## 1\u3001\u57fa\u672c\u7528\u6cd5\\n\\n```typescript\\nimport { Controller, Post, UseInterceptors, UploadedFile, Body, Get, Render, UploadedFiles } from \'@nestjs/common\';\\nimport { FileInterceptor, FilesInterceptor, FileFieldsInterceptor } from \'@nestjs/platform-express\';\\n\\nimport { join } from \'path\';\\nimport { createWriteStream } from \'fs\';\\n\\n@Controller(\'upload\')\\nexport class UploadController {\\n  // \u4e0a\u4f20\u5355\u4e2a\u6587\u4ef6\\n  @Post(\'single\')\\n  @UseInterceptors(FileInterceptor(\'avatar\'))\\n  uploadFile(@UploadedFile() file, @Body() body) {\\n    console.log(file)\\n    console.log(body)\\n    const rstream = createWriteStream(\\n      join(__dirname, \'../../public/upload\', `${Date.now()}-${file.originalname}`)\\n    )\\n    rstream.write(file.buffer)\\n    return file.size\\n  }\\n\\n  // \u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\\n  @Post(\'array\')\\n  @UseInterceptors(FilesInterceptor(\'avatars\'))\\n  uploadFileList(@UploadedFiles() files, @Body() body) {\\n    console.log(files)\\n    return files.map(elment => elment.originalname)\\n  }\\n\\n  // \u4e0a\u4f20\u591a\u4e2a\u6587\u4ef6\\n  @Post(\'many\')\\n  @UseInterceptors(FileFieldsInterceptor([\\n    { name: \'avatar\', maxCount: 2 },\\n    { name: \'background\', maxCount: 1 },\\n  ]))\\n  uploadFiles(@UploadedFiles() files) {\\n    console.log(files.avatar)\\n    console.log(files.background)\\n    return files.size\\n  }\\n}\\n```\\n\\n## 2\u3001\u914d\u7f6e\u8def\u5f84 & \u53c2\u6570\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { MulterModule } from \'@nestjs/platform-express\';\\nimport { UploadController } from \'./upload.controller\';\\nimport { UploadService } from \'./upload.service\';\\n\\n@Module({\\n  imports: [\\n    MulterModule.register({\\n      dest: \'./upload\',\\n    }),\\n  ],\\n  providers: [UploadService],\\n  controllers: [UploadController],\\n})\\nexport class UploadModule {}\\n\\n```\\n```typescript\\nimport {\\n  Controller,\\n  Post,\\n  UploadedFile,\\n  UseInterceptors,\\n} from \'@nestjs/common\';\\nimport { FileInterceptor } from \'@nestjs/platform-express\';\\nimport { diskStorage } from \'multer\';\\nimport { UploadService } from \'./upload.service\';\\n\\n// export const imageFileFilter = (req, file, callback) => {\\n//   if (!file.originalname.match(/\\\\.(jpg|jpeg|png|gif)$/)) {\\n//     return callback(new Error(\'Only image files are allowed!\'), false);\\n//   }\\n//   callback(null, true);\\n// };\\n\\n// export const editFileName = (req, file, callback) => {\\n//   const name = file.originalname.split(\'.\')[0];\\n//   const fileExtName = extname(file.originalname);\\n//   const randomName = Array(4)\\n//     .fill(null)\\n//     .map(() => Math.round(Math.random() * 16).toString(16))\\n//     .join(\'\');\\n//   callback(null, `${name}-${randomName}${fileExtName}`);\\n// };\\n\\n@Controller(\'upload\')\\nexport class UploadController {\\n  constructor(\\n    private uploadService: UploadService\\n  ) {}\\n\\n  @Post()\\n  @UseInterceptors(\\n    FileInterceptor(\'file\', {\\n      storage: diskStorage({\\n        destination: \'./upload\',\\n      }),\\n    }),\\n  )\\n  async upload(@UploadedFile() file: Express.Multer.File) {\\n    return this.uploadService.upload(file.path, file.originalname)\\n  }\\n}\\n\\n```","isLeaf":true},{"key":"/NodeJS/04 nestjs/05-decorator.md","path":"/NodeJS/04 nestjs/05-decorator.md","route":"/NodeJS/04 nestjs/05-decorator.md","leaf":true,"title":"05-decorator","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n---\\ntitle: 05 \u81ea\u5b9a\u4e49\u88c5\u9970\u5668\\n---\\n\\n## 1\u3001\u5185\u7f6e\u53c2\u6570\u88c5\u9970\u5668\\nNest \u63d0\u4f9b\u4e86\u4e00\u7ec4\u6709\u7528\u7684 **\u53c2\u6570\u88c5\u9970\u5668**\uff0c\u60a8\u53ef\u4ee5\u5c06\u5b83\u4eec\u4e0e HTTP \u8def\u7531\u5904\u7406\u7a0b\u5e8f\u4e00\u8d77\u4f7f\u7528\u3002\u4e0b\u9762\u662f\u63d0\u4f9b\u7684\u88c5\u9970\u5668\u548c\u5b83\u4eec\u4ee3\u8868\u7684\u666e\u901a Express\uff08\u6216 Fastify\uff09\u5bf9\u8c61\u7684\u5217\u8868\\n\\n| @Request(), @Req() | req |\\n| --- | --- |\\n| @Response(), @Res() | res |\\n| @Next() | next |\\n| @Session() | req.session |\\n| @Param(param?: string) | req.params/req.params[param] |\\n| @Body(param?: string) | req.body/req.body[param] |\\n| @Query(param?: string) | req.query/req.query[param] |\\n| @Headers(param?: string) | req.headers/req.headers[param] |\\n| @Ip() | req.ip |\\n| @HostParam() | req.hosts |\\n\\n## 2\u3001\u81ea\u5b9a\u4e49\u53c2\u6570\u88c5\u9970\u5668\\n\\n\u5728 node.js \u4e16\u754c\u4e2d\uff0c\u5c06\u5c5e\u6027\u9644\u52a0\u5230 **\u8bf7\u6c42** \u5bf9\u8c61\u662f\u5e38\u89c1\u7684\u505a\u6cd5\u3002\u7136\u540e\u5728\u6bcf\u4e2a\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u4e2d\u624b\u52a8\u63d0\u53d6\u5b83\u4eec\uff0c\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a\\n\\n```typescript\\nconst user = req.user;\\n```\\n\\n\u4e3a\u4e86\u4f7f\u60a8\u7684\u4ee3\u7801\u66f4\u5177\u53ef\u8bfb\u6027\u548c\u900f\u660e\u6027\uff0c\u60a8\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a@User()\u88c5\u9970\u5668\u5e76\u5728\u6240\u6709\u63a7\u5236\u5668\u4e2d\u91cd\u7528\u5b83\u3002\\n\\n```typescript\\nimport { createParamDecorator, ExecutionContext } from \'@nestjs/common\';\\n\\nexport const User = createParamDecorator(\\n  (data: unknown, ctx: ExecutionContext) => {\\n    const request = ctx.switchToHttp().getRequest();\\n    return request.user;\\n  },\\n);\\n```\\n\\n\u7136\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u9002\u5408\u60a8\u8981\u6c42\u7684\u4efb\u4f55\u5730\u65b9\u7b80\u5355\u5730\u4f7f\u7528\u5b83\\n\\n```typescript\\n@Get()\\nasync findOne(@User() user: UserEntity) {\\n  console.log(user);\\n}\\n```\\n\\n### \u8fd4\u56de\u503c\u53ef\u4ee5\u662f Promise\\n\\n```typescript\\nimport { createParamDecorator, ExecutionContext } from \'@nestjs/common\';\\n\\nexport const User = createParamDecorator(\\n  (data: unknown, ctx: ExecutionContext) => {\\n    const request = ctx.switchToHttp().getRequest();\\n    return new Promise((resolve) => {\\n      resolve(1);\\n    });\\n  },\\n);\\n```\\n\\n## 3\u3001\u88c5\u9970\u5668\u7684\u53c2\u6570\\n\\n```typescript\\nimport { createParamDecorator, ExecutionContext } from \'@nestjs/common\';\\n\\nexport const User = createParamDecorator(\\n  (data: string, ctx: ExecutionContext) => {\\n    const request = ctx.switchToHttp().getRequest();\\n    return new Promise((resolve) => {\\n      resolve(`${data}_1`);\\n    });\\n  },\\n);\\n```\\n\\n## 4\u3001\u4f7f\u7528\u7ba1\u9053\\n\\n\u5728 @Query \u548c @Body \u7b49\u88c5\u9970\u5668\u4e2d\uff0c\u6211\u4eec\u662f\u53ef\u4ee5\u4f7f\u7528 ValidationPipe \u529f\u80fd\u7684\uff0c\u5982\u4f55\u8ba9\u4f60\u7684\u88c5\u9970\u5668\u5177\u6709\u540c\u6837\u7684\u529f\u80fd\u5462\uff1f\\n\\n```typescript\\n@Get()\\nasync findOne(\\n  @User(new ValidationPipe({ validateCustomDecorators: true }))\\n  user: UserEntity,\\n) {\\n  console.log(user);\\n}\\n```\\n\\n> \u8bf7\u6ce8\u610f\uff0cvalidateCustomDecorators \u9009\u9879\u5fc5\u987b\u8bbe\u7f6e\u4e3a true\u3002ValidationPipe \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4e0d\u9a8c\u8bc1\u4f7f\u7528\u81ea\u5b9a\u4e49\u88c5\u9970\u5668\u6ce8\u91ca\u7684\u53c2\u6570\u3002\\n\\n## 5\u3001\u88c5\u9970\u5668\u7ec4\u5408\\nNest \u63d0\u4f9b\u4e86\u4e00\u4e2a\u8f85\u52a9\u65b9\u6cd5\u6765\u7ec4\u5408\u591a\u4e2a\u88c5\u9970\u5668\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u60a8\u60f3\u5c06\u6240\u6709\u4e0e\u8eab\u4efd\u9a8c\u8bc1\u76f8\u5173\u7684\u88c5\u9970\u5668\u7ec4\u5408\u6210\u4e00\u4e2a\u88c5\u9970\u5668\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u7ed3\u6784\u6765\u5b8c\u6210\uff1a\\n\\n```typescript\\nimport { applyDecorators } from \'@nestjs/common\';\\n\\nexport function Auth(...roles: Role[]) {\\n  return applyDecorators(\\n    SetMetadata(\'roles\', roles),\\n    UseGuards(AuthGuard, RolesGuard),\\n    ApiBearerAuth(),\\n    ApiUnauthorizedResponse({ description: \'Unauthorized\' }),\\n  );\\n}\\n```\\n\\n\u7136\u540e\uff0c\u60a8\u53ef\u4ee5@Auth()\u6309\u5982\u4e0b\u65b9\u5f0f\u4f7f\u7528\u6b64\u81ea\u5b9a\u4e49\u88c5\u9970\u5668\uff1a\\n\\n```typescript\\nclass MyController {\\n  @Get(\'users\')\\n  @Auth(\'admin\')\\n  findAllUsers() {}\\n}\\n```","isLeaf":true},{"key":"/NodeJS/04 nestjs/06-param-validate.md","path":"/NodeJS/04 nestjs/06-param-validate.md","route":"/NodeJS/04 nestjs/06-param-validate.md","leaf":true,"title":"06-param-validate","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n---\\ntitle: 06 \u53c2\u6570\u9a8c\u8bc1\\n---\\n\\n\u53c2\u6570\u9a8c\u8bc1\u4e3b\u8981\u662f\u7ed3\u5408 NestJS pipe \u6765\u505a\\n\\n**\u5b89\u88c5**\\n```shell\\nyarn add class-transformer class-validator\\n```\\n\\n**\u914d\u7f6e\u5168\u5c40\u9a8c\u8bc1 pipe**\\n\\n```typescript\\nimport { appLogger } from \'@libs/logger\';\\nimport { ValidationPipe, BadRequestException } from \'@nestjs/common\';\\n\\nconst app = await NestFactory.create<NestExpressApplication>(AppModule);\\n\\nconst exceptionFactory: ValidationPipe[\'exceptionFactory\'] = (errors) => {\\n  appLogger.error(`validator error`, errors);\\n  const error = errors[0];\\n  return new BadRequestException(\\n    error.constraints[Object.keys(error.constraints)[0]],\\n  );\\n};\\n\\nexport const ParamsValidationPipe = new ValidationPipe({\\n  // transform: true,\\n  // whitelist: true, \u5f00\u542f whitelist \u4f1a\u5c06\u4e0d\u9700\u8981\u7684\u5b57\u6bb5\u90fd\u4e22\u53bb\\n  // skipMissingProperties: true,\\n  exceptionFactory,\\n  // transformOptions: {\\n  //   excludeExtraneousValues: false,\\n  // },\\n});\\n\\napp.useGlobalPipes(ParamsValidationPipe);\\t\\n```\\n\\n**\u4f7f\u7528**\\n```typescript\\nimport { ApiProperty } from \'@nestjs/swagger\';\\nimport { IsOptional, IsString } from \'class-validator\';\\nimport { UserEntity } from \'../entity/user.entity\';\\nimport { CodeTypeEnum } from \'../enums/CodeTypeEnum\';\\nimport { LoginTypeEnum } from \'../enums/LoginTypeEnum\';\\n\\nexport class RegisterDto {\\n  @ApiProperty({ description: \'\u8d26\u53f7\'  })\\n  @IsOptional()\\n  @IsString()\\n  account?: string;\\n\\n  @ApiProperty({ description: \'\u5bc6\u7801\', required: false })\\n  @IsOptional()\\n  @IsString()\\n  password?: string;\\n\\n  @ApiProperty({ description: \'\u9a8c\u8bc1\u7801\', required: false })\\n  @IsOptional()\\n  @IsString()\\n  code?: string;\\n\\n  @ApiProperty({ description: \'\u8d26\u53f7\u7c7b\u578b\', enum:  RegisterType })\\n  @IsString()\\n  registerType: RegisterType;\\n}\\n```\\n\\n```typescript\\n@ApiTags(\'\u8d26\u6237\')\\n@Controller(\'account\')\\nexport class AccountController {\\n  constructor(\\n    private authService: AuthService,\\n    private accountService: AccountService,\\n  ) {}\\n\\n  // \u6ce8\u518c\\n  @Post(\'register\')\\n  register(@Body() body: RegisterDto) {\\n    return this.accountService.register(body);\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/NodeJS/04 nestjs/07-response-pip.md","path":"/NodeJS/04 nestjs/07-response-pip.md","route":"/NodeJS/04 nestjs/07-response-pip.md","leaf":true,"title":"07-response-pip","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n```typescript\\n@Controller(\'file\')\\nexport class FileController {\\n  @Get()\\n  getFile(@Res() res: Response) {\\n    const file = createReadStream(join(process.cwd(), \'package.json\'));\\n    file.pipe(res);\\n  }\\n}\\n```","isLeaf":true},{"key":"/NodeJS/04 nestjs/08-typeorm-auto-load-entity.md","path":"/NodeJS/04 nestjs/08-typeorm-auto-load-entity.md","route":"/NodeJS/04 nestjs/08-typeorm-auto-load-entity.md","leaf":true,"title":"08-typeorm-auto-load-entity","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n## 1\u3001\u81ea\u52a8\u52a0\u8f7d\u5b9e\u4f53\\n\\n\u6307\u5b9a\u8be5\u9009\u9879\u540e\uff0c\u901a\u8fc7\u8be5 forFeature() \u65b9\u6cd5\u6ce8\u518c\u7684\u6bcf\u4e2a\u5b9e\u4f53\u90fd\u5c06\u81ea\u52a8\u6dfb\u52a0\u5230 entities \u914d\u7f6e\u5bf9\u8c61\u7684\u6570\u7ec4\u4e2d\u3002\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { TypeOrmModule } from \'@nestjs/typeorm\';\\nimport { User } from \'./user.entity\';\\n\\n@Module({\\n  imports: [TypeOrmModule.forFeature([User])],\\n  exports: [TypeOrmModule]\\n})\\nexport class UsersModule {}\\n```\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { TypeOrmModule } from \'@nestjs/typeorm\';\\n\\n@Module({\\n  imports: [\\n    TypeOrmModule.forRoot({\\n      ...\\n      autoLoadEntities: true,\\n    }),\\n  ],\\n})\\nexport class AppModule {}\\n```","isLeaf":true},{"key":"/NodeJS/04 nestjs/09-SetMetadata.md","path":"/NodeJS/04 nestjs/09-SetMetadata.md","route":"/NodeJS/04 nestjs/09-SetMetadata.md","leaf":true,"title":"09-SetMetadata","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n**\u8bbe\u7f6e\u5143\u6570\u636e**\\n\\n```typescript\\nimport { Controller, Get, SetMetadata, UseGuards } from \'@nestjs/common\';\\nimport { RolesGuard } from \'./auth.guard\';\\nimport { CatsService } from \'./cats.service\';\\n\\n@SetMetadata(\'roles\', [\'admin\'])\\n@Controller()\\nexport class AppController {\\n  constructor(\\n    private catService: CatsService\\n  ) {}\\n\\n  @UseGuards(RolesGuard)\\n  @Get()\\n  async findOne() {\\n    this.catService.test()\\n  }\\n}\\n```\\n\\n**\u83b7\u53d6\u5143\u6570\u636e**\\n\\n```typescript\\nimport { Injectable, CanActivate, ExecutionContext } from \'@nestjs/common\';\\nimport { Reflector } from \'@nestjs/core\';\\n\\n@Injectable()\\nexport class RolesGuard implements CanActivate {\\n  constructor(private reflector: Reflector) {}\\n\\n  canActivate(context: ExecutionContext): boolean {\\n    const request = context.switchToHttp().getRequest();\\n    const roles = this.reflector.get<string[]>(\'roles\', context.getHandler());\\n    console.log(roles)\\n    return true;\\n  }\\n}\\n```\\n\\n**\u5143\u6570\u636e\u5408\u5e76\u7b56\u7565**\\n\\n- getAllAndOverride\\n```typescript\\nconst roles = this.reflector.getAllAndOverride<string[]>(\'roles\', [\\n  context.getHandler(),\\n  context.getClass(),\\n]);\\n```\\n\\n- getAllAndMerge\\n```typescript\\nconst roles = this.reflector.getAllAndMerge<string[]>(\'roles\', [\\n  context.getHandler(),\\n  context.getClass(),\\n]);\\n```\\n","isLeaf":true},{"key":"/NodeJS/04 nestjs/10-core-module.md","path":"/NodeJS/04 nestjs/10-core-module.md","route":"/NodeJS/04 nestjs/10-core-module.md","leaf":true,"title":"10-core-module","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n---\\ntitle: 10 \u6a21\u5757 Module\\n---\\n\\n\u6a21\u5757\u662f\u5177\u6709 `@Module()` \u88c5\u9970\u5668\u7684\u7c7b\u3002 `@Module()` \u88c5\u9970\u5668\u63d0\u4f9b\u4e86\u5143\u6570\u636e\uff0cNest \u7528\u5b83\u6765\u7ec4\u7ec7\u5e94\u7528\u7a0b\u5e8f\u7ed3\u6784\u3002\\n\\n![20230606152347](http://s3.airtlab.com/blog/20230606152347.png)\\n\\n\u6bcf\u4e2a Nest \u5e94\u7528\u7a0b\u5e8f\u81f3\u5c11\u6709\u4e00\u4e2a\u6a21\u5757\uff0c\u5373\u6839\u6a21\u5757\u3002\u6839\u6a21\u5757\u662f Nest \u5f00\u59cb\u5b89\u6392\u5e94\u7528\u7a0b\u5e8f\u6811\u7684\u5730\u65b9\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6839\u6a21\u5757\u53ef\u80fd\u662f\u5e94\u7528\u7a0b\u5e8f\u4e2d\u552f\u4e00\u7684\u6a21\u5757\uff0c\u7279\u522b\u662f\u5f53\u5e94\u7528\u7a0b\u5e8f\u5f88\u5c0f\u65f6\uff0c\u4f46\u662f\u5bf9\u4e8e\u5927\u578b\u7a0b\u5e8f\u6765\u8bf4\u8fd9\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u60a8\u5c06\u62e5\u6709\u591a\u4e2a\u6a21\u5757\uff0c\u6bcf\u4e2a\u6a21\u5757\u90fd\u6709\u4e00\u7ec4\u7d27\u5bc6\u76f8\u5173\u7684\u529f\u80fd\u3002\\n\\n`@module()` \u88c5\u9970\u5668\u63a5\u53d7\u4e00\u4e2a\u63cf\u8ff0\u6a21\u5757\u5c5e\u6027\u7684\u5bf9\u8c61\uff1a\\n\\n| \u5b57\u6bb5 | \u4ecb\u7ecd |\\n| --- | --- |\\n| providers | \u7531 Nest \u6ce8\u5165\u5668\u5b9e\u4f8b\u5316\u7684\u63d0\u4f9b\u8005\uff0c\u5e76\u4e14\u53ef\u4ee5\u81f3\u5c11\u5728\u6574\u4e2a\u6a21\u5757\u4e2d\u5171\u4eab |\\n| controllers | \u5fc5\u987b\u521b\u5efa\u7684\u4e00\u7ec4\u63a7\u5236\u5668 |\\n| imports | \u5bfc\u5165\u6a21\u5757\u7684\u5217\u8868\uff0c\u8fd9\u4e9b\u6a21\u5757\u5bfc\u51fa\u4e86\u6b64\u6a21\u5757\u4e2d\u6240\u9700\u63d0\u4f9b\u8005 |\\n| exports | \u7531\u672c\u6a21\u5757\u63d0\u4f9b\u5e76\u5e94\u5728\u5176\u4ed6\u6a21\u5757\u4e2d\u53ef\u7528\u7684\u63d0\u4f9b\u8005\u7684\u5b50\u96c6\u3002 |\\n\\n> \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8be5\u6a21\u5757\u5c01\u88c5\u63d0\u4f9b\u7a0b\u5e8f\u3002\u8fd9\u610f\u5473\u7740\u65e0\u6cd5\u6ce8\u5165\u65e2\u4e0d\u662f\u5f53\u524d\u6a21\u5757\u7684\u76f4\u63a5\u7ec4\u6210\u90e8\u5206\uff0c\u4e5f\u4e0d\u662f\u4ece\u5bfc\u5165\u7684\u6a21\u5757\u5bfc\u51fa\u7684\u63d0\u4f9b\u7a0b\u5e8f\u3002\u56e0\u6b64\uff0c\u60a8\u53ef\u4ee5\u5c06\u4ece\u6a21\u5757\u5bfc\u51fa\u7684\u63d0\u4f9b\u7a0b\u5e8f\u89c6\u4e3a\u6a21\u5757\u7684\u516c\u5171\u63a5\u53e3\u6216API\u3002\\n\\n## 1\u3001\u6309\u529f\u80fd\u7ec4\u7ec7\u6a21\u5757\\n\\n\u4e00\u4e2a\u529f\u80fd\u6a21\u5757\u4ec5\u4ec5\u662f\u5c06\u5177\u6709\u76f8\u540c\u529f\u80fd\u7684 Service\u3001Controller \u5df2\u7ecf\u5176\u4ed6\u4fe1\u606f\u5c01\u88c5\u5728\u4e00\u4e2a\u6a21\u5757\u4e2d\uff0c\u6bd4\u5982\uff1a\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { CatsModule } from \'./cats/cats.module\';\\n\\n@Module({\\n  imports: [CatsModule],\\n})\\nexport class AppModule {}\\n```\\n\\n## 2\u3001\u6a21\u5757\u662f\u5355\u4f8b\u7684\\n\u5728 Nest \u4e2d\uff0c\u6a21\u5757\u9ed8\u8ba4\u662f\u5355\u4f8b\u7684\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u8f7b\u677e\u5730\u5728\u591a\u4e2a\u6a21\u5757\u4e4b\u95f4\u5171\u4eab\u4efb\u4f55\u63d0\u4f9b\u7a0b\u5e8f\u7684\u76f8\u540c\u5b9e\u4f8b\u3002\\n\\n![20230606152549](http://s3.airtlab.com/blog/20230606152549.png)\\n\\n\u6bcf\u4e2a\u6a21\u5757\u4e00\u65e6\u521b\u5efa\uff0c\u5b83\u5c31\u53ef\u4ee5\u88ab\u4efb\u4f55\u6a21\u5757\u91cd\u7528\u3002\u5047\u8bbe\u6211\u4eec\u60f3 CatsService \u5728\u5176\u4ed6\u51e0\u4e2a\u6a21\u5757\u4e4b\u95f4\u5171\u4eab\u4e00\u4e2a\u5b9e\u4f8b\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u9996\u5148\u9700\u8981\u901a\u8fc7\u5c06\u63d0\u4f9b\u7a0b\u5e8f\u6dfb\u52a0\u5230\u6a21\u5757\u7684\u6570\u7ec4\u4e2d\u6765\u5bfc\u51fa\u63d0\u4f9b\u7a0b\u5e8f\uff0c\u5982\u4e0b\u6240\u793a\uff1aCatsService exports\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { CatsController } from \'./cats.controller\';\\nimport { CatsService } from \'./cats.service\';\\n\\n@Module({\\n  controllers: [CatsController],\\n  providers: [CatsService],\\n  exports: [CatsService]\\n})\\nexport class CatsModule {}\\n```\\n\\n\u73b0\u5728\u4efb\u4f55\u5bfc\u5165 \u7684\u6a21\u5757 CatsModule \u90fd\u53ef\u4ee5\u8bbf\u95ee CatsService \u5e76\u4e14\u5c06\u4e0e\u5bfc\u5165\u5b83\u7684\u6240\u6709\u5176\u4ed6\u6a21\u5757\u5171\u4eab\u76f8\u540c\u7684\u5b9e\u4f8b\u3002\\n\\n## 3\u3001\u6a21\u5757\u91cd\u65b0\u5bfc\u51fa\\n\\n\u5982\u4e0a\u6240\u793a\uff0c\u6a21\u5757\u53ef\u4ee5\u5bfc\u51fa\u5176\u5185\u90e8\u63d0\u4f9b\u8005\u3002\u6b64\u5916\uff0c\u4ed6\u4eec\u53ef\u4ee5\u91cd\u65b0\u5bfc\u51fa\u4ed6\u4eec\u5bfc\u5165\u7684\u6a21\u5757\u3002\u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0cCommonModule \u65e2\u53ef\u4ee5\u5bfc\u5165\u4e5f\u53ef\u4ee5\u4ece \u5bfc\u51fa CoreModule\uff0c\u4f7f\u5176\u53ef\u7528\u4e8e\u5bfc\u5165\u8be5\u6a21\u5757\u7684\u5176\u4ed6\u6a21\u5757\u3002\\n\\n```typescript\\n@Module({\\n  imports: [CommonModule],\\n  exports: [CommonModule],\\n})\\nexport class CoreModule {}\\n```\\n\\n## 4\u3001\u6a21\u5757\u7c7b\u4e5f\u53ef\u4ee5\u6ce8\u5165\u63d0\u4f9b\u8005\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { CatsController } from \'./cats.controller\';\\nimport { CatsService } from \'./cats.service\';\\n\\n@Module({\\n  controllers: [CatsController],\\n  providers: [CatsService],\\n})\\nexport class CatsModule {\\n  constructor(private catsService: CatsService) {}\\n}\\n```\\n\\n[\u4f46\u662f\uff0c\u7531\u4e8e\u5faa\u73af\u4f9d\u8d56](https://docs.nestjs.com/fundamentals/circular-dependency)\uff0c\u6a21\u5757\u7c7b\u672c\u8eab\u4e0d\u80fd\u4f5c\u4e3a\u63d0\u4f9b\u8005\u6ce8\u5165\u3002\\n\\n## 5\u3001\u5168\u5c40\u6a21\u5757\\n\\n\u5982\u679c\u60a8\u5fc5\u987b\u5728\u4efb\u4f55\u5730\u65b9\u5bfc\u5165\u76f8\u540c\u7684\u6a21\u5757\u96c6\uff0c\u8fd9\u53ef\u80fd\u4f1a\u53d8\u5f97\u4e4f\u5473\u3002\u4e0e Nest \u4e0d\u540c\uff0c[Angular](https://angular.io/) providers \u662f\u5728\u5168\u5c40\u8303\u56f4\u5185\u6ce8\u518c\u7684\u3002\u4e00\u65e6\u5b9a\u4e49\uff0c\u5b83\u4eec\u5728\u4efb\u4f55\u5730\u65b9\u90fd\u53ef\u7528\u3002\u7136\u800c\uff0cNest \u5c06\u63d0\u4f9b\u7a0b\u5e8f\u5c01\u88c5\u5728\u6a21\u5757\u8303\u56f4\u5185\u3002\u5982\u679c\u4e0d\u9996\u5148\u5bfc\u5165\u5c01\u88c5\u6a21\u5757\uff0c\u60a8\u5c06\u65e0\u6cd5\u5728\u5176\u4ed6\u5730\u65b9\u4f7f\u7528\u6a21\u5757\u7684\u63d0\u4f9b\u7a0b\u5e8f\u3002\\n\u5f53\u60a8\u60f3\u63d0\u4f9b\u4e00\u7ec4\u5f00\u7bb1\u5373\u7528\u7684\u63d0\u4f9b\u7a0b\u5e8f\u65f6\uff08\u4f8b\u5982\uff0c\u5e2e\u52a9\u7a0b\u5e8f\u3001\u6570\u636e\u5e93\u8fde\u63a5\u7b49\uff09\uff0c\u8bf7\u4f7f\u7528\u88c5\u9970\u5668\u4f7f\u6a21\u5757\u6210\u4e3a\u5168\u5c40\u7684\uff0c\u5373 `@Global()`\\n\\n```typescript\\nimport { Module, Global } from \'@nestjs/common\';\\nimport { CatsController } from \'./cats.controller\';\\nimport { CatsService } from \'./cats.service\';\\n\\n@Global()\\n@Module({\\n  controllers: [CatsController],\\n  providers: [CatsService],\\n  exports: [CatsService],\\n})\\nexport class CatsModule {}\\n```\\n\\n@Global() \u88c5\u9970\u5668\u4f7f\u6a21\u5757\u5177\u6709\u5168\u5c40\u8303\u56f4\u3002\u5168\u5c40\u6a21\u5757\u5e94\u8be5\u53ea\u6ce8\u518c **\u4e00\u6b21**\uff0c\u901a\u5e38\u7531\u6839\u6a21\u5757\u6216\u6838\u5fc3\u6a21\u5757\u6ce8\u518c\u3002\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0cCatsService \u63d0\u4f9b\u8005\u5c06\u65e0\u5904\u4e0d\u5728\uff0c\u5e0c\u671b\u6ce8\u5165\u670d\u52a1\u7684\u6a21\u5757\u4e0d\u9700\u8981 CatsModule \u5728\u5176\u5bfc\u5165\u6570\u7ec4\u4e2d\u5bfc\u5165\u3002\\n\\n\u8ba9\u4e00\u5207\u90fd\u5168\u7403\u5316\u5e76\u4e0d\u662f\u4e00\u4e2a\u597d\u7684\u8bbe\u8ba1\u51b3\u7b56\u3002`\u5168\u5c40\u6a21\u5757\u53ef\u7528\u4e8e\u51cf\u5c11\u5fc5\u8981\u7684\u6837\u677f\u6570\u91cf`\u3002imports\u6570\u7ec4\u901a\u5e38\u662f\u4f7f\u6a21\u5757\u7684 API \u53ef\u4f9b\u6d88\u8d39\u8005\u4f7f\u7528\u7684\u9996\u9009\u65b9\u5f0f \u3002\\n\\n## 6\u3001\u52a8\u6001\u6a21\u5757\\n\\nNest \u6a21\u5757\u7cfb\u7edf\u5305\u62ec\u4e00\u4e2a\u79f0\u4e3a **\u52a8\u6001\u6a21\u5757** \u7684\u5f3a\u5927\u529f\u80fd\u3002\u6b64\u529f\u80fd\u4f7f\u60a8\u80fd\u591f\u8f7b\u677e\u521b\u5efa\u53ef\u52a8\u6001\u6ce8\u518c\u548c\u914d\u7f6e\u63d0\u4f9b\u7a0b\u5e8f\u7684\u53ef\u5b9a\u5236\u6a21\u5757\u3002[\u52a8\u6001\u6a21\u5757\u5728\u8fd9\u91cc](https://docs.nestjs.com/fundamentals/dynamic-modules) \u5f97\u5230\u4e86\u5e7f\u6cdb\u7684\u4ecb\u7ecd\u3002\u5728\u672c\u7ae0\u4e2d\uff0c\u6211\u4eec\u5c06\u7b80\u8981\u6982\u8ff0\u4ee5\u5b8c\u6210\u5bf9\u6a21\u5757\u7684\u4ecb\u7ecd\u3002\\n\\n\u4ee5\u4e0b\u662f a \u7684\u52a8\u6001\u6a21\u5757\u5b9a\u4e49\u793a\u4f8b DatabaseModule\uff1a\\n\\n```typescript\\nimport { Module, DynamicModule } from \'@nestjs/common\';\\nimport { createDatabaseProviders } from \'./database.providers\';\\nimport { Connection } from \'./connection.provider\';\\n\\n@Module({\\n  providers: [Connection],\\n})\\nexport class DatabaseModule {\\n  static forRoot(entities = [], options?): DynamicModule {\\n    const providers = createDatabaseProviders(options, entities);\\n    return {\\n      module: DatabaseModule,\\n      providers: providers,\\n      exports: providers,\\n    };\\n  }\\n}\\n```\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { DatabaseModule } from \'./database/database.module\';\\nimport { User } from \'./users/entities/user.entity\';\\n\\n@Module({\\n  imports: [DatabaseModule.forRoot([User])],\\n})\\nexport class AppModule {}\\n```\\n\\n### \u52a8\u6001\u6a21\u5757\u7684\u610f\u4e49\\n\u4e3b\u8981\u7528\u4e8e\u63d0\u4f9b\u53ef\u5b9a\u5236\u529f\u80fd\\n\\n### forRoot() \u65b9\u6cd5\u53ef\u4ee5\u662f\u5f02\u6b65\\nforRoot \u8fd4\u56de\u52a8\u6001\u6a21\u5757\uff0c\u5373\u4e00\u4e2a Promise\u3002\\n\\n### \u5168\u5c40\u8303\u56f4\u5185\u6ce8\u518c\u52a8\u6001\u6a21\u5757\\n\u5982\u679c\u8981\u5728\u5168\u5c40\u8303\u56f4\u5185\u6ce8\u518c\u52a8\u6001\u6a21\u5757\uff0c\u8bf7\u5c06 global \u5c5e\u6027\u8bbe\u7f6e\u4e3a true\\n```typescript\\n{\\n  global: true,\\n  module: DatabaseModule,\\n  providers: providers,\\n  exports: providers,\\n}\\n```","isLeaf":true},{"key":"/NodeJS/04 nestjs/11-core-provider.md","path":"/NodeJS/04 nestjs/11-core-provider.md","route":"/NodeJS/04 nestjs/11-core-provider.md","leaf":true,"title":"11-core-provider","depth":2,"content":"---\\ntitle: 11 \u63d0\u4f9b\u8005 Provider\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n## 1\u3001@Injectable() \u6807\u8bb0\\n\\n\u4f9d\u8d56\u6ce8\u5165\u662f\u4e00\u79cd [\u63a7\u5236\u53cd\u8f6c (IoC)](https://en.wikipedia.org/wiki/Inversion_of_control) \u6280\u672f\uff0c\u60a8\u53ef\u4ee5\u5c06\u4f9d\u8d56\u9879\u7684\u5b9e\u4f8b\u5316\u59d4\u6258\u7ed9 IoC \u5bb9\u5668\uff08\u5728\u6211\u4eec\u7684\u4f8b\u5b50\u4e2d\u662f NestJS \u8fd0\u884c\u65f6\u7cfb\u7edf\uff09\uff0c\u800c\u4e0d\u662f\u5728\u60a8\u81ea\u5df1\u7684\u4ee3\u7801\u4e2d\u5f3a\u5236\u6267\u884c\u3002`@Injectable() \u88c5\u9970\u5668\u5c06\u7c7b\u6807\u8bb0\u4e3a Provider`\\n\\n```typescript\\nimport { Injectable } from \'@nestjs/common\';\\nimport { Cat } from \'./interfaces/cat.interface\';\\n\\n@Injectable()\\nexport class CatsService {\\n  private readonly cats: Cat[] = [];\\n\\n  findAll(): Cat[] {\\n    return this.cats;\\n  }\\n}\\n```\\n\\n```typescript\\nimport { Controller, Get } from \'@nestjs/common\';\\nimport { CatsService } from \'./cats.service\';\\nimport { Cat } from \'./interfaces/cat.interface\';\\n\\n@Controller(\'cats\')\\nexport class CatsController {\\n  constructor(private catsService: CatsService) {}\\n\\n  @Get()\\n  async findAll(): Promise<Cat[]> {\\n    return this.catsService.findAll();\\n  }\\n}\\n```\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { CatsController } from \'./cats/cats.controller\';\\nimport { CatsService } from \'./cats/cats.service\';\\n\\n@Module({\\n  controllers: [CatsController],\\n  providers: [CatsService],\\n})\\nexport class AppModule {}\\n```\\n\\n## 2\u3001\u7b80\u5199\u6a21\u5f0f (useClass)\\n\\n```typescript\\n@Module({\\n  controllers: [CatsController],\\n  providers: [CatsService],\\n})\\nclass MyModule {}\\n```\\n\\n\u8be5 providers \u5c5e\u6027\u9700\u8981\u4e00\u4e2a\u6570\u7ec4 providers\uff0c\u4ed6\u662f\u66f4\u5b8c\u6574\u8bed\u6cd5\u7684\u7b80\u5199\uff1a\\n```typescript\\n@Module({\\n  controllers: [CatsController],\\n  providers: [\\n    {\\n      provide: CatsService,\\n      useClass: CatsService,\\n    },\\n  ],\\n})\\nclass MyModule {}\\n```\\n\\n\u7b80\u5199\u7b26\u53f7\u53ea\u662f\u4e3a\u4e86\u7b80\u5316\u6700\u5e38\u89c1\u7684\u7528\u4f8b\uff0c\u5176\u4e2d\u4ee4\u724c\u7528\u4e8e\u8bf7\u6c42\u5177\u6709\u76f8\u540c\u540d\u79f0\u7684\u7c7b\u7684\u5b9e\u4f8b\u3002\\n\\n## 3\u3001\u7406\u89e3 useValue\\n\u8be5 useValue \u8bed\u6cd5\u5bf9\u4e8e\u6ce8\u5165\u5e38\u91cf\u503c\u3001\u5c06\u5916\u90e8\u5e93\u653e\u5165 Nest \u5bb9\u5668\u6216\u7528\u6a21\u62df\u5bf9\u8c61\u66ff\u6362\u771f\u5b9e\u5b9e\u73b0\u5f88\u6709\u7528\u3002\u5047\u8bbe\u60a8\u60f3\u5f3a\u5236 Nest \u4f7f\u7528\u6a21\u62df CatsService \u6765\u8fdb\u884c\u6d4b\u8bd5\\n\\n```typescript\\nimport { CatsService } from \'./cats.service\';\\n\\nconst mockCatsService = {\\n  /* mock implementation\\n  ...\\n  */\\n};\\n\\n@Module({\\n  imports: [CatsModule],\\n  providers: [\\n    {\\n      provide: CatsService,\\n      useValue: mockCatsService,\\n    },\\n  ],\\n})\\nexport class AppModule {}\\n```\\n\\n\u5728\u6b64\u793a\u4f8b\u4e2d\uff0cCatsService \u4ee4\u724c\u5c06\u89e3\u6790\u4e3a mockCatsService \u6a21\u62df\u5bf9\u8c61\u3002\u9700\u8981\u4e00\u4e2a\u503c - \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a\u6587\u5b57\u5bf9\u8c61\u4e0e\u5b83\u6b63\u5728\u66ff\u6362 useValue \u7684\u7c7b\u5177\u6709\u76f8\u540c\u7684\u63a5\u53e3\u3002CatsService \u7531\u4e8e TypeScript \u7684[\u7ed3\u6784\u7c7b\u578b](https://www.typescriptlang.org/docs/handbook/type-compatibility.html)\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u5177\u6709\u517c\u5bb9\u63a5\u53e3\u7684\u5bf9\u8c61\uff0c\u5305\u62ec\u6587\u5b57\u5bf9\u8c61\u6216\u7528 \u5b9e\u4f8b\u5316\u7684\u7c7b\u5b9e\u4f8b new\u3002\\n\\n## 4\u3001\u975e\u57fa\u4e8e\u7c7b\u7684\u63d0\u4f9b\u8005\u4ee4\u724c\\n\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u6211\u4eec\u4f7f\u7528\u7c7b\u540d\u4f5c\u4e3a\u6211\u4eec\u7684\u63d0\u4f9b\u8005\u6807\u8bb0\uff08\u6570\u7ec4provide\u4e2d\u5217\u51fa\u7684\u63d0\u4f9b\u8005\u4e2d\u7684\u5c5e\u6027\u503c\uff09\u3002[\u8fd9\u4e0e\u57fa\u4e8e\u6784\u9020\u51fd\u6570\u7684\u6ce8\u5165](https://docs.nestjs.com/providers#dependency-injection)providers \u4f7f\u7528\u7684\u6807\u51c6\u6a21\u5f0f\u76f8\u5339\u914d\uff0c\u5176\u4e2d\u6807\u8bb0\u4e5f\u662f\u7c7b\u540d\u3002\\n\\n```typescript\\nimport { connection } from \'./connection\';\\n\\n@Module({\\n  providers: [\\n    {\\n      provide: \'CONNECTION\',\\n      useValue: connection,\\n    },\\n  ],\\n})\\nexport class AppModule {}\\n```\\n\\n```typescript\\n@Injectable()\\nexport class CatsRepository {\\n  constructor(@Inject(\'CONNECTION\') connection: Connection) {}\\n}\\n```\\n\\n\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5c06\u5b57\u7b26\u4e32\u503c\u6807\u8bb0 ( ) \u4e0e\u6211\u4eec\u4ece\u5916\u90e8\u6587\u4ef6\u5bfc\u5165\'CONNECTION\'\u7684\u9884\u5148\u5b58\u5728\u7684\u5bf9\u8c61\u76f8\u5173\u8054\u3002connection\u3002\u9664\u4e86\u4f7f\u7528\u5b57\u7b26\u4e32\u4f5c\u4e3a\u6807\u8bb0\u503c\u4e4b\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528 JavaScript [\u7b26\u53f7](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol) \u6216 TypeScript[\u679a\u4e3e](https://www.typescriptlang.org/docs/handbook/enums.html)\u3002\\n\\n## 5\u3001class provider: useClass\\n\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u62bd\u8c61\u7684 ConfigService \u7c7b\u3002\u6839\u636e\u5f53\u524d\u73af\u5883\uff0c\u6211\u4eec\u5e0c\u671b Nest \u63d0\u4f9b\u4e0d\u540c\u7684\u914d\u7f6e\u670d\u52a1\u5b9e\u73b0\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u5b9e\u73b0\u4e86\u8fd9\u6837\u7684\u7b56\u7565\u3002\\n\\n```typescript\\nconst configServiceProvider = {\\n  provide: ConfigService,\\n  useClass:\\n    process.env.NODE_ENV === \'development\'\\n      ? DevelopmentConfigService\\n      : ProductionConfigService,\\n};\\n\\n@Module({\\n  providers: [configServiceProvider],\\n})\\nexport class AppModule {}\\n```\\n\\n## 6\u3001factory provider: useFactory\\n\u8be5\u8bed\u6cd5\u5141\u8bb8**\u52a8\u6001**\u521b\u5efa\u63d0\u4f9b\u7a0b\u5e8f\u3002\u5b9e\u9645\u7684\u63d0\u4f9b\u8005\u5c06\u7531\u5de5\u5382\u51fd\u6570\u8fd4\u56de\u7684\u503c\u63d0\u4f9b\uff0c\u5de5\u5382\u672c\u8eab\u53ef\u4ee5\u6ce8\u5165\u5176\u4ed6\u63d0\u4f9b\u7a0b\u5e8f\u3002\u5bf9\u4e8e\u540e\u4e00\u79cd\u60c5\u51b5\uff0c\u5de5\u5382\u63d0\u4f9b\u8005\u8bed\u6cd5\u6709\u4e00\u5bf9\u76f8\u5173\u7684\u673a\u5236\uff1a\\n\\n1. \u5de5\u5382\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\uff08\u53ef\u9009\uff09\u53c2\u6570\u3002\\n2. inject \u5c5e\u6027\u63a5\u53d7\u4e00\u7ec4\u63d0\u4f9b\u8005\uff0cNest \u5c06\u5728\u5b9e\u4f8b\u5316\u8fc7\u7a0b\u4e2d\u89e3\u6790\u5e76\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u5de5\u5382\u51fd\u6570\u3002\u6b64\u5916\uff0c\u8fd9\u4e9b\u63d0\u4f9b\u7a0b\u5e8f\u53ef\u4ee5\u6807\u8bb0\u4e3a\u53ef\u9009\u3002\u8fd9\u4e24\u4e2a\u5217\u8868\u5e94\u8be5\u662f\u76f8\u5173\u7684\uff1aNest \u4f1a\u5c06inject\u5217\u8868\u4e2d\u7684\u5b9e\u4f8b\u4f5c\u4e3a\u53c2\u6570\u4ee5\u76f8\u540c\u7684\u987a\u5e8f\u4f20\u9012\u7ed9\u5de5\u5382\u51fd\u6570\u3002\u4e0b\u9762\u7684\u793a\u4f8b\u6f14\u793a\u4e86\u8fd9\u4e00\u70b9\u3002\\n```typescript\\nconst connectionFactory = {\\n  provide: \'CONNECTION\',\\n  useFactory: (optionsProvider: OptionsProvider, optionalProvider?: string) => {\\n    const options = optionsProvider.get();\\n    return new DatabaseConnection(options);\\n  },\\n  inject: [OptionsProvider, { token: \'SomeOptionalProvider\', optional: true }],\\n  //       \\\\_____________/            \\\\__________________/\\n  //        This provider              The provider with this\\n  //        is mandatory.              token can resolves to `undefined`.\\n};\\n\\n@Module({\\n  providers: [\\n    connectionFactory,\\n    OptionsProvider,\\n    // { provide: \'SomeOptionalProvider\', useValue: \'anything\' },\\n  ],\\n})\\nexport class AppModule {}\\n```\\n\\n## 7\u3001alias provider\uff1auseExisting\\n\u8be5useExisting\u8bed\u6cd5\u5141\u8bb8\u60a8\u4e3a\u73b0\u6709\u63d0\u4f9b\u7a0b\u5e8f\u521b\u5efa\u522b\u540d\u3002\u8fd9\u521b\u5efa\u4e86\u4e24\u79cd\u8bbf\u95ee\u540c\u4e00\u63d0\u4f9b\u7a0b\u5e8f\u7684\u65b9\u6cd5\u3002\u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\uff08\u57fa\u4e8e\u5b57\u7b26\u4e32\u7684\uff09\u6807\u8bb0\'AliasedLoggerService\'\u662f\uff08\u57fa\u4e8e\u7c7b\u7684\uff09\u6807\u8bb0\u7684\u522b\u540dLoggerService\u3002\u5047\u8bbe\u6211\u4eec\u6709\u4e24\u4e2a\u4e0d\u540c\u7684\u4f9d\u8d56\u9879\uff0c\u4e00\u4e2a for\'AliasedLoggerService\'\u548c\u4e00\u4e2a for LoggerService\u3002\u5982\u679c\u4e24\u4e2a\u4f9d\u8d56\u9879\u90fd\u6307\u5b9a\u4e86SINGLETON\u8303\u56f4\uff0c\u5b83\u4eec\u90fd\u5c06\u89e3\u6790\u4e3a\u540c\u4e00\u4e2a\u5b9e\u4f8b\u3002\\n\\n```typescript\\n@Injectable()\\nclass LoggerService {\\n  /* implementation details */\\n}\\n\\nconst loggerAliasProvider = {\\n  provide: \'AliasedLoggerService\',\\n  useExisting: LoggerService,\\n};\\n\\n@Module({\\n  providers: [LoggerService, loggerAliasProvider],\\n})\\nexport class AppModule {}\\n```\\n\\n## 8\u3001\u975e\u670d\u52a1\u63d0\u4f9b\u5546\\n\u867d\u7136\u4f9b\u5e94\u5546\u7ecf\u5e38\u63d0\u4f9b\u670d\u52a1\uff0c\u4f46\u4ed6\u4eec\u5e76\u4e0d\u5c40\u9650\u4e8e\u8fd9\u79cd\u7528\u9014\u3002\u63d0\u4f9b\u8005\u53ef\u4ee5\u63d0\u4f9b**\u4efb\u4f55**\u4ef7\u503c\u3002\u4f8b\u5982\uff0c\u63d0\u4f9b\u8005\u53ef\u80fd\u4f1a\u6839\u636e\u5f53\u524d\u73af\u5883\u63d0\u4f9b\u4e00\u7ec4\u914d\u7f6e\u5bf9\u8c61\uff0c\u5982\u4e0b\u6240\u793a\uff1a\\n\\n```typescript\\nconst configFactory = {\\n  provide: \'CONFIG\',\\n  useFactory: () => {\\n    return process.env.NODE_ENV === \'development\' ? devConfig : prodConfig;\\n  },\\n};\\n\\n@Module({\\n  providers: [configFactory],\\n})\\nexport class AppModule {}\\n```\\n\\n## 9\u3001\u5bfc\u51fa\u81ea\u5b9a\u4e49\u63d0\u4f9b\u7a0b\u5e8f\\n\u4e0e\u4efb\u4f55\u63d0\u4f9b\u8005\u4e00\u6837\uff0c\u81ea\u5b9a\u4e49\u63d0\u4f9b\u8005\u7684\u8303\u56f4\u4ec5\u9650\u4e8e\u5176\u58f0\u660e\u6a21\u5757\u3002\u8981\u4f7f\u5176\u5bf9\u5176\u4ed6\u6a21\u5757\u53ef\u89c1\uff0c\u5fc5\u987b\u5c06\u5176\u5bfc\u51fa\u3002\u8981\u5bfc\u51fa\u81ea\u5b9a\u4e49\u63d0\u4f9b\u8005\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5176\u4ee4\u724c\u6216\u5b8c\u6574\u7684\u63d0\u4f9b\u8005\u5bf9\u8c61\u3002\u4ee5\u4e0b\u793a\u4f8b\u663e\u793a\u4f7f\u7528\u4ee4\u724c\u5bfc\u51fa\uff1a\\n```typescript\\nconst connectionFactory = {\\n  provide: \'CONNECTION\',\\n  useFactory: (optionsProvider: OptionsProvider) => {\\n    const options = optionsProvider.get();\\n    return new DatabaseConnection(options);\\n  },\\n  inject: [OptionsProvider],\\n};\\n\\n@Module({\\n  providers: [connectionFactory],\\n  exports: [\'CONNECTION\'],\\n})\\nexport class AppModule {}\\n```\\n\\n\u6216\u8005\uff0c\u4f7f\u7528\u5b8c\u6574\u7684\u63d0\u4f9b\u8005\u5bf9\u8c61\u5bfc\u51fa\uff1a\\n```typescript\\nconst connectionFactory = {\\n  provide: \'CONNECTION\',\\n  useFactory: (optionsProvider: OptionsProvider) => {\\n    const options = optionsProvider.get();\\n    return new DatabaseConnection(options);\\n  },\\n  inject: [OptionsProvider],\\n};\\n\\n@Module({\\n  providers: [connectionFactory],\\n  exports: [connectionFactory],\\n})\\nexport class AppModule {}\\n```\\n\\n## 10\u3001\u5f02\u6b65\u63d0\u4f9b\u8005\\n\u6709\u65f6\uff0c\u5e94\u5ef6\u8fdf\u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\uff0c\u76f4\u5230\u5b8c\u6210\u4e00\u4e2a\u6216\u591a\u4e2a**\u5f02\u6b65\u4efb\u52a1**\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u80fd\u4e0d\u60f3\u5728\u4e0e\u6570\u636e\u5e93\u7684\u8fde\u63a5\u5efa\u7acb\u4e4b\u524d\u5f00\u59cb\u63a5\u53d7\u8bf7\u6c42\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u5f02\u6b65\u63d0\u4f9b\u7a0b\u5e8f\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002\\n```typescript\\n{\\n  provide: \'ASYNC_CONNECTION\',\\n  useFactory: async () => {\\n    const connection = await createConnection(options);\\n    return connection;\\n  },\\n}\\n```\\n","isLeaf":true},{"key":"/NodeJS/04 nestjs/12-core-middleware.md","path":"/NodeJS/04 nestjs/12-core-middleware.md","route":"/NodeJS/04 nestjs/12-core-middleware.md","leaf":true,"title":"12-core-middleware","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\ntitle: 12 \u4e2d\u95f4\u4ef6 Middleware\\n---\\n\\n\u4e2d\u95f4\u4ef6\u662f\u5728\u8def\u7531\u5904\u7406\u7a0b\u5e8f **\u4e4b\u524d** \u8c03\u7528\u7684\u51fd\u6570\u3002 \u4e2d\u95f4\u4ef6\u51fd\u6570\u53ef\u4ee5\u8bbf\u95ee\u8bf7\u6c42\u548c\u54cd\u5e94\u5bf9\u8c61\uff0c\u4ee5\u53ca\u5e94\u7528\u7a0b\u5e8f\u8bf7\u6c42\u54cd\u5e94\u5468\u671f\u4e2d\u7684 `next()` \u4e2d\u95f4\u4ef6\u51fd\u6570\u3002 `next()` \u4e2d\u95f4\u4ef6\u51fd\u6570\u901a\u5e38\u7531\u540d\u4e3a `next` \u7684\u53d8\u91cf\u8868\u793a\u3002\\n\\n![20230606154242](http://s3.airtlab.com/blog/20230606154242.png)\\n\\nNest \u4e2d\u95f4\u4ef6\u5b9e\u9645\u4e0a\u7b49\u4ef7\u4e8e [express](http://expressjs.com/en/guide/using-middleware.html) \u4e2d\u95f4\u4ef6\u3002 \u4e0b\u9762\u662fExpress\u5b98\u65b9\u6587\u6863\u4e2d\u6240\u8ff0\u7684\u4e2d\u95f4\u4ef6\u529f\u80fd\uff1a\\n\u4e2d\u95f4\u4ef6\u51fd\u6570\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u4efb\u52a1:\\n\\n- \u6267\u884c\u4efb\u4f55\u4ee3\u7801\u3002\\n- \u5bf9\u8bf7\u6c42\u548c\u54cd\u5e94\u5bf9\u8c61\u8fdb\u884c\u66f4\u6539\u3002\\n- \u7ed3\u675f\u8bf7\u6c42-\u54cd\u5e94\u5468\u671f\u3002\\n- \u8c03\u7528\u5806\u6808\u4e2d\u7684\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u51fd\u6570\u3002\\n- \u5982\u679c\u5f53\u524d\u7684\u4e2d\u95f4\u4ef6\u51fd\u6570\u6ca1\u6709\u7ed3\u675f\u8bf7\u6c42-\u54cd\u5e94\u5468\u671f, \u5b83\u5fc5\u987b\u8c03\u7528 `next()` \u5c06\u63a7\u5236\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u51fd\u6570\u3002\u5426\u5219, \u8bf7\u6c42\u5c06\u88ab\u6302\u8d77\u3002\\n\\n## \u7c7b\u4e2d\u95f4\u4ef6\\n\\n```typescript\\nimport { Module, NestModule, MiddlewareConsumer } from \'@nestjs/common\';\\nimport { AppController } from \'./app.controller\';\\nimport { AppService } from \'./app.service\';\\nimport { ProductController } from \'./product/product.controller\';\\nimport { NewsController } from \'./news/news.controller\';\\nimport { NewsService } from \'./news/news.service\';\\nimport { SessionController } from \'./session/session.controller\';\\nimport { UploadController } from \'./upload/upload.controller\';\\n\\nimport { LoggerMiddleware } from \'./middleware/logger.middleware\';\\nimport { UserMiddleware } from \'./middleware/user.middleware\';\\n\\n@Module({\\n  imports: [],\\n  controllers: [AppController, ProductController, NewsController, SessionController, UploadController],\\n  providers: [AppService, NewsService],\\n})\\nexport class AppModule implements NestModule {\\n  configure(consumer: MiddlewareConsumer) {\\n    consumer\\n      .apply(LoggerMiddleware)\\n      .forRoutes(\'*\')\\n      .apply(UserMiddleware)\\n      .forRoutes(\'product\')\\n  }\\n}\\n```\\n\\n**\u4e2d\u95f4\u4ef6\u4ee3\u7801**\\n\\n```typescript\\nimport { Injectable, NestMiddleware } from \'@nestjs/common\';\\nimport { Request, Response } from \'express\';\\n\\n@Injectable()\\nexport class LoggerMiddleware implements NestMiddleware {\\n  async use(req: Request, res: Response, next: Function) {\\n    console.log(\'logger start \' + Date.now());\\n    await next();\\n    console.log(\'logger end \' + Date.now());\\n  }\\n}\\n```\\n\\n## \u51fd\u6570\u5f0f\u4e2d\u95f4\u4ef6\\n```typescript\\nexport function logger(req, res, next) {\\n  console.log(`Request...`);\\n  next();\\n};\\n```\\n\\n## \u5168\u5c40\u4e2d\u95f4\u4ef6 (\u53ea\u80fd\u662f\u51fd\u6570\u4e2d\u95f4\u4ef6)\\n\u5168\u5c40\u4e2d\u95f4\u4ef6\u53ea\u80fd\u662f\u51fd\u6570\u4e2d\u95f4\u4ef6\uff0c\u4e0d\u80fd\u662f\u7c7b\u4e2d\u95f4\u4ef6\u3002\u5982\u679c\u6211\u4eec\u60f3\u4e00\u6b21\u6027\u5c06\u4e2d\u95f4\u4ef6\u7ed1\u5b9a\u5230\u6bcf\u4e2a\u6ce8\u518c\u8def\u7531\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7531`INestApplication`\u5b9e\u4f8b\u63d0\u4f9b\u7684 `use()`\u65b9\u6cd5\uff1a\\n\\n```typescript\\nconst app = await NestFactory.create(AppModule);\\napp.use(logger);\\nawait app.listen(3000);\\n```\\n","isLeaf":true},{"key":"/NodeJS/04 nestjs/13-ExceptionFilters.md","path":"/NodeJS/04 nestjs/13-ExceptionFilters.md","route":"/NodeJS/04 nestjs/13-ExceptionFilters.md","leaf":true,"title":"13-ExceptionFilters","depth":2,"content":"---\\ntitle: 13 \u5f02\u5e38\u8fc7\u6ee4\u5668 ExceptionFilter\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n\u5185\u7f6e\u7684\u5f02\u5e38\u5c42\u8d1f\u8d23\u5904\u7406\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u6240\u6709\u629b\u51fa\u7684\u5f02\u5e38\u3002\u5f53\u6355\u83b7\u5230\u672a\u5904\u7406\u7684\u5f02\u5e38\u65f6\uff0c\u6700\u7ec8\u7528\u6237\u5c06\u6536\u5230\u53cb\u597d\u7684\u54cd\u5e94\u3002\\n```typescript\\nlogger1-middleware before...\\nlogger2-middleware before...\\nAuthGuard\\nlogger2-middleware after...\\nlogger1-middleware after...\\n\\nLoggingInterceptor Before...\\nValidationPipe\\nAllExceptionsFilter\\n\\n# LoggingInterceptor After... \u672a\u6267\u884c\\n```\\n\\n## 1\u3001\u9ed8\u8ba4\u5f02\u5e38\u8fc7\u6ee4\u5668 \\n\u5f00\u7bb1\u5373\u7528\uff0c\u6b64\u64cd\u4f5c\u7531\u5185\u7f6e\u7684\u5168\u5c40\u5f02\u5e38\u8fc7\u6ee4\u5668\u6267\u884c\uff0c\u8be5\u8fc7\u6ee4\u5668\u5904\u7406\u7c7b\u578b HttpException\uff08\u53ca\u5176\u5b50\u7c7b\uff09\u7684\u5f02\u5e38\u3002\u6bcf\u4e2a\u53d1\u751f\u7684\u5f02\u5e38\u90fd\u7531\u5168\u5c40\u5f02\u5e38\u8fc7\u6ee4\u5668\u5904\u7406, \u5f53\u8fd9\u4e2a\u5f02\u5e38\u65e0\u6cd5\u88ab\u8bc6\u522b\u65f6 (\u65e2\u4e0d\u662f HttpException \u4e5f\u4e0d\u662f\u7ee7\u627f\u7684\u7c7b HttpException ) , \u7528\u6237\u5c06\u6536\u5230\u4ee5\u4e0b JSON \u54cd\u5e94:\\n```typescript\\n{\\n    \\"statusCode\\": 500,\\n    \\"message\\": \\"Internal server error\\"\\n}\\n```\\n\\n## 2\u3001\u5185\u7f6eHTTP\u5f02\u5e38\\n\u4e3a\u4e86\u51cf\u5c11\u6837\u677f\u4ee3\u7801\uff0cNest \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7ee7\u627f\u81ea\u6838\u5fc3\u5f02\u5e38 HttpException \u7684\u53ef\u7528\u5f02\u5e38\u3002\u6240\u6709\u8fd9\u4e9b\u90fd\u53ef\u4ee5\u5728 @nestjs/common\u5305\u4e2d\u627e\u5230\uff1a\\n\\n- BadRequestException\\n- UnauthorizedException\\n- NotFoundException\\n- ForbiddenException\\n- NotAcceptableException\\n- RequestTimeoutException\\n- ConflictException\\n- GoneException\\n- PayloadTooLargeException\\n- UnsupportedMediaTypeException\\n- UnprocessableException\\n- InternalServerErrorException\\n- NotImplementedException\\n- BadGatewayException\\n- ServiceUnavailableException\\n- GatewayTimeoutException\\n  \\n## 3\u3001\u81ea\u5b9a\u4e49\u5f02\u5e38\u8fc7\u6ee4\u5668\\n\u867d\u7136\u57fa\u672c\uff08\u5185\u7f6e\uff09\u5f02\u5e38\u8fc7\u6ee4\u5668\u53ef\u4ee5\u4e3a\u60a8\u81ea\u52a8\u5904\u7406\u8bb8\u591a\u60c5\u51b5\uff0c\u4f46\u6709\u65f6\u60a8\u53ef\u80fd\u5e0c\u671b\u5bf9\u5f02\u5e38\u5c42\u62e5\u6709**\u5b8c\u5168\u63a7\u5236\u6743**\uff0c\u4f8b\u5982\uff0c\u60a8\u53ef\u80fd\u8981\u6dfb\u52a0\u65e5\u5fd7\u8bb0\u5f55\u6216\u57fa\u4e8e\u4e00\u4e9b\u52a8\u6001\u56e0\u7d20\u4f7f\u7528\u5176\u4ed6 JSON\u6a21\u5f0f\u3002 **\u5f02\u5e38\u8fc7\u6ee4\u5668**\u6b63\u662f\u4e3a\u6b64\u76ee\u7684\u800c\u8bbe\u8ba1\u7684\u3002 \u5b83\u4eec\u4f7f\u60a8\u53ef\u4ee5\u63a7\u5236\u7cbe\u786e\u7684\u63a7\u5236\u6d41\u4ee5\u53ca\u5c06\u54cd\u5e94\u7684\u5185\u5bb9\u53d1\u9001\u56de\u5ba2\u6237\u7aef\u3002\\n\\n\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u5f02\u5e38\u8fc7\u6ee4\u5668\uff0c\u5b83\u8d1f\u8d23\u6355\u83b7\u4f5c\u4e3aHttpException\u7c7b\u5b9e\u4f8b\u7684\u5f02\u5e38\uff0c\u5e76\u4e3a\u5b83\u4eec\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u54cd\u5e94\u903b\u8f91\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u9700\u8981\u8bbf\u95ee\u5e95\u5c42\u5e73\u53f0 Request\u548c Response\u3002\u6211\u4eec\u5c06\u8bbf\u95eeRequest\u5bf9\u8c61\uff0c\u4ee5\u4fbf\u63d0\u53d6\u539f\u59cb url\u5e76\u5c06\u5176\u5305\u542b\u5728\u65e5\u5fd7\u4fe1\u606f\u4e2d\u3002\u6211\u4eec\u5c06\u4f7f\u7528 Response.json()\u65b9\u6cd5\uff0c\u4f7f\u7528 Response\u5bf9\u8c61\u76f4\u63a5\u63a7\u5236\u53d1\u9001\u7684\u54cd\u5e94\u3002\\n\\n```typescript\\nimport { ExceptionFilter, Catch, ArgumentsHost, HttpException } from \'@nestjs/common\';\\nimport { Request, Response } from \'express\';\\n\\n@Catch(HttpException)\\nexport class HttpExceptionFilter implements ExceptionFilter {\\n  catch(exception: HttpException, host: ArgumentsHost) {\\n    const ctx = host.switchToHttp();\\n    const response = ctx.getResponse<Response>();\\n    const request = ctx.getRequest<Request>();\\n    const status = exception.getStatus();\\n\\n    response\\n      .status(status)\\n      .json({\\n        statusCode: status,\\n        timestamp: new Date().toISOString(),\\n        path: request.url,\\n      });\\n  }\\n}\\n```\\n@Catch() \u88c5\u9970\u5668\u7ed1\u5b9a\u6240\u9700\u7684\u5143\u6570\u636e\u5230\u5f02\u5e38\u8fc7\u6ee4\u5668\u4e0a\u3002\u5b83\u544a\u8bc9 Nest\u8fd9\u4e2a\u7279\u5b9a\u7684\u8fc7\u6ee4\u5668\u6b63\u5728\u5bfb\u627e HttpException \u800c\u4e0d\u662f\u5176\u4ed6\u7684\u3002\u5728\u5b9e\u8df5\u4e2d\uff0c@Catch() \u53ef\u4ee5\u4f20\u9012\u591a\u4e2a\u53c2\u6570\uff0c\u6240\u4ee5\u4f60\u53ef\u4ee5\u901a\u8fc7\u9017\u53f7\u5206\u9694\u6765\u4e3a\u591a\u4e2a\u7c7b\u578b\u7684\u5f02\u5e38\u8bbe\u7f6e\u8fc7\u6ee4\u5668\u3002\\n\\n## 4\u3001\u6355\u83b7\u4efb\u610f\u5f02\u5e38\\n```typescript\\nimport {\\n  ExceptionFilter,\\n  Catch,\\n  ArgumentsHost,\\n  HttpException,\\n  HttpStatus,\\n} from \'@nestjs/common\';\\n\\n@Catch()\\nexport class AllExceptionsFilter implements ExceptionFilter {\\n  catch(exception: unknown, host: ArgumentsHost) {\\n    const ctx = host.switchToHttp();\\n    const response = ctx.getResponse();\\n    const request = ctx.getRequest();\\n\\n    const status =\\n      exception instanceof HttpException\\n        ? exception.getStatus()\\n        : HttpStatus.INTERNAL_SERVER_ERROR;\\n\\n    response.status(status).json({\\n      statusCode: status,\\n      timestamp: new Date().toISOString(),\\n      path: request.url,\\n    });\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/NodeJS/04 nestjs/14-NestInterceptor.md","path":"/NodeJS/04 nestjs/14-NestInterceptor.md","route":"/NodeJS/04 nestjs/14-NestInterceptor.md","leaf":true,"title":"14-NestInterceptor","depth":2,"content":"---\\ntitle: 14 \u62e6\u622a\u5668 (NestInterceptor)\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n\u62e6\u622a\u5668\u662f\u4e00\u4e2a\u7528 @Injectable() \u88c5\u9970\u5668\u6ce8\u89e3\u5e76\u5b9e\u73b0 NestInterceptor \u63a5\u53e3\u7684\u7c7b\u3002\\n\\n![20230606154845](http://s3.airtlab.com/blog/20230606154845.png)\\n\\n```typescript\\nlogger1-middleware before...\\nlogger2-middleware before...\\nAuthGuard\\nlogger2-middleware after...\\nlogger1-middleware after...\\n\\nLoggingInterceptor Before...\\nValidationPipe\\nLoggingInterceptor After... 1ms\\n```\\n\\n[\u62e6\u622a\u5668\u5177\u6709\u4e00\u7ec4\u53d7\u9762\u5411\u65b9\u9762\u7f16\u7a0b](https://en.wikipedia.org/wiki/Aspect-oriented_programming)(AOP) \u6280\u672f\u542f\u53d1\u7684\u6709\u7528\u529f\u80fd\u3002\u5b83\u4eec\u53ef\u4ee5\uff1a\\n\\n- \u5728\u65b9\u6cd5\u6267\u884c\u4e4b\u524d/\u4e4b\u540e\u7ed1\u5b9a\u989d\u5916\u7684\u903b\u8f91\\n- \u8f6c\u6362\u4ece\u51fd\u6570\u8fd4\u56de\u7684\u7ed3\u679c\\n- \u8f6c\u6362\u51fd\u6570\u629b\u51fa\u7684\u5f02\u5e38\\n- \u6269\u5c55\u57fa\u672c\u529f\u80fd\u884c\u4e3a\\n- \u6839\u636e\u7279\u5b9a\u6761\u4ef6\u5b8c\u5168\u8986\u76d6\u51fd\u6570\uff08\u4f8b\u5982\uff0c\u51fa\u4e8e\u7f13\u5b58\u76ee\u7684\uff09\\n\\n## 1\u3001\u62e6\u622a\u5668\u4e09\u90e8\u5206\\n### intercept \u65b9\u6cd5\\n\u6bcf\u4e2a\u62e6\u622a\u5668\u90fd\u5b9e\u73b0\u8be5intercept()\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u662f\u5b9e\u4f8b\uff08\u4e0e[guards](https://docs.nestjs.com/guards)ExecutionContext\u5b8c\u5168\u76f8\u540c\u7684\u5bf9\u8c61\uff09\u3002\u7ee7\u627f\u81ea. \u6211\u4eec\u4e4b\u524d\u5728\u5f02\u5e38\u8fc7\u6ee4\u5668\u7ae0\u8282\u4e2d\u770b\u5230\u8fc7\u3002\u5728\u90a3\u91cc\uff0c\u6211\u4eec\u770b\u5230\u5b83\u662f\u4f20\u9012\u7ed9\u539f\u59cb\u5904\u7406\u7a0b\u5e8f\u7684\u53c2\u6570\u7684\u5305\u88c5\u5668\uff0c\u5e76\u4e14\u5305\u542b\u57fa\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7c7b\u578b\u7684\u4e0d\u540c\u53c2\u6570\u6570\u7ec4\u3002\u60a8\u53ef\u4ee5\u53c2\u8003[\u5f02\u5e38\u8fc7\u6ee4\u5668](https://docs.nestjs.com/exception-filters#arguments-host)\u4ee5\u83b7\u53d6\u6709\u5173\u6b64\u4e3b\u9898\u7684\u66f4\u591a\u4fe1\u606f\u3002ExecutionContextArgumentsHostArgumentsHost\\n\\n### \u6267\u884c\u4e0a\u4e0b\u6587\\n\u901a\u8fc7\u6269\u5c55ArgumentsHost\uff0cExecutionContext\u8fd8\u6dfb\u52a0\u4e86\u51e0\u4e2a\u65b0\u7684\u8f85\u52a9\u65b9\u6cd5\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u63d0\u4f9b\u4e86\u6709\u5173\u5f53\u524d\u6267\u884c\u8fc7\u7a0b\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u3002\u8fd9\u4e9b\u7ec6\u8282\u6709\u52a9\u4e8e\u6784\u5efa\u66f4\u901a\u7528\u7684\u62e6\u622a\u5668\uff0c\u8fd9\u4e9b\u62e6\u622a\u5668\u53ef\u4ee5\u8de8\u5e7f\u6cdb\u7684\u63a7\u5236\u5668\u3001\u65b9\u6cd5\u548c\u6267\u884c\u4e0a\u4e0b\u6587\u5de5\u4f5c\u3002ExecutionContext[\u5728\u6b64\u5904](https://docs.nestjs.com/fundamentals/execution-context)\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002\\n\\n### \u8c03\u7528\u5904\u7406\u7a0b\u5e8f\\n\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2aCallHandler\u3002\u8be5CallHandler\u63a5\u53e3\u5b9e\u73b0\u4e86\u8be5handle()\u65b9\u6cd5\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u8be5\u65b9\u6cd5\u5728\u62e6\u622a\u5668\u4e2d\u7684\u67d0\u4e2a\u4f4d\u7f6e\u8c03\u7528\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u65b9\u6cd5\u3002handle()\u5982\u679c\u60a8\u5728\u65b9\u6cd5\u7684\u5b9e\u73b0\u4e2d\u4e0d\u8c03\u7528\u8be5\u65b9\u6cd5intercept()\uff0c\u5219\u6839\u672c\u4e0d\u4f1a\u6267\u884c\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u65b9\u6cd5\u3002\\n```typescript\\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from \'@nestjs/common\';\\nimport { Observable } from \'rxjs\';\\nimport { tap } from \'rxjs/operators\';\\n\\n@Injectable()\\nexport class LoggingInterceptor implements NestInterceptor {\\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\\n    console.log(\'Before...\');\\n\\n    const now = Date.now();\\n    return next\\n      .handle()\\n      .pipe(\\n        tap(() => console.log(`After... ${Date.now() - now}ms`)),\\n      );\\n  }\\n}\\n```\\n\\n### \u7ed1\u5b9a\u62e6\u622a\u5668\\n\u4e3a\u4e86\u8bbe\u7f6e\u62e6\u622a\u5668\uff0c\u6211\u4eec\u4f7f\u7528\u4ece\u5305\u4e2d@UseInterceptors()\u5bfc\u5165\u7684\u88c5\u9970\u5668\u3002@nestjs/common\u50cf[\u7ba1\u9053](https://docs.nestjs.com/pipes)\u548c[\u5b88\u536b](https://docs.nestjs.com/guards)\u4e00\u6837\uff0c\u62e6\u622a\u5668\u53ef\u4ee5\u662f\u63a7\u5236\u5668\u8303\u56f4\u7684\u3001\u65b9\u6cd5\u8303\u56f4\u7684\u6216\u5168\u5c40\u8303\u56f4\u7684\u3002\\n\\n```typescript\\n@UseInterceptors(LoggingInterceptor)\\nexport class CatsController {}\\n```\\n\\n```typescript\\nconst app = await NestFactory.create(AppModule);\\napp.useGlobalInterceptors(new LoggingInterceptor());\\n```\\n\\n## 2\u3001\u4f7f\u7528\u573a\u666f\\n### Response mapping\\n```typescript\\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from \'@nestjs/common\';\\nimport { Observable } from \'rxjs\';\\nimport { map } from \'rxjs/operators\';\\n\\nexport interface Response<T> {\\n  data: T;\\n}\\n\\n@Injectable()\\nexport class TransformInterceptor<T> implements NestInterceptor<T, Response<T>> {\\n  intercept(context: ExecutionContext, next: CallHandler): Observable<Response<T>> {\\n    return next.handle().pipe(map(data => ({ data })));\\n  }\\n}\\n```\\n### Exception mapping\\n```typescript\\nimport {\\n  Injectable,\\n  NestInterceptor,\\n  ExecutionContext,\\n  BadGatewayException,\\n  CallHandler,\\n} from \'@nestjs/common\';\\nimport { Observable, throwError } from \'rxjs\';\\nimport { catchError } from \'rxjs/operators\';\\n\\n@Injectable()\\nexport class ErrorsInterceptor implements NestInterceptor {\\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\\n    return next\\n      .handle()\\n      .pipe(\\n        catchError(err => throwError(() => new BadGatewayException())),\\n      );\\n  }\\n}\\n```\\n\\n### More operators\\n```typescript\\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler, RequestTimeoutException } from \'@nestjs/common\';\\nimport { Observable, throwError, TimeoutError } from \'rxjs\';\\nimport { catchError, timeout } from \'rxjs/operators\';\\n\\n@Injectable()\\nexport class TimeoutInterceptor implements NestInterceptor {\\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\\n    return next.handle().pipe(\\n      timeout(5000),\\n      catchError(err => {\\n        if (err instanceof TimeoutError) {\\n          return throwError(() => new RequestTimeoutException());\\n        }\\n        return throwError(() => err);\\n      }),\\n    );\\n  };\\n};\\n```\\n","isLeaf":true},{"key":"/NodeJS/04 nestjs/15-Guard.md","path":"/NodeJS/04 nestjs/15-Guard.md","route":"/NodeJS/04 nestjs/15-Guard.md","leaf":true,"title":"15-Guard","depth":2,"content":"---\\ntitle: 15 \u5b88\u536b Guard\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n\u5b88\u536b\u662f\u4e00\u4e2a\u4f7f\u7528 `@Injectable()` \u88c5\u9970\u5668\u7684\u7c7b\u3002 \u5b88\u536b\u5e94\u8be5\u5b9e\u73b0 `CanActivate` \u63a5\u53e3\u3002\\n\\n![20230606155201](http://s3.airtlab.com/blog/20230606155201.png)\\n\\n\u5b88\u536b\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u8d23\u4efb\u3002\u5b83\u4eec\u6839\u636e\u8fd0\u884c\u65f6\u51fa\u73b0\u7684\u67d0\u4e9b\u6761\u4ef6\uff08\u4f8b\u5982\u6743\u9650\uff0c\u89d2\u8272\uff0c\u8bbf\u95ee\u63a7\u5236\u5217\u8868\u7b49\uff09\u6765\u786e\u5b9a\u7ed9\u5b9a\u7684\u8bf7\u6c42\u662f\u5426\u7531\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u5904\u7406\u3002 \u8fd9\u901a\u5e38\u79f0\u4e3a\u6388\u6743\u3002\u5728\u4f20\u7edf\u7684 `Express` \u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u901a\u5e38\u7531\u4e2d\u95f4\u4ef6\u5904\u7406\u6388\u6743\u3002\u4e2d\u95f4\u4ef6\u662f\u8eab\u4efd\u9a8c\u8bc1\u7684\u826f\u597d\u9009\u62e9\u3002\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u8bbf\u95ee\u9650\u5236\u903b\u8f91\u5927\u591a\u5728\u4e2d\u95f4\u4ef6\u5185\u3002\u8fd9\u6837\u5f88\u597d\uff0c\u56e0\u4e3a\u8bf8\u5982 `token` \u9a8c\u8bc1\u6216\u5c06 `request` \u5bf9\u8c61\u9644\u52a0\u5c5e\u6027\u4e0e\u7279\u5b9a\u8def\u7531\u6ca1\u6709\u5f3a\u5173\u8054\u3002\\n\\n\u4e2d\u95f4\u4ef6\u4e0d\u77e5\u9053\u8c03\u7528 `next()` \u51fd\u6570\u540e\u4f1a\u6267\u884c\u54ea\u4e2a\u5904\u7406\u7a0b\u5e8f\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u8b66\u536b\u53ef\u4ee5\u8bbf\u95ee `ExecutionContext` \u5b9e\u4f8b\uff0c\u56e0\u6b64\u786e\u5207\u5730\u77e5\u9053\u63a5\u4e0b\u6765\u8981\u6267\u884c\u4ec0\u4e48\u3002\u5b83\u4eec\u7684\u8bbe\u8ba1\u4e0e\u5f02\u5e38\u8fc7\u6ee4\u5668\u3001\u7ba1\u9053\u548c\u62e6\u622a\u5668\u975e\u5e38\u76f8\u4f3c\uff0c\u76ee\u7684\u662f\u8ba9\u60a8\u5728\u8bf7\u6c42/\u54cd\u5e94\u5468\u671f\u7684\u6b63\u786e\u4f4d\u7f6e\u63d2\u5165\u5904\u7406\u903b\u8f91\uff0c\u5e76\u4ee5\u58f0\u660e\u7684\u65b9\u5f0f\u8fdb\u884c\u63d2\u5165\u3002\u8fd9\u6709\u52a9\u4e8e\u4fdd\u6301\u4ee3\u7801\u7684\u7b80\u6d01\u548c\u58f0\u660e\u6027\u3002\\n\\n## 1\u3001\u6267\u884c\u65f6\u673a\\n\u5b88\u536b\u5728\u6240\u6709\u4e2d\u95f4\u4ef6\u4e4b\u540e\u6267\u884c\uff0c\u4f46\u5728\u4efb\u4f55\u62e6\u622a\u5668\u6216\u7ba1\u9053\u4e4b\u524d\u3002\\n```\\nlogger1-middleware before...\\nlogger2-middleware before...\\nAuthGuard\\nlogger2-middleware after...\\nlogger1-middleware after...\\nValidationPipe \\n```\\n\\n## 2\u3001\u6267\u884c\u4e0a\u4e0b\u6587\\n\u8be5canActivate()\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u5373ExecutionContext\u5b9e\u4f8b\u3002ExecutionContext\u7ee7\u627f\u81eaArgumentsHost. ArgumentsHost\u6211\u4eec\u4e4b\u524d\u5728\u5f02\u5e38\u8fc7\u6ee4\u5668\u7ae0\u8282\u4e2d\u770b\u5230\u8fc7\u3002\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u53ea\u662f\u4f7f\u7528ArgumentsHost\u4e4b\u524d\u5b9a\u4e49\u7684\u76f8\u540c\u5e2e\u52a9\u65b9\u6cd5\u6765\u83b7\u53d6\u5bf9Request\u5bf9\u8c61\u7684\u5f15\u7528\u3002\u6709\u5173\u6b64\u4e3b\u9898\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003[\u5f02\u5e38\u8fc7\u6ee4\u5668\u4e00\u7ae0\u7684](https://docs.nestjs.com/exception-filters#arguments-host)\u53c2\u6570\u4e3b\u673a\u90e8\u5206\u3002\\n\\n\u901a\u8fc7\u6269\u5c55ArgumentsHost\uff0cExecutionContext\u8fd8\u6dfb\u52a0\u4e86\u51e0\u4e2a\u65b0\u7684\u8f85\u52a9\u65b9\u6cd5\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u63d0\u4f9b\u4e86\u6709\u5173\u5f53\u524d\u6267\u884c\u8fc7\u7a0b\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u3002\u8fd9\u4e9b\u7ec6\u8282\u6709\u52a9\u4e8e\u6784\u5efa\u66f4\u901a\u7528\u7684\u9632\u62a4\uff0c\u8fd9\u4e9b\u9632\u62a4\u53ef\u4ee5\u5728\u5e7f\u6cdb\u7684\u63a7\u5236\u5668\u3001\u65b9\u6cd5\u548c\u6267\u884c\u4e0a\u4e0b\u6587\u4e2d\u5de5\u4f5c\u3002ExecutionContext[\u5728\u6b64\u5904](https://docs.nestjs.com/fundamentals/execution-context)\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002\\n\\n## 3\u3001\u7ed1\u5b9a\u5b88\u536b\\n\u50cf\u7ba1\u9053\u548c\u5f02\u5e38\u8fc7\u6ee4\u5668\u4e00\u6837\uff0c\u5b88\u536b\u53ef\u4ee5\u662f**\u63a7\u5236\u5668\u8303\u56f4\u7684**\u3001\u65b9\u6cd5\u8303\u56f4\u7684\u6216\u5168\u5c40\u8303\u56f4\u7684\u3002\\n\\n## 4\u3001\u57fa\u4e8e\u89d2\u8272\u7684\u8eab\u4efd\u9a8c\u8bc1\\n```typescript\\nimport { SetMetadata } from \'@nestjs/common\';\\nexport const Roles = (...roles: string[]) => SetMetadata(\'roles\', roles);\\n```\\n\\n```typescript\\n@Post()\\n@Roles(\'admin\')\\nasync create(@Body() createCatDto: CreateCatDto) {\\n  this.catsService.create(createCatDto);\\n}\\n```\\n\\n```typescript\\nimport { Injectable, CanActivate, ExecutionContext } from \'@nestjs/common\';\\nimport { Reflector } from \'@nestjs/core\';\\n\\n@Injectable()\\nexport class RolesGuard implements CanActivate {\\n  constructor(private reflector: Reflector) {}\\n\\n  canActivate(context: ExecutionContext): boolean {\\n    const roles = this.reflector.get<string[]>(\'roles\', context.getHandler());\\n    if (!roles) {\\n      return true;\\n    }\\n    const request = context.switchToHttp().getRequest();\\n    const user = request.user;\\n    return matchRoles(roles, user.roles);\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/NodeJS/04 nestjs/16-PipeTransform.md","path":"/NodeJS/04 nestjs/16-PipeTransform.md","route":"/NodeJS/04 nestjs/16-PipeTransform.md","leaf":true,"title":"16-PipeTransform","depth":2,"content":"---\\ntitle: 16 \u6570\u636e\u8f6c\u6362\u7ba1\u9053 PipeTransform\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n\u7ba1\u9053\u662f\u5177\u6709 `@Injectable()` \u88c5\u9970\u5668\u7684\u7c7b\u3002\u7ba1\u9053\u5e94\u5b9e\u73b0 `PipeTransform` \u63a5\u53e3\uff0c\u7ba1\u9053\u6709\u4e24\u4e2a\u7c7b\u578b:\\n\\n- \u8f6c\u6362\uff1a\u7ba1\u9053\u5c06\u8f93\u5165\u6570\u636e\u8f6c\u6362\u4e3a\u6240\u9700\u7684\u6570\u636e\u8f93\u51fa\\n- \u9a8c\u8bc1\uff1a\u5bf9\u8f93\u5165\u6570\u636e\u8fdb\u884c\u9a8c\u8bc1\uff0c\u5982\u679c\u9a8c\u8bc1\u6210\u529f\u7ee7\u7eed\u4f20\u9012; \u9a8c\u8bc1\u5931\u8d25\u5219\u629b\u51fa\u5f02\u5e38;\\n\\n\u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b, \u7ba1\u9053 `\u53c2\u6570(arguments)` \u4f1a\u7531 [\u63a7\u5236\u5668(controllers)\u7684\u8def\u7531\u5904\u7406\u7a0b\u5e8f](https://docs.nestjs.cn/7/controllers?id=%e8%b7%af%e7%94%b1%e5%8f%82%e6%95%b0) \u8fdb\u884c\u5904\u7406. Nest \u4f1a\u5728\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4e4b\u524d\u63d2\u5165\u4e00\u4e2a\u7ba1\u9053\uff0c\u7ba1\u9053\u4f1a\u5148\u62e6\u622a\u65b9\u6cd5\u7684\u8c03\u7528\u53c2\u6570\uff0c\u8fdb\u884c\u8f6c\u6362\u6216\u662f\u9a8c\u8bc1\u5904\u7406\uff0c\u7136\u540e\u7528\u8f6c\u6362\u597d\u6216\u662f\u9a8c\u8bc1\u597d\u7684\u53c2\u6570\u8c03\u7528\u539f\u65b9\u6cd5\u3002\\n\\n> \u7ba1\u9053\u5728\u5f02\u5e38\u533a\u57df\u5185\u8fd0\u884c\u3002\u8fd9\u610f\u5473\u7740\u5f53\u629b\u51fa\u5f02\u5e38\u65f6\uff0c\u5b83\u4eec\u7531\u6838\u5fc3\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u548c\u5e94\u7528\u4e8e\u5f53\u524d\u4e0a\u4e0b\u6587\u7684 [\u5f02\u5e38\u8fc7\u6ee4\u5668](https://docs.nestjs.cn/7/exceptionfilters) \u5904\u7406\u3002\u5f53\u5728 Pipe \u4e2d\u53d1\u751f\u5f02\u5e38\uff0ccontroller \u4e0d\u4f1a\u7ee7\u7eed\u6267\u884c\u4efb\u4f55\u65b9\u6cd5\u3002\\n\\n```typescript\\nimport { Type } from \'../type.interface\';\\nimport { Paramtype } from \'./paramtype.interface\';\\nexport declare type Transform<T = any> = (value: T, metadata: ArgumentMetadata) => any;\\n/**\\n * Interface describing a pipe implementation\'s `transform()` method metadata argument.\\n *\\n * @see [Pipes](https://docs.nestjs.com/pipes)\\n *\\n * @publicApi\\n */\\nexport interface ArgumentMetadata {\\n    /**\\n     * Indicates whether argument is a body, query, param, or custom parameter\\n     */\\n    readonly type: Paramtype;\\n    /**\\n     * Underlying base type (e.g., `String`) of the parameter, based on the type\\n     * definition in the route handler.\\n     */\\n    readonly metatype?: Type<any> | undefined;\\n    /**\\n     * String passed as an argument to the decorator.\\n     * Example: `@Body(\'userId\')` would yield `userId`\\n     */\\n    readonly data?: string | undefined;\\n}\\n\\n/**\\n * Interface describing implementation of a pipe.\\n *\\n * @see [Pipes](https://docs.nestjs.com/pipes)\\n *\\n * @publicApi\\n */\\nexport interface PipeTransform<T = any, R = any> {\\n  /**\\n   * Method to implement a custom pipe.  Called with two parameters\\n   *\\n   * @param value argument before it is received by route handler method\\n   * @param metadata contains metadata about the value\\n   */\\n  transform(value: T, metadata: ArgumentMetadata): R;\\n}\\n```\\n\\n## 1\u3001\u5185\u7f6e\u7ba1\u9053\\nNest \u6709\u4e5d\u4e2a\u5f00\u7bb1\u5373\u7528\u7684\u7ba1\u9053\uff1a\\n- ValidationPipe\\n- ParseIntPipe\\n- ParseFloatPipe\\n- ParseBoolPipe\\n- ParseArrayPipe\\n- ParseUUIDPipe\\n- ParseEnumPipe\\n- DefaultValuePipe\\n- ParseFilePipe\\n\\n\u5b83\u4eec\u662f\u4ece@nestjs/common\u5305\u4e2d\u5bfc\u51fa\u7684\u3002\u8ba9\u6211\u4eec\u5feb\u901f\u6d4f\u89c8\u4e00\u4e0b\u4f7f\u7528 ParseIntPipe. \u8fd9\u662f\u8f6c\u6362\u7528\u4f8b\u7684\u793a\u4f8b\uff0c\u5176\u4e2d\u7ba1\u9053\u786e\u4fdd\u5c06\u65b9\u6cd5\u5904\u7406\u7a0b\u5e8f\u53c2\u6570\u8f6c\u6362\u4e3a JavaScript \u6574\u6570\uff08\u6216\u5728\u8f6c\u6362\u5931\u8d25\u65f6\u5f15\u53d1\u5f02\u5e38\uff09\u3002\\n\\n## 2\u3001\u7ed1\u5b9a\u7ba1\u9053\\n\u8981\u4f7f\u7528\u7ba1\u9053\uff0c\u6211\u4eec\u9700\u8981\u5c06\u7ba1\u9053\u7c7b\u7684\u5b9e\u4f8b\u7ed1\u5b9a\u5230\u9002\u5f53\u7684\u4e0a\u4e0b\u6587\u3002\u5728\u6211\u4eec\u7684 ParseIntPipe \u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5e0c\u671b\u5c06\u7ba1\u9053\u4e0e\u7279\u5b9a\u7684\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u65b9\u6cd5\u76f8\u5173\u8054\uff0c\u5e76\u786e\u4fdd\u5b83\u5728\u8c03\u7528\u8be5\u65b9\u6cd5\u4e4b\u524d\u8fd0\u884c\u3002\\n\\n### 2.1 \u65b9\u6cd5\u53c2\u6570\u7ea7\u522b\u7ed1\u5b9a\u7ba1\u9053\\n```typescript\\n@Get()\\nasync findOne(@Query(\'id\', ParseIntPipe) id: number) {\\n  return this.catsService.findOne(id);\\n}\\n```\\n\\n### 2.2 \u65b9\u6cd5\u8c03\u7528\u7ea7\u522b\u7ed1\u5b9a\u7ba1\u9053\\n\u8fd9\u6837\u4f1a\u6821\u9a8c\u6bcf\u4e2a\u53c2\u6570\\n```typescript\\n@Get()\\n@UsePipes(ParseIntPipe)\\nasync findOne(@Query(\'id\') id: number, @Query(\'age\') age: number) {\\n  return this.catsService.findOne(id);\\n}\\n```\\n\\n## 3\u3001\u540c\u6b65\u548c\u5f02\u6b65\u7ba1\u9053\\nNest \u540c\u65f6\u652f\u6301\u540c\u6b65\u548c\u5f02\u6b65\u7ba1\u9053\uff0c\u63d0\u5347\u7a0b\u5e8f\u7684\u7075\u6d3b\u6027\u3002\\n\\n## 4\u3001\u81ea\u5b9a\u4e49\u7ba1\u9053\\n```typescript\\nimport { PipeTransform, Injectable, ArgumentMetadata } from \'@nestjs/common\';\\n\\n@Injectable()\\nexport class ValidationPipe implements PipeTransform {\\n  transform(value: any, metadata: ArgumentMetadata) {\\n    console.log(222)\\n    return value;\\n  }\\n}\\n```\\n\\n```typescript\\n@Get(\':id\')\\nasync findOne(@Param(\'id\', ValidationPipe) id: number) {\\n  console.log(id)\\n}\\n```\\n\\n## 5\u3001\u6a21\u5f0f\u9a8c\u8bc1\\n```typescript\\nimport { PipeTransform, Injectable, ArgumentMetadata, BadRequestException } from \'@nestjs/common\';\\nimport { ObjectSchema } from \'joi\';\\n\\n@Injectable()\\nexport class JoiValidationPipe implements PipeTransform {\\n  constructor(private schema: ObjectSchema) {}\\n\\n  transform(value: any, metadata: ArgumentMetadata) {\\n    const { error } = this.schema.validate(value);\\n    if (error) {\\n      throw new BadRequestException(\'Validation failed\');\\n    }\\n    return value;\\n  }\\n}\\n```\\n\\n```typescript\\n@Get(\'user\')\\n@UsePipes(new JoiValidationPipe(createCatSchema))\\nasync queryUser(@Query() query: any) {\\n  console.log(query)\\n}\\n```\\n\\n## 6\u3001class-validator\\n```typescript\\nimport { PipeTransform, Injectable, ArgumentMetadata, BadRequestException } from \'@nestjs/common\';\\nimport { validate } from \'class-validator\';\\nimport { plainToInstance } from \'class-transformer\';\\n\\n@Injectable()\\nexport class ValidationPipe implements PipeTransform<any> {\\n  async transform(value: any, { metatype }: ArgumentMetadata) {\\n    console.log(value, metatype)\\n    if (!metatype || !this.toValidate(metatype)) {\\n      return value;\\n    }\\n    const object = plainToInstance(metatype, value);\\n    console.log(object)\\n    const errors = await validate(object);\\n    if (errors.length > 0) {\\n      throw new BadRequestException(\'Validation failed\');\\n    }\\n    return value;\\n  }\\n\\n  private toValidate(metatype: Function): boolean {\\n    const types: Function[] = [String, Boolean, Number, Array, Object];\\n    return !types.includes(metatype);\\n  }\\n}\\n```\\n\\n```typescript\\nimport {\\n  Controller,\\n  Get,\\n  Query,\\n} from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\nimport { ValidationPipe } from \'./ValidationPipe\';\\nimport { IsString, IsInt } from \'class-validator\';\\n\\nclass CreateCatDto {\\n  @IsString()\\n  name: string;\\n\\n  @IsInt()\\n  age: number;\\n}\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get()\\n  async create(@Query(new ValidationPipe()) createCatDto: CreateCatDto) {\\n    console.log(createCatDto)\\n  }\\n}\\n```\\n\\n## 7\u3001\u5168\u5c40\u8303\u56f4\u7684\u7ba1\u9053\\n\u7531\u4e8e ValidationPipe \u521b\u5efa\u7684\u5c3d\u53ef\u80fd\u901a\u7528\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5c06\u5176\u8bbe\u7f6e\u4e3a **\u5168\u5c40\u8303\u56f4\u7684** \u7ba1\u9053\u6765\u5b9e\u73b0\u5b83\u7684\u5b8c\u6574\u5b9e\u7528\u7a0b\u5e8f\uff0c\u4ee5\u4fbf\u5c06\u5176\u5e94\u7528\u4e8e\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u6bcf\u4e2a\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u3002\\n```typescript\\nasync function bootstrap() {\\n  const app = await NestFactory.create(AppModule);\\n  app.useGlobalPipes(new ValidationPipe());\\n  await app.listen(3000);\\n}\\n\\nbootstrap();\\n```\\n\\n## 8\u3001\u5185\u7f6e\u7684 ValidationPipe\\n\u63d0\u9192\u4e00\u4e0b\uff0c\u60a8\u4e0d\u5fc5\u81ea\u5df1\u6784\u5efa\u901a\u7528\u9a8c\u8bc1\u7ba1\u9053\uff0c\u56e0\u4e3a\u5b83 ValidationPipe \u662f\u7531 Nest \u5f00\u7bb1\u5373\u7528\u63d0\u4f9b\u7684\u3002\u5185\u7f6e ValidationPipe \u63d0\u4f9b\u4e86\u6bd4\u6211\u4eec\u5728\u672c\u7ae0\u4e2d\u6784\u5efa\u7684\u793a\u4f8b\u66f4\u591a\u7684\u9009\u9879\uff0c\u4e3a\u4e86\u8bf4\u660e\u5b9a\u5236\u7ba1\u9053\u7684\u673a\u5236\uff0c\u6211\u4eec\u4e00\u76f4\u4fdd\u6301\u57fa\u672c\u3002[\u60a8\u53ef\u4ee5\u5728\u6b64\u5904](https://docs.nestjs.com/techniques/validation)\u627e\u5230\u5b8c\u6574\u7684\u8be6\u7ec6\u4fe1\u606f\u4ee5\u53ca\u5927\u91cf\u793a\u4f8b\u3002","isLeaf":true},{"key":"/NodeJS/04 nestjs/17-Circular-dependency.md","path":"/NodeJS/04 nestjs/17-Circular-dependency.md","route":"/NodeJS/04 nestjs/17-Circular-dependency.md","leaf":true,"title":"17-Circular-dependency","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\nforwardRef\\n\\n```typescript\\n@Injectable()\\nexport class CatsService {\\n  constructor(\\n    @Inject(forwardRef(() => CommonService))\\n    private commonService: CommonService,\\n  ) {}\\n}\\n```\\n\\n```typescript\\n@Injectable()\\nexport class CommonService {\\n  constructor(\\n    @Inject(forwardRef(() => CatsService))\\n    private catsService: CatsService,\\n  ) {}\\n}\\n```\\n","isLeaf":true},{"key":"/NodeJS/04 nestjs/18-ModuleRef.md","path":"/NodeJS/04 nestjs/18-ModuleRef.md","route":"/NodeJS/04 nestjs/18-ModuleRef.md","leaf":true,"title":"18-ModuleRef","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n\u901a\u8fc7 ModuleRef \u6765\u67e5\u627e provider \u800c\u4e0d\u9700\u8981\u5728\u6784\u9020\u51fd\u6570\u4e2d\u4f9d\u8d56\u6ce8\u5165\\n\\n```typescript\\nimport { forwardRef, Inject, Injectable } from \\"@nestjs/common\\";\\nimport { ModuleRef } from \\"@nestjs/core\\";\\nimport { CommonService } from \\"./common.service\\";\\n\\n@Injectable()\\nexport class CatsService {\\n  constructor(\\n    // @Inject(forwardRef(() => CommonService))\\n    // private commonService: CommonService,\\n\\n    private moduleRef: ModuleRef,\\n  ) {\\n    \\n  }\\n\\n  test () {\\n    const s = this.moduleRef.get(CommonService)\\n    s.test()\\n  }\\n}\\n```\\n\\n```typescript\\nimport { forwardRef, Inject, Injectable } from \\"@nestjs/common\\";\\nimport { CatsService } from \\"./cats.service\\";\\n\\n@Injectable()\\nexport class CommonService {\\n  constructor(\\n    @Inject(forwardRef(() => CatsService))\\n    private catsService: CatsService,\\n  ) {}\\n\\n  test () {\\n    console.log(\'common\')\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/NodeJS/04 nestjs/19-Context.md","path":"/NodeJS/04 nestjs/19-Context.md","route":"/NodeJS/04 nestjs/19-Context.md","leaf":true,"title":"19-Context","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n## 1\u3001ArgumentsHost\\n```typescript\\nexport interface ArgumentsHost {\\n  /**\\n   * Returns the array of arguments being passed to the handler.\\n   */\\n  getArgs<T extends Array<any> = any[]>(): T;\\n  /**\\n   * Returns a particular argument by index.\\n   * @param index index of argument to retrieve\\n   */\\n  getArgByIndex<T = any>(index: number): T;\\n  /**\\n   * Switch context to RPC.\\n   * @returns interface with methods to retrieve RPC arguments\\n   */\\n  switchToRpc(): RpcArgumentsHost;\\n  /**\\n   * Switch context to HTTP.\\n   * @returns interface with methods to retrieve HTTP arguments\\n   */\\n  switchToHttp(): HttpArgumentsHost;\\n  /**\\n   * Switch context to WebSockets.\\n   * @returns interface with methods to retrieve WebSockets arguments\\n   */\\n  switchToWs(): WsArgumentsHost;\\n  /**\\n   * Returns the current execution context type (string)\\n   */\\n  getType<TContext extends string = ContextType>(): TContext;\\n}\\n```\\n\\n```typescript\\nexport interface RpcArgumentsHost {\\n  /**\\n   * Returns the data object.\\n   */\\n  getData<T = any>(): T;\\n  /**\\n   * Returns the context object.\\n   */\\n  getContext<T = any>(): T;\\n}\\n```\\n\\n```typescript\\nexport interface HttpArgumentsHost {\\n  /**\\n   * Returns the in-flight `request` object.\\n   */\\n  getRequest<T = any>(): T;\\n  /**\\n   * Returns the in-flight `response` object.\\n   */\\n  getResponse<T = any>(): T;\\n  getNext<T = any>(): T;\\n}\\n```\\n\\n```typescript\\nexport interface WsArgumentsHost {\\n    /**\\n     * Returns the data object.\\n     */\\n    getData<T = any>(): T;\\n    /**\\n     * Returns the client object.\\n     */\\n    getClient<T = any>(): T;\\n}\\n```\\n\\n## 2\u3001ExecutionContext\\n```typescript\\nconst ctx = host.switchToHttp();\\nconst request = ctx.getRequest<Request>();\\nconst response = ctx.getResponse<Response>();\\n```\\n\\n### \u83b7\u53d6\u5f53\u524d controller\\n```typescript\\nexport interface ExecutionContext extends ArgumentsHost {\\n  /**\\n   * Returns the *type* of the controller class which the current handler belongs to.\\n   */\\n  getClass<T = any>(): Type<T>;\\n  /**\\n   * Returns a reference to the handler (method) that will be invoked next in the\\n   * request pipeline.\\n   */\\n  getHandler(): Function;\\n}\\n```\\n\\n### \u83b7\u53d6\u5f53\u524d getHandler\\n```typescript\\nexport interface ExecutionContext extends ArgumentsHost {\\n  /**\\n   * Returns the *type* of the controller class which the current handler belongs to.\\n   */\\n  getClass<T = any>(): Type<T>;\\n  /**\\n   * Returns a reference to the handler (method) that will be invoked next in the\\n   * request pipeline.\\n   */\\n  getHandler(): Function;\\n}\\n```\\n","isLeaf":true},{"key":"/NodeJS/04 nestjs/20-bootstrap.md","path":"/NodeJS/04 nestjs/20-bootstrap.md","route":"/NodeJS/04 nestjs/20-bootstrap.md","leaf":true,"title":"20-bootstrap","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n## 1\u3001\u6267\u884c\u987a\u5e8f\\n\u4e0b\u56fe\u63cf\u8ff0\u4e86\u5173\u952e\u5e94\u7528\u7a0b\u5e8f\u751f\u547d\u5468\u671f\u4e8b\u4ef6\u7684\u987a\u5e8f\uff0c\u4ece\u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\u5230\u8282\u70b9\u8fdb\u7a0b\u9000\u51fa\u3002\u6211\u4eec\u53ef\u4ee5\u5c06\u6574\u4e2a\u751f\u547d\u5468\u671f\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff1a\u521d\u59cb\u5316\u3001\u8fd0\u884c\u548c\u7ec8\u6b62\u3002\u4f7f\u7528\u6b64\u751f\u547d\u5468\u671f\uff0c\u60a8\u53ef\u4ee5\u8ba1\u5212\u6a21\u5757\u548c\u670d\u52a1\u7684\u9002\u5f53\u521d\u59cb\u5316\uff0c\u7ba1\u7406\u6d3b\u52a8\u8fde\u63a5\uff0c\u5e76\u5728\u6536\u5230\u7ec8\u6b62\u4fe1\u53f7\u65f6\u6b63\u5e38\u5173\u95ed\u5e94\u7528\u7a0b\u5e8f\u3002\\n\\n![20230606160440](http://s3.airtlab.com/blog/20230606160440.png)\\n\\n## 2\u3001\u94a9\u5b50\u51fd\u6570\\n\\n\u5728\u4e0b\u8868\u4e2d onModuleDestroy\uff0cbeforeApplicationShutdown \u548c onApplicationShutdown \u4ec5\u5728\u60a8\u663e\u5f0f\u8c03\u7528app.close() \u6216 \u8fdb\u7a0b\u63a5\u6536\u5230\u7279\u6b8a\u7cfb\u7edf\u4fe1\u53f7\uff08\u4f8b\u5982 SIGTERM\uff09\u5e76\u4e14\u60a8 enableShutdownHooks \u5728\u5e94\u7528\u7a0b\u5e8f\u5f15\u5bfc\u65f6\u6b63\u786e\u8c03\u7528\u65f6\u624d\u4f1a\u89e6\u53d1\\n\\n| \u751f\u547d\u5468\u671f\u94a9\u5b50\u65b9\u6cd5 | \u89e6\u53d1\u94a9\u5b50\u65b9\u6cd5\u8c03\u7528\u7684\u751f\u547d\u5468\u671f\u4e8b\u4ef6 |\\n| --- | --- |\\n| onModuleInit() | \u89e3\u6790\u4e3b\u673a\u6a21\u5757\u7684\u4f9d\u8d56\u5173\u7cfb\u540e\u8c03\u7528\u3002 |\\n| onApplicationBootstrap() | \u4e00\u65e6\u6240\u6709\u6a21\u5757\u90fd\u88ab\u521d\u59cb\u5316\uff0c\u4f46\u5728\u76d1\u542c\u8fde\u63a5\u4e4b\u524d\u8c03\u7528\u3002 |\\n| onModuleDestroy()* | \u5728\u63a5\u6536\u5230\u7ec8\u6b62\u4fe1\u53f7\uff08\u4f8b\u5982 \uff09\u540e\u8c03\u7528SIGTERM\u3002 |\\n| beforeApplicationShutdown()* | onModuleDestroy()\u5728\u6240\u6709\u5904\u7406\u7a0b\u5e8f\u5b8c\u6210\u540e\u8c03\u7528\uff08\u627f\u8bfa\u5df2\u89e3\u51b3\u6216\u88ab\u62d2\u7edd\uff09\uff1b\\n\u4e00\u65e6\u5b8c\u6210\uff08\u627f\u8bfa\u89e3\u51b3\u6216\u62d2\u7edd\uff09\uff0c\u6240\u6709\u73b0\u6709\u8fde\u63a5\u5c06\u88ab\u5173\u95ed\uff08app.close()\u8c03\u7528\uff09\u3002 |\\n| onApplicationShutdown()* | \u5728\u8fde\u63a5\u5173\u95ed\uff08app.close()\u89e3\u6790\uff09\u540e\u8c03\u7528\u3002 |\\n\\n### \u4f7f\u7528\u94a9\u5b50\\n```typescript\\nimport { Injectable, OnModuleInit } from \'@nestjs/common\';\\n\\n@Injectable()\\nexport class UsersService implements OnModuleInit {\\n  onModuleInit() {\\n    console.log(`The module has been initialized.`);\\n  }\\n}\\n```\\n\\n### \u5f02\u6b65\u903b\u8f91\\nOnModuleInit\u548c\u94a9\u5b50\u90fdOnApplicationBootstrap\u5141\u8bb8\u60a8\u5ef6\u8fdf\u5e94\u7528\u7a0b\u5e8f\u521d\u59cb\u5316\u8fc7\u7a0b\uff08\u5728\u65b9\u6cd5\u4e3b\u4f53\u4e2d\u8fd4\u56dePromise\u6216\u6807\u8bb0\u65b9\u6cd5async\u548cawait\u5f02\u6b65\u65b9\u6cd5\u5b8c\u6210\uff09\u3002\\n\\n```typescript\\nasync onModuleInit(): Promise<void> {\\n  await this.fetch();\\n}\\n```","isLeaf":true},{"key":"/NodeJS/04 nestjs/21-\u6d45\u8c08NestJS\u8bbe\u8ba1\u601d\u60f3.md","path":"/NodeJS/04 nestjs/21-\u6d45\u8c08NestJS\u8bbe\u8ba1\u601d\u60f3.md","route":"/NodeJS/04 nestjs/21-\u6d45\u8c08NestJS\u8bbe\u8ba1\u601d\u60f3.md","leaf":true,"title":"21-\u6d45\u8c08NestJS\u8bbe\u8ba1\u601d\u60f3","depth":2,"content":"https://justin3go.com/%E5%8D%9A%E5%AE%A2/2023/01/25%E6%B5%85%E8%B0%88NestJS%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3.html","isLeaf":true}]},{"key":"/NodeJS/05 prisma","path":"/NodeJS/05 prisma","route":"/NodeJS/05 prisma","leaf":false,"title":"05 prisma","depth":1,"content":"","isLeaf":false,"children":[{"key":"/NodeJS/05 prisma/01-prisma-usage.md","path":"/NodeJS/05 prisma/01-prisma-usage.md","route":"/NodeJS/05 prisma/01-prisma-usage.md","leaf":true,"title":"01-prisma-usage","depth":2,"content":"## 1\u3001prisma \u7528\u6cd5\\n\\n- quick-start https://www.prisma.io/docs/getting-started/quickstart\\n- https://dev.to/inezabonte/setting-up-a-mysql-database-using-prisma-2869\\n- \u300a\u9762\u5411 Node.js \u548c TypeScript \u7684\u4e0b\u4e00\u4ee3 ORM \u5de5\u5177 Prisma\u300b https://www.justsoso.tech/default/prisma-without-foreignKey.html\\n\\n## 2\u3001prisma \u5de5\u7a0b\u521d\u59cb\u5316\\n\\n\u5047\u8bbe\u5df2\u7ecf\u5b58\u5728\u4e00\u4e2a\u76ee\u5f55\uff0c\u786e\u4fdd\u5b89\u88c5\u4e86 `typescript ts-node @types/node prisma`\\n\\n**\u521d\u59cb\u5316**\\n\\n```\\nnpx prisma init --datasource-provider mysql\\n```\\n\\n## 3\u3001prisma schema\\n\\n```prisma\\ngenerator client {\\n  provider = \\"prisma-client-js\\"\\n}\\n\\ndatasource db {\\n  provider = \\"mysql\\"\\n  url      = env(\\"DATABASE_URL\\")\\n}\\n\\nmodel user {\\n  id   Int     @id @default(autoincrement()) @db.UnsignedInt\\n  name String? @default(\\"\\") @db.VarChar(255)\\n}\\n\\nmodel post {\\n  id        Int     @id @default(autoincrement())\\n  title     String\\n  content   String?\\n  published Boolean @default(false)\\n  uid       Int\\n}\\n```\\n\\n## 4\u3001\u589e\u5220\u6539\u67e5\\n\\n### 1) create\\n\\n```ts\\nimport { PrismaClient } from \\"@prisma/client\\";\\n\\nconst prisma = new PrismaClient();\\n\\nasync function main() {\\n  const user = await prisma.user.create({\\n    data: {\\n      name: \\"Alice\\",\\n    },\\n  });\\n  console.log(user);\\n}\\n\\nmain()\\n  .then(async () => {\\n    await prisma.$disconnect();\\n  })\\n  .catch(async (e) => {\\n    console.error(e);\\n    await prisma.$disconnect();\\n    process.exit(1);\\n  });\\n```\\n\\n### 2) findMany\\n```ts\\nimport { PrismaClient } from \'@prisma/client\';\\n\\nconst prisma = new PrismaClient();\\n\\n// query\\nasync function main() {\\n  const users = await prisma.user.findMany({})\\n  console.log(users)\\n}\\n\\nmain()\\n  .then(async () => {\\n    await prisma.$disconnect();\\n  })\\n  .catch(async (e) => {\\n    console.error(e);\\n    await prisma.$disconnect();\\n    process.exit(1);\\n  });\\n\\n```\\n\\n### 3) create  with relation\\n\\n```ts\\nimport { PrismaClient } from \'@prisma/client\';\\n\\nconst prisma = new PrismaClient();\\n\\nasync function main() {\\n  const user = await prisma.user.create({\\n    data: {\\n      name: \'Bob\',\\n      post: {\\n        create: {\\n          title: \'Hello World\',\\n        },\\n      },\\n    },\\n  });\\n  console.log(user);\\n}\\n\\nmain()\\n  .then(async () => {\\n    await prisma.$disconnect();\\n  })\\n  .catch(async (e) => {\\n    console.error(e);\\n    await prisma.$disconnect();\\n    process.exit(1);\\n  });\\n\\n```\\n\\n### 4) query with relation\\n```ts\\nimport { PrismaClient } from \'@prisma/client\';\\n\\nconst prisma = new PrismaClient();\\n\\n// query\\nasync function main() {\\n  const users = await prisma.user.findMany({\\n    take: 10,\\n    skip: 1,\\n    include: {\\n      post: true\\n    },\\n  })\\n  console.dir(users, { depth: null })\\n}\\n\\nmain()\\n  .then(async () => {\\n    await prisma.$disconnect();\\n  })\\n  .catch(async (e) => {\\n    console.error(e);\\n    await prisma.$disconnect();\\n    process.exit(1);\\n  });\\n```\\n\\n### 5) logger\\n\\n```ts\\nimport { Prisma, PrismaClient } from \'@prisma/client\';\\n\\nconst prisma = new PrismaClient({\\n  log: [\'query\', \'error\', \'info\', \'warn\']\\n});\\n\\n\\n// query\\nasync function main() {\\n  const res = await prisma.$queryRaw(Prisma.sql`select * from user`);\\n  console.log(res)\\n\\n  const users = await prisma.user.findMany({\\n    take: 10,\\n    skip: 1,\\n    include: {\\n      post: true\\n    },\\n  })\\n  console.dir(users, { depth: null })\\n}\\n\\nmain()\\n  .then(async () => {\\n    await prisma.$disconnect();\\n  })\\n  .catch(async (e) => {\\n    console.error(e);\\n    await prisma.$disconnect();\\n    process.exit(1);\\n  });\\n\\n```\\n\\n### 6) $queryRaw\\n\\n```ts\\nimport { Prisma, PrismaClient } from \'@prisma/client\';\\n\\nconst prisma = new PrismaClient({\\n  log: [\'query\', \'error\', \'info\', \'warn\']\\n});\\n\\n// query\\nasync function main() {\\n  const res = await prisma.$queryRaw(Prisma.sql`select * from user`);\\n  console.log(res)\\n}\\n\\nmain()\\n  .then(async () => {\\n    await prisma.$disconnect();\\n  })\\n  .catch(async (e) => {\\n    console.error(e);\\n    await prisma.$disconnect();\\n    process.exit(1);\\n  });\\n```\\n\\n## 5\u3001prisma \u547d\u4ee4\\n\\n**\u521b\u5efa diff \u5e76\u4e14\u540c\u6b65\u5230\u8fdc\u7a0b db**\\n\\n```\\nnpx prisma migrate dev\\n```\\n\\n**\u5c06\u8fdc\u7a0b db \u7684\u7ed3\u6784\u540c\u6b65\u5230\u672c\u5730\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u672c\u5730\u4e00\u4e9b relation \u4e22\u5931**\\n\\n```\\nnpx prisma db pull\\n```\\n\\n**ddl diff**\\n\\n```\\nnpx prisma migrate diff \\\\\\n  --from-url \\"mysql://root:123456@localhost:3306/test\\"  \\\\\\n  --to-url \\"mysql://root:123456@localhost:3306/test_2\\" \\\\\\n  --script\\n```","isLeaf":true}]},{"key":"/NodeJS/06 some code","path":"/NodeJS/06 some code","route":"/NodeJS/06 some code","leaf":false,"title":"06 some code","depth":1,"content":"","isLeaf":false,"children":[{"key":"/NodeJS/06 some code/01-gen-dic-tree.md","path":"/NodeJS/06 some code/01-gen-dic-tree.md","route":"/NodeJS/06 some code/01-gen-dic-tree.md","leaf":true,"title":"01-gen-dic-tree","depth":2,"content":"---\\ntitle: 01 \u76ee\u5f55\u6811\u8f6c JSON\\ntoc: true\\ntags: nodejs-scripts\\ncategories: NodeJS\\n---\\n\\n```js\\nconst fs = require(\\"fs\\");\\nconst path = require(\\"path\\");\\n\\nconst rootPath = path.resolve(\\"/Users/user/Desktop/gaollard-blog/docs/pages\\");\\nconst rootNode = new Node(rootPath, rootPath, false);\\n\\nfunction Node(path, route, title, depth, leaf) {\\n  this.path = path;\\n  this.route = route;\\n  this.leaf = leaf;\\n  this.title = title;\\n  this.depth = depth;\\n  if (!this.leaf) {\\n    this.children = [];\\n  }\\n}\\n\\nfunction read(sPath, parent, depth) {\\n  const files = fs.readdirSync(sPath);\\n  files.forEach((file) => {\\n    const cPath = sPath + \\"/\\" + file;\\n    const stats = fs.statSync(cPath);\\n    const { name, ext } = path.parse(file);\\n\\n    if (stats.isDirectory()) {\\n      const node = new Node(\\n        cPath,\\n        cPath.replace(rootPath, \\"\\"),\\n        name,\\n        depth,\\n        false\\n      );\\n      parent.children.push(node);\\n      read(cPath, node, depth + 1);\\n    } else {\\n      if (ext == \'.md\') {\\n        const node = new Node(\\n          cPath,\\n          cPath.replace(rootPath, \\"\\"),\\n          name,\\n          depth,\\n          true\\n        );\\n        parent.children.push(node);\\n      }\\n    }\\n  });\\n}\\n\\nread(rootPath, rootNode, 0);\\n\\nfs.writeFileSync(\\"src/routes.json\\", JSON.stringify(rootNode.children));\\n\\nconsole.dir(rootNode, { depth: 6 });\\n```\\n\\n```json\\n[\\n   {\\n    \\"path\\": \\"docs/pages/android\\",\\n    \\"route\\": \\"/android\\",\\n    \\"leaf\\": false,\\n    \\"title\\": \\"android\\",\\n    \\"depth\\": 0,\\n    \\"children\\": [\\n      {\\n        \\"path\\": \\"docs/pages/android/01-use-javascriptcore.md\\",\\n        \\"route\\": \\"/android/01-use-javascriptcore.md\\",\\n        \\"leaf\\": true,\\n        \\"title\\": \\"01-use-javascriptcore\\",\\n        \\"depth\\": 1\\n      },\\n      {\\n        \\"path\\": \\"docs/pages/android/02-react-native.md\\",\\n        \\"route\\": \\"/android/02-react-native.md\\",\\n        \\"leaf\\": true,\\n        \\"title\\": \\"02-react-native\\",\\n        \\"depth\\": 1\\n      },\\n      {\\n        \\"path\\": \\"docs/pages/android/03-use-quickjs.md\\",\\n        \\"route\\": \\"/android/03-use-quickjs.md\\",\\n        \\"leaf\\": true,\\n        \\"title\\": \\"03-use-quickjs\\",\\n        \\"depth\\": 1\\n      }\\n    ]\\n  },\\n  {\\n    \\"path\\": \\"docs/pages/backend\\",\\n    \\"route\\": \\"/backend\\",\\n    \\"leaf\\": false,\\n    \\"title\\": \\"backend\\",\\n    \\"depth\\": 0,\\n    \\"children\\": [\\n      {\\n        \\"path\\": \\"docs/pages/backend/01-mysql\\",\\n        \\"route\\": \\"/backend/01-mysql\\",\\n        \\"leaf\\": false,\\n        \\"title\\": \\"01-mysql\\",\\n        \\"depth\\": 1,\\n        \\"children\\": [\\n          {\\n            \\"path\\": \\"docs/pages/backend/01-mysql/01-query-on-tcp.md\\",\\n            \\"route\\": \\"/backend/01-mysql/01-query-on-tcp.md\\",\\n            \\"leaf\\": true,\\n            \\"title\\": \\"01-query-on-tcp\\",\\n            \\"depth\\": 2\\n          },\\n          {\\n            \\"path\\": \\"docs/pages/backend/01-mysql/02-mysql-utilities.md\\",\\n            \\"route\\": \\"/backend/01-mysql/02-mysql-utilities.md\\",\\n            \\"leaf\\": true,\\n            \\"title\\": \\"02-mysql-utilities\\",\\n            \\"depth\\": 2\\n          },\\n          {\\n            \\"path\\": \\"docs/pages/backend/01-mysql/03-mysql-workbench.md\\",\\n            \\"route\\": \\"/backend/01-mysql/03-mysql-workbench.md\\",\\n            \\"leaf\\": true,\\n            \\"title\\": \\"03-mysql-workbench\\",\\n            \\"depth\\": 2\\n          },\\n          {\\n            \\"path\\": \\"docs/pages/backend/01-mysql/04-get-db-used-size.md\\",\\n            \\"route\\": \\"/backend/01-mysql/04-get-db-used-size.md\\",\\n            \\"leaf\\": true,\\n            \\"title\\": \\"04-get-db-used-size\\",\\n            \\"depth\\": 2\\n          },\\n          {\\n            \\"path\\": \\"docs/pages/backend/01-mysql/\u662f\u591a\u5927.md\\",\\n            \\"route\\": \\"/backend/01-mysql/\u662f\u591a\u5927.md\\",\\n            \\"leaf\\": true,\\n            \\"title\\": \\"\u662f\u591a\u5927\\",\\n            \\"depth\\": 2\\n          }\\n        ]\\n      },\\n      {\\n        \\"path\\": \\"docs/pages/backend/02-redis\\",\\n        \\"route\\": \\"/backend/02-redis\\",\\n        \\"leaf\\": false,\\n        \\"title\\": \\"02-redis\\",\\n        \\"depth\\": 1,\\n        \\"children\\": [\\n          {\\n            \\"path\\": \\"docs/pages/backend/02-redis/01-Failed-to-refresh-slots-cache.md\\",\\n            \\"route\\": \\"/backend/02-redis/01-Failed-to-refresh-slots-cache.md\\",\\n            \\"leaf\\": true,\\n            \\"title\\": \\"01-Failed-to-refresh-slots-cache\\",\\n            \\"depth\\": 2\\n          }\\n        ]\\n      }\\n    ]\\n  },\\n]\\n```","isLeaf":true},{"key":"/NodeJS/06 some code/02-gen-dict-recursive.md","path":"/NodeJS/06 some code/02-gen-dict-recursive.md","route":"/NodeJS/06 some code/02-gen-dict-recursive.md","leaf":true,"title":"02-gen-dict-recursive","depth":2,"content":"---\\ntitle: 02 \u521b\u5efa\u591a\u5c42\u76ee\u5f55\\ntoc: true\\ntags: nodejs-scripts\\ncategories: NodeJS\\n---\\n\\n```js\\nconst fs = require(\\"fs\\");\\n\\nvar dir = \\"/Users/user/Desktop/gaollard-blog/t1/t2/t3.md\\";\\n\\nfunction createDir(dir, prev) {\\n  const list = dir.split(\\"/\\").filter((el) => el);\\n  const [first, ...arg] = list;\\n  const _dir = `${prev || \\"\\"}/${first}`;\\n\\n  try {\\n    const stat = fs.statSync(_dir);\\n  } catch (e) {\\n    fs.mkdirSync(_dir);\\n  }\\n\\n  if (arg.length) {\\n    createDir(arg.join(\\"/\\"), _dir);\\n  }\\n}\\n\\ncreateDir(dir);\\n```","isLeaf":true},{"key":"/NodeJS/06 some code/03-check-dic-exist.md","path":"/NodeJS/06 some code/03-check-dic-exist.md","route":"/NodeJS/06 some code/03-check-dic-exist.md","leaf":true,"title":"03-check-dic-exist","depth":2,"content":"---\\ntitle: 03 \u68c0\u6d4b\u76ee\u5f55\u662f\u5426\u5b58\u5728\\ntoc: true\\ntags: nodejs-scripts\\ncategories: NodeJS\\n---\\n\\n```js\\nconst fs = require(\'fs\')\\nconst path = require(\'path\')\\nconst os = require(\'os\')\\n\\ntry {\\n  const rootPath = path.resolve(os.homedir(), \'yunqu1/docs\')\\n  const stat1 = fs.statSync(rootPath)\\n  console.log(stat1)\\n} catch (e) {\\n  // \u4e0d\u5b58\u5728\u4f1a\u62a5\u9519\\n  console.log(e)\\n}\\n```\\n\\n\u6216\u8005 \\n\\n```javascript\\nconst fs = require(\'fs\');\\nconst path = \'./my-directory\';\\n\\nif (fs.existsSync(path)) {\\n  console.log(\'\u76ee\u5f55\u5b58\u5728\');\\n} else {\\n  console.log(\'\u76ee\u5f55\u4e0d\u5b58\u5728\');\\n}\\n```","isLeaf":true}]},{"key":"/NodeJS/07 pm2","path":"/NodeJS/07 pm2","route":"/NodeJS/07 pm2","leaf":false,"title":"07 pm2","depth":1,"content":"","isLeaf":false,"children":[{"key":"/NodeJS/07 pm2/pm2.md","path":"/NodeJS/07 pm2/pm2.md","route":"/NodeJS/07 pm2/pm2.md","leaf":true,"title":"pm2","depth":2,"content":"","isLeaf":true}]},{"key":"/NodeJS/08 graphql","path":"/NodeJS/08 graphql","route":"/NodeJS/08 graphql","leaf":false,"title":"08 graphql","depth":1,"content":"","isLeaf":false,"children":[{"key":"/NodeJS/08 graphql/index.md","path":"/NodeJS/08 graphql/index.md","route":"/NodeJS/08 graphql/index.md","leaf":true,"title":"index","depth":2,"content":"## \u5b66\u4e60\u8d44\u6599\\n\u300a \u62c9\u94a9\u6559\u80b2  GraphQL \u6559\u7a0b\u300bhttps://www.bilibili.com/video/BV1fb4y117ya","isLeaf":true}]},{"key":"/NodeJS/09 grpc","path":"/NodeJS/09 grpc","route":"/NodeJS/09 grpc","leaf":false,"title":"09 grpc","depth":1,"content":"","isLeaf":false,"children":[{"key":"/NodeJS/09 grpc/index.md","path":"/NodeJS/09 grpc/index.md","route":"/NodeJS/09 grpc/index.md","leaf":true,"title":"index","depth":2,"content":"## \u5b66\u4e60\u8d44\u6599\\nhttps://grpc.io/docs/languages/node/quickstart/","isLeaf":true}]},{"key":"/NodeJS/10 middleware","path":"/NodeJS/10 middleware","route":"/NodeJS/10 middleware","leaf":false,"title":"10 middleware","depth":1,"content":"","isLeaf":false,"children":[{"key":"/NodeJS/10 middleware/01-body-parser.md","path":"/NodeJS/10 middleware/01-body-parser.md","route":"/NodeJS/10 middleware/01-body-parser.md","leaf":true,"title":"01-body-parser","depth":2,"content":"- \u9884\u5907\u77e5\u8bc6\uff1a\u719f\u6089 express \u7684\u4e2d\u95f4\u4ef6\u903b\u8f91\\n- \u9605\u8bfb\u65f6\u95f4\uff1a30min\\n\\n## 1. body-parser \u89e3\u51b3\u4ec0\u4e48\u95ee\u9898\\n\u5728 node http \u6a21\u5757\u4e2d\uff0c\u60a8\u53ea\u80fd\u901a\u8fc7 data \u4e8b\u4ef6\uff0c\u4ee5 buffer \u7684\u5f62\u5f0f\u6765\u83b7\u53d6\u8bf7\u6c42\u4f53\u5185\u5bb9\uff0cnode \u6ca1\u6709\u63d0\u4f9b\u5982\u4f55\u89e3\u6790\u8bf7\u6c42 body \u7684API\uff0c[body-parser](https://www.npmjs.com/package/body-parser) \u63d0\u4f9b\u4e86\u8fd9\u4e2a\u529f\u80fd\u3002\\n\\nbody-parser \u672c\u8d28\u662f\u4e00\u4e2a\u5904\u7406\u8bf7\u6c42 body \u7684\u4e2d\u95f4\u4ef6\u51fd\u6570\uff0c\u4ed6\u8d1f\u8d23\u6309\u7167\u60a8\u7ed9\u7684\u89c4\u5219\u89e3\u6790\u8bf7\u6c42body\uff0c\u5e76\u4e14\u5c06\u7ed3\u679c\u8d4b\u503c\u5230 req.body \u5c5e\u6027\u4e0a\u3002\\n\\n## 2. \u7b80\u5355\u7684\u4f7f\u7528 body-parser\\n```javascript\\nvar express = require(\'express\')\\nvar bodyParser = require(\'body-parser\')\\n \\nvar app = express()\\n \\n// parse application/x-www-form-urlencoded\\napp.use(bodyParser.urlencoded({ extended: false }))\\n \\n// parse application/json\\napp.use(bodyParser.json())\\n \\napp.use(function (req, res) {\\n  res.setHeader(\'Content-Type\', \'text/plain\')\\n  res.write(\'you posted:\\\\n\')\\n  \\n  // \u60a8\u53ef\u4ee5\u901a\u8fc7req.body \u6765\u8bbf\u95ee\u8bf7\u6c42\u4f53\u5185\u5bb9\\n  res.end(JSON.stringify(req.body, null, 2))\\n})\\n```\\n\\n\u901a\u8fc7\u8fd9\u4e2a\u4f8b\u5b50\u60a8\u53ef\u4ee5\u4e86\u89e3\u5230\u5982\u4f55\u7b80\u5355\u7684\u4f7f\u7528 body-parser\u3002\\n\\n## 3. \u6e90\u7801\u5206\u6790\\n\\n\u9996\u5148 bodyParser \u7684\u6e90\u7801\u7ed3\u6784\u5982\u4e0b\uff1a\\n\\n![20230605002602](http://s3.airtlab.com/blog/20230605002602.png)\\n\\n- index.js\uff1a\u5165\u53e3\u6587\u4ef6\\n- lib\uff1a\u6838\u5fc3\u65b9\u6cd5\\n   - types\uff1a\u8be5\u6587\u4ef6\u4e0b\u76844\u4e2a\u6587\u4ef6\uff0c\u5206\u522b\u7528\u4e8e\u89e3\u6790\u5bf9\u5e94\u76844\u4e2a\u7c7b\u578b\\n      - json.js\uff1a\u5c06body\u89e3\u6790\u4e3aJSON\u5bf9\u8c61\\n      - raw.js\\n      - text.js\uff1a\u5c06body\u89e3\u6790\u4e3a\u5b57\u7b26\u4e32\\n      - urlencoded.js\uff1a\u5c06\u8868\u5355\u6570\u636e(urlencoded\u7f16\u7801)\u89e3\u6790\u4e3aJSON\u5bf9\u8c61\\n   - read.js\uff1a\u8bfb\u53d6 body \u5185\u5bb9\\n\\n### 1. bodyParser\u7684\u5bfc\u51fa\u5f62\u5f0f\\n\\nbodyParser \u7684\u5b9a\u4e49\u5728 index.js\uff0c\u8fd9\u91cc\u7684\u903b\u8f91\u975e\u5e38\u6e05\u6670\uff1a\\n\\n- \u521b\u5efa\u4e00\u4e2a\u7528\u4e8e\u89e3\u6790 json \u548c urlencoded \u683c\u5f0f\u7684\u4e2d\u95f4\u4ef6\uff1abodyParser \u5e76\u5bfc\u51fa\\n- \u7ed9 bodyParser \u6dfb\u52a0 json/text/raw/urlencoded \u65b9\u6cd5\\n```javascript\\n\'use strict\'\\n\\nvar deprecate = require(\'depd\')(\'body-parser\')\\n\\n// \u7f13\u5b58 parser \\nvar parsers = Object.create(null)\\n\\n// \u5bfc\u51fa\u4e00\u4e2aFunction\\nexports = module.exports = deprecate.function(bodyParser,\\n  \'bodyParser: use individual json/urlencoded middlewares\')\\n\\n// JSON parser.\\nObject.defineProperty(exports, \'json\', {\\n  configurable: true,\\n  enumerable: true,\\n  get: createParserGetter(\'json\')\\n})\\n\\n// Raw parser.\\nObject.defineProperty(exports, \'raw\', {\\n  configurable: true,\\n  enumerable: true,\\n  get: createParserGetter(\'raw\')\\n})\\n\\n// Text parser.\\nObject.defineProperty(exports, \'text\', {\\n  configurable: true,\\n  enumerable: true,\\n  get: createParserGetter(\'text\')\\n})\\n\\n// URL-encoded parser.\\nObject.defineProperty(exports, \'urlencoded\', {\\n  configurable: true,\\n  enumerable: true,\\n  get: createParserGetter(\'urlencoded\')\\n})\\n\\n// \u521b\u5efa\u4e00\u4e2a\u7528\u4e8e\u89e3\u6790 json \u548c urlencoded \u683c\u5f0f\u7684\u4e2d\u95f4\u4ef6\\nfunction bodyParser (options) {\\n  var opts = {}\\n\\n  // exclude type option\\n  if (options) {\\n    for (var prop in options) {\\n      if (prop !== \'type\') {\\n        opts[prop] = options[prop]\\n      }\\n    }\\n  }\\n\\n  var _urlencoded = exports.urlencoded(opts)\\n  var _json = exports.json(opts)\\n\\n  return function bodyParser (req, res, next) {\\n    _json(req, res, function (err) {\\n      if (err) return next(err)\\n      _urlencoded(req, res, next)\\n    })\\n  }\\n}\\n\\n// Create a getter for loading a parser.\\nfunction createParserGetter (name) {\\n  return function get () {\\n    return loadParser(name)\\n  }\\n}\\n\\n// Load a parser module.\\nfunction loadParser (parserName) {\\n  var parser = parsers[parserName]\\n\\n  if (parser !== undefined) {\\n    return parser\\n  }\\n\\n  // this uses a switch for static require analysis\\n  switch (parserName) {\\n    case \'json\':\\n      parser = require(\'./lib/types/json\')\\n      break\\n    case \'raw\':\\n      parser = require(\'./lib/types/raw\')\\n      break\\n    case \'text\':\\n      parser = require(\'./lib/types/text\')\\n      break\\n    case \'urlencoded\':\\n      parser = require(\'./lib/types/urlencoded\')\\n      break\\n  }\\n\\n  // store to prevent invoking require()\\n  return (parsers[parserName] = parser)\\n}\\n\\n```\\n### 2. text \u89e3\u6790\u6d41\u7a0b\\n\\n\u5c06 body \u89e3\u6790\u975e\u5e38\u7b80\u5355\uff0c\u8fd9\u53ea\u9700\u8981\u5c06 buffer \u8f6c\u6362\u4e3a string \u5373\u53ef\u3002 \u6240\u4ee5\u4ece\u6700\u7b80\u5355 text parser \u5f00\u59cb\uff0c\u5176\u4ed6\u89e3\u6790\u5927\u4f53\u4e5f\u662f\u7c7b\u4f3c\u7684\uff0c\u4e3b\u8981\u533a\u522b\u5728\u4e8e\u5c06\u5b57\u7b26\u4e32\u89e3\u6790\u5230\u7279\u5b9a\u683c\u5f0f\u7684\u65b9\u6cd5\u3002\u6bd4\u5982\u5c06\u8868\u5355\u6570\u636e(urlencoded form) \u89e3\u6790\u4e3aJSON\u5bf9\u8c61\u3002\\n\\n\u73b0\u5728\u60a8\u5e0c\u671b\u5c06 text/plain \u7684\u8bf7\u6c42\u4f53\u89e3\u6790\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6e90\u7801\u662f\u8fd9\u6837\u7684\uff1a\\n\\n```javascript\\n// \u9ed8\u8ba4\u5c06 type \u4e3a text/plain \u89e3\u6790\u4e3a\u5b57\u7b26\u4e32\\nvar express = require(\'express\')\\nvar bodyParser = require(\'body-parser\')\\n \\nvar app = express()\\nvar port = 3000;\\n \\napp.use(bodyParser.text())\\n\\napp.post(\'/text\', (req, res) => res.send(req.body))\\n\\napp.listen(port, () => console.log(`\\\\nExample app listening on port ${port}!`))\\n```\\n\\n\u5f53\u6211\u4eec curl \u8fdb\u884c\u5982\u4e0b\u8bbf\u64cd\u4f5c\uff1a\\n\\n```bash\\n$ curl -d \\"hello\\" http://localhost:3000/text\\nhello\\n```\\n\\n\u8fd9\u80cc\u540e\u7684\u6d41\u7a0b\u662f\u600e\u6837\u7684\u5462\uff1f\\n\\n#### 1. bodyParser.text() \u4e2d\u95f4\u4ef6\\n\\n\u7531\u4e8e\u6211\u4eec\u4f7f\u7528 bodyParser.text() \u4e2d\u95f4\u4ef6\uff0c\u6240\u4ee5\u5f53\u8fdb\u884c\u4e0a\u8ff0\u8bbf\u95ee\u65f6\uff0c\u4f1a\u8bbf\u95ee\u5230 lib/types/text\uff0c\u6e90\u7801\u5982\u4e0b\uff1a\\n```javascript\\n\'use strict\'\\n\\nvar bytes = require(\'bytes\')\\nvar contentType = require(\'content-type\')\\nvar debug = require(\'debug\')(\'body-parser:text\')\\nvar read = require(\'../read\')\\nvar typeis = require(\'type-is\')\\n\\n// \u5bfc\u51fa text \u4e2d\u95f4\u4ef6\\nmodule.exports = text\\n\\n// text \u4e2d\u95f4\u4ef6 \u5b9a\u4e49\\nfunction text (options) {\\n  // option \u662f\u4f7f\u7528\u8be5\u4e2d\u95f4\u4ef6\u4f20\u5165\u7684\u9009\u9879\\n  var opts = options || {}\\n\\n\\t// \u83b7\u53d6\u5b57\u7b26\u96c6\\n  var defaultCharset = opts.defaultCharset || \'utf-8\'\\n \\n  // \u662f\u5426\u5904\u7406\u538b\u7f29\u7684body, true\u65f6body\u4f1a\u88ab\u89e3\u538b\uff0cfalse\u65f6body\u4e0d\u4f1a\u88ab\u5904\u7406\\n  var inflate = opts.inflate !== false\\n  \\n  // body\u5927\u5c0f\u9650\u5236\\n  var limit = typeof opts.limit !== \'number\'\\n    ? bytes.parse(opts.limit || \'100kb\')\\n    : opts.limit\\n  \\n  // \u9700\u8981\u5904\u7406\u7684 content-type \u7c7b\u578b\\n  var type = opts.type || \'text/plain\'\\n  \\n  // \u7528\u6237\u81ea\u5b9a\u4e49\u7684\u6821\u9a8c\u51fd\u6570\uff0c\u82e5\u63d0\u4f9b\u5219\u4f1a\u88ab\u8c03\u7528verify(req, res, buf, encoding)\\n  var verify = opts.verify || false\\n\\n  if (verify !== false && typeof verify !== \'function\') {\\n    throw new TypeError(\'option verify must be function\')\\n  }\\n\\n  // create the appropriate type checking function\\n  var shouldParse = typeof type !== \'function\'\\n    ? typeChecker(type)\\n    : type\\n\\t\\n  // \u8fd9\u91cc\u662f\u6838\u5fc3, \u4e0d\u540c\u7684\u89e3\u6790\u5668\u6709\u4e0d\u540c\u7684\u5904\u7406\u65b9\u5f0f\\n  // text parse \u5f88\u7b80\u5355\u662f\u56e0\u4e3a\u5b83\u5565\u4e5f\u4e0d\u9700\u8981\u5e72\\n  function parse (buf) {\\n    return buf\\n  }\\n\\n  return function textParser (req, res, next) {\\n    // \u5f53\u6211\u4eec\u8fdb\u884c POST \u8bf7\u6c42\u65f6 textParser \u4e2d\u95f4\u4ef6\u4f1a\u88ab\u8c03\u7528\\n    // \u8fd9\u91cc\u5148\u5224\u65ad body \u662f\u5426\u5df2\u7ecf\u89e3\u6790\u8fc7\u4e86\uff0c\u4e0b\u6e38\u4f1a\u8bbe\u7f6e\u4e3a true\\n    if (req._body) {\\n      debug(\'body already parsed\')\\n      next()\\n      return\\n    }\\n\\n    req.body = req.body || {}\\n\\t\\t\\n    // \u6ca1\u6709\u8bf7\u6c42\u4f53\u65f6\u4e0d\u5904\u7406\\n    // skip requests without bodies\\n    if (!typeis.hasBody(req)) {\\n      debug(\'skip empty body\')\\n      next()\\n      return\\n    }\\n\\n    debug(\'content-type %j\', req.headers[\'content-type\'])\\n\\n    // determine if request should be parsed\\n    if (!shouldParse(req)) {\\n      debug(\'skip parsing\')\\n      next()\\n      return\\n    }\\n\\n    // get charset\\n    var charset = getCharset(req) || defaultCharset\\n\\n    // read\\n    read(req, res, next, parse, debug, {\\n      encoding: charset,\\n      inflate: inflate,\\n      limit: limit,\\n      verify: verify\\n    })\\n  }\\n}\\n\\n// \u83b7\u53d6\u8bf7\u6c42\u5b57\u7b26\u96c6\\nfunction getCharset (req) {\\n  try {\\n    return (contentType.parse(req).parameters.charset || \'\').toLowerCase()\\n  } catch (e) {\\n    return undefined\\n  }\\n}\\n\\n// content-type \u68c0\u6d4b\\nfunction typeChecker (type) {\\n  return function checkType (req) {\\n    return Boolean(typeis(req, type))\\n  }\\n}\\n\\n// \u5224\u65ad\u662f\u5426\u5305\u542b\u8bf7\u6c42\u4f53(\u8fd9\u4e2a\u51fd\u6570\u662f\u4ecetype-is\u5305\u590d\u5236\u51fa\u6765\u7684)\\nfunction hasbody (req) {\\n  return req.headers[\'transfer-encoding\'] !== undefined ||\\n    !isNaN(req.headers[\'content-length\'])\\n}\\n```\\n\u5927\u6982\u6d41\u7a0b\u5982\u4e0b\uff1a\\n\\n- \u4f7f\u7528 app.use \u4f7f\u7528\u4e2d\u95f4\u4ef6\\n- \u5ba2\u6237\u7aef\u53d1\u8d77 POST \u8bf7\u6c42\\n- \u8fdb\u5165 textParser \u4e2d\u95f4\u4ef6\\n   - \u5224\u65ad\u662f\u5426\u5df2\u7ecf\u89e3\u6790\u8fc7(req._body = true)\\n   - \u5224\u65ad\u8bf7\u6c42\u662f\u5426\u5305\u542b\u8bf7\u6c42\u4f53\\n   - \u5224\u65ad\u8bf7\u6c42\u4f53\u7c7b\u578b\u662f\u5426\u9700\u8981\u5904\u7406\\n   - \u8bfb\u53d6\u8bf7\u6c42\u4f53\uff0c\u89e3\u6790\u5e76\u8bbe\u7f6e req.body &&  req._body = true\\n- \u8fdb\u5165 read \u4e2d\u95f4\u4ef6(\u8bfb\u53d6\u8bf7\u6c42\u4f53\uff0c\u89e3\u6790\u5e76\u8bbe\u7f6e req.body &&  req._body = true)\\n\\n#### 2. read() \u4e2d\u95f4\u4ef6(lib/read.js)\\n\\nlib/types \u4e0b\u76844\u4e2a\u6587\u4ef6\uff0c\u6700\u7ec8\u90fd\u4f1a\u8bbf\u95ee lib/read.js\uff0c\u5f62\u5f0f\u5982\u4e0b\uff1a\\n\\n```javascript\\nread(req, res, next, parse, debug, {\\n  encoding: charset,\\n  inflate: inflate,\\n  limit: limit,\\n  verify: verify\\n})\\n```\\n\\n\u73b0\u5728\u6211\u4eec\u6765\u770b\u4e0b lib/read.js \u6e90\u7801\uff1a\\n\\n```javascript\\n\'use strict\'\\n\\nvar createError = require(\'http-errors\')\\nvar getBody = require(\'raw-body\')\\nvar iconv = require(\'iconv-lite\')\\nvar onFinished = require(\'on-finished\')\\nvar zlib = require(\'zlib\')\\n\\nmodule.exports = read\\n\\nfunction read (req, res, next, parse, debug, options) {\\n  var length\\n  var opts = options\\n  var stream\\n\\n  // parsed flag, \u4e0a\u6e38\u670d\u52a1\u6709\u505a\u5224\u65ad\\n  req._body = true\\n\\n  // read options\\n  var encoding = opts.encoding !== null\\n    ? opts.encoding\\n    : null\\n  var verify = opts.verify\\n\\n  try {\\n    // get the content stream\\n    stream = contentstream(req, debug, opts.inflate)\\n    length = stream.length\\n    stream.length = undefined\\n  } catch (err) {\\n    return next(err)\\n  }\\n\\n  // set raw-body options\\n  opts.length = length\\n  opts.encoding = verify\\n    ? null\\n    : encoding\\n\\n  // assert charset is supported\\n  if (opts.encoding === null && encoding !== null && !iconv.encodingExists(encoding)) {\\n    return next(createError(415, \'unsupported charset \\"\' + encoding.toUpperCase() + \'\\"\', {\\n      charset: encoding.toLowerCase(),\\n      type: \'charset.unsupported\'\\n    }))\\n  }\\n\\n  // read body\\n  debug(\'read body\')\\n  // getBody \u51fd\u6570\u7528\u4e8e\u4ece stream \u4e2d\u8bfb\u53d6\u5185\u5bb9\\n  getBody(stream, opts, function (error, body) {\\n    if (error) {\\n      // \u5f02\u5e38\u5904\u7406\\n      var _error\\n      if (error.type === \'encoding.unsupported\') {\\n        // echo back charset\\n        _error = createError(415, \'unsupported charset \\"\' + encoding.toUpperCase() + \'\\"\', {\\n          charset: encoding.toLowerCase(),\\n          type: \'charset.unsupported\'\\n        })\\n      } else {\\n        // set status code on error\\n        _error = createError(400, error)\\n      }\\n\\n      // read off entire request\\n      stream.resume()\\n      onFinished(req, function onfinished () {\\n        next(createError(400, _error))\\n      })\\n      return\\n    }\\n\\n    // \u7528\u6237\u81ea\u5b9a\u4e49\u6821\u9a8c\u51fd\u6570 verify\\n    if (verify) {\\n      try {\\n        debug(\'verify body\')\\n        verify(req, res, body, encoding)\\n      } catch (err) {\\n        next(createError(403, err, {\\n          body: body,\\n          type: err.type || \'entity.verify.failed\'\\n        }))\\n        return\\n      }\\n    }\\n\\n    var str = body\\n    try {\\n      debug(\'parse body\')\\n      // \u5982\u679cbody\u4e0d\u662f\u5b57\u7b26\u7c7b\u578b\u800c\u4e14\u8bbe\u7f6e\u4e86encoding\uff0c\u90a3\u4e48\u9700\u8981\u91cd\u65b0\u89e3\u7801 \\n      str = typeof body !== \'string\' && encoding !== null\\n        ? iconv.decode(body, encoding)\\n        : body\\n     \\t\\n      // \u8fd9\u91cc\u4e0d\u540c\u89e3\u6790\u5668\uff0c\u4f1a\u4f20\u5165\u4e0d\u540c parse\\n      req.body = parse(str)\\n    } catch (err) {\\n      next(createError(400, err, {\\n        body: str,\\n        type: err.type || \'entity.parse.failed\'\\n      }))\\n      return\\n    }\\n\\n    next()\\n  })\\n}\\n\\n// \u83b7\u53d6\u8bf7\u6c42\u4f53 stream\\n// 1. \u83b7\u53d6\u538b\u7f29\u7f16\u7801\u683c\u5f0f\uff0c\u5982\u679c\u6709\u538b\u7f29\u9700\u8981\u5148\u89e3\u538b\\n// 2. \u8fd4\u56de stream\\nfunction contentstream (req, debug, inflate) {\\n  var encoding = (req.headers[\'content-encoding\'] || \'identity\').toLowerCase()\\n  var length = req.headers[\'content-length\']\\n  var stream\\n\\n  debug(\'content-encoding \\"%s\\"\', encoding)\\n\\n  if (inflate === false && encoding !== \'identity\') {\\n    throw createError(415, \'content encoding unsupported\', {\\n      encoding: encoding,\\n      type: \'encoding.unsupported\'\\n    })\\n  }\\n\\n  switch (encoding) {\\n    case \'deflate\':\\n      stream = zlib.createInflate()\\n      debug(\'inflate body\')\\n      req.pipe(stream)\\n      break\\n    case \'gzip\':\\n      stream = zlib.createGunzip()\\n      debug(\'gunzip body\')\\n      req.pipe(stream)\\n      break\\n    case \'identity\':\\n      stream = req\\n      stream.length = length\\n      break\\n    default:\\n      throw createError(415, \'unsupported content encoding \\"\' + encoding + \'\\"\', {\\n        encoding: encoding,\\n        type: \'encoding.unsupported\'\\n      })\\n  }\\n\\n  return stream\\n}\\n```\\n\\n## 4. \u4e00\u4e9b\u7591\u95ee\\n\\n### 1. \u4e3a\u4ec0\u4e48\u8981\u5bf9 charset \u8fdb\u884c\u5904\u7406\\n\u5176\u5b9e\u672c\u8d28\u4e0a\u6765\u8bf4\uff0ccharset\u524d\u7aef\u4e00\u822c\u90fd\u662f\u56fa\u5b9a\u4e3autf-8\u7684\uff0c \u751a\u81f3\u5728JQuery\u7684AJAX\u8bf7\u6c42\u4e2d\uff0c\u524d\u7aef\u8bf7\u6c42charset\u751a\u81f3\u662f\u4e0d\u53ef\u66f4\u6539\uff0c\u53ea\u80fd\u662fcharset\uff0c\u4f46\u662f\u5728\u4f7f\u7528fetch\u7b49API\u7684\u65f6\u5019\uff0c\u7684\u786e\u662f\u53ef\u4ee5\u66f4\u6539charset\u7684\uff0c\u8fd9\u4e2a\u5de5\u4f5c\u5c1d\u8bd5\u6ee1\u8db3\u4e00\u4e9b\u6bd4\u8f83\u504f\u50fb\u7684\u66f4\u6539charset\u9700\u6c42\u3002\\n\\n### 2. \u4e3a\u4ec0\u4e48\u8981\u5bf9 content-encoding \u505a\u5904\u7406\\n\u4e00\u822c\u60c5\u51b5\u4e0b\u6211\u4eec\u8ba4\u4e3a\uff0c\u8003\u8651\u5230\u524d\u7aef\u53d1\u7684AJAX\u4e4b\u7c7b\u7684\u8bf7\u6c42\u7684\u6570\u636e\u91cf\uff0c\u662f\u4e0d\u9700\u8981\u505aGzip\u538b\u7f29\u7684\u3002\u4f46\u662f\u5411\u670d\u52a1\u5668\u53d1\u8d77\u8bf7\u6c42\u7684\u4e0d\u4e00\u5b9a\u53ea\u6709\u524d\u7aef\uff0c\u8fd8\u53ef\u80fd\u662fNode\u7684\u5ba2\u6237\u7aef\u3002\u8fd9\u4e9bNode\u5ba2\u6237\u7aef\u53ef\u80fd\u4f1a\u5411Node\u670d\u52a1\u7aef\u4f20\u9001\u538b\u7f29\u8fc7\u540e\u7684\u6570\u636e\u6d41\u3002\xa0\u4f8b\u5982\u4e0b\u9762\u7684\u4ee3\u7801\u6240\u793a:\\n\\n```javascript\\nconst zlib = require(\'zlib\');\\nconst request = require(\'request\');\\nconst data = zlib.gzipSync(Buffer.from(\\"\u6211\u662f\u4e00\u4e2a\u88abGzip\u538b\u7f29\u540e\u7684\u6570\u636e\\"));\\nrequest({\\n    method: \'POST\',\\n    url: \'http://127.0.0.1:3000/post\',\\n    headers: {//\u8bbe\u7f6e\u8bf7\u6c42\u5934\\n        \\"Content-Type\\": \\"text/plain\\",\\n        \\"Content-Encoding\\": \\"gzip\\"\\n    },\\n    body: data\\n})\\n```\\n\\n## 5. \u53c2\u8003\u4ee5\u53ca\u5ef6\u4f38\\n\\n- npm bodyParser [https://www.npmjs.com/package/body-parser#bodyparsertextoptions](https://www.npmjs.com/package/body-parser#bodyparsertextoptions)\\n- npm iconv-lite \u7eafJS\u7f16\u7801\u8f6c\u6362\u5668\\n- npm raw-body \u4ee5buffer\u6216\u8005string\u7684\u65b9\u5f0f\u83b7\u53d6\u4e00\u4e2a\u53ef\u8bfb\u6d41\u7684\u5168\u90e8\u5185\u5bb9\uff0c\u5e76\u4e14\u53ef\u6821\u9a8c\u957f\u5ea6\\n- bodyparser \u5b9e\u73b0\u539f\u7406\u89e3\u6790(\u8fd9\u7bc7\u6587\u7ae0\u56de\u7b54\u4e86\u6211\u4e0a\u8ff02\u4e2a\u7591\u95ee) [https://zhuanlan.zhihu.com/p/78482006](https://zhuanlan.zhihu.com/p/78482006)\\n","isLeaf":true}]},{"key":"/NodeJS/11 coverage","path":"/NodeJS/11 coverage","route":"/NodeJS/11 coverage","leaf":false,"title":"11 coverage","depth":1,"content":"","isLeaf":false,"children":[{"key":"/NodeJS/11 coverage/01-coverage-intro.md","path":"/NodeJS/11 coverage/01-coverage-intro.md","route":"/NodeJS/11 coverage/01-coverage-intro.md","leaf":true,"title":"01-coverage-intro","depth":2,"content":"---\\ntags: nodejs-coverage\\n---\\n\\n## 1\u3001\u8986\u76d6\u7387\u4ecb\u7ecd\\n\\n\u4ee3\u7801\u8986\u76d6\u7387\u6d4b\u8bd5\u662f\u4e00\u79cd\u8f6f\u4ef6\u6d4b\u8bd5\u6280\u672f\uff0c\u7528\u4e8e\u6d4b\u91cf\u5728\u6267\u884c\u6d4b\u8bd5\u7528\u4f8b\u96c6\u5408\u671f\u95f4\u7a0b\u5e8f\u7684\u6e90\u4ee3\u7801\u7684\u767e\u5206\u6bd4\u3002\\n\\n\u5b83\u8bc4\u4f30\u4e86\u6d4b\u8bd5\u7528\u4f8b\u5bf9\u4ee3\u7801\u5e93\u7684\u8986\u76d6\u7387\uff0c\u5373\u5b83\u6d4b\u91cf\u4e86\u7f16\u5199\u7684\u6d4b\u8bd5\u7528\u4f8b\u4e2d\u6709\u591a\u5c11\u884c\u3001\u5206\u652f\u6216\u8bed\u53e5\u88ab\u6267\u884c\u8fc7\u3002\\n\\n\u6d4b\u8bd5\u7684\u76ee\u6807\u5c31\u662f\u5c3d\u53ef\u80fd\u591a\u7684\u6267\u884c\u4ee3\u7801\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u6392\u9664\u6f5c\u5728\u7684\u9519\u8bef\u548c\u6f0f\u6d1e\u3002\\n\\n\u901a\u8fc7\u4ee3\u7801\u8986\u76d6\u7387\u6d4b\u8bd5\u53ef\u4ee5\u786e\u5b9a\u4ee3\u7801\u5e93\u7684\u8d28\u91cf\uff0c\u5e76\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u5728\u6d4b\u8bd5\u5b8c\u6210\u540e\u8fdb\u884c\u4ee3\u7801\u8c03\u6574\u6216\u4f18\u5316\u3002\u4ee3\u7801\u8986\u76d6\u7387\u6d4b\u8bd5\u8fd8\u53ef\u4ee5\u786e\u4fdd\u6bcf\u884c\u4ee3\u7801\u90fd\u81f3\u5c11\u88ab\u6267\u884c\u4e86\u4e00\u6b21\uff0c\u8fd9\u53ef\u4ee5\u964d\u4f4e\u8f6f\u4ef6\u9519\u8bef\u548c\u7f3a\u9677\u7684\u98ce\u9669\uff0c\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u9760\u6027\u3002\\n\\n## 2\u3001\u8986\u76d6\u7387\u6307\u6807\\n\\n\u4ee5\u4e0b\u662f\u51e0\u4e2a\u8986\u76d6\u7387\u6307\u6807\uff1a\\n\\n- \u51fd\u6570\u8986\u76d6\u7387\uff08Function coverage\uff09\uff1a\u8c03\u7528\u5230\u7a0b\u5f0f\u4e2d\u7684\u6bcf\u4e00\u4e2aFunction\u5417\uff1f\\n- \u884c\u8986\u76d6\u7387\uff08Line coverage)\uff1a\u6267\u884c\u5230\u7a0b\u5e8f\u4e2d\u7684\u6bcf\u4e00\u884c\u4e86\u5417\uff1f\\n- \u8bed\u53e5\u8986\u76d6\u7387\uff08Statement coverage\uff09\uff1a\u82e5\u7528\u63a7\u5236\u6d41\u56fe\u8868\u793a\u7a0b\u5e8f\uff0c\u6267\u884c\u5230\u63a7\u5236\u6d41\u56fe\u4e2d\u7684\u6bcf\u4e00\u4e2a\u8282\u70b9\u4e86\u5417\uff1f\\n- \u5206\u652f\u8986\u76d6\u7387\uff08Branches coverage\uff09\uff1a\u82e5\u7528\u63a7\u5236\u6d41\u56fe\u8868\u793a\u7a0b\u5f0f\uff0c\u6267\u884c\u5230\u63a7\u5236\u6d41\u56fe\u4e2d\u7684\u6bcf\u4e00\u6761\u8fb9\u5417\uff1f\u4f8b\u5982\u63a7\u5236\u7ed3\u6784\u4e2d\u6240\u6709IF\u6307\u4ee4\u90fd\u6709\u6267\u884c\u5230\u903b\u8f91\u8fd0\u7b97\u5f0f\u6210\u7acb\u53ca\u4e0d\u6210\u7acb\u7684\u60c5\u5f62\u5417\uff1f\\n- \u6761\u4ef6\u8986\u76d6\u7387\uff08Condition coverage\uff09\uff1a\u4e5f\u79f0\u4e3a\u8c13\u8bcd\u8986\u76d6\uff08predicate coverage\uff09\uff0c\u6bcf\u4e00\u4e2a\u903b\u8f91\u8fd0\u7b97\u5f0f\u4e2d\u7684\u6bcf\u4e00\u4e2a\u6761\u4ef6\uff08\u65e0\u6cd5\u518d\u5206\u89e3\u7684\u903b\u8f91\u8fd0\u7b97\u5f0f\uff09\u662f\u5426\u90fd\u6709\u6267\u884c\u5230\u6210\u7acb\u53ca\u4e0d\u6210\u7acb\u7684\u60c5\u5f62\u5417\uff1f\\n  \\n\u5bf9\u6307\u6807\u7684\u504f\u597d\u53ef\u8bf4\u662f\u89c1\u4ec1\u89c1\u667a\uff0c\u6bd4\u5982\u5927\u540d\u9f0e\u9f0e\u7684 coveralls.io \u5c31\u4ee5\u884c\u8986\u76d6\u7387 (Line coverage) \u4f5c\u4e3a\u7ed9\u9879\u76ee\u9881\u53d1badge\u7684\u9996\u9009\u6307\u6807\u3002\\n\\n\u6211\u4eec\u9700\u8981\u7684\uff0c\u662f\u4e00\u4e2a\u80fd\u6839\u636e\u6d4b\u8bd5\u7528\u4f8b\u5f97\u51fa\u8986\u76d6\u7387\u6307\u6807\u7684\u5de5\u5177\u3002\\n\\n## 3\u3001\u4ee3\u7801\u8986\u76d6\u7387\u6570\u636e\u6536\u96c6\\n\\n\u5728\u7a0b\u5e8f\u6267\u884c\u5230\u67d0\u4e2a\u6267\u884c\u5355\u5143\u65f6\uff0c\u6536\u96c6\u5176\u4ee3\u7801\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\u6240\u5728\u6587\u4ef6\u3001\u884c\u3001\u5217\uff0c\u4e0a\u62a5\u5230\u6570\u636e\u4e2d\u5fc3\u3002\\n\\n## 4\u3001\u6570\u636e\u6536\u96c6\u5b9e\u73b0\u539f\u7406\\n\\n\u4e0d\u540c\u8bed\u8a00\u7684\u8986\u76d6\u7387\u6536\u96c6\uff0c\u5728\u5b9e\u73b0\u673a\u5236\u751a\u81f3\u8bed\u6cd5\u89c4\u8303\u5c42\u9762\u90fd\u5927\u540c\u5c0f\u5f02\u3002\u5148\u5c06\u7279\u5b9a\u7684\u6807\u8bb0\u6309\u7167\u4e00\u5b9a\u89c4\u5219\u63d2\u5165\u5230\u4ee3\u7801\u884c\u4e2d\uff0c\u8fd9\u4e00\u6b65\u6211\u4eec\u79f0\u4e3a\u201c\u4ee3\u7801\u63d2\u6869\u201c\uff0c\u7136\u540e\u5728\u6267\u884c case \u7684\u8fc7\u7a0b\u4e2d\u6536\u96c6\u8fd9\u4e9b\u6807\u8bb0\u7684\u6267\u884c\u60c5\u51b5\uff0c\u6700\u7ec8\u8ba1\u7b97\u8f93\u51fa\u8986\u76d6\u7387\u7136\u540e\u683c\u5f0f\u5316\u8f93\u51fa\u7ed3\u679c\u3002\u5927\u4f53\u6d41\u7a0b\u5982\u56fe\u6240\u793a\uff1a\\n\\n![20230615100458](http://s3.airtlab.com/blog/20230615100458.png)\\n\\n### 1. \u4ee3\u7801\u63d2\u6869\\n\\n\u4ee3\u7801\u63d2\u6869\u662f\u8986\u76d6\u7387\u6536\u96c6\u7684\u524d\u63d0\uff0c\u8fd9\u4e00\u6b65\u4e3b\u8981\u662f\u5bf9\u73b0\u6709\u4ee3\u7801\u8fdb\u884c\u8bed\u6cd5\u5c42\u9762\u7684\u5206\u6790\uff0c\u5e76\u5728\u884c\u5185\u6307\u5b9a\u7684\u4f4d\u7f6e\u52a0\u5165\u9884\u8bbe\u6807\u8bb0\u3002\u54b1\u4eec\u901a\u8fc7\u4e00\u6bb5\u4ee3\u7801\u770b\u4e0b\u5904\u7406\u524d\u540e\u7684\u5bf9\u6bd4\uff1a\\n\\n**\u6e90\u6587\u4ef6**\\n![20230615100657](http://s3.airtlab.com/blog/20230615100657.png)\\n\\n**\u63d2\u6869\u540e\u6587\u4ef6**\\n![20230615100719](http://s3.airtlab.com/blog/20230615100719.png)\\n\\n## 5\u3001nodejs \u65b9\u6848\u8c03\u7814\\n\\n### 5.1 istanbuljs\\n\\nistanbuljs\uff08\u4e5f\u79f0\u4e3aIstanbul\uff09\u662fJavaScript\u6d4b\u8bd5\u8986\u76d6\u7387\u5de5\u5177\uff0c\u7528\u4e8e\u6d4b\u91cf\u5728\u8fd0\u884c\u6d4b\u8bd5\u65f6\u88ab\u6d4bJavaScript\u4ee3\u7801\u7684\u4ee3\u7801\u8986\u76d6\u7387\u3002istanbul\u53ef\u7528\u4e8e\u5404\u79cd\u7528\u4f8b\uff0c\u5305\u62ec\u524d\u7aef\u548c\u540e\u7aefJavaScript\u4ee3\u7801\u5e93\uff0c\u4f8b\u5982Node.js\u7b49\u3002\\n \\n\u4f7f\u7528istanbuljs\uff0c\u53ef\u4ee5\u4e86\u89e3\u6bcf\u4e2afunction\u3001branch\u548cline\u7684\u4ee3\u7801\u8986\u76d6\u7387\u7387\u60c5\u51b5\u3002istanbuljs \u652f\u6301\u4f7f\u7528\u547d\u4ee4\u884c\u3001\u914d\u7f6e\u6587\u4ef6\u6216API\u8bbe\u7f6e\u548c\u8fd0\u884c\u6d4b\u8bd5\u8986\u76d6\u7387\u3002\u6b64\u5916\uff0cistanbul\u8fd8\u63d0\u4f9b\u4e86\u7528\u4e8e\u751f\u6210\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a\u7684\u9009\u9879\u548c\u63d2\u4ef6\uff0c\u53ef\u4ee5\u751f\u6210\u5404\u79cd\u683c\u5f0f\u7684\u62a5\u544a\uff0c\u5982HTML\u3001\u6587\u672c\u7b49\uff0c\u4ee5\u65b9\u4fbf\u5f00\u53d1\u4eba\u5458\u9605\u8bfb\u548c\u5206\u6790\u6d4b\u8bd5\u7ed3\u679c\u3002\\n\\n\u4f7f\u7528 istanbul \u6709\u52a9\u4e8e\u63d0\u9ad8\u4ee3\u7801\u5e93\u7684\u8d28\u91cf\uff0c\u786e\u4fdd\u4ee3\u7801\u5e93\u7684\u6bcf\u4e2a\u90e8\u5206\u90fd\u5f97\u5230\u8986\u76d6\uff0c\u4ece\u800c\u51cf\u5c11\u6f5c\u5728\u7684\u6f0f\u6d1e\u548c\u9519\u8bef\u3002\\n\\n`istanbuljs` \u5305\u542b\u4e00\u4e9b\u6838\u5fc3\u5305\uff0c\u4ee5 monorepo \u7684\u65b9\u5f0f\u8fdb\u884c\u4ee3\u7801\u7ec4\u7ec7\uff1a\\n\\n![20230615102955](http://s3.airtlab.com/blog/20230615102955.png)\\n\\n\u652f\u6301\u591a\u79cd\u65b9\u5f0f\u7684\u4f7f\u7528\uff1a\\n- cli \u6bd4\u5982 `istanbul cover simple.js`\\n- babel \u501f\u52a9 [babel-plugin-istanbul](https://github.com/istanbuljs/babel-plugin-istanbul)\\n\\n### 5.2 Coveralls\\nCoveralls \u662f\u4e00\u4e2a\u5728\u7ebf\u7684\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a\u670d\u52a1\uff0c\u5b83\u80fd\u591f\u5c06\u4f60\u9879\u76ee\u4e2d\u7684\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a\u8fdb\u884c\u56fe\u5f62\u5316\u5c55\u793a\uff0c\u4e3a\u4f60\u63d0\u4f9b\u6c42\u52a9\u548c\u51b3\u7b56\u7684\u91cd\u8981\u6570\u636e\u3002\\nCoveralls \u652f\u6301\u591a\u79cd\u4e0d\u540c\u7684\u7f16\u7a0b\u8bed\u8a00\u548c\u6d4b\u8bd5\u6846\u67b6\uff0c\u5305\u62ecJavaScript\u3001Python\u3001Java\u3001Ruby\u7b49\u7b49\uff0c\u5e76\u4e0e GitHub\u3001GitLab\u3001Bitbucket \u548c Travis CI \u7b49\u5e38\u7528\u7684\u5728\u7ebf\u4ed3\u5e93\u548c\u81ea\u52a8\u5316\u6784\u5efa\u5e73\u53f0\u8fdb\u884c\u65e0\u7f1d\u96c6\u6210\uff0c\u4f7f\u5f97\u6d4b\u8bd5\u7ed3\u679c\u548c\u4ee3\u7801\u8986\u76d6\u7387\u62a5\u544a\u53ef\u4ee5\u81ea\u52a8\u53d1\u5e03\u5230 Coveralls \u5e73\u53f0\u4e0a\u3002\u8fd9\u6837\u5f00\u53d1\u4eba\u5458\u5c31\u53ef\u4ee5\u8f7b\u677e\u5730\u5bf9\u4ee3\u7801\u5e93\u7684\u6d4b\u8bd5\u8d28\u91cf\u8fdb\u884c\u76d1\u63a7\u548c\u7ba1\u7406\u3002\\n\\nCoveralls \u6bd4\u8f83\u6d41\u884c\u7684\u4e00\u4e2a\u539f\u56e0\u662f\uff0c\u5b83\u63d0\u4f9b\u7684\u8986\u76d6\u7387\u62a5\u544a\u975e\u5e38\u76f4\u89c2\uff0c\u6613\u4e8e\u7406\u89e3\u548c\u5206\u6790\u3002\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u901a\u8fc7\u56fe\u5f62\u5316\u754c\u9762\uff0c\u8be6\u7ec6\u4e86\u89e3\u6d4b\u8bd5\u7528\u4f8b\u548c\u4ee3\u7801\u5e93\u7684\u8986\u76d6\u60c5\u51b5\uff0c\u4ece\u800c\u6709\u9488\u5bf9\u6027\u5730\u8fdb\u884c\u4ee3\u7801\u8c03\u6574\u548c\u4f18\u5316\u3002\\n\\n\u603b\u4e4b\uff0cCoveralls.io\u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u6d4b\u8bd5\u8986\u76d6\u7387\u7684\u68c0\u6d4b\u548c\u5c55\u793a\u5de5\u5177\u3002\\n\\n## 6\u3001\u53c2\u8003\u6587\u6863\\n- [infoq Qunar \u9152\u5e97 NodeJS \u8986\u76d6\u7387\u6536\u96c6\u5b9e\u8df5](https://www.infoq.cn/article/l3mqhbbeadqtlrdmpojz)\\n- [[Node.js] Express\u7684\u6d4b\u8bd5\u8986\u76d6\u7387](https://www.cnblogs.com/moye/p/express_coverage.html)\\n- [\u4ee3\u7801\u8986\u76d6\u7387\u5de5\u5177 Istanbul \u5165\u95e8\u6559\u7a0b](https://www.ruanyifeng.com/blog/2015/06/istanbul.html)\\n- JS\u4ee3\u7801\u8986\u76d6\u7387\u5de5\u5177instanbuljs\u53ca\u5176\u601d\u8def\u4ecb\u7ecd https://shenlvmeng.github.io/blog/2020/04/16/istanbuljs/","isLeaf":true},{"key":"/NodeJS/11 coverage/02-coverage-collection.md","path":"/NodeJS/11 coverage/02-coverage-collection.md","route":"/NodeJS/11 coverage/02-coverage-collection.md","leaf":true,"title":"02-coverage-collection","depth":2,"content":"```ts\\nimport * as fs from \'fs\';\\nimport * as types from \'@babel/types\';\\nimport * as babel from \'@babel/core\';\\nimport generate from \'@babel/generator\';\\n\\nconst code = fs.readFileSync(\'code.ts\', \'utf-8\');\\n\\nconst ast = babel.parse(code, {\\n  presets: [\'@babel/preset-typescript\'],\\n  filename: \'code.ts\',\\n});\\n\\nvar fnCount = 0;\\nvar statementCount = 0;\\nvar branchCount = 0;\\n\\nfunction uni() {\\n  return {\\n    execStatement(index: number) {\\n      \\n    }\\n  }\\n}\\n\\nvar callbackName = \'context\';\\nvar callback = uni();\\n\\nvar stateMap: any = {\\n  \\n}\\n\\nbabel.traverse(ast!, {\\n  // Program (path) {\\n  //   path.scope.push({\\n  //     id: types.identifier(\'myScope\')\\n  //   })\\n  // },\\n  FunctionDeclaration(path) {\\n    fnCount++;\\n  },\\n  ArrowFunctionExpression() {\\n    fnCount++;\\n  },\\n  Expression(t) {},\\n\\n  CallExpression(path) {\\n    statementCount++;\\n    debugger\\n\\n    stateMap[statementCount] = {\\n      loc: {\\n        start: path.node.loc!.start,\\n        end: path.node.loc!.end,\\n      }\\n    }\\n\\n    const i = types.sequenceExpression([\\n      types.callExpression(\\n        types.memberExpression(\\n          types.identifier(callbackName),\\n          types.identifier(\'execStatement\'),\\n        ),\\n        [types.numericLiteral(statementCount)],\\n      ),\\n      path.node,\\n    ]);\\n    path.skip();\\n    path.replaceWith(i);\\n  },\\n\\n  BinaryExpression(path) {\\n    statementCount++;\\n\\n    stateMap[statementCount] = {\\n      loc: {\\n        start: path.node.loc!.start,\\n        end: path.node.loc!.end,\\n      }\\n    }\\n  \\n    const i = types.sequenceExpression([\\n      types.callExpression(\\n        types.memberExpression(\\n          types.identifier(callbackName),\\n          types.identifier(\'execStatement\'),\\n        ),\\n        [types.numericLiteral(statementCount)],\\n      ),\\n      path.node,\\n    ]);\\n    path.skip();\\n    path.replaceWith(i);\\n  },\\n});\\n\\nconst output = generate(\\n  ast!,\\n  {\\n    /* options */\\n  },\\n  code,\\n);\\n\\nconsole.log(output.code);\\nconsole.log(JSON.stringify(stateMap))\\n```","isLeaf":true},{"key":"/NodeJS/11 coverage/03-istanbuljs.md","path":"/NodeJS/11 coverage/03-istanbuljs.md","route":"/NodeJS/11 coverage/03-istanbuljs.md","leaf":true,"title":"03-istanbuljs","depth":2,"content":"## 1\u3001\u914d\u7f6e\\n\\n- @istanbuljs/nyc-config-typescript\\n- source-map-support\\n\\n**package.json**\\n\\n```json\\n  \\"nyc\\": {\\n    \\"extends\\": \\"./nyc-config.js\\",\\n    \\"all\\": true,\\n    \\"require\\": [\\n      \\"ts-node/register/transpile-only\\",\\n      \\"source-map-support/register\\"\\n    ]\\n  },\\n```\\n\\n**nyc-config.js**\\n\\n```js\\nconst { parserPlugins } = require(\'@istanbuljs/schema\').defaults.nyc;\\n\\nmodule.exports = {\\n  cache: false,\\n  parserPlugins: parserPlugins.concat(\'typescript\', \'jsx\', \'decorators-legacy\'),\\n};\\n```\\n\\n## 2\u3001\u63d2\u6869\\n\\n```ts\\nimport { Controller, Get } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\nconst bool = false;\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get()\\n  getHello(): string {\\n    if (bool) {\\n      return this.appService.getHello();\\n    } else {\\n      return \'hello\';\\n    }\\n  }\\n\\n  @Get(\'coverage\')\\n  coverageData() {\\n    return global.__coverage__;\\n  }\\n}\\n```\\n\\n```js\\nfunction cov_s0t1xtp2e() {\\n  var path = \'app.controller.ts\';\\n  var hash = \'d1ab3cf10fe95bb683cc2f63d090695750c72e09\';\\n  var global = new Function(\'return this\')();\\n  var gcv = \'__coverage__\';\\n  var coverageData = {\\n    path: \'app.controller.ts\',\\n    statementMap: {\\n      0: { start: { line: 4, column: 13 }, end: { line: 4, column: 18 } },\\n      1: { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n      2: { start: { line: 13, column: 6 }, end: { line: 13, column: 40 } },\\n      3: { start: { line: 15, column: 6 }, end: { line: 15, column: 20 } },\\n      4: { start: { line: 21, column: 4 }, end: { line: 21, column: 31 } },\\n    },\\n    fnMap: {\\n      0: {\\n        name: \'(anonymous_0)\',\\n        decl: { start: { line: 8, column: 2 }, end: { line: 8, column: 3 } },\\n        loc: { start: { line: 8, column: 55 }, end: { line: 8, column: 57 } },\\n        line: 8,\\n      },\\n      1: {\\n        name: \'(anonymous_1)\',\\n        decl: { start: { line: 10, column: 2 }, end: { line: 10, column: 3 } },\\n        loc: { start: { line: 11, column: 21 }, end: { line: 17, column: 3 } },\\n        line: 11,\\n      },\\n      2: {\\n        name: \'(anonymous_2)\',\\n        decl: { start: { line: 19, column: 2 }, end: { line: 19, column: 3 } },\\n        loc: { start: { line: 20, column: 17 }, end: { line: 22, column: 3 } },\\n        line: 20,\\n      },\\n    },\\n    branchMap: {\\n      0: {\\n        loc: { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n        type: \'if\',\\n        locations: [\\n          { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n          { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n        ],\\n        line: 12,\\n      },\\n    },\\n    s: { 0: 0, 1: 0, 2: 0, 3: 0, 4: 0 },\\n    f: { 0: 0, 1: 0, 2: 0 },\\n    b: { 0: [0, 0] },\\n    _coverageSchema: \'1a1c01bbd47fc00a2c39e90264f33305004495a9\',\\n    hash: \'d1ab3cf10fe95bb683cc2f63d090695750c72e09\',\\n  };\\n  var coverage = global[gcv] || (global[gcv] = {});\\n  if (!coverage[path] || coverage[path].hash !== hash) {\\n    coverage[path] = coverageData;\\n  }\\n  var actualCoverage = coverage[path];\\n  {\\n    cov_s0t1xtp2e = function () {\\n      return actualCoverage;\\n    };\\n  }\\n  return actualCoverage;\\n}\\ncov_s0t1xtp2e();\\nconst bool = (cov_s0t1xtp2e().s[0]++, false);\\nlet AppController = class AppController {\\n  constructor(appService) {\\n    this.appService = appService;\\n    cov_s0t1xtp2e().f[0]++;\\n  }\\n  getHello() {\\n    cov_s0t1xtp2e().f[1]++;\\n    cov_s0t1xtp2e().s[1]++;\\n    if (bool) {\\n      cov_s0t1xtp2e().b[0][0]++;\\n      cov_s0t1xtp2e().s[2]++;\\n      return this.appService.getHello();\\n    } else {\\n      cov_s0t1xtp2e().b[0][1]++;\\n      cov_s0t1xtp2e().s[3]++;\\n      return \'hello\';\\n    }\\n  }\\n  coverageData() {\\n    cov_s0t1xtp2e().f[2]++;\\n    cov_s0t1xtp2e().s[4]++;\\n    return global.__coverage__;\\n  }\\n};\\n```\\n\\n## 2\u3001\u6570\u636e\u7ed3\u6784\\n\\n```json\\n{\\n  \\"path\\": \\"app.controller.ts\\",\\n  \\"statementMap\\": {\\n    \\"0\\": {\\n      \\"start\\": { \\"line\\": 10, \\"column\\": 4 },\\n      \\"end\\": { \\"line\\": 10, \\"column\\": 38 }\\n    },\\n    \\"1\\": {\\n      \\"start\\": { \\"line\\": 15, \\"column\\": 4 },\\n      \\"end\\": { \\"line\\": 15, \\"column\\": 31 }\\n    }\\n  },\\n  \\"fnMap\\": {\\n    \\"0\\": {\\n      \\"name\\": \\"(anonymous_0)\\",\\n      \\"decl\\": {\\n        \\"start\\": { \\"line\\": 6, \\"column\\": 2 },\\n        \\"end\\": { \\"line\\": 6, \\"column\\": 3 }\\n      },\\n      \\"loc\\": {\\n        \\"start\\": { \\"line\\": 6, \\"column\\": 55 },\\n        \\"end\\": { \\"line\\": 6, \\"column\\": 57 }\\n      },\\n      \\"line\\": 6\\n    },\\n    \\"1\\": {\\n      \\"name\\": \\"(anonymous_1)\\",\\n      \\"decl\\": {\\n        \\"start\\": { \\"line\\": 8, \\"column\\": 2 },\\n        \\"end\\": { \\"line\\": 8, \\"column\\": 3 }\\n      },\\n      \\"loc\\": {\\n        \\"start\\": { \\"line\\": 9, \\"column\\": 21 },\\n        \\"end\\": { \\"line\\": 11, \\"column\\": 3 }\\n      },\\n      \\"line\\": 9\\n    },\\n    \\"2\\": {\\n      \\"name\\": \\"(anonymous_2)\\",\\n      \\"decl\\": {\\n        \\"start\\": { \\"line\\": 13, \\"column\\": 2 },\\n        \\"end\\": { \\"line\\": 13, \\"column\\": 3 }\\n      },\\n      \\"loc\\": {\\n        \\"start\\": { \\"line\\": 14, \\"column\\": 17 },\\n        \\"end\\": { \\"line\\": 16, \\"column\\": 3 }\\n      },\\n      \\"line\\": 14\\n    }\\n  },\\n  \\"branchMap\\": {},\\n  \\"s\\": { \\"0\\": 3, \\"1\\": 11 },\\n  \\"f\\": { \\"0\\": 1, \\"1\\": 3, \\"2\\": 11 },\\n  \\"b\\": {},\\n  \\"_coverageSchema\\": \\"1a1c01bbd47fc00a2c39e90264f33305004495a9\\",\\n  \\"hash\\": \\"4ca2bfe3281e37824b063daa0c37f084ca573ddf\\"\\n}\\n```\\n\\n- fnMap \u5bf9\u8c61\u7528\u4e8e\u7ef4\u62a4\u51fd\u6570\u4fe1\u606f\uff0ckey \u4e3a\u51fd\u6570\u7d22\u5f15(\u4ece 0 \u5f00\u59cb)\uff0cloc \u8868\u793a\u51fd\u6570\u4f53\u7684\u4f4d\u7f6e\\n- branchMap \u5bf9\u8c61\u7528\u4e8e\u7ef4\u62a4\u5206\u652f\u4fe1\u606f\uff0ckey \u4e3a\u5206\u652f\u7d22\u5f15(\u4ece 0 \u5f00\u59cb)\uff0cloc \u8868\u793a\u51fd\u6570\u4f53\u7684\u4f4d\u7f6e\\n- s \u5bf9\u8c61\u7528\u4e8e\u7ef4\u62a4 statement \u6267\u884c\u4fe1\u606f\uff0ckey \u4e3a statement \u7d22\u5f15(\u4ece 0 \u5f00\u59cb)\uff0cvalue \u4e3a\u6267\u884c\u6b21\u6570\\n- f \u5bf9\u8c61\u7528\u4e8e\u7ef4\u62a4 function \u6267\u884c\u4fe1\u606f\uff0ckey \u4e3a function \u7d22\u5f15(\u4ece 0 \u5f00\u59cb)\uff0cvalue \u4e3a\u6267\u884c\u6b21\u6570\\n\\n### function\\n\\n### statement\\n\\n### branch\\n\\n### \u53ef\u89c6\u5316\\n\\n![20230706115628](http://s3.airtlab.com/blog/20230706115628.png)\\n\\n## \u6838\u5fc3\u90e8\u4ef6\\n- istanbul-lib-coverage \u5206\u6790\u8986\u76d6\u7387\u5143\u6570\u636e (\u4f8b\u5982\uff1a\u54ea\u4e9b\u884c\u88ab\u6267\u884c\uff0c\u54ea\u4e9b\u884c\u6ca1\u6709\u88ab\u6267\u884c)\\n- istanbul-lib-instrument\\n- istanbul-lib-report\\n- istanbul-lib-source-maps\\n- istanbul-reports \\n- istanbul-middleware https://github.com/gotwarlost/istanbul-middleware/blob/master/README.md\\n","isLeaf":true},{"key":"/NodeJS/11 coverage/04-\u524d\u7aef\u4ee3\u7801\u63d2\u6869\u4e0e\u8986\u76d6\u7387.md","path":"/NodeJS/11 coverage/04-\u524d\u7aef\u4ee3\u7801\u63d2\u6869\u4e0e\u8986\u76d6\u7387.md","route":"/NodeJS/11 coverage/04-\u524d\u7aef\u4ee3\u7801\u63d2\u6869\u4e0e\u8986\u76d6\u7387.md","leaf":true,"title":"04-\u524d\u7aef\u4ee3\u7801\u63d2\u6869\u4e0e\u8986\u76d6\u7387","depth":2,"content":"https://juejin.cn/post/7022928631756226591","isLeaf":true},{"key":"/NodeJS/11 coverage/05-\u8986\u76d6\u7387\u5b9e\u65f6\u7edf\u8ba1\u5de5\u5177.md","path":"/NodeJS/11 coverage/05-\u8986\u76d6\u7387\u5b9e\u65f6\u7edf\u8ba1\u5de5\u5177.md","route":"/NodeJS/11 coverage/05-\u8986\u76d6\u7387\u5b9e\u65f6\u7edf\u8ba1\u5de5\u5177.md","leaf":true,"title":"05-\u8986\u76d6\u7387\u5b9e\u65f6\u7edf\u8ba1\u5de5\u5177","depth":2,"content":"- https://shenlvmeng.github.io/blog/2020/04/16/fe-coverage-scheme/#%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86\\n- https://tech.youzan.com/front-coverage/","isLeaf":true},{"key":"/NodeJS/11 coverage/06-\u9177\u5bb6\u4e50\u57fa\u4e8eIstanbul \u4f18\u96c5\u5730\u642d\u5efa\u524d\u7aefJS\u8986\u76d6\u7387\u5e73\u53f0.md","path":"/NodeJS/11 coverage/06-\u9177\u5bb6\u4e50\u57fa\u4e8eIstanbul \u4f18\u96c5\u5730\u642d\u5efa\u524d\u7aefJS\u8986\u76d6\u7387\u5e73\u53f0.md","route":"/NodeJS/11 coverage/06-\u9177\u5bb6\u4e50\u57fa\u4e8eIstanbul \u4f18\u96c5\u5730\u642d\u5efa\u524d\u7aefJS\u8986\u76d6\u7387\u5e73\u53f0.md","leaf":true,"title":"06-\u9177\u5bb6\u4e50\u57fa\u4e8eIstanbul \u4f18\u96c5\u5730\u642d\u5efa\u524d\u7aefJS\u8986\u76d6\u7387\u5e73\u53f0","depth":2,"content":"- https://tech.kujiale.com/qian-duan-fu-gai-lu/","isLeaf":true},{"key":"/NodeJS/11 coverage/07-nyc-\u5bf9import\u8bed\u53e5\u7684\u63d2\u6869\u95ee\u9898.md","path":"/NodeJS/11 coverage/07-nyc-\u5bf9import\u8bed\u53e5\u7684\u63d2\u6869\u95ee\u9898.md","route":"/NodeJS/11 coverage/07-nyc-\u5bf9import\u8bed\u53e5\u7684\u63d2\u6869\u95ee\u9898.md","leaf":true,"title":"07-nyc-\u5bf9import\u8bed\u53e5\u7684\u63d2\u6869\u95ee\u9898","depth":2,"content":"```ts\\nimport { Controller, Get } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\nconst bool = false;\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get()\\n  getHello(): string {\\n    if (bool) {\\n      return this.appService.getHello();\\n    } else {\\n      return \'hello\'\\n    }\\n  }\\n\\n  @Get(\'coverage\')\\n  coverageData() {\\n    return global.__coverage__;\\n  }\\n}\\n```\\n\\n\u63d2\u6869\u540e:\\n\\n```ts\\nfunction cov_2hfyi6yc4b() {\\n  var path =\\n    \'/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.controller.ts\';\\n  var hash = \'0b26da660683c2d07ef512cf6e4f064c27d36f10\';\\n  var global = new Function(\'return this\')();\\n  var gcv = \'__coverage__\';\\n  var coverageData = {\\n    path: \'/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.controller.ts\',\\n    statementMap: {\\n      \'0\': { start: { line: 4, column: 13 }, end: { line: 4, column: 18 } },\\n      \'1\': { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n      \'2\': { start: { line: 13, column: 6 }, end: { line: 13, column: 40 } },\\n      \'3\': { start: { line: 15, column: 6 }, end: { line: 15, column: 20 } },\\n      \'4\': { start: { line: 21, column: 4 }, end: { line: 21, column: 31 } },\\n    },\\n    fnMap: {\\n      \'0\': {\\n        name: \'(anonymous_0)\',\\n        decl: { start: { line: 8, column: 2 }, end: { line: 8, column: 3 } },\\n        loc: { start: { line: 8, column: 55 }, end: { line: 8, column: 57 } },\\n        line: 8,\\n      },\\n      \'1\': {\\n        name: \'(anonymous_1)\',\\n        decl: { start: { line: 10, column: 2 }, end: { line: 10, column: 3 } },\\n        loc: { start: { line: 11, column: 21 }, end: { line: 17, column: 3 } },\\n        line: 11,\\n      },\\n      \'2\': {\\n        name: \'(anonymous_2)\',\\n        decl: { start: { line: 19, column: 2 }, end: { line: 19, column: 3 } },\\n        loc: { start: { line: 20, column: 17 }, end: { line: 22, column: 3 } },\\n        line: 20,\\n      },\\n    },\\n    branchMap: {\\n      \'0\': {\\n        loc: { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n        type: \'if\',\\n        locations: [\\n          { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n          { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n        ],\\n        line: 12,\\n      },\\n    },\\n    s: { \'0\': 0, \'1\': 0, \'2\': 0, \'3\': 0, \'4\': 0 },\\n    f: { \'0\': 0, \'1\': 0, \'2\': 0 },\\n    b: { \'0\': [0, 0] },\\n    _coverageSchema: \'1a1c01bbd47fc00a2c39e90264f33305004495a9\',\\n    hash: \'0b26da660683c2d07ef512cf6e4f064c27d36f10\',\\n  };\\n  var coverage = global[gcv] || (global[gcv] = {});\\n  if (!coverage[path] || coverage[path].hash !== hash) {\\n    coverage[path] = coverageData;\\n  }\\n  var actualCoverage = coverage[path];\\n  {\\n    // @ts-ignore\\n    cov_2hfyi6yc4b = function () {\\n      return actualCoverage;\\n    };\\n  }\\n  return actualCoverage;\\n}\\ncov_2hfyi6yc4b();\\nimport { Controller, Get } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\nconst bool = (cov_2hfyi6yc4b().s[0]++, false);\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {\\n    cov_2hfyi6yc4b().f[0]++;\\n  }\\n  @Get() getHello(): string {\\n    cov_2hfyi6yc4b().f[1]++;\\n    cov_2hfyi6yc4b().s[1]++;\\n    if (bool) {\\n      cov_2hfyi6yc4b().b[0][0]++;\\n      cov_2hfyi6yc4b().s[2]++;\\n      return this.appService.getHello();\\n    } else {\\n      cov_2hfyi6yc4b().b[0][1]++;\\n      cov_2hfyi6yc4b().s[3]++;\\n      return \'hello\';\\n    }\\n  }\\n  @Get(\'coverage\') coverageData() {\\n    cov_2hfyi6yc4b().f[2]++;\\n    cov_2hfyi6yc4b().s[4]++;\\n    return global.__coverage__;\\n  }\\n}\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmhmeWk2eWM0YiIsImFjdHVhbENvdmVyYWdlIiwiQ29udHJvbGxlciIsIkdldCIsIkFwcFNlcnZpY2UiLCJib29sIiwicyIsIkFwcENvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsImFwcFNlcnZpY2UiLCJmIiwiZ2V0SGVsbG8iLCJiIiwiY292ZXJhZ2VEYXRhIiwiZ2xvYmFsIiwiX19jb3ZlcmFnZV9fIl0sInNvdXJjZXMiOlsiYXBwLmNvbnRyb2xsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udHJvbGxlciwgR2V0IH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgQXBwU2VydmljZSB9IGZyb20gJy4vYXBwLnNlcnZpY2UnO1xuXG5jb25zdCBib29sID0gZmFsc2U7XG5cbkBDb250cm9sbGVyKClcbmV4cG9ydCBjbGFzcyBBcHBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhcHBTZXJ2aWNlOiBBcHBTZXJ2aWNlKSB7fVxuXG4gIEBHZXQoKVxuICBnZXRIZWxsbygpOiBzdHJpbmcge1xuICAgIGlmIChib29sKSB7XG4gICAgICByZXR1cm4gdGhpcy5hcHBTZXJ2aWNlLmdldEhlbGxvKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnaGVsbG8nXG4gICAgfVxuICB9XG5cbiAgQEdldCgnY292ZXJhZ2UnKVxuICBjb3ZlcmFnZURhdGEoKSB7XG4gICAgcmV0dXJuIGdsb2JhbC5fX2NvdmVyYWdlX187XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Im9rREFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixPQUFTRSxVQUFVLENBQUVDLEdBQUcsS0FBUSxnQkFBZ0IsQ0FDaEQsT0FBU0MsVUFBVSxLQUFRLGVBQWUsQ0FFMUMsS0FBTSxDQUFBQyxJQUFJLEVBQUFMLGNBQUEsR0FBQU0sQ0FBQSxNQUFHLEtBQUssRUFFbEIsQ0FBQ0osVUFBVSxDQUFDLENBQUMsTUFBYixNQUNhLENBQUFLLGFBQWMsQ0FDekJDLFdBQVdBLENBQUMsZ0JBQWlCLENBQUFDLFVBQVUsQ0FBRUwsVUFBVSxDQUFFLENBQUFKLGNBQUEsR0FBQVUsQ0FBQSxNQUFDLENBRXRELENBQUNQLEdBQUcsQ0FBQyxDQUNMUSxRQUFRQSxDQUFBLENBQUUsQ0FBRSxNQUFPLENBQUFYLGNBQUEsR0FBQVUsQ0FBQSxNQUFBVixjQUFBLEdBQUFNLENBQUEsTUFDakIsR0FBSUQsSUFBSSxDQUFFLENBQUFMLGNBQUEsR0FBQVksQ0FBQSxTQUFBWixjQUFBLEdBQUFNLENBQUEsTUFDUixNQUFPLEtBQUksQ0FBQ0csVUFBVSxDQUFDRSxRQUFRLENBQUMsQ0FBQyxDQUNuQyxDQUFDLElBQU0sQ0FBQVgsY0FBQSxHQUFBWSxDQUFBLFNBQUFaLGNBQUEsR0FBQU0sQ0FBQSxNQUNMLE1BQU8sT0FBTyxDQUNoQixDQUNGLENBRUEsQ0FBQ0gsR0FBRyxDQUFDLFVBQVUsQ0FDZlUsWUFBWUEsQ0FBQSxDQUFHLENBQUFiLGNBQUEsR0FBQVUsQ0FBQSxNQUFBVixjQUFBLEdBQUFNLENBQUEsTUFDYixNQUFPLENBQUFRLE1BQU0sQ0FBQ0MsWUFBWSxDQUM1QixDQUNGIn0=\\n```\\n\\n\u4e3a\u4ec0\u4e48 import \u8bed\u53e5\u6ca1\u6709\u88ab\u63d2\u6869\u5462\\n\\n```ts\\nimport { Controller, Get } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n```\\n\\n\u6211\u4ee5\u4e3a\u7684\uff1a\\n```ts\\nimport { Controller, Get } from \'@nestjs/common\';\\ncov_2hfyi6yc4b().s[0]++;\\nimport { AppService } from \'./app.service\';\\ncov_2hfyi6yc4b().s[1]++;\\n```\\n\\n\u7528 `npm run test:cov` \u548c \u81ea\u5b9a\u4e49\u7684\u63d2\u6869\u7ed3\u679c\u4e0d\u4e00\u81f4\\n\\n\u4f46\u662f\u62a5\u544a\u4e0a\u5374\u663e\u793a\u8fd9\u4e24\u4e2a\u8bed\u53e5\u5df2\u7ecf\u6267\u884c\uff0c\u600e\u4e48\u505a\u5230\u7684\u5462\\n\\n![20230707170338](http://s3.airtlab.com/blog/20230707170338.png)\\n\\n\u53ef\u4ee5\u770b\u770b\u5b83\u7684\u6570\u636e\u7edf\u8ba1\uff1a\\n```xml\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<coverage generated=\\"1688720531034\\" clover=\\"3.2.0\\">\\n  <project timestamp=\\"1688720531034\\" name=\\"All files\\">\\n    <metrics statements=\\"24\\" coveredstatements=\\"15\\" conditionals=\\"2\\" coveredconditionals=\\"1\\" methods=\\"5\\" coveredmethods=\\"2\\" elements=\\"31\\" coveredelements=\\"18\\" complexity=\\"0\\" loc=\\"24\\" ncloc=\\"24\\" packages=\\"1\\" files=\\"4\\" classes=\\"4\\"/>\\n    <file name=\\"app.controller.ts\\" path=\\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.controller.ts\\">\\n      <metrics statements=\\"11\\" coveredstatements=\\"9\\" conditionals=\\"2\\" coveredconditionals=\\"1\\" methods=\\"3\\" coveredmethods=\\"2\\"/>\\n      <line num=\\"1\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"2\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"4\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"7\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"8\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"10\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"12\\" count=\\"1\\" type=\\"cond\\" truecount=\\"1\\" falsecount=\\"1\\"/>\\n      <line num=\\"13\\" count=\\"0\\" type=\\"stmt\\"/>\\n      <line num=\\"15\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"19\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"21\\" count=\\"0\\" type=\\"stmt\\"/>\\n    </file>\\n    <file name=\\"app.module.ts\\" path=\\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.module.ts\\">\\n      <metrics statements=\\"4\\" coveredstatements=\\"4\\" conditionals=\\"0\\" coveredconditionals=\\"0\\" methods=\\"0\\" coveredmethods=\\"0\\"/>\\n      <line num=\\"1\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"2\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"3\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"10\\" count=\\"1\\" type=\\"stmt\\"/>\\n    </file>\\n    <file name=\\"app.service.ts\\" path=\\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.service.ts\\">\\n      <metrics statements=\\"3\\" coveredstatements=\\"2\\" conditionals=\\"0\\" coveredconditionals=\\"0\\" methods=\\"1\\" coveredmethods=\\"0\\"/>\\n      <line num=\\"1\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"4\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"6\\" count=\\"0\\" type=\\"stmt\\"/>\\n    </file>\\n    <file name=\\"main.ts\\" path=\\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/main.ts\\">\\n      <metrics statements=\\"6\\" coveredstatements=\\"0\\" conditionals=\\"0\\" coveredconditionals=\\"0\\" methods=\\"1\\" coveredmethods=\\"0\\"/>\\n      <line num=\\"1\\" count=\\"0\\" type=\\"stmt\\"/>\\n      <line num=\\"2\\" count=\\"0\\" type=\\"stmt\\"/>\\n      <line num=\\"4\\" count=\\"0\\" type=\\"stmt\\"/>\\n      <line num=\\"7\\" count=\\"0\\" type=\\"stmt\\"/>\\n      <line num=\\"8\\" count=\\"0\\" type=\\"stmt\\"/>\\n      <line num=\\"11\\" count=\\"0\\" type=\\"stmt\\"/>\\n    </file>\\n  </project>\\n</coverage>\\n```\\n\\n\u6211\u4eec\u9700\u8981\u770b\u770b\u4ed6\u7684\u6e90\u7801\u662f\u5982\u4f55\u751f\u6210\u8fd9\u4e2a\u6570\u636e\u7684","isLeaf":true},{"key":"/NodeJS/11 coverage/08-nyc-config-typescript and decorators.md","path":"/NodeJS/11 coverage/08-nyc-config-typescript and decorators.md","route":"/NodeJS/11 coverage/08-nyc-config-typescript and decorators.md","leaf":true,"title":"08-nyc-config-typescript and decorators","depth":2,"content":"https://github.com/istanbuljs/nyc/issues/1437","isLeaf":true},{"key":"/NodeJS/11 coverage/nyc.md","path":"/NodeJS/11 coverage/nyc.md","route":"/NodeJS/11 coverage/nyc.md","leaf":true,"title":"nyc","depth":2,"content":"","isLeaf":true},{"key":"/NodeJS/11 coverage/\u63a2\u7d22istanbulnyc\u4ee3\u7801\u8986\u76d6\u5de5\u5177\u7684\u539f\u7406.md","path":"/NodeJS/11 coverage/\u63a2\u7d22istanbulnyc\u4ee3\u7801\u8986\u76d6\u5de5\u5177\u7684\u539f\u7406.md","route":"/NodeJS/11 coverage/\u63a2\u7d22istanbulnyc\u4ee3\u7801\u8986\u76d6\u5de5\u5177\u7684\u539f\u7406.md","leaf":true,"title":"\u63a2\u7d22istanbulnyc\u4ee3\u7801\u8986\u76d6\u5de5\u5177\u7684\u539f\u7406","depth":2,"content":"https://zhuanlan.zhihu.com/p/88524418","isLeaf":true}]},{"key":"/NodeJS/12 socket-proxy","path":"/NodeJS/12 socket-proxy","route":"/NodeJS/12 socket-proxy","leaf":false,"title":"12 socket-proxy","depth":1,"content":"","isLeaf":false,"children":[{"key":"/NodeJS/12 socket-proxy/index.md","path":"/NodeJS/12 socket-proxy/index.md","route":"/NodeJS/12 socket-proxy/index.md","leaf":true,"title":"index","depth":2,"content":"\u7528 nodejs \u5b9e\u73b0 socket \u4ee3\u7406\u670d\u52a1\u5668\uff0c\u5305\u62ec TCP \u548c  UDP","isLeaf":true}]},{"key":"/NodeJS/13 simple-rpc","path":"/NodeJS/13 simple-rpc","route":"/NodeJS/13 simple-rpc","leaf":false,"title":"13 simple-rpc","depth":1,"content":"","isLeaf":false,"children":[{"key":"/NodeJS/13 simple-rpc/index.md","path":"/NodeJS/13 simple-rpc/index.md","route":"/NodeJS/13 simple-rpc/index.md","leaf":true,"title":"index","depth":2,"content":"\u7528 nodejs \u5b9e\u73b0\u7b80\u5355\u7684 RPC \u6846\u67b6\\n\\nhttps://github.com/hustxiaoc/simple-rpc","isLeaf":true}]},{"key":"/NodeJS/index.md","path":"/NodeJS/index.md","route":"/NodeJS/index.md","leaf":true,"title":"index","depth":1,"content":"---\\ntitle: 00 nodejs \u4ecb\u7ecd\\n---\\n\\n![](https://www.persistent.com/wp-content/uploads/2016/02/blog-banner-Is-your-Node.js-application-production-ready-scaled.jpg)\\n\\nnodejs \u5b66\u4e60\u7b14\u8bb0\uff0c\u5185\u5bb9\u975e\u5b8c\u5168\u539f\u521b\uff0c\u76f8\u5173\u5185\u5bb9\u4f1a\u5907\u6ce8\u539f\u4f5c\u8005\u3002\\n\\n\u7279\u522b\u611f\u8c22\uff1a\\n- [Barret\u674e\u9756](https://github.com/barretlee)\\n- [doodlewind](https://www.zhihu.com/people/doodlewind)\\n- [\u6dd8\u5c0f\u6770](https://github.com/hustxiaoc)\\n- [\u505a\u524d\u7aef\u7684\u8717\u725b](https://space.bilibili.com/486675132)\\n- [\u90b1\u660a\u5b87](https://www.zhihu.com/people/timothyqiu)\\n- [\u5c0f\u6797coding](https://xiaolincoding.com/)\\n- [\u795e\u8bf4\u8981\u6709\u5149](https://www.zhihu.com/people/di-xu-guang-50)\\n\\n\u53c2\u8003\u8d44\u6599\uff1a\\n- NodeJS \u6280\u672f\u6808 https://www.nodejs.red/#/README\\n- nodejs.dev https://nodeshift.dev/nodejs-reference-architecture/","isLeaf":true}]},{"key":"/achieve","path":"/achieve","route":"/achieve","leaf":false,"title":"achieve","depth":0,"content":"","isLeaf":false,"children":[{"key":"/achieve/h5-vue-template.md","path":"/achieve/h5-vue-template.md","route":"/achieve/h5-vue-template.md","leaf":true,"title":"h5-vue-template","depth":1,"content":"## 1\\n- https://sunniejs.github.io/vue-h5-template/guide/\\n\\n![20230630104041](http://s3.airtlab.com/blog/20230630104041.png)\\n\\n## 2\\n\\n- https://github.com/yulimchen/vue3-h5-template\\n\\n![20230630104710](http://s3.airtlab.com/blog/20230630104710.png)","isLeaf":true},{"key":"/achieve/nestjs-template.md","path":"/achieve/nestjs-template.md","route":"/achieve/nestjs-template.md","leaf":true,"title":"nestjs-template","depth":1,"content":"\u4e00\u4e2a C \u7aef API \u5feb\u901f\u5f00\u53d1\u6a21\u677f\uff0c\u6e90\u4ee3\u7801\u89c1 https://github.com/fiiai/nestjs-template\\n\\n## 1. \u9879\u76ee\u4ecb\u7ecd\\n\\n\u4f7f\u7528 NestJS \u8fdb\u884c API \u901a\u7528\u4e1a\u52a1\u6846\u67b6\u6700\u4f73\u5b9e\u8df5\u65b9\u6848\uff0c\u7b14\u8005\u4f1a\u5b9a\u671f\u7684\u66f4\u65b0\uff0c\u6b22\u8fce\u6307\u6b63\u3002API \u6587\u6863 \ud83d\udc49 https://www.apifox.cn/web/project/2299100\\n\u5305\u542b\u5982\u4e0b\u7279\u6027\uff1a\\n\\n- \u3010\u89c4\u8303\u3011\u5de5\u7a0b\u76ee\u5f55\\n- \u3010\u89c4\u8303\u3011\u4ee3\u7801\u98ce\u683c\\n- \u3010\u76d1\u63a7\u3011\u5f02\u5e38\u76d1\u63a7\\n- \u3010\u7279\u6027\u3011\u65e5\u5fd7\u6253\u5370\\n- \u3010\u7279\u6027\u3011\u914d\u7f6e\u7ba1\u7406\\n- \u3010\u7279\u6027\u3011\u552f\u4e00 ID\\n- \u3010\u7279\u6027\u3011socket.io \u96c6\u6210\\n- \u3010\u7279\u6027\u3011redis \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011mysql \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011mongoose \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011mailer \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011rabbitmq \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011qiniu \u96c6\u6210\\n- \u3010\u7279\u6027\u3011API \u6587\u6863\u65b9\u6848\\n- \u3010\u7279\u6027\u3011\u4ee3\u7801\u6587\u6863\u65b9\u6848\\n\\n## 2. \u5185\u7f6e\u6a21\u5757\\n\\n- [x] \u8d26\u6237\u6a21\u5757\\n- [x] \u56fe\u6587\u5217\u8868\\n- [x] \u8bc4\u8bba\u6a21\u5757\\n- [x] \u4e0a\u4f20\u6a21\u5757\\n- [x] \u6570\u636e\u91c7\u96c6\\n- [x] \u5730\u5740\u7ba1\u7406\\n- [x] \u94b1\u5305\u529f\u80fd\\n- [x] \u6388\u6743\u767b\u5f55\\n  - [x] \u5fae\u4fe1\u767b\u5f55\\n- [x] \u652f\u4ed8\u80fd\u529b\\n  - [x] \u652f\u4ed8\u5b9d\u652f\u4ed8\\n  - [x] \u5fae\u4fe1\u652f\u4ed8\\n- [x] \u6743\u9650\u7ba1\u7406\\n- [x] \u77ed\u4fe1\u63a8\u9001\\n- [ ] \u7ad9\u5185\u6d88\u606f\\n\\n\\n## 3. \u6280\u672f\u9009\u578b\\n\\n| \u540d\u79f0     | \u65b9\u6848                                                        |\\n| -------- | ----------------------------------------------------------- |\\n| \u6846\u67b6     | [nestjs](https://nestjs.com/)                               |\\n| \u65f6\u95f4\u5904\u7406 | [dayjs](https://day.js.org/docs/en/installation/typescript) |\\n| \u957f\u8fde\u63a5   | [socket.io](https://socket.io/) & nestjs platform           |\\n| \u65e5\u5fd7     | [pino](https://github.com/pinojs/pino)                      |\\n| \u5927\u6570\u5904\u7406 | [bignumber.js](https://mikemcl.github.io/bignumber.js/)     |\\n\\n## 4. \u6280\u672f\u65b9\u6848\\n\\n### 4.0 \u8bf7\u6c42\u751f\u547d\u5468\u671f\\n\\n![20230301191226](http://s3.airtlab.com/blog/20230301191226.png)\\n\\n### 4.1 \u5de5\u7a0b\u76ee\u5f55\\n\\n```text\\n\u251c\u2500\u2500 config\\n\u2502\xa0\xa0 \u251c\u2500\u2500 dev.config.yaml\\n\u2502\xa0\xa0 \u251c\u2500\u2500 live.config.yaml\\n\u2502\xa0\xa0 \u2514\u2500\u2500 local.config.yaml\\n\u251c\u2500\u2500 libs\\n\u2502\xa0\xa0 \u251c\u2500\u2500 common\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 filters\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 guard\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 interceptor\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 middleware\\n\u2502\xa0\xa0 \u251c\u2500\u2500 config\\n\u2502\xa0\xa0 \u251c\u2500\u2500 constant\\n\u2502\xa0\xa0 \u251c\u2500\u2500 logger\\n\u2502\xa0\xa0 \u251c\u2500\u2500 mailer\\n\u2502\xa0\xa0 \u251c\u2500\u2500 mongo\\n\u2502\xa0\xa0 \u251c\u2500\u2500 redis\\n\u2502\xa0\xa0 \u251c\u2500\u2500 request\\n\u2502\xa0\xa0 \u251c\u2500\u2500 s3\\n\u2502\xa0\xa0 \u2514\u2500\u2500 utils\\n\u251c\u2500\u2500 src\\n\u2502\xa0\xa0 \u251c\u2500\u2500 app.module.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 domain-admin\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 admin.module.ts\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 common\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 module\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 shared\\n\u2502\xa0\xa0 \u251c\u2500\u2500 domain-app\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 app.module.ts\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 common\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 module\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 shared\\n\u2502\xa0\xa0 \u251c\u2500\u2500 exception.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 global.d.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 main.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 modules\\n\u2502\xa0\xa0     \u251c\u2500\u2500 common\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 db\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 entity\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 filters\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 middleware\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 pipes\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 prom\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u2514\u2500\u2500 validate\\n\u2502\xa0\xa0     \u251c\u2500\u2500 enums\\n\u2502\xa0\xa0     \u251c\u2500\u2500 feature\\n\u2502\xa0\xa0     \u251c\u2500\u2500 mock\\n\u2502\xa0\xa0     \u251c\u2500\u2500 types\\n\u2502\xa0\xa0     \u251c\u2500\u2500 utils\\n\u2502\xa0\xa0     \u2514\u2500\u2500 vos\\n\u251c\u2500\u2500 tsconfig.build.json\\n\u251c\u2500\u2500 tsconfig.json\\n\u2514\u2500\u2500 yarn.lock\\n```\\n\\n### 4.2 \u4ee3\u7801\u98ce\u683c\\n\\n[Angular \u4ee3\u7801\u98ce\u683c\u6307\u5357](https://angular.io/guide/styleguide)\\n\\n### 4.3 \u5f02\u5e38\u76d1\u63a7\\n\\n\u6570\u636e\u91c7\u96c6 & \u5c55\u793a\u91c7\u7528 Prom + Grafana\uff0c\u76d1\u63a7\u6307\u6807\u8bbe\u8ba1 TODO\u3002\\n\\n### 4.4 \u65e5\u5fd7\u6253\u5370\\n\\n[winston](https://github.com/winstonjs/winston)\\n\\n\\n### 4.5 \u9879\u76ee\u6587\u6863\\n```shell\\nnpx @compodoc/compodoc -p tsconfig.json -s\\n```","isLeaf":true},{"key":"/achieve/react-native-template.md","path":"/achieve/react-native-template.md","route":"/achieve/react-native-template.md","leaf":true,"title":"react-native-template","depth":1,"content":"## 1. \u9879\u76ee\u4ecb\u7ecd\\nreact native \u5feb\u901f\u5f00\u53d1\u6a21\u677f\uff0c\u5e0c\u671b\u6709\u65f6\u95f4\u7684\u670b\u53cb\u4e00\u8d77\u6765\u5b8c\u5584\uff0c\u52a0\u5fae\u4fe1\u8fdb\u7fa4\uff1agaoxiong957\\n\\n## 2. \u6280\u672f\u9009\u578b\\n\\n### 2.1 \u6280\u672f\u9009\u578b\\n\\n| \u540d\u79f0     | \u65b9\u6848                                                                                                                    |\\n| -------- | ----------------------------------------------------------------------------------------------------------------------- |\\n| \u8def\u7531\u5e93   | [react navigation](https://reactnavigation.org)                                                                         |\\n| \u72b6\u6001\u7ba1\u7406 | mobx + context                                                                                                          |\\n| SVG \u56fe\u6807 | react-native-svg \u642d\u914d react-native-iconfont-cli                                                                         |\\n| \u672c\u5730\u5b58\u50a8 | @react-native-async-storage/async-storage                                                                               |\\n| \u65f6\u95f4\u5904\u7406 | [dayjs](https://day.js.org/docs/en/installation/typescript)                                                             |\\n| UI \u5e93    | [native-base](https://docs.nativebase.io/)                                                                              |\\n| \u552f\u4e00 ID  | uuid & react-native-get-random-values                                                                                   |\\n| \u6d88\u606f\u63a8\u9001 | [react-native-push-notification](https://github.com/zo0r/react-native-push-notification#readme)                         |\\n| \u65e5\u5fd7\u5de5\u5177 | [react-native-logs](https://github.com/onubo/react-native-logs)                                                         |\\n| \u52a8\u753b     | [lottie-react-native](https://github.com/lottie-react-native/lottie-react-native) [lottie](https://airbnb.io/lottie/#/) |\\n| \u6587\u4ef6\u7ba1\u7406 | [react-native-fs](https://github.com/itinance/react-native-fs) |\\n| \u626b\u4e8c\u7ef4\u7801 | [react-native-camera](https://react-native-camera.github.io/react-native-camera/) |\\n| \u9634\u5f71\u6548\u679c | [react-native-drop-shadow](https://www.npmjs.com/package/react-native-drop-shadow) |\\n| Table | [react-native-table-component](https://github.com/wiiai/react-native-table-component) |\\n| network-logger | [react-native-network-logger](https://www.npmjs.com/package/react-native-network-logger) |\\n| \u5206\u5305\u62c6\u5305 | TODO                                                                                                                    |\\n\\n### 2.2 \u5185\u90e8\u67b6\u6784\\n\\n```\\nsrc\\n\u251c\u2500\u2500 App.tsx\\n\u251c\u2500\u2500 assets\\n\u2502   \u251c\u2500\u2500 iconfont \u56fe\u6807\\n\u2502   \u2514\u2500\u2500 img \u56fe\u7247\\n\u251c\u2500\u2500 baseUI \u901a\u7528UI\\n\u251c\u2500\u2500 config \u914d\u7f6e\\n\u2502   \u251c\u2500\u2500 index.ts \u5e38\u91cf\u914d\u7f6e\\n\u2502   \u251c\u2500\u2500 theme.ts \u4e3b\u9898\u914d\u7f6e\\n\u2502   \u2514\u2500\u2500 request.ts http \u8bf7\u6c42\u914d\u7f6e\\n\u251c\u2500\u2500 global.d.ts \u5168\u5c40\u7c7b\u578b\u5b9a\u4e49\\n\u251c\u2500\u2500 models \u72b6\u6001\u7ba1\u7406\u76ee\u5f55\\n\u2502   \u251c\u2500\u2500 account.ts\\n\u2502   \u2514\u2500\u2500 index.ts\\n\u251c\u2500\u2500 navigator navigation \u914d\u7f6e\\n\u2502   \u251c\u2500\u2500 MainTab.tsx\\n\u2502   \u251c\u2500\u2500 MainTabBar.tsx\\n\u2502   \u2514\u2500\u2500 index.tsx\\n\u251c\u2500\u2500 pages \u9875\u9762\\n\u2502   \u251c\u2500\u2500 contact\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 detail\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 h5\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 home\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 login\\n\u2502   \u2502   \u251c\u2500\u2500 index.tsx\\n\u2502   \u2502   \u2514\u2500\u2500 style.ts\\n\u2502   \u2514\u2500\u2500 me\\n\u2502       \u2514\u2500\u2500 index.tsx\\n\u251c\u2500\u2500 services \u63a5\u53e3\\n\u2502   \u2514\u2500\u2500 account.ts\\n\u251c\u2500\u2500 types \u7c7b\u578b\u76ee\u5f55\\n\u2502   \u251c\u2500\u2500 ResData.ts\\n\u2502   \u2514\u2500\u2500 UserInfo.ts\\n\u251c\u2500\u2500 utils \u5de5\u5177\u51fd\u6570\\n\u2502   \u251c\u2500\u2500 auth.ts \u767b\u5f55\u76f8\u5173\\n\u2502   \u251c\u2500\u2500 screen.ts \u9875\u9762\u76f8\u5173\\n\u2502   \u251c\u2500\u2500 storage.ts \u672c\u5730\u5b58\u50a8\\n\u2514\u2500\u2500 wrappers\\n```\\n\\n### 2.3 \u542f\u52a8\u6d41\u7a0b\\n\\n```tsx\\nimport * as React from \'react\';\\nimport {rootStore, StoreContext} from \'./models\';\\nimport Navigator from \'./navigator\';\\nimport {NativeBaseProvider} from \'native-base\';\\nimport {loadCacheUInfo} from \'./utils/auth\';\\nimport {View, Text} from \'react-native\';\\n\\nexport default function App() {\\n  const [isLoaded, setIsLoaded] = React.useState(false);\\n\\n  React.useEffect(() => {\\n    beforeBootstrap().then(() => {\\n      setIsLoaded(true);\\n    });\\n  }, []);\\n\\n  // \u5728\u5e94\u7528\u4e3b\u6846\u67b6\u542f\u52a8\u4e4b\u524d\u8981\u5e72\u7684\u4e8b\u60c5\\n  // \u53ef\u4ee5\u5728\u8fd9\u91cc\u914d\u7f6e\u4f60\u60f3\u5e72\u7684\u4e8b\u60c5\\n  const beforeBootstrap = async () => {\\n    // \u4ece storage \u4e2d\u53d6\u51fa\u6570\u636e, \u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\\n    return await loadCacheUInfo();\\n  };\\n\\n  if (!isLoaded) {\\n    return (\\n      <View style={{flex: 1, justifyContent: \'center\', alignItems: \'center\'}}>\\n        <Text>\u52a0\u8f7d\u4e2d...</Text>\\n      </View>\\n    );\\n  }\\n\\n  return (\\n    <StoreContext.Provider value={rootStore}>\\n      <NativeBaseProvider>\\n        <Navigator />\\n      </NativeBaseProvider>\\n    </StoreContext.Provider>\\n  );\\n}\\n```\\n\\n### 2.4 \u90e8\u7f72\u6d41\u7a0b\\n\\n**Android**\\n```shell\\n# \u6784\u5efa\u751f\u4ea7\u5305\\ncd android && ./gradlew assembleRelease\\n```\\n\\n**IOS**\\n\\n## 3. \u6280\u672f\u65b9\u6848\\n\\n### 3.1 \u72b6\u6001\u7ba1\u7406\\n\\nmobx + context\\n\\n### 3.2 SVG \u56fe\u6807\u5904\u7406\\n\\n\u53c2\u8003 https://www.npmjs.com/package/react-native-iconfont-cli\\n\\n```shell\\n# \u521b\u5efa iconfont.json\\nnpx iconfont-init\\n\\n# \u5c06 SVG \u5904\u7406\u4e3a React Component\\nnpx iconfont-rn\\n```\\n\\n### 3.3 react-native-camera\\n\u4fee\u6539 `ViewPropTypes` \u7684\u5bfc\u5165\uff0cnode_modules/react-native-camera/src/RNCamera.js\\n![20230413141005](http://s3.airtlab.com/blog/20230413141005.png)\\n\\n## 4. \u57fa\u7840\u9875\u9762\\n\\n<table>\\n  <tr>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/home.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/full_bg.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/login_screen.png\\" style=\\"width: 240px\\" /></td>\\n  </tr>\\n  <tr>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/me_un_login.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/me_login.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/animate.gif\\" style=\\"width: 240px\\" /></td>\\n  </tr>\\n  <tr>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/fs.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/scan.png\\" style=\\"width: 240px\\" /></td>\\n  </tr>\\n</table>","isLeaf":true},{"key":"/achieve/sman.md","path":"/achieve/sman.md","route":"/achieve/sman.md","leaf":true,"title":"sman","depth":1,"content":"> git@github.com:Webang/sman.git\\n\\n## 1\u3001sman \u4ecb\u7ecd\\nsman \u662f\u4e00\u4e2a \u6027\u80fd\u76d1\u63a7 + \u5f02\u5e38\u76d1\u63a7 + \u6570\u636e\u57cb\u70b9 \u5de5\u5177\uff0c\u4f53\u9a8c\u5730\u5740\uff1ahttp://175.178.48.236:3000\\n\\n## 2\u3001\u6280\u672f\u67b6\u6784\\nmysql + redis + elasticsearch + kafka\\n\\n## 3\u3001\u6a21\u5757\u8bbe\u8ba1\\n- [x] \u7cfb\u7edf\u7ba1\u7406\\n  - [x] \u7528\u6237\u7ba1\u7406\\n  - [x] \u5e94\u7528\u7ba1\u7406 \\n- [x] \u7528\u6237\u5206\u6790\\n  - [x] \u8bbf\u95ee\u8f68\u8ff9\\n  - [x] \u7528\u6237\u5206\u5e03\\n- \u5f02\u5e38\u5206\u6790\\n  - \u6574\u4f53\u6982\u89c8\\n  - \u4ee3\u7801\u5f02\u5e38\\n  - \u63a5\u53e3\u5f02\u5e38\\n  - \u8d44\u6e90\u52a0\u8f7d\\n- \u6027\u80fd\u5206\u6790\\n  - \u63a5\u53e3\u6027\u80fd\\n  - \u9875\u9762\u6027\u80fd\\n- \u6f0f\u6597\u5206\u6790\\n- \u4e8b\u4ef6\u5206\u6790\\n- \u57cb\u70b9\u5206\u6790\\n  - \u57cb\u70b9\u7edf\u8ba1\\n- \u7559\u5b58\u5206\u6790\\n\\n## 4\u3001\u53c2\u8003\u8d44\u6599\\n- http://www.webfunny.cn/demo/home.html\\n- https://study.163.com/course/introduction.htm?courseId=1006304007&share=1&shareId=1025552318#/courseDetail?tab=1","isLeaf":true},{"key":"/achieve/wow-admin.md","path":"/achieve/wow-admin.md","route":"/achieve/wow-admin.md","leaf":true,"title":"wow-admin","depth":1,"content":"## 1\u3001admin \u57fa\u7840\u5f00\u53d1\u6a21\u677f\\n\\n- API https://github.com/fiiai/admin-basic-api\\n- UI  https://github.com/fiiai/admin-basic-umi","isLeaf":true},{"key":"/achieve/wow-im.md","path":"/achieve/wow-im.md","route":"/achieve/wow-im.md","leaf":true,"title":"wow-im","depth":1,"content":"> https://github.com/wiiai/wow-im\\n\\n## \u9879\u76ee\u4ecb\u7ecd\\n\\n`wow-im` \u662f\u4e00\u6b3e\u57fa\u4e8e\u7684\u5373\u65f6\u901a\u8baf\u4ea7\u54c1\uff0c\u652f\u6301\u7684\u7ec8\u7aef\u5305\u62ec: H5\u3001PC\u3001IOS & Android (ReactNative)\\n\\n\u6f14\u793a:\\n- H5 https://wow-im.airtlab.com/mobile\\n- PC https://wow-im.airtlab.com/web\\n- \u5b89\u5353 https://github.com/wiiai/wow-im-rn/release\\n- IOS https://github.com/wiiai/wow-im-rn/release\\n\\n\u6e90\u7801\uff1a\\n- \u670d\u52a1\u7aef https://github.com/wiiai/wow-im/server\\n- H5 https://github.com/wiiai/wow-im/ui\\n- ReactNative https://github.com/wiiai/wow-im-rn\\n\\n## \u5df2\u5b9e\u73b0\u529f\u80fd\\n- \u8d26\u6237\\n  - [x] \u767b\u5f55\\n- \u901a\u8baf\u5f55\\n  - [x] \u597d\u53cb\u5217\u8868\\n  - [x] \u7fa4\\n- \u804a\u5929\\n  - [x] \u5355\u804a\\n  - [x] \u7fa4\u804a\\n  - [x] \u89c6\u9891\u5355\u804a\\n  - [x] \u8bed\u97f3\u5355\u804a\\n- \u6d88\u606f\u5185\u5bb9\\n  - [x] \u6587\u5b57\\n- \u4f1a\u8bdd\\n  - [x] \u4f1a\u8bdd\u5217\u8868\\n  - [x] \u5386\u53f2\u6d88\u606f\\n\\n\\n## \u4f1a\u8bae\u6d41\u7a0b\\n1\u3001\u7ed9\u5728\u7ebf\u7528\u6237\u53d1\u8d77\u4f1a\u8bae\u9080\u8bf7\u63a8\u9001\uff0c\u88ab\u9080\u8bf7\u8005\u70b9\u51fb\u540c\u610f\u540e\u8fdb\u5165\u4f1a\u8bae\u8be6\u60c5\\n2\u3001\u4efb\u4f55\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u4f1a\u8bae URL \u8fdb\u5165\u4f1a\u8bae (DB\u91cc\u9762\u9700\u8981\u521b\u5efa\u4f1a\u8bae\u4fe1\u606f\uff0c\u4f1a\u8baeID \u6807\u8bc6\u4f1a\u8bae)\\n\\n## \u7528\u6237\u5728\u7ebf\u72b6\u6001\u7ef4\u62a4\\n---","isLeaf":true},{"key":"/achieve/wow-mall.md","path":"/achieve/wow-mall.md","route":"/achieve/wow-mall.md","leaf":true,"title":"wow-mall","depth":1,"content":"","isLeaf":true}]},{"key":"/android","path":"/android","route":"/android","leaf":false,"title":"android","depth":0,"content":"","isLeaf":false,"children":[{"key":"/android/01-basic","path":"/android/01-basic","route":"/android/01-basic","leaf":false,"title":"01-basic","depth":1,"content":"","isLeaf":false,"children":[{"key":"/android/01-basic/01.md","path":"/android/01-basic/01.md","route":"/android/01-basic/01.md","leaf":true,"title":"01","depth":2,"content":"---\\ntitle: 01 \u7ec8\u7aef\u542f\u52a8\u6a21\u62df\u5668\\n---\\n\\n```shell\\ncd ~/Library/Android/sdk/tools\\n\\n# \u8981\u5217\u51fa\u60a8\u7684AVD\\n./emulator -list-avds\\n\\n# \u8981\u76f4\u63a5\u8fd0\u884c\u67d0\u4e2aAVD\\n./emulator -avd {AVD_NAME}\\n```","isLeaf":true}]},{"key":"/android/01-use-javascriptcore.md","path":"/android/01-use-javascriptcore.md","route":"/android/01-use-javascriptcore.md","leaf":true,"title":"01-use-javascriptcore","depth":1,"content":"---\\ntitle: 01 \u4f7f\u7528 JavascriptCore\\ntags: Android\\n---\\n","isLeaf":true},{"key":"/android/02-react-native.md","path":"/android/02-react-native.md","route":"/android/02-react-native.md","leaf":true,"title":"02-react-native","depth":1,"content":"---\\ntitle: 02 React Native \u539f\u7406\\ntags: Android\\n---\\n\\nhttps://www.jianshu.com/p/7e067adaf270","isLeaf":true},{"key":"/android/03-use-quickjs.md","path":"/android/03-use-quickjs.md","route":"/android/03-use-quickjs.md","leaf":true,"title":"03-use-quickjs","depth":1,"content":"---\\ntitle: 03 \u4f7f\u7528 quickjs\\ntags: Android\\n---\\n\\n- https://github.com/taoweiji/quickjs-android\\n- https://www.jianshu.com/p/6fcc38f09281\\n- https://www.jianshu.com/p/6ffe30df4e30","isLeaf":true},{"key":"/android/04-use-yoga.md","path":"/android/04-use-yoga.md","route":"/android/04-use-yoga.md","leaf":true,"title":"04-use-yoga","depth":1,"content":"---\\ntitle: 04 use yoga\\ntags: Android\\n---\\n\\nYoga \u5e03\u5c40\u5f15\u64ce\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u6570\u503c\u8ba1\u7b97\u5f15\u64ce\uff0c\u5b83\u5b9e\u9645\u4e0a\u662f\u4e0e UI \u89c6\u56fe\u65e0\u5173\u7684\u3002\\n\\n\u5728 Yoga \u4e2d\uff0c\u5e03\u5c40\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u4e00\u4e2a\u8282\u70b9(YogaNode)\uff0c\u8fd9\u4e2a YogaNode \u4f1a\u4ee3\u8868\u754c\u9762\u4e0a\u7684\u67d0\u4e2a\u5143\u7d20\uff08\u6bd4\u5982\u4e00\u4e2a TextView\uff09\uff0c\u4f46\u662f\u4e24\u8005\u6ca1\u6709\u76f4\u63a5\u5173\u8054\u3002\\n\\n- https://cloud.tencent.com/developer/article/1006148?from=15425&areaSource=102001.2&traceId=dMKXhKr6CYMolCNoQIPPY\\n- https://maxiee.github.io/post/ReactNativeCode12md/\\n\\n```java\\n  FrameLayout container = new FrameLayout(this);\\n\\n  /**\\n   * \u5e03\u5c40\u7eaf\u6570\u503c\u8ba1\u7b97\\n   */\\n  float screenWidth = getWindowManager().getDefaultDisplay().getWidth();\\n  float screenHeight = getWindowManager().getDefaultDisplay().getHeight() - 56 - 24;\\n\\n  YogaNode root = new YogaNodeJNIFinalizer();\\n  root.setWidth(screenWidth);\\n  root.setHeight(screenHeight);\\n  root.setFlexDirection(YogaFlexDirection.ROW);\\n\\n  YogaNode rect1 = new YogaNodeJNIFinalizer();\\n    rect1.setFlex(1);\\n\\n  YogaNode rect2 = new YogaNodeJNIFinalizer();\\n    rect2.setFlex(2);\\n\\n  YogaNode rect3 = new YogaNodeJNIFinalizer();\\n    rect3.setFlex(1);\\n\\n  root.addChildAt(rect1, 0);\\n  root.addChildAt(rect2, 1);\\n  root.addChildAt(rect3, 2);\\n\\n  // \u7ed9\u5b9a\u5c4f\u5e55\u957f\u5bbd\uff0c\u6c42\u89e3\u5c4f\u5e55\u5143\u7d20\u4f4d\u7f6e\\n  root.calculateLayout(screenWidth, screenHeight);\\n\\n  View v1 = new View(this);\\n  v1.setBackgroundColor(Color.parseColor(\\"#d50000\\"));\\n  rect1.setData(v1);\\n\\n  View v2 = new View(this);\\n  v2.setBackgroundColor(Color.parseColor(\\"#ff1744\\"));\\n  rect2.setData(v2);\\n\\n  View v3 = new View(this);\\n  v3.setBackgroundColor(Color.parseColor(\\"#ff5252\\"));\\n  rect3.setData(v3);\\n\\n  container.addView(v1);\\n  container.addView(v2);\\n  container.addView(v3);\\n\\n  v1.setX(rect1.getLayoutX());\\n  v1.setY(rect1.getLayoutY());\\n  v1.setLayoutParams(new FrameLayout.LayoutParams((int)(rect1.getLayoutWidth()), (int)(rect1.getLayoutHeight())));\\n\\n  v2.setX(rect2.getLayoutX());\\n  v2.setY(rect2.getLayoutY());\\n  v2.setLayoutParams(new FrameLayout.LayoutParams((int)(rect2.getLayoutWidth()), (int)(rect2.getLayoutHeight())));\\n\\n  v3.setX(rect3.getLayoutX());\\n  v3.setY(rect3.getLayoutY());\\n  v3.setLayoutParams(new FrameLayout.LayoutParams((int)(rect3.getLayoutWidth()), (int)(rect3.getLayoutHeight())));\\n\\n  setContentView(container);\\n```","isLeaf":true},{"key":"/android/05-layout-inspector.md","path":"/android/05-layout-inspector.md","route":"/android/05-layout-inspector.md","leaf":true,"title":"05-layout-inspector","depth":1,"content":"---\\ntitle: 05 \u4f7f\u7528\u5e03\u5c40\u68c0\u67e5\u5668\\ntags: Android\\n---\\n\\nhttps://developer.android.com/studio/debug/layout-inspector?hl=zh-cn","isLeaf":true},{"key":"/android/06-Litho.md","path":"/android/06-Litho.md","route":"/android/06-Litho.md","leaf":true,"title":"06-Litho","depth":1,"content":"---\\ntags: Android\\n---\\n\\nhttps://fblitho.com/docs/mainconcepts/props/#combining-a-style-from-above-with-a-local-style","isLeaf":true}]},{"key":"/cpp","path":"/cpp","route":"/cpp","leaf":false,"title":"cpp","depth":0,"content":"","isLeaf":false,"children":[{"key":"/cpp/01-cpp-basic","path":"/cpp/01-cpp-basic","route":"/cpp/01-cpp-basic","leaf":false,"title":"01-cpp-basic","depth":1,"content":"","isLeaf":false,"children":[{"key":"/cpp/01-cpp-basic/01-about-cpp.md","path":"/cpp/01-cpp-basic/01-about-cpp.md","route":"/cpp/01-cpp-basic/01-about-cpp.md","leaf":true,"title":"01-about-cpp","depth":2,"content":"---\\ntitle: 01 C++ \u778e\u804a\\ntags: CPP\\n---\\n\\n> \\"\u7528\u4e86C++\u5c31\u8981\u63a5\u53d7\u5b83\u7684\u9ebb\u70e6\\" \u8457\u540d\u524d\u540c\u4e8b\u738b\u5927\u7237\u5982\u662f\u8bf4\u9053","isLeaf":true},{"key":"/cpp/01-cpp-basic/02-diffrent-type-in-vector.md","path":"/cpp/01-cpp-basic/02-diffrent-type-in-vector.md","route":"/cpp/01-cpp-basic/02-diffrent-type-in-vector.md","leaf":true,"title":"02-diffrent-type-in-vector","depth":2,"content":"---\\ntitle: 02 C++ \u5bb9\u5668\u600e\u4e48\u5b58\u653e\u4e0d\u540c\u7c7b\u578b\u7684\u503c\uff1f\\ntags: CPP\\n---\\n\\n> https://www.zhihu.com/question/33594512\\n\\n```cpp\\ntypedef boost::variant<int, std::string> Value;\\n```","isLeaf":true}]},{"key":"/cpp/02-cpp-mysql","path":"/cpp/02-cpp-mysql","route":"/cpp/02-cpp-mysql","leaf":false,"title":"02-cpp-mysql","depth":1,"content":"","isLeaf":false,"children":[{"key":"/cpp/02-cpp-mysql/01-mysqlclient.md","path":"/cpp/02-cpp-mysql/01-mysqlclient.md","route":"/cpp/02-cpp-mysql/01-mysqlclient.md","leaf":true,"title":"01-mysqlclient","depth":2,"content":"---\\ntitle: 01 \u4f7f\u7528 mysqlclient-dev\\ntags: CPP\\n---\\n\\n# mysqlclient-dev\\n\\n- **[\u8fd9\u4e2a\u6559\u7a0b\u5199\u7684\u5f88\u8be6\u7ec6\uff0c\u4f7f\u7528 C \u64cd\u4f5c mysql](https://blog.csdn.net/qq_41453285/article/details/102640756)**\\n\\n## 1\u3001\u5b89\u88c5 mysqlclient-dev\\n\\n\u8fd9\u4e2a\u4f8b\u5b50\u5728 ubuntu \u4e0a\u8fdb\u884c\\n\\n```shell\\napt-get install libmysqlclient-dev\\nsudo ldconfig # \u5237\u65b0\u52a8\u6001\u94fe\u63a5\u5e93\\n```\\n\\n\u5934\u6587\u4ef6\u4f4d\u7f6e `/usr/include/mysql`\uff0c\u52a8\u6001\u5e93\u4f4d\u7f6e `/usr/lib/mysql`\\n\\n```shell\\ngcc -I/usr/include/mysql main.c -L/usr/lib/mysql -lmysqlclient -o main\\n```\\n\\n## 2\u3001\u589e\u5220\u6539\u67e5\u64cd\u4f5c\\n\\n### 1) \u8fde\u63a5 mysql \u670d\u52a1\u5668\\n\\n```c\\n#include <stdio.h>\\n#include <stdlib.h>\\n#include <mysql.h>\\n#include <mysqld_error.h>\\n#include <errmsg.h>\\n\\nint main(int argc, char *argv[])\\n{\\n    MYSQL mysql;\\n    mysql_init(&mysql);\\n\\n    if (mysql_real_connect(&mysql, \\"10.53.100.113\\", \\"root\\",\\n                           \\"123456\\", \\"test\\", 0, NULL, 0))\\n    {\\n        printf(\\"Connect success\\\\n\\");\\n\\n        // insert\\n        if (mysql_query(&mysql, \\"insert into user(name) values(\'Ann\')\\") != 0)\\n        {\\n            fprintf(stderr, \\"mysql_query failed:\\\\n\\\\tcode:%d\\\\n\\\\treason:%s\\\\n\\", mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n        else\\n        {\\n            printf(\\"Insert success, affect row are %lu\\\\n\\", mysql_affected_rows(&mysql));\\n        }\\n\\n        mysql_close(&mysql);\\n    }\\n    else\\n    {\\n        fprintf(stderr, \\"Connect failed:\\\\n\\");\\n        if (mysql_errno(&mysql))\\n        {\\n            printf(\\"\\\\terror code is %d\\\\n\\\\treason:%s\\\\n\\", mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n    }\\n\\n    return 0;\\n}\\n```\\n\\n### 2) \u4fee\u6539\u6570\u636e\\n\\n```c\\n#include <stdio.h>\\n#include <stdlib.h>\\n#include <mysql.h>\\n#include <mysqld_error.h>\\n#include <errmsg.h>\\n\\nint main(int argc, char *argv[])\\n{\\n    MYSQL mysql;\\n    mysql_init(&mysql);\\n\\n    if (mysql_real_connect(&mysql, \\"10.53.100.113\\", \\"root\\",\\n                           \\"123456\\", \\"test\\", 0, NULL, 0))\\n    {\\n        printf(\\"Connect success\\\\n\\");\\n\\n        // update\\n        if (mysql_query(&mysql, \\"update user set name=\'tony\' where id = 1\\") != 0)\\n        {\\n            fprintf(stderr, \\"mysql_query failed:\\\\n\\\\tcode:%d\\\\n\\\\treason:%s\\\\n\\",\\n                    mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n        else\\n        {\\n            printf(\\"Update success,affect row are %lu\\\\n\\",\\n                   mysql_affected_rows(&mysql));\\n        }\\n\\n        mysql_close(&mysql);\\n    }\\n    else\\n    {\\n        fprintf(stderr, \\"Connect failed:\\\\n\\");\\n        if (mysql_errno(&mysql))\\n        {\\n            printf(\\"\\\\terror code is %d\\\\n\\\\treason:%s\\\\n\\", mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n    }\\n\\n    return 0;\\n}\\n```\\n\\n### 3) \u67e5\u8be2\u64cd\u4f5c\\n```c\\n#include <stdio.h>\\n#include <stdlib.h>\\n#include <mysql.h>\\n#include <mysqld_error.h>\\n#include <errmsg.h>\\n\\nint main(int argc, char *argv[])\\n{\\n    MYSQL mysql;\\n    MYSQL_RES *res;\\n    MYSQL_ROW sqlrow;\\n\\n    mysql_init(&mysql);\\n\\n    if (mysql_real_connect(&mysql, \\"10.53.100.113\\", \\"root\\",\\n                           \\"123456\\", \\"test\\", 0, NULL, 0))\\n    {\\n        printf(\\"Connect success\\\\n\\");\\n\\n        // select\\n        if (mysql_query(&mysql, \\"select * from user\\") != 0)\\n        {\\n            fprintf(stderr, \\"mysql_query failed:\\\\n\\\\tcode:%d\\\\n\\\\treason:%s\\\\n\\",\\n                    mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n        else\\n        {\\n            // get result\\n            res = mysql_store_result(&mysql);\\n            if (res != NULL)\\n            {\\n                // show rows\\n                printf(\\"Retrived %lu rows:\\\\n\\", (unsigned long)mysql_num_rows(res));\\n                // Get one row at a time\\n                while (sqlrow = mysql_fetch_row(res))\\n                {\\n                    printf(\\"\\\\tFetch row...\\\\n\\");\\n                }\\n            }\\n            else\\n            {\\n                if (mysql_errno(&mysql))\\n                {\\n                    printf(\\"\\\\terror code is %d\\\\n\\\\treason:%s\\\\n\\",\\n                           mysql_errno(&mysql), mysql_error(&mysql));\\n                }\\n            }\\n        }\\n\\n        mysql_close(&mysql);\\n    }\\n    else\\n    {\\n        fprintf(stderr, \\"Connect failed:\\\\n\\");\\n        if (mysql_errno(&mysql))\\n        {\\n            printf(\\"\\\\terror code is %d\\\\n\\\\treason:%s\\\\n\\",\\n                   mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n    }\\n\\n    return 0;\\n}\\n```\\n\\n### 4) \u83b7\u53d6\u5b57\u6bb5\u4fe1\u606f\\n```c\\n#include <stdio.h>\\n#include <stdlib.h>\\n#include <mysql.h>\\n#include <mysqld_error.h>\\n#include <errmsg.h>\\n\\nvoid display_header(MYSQL_RES *result);\\nvoid display_show(MYSQL *mysql, MYSQL_ROW *sqlrow);\\n\\nint main(int argc, char *argv[])\\n{\\n    int isHeader;\\n    MYSQL mysql;\\n    MYSQL_RES *res;\\n    MYSQL_ROW sqlrow;\\n    isHeader = 1;\\n\\n    mysql_init(&mysql);\\n\\n    if (mysql_real_connect(&mysql, \\"10.53.100.113\\", \\"root\\",\\n                           \\"123456\\", \\"test\\", 0, NULL, 0))\\n    {\\n        printf(\\"Connect success\\\\n\\");\\n\\n        // select\\n        if (mysql_query(&mysql, \\"select * from user\\") != 0)\\n        {\\n            fprintf(stderr, \\"mysql_query failed:\\\\n\\\\tcode:%d\\\\n\\\\treason:%s\\\\n\\",\\n                    mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n        else\\n        {\\n            // get result\\n            res = mysql_use_result(&mysql);\\n            if (res != NULL)\\n            {\\n                // Get one row at a time\\n                while (sqlrow = mysql_fetch_row(res))\\n                {\\n                    if (isHeader)\\n                    {\\n                        display_header(res);\\n                        isHeader = 0;\\n                        printf(\\"Row Deails:\\\\n\\");\\n                    }\\n                    display_show(&mysql, &sqlrow);\\n                }\\n            }\\n            else\\n            {\\n                if (mysql_errno(&mysql))\\n                {\\n                    printf(\\"\\\\terror code is %d\\\\n\\\\treason:%s\\\\n\\",\\n                           mysql_errno(&mysql), mysql_error(&mysql));\\n                }\\n            }\\n        }\\n        mysql_close(&mysql);\\n    }\\n    else\\n    {\\n        fprintf(stderr, \\"Connect failed:\\\\n\\");\\n        if (mysql_errno(&mysql))\\n        {\\n            printf(\\"\\\\terror code is %d\\\\n\\\\treason:%s\\\\n\\",\\n                   mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n    }\\n\\n    return 0;\\n}\\n\\nvoid display_header(MYSQL_RES *result)\\n{\\n    printf(\\"Column Details:\\\\n\\");\\n    MYSQL_FIELD *field;\\n    // \u5faa\u73af\uff0c\u6bcf\u6b21\u8fd4\u56de\u4e00\u4e2a\u5b57\u6bb5\\n    while ((field = mysql_fetch_field(result)) != NULL)\\n    {\\n        // 1\\n        printf(\\"\\\\tcol_name:%s\\", field->name);\\n\\n        // 2\\n        if (IS_NUM(field->type))\\n        {\\n            printf(\\" ,type:%s\\", \\"Number\\");\\n        }\\n        else\\n        {\\n            switch (field->type)\\n            {\\n            case FIELD_TYPE_DECIMAL:\\n                printf(\\" ,type:%s\\", \\"Decimal\\");\\n                break;\\n            case FIELD_TYPE_LONG:\\n                printf(\\" ,type:%s\\", \\"Long\\");\\n                break;\\n            case FIELD_TYPE_STRING:\\n                printf(\\" ,type:%s\\", \\"String\\");\\n                break;\\n            case FIELD_TYPE_VAR_STRING:\\n                printf(\\" ,type:%s\\", \\"Var_String\\");\\n                break;\\n            }\\n        }\\n        // 3\\n        printf(\\" ,column width:%ld\\", field->length);\\n        // 4\\n        if (field->flags & AUTO_INCREMENT_FLAG)\\n        {\\n            printf(\\n                \\" ,column flags:%s\\", \\"AUTO_INCREMENT_ FLAG\\");\\n        }\\n        printf(\\"\\\\n\\");\\n    }\\n}\\n\\nvoid display_show(MYSQL *mysql, MYSQL_ROW *sqlrow)\\n{\\n    unsigned int count = 0;\\n    while (count < mysql_field_count(mysql))\\n    {\\n        if ((*sqlrow)[count])\\n        {\\n            printf(\\"\\\\t%s\\", (*sqlrow)[count]);\\n        }\\n        else\\n        {\\n            printf(\\"NULL\\");\\n        }\\n        count++;\\n    }\\n    printf(\\"\\\\n\\");\\n}\\n```","isLeaf":true},{"key":"/cpp/02-cpp-mysql/02-connector-for-cpp.md","path":"/cpp/02-cpp-mysql/02-connector-for-cpp.md","route":"/cpp/02-cpp-mysql/02-connector-for-cpp.md","leaf":true,"title":"02-connector-for-cpp","depth":2,"content":"---\\ntitle: 02 \u4f7f\u7528 connector/cpp\\ntags: CPP\\n---\\n\\n# connector/cpp\\n\\n## 1\u3001\u5b89\u88c5\\n\\n```shell\\napt-get -y install libmysqlcppconn-dev\\n```\\n\\n```shell\\ng++ -I/usr/include/mysql -std=c++11 01-select.cpp -lmysqlcppconn -o main && ./main\\n```\\n\\n- **[Mac os \u4e0a\u7528C++\u8fdb\u884cMYSQL\u5f00\u53d1\u914d\u7f6e](https://www.cnblogs.com/laohehexiaohe/p/5436295.html)**\\n- **https://github.com/mysql/mysql-connector-cpp**\\n\\n## 2\u3001\u64cd\u4f5c\\n\\n### 1) \u67e5\u8be2\u64cd\u4f5c\\n```cpp\\n#include <stdio.h>\\n#include <mysql_connection.h>\\n#include <mysql_driver.h>\\n#include <mysql_error.h>\\n#include <cppconn/driver.h>\\n#include <cppconn/exception.h>\\n#include <cppconn/resultset.h>\\n#include <cppconn/statement.h>\\n\\nusing namespace std;\\n\\nint main()\\n{\\n    sql::Driver *driver;\\n    sql::Connection *con;\\n    sql::Statement *stmt;\\n    sql::ResultSet *res;\\n\\n    driver = get_driver_instance();\\n    con = driver->connect(\\"tcp://10.53.100.113:3306\\", \\"root\\", \\"123456\\");\\n    con->setSchema(\\"test\\");\\n\\n    stmt = con->createStatement();\\n    res = stmt->executeQuery(\\"SELECT * FROM user\\");\\n\\n    while (res->next())\\n    {\\n        cout << \\"--------- row ---------\\\\n\\";\\n        cout << \\"\\\\tname: \\" << res->getString(\\"name\\") << endl;\\n        cout << \\"\\\\t  id: \\" << res->getString(\\"id\\") << endl;\\n    }\\n\\n    delete res;\\n    delete stmt;\\n    delete con;\\n}\\n```\\n\\n### 2) \u4fee\u6539\\n\\n```cpp\\n#include <stdio.h>\\n#include <mysql_connection.h>\\n#include <mysql_driver.h>\\n#include <mysql_error.h>\\n#include <cppconn/driver.h>\\n#include <cppconn/exception.h>\\n#include <cppconn/resultset.h>\\n#include <cppconn/statement.h>\\n\\nusing namespace std;\\n\\nint main()\\n{\\n    sql::Driver *driver;\\n    sql::Connection *con;\\n    sql::Statement *stmt;\\n    sql::ResultSet *res;\\n\\n    driver = get_driver_instance();\\n    con = driver->connect(\\"tcp://10.53.100.113:3306\\", \\"root\\", \\"123456\\");\\n    con->setSchema(\\"test\\");\\n\\n    stmt = con->createStatement();\\n    int  effectRows = stmt->executeUpdate(\\"UPDATE user SET name = \'frank\' WHERE id = 1\\");\\n\\n    cout << \\"\u4fee\u6539\u6570\u636e\u6210\u529f\\" << effectRows << \\"\u884c\u53d7\u5f71\u54cd\uff01\\" << endl; \\n\\n    delete res;\\n    delete stmt;\\n    delete con;\\n}\\n```\\n\\n### 3) \u63d2\u5165\\n```cpp\\n#include <stdio.h>\\n#include <mysql_connection.h>\\n#include <mysql_driver.h>\\n#include <mysql_error.h>\\n#include <cppconn/driver.h>\\n#include <cppconn/exception.h>\\n#include <cppconn/resultset.h>\\n#include <cppconn/statement.h>\\n\\nusing namespace std;\\n\\nint main()\\n{\\n    sql::Driver *driver;\\n    sql::Connection *con;\\n    sql::Statement *stmt;\\n    sql::ResultSet *res;\\n\\n    driver = get_driver_instance();\\n    con = driver->connect(\\"tcp://10.53.100.113:3306\\", \\"root\\", \\"123456\\");\\n    con->setSchema(\\"test\\");\\n\\n    stmt = con->createStatement();\\n    stmt->execute(\\"INSERT INTO user(name) VALUES(\'hello\')\\");\\n\\n    delete stmt;\\n    delete con;\\n\\n    return 0;\\n}\\n```","isLeaf":true},{"key":"/cpp/02-cpp-mysql/03-why-cpp-in-mysql-so-hard.md","path":"/cpp/02-cpp-mysql/03-why-cpp-in-mysql-so-hard.md","route":"/cpp/02-cpp-mysql/03-why-cpp-in-mysql-so-hard.md","leaf":true,"title":"03-why-cpp-in-mysql-so-hard","depth":2,"content":"---\\ntitle: 03 CPP + Mysql \u4e0d\u5bb9\u6613\\ntags: CPP\\n---\\n\\n\u6839\u636e Mysql \u7684\u67e5\u8be2\u534f\u8bae\uff0cfield packet \u8bb0\u5f55\u4e86\u5b57\u6bb5\u7684\u6240\u6709\u4fe1\u606f\u3002\u96be\u70b9\u5728\u4e8e\u54ea\u91cc\u5462\uff1f\u4e1a\u52a1\u7edf\u4e00\u67e5\u8be2\u5c42\u5f88\u8e69\u811a\u3002\u9996\u5148\u7edf\u4e00\u67e5\u8be2\u7684\u7ed3\u679c\u8fd4\u56de\u4e00\u4e2a\u5217\u8868`Vector<map<string, value>>`\uff0c\u6709\u4e9b\u5b57\u6bb5\u7684\u7c7b\u578b\u4e3a varchar, \u6709\u4e9b\u662f int\uff0c\u4f46\u662f map \u7684 value \u4e0d\u652f\u6301\u591a\u4e2a\u7c7b\u578b\u3002\\n\\n\u6240\u4ee5\u6709\u7684\u505a\u6cd5\u662f\u8fd4\u56de `Vector<map<string, string>>`\uff0c\u4e0a\u6e38\u53ef\u4ee5\u518d\u6839\u636e\u8fd9\u4e2a\u7ed3\u679c\u5e8f\u5217\u5316\u4e3a `Vector<CustomStruct>`","isLeaf":true}]},{"key":"/cpp/03-cpp-json","path":"/cpp/03-cpp-json","route":"/cpp/03-cpp-json","leaf":false,"title":"03-cpp-json","depth":1,"content":"","isLeaf":false,"children":[{"key":"/cpp/03-cpp-json/01-rapidjson.md","path":"/cpp/03-cpp-json/01-rapidjson.md","route":"/cpp/03-cpp-json/01-rapidjson.md","leaf":true,"title":"01-rapidjson","depth":2,"content":"---\\ntags: CPP\\n---","isLeaf":true},{"key":"/cpp/03-cpp-json/02-jsoncpp.md","path":"/cpp/03-cpp-json/02-jsoncpp.md","route":"/cpp/03-cpp-json/02-jsoncpp.md","leaf":true,"title":"02-jsoncpp","depth":2,"content":"---\\ntags: CPP\\n---\\n\\n\u5165\u95e8\u6559\u7a0b https://www.bilibili.com/video/BV1pb4y1W7ZZ/\\n\\n## 1\u3001\u5b89\u88c5\\n\\n- Mac \u4e2d\u4f7f\u7528\u53ef\u4ee5\u901a\u8fc7 brew \u5b89\u88c5 https://formulae.brew.sh/formula/jsoncpp\\n\\n\\n## 2\u3001\u4f7f\u7528\\n\\n### 1) \u6784\u5efa Json Value\\n\\n```cpp\\n#include \\"json/json.h\\"\\n#include <iostream>\\n\\n/** \\\\brief Write a Value object to a string.\\n * Example Usage:\\n * $g++ stringWrite.cpp -ljsoncpp -std=c++11 -o stringWrite\\n * $./stringWrite\\n * {\\n *     \\"action\\" : \\"run\\",\\n *     \\"data\\" :\\n *     {\\n *         \\"number\\" : 1\\n *     }\\n * }\\n */\\n\\nint main() {\\n  Json::Value root;\\n  Json::Value data;\\n  constexpr bool shouldUseOldWay = false;\\n\\n  root[\\"action\\"] = \\"run\\";\\n  data[\\"number\\"] = 1;\\n  root[\\"data\\"] = data;\\n\\n  if (shouldUseOldWay) {\\n    Json::FastWriter writer;\\n    const std::string json_file = writer.write(root);\\n    std::cout << json_file << std::endl;\\n  } else {\\n    Json::StreamWriterBuilder builder;\\n    // \u7f29\u8fdb\u9ed8\u8ba4\u4e3a \\\\t\\n    builder[\\"indentation\\"] = \\"\\";\\n    const std::string json_file = Json::writeString(builder, root);\\n    std::cout << json_file << std::endl;\\n  }\\n\\n  return EXIT_SUCCESS;\\n}\\n``` \\n\\n### 2\uff09\u6570\u7ec4\u7684\u6784\u5efa\\n\\n```cpp\\n#include \\"json/json.h\\"\\n#include <iostream>\\n#include <string>\\n#include <vector>\\n#include <algorithm>\\n\\nusing namespace std;\\n\\nclass Person\\n{\\npublic:\\n  string name;\\n  int age;\\n\\npublic:\\n  Person(string name, int age)\\n  {\\n    this->name = name;\\n    this->age = age;\\n  }\\n};\\n\\nvoid my_print(Person *it, Json::Value *value)\\n{\\n  (*value)[\'name\'] = (*it).name;\\n  (*value)[\'age\'] = (*it).age;\\n}\\n\\nint main() {\\n  vector<Person*> v;\\n\\n  Person *p1 = new Person(\\"h1\\", 10);\\n  Person *p2 = new Person(\\"h2\\", 12);\\n  Person *p3 = new Person(\\"h3\\", 8);\\n\\n  v.push_back(p1);\\n  v.push_back(p2);\\n  v.push_back(p3);\\n  \\n  Json::Value root;\\n  Json::Value data;\\n  Json::Value list;\\n  constexpr bool shouldUseOldWay = false;\\n\\n  for (vector<Person*>::iterator it = v.begin(); it != v.end(); it++)\\n  {\\n    Json::Value data;\\n    data[\\"name\\"] = (*it)->name;\\n    data[\\"age\\"] = (*it)->age;\\n    list.append(data);\\n  }\\n\\n  root[\\"action\\"] = \\"run\\";\\n  data[\\"number\\"] = 1;\\n  root[\\"data\\"] = data;\\n  root[\\"list\\"] = list;\\n\\n  Json::StreamWriterBuilder builder;\\n  builder[\\"indentation\\"] = \\"\\";\\n  const std::string json_file = Json::writeString(builder, root);\\n  std::cout << json_file << std::endl;\\n\\n  return EXIT_SUCCESS;\\n}\\n```\\n\\n```json\\n{\\"action\\":\\"run\\",\\"data\\":{\\"number\\":1},\\"list\\":[{\\"age\\":10,\\"name\\":\\"h1\\"},{\\"age\\":12,\\"name\\":\\"h2\\"},{\\"age\\":8,\\"name\\":\\"h3\\"}]}\\n```","isLeaf":true}]},{"key":"/cpp/04-cmake","path":"/cpp/04-cmake","route":"/cpp/04-cmake","leaf":false,"title":"04-cmake","depth":1,"content":"","isLeaf":false,"children":[{"key":"/cpp/04-cmake/01-add_executable.md","path":"/cpp/04-cmake/01-add_executable.md","route":"/cpp/04-cmake/01-add_executable.md","leaf":true,"title":"01-add_executable","depth":2,"content":"---\\ntags: CPP\\n---\\n\\n## 1\u3001add_executable \u7528\u6cd5\\n\\n\u5728 CMakeLists.txt \u6587\u4ef6\u4e2d\uff0cadd_executable() \u51fd\u6570\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5e76\u53ef\u4ee5\u5c06\u6e90\u6587\u4ef6\u6dfb\u52a0\u5230\u6b64\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\u3002\u5176\u8bed\u6cd5\u5982\u4e0b\uff1a\\n```\\nadd_executable(executable_name source1 [source2 ...])\\n```\\n\\n\u5176\u4e2d\uff0c`executable_name` \u662f\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u7684\u540d\u79f0\uff0c`source1` \u662f\u53ef\u6267\u884c\u6587\u4ef6\u7684\u4e3b\u6e90\u6587\u4ef6\uff0c`source2`\u3001`source3`\u3001\u2026\u2026\u5219\u662f\u53ef\u9009\u7684\u5176\u4ed6\u6e90\u6587\u4ef6\u3002\\n\\n\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\uff1a\\n\\n```\\ncmake_minimum_required(VERSION 3.10)\\n\\nproject(my_project)\\n\\nadd_executable(my_executable main.cpp helper.cpp)\\n```\\n\\n## 2\u3001add_executable \u53c2\u6570\u8fc7\u957f\\n\u6b64\u793a\u4f8b\u4e2d\uff0cCMakeLists.txt \u6587\u4ef6\u6307\u5b9a\u751f\u6210\u4e00\u4e2a\u540d\u79f0\u4e3a my_executable \u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5e76\u5c06\u4e3b\u6e90\u6587\u4ef6 main.cpp \u548c\u8f85\u52a9\u6e90\u6587\u4ef6 helper.cpp \u6dfb\u52a0\u5230\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\u3002\\n\\n\u5982\u679c\u6e90\u6587\u4ef6\u6bd4\u8f83\u591a\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u53d8\u91cf\uff0c\u5c06\u6e90\u6587\u4ef6\u540d\u5217\u8868\u63d0\u53d6\u51fa\u6765\uff0c\u4ee5\u4fbf\u4f7f CMakeLists.txt \u6587\u4ef6\u66f4\u52a0\u6e05\u6670\u7b80\u6d01\u3002\u53ef\u4ee5\u4f7f\u7528 `set()` \u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u6e90\u6587\u4ef6\u540d\u7684\u53d8\u91cf\uff0c\u7136\u540e\u628a\u8fd9\u4e2a\u53d8\u91cf\u4f20\u9012\u7ed9 `add_executable()` \u51fd\u6570\u3002\u793a\u4f8b\u5982\u4e0b\uff1a\\n```\\ncmake_minimum_required(VERSION 3.10)\\n\\nproject(my_project)\\n\\n# \u4f7f\u7528 set() \u51fd\u6570\u521b\u5efa\u5305\u542b\u6240\u6709\u6e90\u6587\u4ef6\u540d\u7684\u53d8\u91cf\\nset(SOURCES\\n    main.cpp\\n    helper.cpp\\n    some_other_file.cpp\\n    ... # \u66f4\u591a\u6587\u4ef6\u540d\\n)\\n\\n# \u5c06 SOURCES \u53d8\u91cf\u4f20\u9012\u7ed9 add_executable() \u51fd\u6570\\nadd_executable(my_executable ${SOURCES})\\n```\\n\\n\u8fd9\u6837\u53ef\u4ee5\u5c06\u6240\u6709\u6e90\u6587\u4ef6\u540d\u96c6\u4e2d\u5728\u4e00\u4e2a\u53d8\u91cf\u4e2d\uff0c\u66f4\u5bb9\u6613\u7ba1\u7406\u548c\u66f4\u65b0\uff0c\u4e5f\u53ef\u4ee5\u907f\u514d\u547d\u4ee4\u884c\u8fc7\u957f\u7684\u95ee\u9898\u3002\\n\\n## 3\u3001add_executable \u76ee\u5f55\u53c2\u6570\\n\\n\u53ef\u4ee5\u5c06\u6e90\u6587\u4ef6\u6307\u5b9a\u4e3a\u76ee\u5f55\u800c\u4e0d\u662f\u5355\u4e2a\u6587\u4ef6\u3002\u5728 CMake \u4e2d\uff0c\u5b83\u88ab\u79f0\u4e3a\u76ee\u5f55\u8303\u56f4\uff08directory scope\uff09\uff0c\u800c\u4e0d\u662f\u6587\u4ef6\u8303\u56f4\uff08file scope\uff09\u3002\\n\\n\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c`add_executable()` \u51fd\u6570\u5c06\u9012\u5f52\u5730\u641c\u7d22\u6307\u5b9a\u7684\u76ee\u5f55\uff0c\u627e\u5230\u6240\u6709\u53ef\u7f16\u8bd1\u7684\u6e90\u6587\u4ef6\uff0c\u5e76\u5c06\u5b83\u4eec\u6dfb\u52a0\u5230\u6267\u884c\u76ee\u6807\u4e2d\u3002\\n\\n\u53ef\u4ee5\u4f7f\u7528 `aux_source_directory()` \u51fd\u6570\u6307\u5b9a\u76ee\u5f55\uff0c\u5e76\u4ece\u76ee\u5f55\u4e2d\u6536\u96c6\u6e90\u6587\u4ef6\u3002\u5177\u4f53\u793a\u4f8b\u5982\u4e0b\uff1a\\n\\n```\\ncmake_minimum_required(VERSION 3.10)\\n\\nproject(my_project)\\n\\n# \u5c06\u6e90\u6587\u4ef6\u76ee\u5f55\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 aux_source_directory() \u51fd\u6570\\naux_source_directory(src SOURCES)\\n\\n# \u5c06 SOURCES \u53d8\u91cf\u4f20\u9012\u7ed9 add_executable() \u51fd\u6570\\nadd_executable(my_executable ${SOURCES})\\n```\\n\\n\u6b64\u793a\u4f8b\u4e2d\uff0c`src` \u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6e90\u6587\u4ef6\u90fd\u5c06\u88ab\u6dfb\u52a0\u5230 `SOURCES` \u53d8\u91cf\u4e2d\u3002`add_executable()` \u51fd\u6570\u5c06\u4f7f\u7528\u6b64\u53d8\u91cf\u521b\u5efa\u53ef\u6267\u884c\u6587\u4ef6\u3002\\n\\n## 4\u3001\u76ee\u5f55\u8303\u56f4\u4e0d\u5305\u542b\u5934\u6587\u4ef6\\n\\n\u4e0d\u5305\u62ec\u5934\u6587\u4ef6\u3002 `aux_source_directory()` \u51fd\u6570\u53ea\u4f1a\u67e5\u627e\u5e76\u6dfb\u52a0\u6e90\u6587\u4ef6\uff0c\u4f46\u4e0d\u4f1a\u5305\u542b\u5934\u6587\u4ef6\uff0c\u56e0\u4e3a\u5934\u6587\u4ef6\u901a\u5e38\u4e0d\u662f\u53ef\u7f16\u8bd1\u7684\u6e90\u4ee3\u7801\uff08\u9664\u975e\u5b83\u4eec\u662f `inline` \u6216\u8005 `template` \u5f62\u5f0f\u7684\uff09\uff0c\u5b83\u4eec\u4e0d\u4f1a\u88ab\u7f16\u8bd1\u6210\u76ee\u6807\u6587\u4ef6\uff0cheader \u6587\u4ef6\u66f4\u50cf\u662f\u5e93\u7684\u4e00\u90e8\u5206\u6216\u8005\u63a5\u53e3\u7684\u4e00\u90e8\u5206\uff0c\u7528\u4e8e\u5b9a\u4e49\u7c7b\u3001\u5b9a\u4e49\u51fd\u6570\u3001\u5b9a\u4e49\u5b8f\u7b49\u7b49\uff0c\u88ab\u7528\u4e8e\u5728\u8bb8\u591a\u4ee3\u7801\u6587\u4ef6\u4e2d\u8fdb\u884c #include \u5f15\u7528\u3002\\n\u5728\u4f7f\u7528 `aux_source_directory()` \u65f6\uff0c\u5e94\u8be5\u5c06\u6807\u5934\u6587\u4ef6\u5305\u542b\u5728\u4f7f\u7528\u8fd9\u4e9b\u6e90\u6587\u4ef6\u7684\u6587\u4ef6\u4e2d\uff0c\u5e76\u4e14\u5e94\u8be5\u4f7f\u7528 `target_include_directories()` \u51fd\u6570\u5c06\u76f8\u5e94\u76ee\u5f55\u6dfb\u52a0\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\u6216\u5e93\u7684\u5305\u542b\u76ee\u5f55\u3002 \u4f8b\u5982\uff1a\\n\\n```\\ncmake_minimum_required(VERSION 3.10)\\n\\nproject(my_project)\\n\\n# \u5c06\u6e90\u6587\u4ef6\u76ee\u5f55\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 aux_source_directory() \u51fd\u6570\\naux_source_directory(src SOURCES)\\n\\n# \u5c06\u5934\u6587\u4ef6\u76ee\u5f55\u6dfb\u52a0\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\u6216\u5e93\u7684\u5305\u542b\u76ee\u5f55\\ntarget_include_directories(my_executable PUBLIC include)\\n\\n# \u5c06 SOURCES \u53d8\u91cf\u4f20\u9012\u7ed9 add_executable() \u51fd\u6570\\nadd_executable(my_executable ${SOURCES})\\n```\\n\\n\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c`include` \u76ee\u5f55\u8def\u5f84\u88ab\u6dfb\u52a0\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\u6216\u5e93\u7684\u5305\u542b\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u4e2d\u5305\u542b\u6240\u6709\u5fc5\u8981\u7684\u5934\u6587\u4ef6\u3002 \u6dfb\u52a0 `target_include_directories()` \u51fd\u6570\u540e\uff0c\u4f7f\u7528\u53d8\u91cf `SOURCES` \u6dfb\u52a0\u6240\u6709\u6e90\u6587\u4ef6\u5373\u53ef\u3002","isLeaf":true},{"key":"/cpp/04-cmake/02-add_definitions.md","path":"/cpp/04-cmake/02-add_definitions.md","route":"/cpp/04-cmake/02-add_definitions.md","leaf":true,"title":"02-add_definitions","depth":2,"content":"---\\ntags: CPP\\n---\\n\\nadd_definitions \u662f CMake \u4e2d\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\u7528\u4e8e\u5411\u7f16\u8bd1\u5668\u6dfb\u52a0\u9884\u5b9a\u4e49\u7684\u7b26\u53f7\u3002\u5728 CMake \u4e2d\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728 CMakeLists.txt \u6587\u4ef6\u4e2d\u8c03\u7528 add_definitions \u51fd\u6570\u6765\u4e3a\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u6dfb\u52a0\u7b26\u53f7\u3002\\n\\n\u6dfb\u52a0\u7b26\u53f7\u7684\u57fa\u672c\u76ee\u7684\u662f\u4e3a\u4e86\u5728\u7f16\u8bd1\u65f6\u5b9a\u4e49\u4e00\u4e9b\u5b8f\uff0c\u8fd9\u4e9b\u5b8f\u5728\u6e90\u4ee3\u7801\u4e2d\u4f7f\u7528\uff0c\u53ef\u4ee5\u63a7\u5236\u5e94\u7528\u7a0b\u5e8f\u7684\u884c\u4e3a\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 add_definitions(-DDEBUG) \u6dfb\u52a0\u4e00\u4e2a\u540d\u4e3a DEBUG \u7684\u7b26\u53f7\uff0c\u5728\u6e90\u4ee3\u7801\u4e2d\u4f7f\u7528 #ifdef DEBUG \u548c #ifndef DEBUG \u5bf9\u7a0b\u5e8f\u8fdb\u884c\u8c03\u8bd5\u3002\\n\\n\u9664\u4e86\u63a7\u5236\u7a0b\u5e8f\u884c\u4e3a\u4e4b\u5916\uff0c\u4f7f\u7528 add_definitions \u8fd8\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7684\u5e73\u53f0\u914d\u7f6e\u4e0d\u540c\u7684\u7f16\u8bd1\u6807\u8bb0\u548c\u53c2\u6570\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 add_definitions(-DMY_LINUX_BUILD) \u6765\u6307\u5b9a\u5728 Linux \u7cfb\u7edf\u4e0a\u7f16\u8bd1\u3002\\n\\n\u603b\u7684\u6765\u8bf4\uff0cadd_definitions \u51fd\u6570\u5e2e\u52a9\u60a8\u5411\u7f16\u8bd1\u5668\u6dfb\u52a0\u9884\u5b9a\u4e49\u7684\u7b26\u53f7\uff0c\u5e76\u4e3a\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u66f4\u5927\u7684\u7075\u6d3b\u6027\u548c\u53ef\u914d\u7f6e\u6027\u3002","isLeaf":true}]},{"key":"/cpp/05-gcc","path":"/cpp/05-gcc","route":"/cpp/05-gcc","leaf":false,"title":"05-gcc","depth":1,"content":"","isLeaf":false,"children":[{"key":"/cpp/05-gcc/01-gcc.md","path":"/cpp/05-gcc/01-gcc.md","route":"/cpp/05-gcc/01-gcc.md","leaf":true,"title":"01-gcc","depth":2,"content":"---\\ntitle: 01 gcc \u7684\u4f7f\u7528\\ntags: CPP\\n---\\n\\n## 1\u3001\u901a\u8fc7 `-L` \u8bbe\u7f6e\u52a8\u6001\u5e93\u67e5\u627e\u8def\u5f84\\n\\n### 1) `-L` \u8bf4\u660e\\n\u5728C++\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u6307\u5b9a\u52a8\u6001\u5e93\u7684\u4f4d\u7f6e\uff1a\\n```\\n-L<path>\\n```\\n\\n\u5176\u4e2d\uff0c`<path>`\u662f\u6307\u52a8\u6001\u5e93\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u8def\u5f84\u3002\u8fd9\u6761\u547d\u4ee4\u544a\u8bc9\u7f16\u8bd1\u5668\u5728\u6307\u5b9a\u8def\u5f84\u4e0b\u67e5\u627e\u52a8\u6001\u5e93\u6587\u4ef6\u3002\\n\\n\u4f8b\u5982\uff0c\u5982\u679c\u8981\u5728Linux\u7cfb\u7edf\u4e2d\u4f7f\u7528`g++`\u7f16\u8bd1`example.cpp`\u6587\u4ef6\uff0c\u5e76\u94fe\u63a5\u540d\u4e3a`libexample.so`\u7684\u52a8\u6001\u5e93\u6587\u4ef6\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n\\n```\\ng++ example.cpp -L/path/to/dynamic/library -lexample\\n```\\n\\n\u5176\u4e2d\uff0c`/path/to/dynamic/library`\u662f\u6307\u52a8\u6001\u5e93\u6587\u4ef6`libexample.so`\u6240\u5728\u7684\u76ee\u5f55\u3002`-lexample`\u5219\u662f\u544a\u8bc9\u7f16\u8bd1\u5668\u94fe\u63a5`libexample.so`\u52a8\u6001\u5e93\u6587\u4ef6\u3002\\n\\n\u5728Windows\u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u6307\u5b9a\u52a8\u6001\u5e93\u7684\u4f4d\u7f6e\uff1a\\n\\n```\\n-L<path> -l<library_name>\\n```\\n\\n\u5176\u4e2d\uff0c`<path>`\u662f\u6307\u52a8\u6001\u5e93\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u8def\u5f84\uff0c`<library_name>`\u662f\u52a8\u6001\u5e93\u7684\u540d\u79f0\u3002\\n\\n\u4f8b\u5982\uff0c\u5982\u679c\u8981\u5728Windows\u7cfb\u7edf\u4e2d\u4f7f\u7528`g++`\u7f16\u8bd1`example.cpp`\u6587\u4ef6\uff0c\u5e76\u94fe\u63a5\u540d\u4e3a`example.dll`\u7684\u52a8\u6001\u5e93\u6587\u4ef6\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n\\n```\\ng++ example.cpp -L/path/to/dynamic/library -l example\\n```\\n\\n\u5176\u4e2d\uff0c`/path/to/dynamic/library`\u662f\u6307\u52a8\u6001\u5e93\u6587\u4ef6`example.dll`\u6240\u5728\u7684\u76ee\u5f55\u3002`-l example`\u5219\u662f\u544a\u8bc9\u7f16\u8bd1\u5668\u94fe\u63a5`example.dll`\u52a8\u6001\u5e93\u6587\u4ef6\u3002\u6ce8\u610f\uff0c\u5728Windows\u7cfb\u7edf\u4e2d\uff0c\u5728\u5e93\u540d\u79f0\u524d\u9700\u8981\u52a0\u4e0a`lib`\u524d\u7f00\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5e93\u540d\u79f0\u4e3a`example.dll`\uff0c\u5219\u9700\u8981\u5199\u6210`libexample.dll`\u3002\\n\\n### 2) \u53ef\u4ee5\u591a\u6b21\u4f7f\u7528 `-L`\\n\\n\u5728\u4e00\u6b21\u7f16\u8bd1\u4e2d\u53ef\u4ee5\u4f7f\u7528\u591a\u6b21`-L`\u6765\u6307\u5b9a\u591a\u4e2a\u52a8\u6001\u5e93\u7684\u8def\u5f84\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6709\u4e24\u4e2a\u4e0d\u540c\u7684\u52a8\u6001\u5e93\u8def\u5f84\u9700\u8981\u94fe\u63a5\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n\\n```\\ng++ example.cpp -L/path/to/first/dynamic/library -L/path/to/second/dynamic/library -lexample1 -lexample2\\n```\\n\\n\u8fd9\u4e2a\u547d\u4ee4\u5c06\u5728`/path/to/first/dynamic/library`\u548c`/path/to/second/dynamic/library`\u76ee\u5f55\u4e2d\u67e5\u627e`libexample1.so`\u548c`libexample2.so`\u3002\\n\\n\u8bf7\u6ce8\u610f\uff0c\u5728\u4f7f\u7528\u591a\u4e2a`-L`\u53c2\u6570\u65f6\uff0c\u7f16\u8bd1\u5668\u6309\u7167\u6307\u5b9a\u53c2\u6570\u7684\u987a\u5e8f\u641c\u7d22\u8def\u5f84\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u4e24\u4e2a\u8def\u5f84\u4e2d\u90fd\u6709\u540c\u540d\u7684\u5e93\uff0c\u5219\u53ef\u80fd\u4f1a\u53d1\u751f\u94fe\u63a5\u9519\u8bef\u3002\\n\\n### 3) `-L` \u6f14\u793a\\n\\n**\u521b\u5efa\u52a8\u6001\u94fe\u63a5\u5e93**\\n```c\\n#include<stdio.h>\\nvoid hello()\\n{\\n  printf(\\"hello world/n\\");\\n}\\n```\\n\\n```shell\\ng++ -std=c++11 -fPIC -shared hello.c -o libhello.so\\n```\\n\\n- `-shared`: \u8be5\u9009\u9879\u6307\u5b9a\u751f\u6210\u52a8\u6001\u8fde\u63a5\u5e93\uff08\u8ba9\u8fde\u63a5\u5668\u751f\u6210T\u7c7b\u578b\u7684\u5bfc\u51fa\u7b26\u53f7\u8868\uff0c\u6709\u65f6\u5019\u4e5f\u751f\u6210\u5f31\u8fde\u63a5W\u7c7b\u578b\u7684\u5bfc\u51fa\u7b26\u53f7\uff09\uff0c\u4e0d\u7528\u8be5\u6807\u5fd7\u5916\u90e8\u7a0b\u5e8f\u65e0\u6cd5\u8fde\u63a5\u3002\u76f8\u5f53\u4e8e\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\\n- `-fpic`: \u8868\u793a\u7f16\u8bd1\u4e3a\u4f4d\u7f6e\u72ec\u7acb\u7684\u4ee3\u7801\uff0c\u4e0d\u7528\u6b64\u9009\u9879\u7684\u8bdd\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u662f\u4f4d\u7f6e\u76f8\u5173\u7684\u6240\u4ee5\u52a8\u6001\u8f7d\u5165\u65f6\u662f\u901a\u8fc7\u4ee3\u7801\u62f7\u8d1d\u7684\u65b9\u5f0f\u6765\u6ee1\u8db3\u4e0d\u540c\u8fdb\u7a0b\u7684\u9700\u8981\uff0c\u800c\u4e0d\u80fd\u8fbe\u5230\u771f\u6b63\u4ee3\u7801\u6bb5\u5171\u4eab\u7684\u76ee\u7684\\n\\n**\u94fe\u63a5\u52a8\u6001\u5e93**\\n```c\\n#include<stdio.h>\\n\\nvoid: hello();\\n\\nint main()\\n{\\n  printf(\\"call hello()\\");\\n  hello();\\n}\\n```\\n\\n```shell\\n# \u9700\u8981\u4f7f\u7528-L\u9009\u9879\uff0c\u544a\u8bc9 hello \u5e93\u7684\u4f4d\u7f6e\\ng++ -std=c++11 main.c -o main -lhello -L.\\n```\\n\\n## 2\u3001`-I` \u6307\u5b9a\u5934\u6587\u4ef6\u7684\u5305\u542b\u8def\u5f84\\n\\n\u6bd4\u5982\u8fd9\u91cc\u6307\u5b9a mysql \u5934\u6587\u4ef6\u6240\u5728\u4f4d\u7f6e\\n\\n```shell\\ngcc -I/usr/include/mysql main.c -L/usr/lib/mysql -lmysqlclient -o main\\n```\\n\\n\u5e94\u8be5\u5c06`-L`\u653e\u5728`-l`\u4e4b\u524d\u3002","isLeaf":true},{"key":"/cpp/05-gcc/02-vcpkg.md","path":"/cpp/05-gcc/02-vcpkg.md","route":"/cpp/05-gcc/02-vcpkg.md","leaf":true,"title":"02-vcpkg","depth":2,"content":"---\\ntitle: 02 \u5305\u7ba1\u7406\u5668\\ntags: CPP\\n---\\n\\n## 1\u3001\u57fa\u672c\u4ecb\u7ecd\\n\\nC++ vcpkg \u662f\u4e00\u4e2a\u7528\u4e8e\u7ba1\u7406 C++ \u7b2c\u4e09\u65b9\u5e93\u7684\u8de8\u5e73\u53f0\u5305\u7ba1\u7406\u5668\u3002\u5b83\u80fd\u591f\u5728\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u5b89\u88c5\u5e93\u5e76\u5904\u7406\u5176\u4f9d\u8d56\u5173\u7cfb\uff0c\u80fd\u591f\u4e3a\u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u4e00\u4e2a\u65b9\u4fbf\u7684\u65b9\u5f0f\u6765\u83b7\u53d6\u548c\u4f7f\u7528 C++ \u7b2c\u4e09\u65b9\u5e93\u3002\\n\\nC++ vcpkg \u652f\u6301 Windows\u3001Linux \u548c MacOS \u7b49\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u3002\u5b83\u4f7f\u7528\u4e00\u4e2a\u547d\u4ee4\u884c\u754c\u9762\u6765\u7ba1\u7406\u5305\uff0c\u652f\u6301\u81ea\u52a8\u4e0b\u8f7d\u3001\u7f16\u8bd1\u548c\u5b89\u88c5 C++ \u5e93\uff0c\u4e5f\u53ef\u4ee5\u624b\u52a8\u914d\u7f6e\u5b89\u88c5\u5e93\u3002\\n\\n\u4f7f\u7528 C++ vcpkg\uff0c\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u901a\u8fc7\u7b80\u5355\u7684\u547d\u4ee4\u884c\u64cd\u4f5c\u5feb\u901f\u83b7\u53d6\u9700\u8981\u7684\u5e93\uff0c\u5e76\u5728\u9879\u76ee\u4e2d\u4f7f\u7528\u5b83\u4eec\u3002\u6b64\u5916\uff0cC++ vcpkg \u8fd8\u5177\u6709\u4e00\u4e9b\u9ad8\u7ea7\u529f\u80fd\uff0c\u5982\u7248\u672c\u63a7\u5236\u3001\u5e93\u5347\u7ea7\u3001\u6784\u5efa\u9009\u9879\u7b49\u3002\\n\\n\u603b\u4e4b\uff0cC++ vcpkg \u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u8f7b\u677e\u7ba1\u7406 C++ \u7b2c\u4e09\u65b9\u5e93\uff0c\u5e76\u5728\u4e0d\u540c\u7684\u5e73\u53f0\u4e0a\u8fdb\u884c\u5f00\u53d1\u3002\\n\\n## 2\u3001\u4f7f\u7528\u6b65\u9aa4\\n\\n\u4ee5\u4e0b\u662f\u4f7f\u7528 vcpkg \u8fdb\u884c C++ \u5305\u7ba1\u7406\u7684\u57fa\u672c\u6b65\u9aa4\uff1a\\n1. \u4e0b\u8f7d\u548c\u5b89\u88c5 vcpkg \u5de5\u5177\\n   - \u9996\u5148\u9700\u8981\u5728 GitHub \u4e0a\u4e0b\u8f7d vcpkg \u7684\u6700\u65b0\u7248\u672c\uff1ahttps://github.com/microsoft/vcpkg\\n   - \u63a8\u8350\u5c06 vcpkg \u6240\u5728\u76ee\u5f55\u6dfb\u52a0\u5230\u7cfb\u7edf\u73af\u5883\u53d8\u91cf PATH \u4e2d\u3002\\n\\n2. \u901a\u8fc7 vcpkg \u5b89\u88c5\u6240\u9700\u7684\u5e93\\n   - \u6253\u5f00\u547d\u4ee4\u884c\uff0c\u8fdb\u5165 vcpkg \u76ee\u5f55\u3002\\n   - \u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\u6240\u9700\u7684\u5e93\uff1a`vcpkg install <package-name>`\\n   - \u4f8b\u5982\uff0c\u5b89\u88c5 OpenSSL \u5e93\u53ef\u4ee5\u7528\u547d\u4ee4\uff1a`vcpkg install openssl` \\n\\n3. \u914d\u7f6e C++ \u9879\u76ee\u4ee5\u4f7f\u7528 vcpkg \u5b89\u88c5\u7684\u5e93\\n   - \u5728 C++ \u9879\u76ee\u4e2d\u6253\u5f00\u914d\u7f6e\u6587\u4ef6\uff08\u5982 Visual Studio \u4e2d\u7684 .vcxproj \u6587\u4ef6\uff09\u3002\\n   - \u5c06\u4ee5\u4e0b\u51e0\u884c\u4ee3\u7801\u6dfb\u52a0\u5230vcxproj\u4e2d\uff1a\\n    ```\\n    <ItemGroup>\\n        <PackageReference Include=\\"openssl\\" Version=\\"*\\" />\\n    </ItemGroup>\\n    ```\\n  - \u4e0a\u8ff0\u8bed\u53e5\u5c06 `<PackageReference>` \u5143\u7d20\u6dfb\u52a0\u5230\u9879\u76ee\u6587\u4ef6\u4e2d\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u5e93\u7684\u540d\u79f0\u4f5c\u4e3a\u5176\u4e2d\u7684\u5305\u5f15\u7528 \u3002\\n\\n4. \u6784\u5efa\u548c\u8fd0\u884c\u7a0b\u5e8f\\n   - \u4f7f\u7528 C++ \u7f16\u8bd1\u5668\u6784\u5efa\u548c\u7f16\u8bd1\u9879\u76ee\u3002\\n   - \u8fd0\u884c\u53ef\u6267\u884c\u7a0b\u5e8f\u4ee5\u786e\u4fdd\u5e93\u5df2\u88ab\u6210\u529f\u6dfb\u52a0\u4ee5\u53ca\u9879\u76ee\u4ee5\u6b63\u5e38\u5de5\u4f5c\u3002\\n\\n\u8fd9\u662f\u4f7f\u7528 vcpkg \u8fdb\u884c\u57fa\u672c C++ \u5305\u7ba1\u7406\u7684\u7b80\u5355\u6b65\u9aa4\u3002\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u60c5\u51b5\u8c03\u6574\u8fd9\u4e9b\u6b65\u9aa4\uff0c\u5982\u638c\u63e1\u66f4\u591a\u7684\u7f16\u8bd1\u9009\u9879\u3001\u901a\u8fc7 vcpkg \u67e5\u770b\u5305\u5217\u8868\u548c\u7248\u672c\u7b49\u3002","isLeaf":true}]},{"key":"/cpp/06-v8","path":"/cpp/06-v8","route":"/cpp/06-v8","leaf":false,"title":"06-v8","depth":1,"content":"","isLeaf":false,"children":[{"key":"/cpp/06-v8/01-build-v8.md","path":"/cpp/06-v8/01-build-v8.md","route":"/cpp/06-v8/01-build-v8.md","leaf":true,"title":"01-build-v8","depth":2,"content":"---\\ntitle: \u6e90\u7801\u6784\u5efa V8\\ntags: CPP\\n---\\n\\nhttps://v8.js.cn/docs/build/","isLeaf":true}]}]},{"key":"/docker","path":"/docker","route":"/docker","leaf":false,"title":"docker","depth":0,"content":"","isLeaf":false,"children":[{"key":"/docker/01-command.md","path":"/docker/01-command.md","route":"/docker/01-command.md","leaf":true,"title":"01-command","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n## 1\u3001docker \u7b80\u4ecb\\nDocker \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5e94\u7528\u5bb9\u5668\u5f15\u64ce\uff0c\u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u6253\u5305\u4ed6\u4eec\u7684\u5e94\u7528\u4ee5\u53ca\u4f9d\u8d56\u5305\u5230\u4e00\u4e2a\u53ef\u79fb\u690d\u7684\u5bb9\u5668\u4e2d\uff0c\u7136\u540e\u53d1\u5e03\u5230\u4efb\u4f55\u6d41\u884c\u7684Linux\u673a\u5668\u6216Windows \u673a\u5668\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u865a\u62df\u5316\uff0c\u5bb9\u5668\u662f\u5b8c\u5168\u4f7f\u7528\u6c99\u7bb1\u673a\u5236\uff0c\u76f8\u4e92\u4e4b\u95f4\u4e0d\u4f1a\u6709\u4efb\u4f55\u63a5\u53e3\u3002\\n\\n\u4e00\u4e2a\u5b8c\u6574\u7684Docker\u6709\u4ee5\u4e0b\u51e0\u4e2a\u90e8\u5206\u7ec4\u6210\uff1a\\n1. DockerClient \u5ba2\u6237\u7aef\\n2. Docker Daemon \u5b88\u62a4\u8fdb\u7a0b\\n3. Docker Image \u955c\u50cf\\n4. DockerContainer \u5bb9\u5668\\n\\n\\n## 2\u3001\u955c\u50cf\u64cd\u4f5c\\n\\n```shell\\n# \u5236\u4f5c\u955c\u50cf\\ndocker build -t gaollard/hello:v1 .\\n\\n# \u63a8\u9001\u955c\u50cf\\ndocker push gaollard/hello:v1 \\n\\n# \u5220\u9664\u955c\u50cf(\u5220\u9664\u4e4b\u524d\uff0c\u9700\u8981\u5148\u505c\u6b62\u76f8\u5173\u7684\u5bb9\u5668)\\ndocker rmi IMAGE_ID\\n\\n# \u5f3a\u5236\u5220\u9664\\ndocker rmi c7309a89f296 -f\\n\\n# \u4ece\u8fdc\u7a0b\u62c9\u53d6\u955c\u50cf\\ndocker pull nginx\\n\\n# \u641c\u7d22\u955c\u50cf\\ndocker search httpd\\n```\\n\\n## 3\u3001\u5bb9\u5668\u64cd\u4f5c\\n\\n```shell\\n# \u505c\u6b62\u5bb9\u5668\\ndocker stop CONTAINER_ID\\n\\n# \u5236\u4f5c\u5bb9\u5668\\ndocker run -p 7001:80 --name tnginx -d gaollard/hello:v1\\n\\n# \u6302\u8f7d\u6570\u636e\u5377\\ndocker run -p 7002:80 --name tnginx2 -v /Users/arraybuffer/Desktop/html:/usr/share/nginx/html -d nginx\\n\\n# \u67e5\u770b\u5bb9\u5668\\ndocker ps\\n```\\n\\n**\u5220\u9664\u5bb9\u5668**\\n\\n\u8bed\u6cd5\uff1a\\n\\n```shell\\ndocker rm [OPTIONS] \u5bb9\u5668\u540d\uff0c\u5176\u4e2doptions\u6709\u4e09\u79cd\u7c7b\u578b\uff1a\\n```\\n\\n- -f \uff1a\u901a\u8fc7SIGKILL\u4fe1\u53f7\u5f3a\u5236\u5220\u9664\u4e00\u4e2a\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\\n- -l \uff1a\u79fb\u9664\u5bb9\u5668\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\uff0c\u800c\u975e\u5bb9\u5668\u672c\u8eab-v \uff1a-v \u5220\u9664\u4e0e\u5bb9\u5668\u5173\u8054\u7684\u5377\\n\\n\u5bb9\u5668\u5220\u9664\u4e3e\u4f8b\uff1a\\n\\n```bash\\ndocker rm -v nginx \u8fd9\u53e5\u8bdd\u7684\u610f\u601d\u662f\u5220\u9664nginx\u5bb9\u5668\uff0c\u5e76\u89e3\u9664\u4e0enginx\u5bb9\u5668\u5173\u8054\u7684\u5377\\ndocker rm -l db \u8fd9\u53e5\u547d\u4ee4\u7684\u610f\u601d\u662f\uff1a\u79fb\u9664\u5bb9\u5668A\u5bf9\u5bb9\u5668B\u7684\u8fde\u63a5db\\ndocker rm -f db01 db02 \u8fd9\u53e5\u547d\u4ee4\u7684\u610f\u601d\u662f\u5220\u9664\u5bb9\u5668db01\u548cdb02\\n```\\n\\n\u5bb9\u5668\u7684\u5220\u9664\u53ef\u4ee5\u4e00\u6b21\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\uff0c\u5728\u4f7f\u7528\u65f6\u76f4\u63a5\u4ee5\u7a7a\u683c\u9694\u5f00\u5c31\u884c\u3002\\n\\n## 4\u3001docker \u5bb9\u5668\u5b89\u88c5 vim\\n\u5728\u4f7f\u7528docker\u5bb9\u5668\u65f6\uff0c\u6709\u65f6\u5019\u91cc\u8fb9\u6ca1\u6709\u5b89\u88c5vim\uff0c\u6572vim\u547d\u4ee4\u65f6\u63d0\u793a\u8bf4\uff1avim: command not found\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u5b89\u88c5vim\uff0c\u53ef\u662f\u5f53\u4f60\u6572apt-get install vim\u547d\u4ee4\u65f6\uff0c\u63d0\u793a\uff1a\\n\\n```text\\nReading package lists... Done\\nBuilding dependency tree       \\nReading state information... Done\\nE: Unable to locate package vim\\n```\\n \\n\u8fd9\u65f6\u5019\u9700\u8981\u6572\uff1aapt-get update\uff0c\u8fd9\u4e2a\u547d\u4ee4\u7684\u4f5c\u7528\u662f\uff1a\u540c\u6b65 /etc/apt/sources.list \u548c /etc/apt/sources.list.d \u4e2d\u5217\u51fa\u7684\u6e90\u7684\u7d22\u5f15\uff0c\u8fd9\u6837\u624d\u80fd\u83b7\u53d6\u5230\u6700\u65b0\u7684\u8f6f\u4ef6\u5305\u3002\\n\\n\u7b49\u66f4\u65b0\u5b8c\u6bd5\u4ee5\u540e\u518d\u6572\u547d\u4ee4\uff1aapt-get install vim\u547d\u4ee4\u5373\u53ef\u3002\\n\\n```shell\\n$ > apt-get update\\n$ > apt-get install vim\\n```\\n\\n## 5\u3001yaml \u8bed\u6cd5\\nhttps://www.jianshu.com/p/cea930923f3d","isLeaf":true},{"key":"/docker/02-deploy-nginx.md","path":"/docker/02-deploy-nginx.md","route":"/docker/02-deploy-nginx.md","leaf":true,"title":"02-deploy-nginx","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n## 1. \u7b80\u5355\u90e8\u7f72\\n\u7b2c\u4e00\u6b65\uff1a\u524d\u7aef\u6253\u5305\u751f\u6210 dist \u6587\u4ef6\\n```shell\\nnpm run build\\n```\\n\\n\u7b2c\u4e8c\u6b65\uff1a\u5728\u9879\u76ee\u6839\u76ee\u5f55\u521b\u5efa dockerfile \u6587\u4ef6\\n```shell\\n# \u8bbe\u7f6e\u57fa\u7840\u955c\u50cf\\nFROM nginx\\n\\n# \u5b9a\u4e49\u4f5c\u8005\\nMAINTAINER gaollard\\n\\n# \u5c06dist\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u590d\u5236\u5230 /usr/share/nginx/html/ \u8fd9\u4e2a\u76ee\u5f55\u4e0b\u9762\\nCOPY dist/  /usr/share/nginx/html/\\n```\\n\\n\u7b2c\u4e09\u6b65\uff1a\u6784\u5efa\u955c\u50cf\\n```shell\\n# \u5728\u9879\u76ee\u6839\u76ee\u5f55\u6267\u884c iname \u4e3a\u955c\u50cf\u540d\u79f0\\ndocker build -t iname .\\n\\n# \u67e5\u770b\u955c\u50cf\\ndocker ps\\n```\\n\\n\u7b2c\u56db\u6b65\uff1a\u542f\u52a8\u5bb9\u5668\\n```shell\\n# -p \uff1a\u914d\u7f6e\u7aef\u53e3\u6620\u5c04\uff0c\u683c\u5f0f\u662f\u5916\u90e8\u8bbf\u95ee\u7aef\u53e3\uff1a\u5bb9\u5668\u5185\u7aef\u53e3\\n# -d \uff1a\u540e\u53f0\u8fd0\u884c  \\n# --name : \u7ed9\u5bb9\u5668\u53d6\u540d\\n# cname: \u5bb9\u5668\u540d\u79f0\\n# iname: \u955c\u50cf\u540d\u79f0\\n\\ndocker run -p 3000:80 -d --name cname iname\\n```\\n\\n\u7b2c\u4e94\u6b65\uff1a\u67e5\u770b\u662f\u5426\u8fd0\u884c\u6210\u529f\\n```shell\\ndocker ps\\n```\\n\\n![20230512162713](http://s3.airtlab.com/blog/20230512162713.png)\\n\\n## 2. \u811a\u672c\u5316\u90e8\u7f72\\n```shell\\n# \u5907\u4efd\u539f\u4ee3\u7801\\ntar -zcvf gentle-vue.tar ./gentle-vue\\n \\n# \u5220\u9664\u539f\u4ee3\u7801\u6587\u4ef6\u5939\\nrm -rf gentle-vue\\n \\n# \u62c9\u53d6\u4ee3\u7801\\ngit clone https://gitee.com/FJ_WoMenDeShiJie/gentle-vue.git\\necho -e \\"\\\\033[32m\\\\n\u4ee3\u7801\u62c9\u53d6\\\\n\\\\033[0m\\"\\n \\n# \u62f7\u8d1d node_modules\\ncp ./node.tar ./gentle-vue\\n \\n# build \u6253\u5305 vue \u9879\u76ee\uff0c\u751f\u6210 dist \u6587\u4ef6\u5939\\ncd ./gentle-vue\\ntar -zxvf node.tar\\nnpm run build\\necho -e \\"\\\\033[32m\\\\nvue\u9879\u76ee\u6253\u5305\u5b8c\u6210\\\\n\\\\033[0m\\"\\n \\n# \u5220\u9664\u539f\u955c\u50cf\\ndocker rmi gentle-vue &> /dev/null\\necho  -e \\"\\\\033[32m\\\\n\u5220\u9664\u539f\u955c\u50cf\u6587\u4ef6\\\\n\\\\033[0m\\"\\n \\n# \u62f7\u8d1d dockerfile \u5230\u5de5\u7a0b\u76ee\u5f55\u4e0b\\ncp ../dockerfile ./\\n \\n# \u6784\u5efa\u955c\u50cf\\ndocker build -t gentle-vue .\\necho -e \\"\\\\033[32m\\\\n\u65b0\u955c\u50cf\u6784\u5efa\u6210\u529f\\\\n\\\\033[0m\\"\\n \\n# \u5220\u9664\u539f\u5bb9\u5668\\ndocker rm -f gentle-vue\\n \\n# \u542f\u52a8\u5bb9\u5668\\ndocker run -p 3000:80 -d --name gentle-vue gentle-vue\\necho -e \\"\\\\033[32m\\\\n\u524d\u7aef\u5de5\u7a0b\u90e8\u7f72\u5b8c\u6210\\\\n\\\\033[0m\\"\\n```\\n\\n## 3. \u53c2\u8003\u6587\u6863\\n[https://blog.csdn.net/jiangyu1013/article/details/84572582](https://blog.csdn.net/jiangyu1013/article/details/84572582)\\n","isLeaf":true},{"key":"/docker/03-deploy-sentry.md","path":"/docker/03-deploy-sentry.md","route":"/docker/03-deploy-sentry.md","leaf":true,"title":"03-deploy-sentry","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nhttps://blog.csdn.net/u014265398/article/details/105877084","isLeaf":true},{"key":"/docker/04-install-ssh.md","path":"/docker/04-install-ssh.md","route":"/docker/04-install-ssh.md","leaf":true,"title":"04-install-ssh","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n1. https://www.jianshu.com/p/426f0d8e6cbf\\n2. https://www.cnblogs.com/mengw/p/11413461.html","isLeaf":true},{"key":"/docker/05-docker-network.md","path":"/docker/05-docker-network.md","route":"/docker/05-docker-network.md","leaf":true,"title":"05-docker-network","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n### 1\u3001\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Docker \u7f51\u7edc\\n\\n```\\n$ docker network create -d bridge test-net\\n```\\n\\n![20230512163028](http://s3.airtlab.com/blog/20230512163028.png)\\n\\n\u53c2\u6570\u8bf4\u660e\uff1a\\n- -d\uff1a\u53c2\u6570\u6307\u5b9a Docker \u7f51\u7edc\u7c7b\u578b\uff0c\u6709 bridge\u3001overlay\u3002 \u5176\u4e2d overlay \u7f51\u7edc\u7c7b\u578b\u7528\u4e8e Swarm mode\uff0c\u5728\u672c\u5c0f\u8282\u4e2d\u4f60\u53ef\u4ee5\u5ffd\u7565\u5b83\u3002\\n\\n### 2\u3001\u8fde\u63a5\u5bb9\u5668\\n\u8fd0\u884c\u4e00\u4e2a\u5bb9\u5668\u5e76\u8fde\u63a5\u5230\u65b0\u5efa\u7684 test-net \u7f51\u7edc:\\n\\n```shell\\n$ docker run -itd --name test1 --network test-net ubuntu /bin/bash\\n```\\n\\n\u6253\u5f00\u65b0\u7684\u7ec8\u7aef\uff0c\u518d\u8fd0\u884c\u4e00\u4e2a\u5bb9\u5668\u5e76\u52a0\u5165\u5230 test-net \u7f51\u7edc:\\n\\n```shell\\n$ docker run -itd --name test2 --network test-net ubuntu /bin/bash\\n```\\n\\n\u70b9\u51fb\u56fe\u7247\u67e5\u770b\u5927\u56fe\uff1a\\n\\n![20230512163120](http://s3.airtlab.com/blog/20230512163120.png)\\n\\n\u4e0b\u9762\u901a\u8fc7 ping \u6765\u8bc1\u660e test1 \u5bb9\u5668\u548c test2 \u5bb9\u5668\u5efa\u7acb\u4e86\u4e92\u8054\u5173\u7cfb\u3002\\n\u5982\u679c test1\u3001test2 \u5bb9\u5668\u5185\u4e2d\u65e0 ping \u547d\u4ee4\uff0c\u5219\u5728\u5bb9\u5668\u5185\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 ping\uff08\u5373\u5b66\u5373\u7528\uff1a\u53ef\u4ee5\u5728\u4e00\u4e2a\u5bb9\u5668\u91cc\u5b89\u88c5\u597d\uff0c\u63d0\u4ea4\u5bb9\u5668\u5230\u955c\u50cf\uff0c\u5728\u4ee5\u65b0\u7684\u955c\u50cf\u91cd\u65b0\u8fd0\u884c\u4ee5\u4e0a\u4fe9\u4e2a\u5bb9\u5668\uff09\u3002\\n\\n```shell\\napt-get update\\napt install iputils-ping\\n```\\n\\n\u5728 test1 \u5bb9\u5668\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n\\n![20230512163154](http://s3.airtlab.com/blog/20230512163154.png)\\n\\n\\n\u540c\u7406\u5728 test2 \u5bb9\u5668\u4e5f\u4f1a\u6210\u529f\u8fde\u63a5\u5230:\\n\\n![20230512163213](http://s3.airtlab.com/blog/20230512163213.png)\\n\\n\u8fd9\u6837\uff0ctest1 \u5bb9\u5668\u548c test2 \u5bb9\u5668\u5efa\u7acb\u4e86\u4e92\u8054\u5173\u7cfb\u3002\\n\u5982\u679c\u4f60\u6709\u591a\u4e2a\u5bb9\u5668\u4e4b\u95f4\u9700\u8981\u4e92\u76f8\u8fde\u63a5\uff0c\u63a8\u8350\u4f7f\u7528 Docker Compose\uff0c\u540e\u9762\u4f1a\u4ecb\u7ecd\u3002\\n","isLeaf":true},{"key":"/docker/06-exec-vs-attach.md","path":"/docker/06-exec-vs-attach.md","route":"/docker/06-exec-vs-attach.md","leaf":true,"title":"06-exec-vs-attach","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n![20230512163246](http://s3.airtlab.com/blog/20230512163246.png)","isLeaf":true},{"key":"/docker/07-image-export-import.md","path":"/docker/07-image-export-import.md","route":"/docker/07-image-export-import.md","leaf":true,"title":"07-image-export-import","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n\u53c2\u8003\u6587\u6863\uff1a[https://blog.csdn.net/ncdx111/article/details/79878098](https://blog.csdn.net/ncdx111/article/details/79878098)\\n\\n> \u901a\u8fc7\u955c\u50cf\u540d\u79f0\u5bfc\u51fa\u65f6\uff0c\u5bfc\u5165\u955c\u50cf\u65f6\uff0c\u955c\u50cf\u540d\u79f0\u4e0d\u4f1a\u4e22\u5931\uff0c\u901a\u8fc7\u955c\u50cfID\u5bfc\u51fa\uff0c\u955c\u50cf\u540d\u79f0\u4f1a\u4e22\u5931\u3002\\n\\n\\n### 1\u3001\u955c\u50cf\u5bfc\u51fa\\n#### save\\n\\n```bash\\ndocker save -o nginx.tar nginx:latest\\ndocker save > nginx.tar nginx:latest\\n```\\n\\nnginx:latest \u53ef\u4ee5\u6539\u4e3a\u955c\u50cf ID\\n\\n#### export\\n\\n```bash\\ndocker export [options] container\\ndocker export -o nginx-test.tar nginx-test\\n```\\n\\n\u5176\u4e2d-o\u8868\u793a\u8f93\u51fa\u5230\u6587\u4ef6\uff0cnginx-test.tar\u4e3a\u76ee\u6807\u6587\u4ef6\uff0cnginx-test\u662f\u6e90\u5bb9\u5668\u540d\uff08name\uff09\\n\\n### 2\u3001\u955c\u50cf\u5bfc\u5165\\n#### load\\n\\n```bash\\ndocker load -i nginx.tar\\ndocker load < nginx.tar\\n```\\n\\n#### import\\n\\n```bash\\ndocker import [options] file|URL|- [REPOSITORY[:TAG]]\\n```\\n\\n```bash\\ndocker import nginx-test.tar nginx:imp\\n\\n# \u6216\\ncat nginx-test.tar | docker import - nginx:imp\\n```\\n","isLeaf":true},{"key":"/docker/08-host-and-container.md","path":"/docker/08-host-and-container.md","route":"/docker/08-host-and-container.md","leaf":true,"title":"08-host-and-container","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n\u5bb9\u5668\u548c\u5bbf\u4e3b\u673a\u6587\u4ef6\u4e92\u5bfc\\n\\n```shell\\n# \u4ece\u5bbf\u4e3b\u673a\u62f7\u8d1d\u5230\u5bb9\u5668\\ndocker cp [\u5bbf\u4e3b\u673a\u6587\u4ef6\u8def\u5f84] [\u5bb9\u5668\u540d]:[\u5bb9\u5668\u8def\u5f84]\\n\\n# \u4ece\u5bb9\u5668\u4e2d\u62f7\u8d1d\u6587\u4ef6\u5230\u5bbf\u4e3b\u673a\\ndocker cp [\u5bb9\u5668\u540d]:[\u5bb9\u5668\u8def\u5f84] [\u5bbf\u4e3b\u673a\u6587\u4ef6\u8def\u5f84]\\n```","isLeaf":true},{"key":"/docker/09-docker-logs.md","path":"/docker/09-docker-logs.md","route":"/docker/09-docker-logs.md","leaf":true,"title":"09-docker-logs","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nhttps://www.runoob.com/docker/docker-logs-command.html\\n\\ndocker logs : \u83b7\u53d6\u5bb9\u5668\u7684\u65e5\u5fd7\\n\\n```shell\\ndocker logs [OPTIONS] CONTAINER\\n```\\n\\nOPTIONS\u8bf4\u660e\uff1a\\n- -f : \u8ddf\u8e2a\u65e5\u5fd7\u8f93\u51fa\\n- --since :\u663e\u793a\u67d0\u4e2a\u5f00\u59cb\u65f6\u95f4\u7684\u6240\u6709\u65e5\u5fd7\\n- -t : \u663e\u793a\u65f6\u95f4\u6233\\n- --tail :\u4ec5\u5217\u51fa\u6700\u65b0N\u6761\u5bb9\u5668\u65e5\u5fd7","isLeaf":true},{"key":"/docker/10-enter-container.md","path":"/docker/10-enter-container.md","route":"/docker/10-enter-container.md","leaf":true,"title":"10-enter-container","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n### 1. exec\\n[https://www.cnblogs.com/xhyan/p/6593075.html](https://www.cnblogs.com/xhyan/p/6593075.html)\\n\\n\u5728\u4f7f\u7528 docker \u521b\u5efa\u5bb9\u5668\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 -it \u53c2\u6570\u6307\u5b9a\uff0c\u76f4\u63a5\u8fdb\u5165\u5bb9\u5668\uff1a\\n\\n```bash\\n# micro-web \u4e3a\u5bb9\u5668\u540d\u79f0, \u5176\u4ed6\u56fa\u5b9a\u5199\u6cd5\\ndocker exec -it micro-web /bin/bash\\n```\\n\\n### 2. attach\\n\\ndocker attach\u9000\u51fa\u5bb9\u5668\uff0c\u5bb9\u5668\u4f1a\u505c\u6b62\u8fd0\u884c\u7684\u89e3\u51b3\u65b9\u6cd5 [https://blog.csdn.net/enter89/article/details/89291691](https://blog.csdn.net/enter89/article/details/89291691)\\n\\n```shell\\ndocker attach [OPTIONS] CONTAINER\\n```\\n","isLeaf":true},{"key":"/docker/11-volume.md","path":"/docker/11-volume.md","route":"/docker/11-volume.md","leaf":true,"title":"11-volume","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n```shell\\ndocker run -it -v /host/path:/container/path centos /bin/bash\\n```\\n\\n1. https://www.jianshu.com/p/8c22cdfc0ffd\\n2. https://blog.csdn.net/hnmpf/article/details/80924494","isLeaf":true},{"key":"/docker/12-dockerfile.md","path":"/docker/12-dockerfile.md","route":"/docker/12-dockerfile.md","leaf":true,"title":"12-dockerfile","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nhttps://www.runoob.com/docker/docker-dockerfile.html\\n\\nARG & ENV \u6307\u4ee4\\nhttps://www.cnblogs.com/panpanwelcome/p/12604269.html\\nhttps://www.cntofu.com/book/139/image/dockerfile/arg.md","isLeaf":true},{"key":"/docker/13-docker-compose.md","path":"/docker/13-docker-compose.md","route":"/docker/13-docker-compose.md","leaf":true,"title":"13-docker-compose","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nCompose \u662f\u7528\u4e8e\u5b9a\u4e49\u548c\u8fd0\u884c\u591a\u5bb9\u5668 Docker \u5e94\u7528\u7a0b\u5e8f\u7684\u5de5\u5177\u3002\u901a\u8fc7 Compose\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 YML \u6587\u4ef6\u6765\u914d\u7f6e\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u7684\u6240\u6709\u670d\u52a1\u3002\u7136\u540e\uff0c\u4f7f\u7528\u4e00\u4e2a\u547d\u4ee4\uff0c\u5c31\u53ef\u4ee5\u4ece YML \u6587\u4ef6\u914d\u7f6e\u4e2d\u521b\u5efa\u5e76\u542f\u52a8\u6240\u6709\u670d\u52a1\u3002\\n\\nCompose \u4f7f\u7528\u7684\u4e09\u4e2a\u6b65\u9aa4\uff1a\\n\\n- \u4f7f\u7528 Dockerfile \u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u7684\u73af\u5883\u3002\\n- \u4f7f\u7528 docker-compose.yml \u5b9a\u4e49\u6784\u6210\u5e94\u7528\u7a0b\u5e8f\u7684\u670d\u52a1\uff0c\u8fd9\u6837\u5b83\u4eec\u53ef\u4ee5\u5728\u9694\u79bb\u73af\u5883\u4e2d\u4e00\u8d77\u8fd0\u884c\u3002\\n- \u6700\u540e\uff0c\u6267\u884c docker-compose up \u547d\u4ee4\u6765\u542f\u52a8\u5e76\u8fd0\u884c\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u3002\\n\\n### 1\u3001\u4e3a\u4ec0\u4e48\u9700\u8981 docker-compose\\n\u7ef4\u62a4\u4e00\u4e2a\u5bb9\u5668\u5f88\u7b80\u5355\uff0c\u901a\u5e38\u6709\u4ee5\u4e0b\u6b65\u9aa4\uff1a\\n\\n- \u83b7\u53d6\u955c\u50cf\uff1a\u4ece Dockerfile build image \u6216\u8005\u5728 dockerhub \u62c9\u53d6 image\\n- \u521b\u5efa\u5bb9\u5668\uff1a\u521b\u5efa\u591a\u4e2a container\\n- \u7ba1\u7406\u5bb9\u5668\uff1a\u7ba1\u7406\u8fd9\u4e9b container\uff08\u542f\u52a8\u505c\u6b62\u5220\u9664\uff09\\n\\n\u6709\u65f6\u5019\u4e00\u4e2a\u9879\u76ee\u5f88\u591a\u4e2a\u5bb9\u5668(10\u4e2a\u4ee5\u4e0a)\uff0c\u5982\u679c\u6bcf\u4e2a\u5bb9\u5668\u7684\u7ba1\u7406\u90fd\u8981\u91cd\u65b0\u64cd\u4f5c\u4e00\u904d\uff0c\u90a3\u5de5\u4f5c\u91cf\u5b9e\u5728\u662f\u592a\u5927\u4e86\u800c\u4e14\u5bb9\u6613\u51fa\u9519\uff0c\u90a3\u4e48\u5982\u4f55\u7ba1\u7406\u548c\u7ef4\u62a4\u8fd9\u4e9b\u5bb9\u5668\u5462\uff1f\\n\\n\u6211\u4eec\u9700\u8981\u4e00\u4e2a **\u6279\u5904\u7406** \u5de5\u5177\uff0cdocker-compose \u6b63\u662f\u8fd9\u6837\u7684\u5de5\u5177\u3002\\n\\n### 2\u3001docker-compose \u547d\u4ee4\\n```bash\\nDefine and run multi-container applications with Docker.\\n\\nUsage:\\n  docker-compose [-f <arg>...] [options] [COMMAND] [ARGS...]\\n  docker-compose -h|--help\\n\\nOptions:\\n  -f, --file FILE             Specify an alternate compose file\\n                              (default: docker-compose.yml)\\n  -p, --project-name NAME     Specify an alternate project name\\n                              (default: directory name)\\n  --verbose                   Show more output\\n  --log-level LEVEL           Set log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)\\n  --no-ansi                   Do not print ANSI control characters\\n  -v, --version               Print version and exit\\n  -H, --host HOST             Daemon socket to connect to\\n\\n  --tls                       Use TLS; implied by --tlsverify\\n  --tlscacert CA_PATH         Trust certs signed only by this CA\\n  --tlscert CLIENT_CERT_PATH  Path to TLS certificate file\\n  --tlskey TLS_KEY_PATH       Path to TLS key file\\n  --tlsverify                 Use TLS and verify the remote\\n  --skip-hostname-check       Don\'t check the daemon\'s hostname against the\\n                              name specified in the client certificate\\n  --project-directory PATH    Specify an alternate working directory\\n                              (default: the path of the Compose file)\\n  --compatibility             If set, Compose will attempt to convert keys\\n                              in v3 files to their non-Swarm equivalent\\n  --env-file PATH             Specify an alternate environment file\\n  \\n  \\n  Commands:\\n  build              Build or rebuild services\\n  config             Validate and view the Compose file\\n  create             Create services\\n  down               Stop and remove containers, networks, images, and volumes\\n  events             Receive real time events from containers\\n  exec               Execute a command in a running container\\n  help               Get help on a command\\n  images             List images\\n  kill               Kill containers\\n  logs               View output from containers\\n  pause              Pause services\\n  port               Print the public port for a port binding\\n  ps                 List containers\\n  pull               Pull service images\\n  push               Push service images\\n  restart            Restart services\\n  rm                 Remove stopped containers\\n  run                Run a one-off command\\n  scale              Set number of containers for a service\\n  start              Start services\\n  stop               Stop services\\n  top                Display the running processes\\n  unpause            Unpause services\\n  up                 Create and start containers\\n  version            Show the Docker-Compose version information\\n```\\n#### up  (Create and start containers)\\n```bash\\ndocker-compose -f docker-compose-prod.yml up\\n```\\n#### stop (Stop services)\\n```bash\\ndocker-compose -f docker-compose-prod.yml stop\\n```\\n### 3\u3001exmaple project\\n\\n![20230512163948](http://s3.airtlab.com/blog/20230512163948.png)","isLeaf":true},{"key":"/docker/14-cmd-entrypoint.md","path":"/docker/14-cmd-entrypoint.md","route":"/docker/14-cmd-entrypoint.md","leaf":true,"title":"14-cmd-entrypoint","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n> https://www.cnblogs.com/sparkdev/p/8461576.html \u8fd9\u7bc7\u6587\u7ae0\u8bb2\u7684\u5f88\u597d\\n\\n```\\nENTRYPOINT [\\"executable\\", \\"param1\\", \\"param2\\"]   // \u8fd9\u662f exec \u6a21\u5f0f\u7684\u5199\u6cd5\uff0c\u6ce8\u610f\u9700\u8981\u4f7f\u7528\u53cc\u5f15\u53f7\u3002\\nENTRYPOINT command param1 param2                // \u8fd9\u662f shell \u6a21\u5f0f\u7684\u5199\u6cd5\u3002\\n```","isLeaf":true}]},{"key":"/frontend","path":"/frontend","route":"/frontend","leaf":false,"title":"frontend","depth":0,"content":"","isLeaf":false,"children":[{"key":"/frontend/01-common","path":"/frontend/01-common","route":"/frontend/01-common","leaf":false,"title":"01-common","depth":1,"content":"","isLeaf":false,"children":[{"key":"/frontend/01-common/toc.md","path":"/frontend/01-common/toc.md","route":"/frontend/01-common/toc.md","leaf":true,"title":"toc","depth":2,"content":"---\\ntitle: \u951a\u70b9\u5b9a\u4f4d\u53cc\u5411\u66f4\u65b0 \u2b55\\ndate: 2020-12-02\\ntags: FE\\ndescription: \\n---\\n\\nTOC \u76ee\u5f55\u5728\u9875\u9762\u4e2d\u8d77\u5230\u4e00\u4e2a\u5f88\u597d\u7684\u7d22\u5f15\u4f5c\u7528\uff0c\u5f53\u9875\u9762\u6ed1\u52a8\u65f6\uff0cTOC \u4f1a\u968f\u7740\u9875\u9762\u6ed1\u52a8\u5bf9\u5e94\u66f4\u65b0\uff0c\u5982\u4e0b\u56fe\\n\\n![20230605150435](http://s3.airtlab.com/blog/20230605150435.png)\\n\\n\u4ea4\u4e92\u903b\u8f91\uff1a\\n\\n- \u9875\u9762\u6ed1\u52a8\u65f6\uff0c\u76ee\u5f55\u5bf9\u5e94\u6761\u76ee\u9ad8\u4eae\\n- \u70b9\u51fb\u76ee\u5f55\u5bf9\u5e94\u6761\u76ee\uff0c\u9875\u9762\u6ed1\u52a8\u5230\u5bf9\u5e94\u4f4d\u7f6e\\n\\n## 1\u3001\u70b9\u51fb\u76ee\u5f55\uff0c\u66f4\u65b0\u9875\u9762\u4f4d\u7f6e\\n\\n\u8fd9\u4e2a\u6bd4\u8f83\u597d\u5904\u7406\uff0c\u7ed9\u6bcf\u4e2a\u6807\u9898\u4e00\u4e2a\u94fe\u63a5\u951a\u70b9\uff0c\u951a\u70b9\u4e3a\\n\\n```js\\n`${window.location.hostname}${window.location.pathname}#${\u6807\u9898id}/`\\n```\\n\\n\u6bd4\u5982 `\u5b57\u7b26\u4e32\u5339\u914d`\u7684\u8def\u5f84\u53ef\u80fd\u4e3a `https://example.com/path/#\u5b57\u7b26\u4e32\u5339\u914d`\uff0c\u70b9\u51fb\u76ee\u5f55\u6eda\u52a8\u5230\u5bf9\u5e94\u951a\u70b9\u5373\u53ef\u3002\\n\\n1. \u901a\u8fc7`a`\u6807\u7b7e\uff0c`<a href=\\"https://example.com/path/#\u5b57\u7b26\u4e32\u5339\u914d\\">`\u8df3\u8f6c\\n\\n2. \u901a\u8fc7`scrollIntoView` \u6ed1\u52a8, id\u4e3a\u5bf9\u5e94\u7684\u6807\u9898id\\n\\n   ```js\\n    document\\n       .getElementById(id)\\n       .scrollIntoView({ inline: \'nearest\', behavior: \'smooth\' });\\n   ```\\n\\n## 2\u3001\u9875\u9762\u4f4d\u7f6e\u53d8\u66f4\uff0c\u76ee\u5f55\u5bf9\u5e94\u66f4\u65b0\\n\\n\u8fd9\u91cc\u6709\u4e24\u4e2a\u65b9\u6848\\n\\n1. \u76d1\u542c\u9875\u9762\u6eda\u52a8\u4f4d\u7f6e\uff0c\u5224\u65ad\u54ea\u4e2a\u6807\u9898\u5185\u5bb9\u8fdb\u5165\u5230\u89c6\u56fe\uff0c\u7136\u540e\u66f4\u65b0\u5bf9\u5e94\u7684\u76ee\u5f55\u6807\u9898\u6837\u5f0f\\n2. \u6d4f\u89c8\u5668\u63d0\u4f9b\u4e86\u539f\u751f\u7684API `IntersectionObserver`, \u7528\u4e8e\u89c2\u6d4bDOM\u5143\u7d20\u7684\u4ea4\u53c9\u60c5\u51b5\uff0c\u6211\u4eec\u4f7f\u7528 `IntersectionObserver` \u76d1\u542c\u5404\u4e2a\u6807\u9898\u533a\u5757\u5373\u53ef\\n\\n### 1. \u901a\u8fc7\u6eda\u52a8\u4f4d\u7f6e\u5224\u65ad\\n\\n```html\\n<!DOCTYPE html>\\n<html lang=\\"en\\">\\n\\n<head>\\n  <meta charset=\\"UTF-8\\">\\n  <meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=edge\\">\\n  <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\">\\n  <title>TOC</title>\\n  <style>\\n    .article {\\n      width: 1200px;\\n      margin: 0 auto;\\n      line-height: 30px;\\n    }\\n\\n    .toc {\\n      position: fixed;\\n      right: 600px;\\n      top: 30px;\\n      padding-right: 60px;\\n      padding-left: 20px;\\n      background-color: #f5f5f5;\\n    }\\n\\n    .toc ul {\\n      padding-left: 0;\\n    }\\n\\n    .toc a {\\n      color: #666;\\n      text-decoration: none;\\n    }\\n\\n    .toc .active a {\\n      color: #3c3ce7;\\n    }\\n  </style>\\n</head>\\n\\n<body>\\n  <div class=\\"article\\">\\n    <h2 id=\\"hash1\\">hash1</h2>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash2\\">hash2</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash3\\">hash3</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h2 id=\\"hash4\\">hash4</h2>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash5\\">hash5</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash6\\">hash6</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h2 id=\\"hash7\\">hash7</h2>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash8\\">hash8</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash9\\">hash9</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n  </div>\\n  <div class=\\"toc\\"></div>\\n</body>\\n\\n<script>\\n  var headings = document.querySelectorAll(\'h1, h2, h3, h4, h5, h6\')\\n  var toc = document.querySelector(\'.toc\');\\n  var html = \'<ul>\'\\n\\n  function init() {\\n    headings.forEach((heading, index) => {\\n      const title = heading.textContent\\n      const id = `heading-${index}`\\n      heading.setAttribute(\'id\', id)\\n      const level = parseInt(heading.tagName.replace(\'H\', \'\'), 10)\\n\\n      html += `\\n    <li style=\\"margin-left: ${(level - 1) * 16}px\\">\\n      <a href=\\"#${id}\\">\\n        ${title}\\n      </a>\\n    </li>\\n  `\\n    })\\n\\n    html += \'</ul>\'\\n\\n    toc.innerHTML = html;\\n\\n    const navList = document.querySelectorAll(\\".toc li\\");\\n\\n    navList[0].className = \\"active\\"\\n\\n    for (let i = 0; i < headings.length; i++) {\\n      console.log(`offset`, headings[i].offsetTop)\\n    }\\n\\n    window.addEventListener(\'scroll\', function () {\\n      var top = document.documentElement.scrollTop\\n      console.log(`current scroll top`, top)\\n\\n      for (let i = 0; i < headings.length; i++) {\\n        navList.forEach((it) => {\\n          it.className = \'\'\\n        })\\n      }\\n\\n      for (let i = 0; i < headings.length; i++) {\\n        if (headings[i].offsetTop > top) {\\n          navList[i].className = \\"active\\";\\n          break;\\n        }\\n      }\\n    })\\n  }\\n\\n  if (headings.length) {\\n    init()\\n  }\\n\\n<\/script>\\n\\n</html>\\n```\\n\\n### 2. \u4f7f\u7528 IntersectionObserver \u89c2\u6d4b\\n\\n```html\\n<!DOCTYPE html>\\n<html lang=\\"en\\">\\n\\n<head>\\n  <meta charset=\\"UTF-8\\">\\n  <meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=edge\\">\\n  <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\">\\n  <title>TOC</title>\\n  <style>\\n    .article {\\n      width: 1200px;\\n      margin: 0 auto;\\n      line-height: 30px;\\n    }\\n\\n    .toc {\\n      position: fixed;\\n      right: 600px;\\n      top: 30px;\\n      padding-right: 60px;\\n      padding-left: 20px;\\n      background-color: #f5f5f5;\\n    }\\n\\n    .toc ul {\\n      padding-left: 0;\\n    }\\n\\n    .toc a {\\n      color: #666;\\n      text-decoration: none;\\n    }\\n\\n    .toc .active a {\\n      color: #3c3ce7;\\n    }\\n  </style>\\n</head>\\n\\n<body>\\n  <div class=\\"article\\">\\n    <h2 id=\\"hash1\\">hash1</h2>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash2\\">hash2</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash3\\">hash3</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h2 id=\\"hash4\\">hash4</h2>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash5\\">hash5</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash6\\">hash6</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h2 id=\\"hash7\\">hash7</h2>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash8\\">hash8</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash9\\">hash9</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n  </div>\\n  <div class=\\"toc\\"></div>\\n</body>\\n\\n<script>\\n  var headings = document.querySelectorAll(\'h1, h2, h3, h4, h5, h6\')\\n  var toc = document.querySelector(\'.toc\');\\n  var html = \'<ul>\'\\n\\n  function init() {\\n    const anchorsId = [];\\n    headings.forEach((heading, index) => {\\n      const title = heading.textContent\\n      const id = `heading-${index}`\\n      anchorsId.push(id)\\n      heading.setAttribute(\'id\', id)\\n      const level = parseInt(heading.tagName.replace(\'H\', \'\'), 10)\\n\\n      html += `\\n    <li style=\\"margin-left: ${(level - 1) * 16}px\\">\\n      <a href=\\"#${id}\\">\\n        ${title}\\n      </a>\\n    </li>\\n  `\\n    })\\n\\n    html += \'</ul>\'\\n\\n    toc.innerHTML = html;\\n\\n    const navList = document.querySelectorAll(\\".toc li\\");\\n\\n    navList[0].className = \\"active\\"\\n\\n    // \u89c2\u6d4b\u8fdb\u5165\u5230\u89c6\u56fe\u7684\u5185\u5bb9\\n    const observer = new IntersectionObserver(entries => {\\n      entries.forEach(entry => {\\n        if (entry.isIntersecting) {\\n          console.log(entry.target.id)\\n          // setActiveAnchor(entry.target.id);\\n        }\\n      });\\n    });\\n\\n    forEach(anchorsId, id => observer.observe(document.getElementById(id)));\\n\\n    /**\\n     * \u5bf9\u4e00\u4e2a\u53ef\u904d\u5386\u5bf9\u8c61\u6bcf\u4e00\u4e2a\u5143\u7d20\u64cd\u4f5c\\n     * @param iterator \u53ef\u904d\u5386\u5bf9\u8c61\\n     * @param func \u64cd\u4f5c\u51fd\u6570\\n     */\\n    function forEach(iterator, func) {\\n      for (let val of iterator) {\\n        func(val);\\n      }\\n    }\\n  }\\n\\n  if (headings.length) {\\n    init()\\n  }\\n\\n<\/script>\\n\\n</html>\\n```\\n\\n## 3\u3001\u4ece HTML \u6216\u8005 Markdown \u4e2d\u89e3\u6790\u51fa TOC\\n\\n- markdown \u53ef\u501f\u52a9 `markdown-it-table-of-contents` \u4fee\u6539\u4e0b\u6e90\u7801 \u66b4\u9732 headings \\n- html \\n\\n## 4\u3001\u603b\u7ed3\\n\u4f7f\u7528\u6eda\u52a8\u8ddd\u79bb\u6bd4\u4f7f\u7528 IntersectionObserver \u7684\u65b9\u5f0f\u66f4\u7b26\u5408\u4e60\u60ef\\n\\n## 5\u3001\u53c2\u8003\\n- https://github.com/feikerwu/shan-hai-jing/blob/main/content/blog/toc.md\\n","isLeaf":true}]},{"key":"/frontend/02-javascript","path":"/frontend/02-javascript","route":"/frontend/02-javascript","leaf":false,"title":"02-javascript","depth":1,"content":"","isLeaf":false,"children":[{"key":"/frontend/02-javascript/01-integer-overflow.md","path":"/frontend/02-javascript/01-integer-overflow.md","route":"/frontend/02-javascript/01-integer-overflow.md","leaf":true,"title":"01-integer-overflow","depth":2,"content":"---\\ntags: Javascript\\n---\\n\\n\u6574\u6570\u6ea2\u51fa\u5728\u65e5\u5e38\u5f00\u53d1\u4e2d\u6bd4\u8f83\u5e38\u89c1\uff0c\u53ef\u4ee5\u5206\u4e3a\u51e0\u79cd\u573a\u666f\uff1a\\n- \u5728 JS \u4ee3\u7801\u4e2d\u8fdb\u884c\u6570\u503c\u8fd0\u7b97\\n- \u62ff\u5230 HTTP Response \u540e\u901a\u8fc7 JSON.parse \u5e8f\u5217\u5316\\n\\n## 1\u3001JSON.parse \u5e8f\u5217\u5316\\n\\n```js\\nconsole.log(Number.MAX_SAFE_INTEGER) // 9007199254740991\\n\\nvar a = \'{\\"an\\": 90071992547409912}\'\\nconsole.log(JSON.parse(a))\\n```\\n\\n\u6253\u5370\u7ed3\u679c\\n```js\\n{an: 90071992547409920}\\n```\\n\\n\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528 `JSON.parse` \uff0c\u53ef\u4ee5\u8003\u8651\u5c06\u6570\u503c\u8f6c\u4e3a\u5b57\u7b26\u4e32\uff0c\u4e5f\u5c31\u662f\uff1a\\n\\n```\\n\'{\\"an\\": \'90071992547409912\'}\'\\n```\\n\\n\u76f8\u5f53\u4e8e\u81ea\u5df1\u5199\u4e00\u4e2a JSON \u8bed\u6cd5\u89e3\u6790\u5668\uff0c\u5f53\u8bfb\u53d6 90071992547409912 \u65f6\uff0c\u53d1\u73b0\u4ed6\u662f\u4e00\u4e2a\u6570\u503c\uff0c\u4f46\u662f\u8d85\u8fc7\u4e86\u8303\u56f4\uff0c\u56e0\u6b64\u5e8f\u5217\u5316\u4e3a\u5b57\u7b26\u4e32\u3002\\n\\n## 1\u3001JSON.stringify\\n\\n```js\\nvar JSONbig = require(\'json-bigint\');\\n \\nvar json = \'{ \\"value\\" : 9223372036854775807, \\"v2\\": 123 }\';\\n\\nvar r1 = JSONbig.parse(json);\\nconsole.log(\'JSONbig.parse(input).value : \', r1.value.toString());\\nconsole.log(\'JSONbig.stringify(JSONbig.parse(input)):\', JSONbig.stringify(r1));\\n```","isLeaf":true}]},{"key":"/frontend/04-webpack","path":"/frontend/04-webpack","route":"/frontend/04-webpack","leaf":false,"title":"04-webpack","depth":1,"content":"","isLeaf":false,"children":[]},{"key":"/frontend/05-react","path":"/frontend/05-react","route":"/frontend/05-react","leaf":false,"title":"05-react","depth":1,"content":"","isLeaf":false,"children":[{"key":"/frontend/05-react/01-React.Element-and-React.ReactNode.md","path":"/frontend/05-react/01-React.Element-and-React.ReactNode.md","route":"/frontend/05-react/01-React.Element-and-React.ReactNode.md","leaf":true,"title":"01-React.Element-and-React.ReactNode","depth":2,"content":"\\n`React.Element` \u548c `React.ReactNode` \u90fd\u662f React \u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u5728\u4e8e `Element` \u4e3b\u8981\u7528\u4e8e\u63cf\u8ff0 `React` \u5143\u7d20\u7684\u7c7b\u578b\uff0c\u800c `Node` \u5219\u662f\u7528\u4e8e\u63cf\u8ff0\u4efb\u4f55\u53ef\u4ee5\u4f5c\u4e3a `React` \u5b50\u8282\u70b9\u7684\u7c7b\u578b\u3002\\n\\n\u4e3e\u4e2a\u4f8b\u5b50\u6765\u8bf4\uff0c\u5982\u679c\u4f60\u5b9a\u4e49\u4e00\u4e2a\u7ec4\u4ef6\u5e76\u8fd4\u56de\u4e00\u4e2a React \u5143\u7d20\uff0c\u8fd9\u4e2a\u5143\u7d20\u53ef\u4ee5\u662f\u4e00\u4e2adiv\u6807\u7b7e\uff1a\\n\\n```js\\nfunction MyComponent(): React.Element {\\n  return <div>Hello World!</div>;\\n}\\n```\\n\\n\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0cReact.Element\u7c7b\u578b\u7528\u4e8e\u63cf\u8ff0\u7531Hello World\u5b57\u7b26\u4e32\u7ec4\u6210\u7684React\u5143\u7d20\uff08div\u6807\u7b7e\uff09\u3002\\n\\n\u76f8\u53cd\uff0c\u5982\u679c\u4f60\u5b9a\u4e49\u4e00\u4e2a\u7ec4\u4ef6\u5e76\u5728\u5176props\u4e2d\u4f20\u9012\u4e00\u4e2aReact\u8282\u70b9\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528React.ReactNode\u7c7b\u578b\u6765\u63cf\u8ff0\u8be5\u8282\u70b9\u7684\u7c7b\u578b\u3002\u4f8b\u5982\uff1a\\n\\n```js\\ninterface MyProps {\\n  children: React.ReactNode;\\n}\\n\\nfunction MyComponent(props: MyProps): React.Element {\\n  return <div>{props.children}</div>;\\n}\\n```\\n\\n\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0cReact.ReactNode\u7c7b\u578b\u7528\u4e8e\u63cf\u8ff0MyComponent\u7684props\u4e2d\u7684children\u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u53ef\u4ee5\u662f\u4efb\u4f55\u5141\u8bb8\u4f5c\u4e3aReact\u8282\u70b9\u7684\u7c7b\u578b\u3002\u7531\u4e8eprops.children\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\u7684React\u8282\u70b9\uff08\u4f8b\u5982\u5143\u7d20\u3001\u5b57\u7b26\u4e32\u3001\u6570\u7ec4\u7b49\uff09\uff0c\u56e0\u6b64\u6211\u4eec\u5728\u8fd9\u91cc\u4f7f\u7528React.ReactNode\u800c\u4e0d\u662fReact.Element\u3002\\n\\n\u603b\u4e4b\uff0cReact.Element\u548cReact.ReactNode\u5728React\u4e2d\u5177\u6709\u4e0d\u540c\u7684\u89d2\u8272\u548c\u7528\u9014\u3002Element\u4e3b\u8981\u7528\u4e8e\u63cf\u8ff0React\u5143\u7d20\u7684\u7c7b\u578b\uff0c\u800cNode\u7528\u4e8e\u63cf\u8ff0\u53ef\u4ee5\u4f5c\u4e3aReact\u5b50\u8282\u70b9\u7684\u7c7b\u578b\u3002","isLeaf":true}]},{"key":"/frontend/cross-platform","path":"/frontend/cross-platform","route":"/frontend/cross-platform","leaf":false,"title":"cross-platform","depth":1,"content":"","isLeaf":false,"children":[{"key":"/frontend/cross-platform/01-uniapp.md","path":"/frontend/cross-platform/01-uniapp.md","route":"/frontend/cross-platform/01-uniapp.md","leaf":true,"title":"01-uniapp","depth":2,"content":"---\\ntitle: 01 uni-app \u6307\u5357\\n---\\n\\n> \u53c2\u8003\u6587\u6863\uff1ahttps://uniapp.dcloud.net.cn\\n\\n\u57fa\u4e8e uni-app + vue3 + typescript + uni-ui \u8fd9\u6837\u7684\u4e00\u4e2a\u6a21\u677f `https://github.com/fiiai/mall-uniapp`","isLeaf":true}]},{"key":"/frontend/nextjs","path":"/frontend/nextjs","route":"/frontend/nextjs","leaf":false,"title":"nextjs","depth":1,"content":"","isLeaf":false,"children":[{"key":"/frontend/nextjs/01-utf8-path-error.md","path":"/frontend/nextjs/01-utf8-path-error.md","route":"/frontend/nextjs/01-utf8-path-error.md","leaf":true,"title":"01-utf8-path-error","depth":2,"content":"\u5728 \u4f7f\u7528 next.js \u65f6\u53d1\u73b0\u6587\u4ef6\u540d\u5305\u542b\u4e2d\u6587\u5b57\u7b26\u65f6\uff0c\u8bbf\u95ee\u9875\u9762 404\uff0c\u5728 next.js github \u4e0a\u5df2\u7ecf\u6709\u4eba\u63d0\u4e86 issue: **Pages with utf-8 name don\'t work properly under SSR** https://github.com/vercel/next.js/issues/10084\\n\\n\u6bd4\u5982\u5f53 URL \u4e2d\u5305\u542b\u4e2d\u6587\u65f6 404 `http://localhost:5001/Javascript%E7%AD%89%E7%AD%89/01-oversize-number`\\n\\n![20230517173057](http://s3.airtlab.com/blog/20230517173057.png)\\n\\n![20230530222452](http://s3.airtlab.com/blog/20230530222452.png)","isLeaf":true}]}]},{"key":"/macos","path":"/macos","route":"/macos","leaf":false,"title":"macos","depth":0,"content":"","isLeaf":false,"children":[{"key":"/macos/homebrew.md","path":"/macos/homebrew.md","route":"/macos/homebrew.md","leaf":true,"title":"homebrew","depth":1,"content":"## 1\u3001Running Homebrew as root is extremely dangerous and no longer supported\\n\\n\u5728 macOS High Sierra(10.13.6) \u53ca\u4ee5\u4e0a\u7248\u672c\u7684 Mac \u4e0a\u9762\uff0c\u4f7f\u7528 brew install \u5b89\u88c5\u65f6\u8001\u662f\u62a5\u9519\uff0c\u56e0\u4e3a\u82f9\u679c\u5df2\u7ecf\u4e0d\u5141\u8bb8 Homebrew \u4f5c\u4e3a\u6839\u6765\u5b89\u88c5\u4e86\u3002\u5f53\u4f60\u6dfb\u52a0 `sudo brew install xxxx` \u65f6\u63d0\u793a\uff1a\u5371\u9669\u64cd\u4f5c\u3002\\n\\n\u7f51\u4e0a\u5f88\u591a\u505a\u6cd5\u662f\u628a `/usr/local` \u8def\u5f84\u6539\u6210\u5f53\u524d\u7528\u6237\u8def\u5f84\uff0c\u4f46\u662f\u5728\u9ad8\u7248\u672c\u7684Mac\u4e0a\u9762\u5df2\u7ecf\u4e0d\u5141\u8bb8\u4e86\uff1a\\n\\n```shell\\nsudo chown -R $(whoami) /usr/local\\nchown: /usr/local: Operation not permitted\\n```\\n\\n\u4fee\u590d\uff1a\\n\\n```shell\\nsudo chown -R `whoami` /usr/local/Homebrew/\\nsudo chown -R $(whoami) $(brew --prefix)/*\\nsudo mkdir /usr/local/Frameworks\\nsudo chown -R `whoami` /usr/local/Frameworks/\\n```\\n\\n**\u4e0b\u9762\u662f chatgtp \u7ed9\u51fa\u7684\u65b9\u6848**\\n\\n\u8981\u89e3\u51b3\u60a8\u5728\u4ee5root\u7528\u6237\u8eab\u4efd\u8fd0\u884cHomebrew\u7684\u95ee\u9898\uff0c\u60a8\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\u64cd\u4f5c\uff1a\\n1. \u5378\u8f7dHomebrew\uff1a\u5728\u7ec8\u7aef\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n```\\nsudo rm -rf /usr/local/Homebrew\\n```\\n\\n2. \u4fee\u6539\u76ee\u5f55\u6743\u9650\uff1a\u7ee7\u7eed\u5728\u7ec8\u7aef\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n```\\nsudo chown -R $(whoami) $(brew --prefix)/*\\n```\\n\\n3. \u79fb\u9664\u6b8b\u7559\u6587\u4ef6\uff1a\u8fd8\u5728\u7ec8\u7aef\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u4ee5\u5220\u9664\u53ef\u80fd\u6b8b\u7559\u7684\u914d\u7f6e\u6587\u4ef6\uff1a\\n```\\nrm -rf ~/Library/Caches/Homebrew\\n```\\n\\n4. \u91cd\u65b0\u5b89\u88c5Homebrew\uff1a\u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u6309\u7167\u5e38\u89c4\u7528\u6237\u7684\u65b9\u5f0f\u91cd\u65b0\u5b89\u88c5Homebrew\u3002 \u5728\u7ec8\u7aef\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n```\\n/bin/bash -c \\"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\\"\\n```\\n\\n\u4e0a\u8ff0\u6b65\u9aa4\u5c06\u5e2e\u52a9\u60a8\u5f7b\u5e95\u5378\u8f7d\u5e76\u91cd\u65b0\u5b89\u88c5 Homebrew\u3002\u8bb0\u5f97\u5728\u5b89\u88c5\u540e\uff0c\u6309\u7167\u5e38\u89c4\u7528\u6237\u7684\u65b9\u5f0f\uff0c\u800c\u4e0d\u662froot\u7528\u6237\uff0c\u6765\u4f7f\u7528Homebrew\u8fdb\u884c\u64cd\u4f5c\u548c\u5b89\u88c5\u8f6f\u4ef6\u5305\u3002\\n \\n\u8bf7\u6ce8\u610f\uff0c\u5bf9\u4e8e\u5177\u4f53\u7684\u64cd\u4f5c\uff0c\u6211\u5f3a\u70c8\u5efa\u8bae\u60a8\u67e5\u9605Homebrew\u7684\u5b98\u65b9\u6587\u6863\u4ee5\u83b7\u53d6\u6700\u65b0\u7684\u6307\u5f15\u548c\u8bf4\u660e\u3002","isLeaf":true}]},{"key":"/network","path":"/network","route":"/network","leaf":false,"title":"network","depth":0,"content":"","isLeaf":false,"children":[{"key":"/network/01-basic","path":"/network/01-basic","route":"/network/01-basic","leaf":false,"title":"01-basic","depth":1,"content":"","isLeaf":false,"children":[{"key":"/network/01-basic/01-Hierarchy-of-Network-Models.md","path":"/network/01-basic/01-Hierarchy-of-Network-Models.md","route":"/network/01-basic/01-Hierarchy-of-Network-Models.md","leaf":true,"title":"01-Hierarchy-of-Network-Models","depth":2,"content":"---\\ntags: network\\n---\\n\\n### 1. \u4e03\u5c42\u6a21\u578b\\n- \u5e94\u7528->\u8868\u793a->\u4f1a\u8bdd\\n- \u4f20\u8f93->\u7f51\u7edc->\u6570\u636e\\n- \u7269\u7406\\n\\n![20230619112439](http://s3.airtlab.com/blog/20230619112439.png)\\n\\n![20230619112446](http://s3.airtlab.com/blog/20230619112446.png)\\n\\n![20230619112455](http://s3.airtlab.com/blog/20230619112455.png)\\n\\n![20230619112501](http://s3.airtlab.com/blog/20230619112501.png)\\n\\n\\n### 2. \u4e94\u5c42\u6a21\u578b\\n\\n- \u5e94\u7528\u5c42\\n- \u4f20\u8f93\u5c42\uff08TCP/UDP\uff09\\n- \u7f51\u7edc\u5c42 \uff08IP ICMP ARP\uff09\\n- \u6570\u636e\u94fe\u8def\u5c42\\n- \u7269\u7406\u5c42","isLeaf":true},{"key":"/network/01-basic/02-http-authorization-basic.md","path":"/network/01-basic/02-http-authorization-basic.md","route":"/network/01-basic/02-http-authorization-basic.md","leaf":true,"title":"02-http-authorization-basic","depth":2,"content":"---\\ntags: network\\n---\\n\\n\u5728 http \u5934\u90e8\u52a0\u4e0a `authorization: value`\uff0c\u5176\u4e2d value \u7b49\u4e8e `Basic base64\u4e32`\uff0c\u5176\u4e2d `base64` \u4e32 \u4e3a \\"user:password\\" \u8fdb\u884c base64 \u7f16\u7801\u3002\\n\\n![20230511110151](http://s3.airtlab.com/blog/20230511110151.png)","isLeaf":true},{"key":"/network/01-basic/03-loopback-host.md","path":"/network/01-basic/03-loopback-host.md","route":"/network/01-basic/03-loopback-host.md","leaf":true,"title":"03-loopback-host","depth":2,"content":"---\\ntitle: 02 \u56de\u73af\u5730\u5740\\ntags: network\\n---\\n\\n\u7f51\u5361\u4e2d\u7684\u56de\u73af\u5730\u5740\u662f\u201c127.0.0.1\u201d\uff0c\u4e5f\u88ab\u79f0\u4e3a\u201c\u672c\u5730\u4e3b\u673a\u201d\u6216\u201c\u73af\u56de\u5730\u5740\u201d\u3002\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\uff0c\u56de\u73af\u5730\u5740\u662f\u6307\u8ba1\u7b97\u673a\u672c\u8eab\u4f7f\u7528\u7684\u4e00\u79cd\u865a\u62df\u7f51\u7edc\u63a5\u53e3\uff0c\u6570\u636e\u5305\u53d1\u9001\u5230\u56de\u73af\u5730\u5740\u65f6\u4f1a\u88ab\u672c\u673a\u63a5\u6536\u5e76\u5728\u672c\u673a\u4e0a\u8fdb\u884c\u5904\u7406\uff0c\u800c\u4e0d\u4f1a\u53d1\u9001\u5230\u7f51\u7edc\u4e0a\u3002\\n\\n\u56de\u73af\u5730\u5740\u88ab\u5e7f\u6cdb\u7528\u4e8e\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\u548c\u6d4b\u8bd5\u3002\u4f8b\u5982\uff0c\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u5728\u6ca1\u6709\u8fde\u63a5\u5230\u7f51\u7edc\u7684\u60c5\u51b5\u4e0b\u6d4b\u8bd5\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\u7684\u529f\u80fd\uff0c\u53ea\u9700\u8981\u5c06\u5730\u5740\u8bbe\u7f6e\u4e3a\u56de\u73af\u5730\u5740\u5373\u53ef\u6a21\u62df\u7f51\u7edc\u6570\u636e\u6d41\u3002\u540c\u65f6\uff0c\u56de\u73af\u5730\u5740\u4e5f\u7528\u4e8e\u9a8c\u8bc1\u7f51\u7edc\u63a5\u53e3\u548c\u8fd0\u884c\u8bca\u65ad\u7a0b\u5e8f\u3002","isLeaf":true},{"key":"/network/01-basic/04-Used-application-layer-protocol.md","path":"/network/01-basic/04-Used-application-layer-protocol.md","route":"/network/01-basic/04-Used-application-layer-protocol.md","leaf":true,"title":"04-Used-application-layer-protocol","depth":2,"content":"---\\ntags: network\\n---\\n\\n- HTTP \u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff08\u57fa\u4e8eTCP\uff09\\n- DNS \u57df\u540d\u7cfb\u7edf\u534f\u8bae\uff08\u57fa\u4e8eUDP\uff09\\n- FTP \u6587\u4ef6\u4f20\u8f93\u534f\u8bae\\n- SSH \u5b89\u5168\u5916\u58f3\u534f\u8bae\\n- TELENT TCP/IP \u7ec8\u7aef\u4eff\u771f\u534f\u8bae\\n- SMTP \u7b80\u5355\u90ae\u4ef6\u4f20\u8f93\u534f\u8bae\\n- POP3 \u90ae\u5c40\u534f\u8bae\u7b2c3\u7248","isLeaf":true},{"key":"/network/01-basic/05-curl-and-ping.md","path":"/network/01-basic/05-curl-and-ping.md","route":"/network/01-basic/05-curl-and-ping.md","leaf":true,"title":"05-curl-and-ping","depth":2,"content":"---\\ntags: network\\n---\\n\\n\u4f7f\u7528 curl \u53ef\u4ee5\u8bbf\u95ee http://blog.airtlab.com\uff0c\u4e3a\u4ec0\u4e48 ping blog.airtlab.com \u5374 Request timeout\\n\\n\u53ef\u80fd\u662f\u7531\u4e8e\u7f51\u7edc\u9632\u706b\u5899\u6216\u8def\u7531\u5668\u8bbe\u7f6e\u7684\u89c4\u5219\u5bfc\u81f4 ping \u8bf7\u6c42\u88ab\u963b\u6b62\u4e86\u3002curl \u7684\u5de5\u4f5c\u65b9\u5f0f\u4e0e ping \u4e0d\u540c\uff0ccurl \u53d1\u9001\u7684\u662f HTTP \u8bf7\u6c42\uff0c\u800c ping \u53d1\u9001\u7684\u662f ICMP \u8bf7\u6c42\uff0c\u7f51\u7edc\u8bbe\u5907\u53ef\u80fd\u4f1a\u9488\u5bf9\u4e0d\u540c\u7c7b\u578b\u7684\u8bf7\u6c42\u505a\u51fa\u4e0d\u540c\u7684\u54cd\u5e94\u3002 \\n\\n\u6b64\u5916\uff0chttp://blog.airtlab.com \u548c blog.airtlab.com \u53ef\u80fd\u662f\u4e0d\u540c\u7684\u57df\u540d\uff08\u6bd4\u5982\u524d\u8005\u53ef\u80fd\u8981\u8df3\u8f6c\u5230\u540e\u8005\uff09\uff0cping \u547d\u4ee4\u9ed8\u8ba4\u4f7f\u7528 DNS \u534f\u8bae\u89e3\u6790\u4e3b\u673a\u540d\uff0c\u800c curl \u9ed8\u8ba4\u4e0d\u4f1a\u89e3\u6790\u4e3b\u673a\u540d\u3002\u56e0\u6b64\uff0c\u53ef\u80fd\u9700\u8981\u5148\u4f7f\u7528 dig \u6216 nslookup \u7b49\u5de5\u5177\u6765\u67e5\u627e\u4e3b\u673a\u540d\u6240\u5bf9\u5e94\u7684 IP \u5730\u5740\uff0c\u7136\u540e\u4f7f\u7528 ping \u547d\u4ee4\u6307\u5b9a IP \u5730\u5740\u6765\u8fdb\u884c\u6d4b\u8bd5\u3002","isLeaf":true}]},{"key":"/network/10-protocol","path":"/network/10-protocol","route":"/network/10-protocol","leaf":false,"title":"10-protocol","depth":1,"content":"","isLeaf":false,"children":[{"key":"/network/10-protocol/01-dns.md","path":"/network/10-protocol/01-dns.md","route":"/network/10-protocol/01-dns.md","leaf":true,"title":"01-dns","depth":2,"content":"---\\ntags: network\\n---\\n\\n## 1\u3001\u57df\u540d\u7684\u6982\u5ff5\\n\\n\u57df\u540d\u662f\u5728 [\u4e92\u8054\u7f51](https://developer.mozilla.org/zh-CN/docs/Glossary/Internet) \u7684\u7f51\u7ad9\u7684\u5730\u5740\u3002\u57df\u540d\u88ab\u7528\u4e8e [URL](https://developer.mozilla.org/zh-CN/docs/Glossary/URL) \u8bc6\u522b\u4e00\u4e2a\u670d\u52a1\u5668\u5c5e\u4e8e\u54ea\u4e2a\u7279\u5b9a\u7684\u7f51\u7ad9\u3002\u57df\u540d\u5305\u542b\u7531\u53e5\u53f7\u70b9\uff08\u201d.\u201c\uff09\u5206\u9694\u7684\u540d\u79f0\u7684\u5206\u7ea7\u5e8f\u5217\u5e76\u4ee5 [\u6269\u5c55\u540d](https://developer.mozilla.org/en-US/docs/Glossary/TLD) \u4f5c\u4e3a\u7ed3\u5c3e\u3002\\n\\n1. \u6bd4\u5982 [www.baidu.com](https://link.zhihu.com/?target=https%3A//www.baidu.com) (www.baidu.com.)\uff08\u6ce8\u610f\u6700\u540e\u9762\u6709\u4e00\u4e2a\u70b9\u53f7\uff09\u5c31\u662f\u4e00\u4e2a\u57df\u540d\uff0c\u6bcf\u4e2a\u57df\u540d\u7684\u6700\u540e\u9762\u90fd\u6709\u4e00\u4e2a\u70b9\u53f7 \\".\\" \u8868\u793a\u6839\u57df\u540d\uff0c\u4e3a\u4e86\u65b9\u4fbf\u5728\u5b9e\u9645\u4f7f\u7528\u7684\u65f6\u5019\u88ab\u7701\u7565\u4e86\uff1b\\n2. \u9876\u7ea7\u57df\u540d\uff1a.com \u5c31\u662f\u9876\u7ea7\u57df\u540d\uff0c\u5e38\u89c1\u7684\u9876\u7ea7\u57df\u540d\u540e\u7f00\u6709 .com\u3001.cn\u3001.net\u3001.org \u7b49\u56fa\u5b9a\u503c\uff0c\u4e0d\u80fd\u81ea\u5df1\u4fee\u6539\uff1b\\n3. \u4e00\u7ea7\u57df\u540d\uff1a\u53c8\u79f0\u4e3b\u57df\u540d\uff0c\u9876\u7ea7\u57df\u540d\u7684\u4e0b\u4e00\u7ea7\u53c8\u662f\u6743\u5a01\u57df\u540d\uff0c\u5982 [baidu.com](https://link.zhihu.com/?target=http%3A//baidu.com) \u4e2d\u7684 .baidu\uff1b\\n4. \u9876\u7ea7\u57df\u540d\u4e0b\u5c31\u662f\u4e3b\u673a\u540d\uff0cwww.baidu.com \u4e2d\u7684 www \u662f\u6307\u4e3b\u673a\u540d;\\n5. \u4e8c\u7ea7\u57df\u540d\uff1abaidu.com \u53eb\u4e3b\u57df\u540d\uff0cwww.baidu.com \u53eb\u505a\u4e8c\u7ea7\u57df\u540d\uff1b\\n\\n![20230619111413](http://s3.airtlab.com/blog/20230619111413.png)\\n\\n![20230619111430](http://s3.airtlab.com/blog/20230619111430.png)\\n\\n## 2\u3001DNS\u7684\u4ecb\u7ecd\\n\\n![20230619111526](http://s3.airtlab.com/blog/20230619111526.png)\\n\\ndns \u5373\u662f domain name system \u57df\u540d\u7cfb\u7edf\u7684\u7f29\u5199\uff0c\u5c06 \u57df\u540d \u548c ip \u7684\u6620\u5c04\u5173\u7cfb\u4fdd\u5b58\u5728\u4e00\u4e2a\u5206\u5e03\u5f0f\u6570\u636e\u5e93\u4e2d\u3002DNS \u662f\u5206\u7ea7\u7684\u3002\\nDNS\u7684\u4e00\u79cd\u7b80\u5355\u8bbe\u8ba1\u6a21\u5f0f\u5c31\u662f\u53ea\u4f7f\u7528\u4e00\u4e2aDNS\u670d\u52a1\u5668\uff0c\u8be5\u670d\u52a1\u5668\u5305\u542b\u6240\u6709\u7684\u6620\u5c04\uff0c\u5ba2\u6237\u673a\u76f4\u63a5\u5c06\u6240\u6709\u67e5\u8be2\u8bf7\u6c42\u53d1\u5f80\u5355\u4e00\u7684DNS\u670d\u52a1\u5668\uff0c\u540c\u65f6\u8be5DNS\u670d\u52a1\u5668\u76f4\u63a5\u5bf9\u6240\u6709\u67e5\u8be2\u5ba2\u6237\u673a\u505a\u51fa\u54cd\u5e94\uff0c\u8fd9\u79cd\u96c6\u4e2d\u5f0f\u8bbe\u8ba1\u4f1a\u6709\u5355\u70b9\u6545\u969c\uff0c\u4e0d\u80fd\u652f\u6301\u5168\u7403\u7684DNS\u67e5\u8be2\uff0c\u6240\u4ee5DSN\u91c7\u7528\u4e0b\u9762\u7684\u6811\u72b6\u7ed3\u6784\uff1a\\n\\n\\n## 3\u3001DNS\u8d44\u6e90\u8bb0\u5f55\\n\\n\u5728 DNS \u670d\u52a1\u5668\u4e0a\uff0c\u4e00\u4e2a\u57df\u540d\u53ca\u5176\u4e0b\u7ea7\u57df\u540d\u7ec4\u6210\u4e00\u4e2a\u533a\u57df\u3002\u76f8\u5173\u7684 DNS \u4fe1\u606f\u6784\u6210\u4e00\u4e2a\u6570\u636e\u5e93\u6587\u4ef6\u3002\u6240\u4ee5\u6bcf\u4e2a\u533a\u57df\u6570\u636e\u5e93\u6587\u4ef6\u90fd\u662f\u7531\u8d44\u6e90\u8bb0\u5f55\u6784\u6210\u7684\uff0c\u4e00\u4e2a\u8d44\u6e90\u8bb0\u5f55\u5c31\u662f\u4e00\u884c\u6587\u672c\uff0c\u63d0\u4f9b\u4e86\u4e00\u7ec4\u6709\u7528\u7684 DNS \u914d\u7f6e\u4fe1\u606f\u3002\u5e38\u89c1\u7684\u8d44\u6e90\u8bb0\u5f55\u7c7b\u578b\u5982\u8868\u6240\u793a\uff1a\\n\\n| \u7c7b\u578b | \u7f16\u7801 | \u5185\u5bb9 |\\n| --- | --- | --- |\\n| A | 1 | \u5c06 DNS \u57df\u540d\u6620\u5c04\u5230 IPv4 \u5730\u5740\uff0c\u57fa\u672c\u4f5c\u7528\u662f\u8bf4\u660e\u4e00\u4e2a\u57df\u540d\u5bf9\u5e94\u4e86\u54ea\u4e9b IPv4 \u5730\u5740 |\\n| NS | 2 | \u6743\u5a01\u540d\u79f0\u670d\u52a1\u5668\u8bb0\u5f55\uff0c\u7528\u4e8e\u8bf4\u660e\u8fd9\u4e2a\u533a\u57df\u6709\u54ea\u4e9b DNS \u670d\u52a1\u5668\u8d1f\u8d23\u89e3\u6790 |\\n| CNAME | 5 | \u522b\u540d\u8bb0\u5f55\uff0c\u4e3b\u673a\u522b\u540d\u5bf9\u5e94\u7684\u89c4\u8303\u540d\u79f0 |\\n| SOA | 6 | \u8d77\u59cb\u6388\u6743\u673a\u6784\u8bb0\u5f55\uff0cNS \u8bb0\u5f55\u8bf4\u660e\u4e86\u6709\u591a\u53f0\u670d\u52a1\u5668\u5728\u8fdb\u884c\u89e3\u6790\uff0c\u4f46\u54ea\u4e00\u4e2a\u624d\u662f\u4e3b\u670d\u52a1\u5668\uff0cNS \u5e76\u6ca1\u6709\u8bf4\u660e\uff0cSOA \u8bb0\u5f55\u4e86\u8bf4\u660e\u5728\u4f17\u591a NS \u8bb0\u5f55\u91cc\u54ea\u4e00\u53f0\u624d\u662f\u4e3b\u8981\u7684\u670d\u52a1\u5668 |\\n| PTR | 12 | IP \u5730\u5740\u53cd\u5411\u89e3\u6790\uff0c\u662f A \u8bb0\u5f55\u7684\u9006\u5411\u8bb0\u5f55\uff0c\u4f5c\u7528\u662f\u628a IP \u5730\u5740\u89e3\u6790\u4e3a\u57df\u540d |\\n| MX | 15 | \u90ae\u4ef6\u4ea4\u6362\u8bb0\u5f55\uff0c\u6307\u5b9a\u8d1f\u8d23\u63a5\u6536\u548c\u53d1\u9001\u5230\u57df\u4e2d\u7684\u7535\u5b50\u90ae\u4ef6\u7684\u4e3b\u673a |\\n| TXT | 16 | \u6587\u672c\u8d44\u6e90\u8bb0\u5f55\uff0c\u7528\u6765\u4e3a\u67d0\u4e2a\u4e3b\u673a\u540d\u6216\u57df\u540d\u8bbe\u7f6e\u7684\u8bf4\u660e |\\n| AAAA | 28 | \u5c06 DNS \u57df\u540d\u6620\u5c04\u5230 IPv6 \u5730\u5740\uff0c\u57fa\u672c\u4f5c\u7528\u662f\u8bf4\u660e\u4e00\u4e2a\u57df\u540d\u5bf9\u5e94\u4e86\u54ea\u4e9b IPv6 \u5730\u5740 |\\n\\n\u5f53\u4f60\u5728\u4e91\u670d\u52a1\u5546\u8d2d\u4e70\u57df\u540d\u540e\uff0c\u5c06\u57df\u540d\u89e3\u6790\u5230\u4e3b\u673a\u662f\uff0c\u5c31\u9700\u8981\u6dfb\u52a0DNS\u89e3\u6790\u8bb0\u5f55\u3002\\n\\n## 4\u3001\u57df\u540d\u89e3\u6790\u8fc7\u7a0b\\n1\u3001\u5728\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165www.qq.com\u57df\u540d\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5148\u68c0\u67e5\u81ea\u5df1\u672c\u5730\u7684hosts\u6587\u4ef6\u662f\u5426\u6709\u8fd9\u4e2a\u7f51\u5740\u6620\u5c04\u5173\u7cfb\uff0c\u5982\u679c\u6709\uff0c\u5c31\u5148\u8c03\u7528\u8fd9\u4e2aIP\u5730\u5740\u6620\u5c04\uff0c\u5b8c\u6210\u57df\u540d\u89e3\u6790\u3002\\n\\n2\u3001\u5982\u679chosts\u91cc\u6ca1\u6709\u8fd9\u4e2a\u57df\u540d\u7684\u6620\u5c04\uff0c\u5219\u67e5\u627e\u672c\u5730DNS\u89e3\u6790\u5668\u7f13\u5b58\uff0c\u662f\u5426\u6709\u8fd9\u4e2a\u7f51\u5740\u6620\u5c04\u5173\u7cfb\uff0c\u5982\u679c\u6709\uff0c\u76f4\u63a5\u8fd4\u56de\uff0c\u5b8c\u6210\u57df\u540d\u89e3\u6790\u3002\\n\\n3\u3001\u5982\u679chosts\u4e0e\u672c\u5730DNS\u89e3\u6790\u5668\u7f13\u5b58\u90fd\u6ca1\u6709\u76f8\u5e94\u7684\u7f51\u5740\u6620\u5c04\u5173\u7cfb\uff0c\u9996\u5148\u4f1a\u627eTCP/IP\u53c2\u6570\u4e2d\u8bbe\u7f6e\u7684\u9996\u9009DNS\u670d\u52a1\u5668\uff0c\u5728\u6b64\u6211\u4eec\u53eb\u5b83\u672c\u5730DNS\u670d\u52a1\u5668\uff0c\u6b64\u670d\u52a1\u5668\u6536\u5230\u67e5\u8be2\u65f6\uff0c\u5982\u679c\u8981\u67e5\u8be2\u7684\u57df\u540d\uff0c\u5305\u542b\u5728\u672c\u5730\u914d\u7f6e\u533a\u57df\u8d44\u6e90\u4e2d\uff0c\u5219\u8fd4\u56de\u89e3\u6790\u7ed3\u679c\u7ed9\u5ba2\u6237\u673a\uff0c\u5b8c\u6210\u57df\u540d\u89e3\u6790\uff0c\u6b64\u89e3\u6790\u5177\u6709\u6743\u5a01\u6027\u3002\\n\\n4\u3001\u5982\u679c\u8981\u67e5\u8be2\u7684\u57df\u540d\uff0c\u4e0d\u7531\u672c\u5730DNS\u670d\u52a1\u5668\u533a\u57df\u89e3\u6790\uff0c\u4f46\u8be5\u670d\u52a1\u5668\u5df2\u7f13\u5b58\u4e86\u6b64\u7f51\u5740\u6620\u5c04\u5173\u7cfb\uff0c\u5219\u8c03\u7528\u8fd9\u4e2aIP\u5730\u5740\u6620\u5c04\uff0c\u5b8c\u6210\u57df\u540d\u89e3\u6790\uff0c\u6b64\u89e3\u6790\u4e0d\u5177\u6709\u6743\u5a01\u6027\u3002\\n\\n5\u3001\u5982\u679c\u672c\u5730DNS\u670d\u52a1\u5668\u672c\u5730\u533a\u57df\u6587\u4ef6\u4e0e\u7f13\u5b58\u89e3\u6790\u90fd\u5931\u6548\uff0c\u5219\u6839\u636e\u672c\u5730DNS\u670d\u52a1\u5668\u7684\u8bbe\u7f6e\uff08\u662f\u5426\u8bbe\u7f6e\u8f6c\u53d1\u5668\uff09\u8fdb\u884c\u67e5\u8be2\uff0c\u5982\u679c\u672a\u7528\u8f6c\u53d1\u6a21\u5f0f\uff0c\u672c\u5730DNS\u5c31\u628a\u8bf7\u6c42\u53d1\u81f3 \u201c\u6839DNS\u670d\u52a1\u5668\u201d\uff0c\u201c\u6839DNS\u670d\u52a1\u5668\u201d\u6536\u5230\u8bf7\u6c42\u540e\u4f1a\u5224\u65ad\u8fd9\u4e2a\u57df\u540d(.com)\u662f\u8c01\u6765\u6388\u6743\u7ba1\u7406\uff0c\u5e76\u4f1a\u8fd4\u56de\u4e00\u4e2a\u8d1f\u8d23\u8be5\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u7684\u4e00\u4e2aIP\u3002\\n\\n\u672c\u5730DNS\u670d\u52a1\u5668\u6536\u5230IP\u4fe1\u606f\u540e\uff0c\u5c06\u4f1a\u8054\u7cfb\u8d1f\u8d23.com\u57df\u7684\u8fd9\u53f0\u670d\u52a1\u5668\u3002\u8fd9\u53f0\u8d1f\u8d23.com\u57df\u7684\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u5982\u679c\u81ea\u5df1\u65e0\u6cd5\u89e3\u6790\uff0c\u5b83\u5c31\u4f1a\u627e\u4e00\u4e2a\u7ba1\u7406.com\u57df\u7684\u4e0b\u4e00\u7ea7DNS\u670d\u52a1\u5668\u5730\u5740(qq.com)\u7ed9\u672c\u5730DNS\u670d\u52a1\u5668\u3002\u5f53\u672c\u5730DNS\u670d\u52a1\u5668\u6536\u5230\u8fd9\u4e2a\u5730\u5740\u540e\uff0c\u5c31\u4f1a\u627eqq.com\u57df\u670d\u52a1\u5668\uff0c\u91cd\u590d\u4e0a\u9762\u7684\u52a8\u4f5c\uff0c\u8fdb\u884c\u67e5\u8be2\uff0c\u76f4\u81f3\u627e\u5230www.qq.com\u4e3b\u673a\u3002\\n\\n6\u3001\u5982\u679c\u7528\u7684\u662f\u8f6c\u53d1\u6a21\u5f0f\uff0c\u6b64DNS\u670d\u52a1\u5668\u5c31\u4f1a\u628a\u8bf7\u6c42\u8f6c\u53d1\u81f3\u4e0a\u4e00\u7ea7DNS\u670d\u52a1\u5668\uff0c\u7531\u4e0a\u4e00\u7ea7\u670d\u52a1\u5668\u8fdb\u884c\u89e3\u6790\uff0c\u4e0a\u4e00\u7ea7\u670d\u52a1\u5668\u5982\u679c\u4e0d\u80fd\u89e3\u6790\uff0c\u6216\u627e\u6839DNS\u6216\u628a\u8f6c\u8bf7\u6c42\u8f6c\u81f3\u4e0a\u4e0a\u7ea7\uff0c\u4ee5\u6b64\u5faa\u73af\u3002\\n\\n\u4e0d\u7ba1\u662f\u672c\u5730DNS\u670d\u52a1\u5668\u7528\u662f\u662f\u8f6c\u53d1\uff0c\u8fd8\u662f\u6839\u63d0\u793a\uff0c\u6700\u540e\u90fd\u662f\u628a\u7ed3\u679c\u8fd4\u56de\u7ed9\u672c\u5730DNS\u670d\u52a1\u5668\uff0c\u7531\u6b64DNS\u670d\u52a1\u5668\u518d\u8fd4\u56de\u7ed9\u5ba2\u6237\u673a\u3002\\n\\n## 5\u3001DNS \u7684\u8fed\u4ee3\u67e5\u8be2\\n\\n![20230619111623](http://s3.airtlab.com/blog/20230619111623.png)\\n\\n\u9012\u5f52\uff1a\u5ba2\u6237\u7aef\u53ea\u53d1\u4e00\u6b21\u8bf7\u6c42\uff0c\u8981\u6c42\u5bf9\u65b9\u7ed9\u51fa\u6700\u7ec8\u7ed3\u679c\u3002\\n\u8fed\u4ee3\uff1a\u5ba2\u6237\u7aef\u53d1\u51fa\u4e00\u6b21\u8bf7\u6c42\uff0c\u5bf9\u65b9\u5982\u679c\u6ca1\u6709\u6388\u6743\u56de\u7b54\uff0c\u5b83\u5c31\u4f1a\u8fd4\u56de\u4e00\u4e2a\u80fd\u89e3\u7b54\u8fd9\u4e2a\u67e5\u8be2\u7684\u5176\u5b83\u540d\u79f0\u670d\u52a1\u5668\u5217\u8868\uff0c\u5ba2\u6237\u7aef\u4f1a\u518d\u5411\u8fd4\u56de\u7684\u5217\u8868\u4e2d\u53d1\u51fa\u8bf7\u6c42\uff0c\u76f4\u5230\u627e\u5230\u6700\u7ec8\u8d1f\u8d23\u6240\u67e5\u57df\u540d\u7684\u540d\u79f0\u670d\u52a1\u5668\uff0c\u4ece\u5b83\u5f97\u5230\u6700\u7ec8\u7ed3\u679c\u3002\\n\\n## 6\u3001dig \u547d\u4ee4\\ndig \u662f\u4e00\u4e2a\u5e38\u7528\u7684 DNS \u5de5\u5177\uff0c\u53ef\u4ee5\u5728\u7ec8\u7aef\u4e2d\u901a\u8fc7\u57df\u540d\u67e5\u8be2 DNS \u76f8\u5173\u4fe1\u606f\uff0c\u5305\u62ec\u57df\u540d\u89e3\u6790\u5f97\u5230\u7684 IP \u5730\u5740\u3001DNS \u670d\u52a1\u5668\u7684\u76f8\u5173\u4fe1\u606f\u3001MX \u8bb0\u5f55\u7b49\u3002\u5176\u539f\u7406\u662f\u901a\u8fc7 DNS \u534f\u8bae\u4e0e\u76ee\u6807 DNS \u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\uff0c\u53d1\u9001\u67e5\u8be2\u8bf7\u6c42\u5e76\u63a5\u6536\u54cd\u5e94\uff0c\u6700\u7ec8\u5c06\u54cd\u5e94\u6570\u636e\u8fd4\u56de\u7ed9\u7528\u6237\u3002\\ndig \u547d\u4ee4\u7684\u5e38\u89c1\u7528\u6cd5\u5982\u4e0b\uff1a\\n\\n1. \u67e5\u8be2\u57df\u540d\u5bf9\u5e94\u7684 IP \u5730\u5740\\n\\n```bash\\ndig example.com\\n```\\n\\n\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u901a\u8fc7\u672c\u5730 DNS \u670d\u52a1\u5668\u53bb\u67e5\u8be2 example.com \u7684 IP \u5730\u5740\uff0c\u5e76\u8fd4\u56de\u67e5\u8be2\u7ed3\u679c\u3002\\n\\n2. \u67e5\u8be2 MX \u8bb0\u5f55\\n\\n```bash\\ndig example.com MX\\n```\\n\\n\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u67e5\u8be2 example.com \u7684 MX \u8bb0\u5f55\uff0cMX \u8bb0\u5f55\u7528\u4e8e\u6307\u5b9a\u8be5\u57df\u540d\u7684\u90ae\u4ef6\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u901a\u8fc7\u8be5\u8bb0\u5f55\u67e5\u8be2\u90ae\u4ef6\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u3002\\n\\n3. \u6307\u5b9a DNS \u670d\u52a1\u5668\\n\\n```bash\\ndig example.com @8.8.8.8\\n```\\n\\n\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u6307\u5b9a\u901a\u8fc7 8.8.8.8 \u8fd9\u4e2a DNS \u670d\u52a1\u5668\u53bb\u67e5\u8be2 example.com \u7684 IP \u5730\u5740\u3002\\n\\n4. \u67e5\u8be2\u8be6\u7ec6\u4fe1\u606f\\n\\n```bash\\ndig example.com +trace\\n```\\n\\n\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u663e\u793a\u4ece\u672c\u5730 DNS \u670d\u52a1\u5668\u5f00\u59cb\u5230\u76ee\u6807 DNS \u670d\u52a1\u5668\u7684\u67e5\u8be2\u8def\u5f84\uff0c\u5e76\u5c06\u6240\u6709\u76f8\u5173\u4fe1\u606f\u663e\u793a\u51fa\u6765\uff0c\u5305\u62ec TTL\u3001Authoritative\u3001ANSWER \u7b49\u7b49\u3002\\n\\n\u603b\u4e4b\uff0cdig \u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u4e14\u5f3a\u5927\u7684\u7f51\u7edc\u5de5\u5177\uff0c\u5c24\u5176\u662f\u5728\u8fdb\u884c\u7cfb\u7edf\u7ef4\u62a4\u3001\u7f51\u7edc\u6545\u969c\u6392\u9664\u7b49\u65b9\u9762\u6709\u5f88\u5927\u7684\u5e2e\u52a9\u3002\\n\\n## 7\u3001\u53c2\u8003\u6587\u7ae0\\n\\n1. \u6d45\u8c08dns\u57df\u540d\u89e3\u6790\u8fc7\u7a0b [https://zhuanlan.zhihu.com/p/58108010](https://zhuanlan.zhihu.com/p/58108010)\\n2. [DNS\u9012\u5f52\u67e5\u8be2\u4e0e\u8fed\u4ee3\u67e5\u8be2](https://www.cnblogs.com/qingdaofu/p/7399670.html) [https://www.cnblogs.com/qingdaofu/p/7399670.html](https://www.cnblogs.com/qingdaofu/p/7399670.html)","isLeaf":true},{"key":"/network/10-protocol/02-icmp.md","path":"/network/10-protocol/02-icmp.md","route":"/network/10-protocol/02-icmp.md","leaf":true,"title":"02-icmp","depth":2,"content":"---\\ntags: network\\n---\\n\\n## 1\u3001ICMP \u4ecb\u7ecd\\n\u56e0\u7279\u7f51\u63a7\u5236\u62a5\u6587\u534f\u8bae(ICMP) \u662fTCP/IP \u5957\u4ef6\u7684\u534f\u8bae\u4e4b\u4e00\u3002 \u5b83\u662f\u4e00\u79cd\u7f51\u7edc\u5c42\u534f\u8bae\uff0c\u7528\u4e8e\u5b9e\u73b0\u9519\u8bef\u62a5\u544a\u548c\u7f51\u7edc\u8def\u5f84\u8bca\u65ad\u529f\u80fd\u3002 ICMP \u56de\u4f20\u8bf7\u6c42\u548cICMP \u56de\u4f20\u5e94\u7b54\u6d88\u606f\u901a\u5e38\u79f0\u4e3aping \u6d88\u606f\u3002 ICMP Ping \u662f\u4e00\u4e2a\u6545\u969c\u8bca\u65ad\u5de5\u5177\uff0c\u7528\u4e8e\u6d4b\u8bd5\u7f51\u7edc\u8bbe\u5907\u4e4b\u95f4\u7684\u8fde\u63a5\u3002\\n\\n## 2\u3001Ping \u547d\u4ee4\\nPing\u4e0d\u4f7f\u7528\u7aef\u53e3\uff0c\u800c\u662f\u4f7f\u7528\u534f\u8bae\u3002Ping\u901a\u8fc7\u5c06Internet\u63a7\u5236\u6d88\u606f\u534f\u8bae\uff08ICMP\uff09\u56de\u663e\u8bf7\u6c42\u6570\u636e\u5305\u53d1\u9001\u5230\u76ee\u6807\u4e3b\u673a\u5e76\u7b49\u5f85ICMP\u56de\u663e\u5e94\u7b54\u6765\u8fdb\u884c\u64cd\u4f5c\u3002\u4f46\u662f\uff0c\u51fa\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u901a\u5e38\u4f60\u53ef\u4ee5\u7981\u7528ping\u529f\u80fd\u3002 \u8f6c\u8f7d\u5fc5\u987b\u4fdd\u7559\u672c\u6587\u5730\u5740:http://xiiie.com/html/1301016.html\\n\\n## 3\u3001\u68c0\u67e5 ping \u662f\u5426\u652f\u6301\\n\u901a\u5e38\u60c5\u51b5\u4e0b\uff0cLinux \u7cfb\u7edf\u9ed8\u8ba4\u662f\u5f00\u542f ping \u547d\u4ee4\u7684\uff0c\u9664\u975e\u88ab\u7cfb\u7edf\u7ba1\u7406\u5458\u6216\u8005\u5b89\u5168\u4eba\u5458\u5173\u95ed\u6216\u9650\u5236\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u6cd5\u6765\u68c0\u67e5 Linux \u670d\u52a1\u5668\u662f\u5426\u53ef\u4ee5 ping \u901a\u3002\\n\\n1. \u4f7f\u7528 ping \u547d\u4ee4\u6765\u5c1d\u8bd5 ping \u76ee\u6807\u5730\u5740\uff0c\u5982\u679c\u80fd\u591f ping \u901a\uff0c\u5219\u8bf4\u660e\u670d\u52a1\u5668\u53ef\u4ee5\u6b63\u5e38 ping \u901a\u76ee\u6807\u5730\u5740\uff0c\u5426\u5219\u5219\u8bf4\u660e\u670d\u52a1\u5668\u4e0a\u7684 ping \u547d\u4ee4\u88ab\u9650\u5236\u6216\u7981\u7528\u3002\\n\\n```bash\\nping 39.108.138.156\\n```\\n\\n\u5982\u679c\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\u5305\uff0c\u5219\u8bf4\u660e\u670d\u52a1\u5668\u652f\u6301 ping \u547d\u4ee4\uff0c\u5982\u679c\u65e0\u6cd5\u8fd4\u56de\u6570\u636e\u5305\uff0c\u5219\u8bf4\u660e\u670d\u52a1\u5668\u4e0a\u7684 ping \u547d\u4ee4\u88ab\u7981\u7528\u6216 ping \u76ee\u6807\u5730\u5740\u65f6\u88ab\u9632\u706b\u5899\u9650\u5236\u4e86\u3002\\n\\n2. \u68c0\u67e5\u9632\u706b\u5899\u89c4\u5219\uff0cping \u547d\u4ee4\u9700\u8981 ICMP \u534f\u8bae\u652f\u6301\uff0c\u56e0\u6b64\u5982\u679c\u670d\u52a1\u5668\u7684\u9632\u706b\u5899\u89c4\u5219\u4e2d\u7981\u7528\u4e86 ICMP \u534f\u8bae\uff0c\u5219 ping \u547d\u4ee4\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5 iptables \u9632\u706b\u5899\u89c4\u5219\u4e2d\u662f\u5426\u5b58\u5728 ICMP \u534f\u8bae\u9650\u5236\u89c4\u5219\uff1a\\n\\n```bash\\nsudo iptables -L -v | grep icmp\\n```\\n\\n\u5982\u679c\u8f93\u51fa\u7ed3\u679c\u4e2d\u5305\u542b DROP \u6216 REJECT \u89c4\u5219\uff0c\u5219\u8bf4\u660e ICMP \u534f\u8bae\u88ab\u7981\u7528\u3002\\n\\n3. \u68c0\u67e5 SELinux \u9009\u9879\uff0c\u5982\u679c SELinux \u5f00\u542f\u5e76\u8bbe\u7f6e\u4e3a enforcing \u6a21\u5f0f\uff0c\u5219\u53ef\u80fd\u4f1a\u9650\u5236 ping \u7684\u6267\u884c\u3002\u53ef\u4ee5\u67e5\u770b /etc/selinux/config \u6587\u4ef6\u4e2d\u7684 SELINUX \u9009\u9879\u662f\u5426\u4e3a enforcing\uff1a\\n\\n```bash\\ncat /etc/selinux/config | grep SELINUX\\n```\\n\\n\u5982\u679c\u8f93\u51fa\u7ed3\u679c\u4e2d SELINUX=enforcing\uff0c\u5219\u8bf4\u660e SELinux \u6a21\u5f0f\u4e3a enforcing \u6a21\u5f0f\uff0c\u9700\u8981\u7981\u7528\u6216\u4fee\u6539 SELinux \u914d\u7f6e\u3002\\n\\n\u6ce8\u610f\uff1a\u5982\u679c\u60a8\u6ca1\u6709 root \u6743\u9650\u6216\u8005\u65e0\u6cd5\u8bbf\u95ee\u670d\u52a1\u5668\uff0c\u5219\u53ef\u80fd\u65e0\u6cd5\u786e\u5b9a\u7cfb\u7edf\u662f\u5426\u5bf9 ping \u547d\u4ee4\u8fdb\u884c\u4e86\u9650\u5236\u3002\\n","isLeaf":true},{"key":"/network/10-protocol/03-ssh.md","path":"/network/10-protocol/03-ssh.md","route":"/network/10-protocol/03-ssh.md","leaf":true,"title":"03-ssh","depth":2,"content":"---\\ntags: network\\n---\\n\\nSSH \u4e3a [Secure Shell](https://baike.baidu.com/item/Secure%20Shell) \u7684\u7f29\u5199\uff0c\u5b89\u5168\u5916\u58f3\u534f\u8bae\uff0c\u4e13\u4e3a [\u8fdc\u7a0b\u767b\u5f55](https://baike.baidu.com/item/%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95/1071998) \u4f1a\u8bdd\u548c\u5176\u4ed6\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5b89\u5168\u6027\u7684\u534f\u8bae\u3002\\n### 1. SSH \u5b58\u5728\u7684\u610f\u4e49\\n\\n- \u6570\u636e\u538b\u7f29\\n- \u6570\u636e\u52a0\u5bc6\\n\\n\u4f20\u7edf\u7684\u7f51\u7edc\u670d\u52a1\u7a0b\u5e8f\uff0c\u5982\uff1a[ftp](https://baike.baidu.com/item/ftp)\u3001pop \u548c [telnet](https://baike.baidu.com/item/telnet) \u5728\u672c\u8d28\u4e0a\u90fd\u662f\u4e0d\u5b89\u5168\u7684\uff0c\u56e0\u4e3a\u5b83\u4eec\u5728\u7f51\u7edc\u4e0a\u7528[\u660e\u6587](https://baike.baidu.com/item/%E6%98%8E%E6%96%87)\u4f20\u9001\u53e3\u4ee4\u548c\u6570\u636e\uff0c\u522b\u6709\u7528\u5fc3\u7684\u4eba\u975e\u5e38\u5bb9\u6613\u5c31\u53ef\u4ee5\u622a\u83b7\u8fd9\u4e9b\u53e3\u4ee4\u548c\u6570\u636e\u3002\u5bb9\u6613\u53d7\u5230\u4e2d\u95f4\u4eba\u653b\u51fb\uff0c\u6240\u8c13\u201c\u4e2d\u95f4\u4eba\u201d\u7684\u653b\u51fb\u65b9\u5f0f\uff0c \u5c31\u662f\u201c\u4e2d\u95f4\u4eba\u201d\u5192\u5145\u771f\u6b63\u7684[\u670d\u52a1\u5668](https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8)\u63a5\u6536\u4f60\u4f20\u7ed9\u670d\u52a1\u5668\u7684\u6570\u636e\uff0c\u7136\u540e\u518d\u5192\u5145\u4f60\u628a\u6570\u636e\u4f20\u7ed9\u771f\u6b63\u7684\u670d\u52a1\u5668\u3002\\n\\n\u901a\u8fc7\u4f7f\u7528SSH\uff0c\u4f60\u53ef\u4ee5\u628a\u6240\u6709\u4f20\u8f93\u7684\u6570\u636e\u8fdb\u884c\u52a0\u5bc6\uff0c\u8fd9\u6837\\"\u4e2d\u95f4\u4eba\\"\u8fd9\u79cd\u653b\u51fb\u65b9\u5f0f\u5c31\u4e0d\u53ef\u80fd\u5b9e\u73b0\u4e86\uff0c\u800c\u4e14\u4e5f\u80fd\u591f\u9632\u6b62DNS\u6b3a\u9a97\u548cIP\u6b3a\u9a97\u3002\u4f7f\u7528SSH\uff0c\u8fd8\u6709\u4e00\u4e2a\u989d\u5916\u7684\u597d\u5904\u5c31\u662f\u4f20\u8f93\u7684\u6570\u636e\u662f\u7ecf\u8fc7\u538b\u7f29\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u52a0\u5feb\u4f20\u8f93\u7684[\u901f\u5ea6](https://baike.baidu.com/item/%E9%80%9F%E5%BA%A6/5456)\u3002SSH\u6709\u5f88\u591a\u529f\u80fd\uff0c\u5b83\u65e2\u53ef\u4ee5\u4ee3\u66ff [Telnet](https://baike.baidu.com/item/Telnet)\uff0c\u53c8\u53ef\u4ee5\u4e3a[FTP](https://baike.baidu.com/item/FTP)\u3001[PoP](https://baike.baidu.com/item/PoP)\u3001\u751a\u81f3\u4e3a[PPP](https://baike.baidu.com/item/PPP)\u63d0\u4f9b\u4e00\u4e2a\u5b89\u5168\u7684\\"\u901a\u9053\\" [1]  \u3002\\n\\n### 2. SSH \u7ec4\u6210\u7ed3\u6784\\n\\n- \u4f20\u8f93\u5c42\u534f\u8bae [SSH-TRANS]\uff1a\u901a\u5e38\u8fd0\u884c\u5728[TCP/IP](https://baike.baidu.com/item/TCP%2FIP)\u8fde\u63a5\u4e0a\\n- \u7528\u6237\u8ba4\u8bc1\u534f\u8bae [SSH-USERAUTH]\uff1a\u7528\u4e8e\u5411\u670d\u52a1\u5668\u63d0\u4f9b\u5ba2\u6237\u7aef\u7528\u6237\u9274\u522b\u529f\u80fd\u3002\\n- \u8fde\u63a5\u534f\u8bae [SSH-CONNECT]\uff1a\u5c06\u591a\u4e2a\u52a0\u5bc6\u96a7\u9053\u5206\u6210\u903b\u8f91\u901a\u9053\u3002\u5b83\u8fd0\u884c\u5728\u7528\u6237\u8ba4\u8bc1\u534f\u8bae\u4e0a\u3002\u5b83\u63d0\u4f9b\u4e86\u4ea4\u4e92\u5f0f\u767b\u5f55\u8bdd\u8def\u3001\u8fdc\u7a0b\u547d\u4ee4\u6267\u884c\u3001\u8f6c\u53d1 TCP/IP \u8fde\u63a5\u548c\u8f6c\u53d1 X11 \u8fde\u63a5\u3002\\n\\n### 3. \u7528\u6237\u8ba4\u8bc1\u65b9\u5f0f\\n\\n- \u7b2c\u4e00\u79cd\u7ea7\u522b\uff08\u57fa\u4e8e\u53e3\u4ee4\u7684\u5b89\u5168\u9a8c\u8bc1\uff09\\n- \u7b2c\u4e8c\u79cd\u7ea7\u522b\uff08\u57fa\u4e8e\u5bc6\u5319\u7684\u5b89\u5168\u9a8c\u8bc1\uff09","isLeaf":true},{"key":"/network/10-protocol/04-url.md","path":"/network/10-protocol/04-url.md","route":"/network/10-protocol/04-url.md","leaf":true,"title":"04-url","depth":2,"content":"---\\ntags: network\\n---\\n\\n```\\nfoo://example.com:8042/over/there?name=ferret#nose\\n\xa0 \xa0\\\\_/ \\\\______________/ \\\\________/\\\\_________/ \\\\__/\\n\xa0 \xa0\xa0|\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 |\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 |\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 |\xa0\xa0\xa0\xa0\xa0\xa0\xa0 |\\n\xa0 scheme\xa0\xa0\xa0\xa0 authority \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0path \xa0 \xa0 \xa0query\xa0\xa0 fragment\\n```\\n\\n\\nscheme \u4e5f\u53ef\u4ee5\u6210\u4e3a protocol\u3002example.com\u88ab\u79f0\u4e3a hostname\u3002\\n\\n## **\u54ea\u4e9b\u5b57\u7b26\u9700\u8981URL\u7f16\u7801**\\n\\n- `#`\\n- `&`","isLeaf":true},{"key":"/network/10-protocol/05-websocket.md","path":"/network/10-protocol/05-websocket.md","route":"/network/10-protocol/05-websocket.md","leaf":true,"title":"05-websocket","depth":2,"content":"---\\ntags: network\\n---\\n\\n\u901a\u8fc7 HTTP \u534f\u8bae\u6765\u5efa\u7acb\u8fde\u63a5\\n\\n### 1. WebSocket \u901a\u8fc7HTTP\u534f\u8bae\u8fde\u63a5\\nWebSocket\u534f\u8bae\u5728\u5efa\u7acb\u8fde\u63a5\u65f6\u4f1a\u4f7f\u7528HTTP\u534f\u8bae\uff0c\u610f\u5473\u7740 WebSocket \u534f\u8bae\u662f\u57fa\u4e8eHTTP\u534f\u8bae\u5b9e\u73b0\u7684\\n\\n### 2. WebSocket\u662f\u5e94\u7528\u5c42\u534f\u8bae\\nWebSocket\u662f\u57fa\u4e8eTCP\u7684\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u7528\u4e8e\u5728C/S\u67b6\u6784\u7684\u5e94\u7528\u4e2d\u5b9e\u73b0\u53cc\u5411\u901a\u4fe1\uff0c\u5173\u4e8eWebSocket\u534f\u8bae\u7684\u8be6\u7ec6\u89c4\u8303\u548c\u5b9a\u4e49\u53c2\u89c1 [rfc6455](https://tools.ietf.org/html/rfc6455)\u3002\\n\\n![20230619112051](http://s3.airtlab.com/blog/20230619112051.png)\\n\\n\\n### 3. \u8fde\u63a5\u8fc7\u7a0b\\n\\n![20230619112102](http://s3.airtlab.com/blog/20230619112102.png)\\n\\n- Connection: Connection \u5fc5\u987b\u8bbe\u7f6e\u4e3aUpgrade\uff0c\u8868\u793a\u5ba2\u6237\u7aef\u5e0c\u671b\u8fde\u63a5\u5347\u7ea7\\n- Upgrade: Upgrade \u5fc5\u987b\u8bbe\u7f6e\u4e3a WebSocket\uff0c\u8868\u793a\u5728\u53d6\u5f97\u670d\u52a1\u5668\u54cd\u5e94\u4e4b\u540e\uff0c\u4f7f\u7528HTTP\u5347\u7ea7\u5c06HTTP\u534f\u8bae\u8f6c\u6362(\u5347\u7ea7)\u4e3aWebSocket\u534f\u8bae\u3002\\n- Sec-WebSocket-key: \u968f\u673a\u5b57\u7b26\u4e32\uff0c\u7528\u4e8e\u9a8c\u8bc1\u534f\u8bae\u662f\u5426\u4e3aWebSocket\u534f\u8bae\u800c\u975eHTTP\u534f\u8bae\\n- Sec-WebSocket-Version: \u8868\u793a\u4f7f\u7528WebSocket\u7684\u54ea\u4e00\u4e2a\u7248\u672c\u3002\\n- Sec-WebSocket-Accept: \u6839\u636eSec-WebSocket-Accept\u548c\u7279\u6b8a\u5b57\u7b26\u4e32\u8ba1\u7b97\u3002\u9a8c\u8bc1\u534f\u8bae\u662f\u5426\u4e3aWebSocket\u534f\u8bae\u3002\\n- Sec-WebSocket-Location: \u4e0eHost\u5b57\u6bb5\u5bf9\u5e94\uff0c\u8868\u793a\u8bf7\u6c42WebSocket\u534f\u8bae\u7684\u5730\u5740\u3002\\n- HTTP/1.1 101 Switching Protocols:101 \u72b6\u6001\u7801\u8868\u793a\u5347\u7ea7\u534f\u8bae\uff0c\u5728\u8fd4\u56de101\u72b6\u6001\u7801\u540e\uff0cHTTP\u534f\u8bae\u5b8c\u6210\u5de5\u4f5c\uff0c\u8f6c\u6362\u4e3aWebSocket\u534f\u8bae\u3002\u6b64\u65f6\u5c31\u53ef\u4ee5\u8fdb\u884c\u5168\u53cc\u5de5\u53cc\u5411\u901a\u4fe1\u4e86\u3002","isLeaf":true},{"key":"/network/10-protocol/06-udp.md","path":"/network/10-protocol/06-udp.md","route":"/network/10-protocol/06-udp.md","leaf":true,"title":"06-udp","depth":2,"content":"---\\ntags: network\\n---\\n\\n### 1. UDP \u534f\u8bae\u7279\u70b9\\n1\u3001UDP\u662f\u65e0\u8fde\u63a5\u7684\uff0c\u53d1\u9001\u6570\u636e\u4e4b\u524d\u4e0d\u9700\u8981\u5efa\u7acb\u8fde\u63a5\uff08\u4e5f\u6ca1\u6709\u8fde\u63a5\u53ef\u91ca\u653e\uff09\uff0c\u51cf\u5c11\u4e86\u5f00\u9500\u548c\u53d1\u9001\u6570\u636e\u4e4b\u524d\u7684\u65f6\u5ef6\uff1b\\n2\u3001UDP\u4f7f\u7528\u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\uff0c\u5373\u4e0d\u4fdd\u8bc1\u53ef\u9760\u4ea4\u4ed8\uff0c\u56e0\u6b64\u4e3b\u673a\u4e0d\u9700\u8981\u7ef4\u6301\u590d\u6742\u7684\u8fde\u63a5\u72b6\u6001\u8868\uff1b\\n3\u3001UDP\u662f\u9762\u5411\u62a5\u6587\u7684\u3002\u53d1\u9001\u65b9\u7684UDP\u5bf9\u5e94\u7528\u7a0b\u5e8f\u4ea4\u4e0b\u6765\u7684\u62a5\u6587\uff0c\u5728\u6dfb\u52a0\u9996\u90e8\u540e\u5c31\u5411\u4e0b\u4ea4\u4ed8IP\u5c42\u3002UDP\u5bf9\u5e94\u7528\u5c42\u4ea4\u4e0b\u6765\u7684\u62a5\u6587\uff0c\u65e2\u4e0d\u5408\u5e76\uff0c\u4e5f\u4e0d\u62c6\u5206\uff0c\u800c\u662f\u4fdd\u7559\u8fd9\u4e9b\u62a5\u6587\u7684\u8fb9\u754c\uff1b\\n4\u3001UDP\u6ca1\u6709\u62e5\u585e\u63a7\u5236\uff0c\u56e0\u6b64\u7f51\u7edc\u51fa\u73b0\u7684\u62e5\u585e\u4e0d\u4f1a\u4f7f\u6e90\u4e3b\u673a\u7684\u53d1\u9001\u901f\u7387\u964d\u4f4e\uff1b\\n5\u3001UDP\u652f\u6301\u4e00\u5bf9\u4e00\u3001\u4e00\u5bf9\u591a\u3001\u591a\u5bf9\u4e00\u548c\u591a\u5bf9\u591a\u7684\u4ea4\u4e92\u901a\u4fe1\uff1b\\n6\u3001UDP\u7684\u9996\u90e8\u5f00\u9500\u5c0f\uff0c\u53ea\u67098\u4e2a\u5b57\u8282\uff0c\u6bd4TCP\u768420\u4e2a\u5b57\u8282\u7684\u9996\u90e8\u8981\u77ed\uff1b\\n### 2. UDP \u62a5\u6587\u683c\u5f0f\\n\\n![20230619112204](http://s3.airtlab.com/blog/20230619112204.png)\\n\\n![20230619112214](http://s3.airtlab.com/blog/20230619112214.png)\\n\\n![20230619112223](http://s3.airtlab.com/blog/20230619112223.png)\\n\\n### 3. \u6821\u9a8c\u548c\u7684\u8ba1\u7b97\\n\u4f2a\u9996\u90e8\u4e0d\u662f\u771f\u5b9e\u5b58\u5728\u7684\uff0c\u5b83\u4e3b\u8981\u7528\u6765\u8ba1\u7b97\u6821\u9a8c\u548c\uff1a\\n\\n![20230619112244](http://s3.airtlab.com/blog/20230619112244.png)\\n\\n![20230619112255](http://s3.airtlab.com/blog/20230619112255.png)","isLeaf":true}]},{"key":"/network/TCP-packet-fragmentation.md","path":"/network/TCP-packet-fragmentation.md","route":"/network/TCP-packet-fragmentation.md","leaf":true,"title":"TCP-packet-fragmentation","depth":1,"content":"---\\ntags: network\\n---\\n\\n> [\u5173\u4e8eTCP\u7c98\u5305\u95ee\u9898\u7684\u7ec8\u7ed3] https://zhuanlan.zhihu.com/p/157887818\\n\\n## 1\u3001TCP packet fragmentation\\n\\nTCP packet fragmentation \u662f\u6307\u5728TCP/IP \u534f\u8bae\u4e2d\uff0c\u7531\u4e8e\u7f51\u7edc\u4f20\u8f93\u7684\u5ef6\u8fdf\uff0c\u5bfc\u81f4\u591a\u4e2a\u6570\u636e\u5305\u7c98\u5728\u4e00\u8d77\uff0c\u88ab\u4e00\u6b21\u6027\u63a5\u6536\u3002 \u8fd9\u5c31\u4f1a\u5bfc\u81f4\u5e94\u7528\u5c42\u7a0b\u5e8f\u65e0\u6cd5\u6b63\u786e\u89e3\u6790\u6570\u636e\u5305\uff0c\u4ece\u800c\u51fa\u73b0\u95ee\u9898\u3002\u8fd9\u88ab\u56fd\u4eba\u53d1\u660e\u4e3a \u201cTCP \u7c98\u5305\u95ee\u9898\u201d\uff0c\u5b9e\u9645\u4e0a\u8fd9\u538b\u6839\u5c31\u4e0d\u662f\u95ee\u9898\uff0c\u53ea\u662f\u6709\u4e9b\u4eba\u4e0d\u6e05\u695a\u672c\u8d28\u7f62\u4e86\u3002\\n\\nTCP\u7c98\u5305\u6307\u7684\u662f\u5728TCP\u534f\u8bae\u901a\u4fe1\u8fc7\u7a0b\u4e2d\uff0c\u53d1\u9001\u7aef\u8fde\u7eed\u53d1\u9001\u7684\u591a\u4e2a\u6570\u636e\u5305\uff0c\u5728\u63a5\u6536\u7aef\u63a5\u6536\u65f6\u4f1a\u7c98\u5408\u5728\u4e00\u8d77\u5f62\u6210\u4e00\u4e2a\u5927\u6570\u636e\u5305\u7684\u73b0\u8c61\u3002\\n\\nTCP\u534f\u8bae\u662f\u9762\u5411\u6d41\u7684\u4f20\u8f93\u534f\u8bae\uff0c\u53d1\u9001\u7aef\u628a\u5f85\u53d1\u9001\u7684\u6570\u636e\u5212\u5206\u4e3a\u591a\u4e2a\u6570\u636e\u6bb5\u6765\u53d1\u9001\uff0c\u6bcf\u4e2a\u6570\u636e\u6bb5\u6709\u81ea\u5df1\u7684TCP\u5934\u90e8\u4fe1\u606f\u3002\u5f53\u53d1\u9001\u7aef\u5728\u77ed\u65f6\u95f4\u5185\u5411\u63a5\u6536\u7aef\u8fde\u7eed\u53d1\u9001\u591a\u4e2a\u5c0f\u6570\u636e\u5305\u65f6\uff0c\u7531\u4e8eTCP\u534f\u8bae\u662fIP\u5c42\u9762\u4e0a\u7684\u6570\u636e\u62a5\u6587\u670d\u52a1\uff0c\u5b83\u53ea\u8d1f\u8d23\u6570\u636e\u7684\u5206\u5305\u548c\u7ec4\u5305\uff0c\u4e0d\u505a\u5904\u7406\u3002\u8fd9\u4f1a\u5bfc\u81f4\u5728\u63a5\u6536\u7aef\uff0c\u591a\u4e2a\u5c0f\u6570\u636e\u5305\u5728\u63a5\u6536\u7f13\u51b2\u533a\u4e2d\u7d27\u5bc6\u7684\u6392\u5217\u5728\u4e00\u8d77\uff0c\u7531\u4e8e\u6ca1\u6709\u660e\u786e\u7684\u8fb9\u754c\u6807\u5fd7\u8868\u793a\u54ea\u4e9b\u6570\u636e\u5c5e\u4e8e\u4e00\u4e2a\u6d88\u606f\uff0c\u6240\u4ee5\u5728\u5e94\u7528\u5c42\u5bf9\u6570\u636e\u8fdb\u884c\u89e3\u6790\u65f6\uff0c\u53ef\u80fd\u5c06\u591a\u4e2a\u5c0f\u6570\u636e\u5305\u8bef\u89e3\u4e3a\u4e00\u4e2a\u5927\u7684\u6570\u636e\u5305\uff0c\u6b64\u73b0\u8c61\u5c31\u662fTCP\u7c98\u5305\u3002\\n\\nTCP\u7c98\u5305\u4f1a\u5bfc\u81f4\u4f20\u8f93\u7684\u6570\u636e\u5305\u51fa\u73b0\u6df7\u6dc6\uff0c\u7279\u522b\u662f\u5728\u6570\u636e\u5305\u4e2d\u5305\u542b\u4e86\u547d\u4ee4\u4fe1\u606f\u65f6\uff0c\u53ef\u80fd\u4f1a\u5f71\u54cd\u7cfb\u7edf\u7684\u6b63\u5e38\u8fd0\u884c\u3002\u89e3\u51b3TCP\u7c98\u5305\u95ee\u9898\u7684\u65b9\u5f0f\uff0c\u4e00\u822c\u90fd\u662f\u5728\u5e94\u7528\u5c42\u8fdb\u884c\u62c6\u5305\u548c\u5c01\u5305\u5904\u7406\uff0c\u4ee5\u4fbf\u5e94\u7528\u7a0b\u5e8f\u80fd\u6b63\u786e\u5904\u7406\u591a\u4e2a\u5c0f\u6570\u636e\u5305\u3002\\n\\n## 2\u3001\u7279\u6027\u6f14\u793a\\n\\n**client.js**\\n```js\\nconst net = require(\'net\');\\n\\nconst client = net.createConnection({ port: 8080 }, () => {\\n  console.log(\'connected to server!\');\\n});\\n\\nlet data = \'\';\\nclient.on(\'data\', (chunk) => {\\n  // \u8fd9\u91cc\u53ea\u89e6\u53d1\u4e86\u4e00\u6b21 hello_world\\n  console.log(\'data\', chunk.toString());\\n});\\n\\nclient.on(\'end\', () => {\\n  console.log(\'disconnected from server\');\\n});\\n```\\n\\n**server.js**\\n```javascript\\nconst net = require(\'net\');\\n\\nconst server = net.createServer((socket) => {\\n  console.log(\'client connected\');\\n  socket.write(\'hello_\');\\n  socket.write(\'world\');\\n});\\n\\nserver.listen(8080, () => {\\n  console.log(\'server started\');\\n});\\n```\\n\\n## 3\u3001\u89e3\u51b3\u65b9\u6848\\n\\n\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u65b9\u6cd5\u6709\u5f88\u591a, \u5305\u62ec\uff1a\\n- \u4f7f\u7528\u6d88\u606f\u5934\u6765\u6307\u793a\u6570\u636e\u5305\u7684\u957f\u5ea6\\n- \u5728\u670d\u52a1\u7aef\u5199\u5165\u5206\u9694\u7b26\u6765\u8868\u793a\u6570\u636e\u5305\u7684\u8fb9\u754c\\n\\n### 1. \u4f7f\u7528\u6d88\u606f\u5934\u6765\u6307\u793a\u6570\u636e\u5305\u7684\u957f\u5ea6\\n\\n### 2. \u5199\u5165\u5206\u9694\u7b26\u6765\u8868\u793a\u6570\u636e\u5305\u7684\u8fb9\u754c","isLeaf":true}]},{"key":"/parser","path":"/parser","route":"/parser","leaf":false,"title":"parser","depth":0,"content":"","isLeaf":false,"children":[{"key":"/parser/css","path":"/parser/css","route":"/parser/css","leaf":false,"title":"css","depth":1,"content":"","isLeaf":false,"children":[{"key":"/parser/css/index.md","path":"/parser/css/index.md","route":"/parser/css/index.md","leaf":true,"title":"index","depth":2,"content":"- \u81ea\u5df1\u5b9e\u73b0\u7684\u7b80\u5355\u7248\u672c\u7684 postcss https://github.com/compiler-all/compilers/tree/master/css-parser","isLeaf":true},{"key":"/parser/css/postcss.md","path":"/parser/css/postcss.md","route":"/parser/css/postcss.md","leaf":true,"title":"postcss","depth":2,"content":"- postcss \u4f7f\u7528\u6307\u5357 https://github.com/gaollard/postcss-demo","isLeaf":true}]},{"key":"/parser/html","path":"/parser/html","route":"/parser/html","leaf":false,"title":"html","depth":1,"content":"","isLeaf":false,"children":[{"key":"/parser/html/html.md","path":"/parser/html/html.md","route":"/parser/html/html.md","leaf":true,"title":"html","depth":2,"content":"\u5728 JavaScript \u4e2d\uff0c\u6709\u4ee5\u4e0b\u51e0\u4e2a\u5e38\u7528\u7684 HTML \u89e3\u6790\u5668\uff1a\\n1. DOM Parser\uff1aDOM Parser \u662f JavaScript \u5185\u7f6e\u7684\u4e00\u4e2a\u89e3\u6790\u5668\uff0c\u901a\u8fc7\u89e3\u6790 HTML \u6587\u4ef6\u5c06\u5176\u8f6c\u6362\u6210\u4e00\u4e2a DOM \u5bf9\u8c61\uff0c\u4f7f\u6211\u4eec\u53ef\u4ee5\u5bf9 HTML \u6587\u4ef6\u7684\u7ed3\u6784\u8fdb\u884c\u64cd\u4f5c\u3002\\n\\n2. jQuery\uff1ajQuery \u662f\u4e00\u4e2a\u6d41\u884c\u7684 JavaScript \u5e93\uff0c\u5b83\u80fd\u591f\u5feb\u901f\u5730\u89e3\u6790 HTML\uff0c\u5e76\u901a\u8fc7 CSS \u9009\u62e9\u5668\u83b7\u53d6 DOM \u5143\u7d20\u3002\u7531\u4e8e\u5176\u7b80\u5355\u6613\u7528\u548c\u5e7f\u6cdb\u4f7f\u7528\uff0c\u56e0\u6b64\u5728\u8bb8\u591a Web \u5f00\u53d1\u9879\u76ee\u4e2d\u5e7f\u6cdb\u91c7\u7528\u3002\\n\\n3. Cheerio\uff1aCheerio \u662f\u53e6\u4e00\u4e2a\u6d41\u884c\u7684 JavaScript HTML \u89e3\u6790\u5668\uff0c\u5b83\u6a21\u4eff\u4e86 jQuery \u7684 API\uff0c\u5e76\u53ef\u4ee5\u5728\u670d\u52a1\u5668\u7aef\u548c\u5ba2\u6237\u7aef\u4e0a\u4f7f\u7528\u3002\u5b83\u4f7f\u7528\u7c7b\u4f3c\u4e8e jQuery \u7684\u8bed\u6cd5\u6765\u89e3\u6790 HTML \u6587\u4ef6\uff0c\u5e76\u4ee5\u4e00\u4e2a DOM \u6811\u7684\u5f62\u5f0f\u8fd4\u56de\u89e3\u6790\u7ed3\u679c\u3002\\n\\n4. jsdom\uff1ajsdom \u662f\u4e00\u4e2a\u5728 Node.js \u4e0a\u8fd0\u884c\u7684 JavaScript \u73af\u5883\uff0c\u5b83\u53ef\u4ee5\u6a21\u62df\u4e00\u4e2a\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u5e76\u89e3\u6790 HTML \u6587\u6863\u3002\u5b83\u4e5f\u53ef\u4ee5\u7528\u4e8e\u6d4b\u8bd5 jQuery \u548c\u5176\u4ed6\u5e93\u7684\u4ee3\u7801\uff0c\u540c\u65f6\u8fd8\u652f\u6301 DOM \u64cd\u4f5c\u3002\\n\\n5. HTML5 Parser\uff1aHTML5 Parser \u662f\u4e00\u4e2a\u7528\u4e8e\u89e3\u6790 HTML5 \u6587\u6863\u7684 JavaScript \u5e93\uff0c\u5b83\u4f7f\u7528\u4e86\u65b0\u7684 HTML5 \u89c4\u8303\uff0c\u5e76\u80fd\u591f\u5904\u7406\u4e0d\u89c4\u8303\u7684\u6807\u8bb0\u548c\u7279\u6027\u3002\\n\\n6. htmlparser2 htmlparser2 is the fastest HTML parser, and takes some shortcuts to get there. If you need strict HTML spec compliance, have a look at parse5.","isLeaf":true},{"key":"/parser/html/htmlparser2.md","path":"/parser/html/htmlparser2.md","route":"/parser/html/htmlparser2.md","leaf":true,"title":"htmlparser2","depth":2,"content":"- AST test https://astexplorer.net/#/2AmVrGuGVJ\\n\\n## 1\u3001\u4f7f\u7528 htmlparser2 \u89e3\u6790 heading\\n\\n\u9700\u8981\u6ce8\u610f pre + code \u6216\u8005 xmp \u7684\u5904\u7406\\n\\n```js\\nconst fs = require(\'fs\')\\nconst htmlparser = require(\\"htmlparser2\\");\\n\\nfunction resolveHeadings (content) {\\n  const headings = []\\n  let heading;\\n  let isHeading = false;\\n  let isTag = true;\\n  const parser = new htmlparser.Parser({\\n    onopentag: function (name, attributes) {\\n      if (name === \'xmp\') {\\n        isTag = false;\\n      }\\n\\n      if (isTag) {\\n        if (\\n          name === \\"h1\\" ||\\n          name === \\"h2\\" ||\\n          name === \\"h3\\" ||\\n          name === \\"h4\\" ||\\n          name === \\"h5\\" ||\\n          name === \\"h6\\"\\n        ) {\\n          isHeading = true;\\n          heading = {\\n            level: name,\\n            text: \'\',\\n            attributes\\n          }\\n          headings.push(heading)\\n        } else {\\n          isHeading = false;\\n        }\\n      }\\n    },\\n    onclosetag: function (name, attributes) {\\n      if (name === \'xmp\') {\\n        isTag = true;\\n      }\\n\\n      if (\\n        name === \\"h1\\" ||\\n        name === \\"h2\\" ||\\n        name === \\"h3\\" ||\\n        name === \\"h4\\" ||\\n        name === \\"h5\\" ||\\n        name === \\"h6\\"\\n      ) {\\n        isHeading = false;\\n      }\\n    },\\n\\n    ontext: function(text) {\\n      if (isHeading) {\\n        heading.text = text\\n      }\\n    }\\n  });\\n\\n  parser.write(content);\\n  parser.end();\\n\\n  return headings;\\n}\\n\\nconsole.log(resolveHeadings(fs.readFileSync(\'./index.html\', \'utf8\')))\\n```\\n\\n```text\\n[\\n  { level: \'h1\', text: \'h1\', attributes: { id: \'h1\' } },\\n  { level: \'h2\', text: \'h2\', attributes: {} }\\n]\\n```\\n\\n```html\\n<!DOCTYPE html>\\n<html lang=\\"en\\">\\n\\n<head>\\n  <meta charset=\\"UTF-8\\">\\n  <meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=edge\\">\\n  <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\">\\n  <title>Document</title>\\n</head>\\n\\n<body>\\n  <h1 id=\\"h1\\">h1</h1>\\n  <div>\u54c8\u54c8\u54c8\u54c8\u7535\u8bdd</div>\\n  <h2>h2</h2>\\n  <div>\u54c8\u54c8\u54c8\u54c8\u7535\u8bdd</div>\\n  <xmp>\\n    <h3>h3</h3>\\n  </xmp>\\n</body>\\n</html>\\n```","isLeaf":true}]},{"key":"/parser/markdown","path":"/parser/markdown","route":"/parser/markdown","leaf":false,"title":"markdown","depth":1,"content":"","isLeaf":false,"children":[{"key":"/parser/markdown/markdown.md","path":"/parser/markdown/markdown.md","route":"/parser/markdown/markdown.md","leaf":true,"title":"markdown","depth":2,"content":"## 1\u3001markdown \u89e3\u6790\u54ea\u5bb6\u5f3a\uff1f\\n\\n- markdown-it\\n- marked\\n- Pandoc\uff1a\u7528\u4e8e\u8f6c\u6362\u6587\u6863\u683c\u5f0f\u7684\u901a\u7528\u5de5\u5177\uff0c\u53ef\u4ee5\u5c06 Markdown \u8f6c\u6362\u4e3a\u5176\u4ed6\u683c\u5f0f\uff08\u5982 PDF\u3001 Word \u548c HTML\uff09\\n- GitHub Flavored Markdown\uff1aGitHub \u6240\u4f7f\u7528\u7684 Markdown \u89e3\u6790\u5668\uff0c\u53ef\u4ee5\u5728 GitHub \u4e0a\u521b\u5efa\u4e86\u652f\u6301\u4ee3\u7801\u8bed\u6cd5\u9ad8\u4eae\u3001\u4efb\u52a1\u5217\u8868\u7b49\u6269\u5c55\u7684 Markdown\\n\\n## 2\u3001\u5b9e\u73b0\u4e00\u4e2amarkdown\u89e3\u6790\u5668\u9700\u8981\u5177\u5907\u54ea\u4e9b\u77e5\u8bc6\uff1f\\n\\nhttps://www.zhihu.com/question/28756456","isLeaf":true},{"key":"/parser/markdown/markown-it.md","path":"/parser/markdown/markown-it.md","route":"/parser/markdown/markown-it.md","leaf":true,"title":"markown-it","depth":2,"content":"- \u4e2d\u6587\u6587\u6863 https://markdown-it.docschina.org\\n\\n## 1\u3001\u6f14\u793a\\n\\n```js\\nconst fs = require(\\"fs\\");\\nconst markdown = require(\\"markdown-it\\");\\nconst anchr = require(\\"markdown-it-anchor\\");\\nconst frontmatter = require(\\"markdown-it-front-matter\\");\\n\\nconst md = markdown({\\n  html: false,\\n  xhtmlOut: true,\\n  typographer: true,\\n  // highlight: (code, lang) => {\\n  //   return highlighter.codeToHtml(code, { lang })\\n  // }\\n})\\n  .use(frontmatter, (fm) => {\\n    console.log(fm); // fm \u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u542b YAML \u5934\u90e8\u6570\u636e\\n  })\\n  .use(anchr)\\n  // .use(toc)\\n  .use(require(\\"markdown-it-table-of-contents\\"), {\\n    format(content, md) {\\n      // console.log(222, content, md);\\n      return content;\\n    },\\n    resolveHeadings (headings) {\\n      console.log(headings)\\n    }\\n  });\\n\\nconst html = md.render(fs.readFileSync(\\"./markdown.md\\", \\"utf8\\"));\\n// console.log(html);\\n\\n```\\n\\n## 2\u3001\u7ed3\u5408 highlight.js \\n\\nhttps://blog.csdn.net/fxss5201/article/details/103567578\\n\\n## 3\u3001\u7ed3\u5408 shiki","isLeaf":true}]}]},{"key":"/python","path":"/python","route":"/python","leaf":false,"title":"python","depth":0,"content":"","isLeaf":false,"children":[{"key":"/python/01-version-conflict.md","path":"/python/01-version-conflict.md","route":"/python/01-version-conflict.md","leaf":true,"title":"01-version-conflict","depth":1,"content":"- Mac\u81ea\u5e26\u7684 python2 \u7248\u672c\uff0c\u5728 `/System/Library/Frameworks/Python.framework/Versions` \u91cc\u9762\\n- \u81ea\u5df1\u4ece\u5b98\u7f51\u5b89\u88c5\u7684\u5728 `/Library/Frameworks/Python.framework/` \u91cc\u9762\\n- \u901a\u8fc7 homebrew \u5b89\u88c5\u7684\u5728 `/usr/local/Cellar/` \u91cc\u9762\\n\\n## 1\u3001\u770b\u770b\u4f60\u7528\u7684 python\\n```shell\\nwhich python\\n# /usr/bin/python\\n\\nls -l /usr/bin/python\\n# lrwxr-xr-x  1 root  wheel  75 Jan  1  2020 /usr/bin/python -> ../../System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7\\n```\\n\u8fd9\u91cc\u663e\u793a\u6211\u7528\u7684\u662f\u7cfb\u7edf\u81ea\u5e26\u7684\uff0c`oh shit` \u96be\u602a\u7ecf\u5e38\u62a5\u9519\\n  \\n## 2\u3001pyenv \u7ba1\u7406 python \u7248\u672c\\n\\n![20230515151400](http://s3.airtlab.com/blog/20230515151400.png)\\n\\nhttps://stackoverflow.com/questions/60298514/how-to-reinstall-python2-from-homebrew\\n\\n**\u5b89\u88c5\u9519\u8bef**\\n\\nERROR: The Python zlib extension was not compiled. Missing the zlib?\\n\\n## 3\u3001easy_install \u7684\u4f5c\u7528\\n\\n`easy_install` \u662f Python \u7684\u4e00\u4e2a\u5305\u7ba1\u7406\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u81ea\u52a8\u4e0b\u8f7d\uff0c\u5b89\u88c5\uff0c\u5347\u7ea7\u548c\u5378\u8f7d Python \u5305(package)\u3002\u5b83\u53ef\u4ee5\u5728 PyPI\uff08Python \u5305\u7d22\u5f15\uff09\u4e2d\u641c\u7d22\u6240\u9700\u7684\u5305\uff0c\u7136\u540e\u6267\u884c\u5fc5\u8981\u7684\u64cd\u4f5c\u6765\u5b89\u88c5\u548c\u914d\u7f6e\u8fd9\u4e9b\u5305\u3002\\n\\n\u4f7f\u7528 `easy_install`\uff0c\u60a8\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u5b89\u88c5 Python \u5305\u5e76\u81ea\u52a8\u89e3\u51b3\u6240\u4f9d\u8d56\u7684\u5176\u4ed6\u5305\u7684\u95ee\u9898\u3002\\n\\n`easy_install` \u4e0e Python \u81ea\u5e26\u7684 `pip` \u529f\u80fd\u7c7b\u4f3c\uff0c\u4f46\u5df2\u88ab\u5f03\u7528\uff0c\u76ee\u524d\u5df2\u5efa\u8bae\u4f7f\u7528 `pip` \u8fdb\u884c\u5305\u7ba1\u7406\u3002\\n\\n## 4\u3001brew install python\\n\\n```shell\\n$ brew install python@2\\n\\nWarning: No available formula with the name \\"python@2\\". Did you mean ipython, bpython, jython or cython?\\n==> Searching for similarly named formulae and casks...\\n==> Formulae\\nipython                            bpython                            jython                             cython\\n\\nTo install ipython, run:\\n  brew install ipython\\n```\\n\\n\u62a5\u9519\u4e86 shit...\\n\\n## 5\u3001pip install \u62a5\u9519\\n\\n\\n```text\\nDefaulting to user installation because normal site-packages is not writeable\\nCollecting mysql-utilities\\n  Using cached mysql-utilities-1.4.3.tar.gz (564 kB)\\n    ERROR: Command errored out with exit status 1:\\n     command: /System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -c \'import sys, setuptools, tokenize; sys.argv[0] = \'\\"\'\\"\'/private/var/folders/ft/95_cj6t91fd72fthj6ggvwp80000gq/T/pip-install-2Ka5JP/mysql-utilities/setup.py\'\\"\'\\"\'; __file__=\'\\"\'\\"\'/private/var/folders/ft/95_cj6t91fd72fthj6ggvwp80000gq/T/pip-install-2Ka5JP/mysql-utilities/setup.py\'\\"\'\\"\';f=getattr(tokenize, \'\\"\'\\"\'open\'\\"\'\\"\', open)(__file__);code=f.read().replace(\'\\"\'\\"\'\\\\r\\\\n\'\\"\'\\"\', \'\\"\'\\"\'\\\\n\'\\"\'\\"\');f.close();exec(compile(code, __file__, \'\\"\'\\"\'exec\'\\"\'\\"\'))\' egg_info --egg-base /private/var/folders/ft/95_cj6t91fd72fthj6ggvwp80000gq/T/pip-pip-egg-info-Y6Ndcn\\n         cwd: /private/var/folders/ft/95_cj6t91fd72fthj6ggvwp80000gq/T/pip-install-2Ka5JP/mysql-utilities/\\n    Complete output (5 lines):\\n    Traceback (most recent call last):\\n      File \\"<string>\\", line 1, in <module>\\n      File \\"/private/var/folders/ft/95_cj6t91fd72fthj6ggvwp80000gq/T/pip-install-2Ka5JP/mysql-utilities/setup.py\\", line 36, in <module>\\n        from info import META_INFO, INSTALL\\n    ImportError: No module named info\\n    ----------------------------------------\\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\\n```\\n\\n\u660e\u660e\u5728 `.zshrc` \u91cc\u9762\u5df2\u7ecf\u6307\u5b9a\u4e86 python \u4e3a /Lib \u76ee\u5f55\u4e0b\uff0c\u4f46\u662f\u4ed6\u67e5\u627e\u51fa\u6765\u7684\u4e0d\u662f\uff0c\u65e0\u5948\u53ea\u80fd \u6307\u5b9a python \u7248\u672c\u5b89\u88c5\uff1a\\n\\n```shell\\npython3.6 -m pip install <package_name>  # \u53ef\u4ee5\u5728python3.6\u4e0b\u5b89\u88c5\u5305\\npython3.7 -m pip install <package_name>  # \u53ef\u4ee5\u5728python3.7\u4e0b\u5b89\u88c5\u5305\\npython3.8 -m pip install <package_name>  # \u53ef\u4ee5\u5728python3.8\u4e0b\u5b89\u88c5\u5305\\n```","isLeaf":true}]},{"key":"/redis","path":"/redis","route":"/redis","leaf":false,"title":"redis","depth":0,"content":"","isLeaf":false,"children":[{"key":"/redis/01-Redis.md","path":"/redis/01-Redis.md","route":"/redis/01-Redis.md","leaf":true,"title":"01-Redis","depth":1,"content":"---\\ntags: Redis\\n---\\n\\n- Redis\u534f\u8bae\u8be6\u7ec6\u89c4\u8303 https://redis.com.cn/topics/protocol.html","isLeaf":true},{"key":"/redis/02-Failed-to-refresh-slots-cache.md","path":"/redis/02-Failed-to-refresh-slots-cache.md","route":"/redis/02-Failed-to-refresh-slots-cache.md","leaf":true,"title":"02-Failed-to-refresh-slots-cache","depth":1,"content":"---\\ntags: Redis\\n---\\n\\n```text\\nClusterAllFailedError: Failed to refresh slots cache.\\n```\\n\\n\u53ef\u80fd\u662f\u5730\u5740\u4e0d\u6b63\u786e","isLeaf":true}]},{"key":"/sourcemap","path":"/sourcemap","route":"/sourcemap","leaf":false,"title":"sourcemap","depth":0,"content":"","isLeaf":false,"children":[{"key":"/sourcemap/01-Source map\u7684\u683c\u5f0f.md","path":"/sourcemap/01-Source map\u7684\u683c\u5f0f.md","route":"/sourcemap/01-Source map\u7684\u683c\u5f0f.md","leaf":true,"title":"01-Source map\u7684\u683c\u5f0f","depth":1,"content":"```json\\n\u3000{\\n\u3000\u3000\u3000\u3000version : 3,\\n\u3000\u3000\u3000\u3000file: \\"out.js\\",\\n\u3000\u3000\u3000\u3000sourceRoot : \\"\\",\\n\u3000\u3000\u3000\u3000sources: [\\"foo.js\\", \\"bar.js\\"],\\n\u3000\u3000\u3000\u3000names: [\\"src\\", \\"maps\\", \\"are\\", \\"fun\\"],\\n\u3000\u3000\u3000\u3000mappings: \\"AAgBC,SAAQ,CAAEA\\"\\n\u3000\u3000}\\n```\\n\\n```\\n\u3000\u3000- version\uff1aSource map\u7684\u7248\u672c\uff0c\u76ee\u524d\u4e3a3\u3002\\n\u3000\u3000- file\uff1a\u8f6c\u6362\u540e\u7684\u6587\u4ef6\u540d\u3002\\n\u3000\u3000- sourceRoot\uff1a\u8f6c\u6362\u524d\u7684\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u3002\u5982\u679c\u4e0e\u8f6c\u6362\u524d\u7684\u6587\u4ef6\u5728\u540c\u4e00\u76ee\u5f55\uff0c\u8be5\u9879\u4e3a\u7a7a\u3002\\n\u3000\u3000- sources\uff1a\u8f6c\u6362\u524d\u7684\u6587\u4ef6\u3002\u8be5\u9879\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u8868\u793a\u53ef\u80fd\u5b58\u5728\u591a\u4e2a\u6587\u4ef6\u5408\u5e76\u3002\\n\u3000\u3000- names\uff1a\u8f6c\u6362\u524d\u7684\u6240\u6709\u53d8\u91cf\u540d\u548c\u5c5e\u6027\u540d\u3002\\n\u3000\u3000- mappings\uff1a\u8bb0\u5f55\u4f4d\u7f6e\u4fe1\u606f\u7684\u5b57\u7b26\u4e32\uff0c\u4e0b\u6587\u8be6\u7ec6\u4ecb\u7ecd\u3002\\n```","isLeaf":true},{"key":"/sourcemap/02-mappings\u5c5e\u6027.md","path":"/sourcemap/02-mappings\u5c5e\u6027.md","route":"/sourcemap/02-mappings\u5c5e\u6027.md","leaf":true,"title":"02-mappings\u5c5e\u6027","depth":1,"content":"\u5173\u952e\u5c31\u662fmap\u6587\u4ef6\u7684mappings\u5c5e\u6027\u3002\u8fd9\u662f\u4e00\u4e2a\u5f88\u957f\u7684\u5b57\u7b26\u4e32\uff0c\u5b83\u5206\u6210\u4e09\u5c42\u3002\\n\\n\\n\u3000\u3000\u7b2c\u4e00\u5c42\u662f\u884c\u5bf9\u5e94\uff0c\u4ee5\u5206\u53f7\uff08;\uff09\u8868\u793a\uff0c\u6bcf\u4e2a\u5206\u53f7\u5bf9\u5e94\u8f6c\u6362\u540e\u6e90\u7801\u7684\u4e00\u884c\u3002\u6240\u4ee5\uff0c\u7b2c\u4e00\u4e2a\u5206\u53f7\u524d\u7684\u5185\u5bb9\uff0c\u5c31\u5bf9\u5e94\u6e90\u7801\u7684\u7b2c\u4e00\u884c\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\\n\\n\u3000\u3000\u7b2c\u4e8c\u5c42\u662f\u4f4d\u7f6e\u5bf9\u5e94\uff0c\u4ee5\u9017\u53f7\uff08,\uff09\u8868\u793a\uff0c\u6bcf\u4e2a\u9017\u53f7\u5bf9\u5e94\u8f6c\u6362\u540e\u6e90\u7801\u7684\u4e00\u4e2a\u4f4d\u7f6e\u3002\u6240\u4ee5\uff0c\u7b2c\u4e00\u4e2a\u9017\u53f7\u524d\u7684\u5185\u5bb9\uff0c\u5c31\u5bf9\u5e94\u8be5\u884c\u6e90\u7801\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\\n\\n\u3000\u3000\u7b2c\u4e09\u5c42\u662f\u4f4d\u7f6e\u8f6c\u6362\uff0c\u4ee5VLQ\u7f16\u7801\u8868\u793a\uff0c\u4ee3\u8868\u8be5\u4f4d\u7f6e\u5bf9\u5e94\u7684\u8f6c\u6362\u524d\u7684\u6e90\u7801\u4f4d\u7f6e\u3002\\n\\n\\n\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5047\u5b9amappings\u5c5e\u6027\u7684\u5185\u5bb9\u5982\u4e0b\uff1a\\n\\n\u3000\u3000mappings:\\"AAAAA,BBBBB;CCCCC\\"\\n\\n\u5c31\u8868\u793a\uff0c\u8f6c\u6362\u540e\u7684\u6e90\u7801\u5206\u6210\u4e24\u884c\uff0c\u7b2c\u4e00\u884c\u6709\u4e24\u4e2a\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u884c\u6709\u4e00\u4e2a\u4f4d\u7f6e\u3002","isLeaf":true},{"key":"/sourcemap/03-\u4f4d\u7f6e\u5bf9\u5e94\u7684\u539f\u7406.md","path":"/sourcemap/03-\u4f4d\u7f6e\u5bf9\u5e94\u7684\u539f\u7406.md","route":"/sourcemap/03-\u4f4d\u7f6e\u5bf9\u5e94\u7684\u539f\u7406.md","leaf":true,"title":"03-\u4f4d\u7f6e\u5bf9\u5e94\u7684\u539f\u7406","depth":1,"content":"\u6bcf\u4e2a\u4f4d\u7f6e\u4f7f\u7528\u4e94\u4f4d\uff0c\u8868\u793a\u4e94\u4e2a\u5b57\u6bb5\u3002\\n\\n\u4ece\u5de6\u8fb9\u7b97\u8d77\\n\\n\u3000- \u7b2c\u4e00\u4f4d\uff0c\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u5728\uff08\u8f6c\u6362\u540e\u7684\u4ee3\u7801\u7684\uff09\u7684\u7b2c\u51e0\u5217\u3002\\n\\n\u3000\u3000- \u7b2c\u4e8c\u4f4d\uff0c\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u5c5e\u4e8esources\u5c5e\u6027\u4e2d\u7684\u54ea\u4e00\u4e2a\u6587\u4ef6\u3002\\n\\n\u3000\u3000- \u7b2c\u4e09\u4f4d\uff0c\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u5c5e\u4e8e\u8f6c\u6362\u524d\u4ee3\u7801\u7684\u7b2c\u51e0\u884c\u3002\\n\\n\u3000\u3000- \u7b2c\u56db\u4f4d\uff0c\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u5c5e\u4e8e\u8f6c\u6362\u524d\u4ee3\u7801\u7684\u7b2c\u51e0\u5217\u3002\\n\\n\u3000\u3000- \u7b2c\u4e94\u4f4d\uff0c\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u5c5e\u4e8enames\u5c5e\u6027\u4e2d\u7684\u54ea\u4e00\u4e2a\u53d8\u91cf\u3002","isLeaf":true},{"key":"/sourcemap/04-VLQ\u7f16\u7801.md","path":"/sourcemap/04-VLQ\u7f16\u7801.md","route":"/sourcemap/04-VLQ\u7f16\u7801.md","leaf":true,"title":"04-VLQ\u7f16\u7801","depth":1,"content":"\u5982\u679c\u67d0\u4e2a\u4f4d\u7f6e\u662fAAAAA\uff0c\u7531\u4e8eA\u5728VLQ\u7f16\u7801\u4e2d\u8868\u793a0\uff0c\u56e0\u6b64\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u4e94\u4e2a\u4f4d\u5b9e\u9645\u4e0a\u90fd\u662f0\u3002\\n\\n\u5b83\u7684\u610f\u601d\u662f\uff0c\u8be5\u4f4d\u7f6e\u5728\u8f6c\u6362\u540e\u4ee3\u7801\u7684\u7b2c0\u5217\uff0c\u5bf9\u5e94sources\u5c5e\u6027\u4e2d\u7b2c0\u4e2a\u6587\u4ef6\uff0c\u5c5e\u4e8e\u8f6c\u6362\u524d\u4ee3\u7801\u7684\u7b2c0\u884c\u7b2c0\u5217\uff0c\u5bf9\u5e94names\u5c5e\u6027\u4e2d\u7684\u7b2c0\u4e2a\u53d8\u91cf\u3002\\n\\n\\n\u6700\u540e\uff0c\u8c08\u8c08\u5982\u4f55\u7528VLQ\u7f16\u7801\u8868\u793a\u6570\u503c\u3002\\n\\n\u8fd9\u79cd\u7f16\u7801\u6700\u65e9\u7528\u4e8eMIDI\u6587\u4ef6\uff0c\u540e\u6765\u88ab\u591a\u79cd\u683c\u5f0f\u91c7\u7528\u3002\u5b83\u7684\u7279\u70b9\u5c31\u662f\u53ef\u4ee5\u975e\u5e38\u7cbe\u7b80\u5730\u8868\u793a\u5f88\u5927\u7684\u6570\u503c\u3002\\n\\n\\nVLQ\u7f16\u7801\u662f\u53d8\u957f\u7684\u3002\u5982\u679c\uff08\u6574\uff09\u6570\u503c\u5728-15\u5230+15\u4e4b\u95f4\uff08\u542b\u4e24\u4e2a\u7aef\u70b9\uff09\uff0c\u7528\u4e00\u4e2a\u5b57\u7b26\u8868\u793a\uff1b\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\uff0c\u5c31\u9700\u8981\u7528\u591a\u4e2a\u5b57\u7b26\u8868\u793a\u3002\u5b83\u89c4\u5b9a\uff0c\u6bcf\u4e2a\u5b57\u7b26\u4f7f\u75286\u4e2a\u4e24\u8fdb\u5236\u4f4d\uff0c\u6b63\u597d\u53ef\u4ee5\u501f\u7528Base 64\u7f16\u7801\u7684\u5b57\u7b26\u8868\u3002\\n\\n\\n![20230710161209](http://s3.airtlab.com/blog/20230710161209.png)","isLeaf":true},{"key":"/sourcemap/05-source-map\u5e93.md","path":"/sourcemap/05-source-map\u5e93.md","route":"/sourcemap/05-source-map\u5e93.md","leaf":true,"title":"05-source-map\u5e93","depth":1,"content":"https://github.com/mozilla/source-map","isLeaf":true},{"key":"/sourcemap/06-\u6f14\u793a.md","path":"/sourcemap/06-\u6f14\u793a.md","route":"/sourcemap/06-\u6f14\u793a.md","leaf":true,"title":"06-\u6f14\u793a","depth":1,"content":"```json\\n{\\n  \\"version\\": 3,\\n  \\"file\\": \\"my-first-webpack.bundle.js\\",\\n  \\"mappings\\": \\"MAKA,MAAMA,GAJFC,QAAQC,IAAI,KACL,KAKXD,QAAQC,IAAIF,EAAG,I\\",\\n  \\"sources\\": [\\n    \\"webpack://sourcemap-demo/./src/main.js\\"\\n  ],\\n  \\"sourcesContent\\": [\\n    \\"function sleep() {\\\\n    console.log(222)\\\\n    return 200;\\\\n}\\\\n\\\\nconst a = sleep()\\\\n\\\\nconsole.log(a, 111)\\"\\n  ],\\n  \\"names\\": [\\n    \\"a\\",\\n    \\"console\\",\\n    \\"log\\"\\n  ],\\n  \\"sourceRoot\\": \\"\\"\\n}\\n```\\n\\noutput\\n\\n```js\\n(()=>{const o=(console.log(222),200);console.log(o,111)})();\\n//# sourceMappingURL=my-first-webpack.bundle.js.map\\n```\\n\\n## mappings\\n\\n\\"MAKA,MAAMA,GAJFC,QAAQC,IAAI,KACL,KAKXD,QAAQC,IAAIF,EAAG,I\\",","isLeaf":true},{"key":"/sourcemap/javascript_source_map-\u962e\u4e00\u5cf0.md","path":"/sourcemap/javascript_source_map-\u962e\u4e00\u5cf0.md","route":"/sourcemap/javascript_source_map-\u962e\u4e00\u5cf0.md","leaf":true,"title":"javascript_source_map-\u962e\u4e00\u5cf0","depth":1,"content":"https://www.ruanyifeng.com/blog/2013/01/javascript_source_map.html","isLeaf":true}]},{"key":"/system","path":"/system","route":"/system","leaf":false,"title":"system","depth":0,"content":"","isLeaf":false,"children":[{"key":"/system/ASCII.md","path":"/system/ASCII.md","route":"/system/ASCII.md","leaf":true,"title":"ASCII","depth":1,"content":"### ASCII \u7f16\u7801\\n\\n![20230619114042](http://s3.airtlab.com/blog/20230619114042.png)\\n\\nASCII \u7801\u4e3b\u8981\u652f\u6301\u82f1\u6587\u548c\u90e8\u5206\u897f\u6b27\u8bed\u8a00\uff0c\u5b83\u4e0d\u652f\u6301\u4e2d\u6587\u7684\u7f16\u7801\u3002\\n\\n![20230619114049](http://s3.airtlab.com/blog/20230619114049.png)\\n\\n\u6807\u51c6 ASCII \u7801 \u4e3b\u8981\u7528\u6765\u8868\u793a\u5927\u5c0f\u5199\u5b57\u6bcd/\u6807\u70b9\u7b26\u53f7/\u7f8e\u5f0f\u82f1\u8bed\u4e2d\u7684\u63a7\u5236\u7b26\u7b49\u3002\\n\u6269\u5c55 ASCII \u7801 \u4e3b\u8981\u7528\u6765\u8868\u793a\u7279\u6b8a\u5b57\u7b26/\u5916\u6765\u8bed\u8a00\u5b57\u7b26\u7b49\u3002\\n\\n### ASCII \u7f16\u7801\u8868\\n\\n| Bin (\u4e8c\u8fdb\u5236) | Oct (\u516b\u8fdb\u5236) | Dec (\u5341\u8fdb\u5236) | Hex (\u5341\u516d\u8fdb\u5236) | \u7f29\u5199/\u5b57\u7b26 | \u89e3\u91ca |\\n| --- | --- | --- | --- | --- | --- |\\n| 0000 0000 | 00 | 0 | 0x00 | NUL(null) | \u7a7a\u5b57\u7b26 |\\n| 0000 0001 | 01 | 1 | 0x01 | SOH(start of headline) | \u6807\u9898\u5f00\u59cb |\\n| 0000 0010 | 02 | 2 | 0x02 | STX (start of text) | \u6b63\u6587\u5f00\u59cb |\\n| 0000 0011 | 03 | 3 | 0x03 | ETX (end of text) | \u6b63\u6587\u7ed3\u675f |\\n| 0000 0100 | 04 | 4 | 0x04 | EOT (end of transmission) | \u4f20\u8f93\u7ed3\u675f |\\n| 0000 0101 | 05 | 5 | 0x05 | ENQ (enquiry) | \u8bf7\u6c42 |\\n| 0000 0110 | 06 | 6 | 0x06 | ACK (acknowledge) | \u6536\u5230\u901a\u77e5 |\\n| 0000 0111 | 07 | 7 | 0x07 | BEL (bell) | \u54cd\u94c3 |\\n| 0000 1000 | 010 | 8 | 0x08 | BS (backspace) | \u9000\u683c |\\n| 0000 1001 | 011 | 9 | 0x09 | HT (horizontal tab) | \u6c34\u5e73\u5236\u8868\u7b26 |\\n| 0000 1010 | 012 | 10 | 0x0A | LF (NL line feed, new line) | \u6362\u884c\u952e |\\n| 0000 1011 | 013 | 11 | 0x0B | VT (vertical tab) | \u5782\u76f4\u5236\u8868\u7b26 |\\n| 0000 1100 | 014 | 12 | 0x0C | FF (NP form feed, new page) | \u6362\u9875\u952e |\\n| 0000 1101 | 015 | 13 | 0x0D | CR (carriage return) | \u56de\u8f66\u952e |\\n| 0000 1110 | 016 | 14 | 0x0E | SO (shift out) | \u4e0d\u7528\u5207\u6362 |\\n| 0000 1111 | 017 | 15 | 0x0F | SI (shift in) | \u542f\u7528\u5207\u6362 |\\n| 0001 0000 | 020 | 16 | 0x10 | DLE (data link escape) | \u6570\u636e\u94fe\u8def\u8f6c\u4e49 |\\n| 0001 0001 | 021 | 17 | 0x11 | DC1 (device control 1) | \u8bbe\u5907\u63a7\u52361 |\\n| 0001 0010 | 022 | 18 | 0x12 | DC2 (device control 2) | \u8bbe\u5907\u63a7\u52362 |\\n| 0001 0011 | 023 | 19 | 0x13 | DC3 (device control 3) | \u8bbe\u5907\u63a7\u52363 |\\n| 0001 0100 | 024 | 20 | 0x14 | DC4 (device control 4) | \u8bbe\u5907\u63a7\u52364 |\\n| 0001 0101 | 025 | 21 | 0x15 | NAK (negative acknowledge) | \u62d2\u7edd\u63a5\u6536 |\\n| 0001 0110 | 026 | 22 | 0x16 | SYN (synchronous idle) | \u540c\u6b65\u7a7a\u95f2 |\\n| 0001 0111 | 027 | 23 | 0x17 | ETB (end of trans. block) | \u7ed3\u675f\u4f20\u8f93\u5757 |\\n| 0001 1000 | 030 | 24 | 0x18 | CAN (cancel) | \u53d6\u6d88 |\\n| 0001 1001 | 031 | 25 | 0x19 | EM (end of medium) | \u5a92\u4ecb\u7ed3\u675f |\\n| 0001 1010 | 032 | 26 | 0x1A | SUB (substitute) | \u4ee3\u66ff |\\n| 0001 1011 | 033 | 27 | 0x1B | ESC (escape) | \u6362\u7801(\u6ea2\u51fa) |\\n| 0001 1100 | 034 | 28 | 0x1C | FS (file separator) | \u6587\u4ef6\u5206\u9694\u7b26 |\\n| 0001 1101 | 035 | 29 | 0x1D | GS (group separator) | \u5206\u7ec4\u7b26 |\\n| 0001 1110 | 036 | 30 | 0x1E | RS (record separator) | \u8bb0\u5f55\u5206\u9694\u7b26 |\\n| 0001 1111 | 037 | 31 | 0x1F | US (unit separator) | \u5355\u5143\u5206\u9694\u7b26 |\\n| 0010 0000 | 040 | 32 | 0x20 | (space) | \u7a7a\u683c |\\n| 0010 0001 | 041 | 33 | 0x21 | ! | \u53f9\u53f7 |\\n| 0010 0010 | 042 | 34 | 0x22 | \\" | \u53cc\u5f15\u53f7 |\\n| 0010 0011 | 043 | 35 | 0x23 | # | \u4e95\u53f7 |\\n| 0010 0100 | 044 | 36 | 0x24 | $ | \u7f8e\u5143\u7b26 |\\n| 0010 0101 | 045 | 37 | 0x25 | % | \u767e\u5206\u53f7 |\\n| 0010 0110 | 046 | 38 | 0x26 | & | \u548c\u53f7 |\\n| 0010 0111 | 047 | 39 | 0x27 | \' | \u95ed\u5355\u5f15\u53f7 |\\n| 0010 1000 | 050 | 40 | 0x28 | ( | \u5f00\u62ec\u53f7 |\\n| 0010 1001 | 051 | 41 | 0x29 | ) | \u95ed\u62ec\u53f7 |\\n| 0010 1010 | 052 | 42 | 0x2A | * | \u661f\u53f7 |\\n| 0010 1011 | 053 | 43 | 0x2B | + | \u52a0\u53f7 |\\n| 0010 1100 | 054 | 44 | 0x2C | , | \u9017\u53f7 |\\n| 0010 1101 | 055 | 45 | 0x2D | - | \u51cf\u53f7/\u7834\u6298\u53f7 |\\n| 0010 1110 | 056 | 46 | 0x2E | . | \u53e5\u53f7 |\\n| 0010 1111 | 057 | 47 | 0x2F | / | \u659c\u6760 |\\n| 0011 0000 | 060 | 48 | 0x30 | 0 | \u5b57\u7b260 |\\n| 0011 0001 | 061 | 49 | 0x31 | 1 | \u5b57\u7b261 |\\n| 0011 0010 | 062 | 50 | 0x32 | 2 | \u5b57\u7b262 |\\n| 0011 0011 | 063 | 51 | 0x33 | 3 | \u5b57\u7b263 |\\n| 0011 0100 | 064 | 52 | 0x34 | 4 | \u5b57\u7b264 |\\n| 0011 0101 | 065 | 53 | 0x35 | 5 | \u5b57\u7b265 |\\n| 0011 0110 | 066 | 54 | 0x36 | 6 | \u5b57\u7b266 |\\n| 0011 0111 | 067 | 55 | 0x37 | 7 | \u5b57\u7b267 |\\n| 0011 1000 | 070 | 56 | 0x38 | 8 | \u5b57\u7b268 |\\n| 0011 1001 | 071 | 57 | 0x39 | 9 | \u5b57\u7b269 |\\n| 0011 1010 | 072 | 58 | 0x3A | : | \u5192\u53f7 |\\n| 0011 1011 | 073 | 59 | 0x3B | ; | \u5206\u53f7 |\\n| 0011 1100 | 074 | 60 | 0x3C | < | \u5c0f\u4e8e |\\n| 0011 1101 | 075 | 61 | 0x3D | = | \u7b49\u53f7 |\\n| 0011 1110 | 076 | 62 | 0x3E | > | \u5927\u4e8e |\\n| 0011 1111 | 077 | 63 | 0x3F | ? | \u95ee\u53f7 |\\n| 0100 0000 | 0100 | 64 | 0x40 | @ | \u7535\u5b50\u90ae\u4ef6\u7b26\u53f7 |\\n| 0100 0001 | 0101 | 65 | 0x41 | A | \u5927\u5199\u5b57\u6bcdA |\\n| 0100 0010 | 0102 | 66 | 0x42 | B | \u5927\u5199\u5b57\u6bcdB |\\n| 0100 0011 | 0103 | 67 | 0x43 | C | \u5927\u5199\u5b57\u6bcdC |\\n| 0100 0100 | 0104 | 68 | 0x44 | D | \u5927\u5199\u5b57\u6bcdD |\\n| 0100 0101 | 0105 | 69 | 0x45 | E | \u5927\u5199\u5b57\u6bcdE |\\n| 0100 0110 | 0106 | 70 | 0x46 | F | \u5927\u5199\u5b57\u6bcdF |\\n| 0100 0111 | 0107 | 71 | 0x47 | G | \u5927\u5199\u5b57\u6bcdG |\\n| 0100 1000 | 0110 | 72 | 0x48 | H | \u5927\u5199\u5b57\u6bcdH |\\n| 0100 1001 | 0111 | 73 | 0x49 | I | \u5927\u5199\u5b57\u6bcdI |\\n| 01001010 | 0112 | 74 | 0x4A | J | \u5927\u5199\u5b57\u6bcdJ |\\n| 0100 1011 | 0113 | 75 | 0x4B | K | \u5927\u5199\u5b57\u6bcdK |\\n| 0100 1100 | 0114 | 76 | 0x4C | L | \u5927\u5199\u5b57\u6bcdL |\\n| 0100 1101 | 0115 | 77 | 0x4D | M | \u5927\u5199\u5b57\u6bcdM |\\n| 0100 1110 | 0116 | 78 | 0x4E | N | \u5927\u5199\u5b57\u6bcdN |\\n| 0100 1111 | 0117 | 79 | 0x4F | O | \u5927\u5199\u5b57\u6bcdO |\\n| 0101 0000 | 0120 | 80 | 0x50 | P | \u5927\u5199\u5b57\u6bcdP |\\n| 0101 0001 | 0121 | 81 | 0x51 | Q | \u5927\u5199\u5b57\u6bcdQ |\\n| 0101 0010 | 0122 | 82 | 0x52 | R | \u5927\u5199\u5b57\u6bcdR |\\n| 0101 0011 | 0123 | 83 | 0x53 | S | \u5927\u5199\u5b57\u6bcdS |\\n| 0101 0100 | 0124 | 84 | 0x54 | T | \u5927\u5199\u5b57\u6bcdT |\\n| 0101 0101 | 0125 | 85 | 0x55 | U | \u5927\u5199\u5b57\u6bcdU |\\n| 0101 0110 | 0126 | 86 | 0x56 | V | \u5927\u5199\u5b57\u6bcdV |\\n| 0101 0111 | 0127 | 87 | 0x57 | W | \u5927\u5199\u5b57\u6bcdW |\\n| 0101 1000 | 0130 | 88 | 0x58 | X | \u5927\u5199\u5b57\u6bcdX |\\n| 0101 1001 | 0131 | 89 | 0x59 | Y | \u5927\u5199\u5b57\u6bcdY |\\n| 0101 1010 | 0132 | 90 | 0x5A | Z | \u5927\u5199\u5b57\u6bcdZ |\\n| 0101 1011 | 0133 | 91 | 0x5B | [ | \u5f00\u65b9\u62ec\u53f7 |\\n| 0101 1100 | 0134 | 92 | 0x5C | \\\\\\\\ | \u53cd\u659c\u6760 |\\n| 0101 1101 | 0135 | 93 | 0x5D | ] | \u95ed\u65b9\u62ec\u53f7 |\\n| 0101 1110 | 0136 | 94 | 0x5E | ^ | \u8131\u5b57\u7b26 |\\n| 0101 1111 | 0137 | 95 | 0x5F | _ | \u4e0b\u5212\u7ebf |\\n| 0110 0000 | 0140 | 96 | 0x60 | ` | \u5f00\u5355\u5f15\u53f7 |\\n| 0110 0001 | 0141 | 97 | 0x61 | a | \u5c0f\u5199\u5b57\u6bcda |\\n| 0110 0010 | 0142 | 98 | 0x62 | b | \u5c0f\u5199\u5b57\u6bcdb |\\n| 0110 0011 | 0143 | 99 | 0x63 | c | \u5c0f\u5199\u5b57\u6bcdc |\\n| 0110 0100 | 0144 | 100 | 0x64 | d | \u5c0f\u5199\u5b57\u6bcdd |\\n| 0110 0101 | 0145 | 101 | 0x65 | e | \u5c0f\u5199\u5b57\u6bcde |\\n| 0110 0110 | 0146 | 102 | 0x66 | f | \u5c0f\u5199\u5b57\u6bcdf |\\n| 0110 0111 | 0147 | 103 | 0x67 | g | \u5c0f\u5199\u5b57\u6bcdg |\\n| 0110 1000 | 0150 | 104 | 0x68 | h | \u5c0f\u5199\u5b57\u6bcdh |\\n| 0110 1001 | 0151 | 105 | 0x69 | i | \u5c0f\u5199\u5b57\u6bcdi |\\n| 0110 1010 | 0152 | 106 | 0x6A | j | \u5c0f\u5199\u5b57\u6bcdj |\\n| 0110 1011 | 0153 | 107 | 0x6B | k | \u5c0f\u5199\u5b57\u6bcdk |\\n| 0110 1100 | 0154 | 108 | 0x6C | l | \u5c0f\u5199\u5b57\u6bcdl |\\n| 0110 1101 | 0155 | 109 | 0x6D | m | \u5c0f\u5199\u5b57\u6bcdm |\\n| 0110 1110 | 0156 | 110 | 0x6E | n | \u5c0f\u5199\u5b57\u6bcdn |\\n| 0110 1111 | 0157 | 111 | 0x6F | o | \u5c0f\u5199\u5b57\u6bcdo |\\n| 0111 0000 | 0160 | 112 | 0x70 | p | \u5c0f\u5199\u5b57\u6bcdp |\\n| 0111 0001 | 0161 | 113 | 0x71 | q | \u5c0f\u5199\u5b57\u6bcdq |\\n| 0111 0010 | 0162 | 114 | 0x72 | r | \u5c0f\u5199\u5b57\u6bcdr |\\n| 0111 0011 | 0163 | 115 | 0x73 | s | \u5c0f\u5199\u5b57\u6bcds |\\n| 0111 0100 | 0164 | 116 | 0x74 | t | \u5c0f\u5199\u5b57\u6bcdt |\\n| 0111 0101 | 0165 | 117 | 0x75 | u | \u5c0f\u5199\u5b57\u6bcdu |\\n| 0111 0110 | 0166 | 118 | 0x76 | v | \u5c0f\u5199\u5b57\u6bcdv |\\n| 0111 0111 | 0167 | 119 | 0x77 | w | \u5c0f\u5199\u5b57\u6bcdw |\\n| 0111 1000 | 0170 | 120 | 0x78 | x | \u5c0f\u5199\u5b57\u6bcdx |\\n| 0111 1001 | 0171 | 121 | 0x79 | y | \u5c0f\u5199\u5b57\u6bcdy |\\n| 0111 1010 | 0172 | 122 | 0x7A | z | \u5c0f\u5199\u5b57\u6bcdz |\\n| 0111 1011 | 0173 | 123 | 0x7B | { | \u5f00\u82b1\u62ec\u53f7 |\\n| 0111 1100 | 0174 | 124 | 0x7C | &#124; | \u5782\u7ebf |\\n| 0111 1101 | 0175 | 125 | 0x7D | } | \u95ed\u82b1\u62ec\u53f7 |\\n| 0111 1110 | 0176 | 126 | 0x7E | ~ | \u6ce2\u6d6a\u53f7 |\\n| 0111 1111 | 0177 | 127 | 0x7F | DEL (delete) | \u5220\u9664 |\\n\\n### **Unicode \u7f16\u7801**\\nUnicode\u7f16\u7801\u7684\u76ee\u6807\u662f\u652f\u6301\u4e16\u754c\u4e0a\u6240\u6709\u7684\u5b57\u7b26\u96c6\u8868\u793a\u3002\\n\\n![20230619114100](http://s3.airtlab.com/blog/20230619114100.png)\\n\\nUnicode \u90fd\u662f4\u4f4d\u7684\uff0c\u800c\u4e14\u752816\u8fdb\u5236\u6765\u8868\u793a\u3002","isLeaf":true},{"key":"/system/Virtual-machine","path":"/system/Virtual-machine","route":"/system/Virtual-machine","leaf":false,"title":"Virtual-machine","depth":1,"content":"","isLeaf":false,"children":[{"key":"/system/Virtual-machine/01-Virtual-machine.md","path":"/system/Virtual-machine/01-Virtual-machine.md","route":"/system/Virtual-machine/01-Virtual-machine.md","leaf":true,"title":"01-Virtual-machine","depth":2,"content":"## \u865a\u62df\u673a\u7684\u8ba4\u8bc6\\n- \u4ec0\u4e48\u662f\u7269\u7406\u673a/\u5bbf\u4e3b\u673a\uff1f\\n- \u4ec0\u4e48\u662f\u865a\u62df\u673a\uff1f\\n- \u865a\u62df\u673a\u7684\u7528\u9014\uff1f\\n- \u4f7f\u7528\u865a\u62df\u673a\u7684\u597d\u5904\uff1f\\n   - \u53ef\u4ee5\u88c5\u591a\u4e2a\u7cfb\u7edf\\n   - \u8d77\u5230\u9694\u79bb\u4f5c\u7528\\n- \u8f6f\u4ef6\u6a21\u62df\u786c\u4ef6\u8bbe\u5907\uff1f\\n\\n![20230619113906](http://s3.airtlab.com/blog/20230619113906.png)\\n\\n## \u5e38\u89c1\u865a\u62df\u673a\u6bd4\u8f83\\n\\n![20230619113916](http://s3.airtlab.com/blog/20230619113916.png)\\n\\n## \u4f7f\u7528\u865a\u62df\u673a\u7684\u597d\u5904\\n\\n![20230619113927](http://s3.airtlab.com/blog/20230619113927.png)\\n","isLeaf":true},{"key":"/system/Virtual-machine/02-Virtual-machine-network-connection-type.md","path":"/system/Virtual-machine/02-Virtual-machine-network-connection-type.md","route":"/system/Virtual-machine/02-Virtual-machine-network-connection-type.md","leaf":true,"title":"02-Virtual-machine-network-connection-type","depth":2,"content":"---\\ntitle: \u865a\u62df\u673a\u7f51\u7edc\u8fde\u63a5\u7c7b\u578b\\n---\\n\\n![20230619113715](http://s3.airtlab.com/blog/20230619113715.png)","isLeaf":true}]},{"key":"/system/bit-operation.md","path":"/system/bit-operation.md","route":"/system/bit-operation.md","leaf":true,"title":"bit-operation","depth":1,"content":"[https://www.runoob.com/w3cnote/bit-operation.html](https://www.runoob.com/w3cnote/bit-operation.html)\\n\\n| \u7b26\u53f7 | \u63cf\u8ff0 | \u8fd0\u7b97\u89c4\u5219 |\\n| --- | --- | --- |\\n| & | \u4e0e | \u4e24\u4e2a\u4f4d\u90fd\u4e3a1\u65f6\uff0c\u7ed3\u679c\u624d\u4e3a1 |\\n| &#124; | \u6216 | \u4e24\u4e2a\u4f4d\u90fd\u4e3a0\u65f6\uff0c\u7ed3\u679c\u624d\u4e3a0 |\\n| ^ | \u5f02\u6216 | \u4e24\u4e2a\u4f4d\u76f8\u540c\u4e3a0\uff0c\u76f8\u5f02\u4e3a1 |\\n| ~ | \u53d6\u53cd | 0\u53d81\uff0c1\u53d80 |\\n| << | \u5de6\u79fb | \u5404\u4e8c\u8fdb\u4f4d\u5168\u90e8\u5de6\u79fb\u82e5\u5e72\u4f4d\uff0c\u9ad8\u4f4d\u4e22\u5f03\uff0c\u4f4e\u4f4d\u88650 |\\n| >> | \u53f3\u79fb | \u5404\u4e8c\u8fdb\u4f4d\u5168\u90e8\u53f3\u79fb\u82e5\u5e72\u4f4d\uff0c\u5bf9\u65e0\u7b26\u53f7\u6570\uff0c\u9ad8\u4f4d\u88650\uff0c\u6709\u7b26\u53f7\u6570\uff0c\u5404\u7f16\u8bd1\u5668\u5904\u7406\u65b9\u6cd5\u4e0d\u4e00\u6837\uff0c\u6709\u7684\u8865\u7b26\u53f7\u4f4d\uff08\u7b97\u672f\u53f3\u79fb\uff09\uff0c\u6709\u7684\u88650\uff08\u903b\u8f91\u53f3\u79fb\uff09 |\\n\\n### << \u5de6\u79fb\\n\\n```javascript\\n// 3 \u7684\u4e8c\u8fdb\u5236\u8868\u793a 0000 0011\\n// \u5de6\u79fb 4\u4f4d 0011\\n// \u53f3\u4fa7\u88650  =>  00110000\uff0c\u53d8\u4e3a\u5341\u8fdb\u5236 48\\n\\nconsole.log(3 << 4) // 48\\n```\\n\\n### >> \u53f3\u79fb\\n\\n```javascript\\n// 1. \u5341\u8fdb\u5236 32 \u7684\u4e8c\u8fdb\u5236\u8868\u793a\u4e3a\uff1a0010 0000\\n// 2. \u53f3\u79fb 4\u4f4d 0000 0010\\nconsole.log(32 >> 4) // 2\\n```\\n```javascript\\n// 1. \u5341\u8fdb\u5236 40 \u7684\u4e8c\u8fdb\u5236\u8868\u793a\u4e3a\uff1a0010 1000\\n// 2. \u53f3\u79fb 4\u4f4d 0000 0010\\nconsole.log(40 >> 4) // 2\\n```\\n\\n### | \u6216\u8fd0\u7b97\\n\\n```javascript\\n// 010\\n// 011\\n// 011 => 3\\n2 | 3\\n```\\n\\n### & \u4e0e\u8fd0\u7b97\\n```javascript\\n// 010\\n// 011\\n// 010 => 2\\n2 & 3\\n\\n// 011\\n// 101\\n// 001\\n// 3 & 5 => 1\\n```","isLeaf":true},{"key":"/system/english","path":"/system/english","route":"/system/english","leaf":false,"title":"english","depth":1,"content":"","isLeaf":false,"children":[{"key":"/system/english/01-workarounds.md","path":"/system/english/01-workarounds.md","route":"/system/english/01-workarounds.md","leaf":true,"title":"01-workarounds","depth":2,"content":"---\\ntags: english\\n---\\n\\nworkarounds \u8868\u793a\u53d8\u901a\u65b9\u6cd5\u3001\u89e3\u51b3\u65b9\u6848\\n\\n```\\nJust think the amount of time that a web developer saves without having to code hacks and workarounds for IE.\\n```\\n\\n\u8bd5\u60f3\u4e00\u4e0b\uff0c\u8fd9\u5c06\u4e3a\u7f51\u7edc\u5f00\u53d1\u4eba\u5458\u8282\u7701\u591a\u5c11\u65f6\u95f4\uff0c\u56e0\u4e3a\u4ed6\u4eec\u65e0\u9700\u4e3a\u9488\u5bf9 IE \u7684\u4e8c\u6b21\u4fee\u6539\u548c\u89e3\u51b3\u65b9\u6848\u8fdb\u884c\u7f16\u7801\u3002","isLeaf":true},{"key":"/system/english/02-consume.md","path":"/system/english/02-consume.md","route":"/system/english/02-consume.md","leaf":true,"title":"02-consume","depth":2,"content":"---\\ntags: english\\n---\\n\\n```\\nthese machines consume 5 percent of the natural gas in the U.S\\n```\\n\u8fd9\u4e9b\u673a\u5668\u6d88\u8017\u4e86\u7f8e\u56fd 5% \u7684\u5929\u7136\u6c14\\n\\n```\\npeople consume a good deal of sugar in drinks\\n```\\n\u4eba\u4eec\u5728\u996e\u6599\u4e2d\u6444\u5165\u5927\u91cf\u7cd6\u5206\\n\\n```\\nThis plugin can consume local files, node modules or web_modules.\\n```\\n\u6b64\u63d2\u4ef6\u53ef\u4ee5\u4f7f\u7528\u672c\u5730\u6587\u4ef6\u3001\u8282\u70b9\u6a21\u5757\u6216 web_modules\u3002","isLeaf":true},{"key":"/system/english/03-forgry.md","path":"/system/english/03-forgry.md","route":"/system/english/03-forgry.md","leaf":true,"title":"03-forgry","depth":2,"content":"---\\ntags: english\\n---\\n\\n```\\nthe action of forging or producing a copy of a document, signature, banknote, or work of art.\\n```\\n\u4f2a\u9020\u6216\u5236\u4f5c\u6587\u4ef6\u3001\u7b7e\u540d\u3001\u949e\u7968\u6216\u827a\u672f\u54c1\u7684\u526f\u672c\u7684\u884c\u4e3a\u3002\\n\\n```\\nhe was found guilty of forgery\\n```\\n\u4ed6\u88ab\u5224\u72af\u6709\u4f2a\u9020\u7f6a","isLeaf":true},{"key":"/system/english/04-appendix.md","path":"/system/english/04-appendix.md","route":"/system/english/04-appendix.md","leaf":true,"title":"04-appendix","depth":2,"content":"---\\ntags: english\\n---\\n\\n```\\na list of such activities was published as an appendix to the report\\n```\\n\u6b64\u7c7b\u6d3b\u52a8\u7684\u6e05\u5355\u5df2\u4f5c\u4e3a\u62a5\u544a\u7684\u9644\u5f55\u516c\u5e03","isLeaf":true}]},{"key":"/system/linux","path":"/system/linux","route":"/system/linux","leaf":false,"title":"linux","depth":1,"content":"","isLeaf":false,"children":[{"key":"/system/linux/01-dig.md","path":"/system/linux/01-dig.md","route":"/system/linux/01-dig.md","leaf":true,"title":"01-dig","depth":2,"content":"---\\ntags: linux\\n---\\n\\n## 1\u3001dig \u4ecb\u7ecd\\n\\ndig \u662f\u4e00\u79cd\u7528\u4e8e\u67e5\u8be2\u57df\u540d\u7cfb\u7edf\uff08DNS\uff09\u670d\u52a1\u5668\u7684\u547d\u4ee4\u884c\u5de5\u5177\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cdig \u786e\u5b9e\u4f7f\u7528\u672c\u5730\u4e3b\u673a\u7684 DNS \u89e3\u6790\u5668\u6765\u6267\u884c\u67e5\u8be2\u3002\u4f46\u662f\uff0c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0cdig \u53ef\u80fd\u4f1a\u7ed5\u8fc7\u672c\u5730\u4e3b\u673a\u7684 DNS \u89e3\u6790\u5668\uff0c\u4f8b\u5982\uff1a\\n\\n1. \u6307\u5b9a\u4e86\u5176\u4ed6 DNS \u670d\u52a1\u5668\uff1a\u5982\u679c\u60a8\u5728\u4f7f\u7528 dig \u65f6\u663e\u5f0f\u6307\u5b9a\u4e86\u5176\u4ed6 DNS \u670d\u52a1\u5668\uff0c\u5219 dig \u4f1a\u76f4\u63a5\u4e0e\u8be5 DNS \u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\u800c\u4e0d\u4f1a\u4f7f\u7528\u672c\u5730\u4e3b\u673a\u7684 DNS \u89e3\u6790\u5668\u3002\\n\\n2. \u4e3b\u673a\u914d\u7f6e\u9519\u8bef\uff1a\u5982\u679c\u60a8\u7684\u4e3b\u673a\u7684 DNS \u914d\u7f6e\u4e0d\u6b63\u786e\uff0c\u5219 dig \u53ef\u80fd\u65e0\u6cd5\u6b63\u786e\u89e3\u6790\u57df\u540d\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e3b\u673a\u7684 DNS \u914d\u7f6e\u672a\u6b63\u786e\u8bbe\u7f6e\uff0c\u6216\u8005\u60a8\u7684 DNS \u670d\u52a1\u5668\u505c\u6b62\u5de5\u4f5c\uff0c\u5219 dig \u5c06\u65e0\u6cd5\u4f7f\u7528\u672c\u5730\u4e3b\u673a\u7684 DNS \u89e3\u6790\u5668\u5e76\u8fd4\u56de\u9519\u8bef\u3002\\n\\n3. \u7f13\u5b58\u95ee\u9898\uff1a\u5982\u679c dig \u5728\u5176\u7f13\u5b58\u4e2d\u5177\u6709\u4e0e\u60a8\u67e5\u8be2\u7684\u57df\u540d\u76f8\u540c\u7684\u4fe1\u606f\uff0c\u5219\u5b83\u5c06\u8fd4\u56de\u5176\u7f13\u5b58\u4e2d\u7684\u6570\u636e\u800c\u4e0d\u4f1a\u4f7f\u7528\u672c\u5730\u4e3b\u673a\u7684 DNS \u89e3\u6790\u5668\u3002\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4 dig \u7ed5\u8fc7\u672c\u5730\u4e3b\u673a\u7684 DNS \u89e3\u6790\u5668\u800c\u8fd4\u56de\u610f\u5916\u7684\u7ed3\u679c\u3002\\n\\n## 2\u3001dig \u8f93\u51fa\u89e3\u91ca\\n\\n\u5728\u4f7f\u7528 dig \u547d\u4ee4\u65f6\uff0c\u60a8\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u5404\u79cd\u8f93\u51fa\u3002\u4e0b\u9762\u662f\u5e38\u89c1\u7684 dig \u8f93\u51fa\u53ca\u5176\u542b\u4e49\uff1a\\n\\n1. \u67e5\u8be2\u7ed3\u679c\u4fe1\u606f\\n\\n   - ;; QUESTION SECTION: \u63d0\u95ee\u533a\u57df - \u663e\u793a\u60a8\u8981\u67e5\u8be2\u7684\u57df\u540d\u3002\\n   - ;; ANSWER SECTION: \u56de\u7b54\u533a\u57df - \u663e\u793a\u6765\u81ea DNS \u670d\u52a1\u5668\u7684\u56de\u7b54\uff0c\u5305\u62ec IP \u5730\u5740\u548c\u5176\u4ed6\u8d44\u6e90\u8bb0\u5f55\u3002\\n   - ;; AUTHORITY SECTION: \u6743\u5a01\u533a\u57df - \u663e\u793a\u6765\u81ea\u6388\u6743 DNS \u670d\u52a1\u5668\u7684\u4fe1\u606f\uff0c\u7528\u4e8e\u8be5\u57df\u7684\u540d\u79f0\u670d\u52a1\u5668\u3002\\n   - ;; ADDITIONAL SECTION: \u9644\u52a0\u533a\u57df - \u663e\u793a\u5176\u4ed6\u4fe1\u606f\uff0c\u4f8b\u5982 DNS \u670d\u52a1\u5668\u7684 IPv6 \u5730\u5740\u7b49\u3002\\n\\n2. \u57df\u540d\u670d\u52a1\u5668\u4fe1\u606f\\n\\n   - ;; SERVER: \u670d\u52a1\u5668\u5730\u5740 - \u663e\u793a DNS \u670d\u52a1\u5668\u7684 IP \u5730\u5740\u6216\u540d\u79f0\u3002\\n   - ;; WHEN: \u65f6\u95f4\u6233 - \u663e\u793a\u67e5\u8be2\u65f6\u95f4\u6233\u3002\\n\\n3. \u67e5\u8be2\u72b6\u6001\u4fe1\u606f\\n   - ;; Query time: \u65f6\u95f4 - \u663e\u793a\u67e5\u8be2\u65f6\u95f4\uff0c\u901a\u5e38\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u3002\\n   - ;; MSG SIZE rcvd: \u5927\u5c0f - \u663e\u793a\u63a5\u6536\u5230\u7684\u6d88\u606f\u5927\u5c0f\uff0c\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u3002\\n\\n\u5176\u4ed6\u53ef\u80fd\u7684\u8f93\u51fa\u5305\u62ec\u8b66\u544a\u548c\u9519\u8bef\u4fe1\u606f\uff0c\u5982\u683c\u5f0f\u9519\u8bef\u7b49\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 dig \u7684\u4e0d\u540c\u9009\u9879\u6765\u63a7\u5236\u548c\u66f4\u6539\u8f93\u51fa\u5185\u5bb9\u7684\u8be6\u7ec6\u7a0b\u5ea6\u3002\\n\\n## 3\u3001\u4f7f\u7528 dig \u663e\u793a dns \u5bfb\u5740\u8fc7\u7a0b\\n\\nhttps://www.cnblogs.com/chanshuyi/p/dns_dig_command.html\\n\\n## 4\u3001dig \u7ed3\u679c \u548c /etc/hosts \u6709\u5173\u5417\\n\\n\u662f\u7684\uff0cdig\u547d\u4ee4\u7684\u7ed3\u679c\u53ef\u4ee5\u4e0e/etc/hosts\u6587\u4ef6\u6709\u5173\u3002/etc/hosts\u6587\u4ef6\u662fLinux\u7cfb\u7edf\u4e2d\u7684\u672c\u5730\u4e3b\u673a\u540d\u89e3\u6790\u5668\uff0c\u5b83\u5305\u542bIP\u5730\u5740\u4e0e\u4e3b\u673a\u540d\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u53ef\u4ee5\u7528\u4e8e\u7ed5\u8fc7DNS\u670d\u52a1\u5668\u76f4\u63a5\u89e3\u6790\u4e3b\u673a\u540d\u3002\\n\u5f53\u60a8\u4f7f\u7528dig\u547d\u4ee4\u67e5\u8be2\u57df\u540d\u65f6\uff0cdig\u67e5\u8be2\u5148\u67e5\u770b\u672c\u5730hosts\u6587\u4ef6\u662f\u5426\u5df2\u7ecf\u5b58\u5728\u8be5\u57df\u540d\u7684\u89e3\u6790\u4fe1\u606f\u3002\u5982\u679chosts\u6587\u4ef6\u4e2d\u5305\u542b\u4e86\u8be5\u57df\u540d\u7684IP\u5730\u5740\u5bf9\u5e94\u5173\u7cfb\uff0c\u5219dig\u4f18\u5148\u4f7f\u7528\u8be5\u4fe1\u606f\u5b8c\u6210\u67e5\u8be2\uff0c\u800c\u4e0d\u4f1a\u7ee7\u7eed\u5411DNS\u670d\u52a1\u5668\u53d1\u9001\u67e5\u8be2\u8bf7\u6c42\u3002\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u7684/etc/hosts\u6587\u4ef6\u4e2d\u5b58\u5728\u4e0e\u8981\u67e5\u8be2\u7684\u57df\u540d\u6709\u5173\u7684\u6761\u76ee\uff0c\u5219dig\u8f93\u51fa\u7ed3\u679c\u4e2d\u7684IP\u5730\u5740\u53ef\u80fd\u4f1a\u4e0e\u60a8\u5728\u8be5\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u5730\u5740\u76f8\u5339\u914d\u3002\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u60a8\u5728\u67e5\u8be2\u65f6\u6307\u5b9a\u4e86\u4f7f\u7528\u67d0\u4e2aDNS\u670d\u52a1\u5668\u8fdb\u884c\u67e5\u8be2\uff0c\u5219dig\u4e0d\u4f1a\u4f7f\u7528\u672c\u5730\u4e3b\u673a\u540d\u89e3\u6790\u5668\u67e5\u627e/etc/hosts\u6587\u4ef6\u4e2d\u7684\u4e3b\u673a\u540d\u548cIP\u5730\u5740\u6620\u5c04\u5173\u7cfb\uff0c\u800c\u662f\u76f4\u63a5\u67e5\u8be2\u6307\u5b9a\u7684DNS\u670d\u52a1\u5668\u3002\\n","isLeaf":true},{"key":"/system/linux/02-nc.md","path":"/system/linux/02-nc.md","route":"/system/linux/02-nc.md","leaf":true,"title":"02-nc","depth":2,"content":"---\\ntags: linux\\n---\\n\\nLinux \u7cfb\u7edf\u4e0a\u6709\u5f88\u591a\u5de5\u5177\u53ef\u4ee5\u7528\u6765\u53d1\u9001 TCP \u5305\uff0c\u5176\u4e2d\u6700\u5e38\u7528\u7684\u662f `netcat`\uff08\u4e5f\u79f0\u4f5c nc\uff09\u3002`netcat` \u662f\u4e00\u4e2a\u7ec8\u7aef\u5de5\u5177\uff0c\u5b83\u5141\u8bb8\u4f60\u4f7f\u7528\u7f51\u7edc\u8fde\u63a5\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u3002\\n\\n\u8981\u53d1\u9001 TCP \u5305\uff0c\u53ef\u4ee5\u4f7f\u7528 nc \u547d\u4ee4\uff0c\u4f8b\u5982\uff1a\\n\\n```shell\\nnc -vz example.com 80\\n```\\n\\n\u9664\u4e86 netcat \u4e4b\u5916\uff0c\u8fd8\u6709\u8bb8\u591a\u5176\u4ed6\u5de5\u5177\u53ef\u4ee5\u7528\u6765\u53d1\u9001 TCP \u5305\uff0c\u4f8b\u5982\uff1a\\n\\n- telnet\uff1a\u4e00\u4e2a\u7ec8\u7aef\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u6765\u8fde\u63a5\u8fdc\u7a0b\u4e3b\u673a\u3002\\n- hping3\uff1a\u4e00\u4e2a\u7f51\u7edc\u6d4b\u8bd5\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u6765\u53d1\u9001\u5404\u79cd\u7c7b\u578b\u7684\u7f51\u7edc\u6570\u636e\u5305\u3002\\n\\n\u8fd8\u6709\u8bb8\u591a\u5176\u4ed6\u5de5\u5177\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u6765\u9009\u62e9\u4f7f\u7528\u3002","isLeaf":true}]},{"key":"/system/macos","path":"/system/macos","route":"/system/macos","leaf":false,"title":"macos","depth":1,"content":"","isLeaf":false,"children":[]},{"key":"/system/reentrant.md","path":"/system/reentrant.md","route":"/system/reentrant.md","leaf":true,"title":"reentrant","depth":1,"content":"---\\ntitle: \u51fd\u6570\u53ef\u91cd\u5165\u6027\\ntags: system\\n---\\n\\nhttps://zh.wikipedia.org/wiki/%E5%8F%AF%E9%87%8D%E5%85%A5\\n\\n> \u82e5\u4e00\u4e2a\u7a0b\u5e8f\u6216\u5b50\u7a0b\u5e8f\u53ef\u4ee5\u201c\u5728\u4efb\u610f\u65f6\u523b\u88ab\u4e2d\u65ad\u7136\u540e\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u6267\u884c\u53e6\u4e00\u6bb5\u4ee3\u7801\uff0c\u8fd9\u6bb5\u4ee3\u7801\u53c8\u4f7f\u7528\u4e86\u8be5\u526f\u7a0b\u5e8f\u4e0d\u4f1a\u51fa\u9519\u201d\uff0c\u5219\u79f0\u5176\u4e3a\u53ef\u91cd\u5165\uff08reentrant \u6216 re-entrant\uff09\u7684\u3002\u5373\u5f53\u8be5\u526f\u7a0b\u5e8f\u6b63\u5728\u8fd0\u4f5c\u65f6\uff0c\u6267\u884c\u7ebf\u7a0b\u53ef\u4ee5\u518d\u6b21\u8fdb\u5165\u5e76\u6267\u884c\u5b83\uff0c\u4ecd\u7136\u53ef\u5f97\u5230\u7b26\u5408\u8bbe\u8ba1\u65f6\u6240\u9884\u671f\u7684\u7ed3\u679c\u3002\u4e0e\u591a\u7ebf\u7a0b\u5e76\u53d1\u6267\u884c\u7684\u7ebf\u7a0b\u5b89\u5168\u4e0d\u540c\uff0c\u53ef\u91cd\u5165\u5f3a\u8c03\u5bf9\u5355\u4e00\u7ebf\u7a0b\u6267\u884c\u65f6\u91cd\u65b0\u8fdb\u5165\u540c\u4e00\u4e2a\u5b50\u7a0b\u5e8f\u4ecd\u7136\u662f\u5b89\u5168\u7684\u3002\\n\\n\u5728\u5b9e\u65f6\u7cfb\u7edf\u7684\u8bbe\u8ba1\u4e2d\uff0c\u7ecf\u5e38\u4f1a\u51fa\u73b0\u591a\u4e2a\u4efb\u52a1\u8c03\u7528\u540c\u4e00\u4e2a\u51fd\u6570\u7684\u60c5\u51b5\u3002\u5982\u679c\u6709\u4e00\u4e2a\u51fd\u6570\u4e0d\u5e78\u88ab\u8bbe\u8ba1\u6210\u4e3a\u8fd9\u6837\uff1a\u90a3\u4e48\u4e0d\u540c\u4efb\u52a1\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u65f6\u53ef\u80fd\u4fee\u6539\u5176\u4ed6\u4efb\u52a1\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u7684\u6570\u636e\uff0c\u4ece\u800c\u5bfc\u81f4\u4e0d\u53ef\u9884\u6599\u7684\u540e\u679c\u3002\u8fd9\u6837\u7684\u51fd\u6570\u662f\u4e0d\u5b89\u5168\u7684\u51fd\u6570\uff0c\u4e5f\u53eb\u4e0d\u53ef\u91cd\u5165\u51fd\u6570\u3002\\n\\n\u76f8\u53cd\uff0c\u80af\u5b9a\u6709\u4e00\u4e2a\u5b89\u5168\u7684\u51fd\u6570\uff0c\u8fd9\u4e2a\u5b89\u5168\u7684\u51fd\u6570\u53c8\u53eb\u53ef\u91cd\u5165\u51fd\u6570\u3002\u90a3\u4e48\u4ec0\u4e48\u662f\u53ef\u91cd\u5165\u51fd\u6570\u5462\uff1f\u6240\u8c13\u53ef\u91cd\u5165\u662f\u6307\u4e00\u4e2a\u53ef\u4ee5\u88ab\u591a\u4e2a\u4efb\u52a1\u8c03\u7528\u7684\u8fc7\u7a0b\uff0c\u4efb\u52a1\u5728\u8c03\u7528\u65f6\u4e0d\u5fc5\u62c5\u5fc3\u6570\u636e\u662f\u5426\u4f1a\u51fa\u9519\u3002\\n\\n\u4e00\u4e2a\u53ef\u91cd\u5165\u7684\u51fd\u6570\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u53ef\u4ee5\u88ab\u4e2d\u65ad\u7684\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ef\u4ee5\u5728\u8fd9\u4e2a\u51fd\u6570\u6267\u884c\u7684\u4efb\u4f55\u65f6\u523b\u4e2d\u65ad\u5b83\uff0c\u8f6c\u5165OS\u8c03\u5ea6\u4e0b\u53bb\u6267\u884c\u53e6\u5916\u4e00\u6bb5\u4ee3\u7801\uff0c\u800c\u8fd4\u56de\u63a7\u5236\u65f6\u4e0d\u4f1a\u51fa\u73b0\u4ec0\u4e48\u9519\u8bef\uff1b\u800c\u4e0d\u53ef\u91cd\u5165\u7684\u51fd\u6570\u7531\u4e8e\u4f7f\u7528\u4e86\u4e00\u4e9b\u7cfb\u7edf\u8d44\u6e90\uff0c\u6bd4\u5982\u5168\u5c40\u53d8\u91cf\u533a\uff0c\u4e2d\u65ad\u5411\u91cf\u8868\u7b49\uff0c\u6240\u4ee5\u5b83\u5982\u679c\u88ab\u4e2d\u65ad\u7684\u8bdd\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u95ee\u9898\uff0c\u8fd9\u7c7b\u51fd\u6570\u662f\u4e0d\u80fd\u8fd0\u884c\u5728\u591a\u4efb\u52a1\u73af\u5883\u4e0b\u7684\u3002\\n\\n\u4e5f\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff0c\u91cd\u5165\u5373\u8868\u793a\u91cd\u590d\u8fdb\u5165\uff0c\u9996\u5148\u5b83\u610f\u5473\u7740\u8fd9\u4e2a\u51fd\u6570\u53ef\u4ee5\u88ab\u4e2d\u65ad\uff0c\u5176\u6b21\u610f\u5473\u7740\u5b83\u9664\u4e86\u4f7f\u7528\u81ea\u5df1\u6808\u4e0a\u7684\u53d8\u91cf\u4ee5\u5916\u4e0d\u4f9d\u8d56\u4e8e\u4efb\u4f55\u73af\u5883\uff08\u5305\u62ec static\uff09\uff0c\u8fd9\u6837\u7684\u51fd\u6570\u5c31\u662fpurecode\uff08\u7eaf\u4ee3\u7801\uff09\u53ef\u91cd\u5165\uff0c\u53ef\u4ee5\u5141\u8bb8\u6709\u8be5\u51fd\u6570\u7684\u591a\u4e2a\u526f\u672c\u5728\u8fd0\u884c\uff0c\u7531\u4e8e\u5b83\u4eec\u4f7f\u7528\u7684\u662f\u5206\u79bb\u7684\u6808\uff0c\u6240\u4ee5\u4e0d\u4f1a\u4e92\u76f8\u5e72\u6270\u3002\u5982\u679c\u786e\u5b9e\u9700\u8981\u8bbf\u95ee\u5168\u5c40\u53d8\u91cf\uff08\u5305\u62ec static\uff09\uff0c\u4e00\u5b9a\u8981\u6ce8\u610f\u5b9e\u65bd\u4e92\u65a5\u624b\u6bb5\u3002\u53ef\u91cd\u5165\u51fd\u6570\u5728\u5e76\u884c\u8fd0\u884c\u73af\u5883\u4e2d\u975e\u5e38\u91cd\u8981\uff0c\u4f46\u662f\u4e00\u822c\u8981\u4e3a\u8bbf\u95ee\u5168\u5c40\u53d8\u91cf\u4ed8\u51fa\u4e00\u4e9b\u6027\u80fd\u4ee3\u4ef7\\n\\n![20230619104326](http://s3.airtlab.com/blog/20230619104326.png)\\n\\n![20230619104512](http://s3.airtlab.com/blog/20230619104512.png)","isLeaf":true},{"key":"/system/time-formats.md","path":"/system/time-formats.md","route":"/system/time-formats.md","leaf":true,"title":"time-formats","depth":1,"content":"\u8fd9\u4e24\u4e2a\u65f6\u95f4\u6807\u8bb0\u7684\u533a\u522b\u5728\u4e8e\u5b83\u4eec\u7684\u8868\u793a\u65b9\u5f0f\u548c\u65f6\u533a\u4fe1\u606f\u3002\\n\\n`2023-05-29 16:00:00.000Z` \u662f\u4e00\u4e2aISO 8601\u683c\u5f0f\u7684\u65f6\u95f4\u6233\uff0c\u8868\u793a\u4e3a `UTC +0` \u65f6\u95f4\uff0c\u5e76\u4e14\u6ca1\u6709\u6307\u5b9a\u4efb\u4f55\u65f6\u533a\u4fe1\u606f\u3002\u8fd9\u4e2a\u65f6\u95f4\u6807\u8bb0\u662f\u57fa\u4e8e\u56fd\u9645\u6807\u51c6\u7684\u534f\u8c03\u4e16\u754c\u65f6 `UTC`\uff0c\u4e5f\u88ab\u79f0\u4e3a `GMT\uff08\u683c\u6797\u5a01\u6cbb\u65f6\u95f4\uff09`\u3002\u8fd9\u610f\u5473\u7740\u65e0\u8bba\u54ea\u4e2a\u65f6\u533a\uff0c\u8fd9\u4e2a\u65f6\u95f4\u90fd\u662f\u76f8\u540c\u7684\uff0c\u56e0\u4e3a\u5b83\u6ca1\u6709\u53d7\u5230\u4efb\u4f55\u5730\u7406\u4f4d\u7f6e\u7684\u5f71\u54cd\u3002\\n\\n`2023-05-29T16:00:00:00+08:00` \u4e5f\u662f\u4e00\u4e2aISO 8601\u683c\u5f0f\u7684\u65f6\u95f4\u6233\uff0c\u4f46\u5b83\u5305\u542b\u4e86\u65f6\u533a\u4fe1\u606f\u3002\u8fd9\u4e2a\u65f6\u95f4\u6807\u8bb0\u4e2d\u7684\u201c+08:00\u201d\u8868\u793a\u8fd9\u4e2a\u65f6\u95f4\u662f\u57fa\u4e8e `UTC +8` \u7684\u65f6\u533a\uff0c\u4e5f\u88ab\u79f0\u4e3a\u4e2d\u56fd\u6807\u51c6\u65f6\u95f4 `CST`\u3002\u56e0\u6b64\uff0c\u5728\u5317\u4eac\u7b49\u5904\uff0c\u8fd9\u4e2a\u65f6\u95f4\u6233\u5c31\u662f2023\u5e745\u670829\u65e5\u4e0b\u53484\u70b9\u3002\\n\\n\u603b\u4e4b\uff0c\u4e24\u4e2a\u65f6\u95f4\u6233\u90fd\u4ee3\u8868\u540c\u4e00\u65f6\u95f4\u70b9\uff0c\u53ea\u662f\u8868\u793a\u65b9\u5f0f\u548c\u65f6\u533a\u4fe1\u606f\u4e0d\u540c\u3002","isLeaf":true},{"key":"/system/website-performance","path":"/system/website-performance","route":"/system/website-performance","leaf":false,"title":"website-performance","depth":1,"content":"","isLeaf":false,"children":[{"key":"/system/website-performance/01-website-performance-test.md","path":"/system/website-performance/01-website-performance-test.md","route":"/system/website-performance/01-website-performance-test.md","leaf":true,"title":"01-website-performance-test","depth":2,"content":"\u4e00\u4e2a\u7f51\u7ad9\u9664\u4e86\u6ee1\u8db3\u4e1a\u52a1\u529f\u80fd\uff0c\u8fd8\u8981\u6ee1\u8db3\u6027\u80fd\u9700\u6c42\uff0c\u5982\u679c\u6027\u80fd\u4e0d\u597d\uff0c\u968f\u7740\u7528\u6237\u7684\u589e\u957f\u5c06\u51fa\u73b0\u6027\u80fd\u74f6\u9888\uff0c\u5bf9\u7528\u6237\u6700\u76f4\u63a5\u7684\u611f\u5b98\u5f71\u54cd\u5c31\u662f\u54cd\u5e94\u53d8\u6162\uff0c\u4e00\u822c2\u79d2\u4ee5\u5185\u7b97\u662f\u6bd4\u8f83\u597d\u7684\u4f53\u9a8c\uff0c\u8d85\u8fc75\u79d2\u4f53\u9a8c\u5c31\u6bd4\u8f83\u5dee\u4e86\uff0c\u6781\u7aef\u60c5\u51b5\u4e0b\u7528\u6237\u5e76\u53d1\u9ad8\u7684\u60c5\u51b5\u4e0b\uff0c\u7f51\u7ad9\u76f4\u63a5\u62d2\u7edd\u670d\u52a1\uff0c\u4e25\u91cd\u5f71\u54cd\u4e1a\u52a1\u8fd0\u8425\u3002\u5728\u7406\u8bba\u4e0a\u6211\u4eec\u5982\u4f55\u5224\u5b9a\u4e00\u4e2aWeb\u5e94\u7528\u7684\u6027\u80fd\u7a0b\u5e8f\u5462\uff1f\u5176\u5b9e\u5df2\u7ecf\u6709\u4e00\u5957\u6bd4\u8f83\u5b8c\u6574\u7684\u8bc4\u4ef7\u4f53\u7cfb\u4e86\u3002\\n\\n## 1. \u7f51\u7ad9\u6027\u80fd\u6307\u6807\\n \u5bf9\u4e8e\u7f51\u7ad9\u7684\u6027\u80fd\u6307\u6807\uff0c\u91cd\u8981\u7684\u662f \u54cd\u5e94\u65f6\u95f4\u3001\u541e\u5410\u91cf\u3001\u5e76\u53d1\u6570\u3002\\n\\n- \u54cd\u5e94\u65f6\u95f4\u662f\u4e00\u6b21\u8bf7\u6c42\u4ece\u53d1\u9001\u8bf7\u6c42\u5230\u6536\u5230\u54cd\u5e94\u7684\u603b\u65f6\u95f4\uff0c\u76f4\u89c2\u7684\u53cd\u6620\u7cfb\u7edf\u7684\u5feb\u6162\u3002\\n- \u541e\u5410\u91cf\u662f\u5355\u4f4d\u65f6\u95f4\u5904\u7406\u7684\u8bf7\u6c42\u6570\uff0c\u901a\u5e38\u7528TPS\u6765\u8868\u793a\uff0c\u662f\u7cfb\u7edf\u5bb9\u91cf\u7684\u76f4\u89c2\u4f53\u73b0\u3002\\n- \u5e76\u53d1\u6570\u662f\u7cfb\u7edf\u540c\u65f6\u80fd\u5904\u7406\u7684\u8bf7\u6c42\u6570\uff0c\u5bf9\u4e8e\u540c\u65f6\u5728\u7ebf\u7528\u6237\u6570\u9ad8\u7684\uff0c\u77ed\u65f6\u95f4\u6709\u5927\u91cf\u7528\u6237\u4f7f\u7528\u7684\uff0c\u8b6c\u5982\u62a2\u8d2d\u7c7b\u7f51\u7ad9\u8981\u6c42\u9ad8\uff0c\u5982\u679c\u8981\u8ba9\u7528\u6237\u5728\u77ed\u65f6\u95f4\u5185\u90fd\u80fd\u8bbf\u95ee\u5230\u7cfb\u7edf\uff0c\u9700\u8981\u6709\u6781\u9ad8\u7684\u5e76\u53d1\u80fd\u529b\u652f\u6301\u3002\\n\\n\u53ef\u4ee5\u7528\u9ad8\u901f\u516c\u8def\u6536\u8d39\u7ad9\u6765\u7c7b\u6bd4\uff0c\u54cd\u5e94\u65f6\u95f4\u5c31\u662f\u6536\u8d39\u7a97\u53e3\u5904\u7406**\u6536\u8d39\u4e8b\u4ef6\u7684\u65f6\u95f4\uff0c**\u541e\u5410\u91cf\u662f**\u5355\u4f4d\u65f6\u95f4\u6536\u8d39\u7a97\u53e3\u603b\u5171\u6536\u4e86\u591a\u5c11\u8f86\u8f66**\uff0c\u5e76\u53d1\u91cf\u5c31\u662f\u603b\u5171**\u6709\u591a\u5c11\u4e2a\u6536\u8d39\u901a\u9053**\u3002\\n\\n\u8fd9\u51e0\u4e2a\u6307\u6807\u4e4b\u95f4\u7684\u5173\u7cfb\u662f\u4ec0\u4e48\u5462\uff1f\\n> \u5047\u5982\u8be5\u6536\u8d39\u7ad9\u6536\u4e00\u7b14\u8d39\u7528\u8017\u65f630\u79d2\uff08RT=30s\uff09\uff0c\u5171\u67095\u4e2a\u7a97\u53e3(p=5)\uff0c\u90a3\u4e48\u6b63\u5e38\u60c5\u51b5\u4e0b1\u5206\u949f\u8be5\u6536\u8d39\u7ad9\u80fd\u5904\u740610\u4e2a\u6536\u8d39\u8bf7\u6c42\u3010v= (P/RT)*60s=10\u3011\uff0c\u5373\u541e\u5410\u91cf\u662f10\u6b21/\u5206\u949f\u3002\\n> \u5982\u679c\u524d\u7aef\u6bcf\u969430\u79d2\u67095\u8f86\u8f66\uff08\u5373\u6bcf\u5206\u949f\u670910\u8f86\u8f66\uff09\u8fdb\u5165\u9ad8\u901f\u516c\u8def\uff0c\u8be5\u6536\u8d39\u7ad9\u5c06\u6ee1\u8d1f\u8377\u8fd0\u884c\uff0c\u6536\u8d39\u4eba\u5458\u99ac\u4e0d\u505c\u8e44\uff0c\u8f66\u8f86\u6ca1\u6709\u79ef\u538b\u3002\u5982\u679c\u6bcf\u5206\u949f\u670920\u8f86\u8f66\u8fdb\u5165\u9ad8\u901f\u516c\u8def\uff0c\u90a3\u4e48\u7b2c\u4e00\u5206\u949f\u8fdb\u5165\u6536\u8d39\u7ad9\u768420\u8f86\u8f66\u5c06\u670910\u8f86\u8f66\u79ef\u538b\u7b49\u5f8530\u79d2\uff0c\u7b2c\u4e8c\u5206\u949f\u8fdb\u5165\u768420\u8f86\u8f66\u5c06\u6700\u591a\u7b49\u5f8590\u79d2\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u79ef\u538b\u5c06\u8d8a\u6765\u8d8a\u591a\uff0c\u9ad8\u901f\u516c\u8def\u4e0a\u5c06\u6162\u6162\u6392\u961f\u6210\u957f\u9f99\uff0c\u8f66\u8f86\u901a\u8fc7\u6536\u8d39\u7ad9\u7684\u65f6\u957f\u5c06\u8d8a\u6765\u8d8a\u957f\uff0c\u5bf9\u5e94\u7684\u662f\u7f51\u7ad9\u6536\u5230\u54cd\u5e94\u65f6\u95f4\u8d8a\u6765\u8d8a\u957f\uff0c\u76f4\u5230\u8d85\u65f6\u4e0d\u53ef\u7528\u3002\\n\\n\u901a\u8fc7apache bench \u5de5\u5177ab\u6d4b\u8bd5\u7f51\u7ad9\u6027\u80fd\u6307\u6807\u53ef\u4ee5\u770b\u51fa\uff0c\u5e76\u53d1\u8d8a\u5927\u54cd\u5e94\u65f6\u95f4\u8d8a\u957f\u3002\u4ece\u66f2\u7ebf\u770b\u5e76\u53d1\u523070\u4e2a\u54cd\u5e94\u65f6\u95f4\u5c31\u5f00\u59cb\u6076\u5316\uff0c\u6700\u5927\u652f\u6301\u7684\u5e76\u53d1\u5c31\u662f70\u6761\u6bcf\u79d2\uff0c\u6b63\u5e38\u54cd\u5e94\u65f6\u95f4\u662f5.87\u6beb\u79d2\uff0c\u541e\u5410\u91cfTPS\u662f170\u3002\u6b64\u65f6\u7684CPU\u5229\u7528\u7387\uff0c\u94fe\u63a5\u6570\u76f8\u5bf9\u5e73\u7a33\uff0c\u672a\u8fbe\u5230\u8d44\u6e90\u7684\u74f6\u9888\u3002\\n\\n## 2. \u54cd\u5e94\u65f6\u95f4(RT)\xa0\\n\u54cd\u5e94\u65f6\u95f4\u662f\u6307\u7cfb\u7edf\u5bf9\u8bf7\u6c42\u4f5c\u51fa\u54cd\u5e94\u7684\u65f6\u95f4\u3002\u76f4\u89c2\u4e0a\u770b\uff0c\u8fd9\u4e2a\u6307\u6807\u4e0e\u4eba\u5bf9\u8f6f\u4ef6\u6027\u80fd\u7684\u4e3b\u89c2\u611f\u53d7\u662f\u975e\u5e38\u4e00\u81f4\u7684\uff0c\u56e0\u4e3a\u5b83\u5b8c\u6574\u5730\u8bb0\u5f55\u4e86\u6574\u4e2a\u8ba1\u7b97\u673a\u7cfb\u7edf\u5904\u7406\u8bf7\u6c42\u7684\u65f6\u95f4\u3002\u7531\u4e8e\u4e00\u4e2a\u7cfb\u7edf\u901a\u5e38\u4f1a\u63d0\u4f9b\u8bb8\u591a\u529f\u80fd\uff0c\u800c\u4e0d\u540c\u529f\u80fd\u7684\u5904\u7406\u903b\u8f91\u4e5f\u5343\u5dee\u4e07\u522b\uff0c\u56e0\u800c\u4e0d\u540c\u529f\u80fd\u7684\u54cd\u5e94\u65f6\u95f4\u4e5f\u4e0d\u5c3d\u76f8\u540c\uff0c\u751a\u81f3\u540c\u4e00\u529f\u80fd\u5728\u4e0d\u540c\u8f93\u5165\u6570\u636e\u7684\u60c5\u51b5\u4e0b\u54cd\u5e94\u65f6\u95f4\u4e5f\u4e0d\u76f8\u540c\u3002\u6240\u4ee5\uff0c\u5728\u8ba8\u8bba\u4e00\u4e2a\u7cfb\u7edf\u7684\u54cd\u5e94\u65f6\u95f4\u65f6\uff0c\u4eba\u4eec\u901a\u5e38\u662f\u6307\u8be5\u7cfb\u7edf\u6240\u6709\u529f\u80fd\u7684\u5e73\u5747\u65f6\u95f4\u6216\u8005\u6240\u6709\u529f\u80fd\u7684\u6700\u5927\u54cd\u5e94\u65f6\u95f4\u3002\u5f53\u7136\uff0c\u5f80\u5f80\u4e5f\u9700\u8981\u5bf9\u6bcf\u4e2a\u6216\u6bcf\u7ec4\u529f\u80fd\u8ba8\u8bba\u5176\u5e73\u5747\u54cd\u5e94\u65f6\u95f4\u548c\u6700\u5927\u54cd\u5e94\u65f6\u95f4\u3002\xa0\\n\u3000\\n\u5bf9\u4e8e\u5355\u673a\u7684\u6ca1\u6709\u5e76\u53d1\u64cd\u4f5c\u7684\u5e94\u7528\u7cfb\u7edf\u800c\u8a00\uff0c\u4eba\u4eec\u666e\u904d\u8ba4\u4e3a\u54cd\u5e94\u65f6\u95f4\u662f\u4e00\u4e2a\u5408\u7406\u4e14\u51c6\u786e\u7684\u6027\u80fd\u6307\u6807\u3002\u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u54cd\u5e94\u65f6\u95f4\u7684\u7edd\u5bf9\u503c\u5e76\u4e0d\u80fd\u76f4\u63a5\u53cd\u6620\u8f6f\u4ef6\u7684\u6027\u80fd\u7684\u9ad8\u4f4e\uff0c\u8f6f\u4ef6\u6027\u80fd\u7684\u9ad8\u4f4e\u5b9e\u9645\u4e0a\u53d6\u51b3\u4e8e\u7528\u6237\u5bf9\u8be5\u54cd\u5e94\u65f6\u95f4\u7684\u63a5\u53d7\u7a0b\u5ea6\u3002\u5bf9\u4e8e\u4e00\u4e2a\u6e38\u620f\u8f6f\u4ef6\u6765\u8bf4\uff0c\u54cd\u5e94\u65f6\u95f4\u5c0f\u4e8e100\u6beb\u79d2\u5e94\u8be5\u662f\u4e0d\u9519\u7684\uff0c\u54cd\u5e94\u65f6\u95f4\u57281\u79d2\u5de6\u53f3\u53ef\u80fd\u5c5e\u4e8e\u52c9\u5f3a\u53ef\u4ee5\u63a5\u53d7\uff0c\u5982\u679c\u54cd\u5e94\u65f6\u95f4\u8fbe\u52303\u79d2\u5c31\u5b8c\u5168\u96be\u4ee5\u63a5\u53d7\u4e86\u3002\u800c\u5bf9\u4e8e\u7f16\u8bd1\u7cfb\u7edf\u6765\u8bf4\uff0c\u5b8c\u6574\u7f16\u8bd1\u4e00\u4e2a\u8f83\u5927\u89c4\u6a21\u8f6f\u4ef6\u7684\u6e90\u4ee3\u7801\u53ef\u80fd\u9700\u8981\u51e0\u5341\u5206\u949f\u751a\u81f3\u66f4\u957f\u65f6\u95f4\uff0c\u4f46\u8fd9\u4e9b\u54cd\u5e94\u65f6\u95f4\u5bf9\u4e8e\u7528\u6237\u6765\u8bf4\u90fd\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\u3002\xa0\\n\\n## 2. \u541e\u5410\u91cf(Throughput)\xa0\\n\u541e\u5410\u91cf\u662f\u6307\u7cfb\u7edf\u5728\u5355\u4f4d\u65f6\u95f4\u5185\u5904\u7406\u8bf7\u6c42\u7684\u6570\u91cf\u3002\u5bf9\u4e8e\u65e0\u5e76\u53d1\u7684\u5e94\u7528\u7cfb\u7edf\u800c\u8a00\uff0c\u541e\u5410\u91cf\u4e0e\u54cd\u5e94\u65f6\u95f4\u6210\u4e25\u683c\u7684\u53cd\u6bd4\u5173\u7cfb\uff0c\u5b9e\u9645\u4e0a\u6b64\u65f6\u541e\u5410\u91cf\u5c31\u662f\u54cd\u5e94\u65f6\u95f4\u7684\u5012\u6570\u3002\u524d\u9762\u5df2\u7ecf\u8bf4\u8fc7\uff0c\u5bf9\u4e8e\u5355\u7528\u6237\u7684\u7cfb\u7edf\uff0c\u54cd\u5e94\u65f6\u95f4\uff08\u6216\u8005\u7cfb\u7edf\u54cd\u5e94\u65f6\u95f4\u548c\u5e94\u7528\u5ef6\u8fdf\u65f6\u95f4\uff09\u53ef\u4ee5\u5f88\u597d\u5730\u5ea6\u91cf\u7cfb\u7edf\u7684\u6027\u80fd\uff0c\u4f46\u5bf9\u4e8e\u5e76\u53d1\u7cfb\u7edf\uff0c\u901a\u5e38\u9700\u8981\u7528\u541e\u5410\u91cf\u4f5c\u4e3a\u6027\u80fd\u6307\u6807\u3002\xa0\\n\\n\u5bf9\u4e8e\u4e00\u4e2a\u591a\u7528\u6237\u7684\u7cfb\u7edf\uff0c\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u7528\u6237\u4f7f\u7528\u65f6\u7cfb\u7edf\u7684\u5e73\u5747\u54cd\u5e94\u65f6\u95f4\u662ft\uff0c\u5f53\u6709\u4f60n\u4e2a\u7528\u6237\u4f7f\u7528\u65f6\uff0c\u6bcf\u4e2a\u7528\u6237\u770b\u5230\u7684\u54cd\u5e94\u65f6\u95f4\u901a\u5e38\u5e76\u4e0d\u662fn\xd7t\uff0c\u800c\u5f80\u5f80\u6bd4n\xd7t\u5c0f\u5f88\u591a\uff08\u5f53\u7136\uff0c\u5728\u67d0\u4e9b\u7279\u6b8a\u60c5\u51b5\u4e0b\u4e5f\u53ef\u80fd\u6bd4n\xd7t\u5927\uff0c\u751a\u81f3\u5927\u5f88\u591a\uff09\u3002\u8fd9\u662f\u56e0\u4e3a\u5904\u7406\u6bcf\u4e2a\u8bf7\u6c42\u9700\u8981\u7528\u5230\u5f88\u591a\u8d44\u6e90\uff0c\u7531\u4e8e\u6bcf\u4e2a\u8bf7\u6c42\u7684\u5904\u7406\u8fc7\u7a0b\u4e2d\u6709\u8bb8\u591a\u4e0d\u8d70\u96be\u4ee5\u5e76\u53d1\u6267\u884c\uff0c\u8fd9\u5bfc\u81f4\u5728\u5177\u4f53\u7684\u4e00\u4e2a\u65f6\u95f4\u70b9\uff0c\u6240\u5360\u8d44\u6e90\u5f80\u5f80\u5e76\u4e0d\u591a\u3002\u4e5f\u5c31\u662f\u8bf4\u5728\u5904\u7406\u5355\u4e2a\u8bf7\u6c42\u65f6\uff0c\u5728\u6bcf\u4e2a\u65f6\u95f4\u70b9\u90fd\u53ef\u80fd\u6709\u8bb8\u591a\u8d44\u6e90\u88ab\u95f2\u7f6e\uff0c\u5f53\u5904\u7406\u591a\u4e2a\u8bf7\u6c42\u65f6\uff0c\u5982\u679c\u8d44\u6e90\u914d\u7f6e\u5408\u7406\uff0c\u6bcf\u4e2a\u7528\u6237\u770b\u5230\u7684\u5e73\u5747\u54cd\u5e94\u65f6\u95f4\u5e76\u4e0d\u968f\u7528\u6237\u6570\u7684\u589e\u52a0\u800c\u7ebf\u6027\u589e\u52a0\u3002\u5b9e\u9645\u4e0a\uff0c\u4e0d\u540c\u7cfb\u7edf\u7684\u5e73\u5747\u54cd\u5e94\u65f6\u95f4\u968f\u7528\u6237\u6570\u589e\u52a0\u800c\u589e\u957f\u7684\u901f\u5ea6\u4e5f\u4e0d\u5927\u76f8\u540c\uff0c\u8fd9\u4e5f\u662f\u91c7\u7528\u541e\u5410\u91cf\u6765\u5ea6\u91cf\u5e76\u53d1\u7cfb\u7edf\u7684\u6027\u80fd\u7684\u4e3b\u8981\u539f\u56e0\u3002\u4e00\u822c\u800c\u8a00\uff0c\u541e\u5410\u91cf\u662f\u4e00\u4e2a\u6bd4\u8f83\u901a\u7528\u7684\u6307\u6807\uff0c\u4e24\u4e2a\u5177\u6709\u4e0d\u540c\u7528\u6237\u6570\u548c\u7528\u6237\u4f7f\u7528\u6a21\u5f0f\u7684\u7cfb\u7edf\uff0c\u5982\u679c\u5176\u6700\u5927\u541e\u5410\u91cf\u57fa\u672c\u4e00\u81f4\uff0c\u5219\u53ef\u4ee5\u5224\u65ad\u4e24\u4e2a\u7cfb\u7edf\u7684\u5904\u7406\u80fd\u529b\u57fa\u672c\u4e00\u81f4\u3002\xa0\\n\\n## 3. \u5e76\u53d1\u7528\u6237\u6570\xa0\\n\u5e76\u53d1\u7528\u6237\u6570\u662f\u6307\u7cfb\u7edf\u53ef\u4ee5\u540c\u65f6\u627f\u8f7d\u7684\u6b63\u5e38\u4f7f\u7528\u7cfb\u7edf\u529f\u80fd\u7684\u7528\u6237\u7684\u6570\u91cf\u3002\u4e0e\u541e\u5410\u91cf\u76f8\u6bd4\uff0c\u5e76\u53d1\u7528\u6237\u6570\u662f\u4e00\u4e2a\u66f4\u76f4\u89c2\u4f46\u4e5f\u66f4\u7b3c\u7edf\u7684\u6027\u80fd\u6307\u6807\u3002\u5b9e\u9645\u4e0a\uff0c\u5e76\u53d1\u7528\u6237\u6570\u662f\u4e00\u4e2a\u975e\u5e38\u4e0d\u51c6\u786e\u7684\u6307\u6807\uff0c\u56e0\u4e3a\u7528\u6237\u4e0d\u540c\u7684\u4f7f\u7528\u6a21\u5f0f\u4f1a\u5bfc\u81f4\u4e0d\u540c\u7528\u6237\u5728\u5355\u4f4d\u65f6\u95f4\u53d1\u51fa\u4e0d\u540c\u6570\u91cf\u7684\u8bf7\u6c42\u3002\u4e00\u7f51\u7ad9\u7cfb\u7edf\u4e3a\u4f8b\uff0c\u5047\u8bbe\u7528\u6237\u53ea\u6709\u6ce8\u518c\u540e\u624d\u80fd\u4f7f\u7528\uff0c\u4f46\u6ce8\u518c\u7528\u6237\u5e76\u4e0d\u662f\u6bcf\u65f6\u6bcf\u523b\u90fd\u5728\u4f7f\u7528\u8be5\u7f51\u7ad9\uff0c\u56e0\u6b64\u5177\u4f53\u4e00\u4e2a\u65f6\u523b\u53ea\u6709\u90e8\u5206\u6ce8\u518c\u7528\u6237\u540c\u65f6\u5728\u7ebf\uff0c\u5728\u7ebf\u7528\u6237\u5c31\u5728\u6d4f\u89c8\u7f51\u7ad9\u65f6\u4f1a\u82b1\u5f88\u591a\u65f6\u95f4\u9605\u8bfb\u7f51\u7ad9\u4e0a\u7684\u4fe1\u606f\uff0c\u56e0\u800c\u5177\u4f53\u4e00\u4e2a\u65f6\u523b\u53ea\u6709\u90e8\u5206\u5728\u7ebf\u7528\u6237\u540c\u65f6\u5411\u7cfb\u7edf\u53d1\u51fa\u8bf7\u6c42\u3002\u8fd9\u6837\uff0c\u5bf9\u4e8e\u7f51\u7ad9\u7cfb\u7edf\u6211\u4eec\u4f1a\u6709\u4e09\u4e2a\u5173\u4e8e\u7528\u6237\u6570\u7684\u7edf\u8ba1\u6570\u5b57\uff1a\u6ce8\u518c\u7528\u6237\u6570\u3001\u5728\u7ebf\u7528\u6237\u6570\u548c\u540c\u65f6\u53d1\u8bf7\u6c42\u7528\u6237\u6570\u3002\u7531\u4e8e\u6ce8\u518c\u7528\u6237\u53ef\u80fd\u957f\u65f6\u95f4\u4e0d\u767b\u9646\u7f51\u7ad9\uff0c\u4f7f\u7528\u6ce8\u518c\u7528\u6237\u6570\u4f5c\u4e3a\u6027\u80fd\u6307\u6807\u4f1a\u9020\u6210\u5f88\u5927\u7684\u8bef\u5dee\u3002\u800c\u5728\u7ebf\u7528\u6237\u6570\u548c\u540c\u4e8b\u53d1\u8bf7\u6c42\u7528\u6237\u6570\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u6027\u80fd\u6307\u6807\u3002\u76f8\u6bd4\u800c\u8a00\uff0c\u4ee5\u5728\u7ebf\u7528\u6237\u4f5c\u4e3a\u6027\u80fd\u6307\u6807\u66f4\u76f4\u89c2\u4e9b\uff0c\u800c\u4ee5\u540c\u65f6\u53d1\u8bf7\u6c42\u7528\u6237\u6570\u4f5c\u4e3a\u6027\u80fd\u6307\u6807\u66f4\u51c6\u786e\u4e9b\u3002\xa0\\n\\n## 4. QPS/TPS\\nQPS\uff1aQueries Per Second\u610f\u601d\u662f\u201c\u6bcf\u79d2\u67e5\u8be2\u7387\u201d\uff0c\u662f\u4e00\u53f0\u670d\u52a1\u5668\u6bcf\u79d2\u80fd\u591f\u76f8\u5e94\u7684\u67e5\u8be2\u6b21\u6570\uff0c\u662f\u5bf9\u4e00\u4e2a\u7279\u5b9a\u7684\u67e5\u8be2\u670d\u52a1\u5668\u5728\u89c4\u5b9a\u65f6\u95f4\u5185\u6240\u5904\u7406\u6d41\u91cf\u591a\u5c11\u7684\u8861\u91cf\u6807\u51c6\u3002\\n\\nTPS\uff1a\u662fTransactionsPerSecond\u7684\u7f29\u5199\uff0c\u4e5f\u5c31\u662f\u4e8b\u52a1\u6570/\u79d2\u3002\u5b83\u662f\u8f6f\u4ef6\u6d4b\u8bd5\u7ed3\u679c\u7684\u6d4b\u91cf\u5355\u4f4d\u3002\u4e00\u4e2a\u4e8b\u52a1\u662f\u6307\u4e00\u4e2a\u5ba2\u6237\u673a\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u7136\u540e\u670d\u52a1\u5668\u505a\u51fa\u53cd\u5e94\u7684\u8fc7\u7a0b\u3002\u5ba2\u6237\u673a\u5728\u53d1\u9001\u8bf7\u6c42\u65f6\u5f00\u59cb\u8ba1\u65f6\uff0c\u6536\u5230\u670d\u52a1\u5668\u54cd\u5e94\u540e\u7ed3\u675f\u8ba1\u65f6\uff0c\u4ee5\u6b64\u6765\u8ba1\u7b97\u4f7f\u7528\u7684\u65f6\u95f4\u548c\u5b8c\u6210\u7684\u4e8b\u52a1\u4e2a\u6570\u3002\\n\\nTps\u5373\u6bcf\u79d2\u5904\u7406\u4e8b\u52a1\u6570\uff0c\u5305\u62ec\u4e86\uff1a\\n1\uff09\u7528\u6237\u8bf7\u6c42\u670d\u52a1\u5668\\n2\uff09\u670d\u52a1\u5668\u81ea\u5df1\u7684\u5185\u90e8\u5904\u7406\\n3\uff09\u670d\u52a1\u5668\u8fd4\u56de\u7ed9\u7528\u6237\\n\\n\u8fd9\u4e09\u4e2a\u8fc7\u7a0b\uff0c\u6bcf\u79d2\u80fd\u591f\u5b8c\u6210N\u4e2a\u8fd9\u4e09\u4e2a\u8fc7\u7a0b\uff0cTps\u4e5f\u5c31\u662fN\uff1b\\n\\nQps\u57fa\u672c\u7c7b\u4f3c\u4e8eTps\uff0c\u4f46\u662f\u4e0d\u540c\u7684\u662f\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u9875\u9762\u7684\u4e00\u6b21\u8bbf\u95ee\uff0c\u5f62\u6210\u4e00\u4e2aTps\uff1b\u4f46\u4e00\u6b21\u9875\u9762\u8bf7\u6c42\uff0c\u53ef\u80fd\u4ea7\u751f\u591a\u6b21\u5bf9\u670d\u52a1\u5668\u7684\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u5bf9\u8fd9\u4e9b\u8bf7\u6c42\uff0c\u5c31\u53ef\u8ba1\u5165\u201cQps\u201d\u4e4b\u4e2d\u3002\u4f8b\u5982\uff1a\u8bbf\u95ee\u4e00\u4e2a\u9875\u9762\u4f1a\u8bf7\u6c42\u670d\u52a1\u56683\u6b21\uff0c\u4e00\u6b21\u653e\uff0c\u4ea7\u751f\u4e00\u4e2a\u201cT\u201d\uff0c\u4ea7\u751f3\u4e2a\u201cQ\u201d \u3002\\n\\n## 5. \u5e94\u7528\u5b9e\u4f8b\\n\u5728\u7535\u5546\u7cfb\u7edf\u4e2d\uff0c\u74f6\u9888\u901a\u5e38\u4e3a\u4e0b\u5355\u64cd\u4f5c\u3002\u8fd9\u91cc\u7684\u4e0b\u5355\u6307\u7684\u5c31\u662f\u4e00\u4e2a\u4e8b\u7269\uff0c\u6bd4\u5982\u8981\u6c42\u4e3a\uff1aTPS 300/S\u3002\\n\u5728\u7535\u5546\u7cfb\u7edf\u4e2d\uff0c\u8ba2\u5355\u67e5\u8be2\u901a\u5e38\u4e5f\u6bd4\u8f83\u6162\uff0c\u8fd9\u91cc\u7684\u8ba2\u5355\u67e5\u8be2\u901f\u5ea6\u7684\u8861\u91cf\u4e3aQPS\uff0c\u6bd4\u5982\u8981\u6c42\u4e3a\uff1aQPS 300/S\u3002","isLeaf":true},{"key":"/system/website-performance/02-website-performance-tools.md","path":"/system/website-performance/02-website-performance-tools.md","route":"/system/website-performance/02-website-performance-tools.md","leaf":true,"title":"02-website-performance-tools","depth":2,"content":"## 1.\xa0[gtmetrix](https://gtmetrix.com/?job_error=IHk37HNt)\\n\u5b98\u7f51\xa0[https://gtmetrix.com/?job_error=IHk37HNt](https://gtmetrix.com/?job_error=IHk37HNt)\\n\u53c2\u8003\xa0[https://www.cnblogs.com/youcong/p/9954031.html](https://www.cnblogs.com/youcong/p/9954031.html)","isLeaf":true}]}]},{"key":"/thinking","path":"/thinking","route":"/thinking","leaf":false,"title":"thinking","depth":0,"content":"","isLeaf":false,"children":[{"key":"/thinking/01-language.md","path":"/thinking/01-language.md","route":"/thinking/01-language.md","leaf":true,"title":"01-language","depth":1,"content":"---\\ntitle: 01 \u7f16\u7a0b\u8bed\u8a00\u601d\u8003\\n---\\n","isLeaf":true},{"key":"/thinking/02-bad-react-code.md","path":"/thinking/02-bad-react-code.md","route":"/thinking/02-bad-react-code.md","leaf":true,"title":"02-bad-react-code","depth":1,"content":"---\\ntitle: 02 \u8fd9\u4e2a React \u4ee3\u7801\u6ca1\u6cd5\u770b\\n---\\n\\n\u6700\u8fd1\u5728\u5e2e\u53e6\u5916\u4e00\u4e2a\u5c0f\u7ec4\u7684\u540c\u4e8b\u505a\u4e00\u4e2a\u6280\u672f\u9879\u76ee\uff0c\u4ed6\u539f\u672c\u7684\u4e3b\u8981\u5de5\u4f5c\u504f\u5411\u540e\u53f0\u5f00\u53d1\uff0c\u7b2c\u4e00\u6b21\u5199 React \u4ee3\u7801\uff0c\u5f53\u6211\u63a5\u624b\u8fd9\u4e2a\u9879\u76ee\u50bb\u773c\u4e86\u3002\\n\\n\u9996\u5148\u8fd9\u4e2a\u9879\u76ee\u672c\u8eab\u5e76\u4e0d\u7b80\u5355\uff0c\u4ed6\u8fd8\u662f\u5f88\u5389\u5bb3\u7684\uff0c\u4f46\u662f\u4ee3\u7801\u5199\u7684\u5b9e\u5728\u662f\u96be\u4ee5\u7406\u89e3\u3002\u7279\u522b\u662f\u5c42\u7ea7\u5f88\u6df1\u7684 prop \u4f20\u9012 (\u5f88\u591a 6/7 \u5c42)\uff0c\u4ee5\u53ca\u5f88\u591a\u533f\u540d\u7684\u7ec4\u4ef6\uff0c\u5bfc\u81f4\u5f53\u6211\u60f3\u627e\u5230\u9875\u9762\u4e0a\u67d0\u4e2a\u89c6\u56fe\u6240\u5bf9\u5e94\u7684\u6587\u4ef6\u65f6\uff0c\u6839\u672c\u65e0\u4ece\u4e0b\u624b\u554a\uff0c\u4e5f\u53ef\u80fd\u6709\u5176\u4ed6\u6211\u4e0d\u77e5\u9053\u7684\u59ff\u52bf\uff0c\u5982\u679c\u4f60\u77e5\u9053\uff0c\u9ebb\u70e6\u544a\u8bc9\u6211 \ud83d\ude02\u3002\\n\\n\u867d\u7136\u65e0\u526f\u4f5c\u7528\u7684\u51fd\u6570\uff0c\u4ece\u67b6\u6784\u8bbe\u8ba1\u4e0a\u6765\u8bb2\u662f\u6700\u4f18\u7684\uff0c\u4f46\u662f\u5728 UI \u5f00\u53d1\u9886\u57df\uff0c\u5f53\u7ec4\u4ef6\u6df1\u5ea6\u592a\u5927\u65f6\uff0c\u4ee3\u7801\u4e0d\u5bb9\u6613\u7406\u89e3\uff0c\u5fc3\u667a\u8d1f\u62c5\u5927\u3002\\n\\n\u6211\u60f3\u5230\u529e\u6cd5\u53ef\u4ee5\u5c06\u9875\u9762\u62bd\u8c61\u4e3a\u4e00\u4e2a\u6811\uff0c\u6211\u53ef\u4ee5\u67e5\u770b\u6811\u4e0a\u7684\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\u7684\u4f9d\u8d56 \u548c \u88ab\u4f9d\u8d56\uff0c\u5177\u4f53\u6709\u51e0\u4e2a\u70b9\uff1a\\n\\n- (1) \u4ece\u5165\u53e3\u5206\u6790\u4ee3\u7801\uff0c\u89e3\u6790\u51fa\u4e00\u4e2a\u6811 \u6216\u8005 \u591a\u4e2a\u6811\uff0c\u548c webpack \u7684\u4f9d\u8d56\u6811\u5dee\u4e0d\u591a\\n- (2) \u5728\u5f00\u53d1\u6a21\u5f0f\u4e0b\uff0c\u5f53\u6211\u7684\u9f20\u6807\u60ac\u6d6e\u5728\u9875\u9762\u67d0\u4e2a\u8282\u70b9\u65f6\uff0c\u4f1a\u5728\u4fa7\u8fb9\u63d0\u793a\u5668\u4ee3\u7801\u6240\u5728\u6587\u4ef6\\n\\n\u4e3e\u4e2a\u4f8b\u5b50\uff1a\\n\\n```tsx\\nconst Box = (\\n  <div>\\n    <div>hello world</div>\\n    <div>hello world</div>\\n  </div>\\n);\\n```\\n\\n=>\\n\\n```tsx\\nconst Box = (\\n  <div data-file=\\"src/components/Box.tsx\\">\\n    <div>hello world</div>\\n    <div>hello world</div>\\n  </div>\\n);\\n\\n// \u6216\u8005\\nconst Box = (\\n  <div data-file=\\"src/components/Box.tsx\\">\\n    <div data-file=\\"src/components/Box.tsx\\">hello world</div>\\n    <div data-file=\\"src/components/Box.tsx\\">hello world</div>\\n  </div>\\n);\\n```\\n\\n\u5728\u6bcf\u4e2a\u7ec4\u4ef6\u7684\u6839\u6807\u7b7e \u6216\u8005 \u6240\u6709\u6807\u7b7e\u52a0\u4e00\u4e2a data-code \u5c5e\u6027\\n\\n![20230511222239](http://s3.airtlab.com/blog/20230511222239.png)\\n\\n\u63d2\u4ef6\u4ee3\u7801\u975e\u5e38\u7b80\u5355\uff1a\\n\\n```js\\nconst types = require(\\"@babel/types\\");\\n\\nmodule.exports = function () {\\n  return {\\n    visitor: {\\n      JSXOpeningElement(path) {\\n        const t = types;\\n        const _this = this;\\n\\n        if (\\n          !path.parent.openingElement.name ||\\n          ![\\"div\\", \\"span\\", \\"p\\", \\"ul\\", \\"li\\"].includes(\\n            path.parent.openingElement.name.name\\n          )\\n        ) {\\n          return;\\n        }\\n\\n        const existingProp = path.node.attributes.find(\\n          (node) => node.name && node.name.name === \\"data-code\\"\\n        );\\n\\n        if (existingProp) {\\n          existingProp.node.value.value === \\"data-code\\";\\n          return;\\n        }\\n\\n        const newProp = t.jSXAttribute(\\n          t.jSXIdentifier(\\"data-code\\"),\\n          t.stringLiteral(_this.filename)\\n        );\\n\\n        path.node.attributes.push(newProp);\\n      },\\n    },\\n  };\\n};\\n```\\n","isLeaf":true},{"key":"/thinking/03-swagger-json-to-axios.md","path":"/thinking/03-swagger-json-to-axios.md","route":"/thinking/03-swagger-json-to-axios.md","leaf":true,"title":"03-swagger-json-to-axios","depth":1,"content":"\u4f5c\u4e3a\u4e00\u4e2a\u5168\u6808\u5f00\u53d1\u8005\uff0c\u65e5\u5e38\u7684API\u5f00\u53d1\u4e2d\uff0c\u9488\u5bf9 DTO \u5c42\uff0cnodejs \u4e2d\u8981\u5199\u4e00\u904d\uff0cReact \u9879\u76ee\u4e2d\u4e5f\u8981\u5199\u4e00\u904d\uff0c\u5176\u5b9e\u53ef\u4ee5\u6839\u636e swagger json schema \u751f\u6210\u524d\u7aef\u6240\u9700\u8981\u7684\u63a5\u53e3\uff0c\u53ef\u4ee5\u6309\u7167\u63a5\u53e3\u6807\u7b7e\u5212\u5206\u6587\u4ef6\u3002\\n\\n![20230516170511](http://s3.airtlab.com/blog/20230516170511.png)\\n\\n\u5199\u4e86\u8fd9\u4e2a npm cli \u5de5\u5177 https://github.com/wiiai/swagger-doc-to-axios \u6781\u5927\u7684\u63d0\u5347\u5f00\u53d1\u6548\u7387\u3002","isLeaf":true},{"key":"/thinking/04-dependency-tree-in-react.md","path":"/thinking/04-dependency-tree-in-react.md","route":"/thinking/04-dependency-tree-in-react.md","leaf":true,"title":"04-dependency-tree-in-react","depth":1,"content":"---\\ntitle: 04 React \u9879\u76ee\u4f9d\u8d56\u5206\u6790\u6811\\n---\\n\\n\u5728\u590d\u6742\u7684\u9879\u76ee\u5f00\u53d1\u4e2d\uff0c\u4e00\u4e2a\u7ec4\u4ef6\u53ef\u80fd\u88ab\u5f88\u591a\u4e2a\u7ec4\u4ef6\u6240\u5f15\u7528\uff0c\u6ca1\u6709\u529e\u6cd5\u76f4\u89c2\u7684\u67e5\u770b\u5176\u4f9d\u8d56\u5173\u7cfb\u56fe\uff0c\u8fd9\u4e2a\u56fe\u662f\u5f88\u6709\u4ef7\u503c\u7684\uff0c\u6bd4\u5982\u5728\u4ee3\u7801 review \u65f6\u53ef\u4ee5\u4f5c\u4e3a\u53c2\u8003\u8d44\u6599\u3002\\n\\n\u6709\u4e24\u79cd\u89c6\u89d2\u6765\u5206\u6790\u95ee\u9898\uff1a\\n- 1\uff09\u67e5\u770b\u67d0\u4e2a\u6587\u4ef6\u81ea\u9876\u5411\u4e0b\u7684\u4f9d\u8d56\u5173\u7cfb\\n- 2\uff09\u67e5\u770b\u67d0\u4e2a\u6587\u4ef6\u81ea\u5e95\u5411\u4e0a\u7684\u4f9d\u8d56\u5173\u7cfb\\n\\n\u5728\u65e5\u5e38\u5f00\u53d1\u4e2d\uff0c\u53ef\u4ee5\u7ed3\u5408 git \u53d8\u66f4\uff0c\u8fdb\u884c\u66f4\u5c0f\u8303\u56f4\u7684\u7b5b\u9009\u3002\\n\\n## 1\u3001\u81ea\u9876\u5411\u4e0b\\n\\n![20230627165028](http://s3.airtlab.com/blog/20230627165028.png)\\n\\n## 2\u3001\u81ea\u5e95\u5411\u4e0a\\n","isLeaf":true},{"key":"/thinking/05-add-number-for-article-heading.md","path":"/thinking/05-add-number-for-article-heading.md","route":"/thinking/05-add-number-for-article-heading.md","leaf":true,"title":"05-add-number-for-article-heading","depth":1,"content":"\u5728\u4e00\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6709\u5f88\u591a h1\u3001h2\u3001h3\u3001h4\u3001h5\u3001h6 \u6807\u9898\uff0c\u800c\u4e14\u6211\u4eec\u559c\u6b22\u7ed9\u8fd9\u4e9b\u6807\u9898\u52a0\u4e0a\u6570\u5b57\u7d22\u5f15\uff0c\u6bd4\u5982\uff1a\\n\\n```text\\n1\u3001nodejs\\n  1.1 \u57fa\u7840\u7528\u6cd5\\n  1.2 \u9ad8\u7ea7\u7528\u6cd5\\n2\u3001babel\\n  1.1 \u57fa\u7840\u7528\u6cd5\\n  1.2 \u9ad8\u7ea7\u7528\u6cd5\\n```\\n\\n\u624b\u52a8\u52a0\u7684\u8bdd\uff0c\u5bb9\u6613\u51fa\u9519\uff0c\u800c\u4e14\u5f53\u8fdb\u884c\u63d2\u5165\u64cd\u4f5c\u7684\u8bdd\uff0c\u9700\u8981\u4fee\u6539\u7684\u5730\u65b9\u6bd4\u8f83\u591a\uff0c\u56e0\u6b64\u53ef\u4ee5\u5199\u4e00\u4e2a `format` \u65b9\u6cd5\uff0c\u7ed9\u4ed6\u81ea\u52a8\u52a0\u4e0a\uff0c\u5c01\u88c5\u4e3a vscode \u63d2\u4ef6\uff0c\u4ee5\u65b9\u4fbf\u5728 vscode \u4e2d\u5199\u4f5c\u3002","isLeaf":true}]},{"key":"/third","path":"/third","route":"/third","leaf":false,"title":"third","depth":0,"content":"","isLeaf":false,"children":[{"key":"/third/wexin.md","path":"/third/wexin.md","route":"/third/wexin.md","leaf":true,"title":"wexin","depth":1,"content":"## 1\u3001\u5fae\u4fe1 cgi-bin \u548csns\u76ee\u5f55\u4e0b\u7684\u63a5\u53e3\u4ec0\u4e48\u533a\u522b\u554a\uff1f\\n\\nhttps://developers.weixin.qq.com/community/develop/doc/483552123f44973079500c2e6d09a18e\\n\\n## 2\u3001`https://api.weixin.qq.com/sns/userinfo` \u548c `https://api.weixin.qq.com/cgi-bin/user/info` \u7684\u533a\u522b\\n\\n\u8fd9\u4e24\u4e2a\u5fae\u4fe1\u7684API\u6709\u4e00\u4e9b\u533a\u522b\uff0c\u4ee5\u4e0b\u662f\u5b83\u4eec\u7684\u4e3b\u8981\u533a\u522b\uff1a\\n1. \u63a5\u53e3\u529f\u80fd\uff1ahttps://api.weixin.qq.com/sns/userinfo \u662f\u5fae\u4fe1\u5f00\u53d1\u8005\u5e73\u53f0\u7684API\uff0c\u4e3b\u8981\u7528\u4e8e\u83b7\u53d6\u7528\u6237\u7684\u57fa\u672c\u4fe1\u606f\u548c\u6388\u6743\u540e\u7684\u7528\u6237\u4fe1\u606f\u3002https://api.weixin.qq.com/cgi-bin/user/info \u662f\u5fae\u4fe1\u516c\u4f17\u5e73\u53f0\u7684API\uff0c\u4e3b\u8981\u7528\u4e8e\u83b7\u53d6\u516c\u4f17\u53f7\u7528\u6237\u7684\u4fe1\u606f\u3002\\n\\n2. \u63a5\u53e3\u5730\u5740\uff1ahttps://api.weixin.qq.com/sns/userinfo \u7684\u8def\u5f84\u4e2d\u5305\u542b\u4e86\\"sns\\"\uff0c\u8868\u793a\u8be5\u63a5\u53e3\u4e3b\u8981\u7528\u4e8e\u5904\u7406\u57fa\u4e8eOAuth2.0\u7684\u7528\u6237\u6388\u6743\u6d41\u7a0b\u3002https://api.weixin.qq.com/cgi-bin/user/info \u7684\u8def\u5f84\u4e2d\u6ca1\u6709\\"sns\\"\uff0c\u8868\u793a\u8be5\u63a5\u53e3\u4e3b\u8981\u7528\u4e8e\u516c\u4f17\u53f7\u7528\u6237\u4fe1\u606f\u7684\u83b7\u53d6\u3002\\n\\n3. \u63a5\u53e3\u8c03\u7528\u65b9\u5f0f\uff1ahttps://api.weixin.qq.com/sns/userinfo \u9700\u8981\u901a\u8fc7OAuth2.0\u7684\u7528\u6237\u6388\u6743\u6d41\u7a0b\u83b7\u5f97\u7528\u6237\u7684access_token\uff0c\u7136\u540e\u518d\u901a\u8fc7\u8be5\u63a5\u53e3\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u3002https://api.weixin.qq.com/cgi-bin/user/info \u5219\u9700\u8981\u4f7f\u7528\u516c\u4f17\u53f7\u7684access_token\u76f4\u63a5\u8c03\u7528\u8be5\u63a5\u53e3\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u3002\\n\\n4. \u8fd4\u56de\u7684\u6570\u636e\uff1ahttps://api.weixin.qq.com/sns/userinfo \u8fd4\u56de\u7684\u662fJSON\u683c\u5f0f\u7684\u6570\u636e\uff0c\u5305\u542b\u7528\u6237\u7684\u57fa\u672c\u4fe1\u606f\u548c\u6388\u6743\u540e\u7684\u7528\u6237\u4fe1\u606f\u3002https://api.weixin.qq.com/cgi-bin/user/info \u8fd4\u56de\u7684\u4e5f\u662fJSON\u683c\u5f0f\u7684\u6570\u636e\uff0c\u5305\u542b\u516c\u4f17\u53f7\u7528\u6237\u7684\u4fe1\u606f\u3002\\n\\n\u603b\u7ed3\u6765\u8bf4\uff0chttps://api.weixin.qq.com/sns/userinfo \u4e3b\u8981\u7528\u4e8e\u5904\u7406\u7528\u6237\u6388\u6743\u6d41\u7a0b\uff0c\u83b7\u53d6\u7528\u6237\u57fa\u672c\u4fe1\u606f\u548c\u6388\u6743\u4fe1\u606f\uff1bhttps://api.weixin.qq.com/cgi-bin/user/info \u4e3b\u8981\u7528\u4e8e\u516c\u4f17\u53f7\u7528\u6237\u4fe1\u606f\u7684\u83b7\u53d6\u3002","isLeaf":true}]},{"key":"/tools","path":"/tools","route":"/tools","leaf":false,"title":"tools","depth":0,"content":"","isLeaf":false,"children":[{"key":"/tools/01-build-docs.md","path":"/tools/01-build-docs.md","route":"/tools/01-build-docs.md","leaf":true,"title":"01-build-docs","depth":1,"content":"---\\ntitle: 01 \u6280\u672f\u6587\u6863\u642d\u5efa\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n## 1\u3001Nextra\\n\\nNextra \u662f\u4e00\u4e2a\u4fbf\u6377\u7684\u9759\u6001\u7f51\u7ad9\u751f\u6210\u5de5\u5177\uff0c\u4ed6\u5e95\u5c42\u4f9d\u8d56 `nextjs`\u3002\\n\\n- nextra \u6709\u4e24\u79cd\u98ce\u683c \u535a\u5ba2\u98ce\u683c \u548c \u6587\u6863\u98ce\u683c\uff0c\u66f4\u9002\u5408\u7528\u4f5c\u6587\u6863\uff0c\u53ef\u4ee5\u81ea\u5df1\u642d\u5efa\uff0c\u4e5f\u53ef\u4ee5\u62c9\u6a21\u677f\u8fdb\u884c\u4fee\u6539\u3002\\n- nextra \u5b98\u65b9\u6587\u6863\u4e5f\u662f\u7528 nextra \u642d\u5efa\u7684\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u53c2\u8003\\n- \u6587\u6863\u4ee3\u7801\u4ed3\u5e93 https://github.com/shuding/nextra\\n- \u6587\u6863\u5c55\u793a\u5730\u5740 https://nextra.site\\n\\n**\u6587\u6863\u98ce\u683c**\\n\\n![20230630100840](http://s3.airtlab.com/blog/20230630100840.png)\\n\\n## 2\u3001VitePress\\n\\nVitePress \u662f\u4e00\u4e2a\u7531 Vue.js \u9a71\u52a8\u7684\u9759\u6001\u7f51\u7ad9\u751f\u6210\u5668\u3002\\n\\n- \u5b83\u4e13\u6ce8\u4e8e\u4e3a`\u6280\u672f\u6587\u6863`\u3001`\u535a\u5ba2`\u548c\u5176\u4ed6\u7c7b\u4f3c\u5185\u5bb9\u751f\u6210\u9759\u6001\u7f51\u7ad9\u3002\\n- VitePress \u5177\u6709\u5feb\u901f\u7684\u5f00\u53d1\u901f\u5ea6\u548c\u70ed\u6a21\u5757\u91cd\u52a0\u8f7d\u529f\u80fd\uff0c\u53ef\u4ee5\u5b9e\u65f6\u9884\u89c8\u548c\u8c03\u8bd5\u7f51\u7ad9\\n- \u652f\u6301 Markdown \u683c\u5f0f\u7684\u6587\u6863\u7f16\u5199\u3002\\n- \u9002\u7528\u4e8e\u6784\u5efa\u4ee5\u6587\u6863\u4e3a\u4e3b\u7684\u7f51\u7ad9\uff0c\u5e76\u63d0\u4f9b\u4e86\u4fbf\u6377\u7684\u5de5\u5177\uff0c\u4f8b\u5982\u81ea\u52a8\u751f\u6210\u7684\u5bfc\u822a\u680f\u3001\u4fa7\u8fb9\u680f\u548c\u641c\u7d22\u529f\u80fd\u7b49\u3002\\n- \u6848\u4f8b1 https://sunniejs.github.io/vue-h5-template/guide/\\n\\n## 3\u3001hugo\\n\\nHugo \u662f\u7531Go\u8bed\u8a00\u5b9e\u73b0\u7684\u9759\u6001\u7f51\u7ad9\u751f\u6210\u5668\u3002\u7b80\u5355\u3001\u6613\u7528\u3001\u9ad8\u6548\u3001\u6613\u6269\u5c55\u3001\u5feb\u901f\u90e8\u7f72\u3002\\n\\n\u8fd9\u4e2a\u4e3b\u9898\u6bd4\u8f83\u6f02\u4eae https://github.com/WingLim/hugo-tania \ud83e\udd0c https://hugo-tania.netlify.app/\\n\\n\u53c2\u8003 https://blog.chungzh.cn\\n\\n### \u5b89\u88c5 \\n\\n```shell\\nbrew install hugo\\n```\\n\\n### \u521d\u59cb\u5316\\n\\n```shell\\nhugo new site quickstart\\ncd quickstart\\ngit init\\ngit submodule add -b stable https://github.com/jpanther/congo.git themes/congo #\u4e0b\u8f7dcongo\u4e3b\u9898\u5230\u7f51\u7ad9\\necho \\"theme = \'congo\'\\" >> hugo.toml #\u5c06\\"\\"\u5185\u7684\u6587\u672c\u5185\u5bb9\u6dfb\u52a0\u5230hugo.toml\u6587\u4ef6\u672b\u5c3e\u3002\\nhugo server #\u521b\u5efa\u9759\u6001\u6587\u4ef6\u5e76\u8fd0\u884c\u672c\u5730\u7f51\u7ad9\u670d\u52a1\u5668\\n```","isLeaf":true},{"key":"/tools/02-wireshark.md","path":"/tools/02-wireshark.md","route":"/tools/02-wireshark.md","leaf":true,"title":"02-wireshark","depth":1,"content":"---\\ntitle: 02 wireshark \u6293\u5305\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n**\u53c2\u8003\u8d44\u6599**\\n\\n- https://zhuanlan.zhihu.com/p/82498482\\n\\n## 1\u3001\u8fc7\u6ee4\u89c4\u5219\\n### 1\uff09IP \u8fc7\u6ee4\\n- ip.src == 192.168.1.104 \u663e\u793a\u6e90\u5730\u5740\u4e3a192.168.1.104\u7684\u6570\u636e\u5305\u5217\u8868\\n- ip.dst == 192.168.1.104, \u663e\u793a\u76ee\u6807\u5730\u5740\u4e3a192.168.1.104\u7684\u6570\u636e\u5305\u5217\u8868\\n- ip.addr == 192.168.1.104 \u663e\u793a\u6e90IP\u5730\u5740\u6216\u76ee\u6807IP\u5730\u5740\u4e3a 192.168.1.104 \u7684\u6570\u636e\u5305\u5217\u8868\\n\\n### 2\uff09HTTP \u6a21\u5f0f\u8fc7\u6ee4\\nhttp.request.method==\\"GET\\", \u53ea\u663e\u793aHTTP GET\u65b9\u6cd5\u7684\u3002\\n\\n### 3\uff09\u534f\u8bae\u8fc7\u6ee4\\n```\\nicmp\\ntelnet\\ntcp\\ntcp.ack\\n```\\n\\n### 4) \u903b\u8f91\u8fd0\u7b97\u7b26\u4e3a and/or/not\\n\u8fc7\u6ee4\u591a\u4e2a\u6761\u4ef6\u7ec4\u5408\u65f6\uff0c\u4f7f\u7528and/or\u3002\u6bd4\u5982\u83b7\u53d6IP\u5730\u5740\u4e3a192.168.1.104\u7684ICMP\u6570\u636e\u5305\u8868\u8fbe\u5f0f\u4e3aip.addr == 192.168.1.104 and icmp\\n\\n## 2\u3001TCP \u63e1\u624b\u8fc7\u7a0b\\n### 1\uff09TCP \u62a5\u6587\u534f\u8bae\\n![20230506180734](http://s3.airtlab.com/blog/20230506180734.png)\\n\\n### 2\uff09TCP \u6293\u5305\u6f14\u793a\\n```\\ncurl \'http://blog.airtlab.com/\' \\\\\\n  -H \'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\' \\\\\\n  -H \'Accept-Language: zh-CN,zh;q=0.9\' \\\\\\n  -H \'Cache-Control: max-age=0\' \\\\\\n  -H \'Connection: keep-alive\' \\\\\\n  -H \'If-Modified-Since: Thu, 15 Apr 2021 02:08:45 GMT\' \\\\\\n  -H \'Upgrade-Insecure-Requests: 1\' \\\\\\n  -H \'User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1\' \\\\\\n  --compressed \\\\\\n  --insecure\\n```\\n\\n![20230506180754](http://s3.airtlab.com/blog/20230506180754.png)\\n\\n\u524d\u4e09\u6b21\u901a\u8baf\u5373\u4e3a\u63e1\u624b\u8fc7\u7a0b\\n\\n```js\\n// 16 \u8fdb\u5236\u8f6c\u6362 => 57346\\nparseInt(0xe002, 10)\\n```\\n\\n## 3\u3001\u6807\u8bb0\u6570\u636e\u5305","isLeaf":true},{"key":"/tools/03-sqlite-browser.md","path":"/tools/03-sqlite-browser.md","route":"/tools/03-sqlite-browser.md","leaf":true,"title":"03-sqlite-browser","depth":1,"content":"---\\ntitle: 03 sqllite \u6570\u636e\u9884\u89c8\u5de5\u5177\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n--- \\n\\n- \u5b98\u7f51 https://sqlitebrowser.org/\\n- \u4e0b\u8f7d https://sqlitebrowser.org/dl/","isLeaf":true},{"key":"/tools/04-ngrok.md","path":"/tools/04-ngrok.md","route":"/tools/04-ngrok.md","leaf":true,"title":"04-ngrok","depth":1,"content":"---\\ntitle: 04 \u5185\u7f51\u7a7f\u900f ngrok\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\nhttps://dashboard.ngrok.com/get-started/setup","isLeaf":true},{"key":"/tools/05-whistle.md","path":"/tools/05-whistle.md","route":"/tools/05-whistle.md","leaf":true,"title":"05-whistle","depth":1,"content":"---\\ntitle: 05 whistle \u6559\u7a0b\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n### 1\u3001\u4f7f\u7528\u672c\u5730\u8d44\u6e90\u66ff\u6362\\n```javascript\\nwww.gaollard.com file:///Users/gaollard/code/whistle/index.html\\n```\\n\\n### 2\u3001\u8bf7\u6c42\u8f6c\u53d1\uff0c\u5c06\u6307\u5b9a\u57df\u540d\u8bf7\u6c42\u8f6c\u53d1\u5230\u53e6\u4e00\u4e2a\u57df\u540d\\n```javascript\\nwww.qq.com ke.qq.com # \u6307\u5b9a\u57df\u540d\u8f6c\u53d1\u751f\u6548\\n**.qq.com ke.qq.com  # \u6240\u6709qq.com\u5b50\u57df\u540d\u8f6c\u53d1\u751f\u6548\\n```\\n\\n### 3\u3001\u811a\u672c\u6ce8\u5165\\n\u5c06\u4e00\u6bb5\u811a\u672c\uff08\u53ef\u4ee5\u4f7fhtml\u3001js\u3001CSS\u7247\u6bb5\uff09\u6ce8\u5165\u5230dom\u9875\u9762\u4e2d\u8fdb\u884c\u8c03\u8bd5\\n```javascript\\n// mac\\nrenwu.airtlab.com css:///Users/gaollard/code/whistle/index.css\\nrenwu.airtlab.com js:///Users/gaollard/code/whistle/test.js\\n```\\n\\n### 4\u3001\u8bf7\u6c42\u6539\u5199\u4e0e\u63a5\u53e3mock\\n```javascript\\n# \u4f1a\u628a\u5185\u5bb9 append \u5230\u8bf7\u6c42\u540e\u9762\\nhttp://www.text.com/style.css resAppend://{append.css}\\n\\n# \u5b8c\u5168\u66ff\u6362\u8bf7\u6c42\u5185\u5bb9\\nrenwu.airtlab.com/api/demand-category resBody://{mock_cate}\\n```\\n\\n### 5\u3001\u5b66\u4e60\u8d44\u6599\\n- IMBweb whistle\u5de5\u5177\u5168\u7a0b\u5165\u95e8 https://www.imweb.io/topic/596480af33d7f9a94951744c\\n- \u5b98\u65b9\u914d\u7f6e\u6587\u6863 http://wproxy.org/whistle/\\n- whistle \u5b9e\u7528\u5c0f\u6280\u5de7 https://baijiahao.baidu.com/s?id=1694050105421549643&wfr=spider&for=pc","isLeaf":true},{"key":"/tools/06-typeorm-entity-gen.md","path":"/tools/06-typeorm-entity-gen.md","route":"/tools/06-typeorm-entity-gen.md","leaf":true,"title":"06-typeorm-entity-gen","depth":1,"content":"---\\ntitle: 06 typeorm entity \u81ea\u52a8\u751f\u6210\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n\u539f\u7406\uff1a\u67e5\u8be2\u6570\u636e\u5e93\u8868 schema\uff0c\u81ea\u52a8\u751f\u6210\u5bf9\u5e94\u7684 typeorm entity \u6587\u4ef6\\n\\n- typeorm-model-generator https://github.com/Kononnable/typeorm-model-generator\\n- typeorm \u5e94\u8be5\u88ab\u653e\u5f03 https://github.com/Kononnable/typeorm-model-generator/issues/329\\n- \u5982\u4f55\u4f7f\u7528 typeorm-model-generator https://blog.csdn.net/kuangshp128/article/details/98062662\\n\\n```shell\\nrm -rf entities & npx typeorm-model-generator -h hostname -d g_mall -p 3306 -u user -x password -e mysql -o entities --noConfig true\\n```","isLeaf":true},{"key":"/tools/07-ddl-to-json.md","path":"/tools/07-ddl-to-json.md","route":"/tools/07-ddl-to-json.md","leaf":true,"title":"07-ddl-to-json","depth":1,"content":"---\\ntitle: 07 DDL\u8f6cJSON\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\nhttps://github.com/duartealexf/sql-ddl-to-json-schema \u8fd9\u4e2a\u5e93\u53ef\u4ee5\u6839\u636e ddl \u751f\u6210 JSON Schema\uff0c\u5b83\u4e0d\u4ec5\u4ec5\u80fd\u591f\u8bc6\u522b `CREATE TABLE` \u8bed\u53e5\uff0c\u5bf9 `ALTER` \u7b49\u4fee\u6539\u4e5f\u80fd\u8bc6\u522b\u3002","isLeaf":true},{"key":"/tools/08-ppt-in-code.md","path":"/tools/08-ppt-in-code.md","route":"/tools/08-ppt-in-code.md","leaf":true,"title":"08-ppt-in-code","depth":1,"content":"---\\ntitle: 08 \u4f7f\u7528\u4ee3\u7801\u5199 PPT\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n## 1\u3001\u4f7f\u7528 reveal.js\\n\\n\u4f7f\u7528 html \u5199\u52a8\u6548\u4e30\u5bcc\u7684 PPT https://revealjs.com/\\n\\n## 2\u3001\u4f7f\u7528 PptxGenJS\\n\\nhttps://gitbrent.github.io/PptxGenJS/","isLeaf":true},{"key":"/tools/09-vscode.md","path":"/tools/09-vscode.md","route":"/tools/09-vscode.md","leaf":true,"title":"09-vscode","depth":1,"content":"---\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n1. \u9009\u4e2d\u5f53\u524d\u884c\\n`command + L`","isLeaf":true},{"key":"/tools/10-file-diff.md","path":"/tools/10-file-diff.md","route":"/tools/10-file-diff.md","leaf":true,"title":"10-file-diff","depth":1,"content":"---\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n## 1\u3001diff \u5de5\u5177\\n\\n- \u5728\u7ebf\u5de5\u5177 https://www.qianbo.com.cn/Tool/Text-Difference/\\n- \u4f7f\u7528 vscode code --diff filePath1 filePath2\\n\\n## 2\u3001diff \u4ee3\u7801\\n\\nhttps://github.com/microsoft/vscode/blob/main/src/vs/editor/test/common/diff/diffComputer.test.ts","isLeaf":true},{"key":"/tools/11-yuque-export.md","path":"/tools/11-yuque-export.md","route":"/tools/11-yuque-export.md","leaf":true,"title":"11-yuque-export","depth":1,"content":"---\\ntitle: 11 \u5bfc\u51fa\u8bed\u96c0\u6587\u6863\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n```shell\\nYUQUE_TOKEN=XXX npx yuque-exporter gaollard\\n```\\n\\ntoken \u5728 https://github.com/gaollard/person-tools","isLeaf":true},{"key":"/tools/12-zh-filename-to-en.md","path":"/tools/12-zh-filename-to-en.md","route":"/tools/12-zh-filename-to-en.md","leaf":true,"title":"12-zh-filename-to-en","depth":1,"content":"---\\ntitle: 12 \u5c06\u4e2d\u6587\u6587\u4ef6\u540d\u8f6c\u4e3a\u82f1\u6587\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---","isLeaf":true},{"key":"/tools/13-emoji.md","path":"/tools/13-emoji.md","route":"/tools/13-emoji.md","leaf":true,"title":"13-emoji","depth":1,"content":"---\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\nhttps://emojipedia.org/","isLeaf":true},{"key":"/tools/14-wordpress.md","path":"/tools/14-wordpress.md","route":"/tools/14-wordpress.md","leaf":true,"title":"14-wordpress","depth":1,"content":"---\\ntitle: 14 wordpress \u5efa\u7ad9\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n\u4f7f\u7528 wordpress \u642d\u5efa\u535a\u5ba2\u6559\u7a0b\\n\\n## 1\u3001\u4e0b\u8f7d\u6e90\u7801\\n\\n```shell\\nwget https://cn.wordpress.org/latest-zh_CN.zip && unzip latest-zh_CN.zip -d /www/wwwroot\\n```\\n\\n## 2\u3001\u914d\u7f6e\\n\\n\u53ef\u53c2\u8003 https://blog.csdn.net/qq_36234720/article/details/127547705 \u6ce8\u610f\u914d\u7f6e\u6587\u4ef6 wp-config.php\\n\\n```php\\n<?php\\ndefine( \'DB_NAME\', \'wordpress\' );\\n\\n/** Database username */\\ndefine( \'DB_USER\', \'root\' );\\n\\n/** Database password */\\ndefine( \'DB_PASSWORD\', \'123456\' );\\n\\n/** Database hostname */\\ndefine( \'DB_HOST\', \'localhost\' );\\n\\n/** Database charset to use in creating database tables. */\\ndefine( \'DB_CHARSET\', \'utf8mb4\' );\\n\\n/** The database collate type. Don\'t change this if in doubt. */\\ndefine( \'DB_COLLATE\', \'\' );\\n\\ndefine( \'AUTH_KEY\',         \'Al4cZm4c1Ir(TlXxO[0;/pVch9oz|=M@ENnkbrmR%7LDK,{QH$)_0?]JyfQ.WQ7$\' );\\ndefine( \'SECURE_AUTH_KEY\',  \'SJh_McK2suE1ie44DunHad;[.Ea||o5]$2fsP$rJ!{L,fe.bPa V t,zqbE~hOt&\' );\\ndefine( \'LOGGED_IN_KEY\',    \'zf7K^#Jq{F|rA13p^xW^of?S#Aq0~vXHp{w]W)TfYW3X<w4=&jmjW5!XMH.Wp;3V\' );\\ndefine( \'NONCE_KEY\',        \'G]}dSp}:>pn1L}N Pumbwi=11(Vt0o[cTq<+k~S#K-[XoR@8RlRJOR*k2Xa)/QDo\' );\\ndefine( \'AUTH_SALT\',        \'FG-FT/r/ KM9h@h ^$8r]/|8t|FbggBBw<13BtU/2K2Mf50a[,5k0%ieozh] mY4\' );\\ndefine( \'SECURE_AUTH_SALT\', \'6M*@?Jw|alm/&&0K63lxN%;_N#Z[Q;4pRjrWSn=)6]`zD?VjsQtLx{6FyOf@S@nx\' );\\ndefine( \'LOGGED_IN_SALT\',   \'b>8p:(kZJ`l<muL&hsq7bRE.O L3ei.((K]&5GIO`]LaLtBbxs=!D?k}g~Y~#]px\' );\\ndefine( \'NONCE_SALT\',       \'4@*.Rh9dB[K8F$lRD).+foBb3[<HROEcC%R8~m?FXo ^[KLP3|;q.]6w0~PC~U}D\' );\\n\\n// define(\'FTP_BASE\', \'/www/wwwroot/wordpress\');\\n// define(\'FTP_CONTENT_DIR\', \'wordpress\u7684\u5185\u5bb9\u76ee\u5f55\u4f4d\u7f6e\');\\n// define(\'FTP_PLUGIN_DI\', \'wordpress\u7684\u63d2\u4ef6\u76ee\u5f55\u4f4d\u7f6e\');\\n// define(\'FTP_THEMES_DIR\', \'wordpress\u7684\u4e3b\u4f53\u76ee\u5f55\u4f4d\u7f6e\');\\n\\n$table_prefix = \'wp_\';\\n\\n\\ndefine( \'WP_DEBUG\', false );\\n\\nif ( ! defined( \'ABSPATH\' ) ) {\\n\\tdefine( \'ABSPATH\', __DIR__ . \'/\' );\\n}\\n\\nrequire_once ABSPATH . \'wp-settings.php\';\\n\\nif(is_admin()) {\\n\\nadd_filter(\'filesystem_method\', create_function(\'$a\', \'return \\"direct\\";\' ));\\n\\ndefine( \'FS_CHMOD_DIR\', 0751 );\\n\\n}\\n```","isLeaf":true},{"key":"/tools/15-hexo.md","path":"/tools/15-hexo.md","route":"/tools/15-hexo.md","leaf":true,"title":"15-hexo","depth":1,"content":"---\\ntitle: 15 hexo \u642d\u5efa\u535a\u5ba2\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n- \u5b98\u65b9\u6587\u6863 https://hexo.io/zh-cn/\\n- \u81ea\u5df1\u5199\u4e00\u4e2a hexo \u4e3b\u9898 https://segmentfault.com/a/1190000006057336\\n- \u81ea\u5df1\u5199\u4e00\u4e2a hexo \u4e3b\u9898 https://juejin.cn/post/6844904068565958663\\n- hexo \u539f\u7406 https://juejin.cn/user/1538971967685032\\n- hexo \u539f\u7406 https://www.ituring.com.cn/article/199295\\n\\n## 1\u3001\u6587\u7ae0\u6392\u5e8f\\n\\n## 2\u3001\u4f7f\u7528\u63d2\u4ef6\\n\\n## 3\u3001Front-matter\\n\\n\u89e3\u6790 Front-matter\\n\\n```js\\nvar content = `---\\\\n\\ntitle: hello\\ntas: Javascript\\n---\\n\\n<h2>hello</h2>\\n---\\n`;\\n\\nconst frontMatterRegex = /^---\\\\s*[\\\\s\\\\S]*?\\\\s*---/;\\nconst frontMatterMatch = content.match(frontMatterRegex);\\n\\nif (frontMatterMatch) {\\n  // \u53d6\u51fa\u5339\u914d\u5230\u7684Front-matter\u90e8\u5206\uff0c\u5e76\u5c06\u5176\u8f6c\u6362\u4e3aJavaScript\u5bf9\u8c61\\n  const frontMatterString = frontMatterMatch[0].replace(/---/g, \\"\\").trim();\\n  console.log(frontMatterString);\\n  // \u4f7f\u7528 Yaml \u89e3\u6790\\n} else {\\n  console.log(\\"\u6ca1\u6709\u627e\u5230Front-matter\u90e8\u5206\\");\\n}\\n```","isLeaf":true},{"key":"/tools/16-regepx-view.md","path":"/tools/16-regepx-view.md","route":"/tools/16-regepx-view.md","leaf":true,"title":"16-regepx-view","depth":1,"content":"---\\ntitle: 16 \u6b63\u5219\u53ef\u89c6\u5316\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\nhttps://regexper.com/#%2F%5E%28%5B%5Cd%5D%2B%29%3F%28.*%29%24%2F","isLeaf":true},{"key":"/tools/17-gatsby.md","path":"/tools/17-gatsby.md","route":"/tools/17-gatsby.md","leaf":true,"title":"17-gatsby","depth":1,"content":"---\\ntitle: 17 gatsby \u535a\u5ba2\u642d\u5efa\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n![20230605004218](http://s3.airtlab.com/blog/20230605004218.png)\\n\\n\u53c2\u8003\\n- https://webrtc.mthli.com/\\n- https://github.com/mthli/webrtc-tutorial","isLeaf":true},{"key":"/tools/18-nextjs.md","path":"/tools/18-nextjs.md","route":"/tools/18-nextjs.md","leaf":true,"title":"18-nextjs","depth":1,"content":"---\\ntitle: 18 nextjs \u5efa\u7ad9\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n\u63d0\u4f9b\u4e86\u5f88\u591a\u6a21\u677f https://vercel.com/templates/next.js?utm_source=next-site&utm_medium=navbar&utm_campaign=nextjs-templates ","isLeaf":true},{"key":"/tools/19-code-highlight.md","path":"/tools/19-code-highlight.md","route":"/tools/19-code-highlight.md","leaf":true,"title":"19-code-highlight","depth":1,"content":"---\\ntitle: 19 \u4ee3\u7801\u9ad8\u4eae\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n## 1\u3001prismjs\\n\\n- https://prismjs.com/#examples\\n- \u5728\u5b98\u65b9\u4e0b\u8f7d\u8bed\u8a00\u6269\u5c55\u4ee5\u53ca\u4e3b\u9898 https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript\\n\\n\u53ef\u4ee5\u5728 nodejs \u548c \u6d4f\u89c8\u5668\u4e2d\u4f7f\u7528\\n\\n```js\\nconst Prism = require(\'prismjs\');\\n\\n// The code snippet you want to highlight, as a string\\nconst code = `var data = 1;`;\\n\\n// Returns a highlighted HTML string\\nconst html = Prism.highlight(code, Prism.languages.javascript, \'javascript\');\\nconsole.log(html)\\n```\\n\\n```html\\n<span class=\\"token keyword\\">var</span> data <span class=\\"token operator\\">=</span> <span class=\\"token number\\">1</span><span class=\\"token punctuation\\">;</span>\\n```\\n\\n## 2\u3001highlight.js\\n\\nhttps://highlightjs.org/\\n\\n\u53ef\u4ee5\u5728 nodejs \u548c \u6d4f\u89c8\u5668\u4e2d\u4f7f\u7528\\n\\n```js\\n// require the highlight.js library, including all languages\\nconst hljs = require(\'./highlight.js\');\\nconst highlightedCode = hljs.highlightAuto(\'<span>Hello World!</span>\').value\\n```","isLeaf":true},{"key":"/tools/20-vscode.md","path":"/tools/20-vscode.md","route":"/tools/20-vscode.md","leaf":true,"title":"20-vscode","depth":1,"content":"---\\ntitle: 20 vscode\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n## 1. \u521b\u5efa\u8f6f\u8fde\u63a5\\n\\n```shell\\nsudo ln -fs \\"/Applications/Visual Studio Code.app/Contents/Resources/app/bin/code\\" /usr/local/bin/\\n```\\n\\n## 2. \u63d2\u5165\u5f53\u524d\u65f6\u95f4\\n\u53ef\u4ee5\u81ea\u5df1\u5199 Vscode \u63d2\u4ef6\u5b9e\u73b0\uff0c\u6bd4\u5982 `Insert Date String`\uff0cMac \u4e0a\u4f7f\u7528 `shift + command + i`\\n\\n![20230610000702](http://s3.airtlab.com/blog/20230610000702.png)\\n\\n## 3. \u6b63\u5219\u641c\u7d22\u66ff\u6362\\n\\n```html\\n<a name=(.*)></a>\\n```","isLeaf":true},{"key":"/tools/21-create-react-doc.md","path":"/tools/21-create-react-doc.md","route":"/tools/21-create-react-doc.md","leaf":true,"title":"21-create-react-doc","depth":1,"content":"---\\ntitle: 21 create react doc\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\nCreate React Doc \u662f\u4e00\u4e2a\u4f7f\u7528 React \u7684 markdown \u6587\u6863\u7ad9\u70b9\u751f\u6210\u5de5\u5177\u3002\u5c31\u50cf create-react-app \u4e00\u6837\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u4f7f\u7528 Create React Doc \u6765\u5f00\u53d1\u3001\u90e8\u7f72\u6587\u6863\u6216\u8005\u535a\u5ba2\u7ad9\u70b9\u800c\u65e0\u9700\u5173\u5fc3\u989d\u5916\u7684\u73af\u5883\u914d\u7f6e\u4fe1\u606f\u3002\\n\\nhttps://github.com/MuYunyun/create-react-doc","isLeaf":true},{"key":"/tools/22-tcp-packet-sender.md","path":"/tools/22-tcp-packet-sender.md","route":"/tools/22-tcp-packet-sender.md","leaf":true,"title":"22-tcp-packet-sender","depth":1,"content":"---\\ntags: tools\\n---\\n\\n\u6709\u65f6\u5019\u6211\u4eec\u8981\u6d4b\u8bd5TCP\u670d\u52a1\u5668\uff0c \u5199\u4e2a\u5ba2\u6237\u7aef\u5f53\u7136\u53ef\u4ee5\uff0c \u4e0d\u8fc7\u5982\u679c\u4f60\u4e0d\u80fd\u6539\u5ba2\u6237\u7aef\u53c8\u60f3\u6539\u53d1\u9001\u7684\u5185\u5bb9\uff0c \u7528 Packet sender \u5c31\u5f88\u65b9\u4fbf\u3002\\n\u9996\u5148\u7528\u5ba2\u6237\u7aef\u53d1\u9001TCP\u5305\u5230 Packet Sender, \u7136\u540e\u7528 Packet Sender \u4fdd\u5b58\u4e00\u4e0b\uff0c \u5c31\u53ef\u4ee5\u5728Packet Sender \u4e2d\u53d1\u9001\u8fd9\u4e2a\u5305\u5230\u522b\u7684\u5730\u65b9\u4e86\uff0c \u8fd8\u53ef\u4ee5\u6539\u5305\u503c\u3002\\n\\n![20230612140520](http://s3.airtlab.com/blog/20230612140520.png)","isLeaf":true},{"key":"/tools/23-baidu-translate-openapi.md","path":"/tools/23-baidu-translate-openapi.md","route":"/tools/23-baidu-translate-openapi.md","leaf":true,"title":"23-baidu-translate-openapi","depth":1,"content":"---\\ntags: tools\\n---\\n\\n```ts\\nimport axios from \'axios\';\\nimport md5 from \'md5\'\\n\\nvar url = `https://fanyi-api.baidu.com/api/trans/vip/translate`;\\nvar app_id = \'20230612001709576\';\\nvar app_secret = `Mv3I6oaIcj48dm2ISiDt`;\\nvar salt = \'1435660288\';\\n\\nfunction create_sign(q: string) {\\n  var content = app_id + q + salt + app_secret;\\n  return md5(content);\\n}\\n\\nasync function translate(q: string) {\\n  var sign = create_sign(q);\\n  var fullUrl =\\n    url + `?q=${q}&from=zh&to=en&appid=${app_id}&salt=${salt}&sign=${sign}`;\\n\\n    axios(fullUrl).then((res) => {\\n    console.log(res.status)\\n    console.log(res.data)\\n  })\\n}\\n\\ntranslate(`\u57fa\u7840\u7528\u6cd5`);\\n```","isLeaf":true},{"key":"/tools/25-ui-design.md","path":"/tools/25-ui-design.md","route":"/tools/25-ui-design.md","leaf":true,"title":"25-ui-design","depth":1,"content":"- AI \u751f\u6210\u56fe\u7247\\n- \u66f4\u6362\u80cc\u666f https://www.remove.bg/zh/t/change-background","isLeaf":true},{"key":"/tools/26-github-cicd.md","path":"/tools/26-github-cicd.md","route":"/tools/26-github-cicd.md","leaf":true,"title":"26-github-cicd","depth":1,"content":"## travis-ci\\n","isLeaf":true},{"key":"/tools/sql-builder-[squel.js].md","path":"/tools/sql-builder-[squel.js].md","route":"/tools/sql-builder-[squel.js].md","leaf":true,"title":"sql-builder-[squel.js]","depth":1,"content":"SQL Builder\\n\\nhttps://hiddentao.github.io/squel","isLeaf":true},{"key":"/tools/\u53c2\u8003\u535a\u5ba2.md","path":"/tools/\u53c2\u8003\u535a\u5ba2.md","route":"/tools/\u53c2\u8003\u535a\u5ba2.md","leaf":true,"title":"\u53c2\u8003\u535a\u5ba2","depth":1,"content":"https://blog.zhheo.com/archives/\\n\\n\\n![20230711172643](http://s3.airtlab.com/blog/20230711172643.png)","isLeaf":true},{"key":"/tools/\u6587\u7ae0\u5c01\u9762\u56fe\u7247\u5728\u7ebf\u521b\u4f5c.md","path":"/tools/\u6587\u7ae0\u5c01\u9762\u56fe\u7247\u5728\u7ebf\u521b\u4f5c.md","route":"/tools/\u6587\u7ae0\u5c01\u9762\u56fe\u7247\u5728\u7ebf\u521b\u4f5c.md","leaf":true,"title":"\u6587\u7ae0\u5c01\u9762\u56fe\u7247\u5728\u7ebf\u521b\u4f5c","depth":1,"content":"https://tooltt.com/fontlogo/\\n\\n![tooltt-fontlogo](http://s3.airtlab.com/blog/tooltt-fontlogo.png)\\n\\nhttps://zhuanlan.zhihu.com/p/599159170","isLeaf":true}]},{"key":"/typescript","path":"/typescript","route":"/typescript","leaf":false,"title":"typescript","depth":0,"content":"","isLeaf":false,"children":[{"key":"/typescript/tsc api.md","path":"/typescript/tsc api.md","route":"/typescript/tsc api.md","leaf":true,"title":"tsc api","depth":1,"content":"https://github.com/microsoft/TypeScript/wiki/Using-the-Compiler-API","isLeaf":true},{"key":"/typescript/\u5982\u4f55 \u52a0\u8f7d tsconfig.json \u5185\u5bb9.md","path":"/typescript/\u5982\u4f55 \u52a0\u8f7d tsconfig.json \u5185\u5bb9.md","route":"/typescript/\u5982\u4f55 \u52a0\u8f7d tsconfig.json \u5185\u5bb9.md","leaf":true,"title":"\u5982\u4f55 \u52a0\u8f7d tsconfig.json \u5185\u5bb9","depth":1,"content":"https://github.com/microsoft/TypeScript/issues/5276\\n\\n![20230707120323](http://s3.airtlab.com/blog/20230707120323.png)","isLeaf":true}]},{"key":"/uml","path":"/uml","route":"/uml","leaf":false,"title":"uml","depth":0,"content":"","isLeaf":false,"children":[{"key":"/uml/\u65f6\u5e8f\u56fe.md","path":"/uml/\u65f6\u5e8f\u56fe.md","route":"/uml/\u65f6\u5e8f\u56fe.md","leaf":true,"title":"\u65f6\u5e8f\u56fe","depth":1,"content":"","isLeaf":true},{"key":"/uml/\u6cf3\u9053\u56fe.md","path":"/uml/\u6cf3\u9053\u56fe.md","route":"/uml/\u6cf3\u9053\u56fe.md","leaf":true,"title":"\u6cf3\u9053\u56fe","depth":1,"content":"","isLeaf":true},{"key":"/uml/\u6d41\u7a0b\u56fe.md","path":"/uml/\u6d41\u7a0b\u56fe.md","route":"/uml/\u6d41\u7a0b\u56fe.md","leaf":true,"title":"\u6d41\u7a0b\u56fe","depth":1,"content":"","isLeaf":true},{"key":"/uml/\u72b6\u6001\u56fe.md","path":"/uml/\u72b6\u6001\u56fe.md","route":"/uml/\u72b6\u6001\u56fe.md","leaf":true,"title":"\u72b6\u6001\u56fe","depth":1,"content":"","isLeaf":true}]},{"key":"/\u4f4e\u4ee3\u7801","path":"/\u4f4e\u4ee3\u7801","route":"/\u4f4e\u4ee3\u7801","leaf":false,"title":"\u4f4e\u4ee3\u7801","depth":0,"content":"","isLeaf":false,"children":[{"key":"/\u4f4e\u4ee3\u7801/01 \u4ece 0 \u6784\u5efa\u4e00\u4e2a\u57fa\u4e8e ER \u56fe\u7684\u4f4e\u4ee3\u7801\u540e\u7aef.md","path":"/\u4f4e\u4ee3\u7801/01 \u4ece 0 \u6784\u5efa\u4e00\u4e2a\u57fa\u4e8e ER \u56fe\u7684\u4f4e\u4ee3\u7801\u540e\u7aef.md","route":"/\u4f4e\u4ee3\u7801/01 \u4ece 0 \u6784\u5efa\u4e00\u4e2a\u57fa\u4e8e ER \u56fe\u7684\u4f4e\u4ee3\u7801\u540e\u7aef.md","leaf":true,"title":"01 \u4ece 0 \u6784\u5efa\u4e00\u4e2a\u57fa\u4e8e ER \u56fe\u7684\u4f4e\u4ee3\u7801\u540e\u7aef","depth":1,"content":"https://zhuanlan.zhihu.com/p/395026008","isLeaf":true}]},{"key":"/\u8f6f\u4ef6\u6d4b\u8bd5","path":"/\u8f6f\u4ef6\u6d4b\u8bd5","route":"/\u8f6f\u4ef6\u6d4b\u8bd5","leaf":false,"title":"\u8f6f\u4ef6\u6d4b\u8bd5","depth":0,"content":"","isLeaf":false,"children":[{"key":"/\u8f6f\u4ef6\u6d4b\u8bd5/e2e[\u7aef\u5230\u7aef].md","path":"/\u8f6f\u4ef6\u6d4b\u8bd5/e2e[\u7aef\u5230\u7aef].md","route":"/\u8f6f\u4ef6\u6d4b\u8bd5/e2e[\u7aef\u5230\u7aef].md","leaf":true,"title":"e2e[\u7aef\u5230\u7aef]","depth":1,"content":"E2E\uff08End-to-End\uff09\u6d4b\u8bd5\u662f\u4e00\u79cd\u8f6f\u4ef6\u6d4b\u8bd5\u65b9\u6cd5\uff0c\u65e8\u5728\u6a21\u62df\u771f\u5b9e\u7684\u7528\u6237\u573a\u666f\uff0c\u6d4b\u8bd5\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u7684\u529f\u80fd\u548c\u6027\u80fd\u3002\u5b83\u6d4b\u8bd5\u4e86\u6574\u4e2a\u8f6f\u4ef6\u7cfb\u7edf\u7684\u7aef\u5230\u7aef\u529f\u80fd\uff0c\u6db5\u76d6\u4e86\u4ece\u7528\u6237\u754c\u9762\u5230\u540e\u7aef\u7cfb\u7edf\u7684\u6240\u6709\u7ec4\u4ef6\u3002\\n\\nE2E \u6d4b\u8bd5\u9700\u8981\u5c06\u5e94\u7528\u7a0b\u5e8f\u89c6\u4e3a\u4e00\u4e2a\u6574\u4f53\uff0c\u4ece\u7528\u6237\u7684\u89d2\u5ea6\u89c2\u5bdf\u5e94\u7528\u7a0b\u5e8f\u7684\u884c\u4e3a\u3002\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\uff0c\u901a\u8fc7\u6a21\u62df\u7528\u6237\u7684\u884c\u4e3a\u3001\u8f93\u5165\u548c\u73af\u5883\u6761\u4ef6\uff0c\u9a8c\u8bc1\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5728\u4e0d\u540c\u573a\u666f\u4e0b\u7684\u529f\u80fd\u548c\u6027\u80fd\u3002\u8fd9\u79cd\u6d4b\u8bd5\u65b9\u6cd5\u53ef\u4ee5\u7528\u6765\u68c0\u67e5\u5e94\u7528\u7a0b\u5e8f\u5728\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u3001\u6d4f\u89c8\u5668\u548c\u8bbe\u5907\u4e0a\u7684\u4ea4\u4e92\u548c\u517c\u5bb9\u6027\u3002\\n\\nE2E \u6d4b\u8bd5\u7684\u4f18\u70b9\u662f\u53ef\u4ee5\u53d1\u73b0\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4ee5\u53ca\u5176\u7ec4\u4ef6\u4e4b\u95f4\u7684\u96c6\u6210\u95ee\u9898\u548c\u6f5c\u5728\u7684\u9519\u8bef\u3002\u5b83\u8fd8\u53ef\u4ee5\u9a8c\u8bc1\u5e94\u7528\u7a0b\u5e8f\u662f\u5426\u7b26\u5408\u7528\u6237\u9700\u6c42\u548c\u9884\u671f\u529f\u80fd\uff0c\u4ee5\u786e\u4fdd\u7528\u6237\u83b7\u5f97\u65e0\u7f1d\u7684\u7528\u6237\u4f53\u9a8c\u3002\\n\\n\u4e00\u4e9b\u5e38\u7528\u7684 E2E \u6d4b\u8bd5\u5de5\u5177\u5305\u62ec Selenium\u3001Cypress\u3001Appium \u7b49\uff0c\u5b83\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e9b\u529f\u80fd\u548cAPI\uff0c\u7528\u4e8e\u81ea\u52a8\u5316\u6a21\u62df\u7528\u6237\u64cd\u4f5c\u5e76\u9a8c\u8bc1\u5e94\u7528\u7a0b\u5e8f\u7684\u884c\u4e3a\u3002","isLeaf":true},{"key":"/\u8f6f\u4ef6\u6d4b\u8bd5/jest.md","path":"/\u8f6f\u4ef6\u6d4b\u8bd5/jest.md","route":"/\u8f6f\u4ef6\u6d4b\u8bd5/jest.md","leaf":true,"title":"jest","depth":1,"content":"---\\ntags: \u6d4b\u8bd5\u65b9\u6cd5\u8bba\\n---\\n\\n\u5728 JavaScript \u4e2d\uff0cJest \u662f\u4e00\u4e2a\u6d41\u884c\u7684\u6d4b\u8bd5\u6846\u67b6\uff0c\u7528\u4e8e\u7f16\u5199\u548c\u8fd0\u884c\u5355\u5143\u6d4b\u8bd5\u548c\u96c6\u6210\u6d4b\u8bd5\u3002Jest \u63d0\u4f9b\u4e86\u4e00\u79cd\u65b9\u4fbf\u7684\u65b9\u5f0f\u6765\u7f16\u5199\u3001\u8fd0\u884c\u548c\u62a5\u544a\u6d4b\u8bd5\u7ed3\u679c\u3002\\n`jest --coverage`\u547d\u4ee4\u7528\u4e8e\u751f\u6210\u4ee3\u7801\u8986\u76d6\u7387\u62a5\u544a\u3002\u4ee3\u7801\u8986\u76d6\u7387\u662f\u8861\u91cf\u6d4b\u8bd5\u4ee3\u7801\u5bf9\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u7684\u8986\u76d6\u7a0b\u5ea6\u7684\u6307\u6807\u3002\u5b83\u544a\u8bc9\u60a8\u6d4b\u8bd5\u6848\u4f8b\u662f\u5426\u8db3\u591f\u5168\u9762\uff0c\u4ee5\u9a8c\u8bc1\u5e94\u7528\u7a0b\u5e8f\u7684\u5404\u4e2a\u90e8\u5206\u3002\\n\\n\u5f53\u60a8\u5728\u8fd0\u884c`jest`\u547d\u4ee4\u65f6\u6dfb\u52a0`--coverage`\u9009\u9879\uff0cJest\u5c06\u6267\u884c\u6d4b\u8bd5\u6848\u4f8b\u5e76\u6536\u96c6\u6709\u5173\u6bcf\u4e2a\u6d4b\u8bd5\u6587\u4ef6\u4e2d\u6bcf\u4e2a\u51fd\u6570\u3001\u5206\u652f\u548c\u8bed\u53e5\u7684\u8986\u76d6\u4fe1\u606f\u3002\u5b83\u4f1a\u751f\u6210\u4e00\u4e2a\u4ee3\u7801\u8986\u76d6\u7387\u62a5\u544a\uff0c\u5176\u4e2d\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a\\n- \u884c\u8986\u76d6\u7387\uff1a\u6bcf\u4e2a\u6587\u4ef6\u4e2d\u6267\u884c\u7684\u6d4b\u8bd5\u884c\u6570\u4e0e\u603b\u884c\u6570\u7684\u6bd4\u4f8b\u3002\\n- \u5206\u652f\u8986\u76d6\u7387\uff1a\u6bcf\u4e2a\u6761\u4ef6/\u5206\u652f\u4e2d\u6267\u884c\u7684\u6d4b\u8bd5\u6bd4\u4f8b\u3002\\n- \u51fd\u6570\u8986\u76d6\u7387\uff1a\u6bcf\u4e2a\u51fd\u6570\u4e2d\u6267\u884c\u7684\u6d4b\u8bd5\u6bd4\u4f8b\u3002\\n- \u8bed\u53e5\u8986\u76d6\u7387\uff1a\u6bcf\u4e2a\u8bed\u53e5\u4e2d\u6267\u884c\u7684\u6d4b\u8bd5\u6bd4\u4f8b\u3002\\n\\n\u8986\u76d6\u7387\u62a5\u544a\u53ef\u4ee5\u5e2e\u52a9\u60a8\u786e\u5b9a\u6d4b\u8bd5\u7684\u8d28\u91cf\u548c\u5b8c\u6574\u6027\u3002\u901a\u8fc7\u67e5\u770b\u54ea\u4e9b\u90e8\u5206\u7f3a\u4e4f\u8db3\u591f\u7684\u6d4b\u8bd5\uff0c\u60a8\u53ef\u4ee5\u589e\u52a0\u6d4b\u8bd5\u6848\u4f8b\u4ee5\u63d0\u9ad8\u4ee3\u7801\u8986\u76d6\u7387\u3002\u6b64\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528\u8986\u76d6\u7387\u62a5\u544a\u6765\u68c0\u67e5\u4e0d\u5e38\u7528\u7684\u4ee3\u7801\u5206\u652f\u548c\u529f\u80fd\uff0c\u4ee5\u786e\u4fdd\u5b83\u4eec\u4e5f\u5f97\u5230\u4e86\u9002\u5f53\u7684\u6d4b\u8bd5\u8986\u76d6\u3002\\n\\n## \u53ef\u89c6\u5316\u751f\u6210\\n\\n\u8986\u76d6\u7387\u53ef\u89c6\u5316\u62a5\u544a = \u636e\u539f\u4ee3\u7801 + coverage data\\n![20230706115121](http://s3.airtlab.com/blog/20230706115121.png)\\n\\n## \u53c2\u8003\\n\\n- [Jest | \u6d4b\u8bd5\u6846\u67b6\u5b9e\u6218\u4e4b-coverage\u547d\u4ee4\u5b9e\u73b0\u539f\u7406](https://juejin.cn/post/7035139783911276551)\\n- [Nest\u7684test\u4e2d\u7684best\u662fJest\u6846\u67b6](https://justin3go.com/%E5%8D%9A%E5%AE%A2/2023/05/01Nest%E7%9A%84test%E4%B8%AD%E7%9A%84best%E6%98%AFJest%E6%A1%86%E6%9E%B6.html#jest%E7%BC%96%E5%86%99%E5%8D%95%E6%B5%8B%E7%94%A8%E4%BE%8B)\\n\\n\\n```js\\n\\"use strict\\";\\n\\n/* istanbul ignore next */\\nfunction cov_1i38u7idc3() {\\n  var path = \\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.service.ts\\";\\n  var hash = \\"25afe50c22c12ffc15e6f7fe8099588dd5984899\\";\\n  var global = new Function(\\"return this\\")();\\n  var gcv = \\"__coverage__\\";\\n  var coverageData = {\\n    path: \\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.service.ts\\",\\n    statementMap: {\\n      \\"0\\": {\\n        start: {\\n          line: 2,\\n          column: 17\\n        },\\n        end: {\\n          line: 7,\\n          column: 1\\n        }\\n      },\\n      \\"1\\": {\\n        start: {\\n          line: 3,\\n          column: 12\\n        },\\n        end: {\\n          line: 3,\\n          column: 28\\n        }\\n      },\\n      \\"2\\": {\\n        start: {\\n          line: 3,\\n          column: 34\\n        },\\n        end: {\\n          line: 3,\\n          column: 125\\n        }\\n      },\\n      \\"3\\": {\\n        start: {\\n          line: 4,\\n          column: 4\\n        },\\n        end: {\\n          line: 5,\\n          column: 150\\n        }\\n      },\\n      \\"4\\": {\\n        start: {\\n          line: 4,\\n          column: 79\\n        },\\n        end: {\\n          line: 4,\\n          column: 131\\n        }\\n      },\\n      \\"5\\": {\\n        start: {\\n          line: 5,\\n          column: 9\\n        },\\n        end: {\\n          line: 5,\\n          column: 150\\n        }\\n      },\\n      \\"6\\": {\\n        start: {\\n          line: 5,\\n          column: 22\\n        },\\n        end: {\\n          line: 5,\\n          column: 43\\n        }\\n      },\\n      \\"7\\": {\\n        start: {\\n          line: 5,\\n          column: 58\\n        },\\n        end: {\\n          line: 5,\\n          column: 150\\n        }\\n      },\\n      \\"8\\": {\\n        start: {\\n          line: 5,\\n          column: 81\\n        },\\n        end: {\\n          line: 5,\\n          column: 150\\n        }\\n      },\\n      \\"9\\": {\\n        start: {\\n          line: 6,\\n          column: 4\\n        },\\n        end: {\\n          line: 6,\\n          column: 66\\n        }\\n      },\\n      \\"10\\": {\\n        start: {\\n          line: 8,\\n          column: 0\\n        },\\n        end: {\\n          line: 8,\\n          column: 62\\n        }\\n      },\\n      \\"11\\": {\\n        start: {\\n          line: 9,\\n          column: 0\\n        },\\n        end: {\\n          line: 9,\\n          column: 28\\n        }\\n      },\\n      \\"12\\": {\\n        start: {\\n          line: 10,\\n          column: 17\\n        },\\n        end: {\\n          line: 10,\\n          column: 42\\n        }\\n      },\\n      \\"13\\": {\\n        start: {\\n          line: 11,\\n          column: 17\\n        },\\n        end: {\\n          line: 15,\\n          column: 1\\n        }\\n      },\\n      \\"14\\": {\\n        start: {\\n          line: 13,\\n          column: 8\\n        },\\n        end: {\\n          line: 13,\\n          column: 30\\n        }\\n      },\\n      \\"15\\": {\\n        start: {\\n          line: 16,\\n          column: 0\\n        },\\n        end: {\\n          line: 18,\\n          column: 15\\n        }\\n      },\\n      \\"16\\": {\\n        start: {\\n          line: 19,\\n          column: 0\\n        },\\n        end: {\\n          line: 19,\\n          column: 32\\n        }\\n      }\\n    },\\n    fnMap: {\\n      \\"0\\": {\\n        name: \\"(anonymous_0)\\",\\n        decl: {\\n          start: {\\n            line: 2,\\n            column: 46\\n          },\\n          end: {\\n            line: 2,\\n            column: 47\\n          }\\n        },\\n        loc: {\\n          start: {\\n            line: 2,\\n            column: 87\\n          },\\n          end: {\\n            line: 7,\\n            column: 1\\n          }\\n        },\\n        line: 2\\n      },\\n      \\"1\\": {\\n        name: \\"(anonymous_1)\\",\\n        decl: {\\n          start: {\\n            line: 12,\\n            column: 4\\n          },\\n          end: {\\n            line: 12,\\n            column: 5\\n          }\\n        },\\n        loc: {\\n          start: {\\n            line: 12,\\n            column: 15\\n          },\\n          end: {\\n            line: 14,\\n            column: 5\\n          }\\n        },\\n        line: 12\\n      }\\n    },\\n    branchMap: {\\n      \\"0\\": {\\n        loc: {\\n          start: {\\n            line: 2,\\n            column: 17\\n          },\\n          end: {\\n            line: 7,\\n            column: 1\\n          }\\n        },\\n        type: \\"binary-expr\\",\\n        locations: [{\\n          start: {\\n            line: 2,\\n            column: 18\\n          },\\n          end: {\\n            line: 2,\\n            column: 22\\n          }\\n        }, {\\n          start: {\\n            line: 2,\\n            column: 26\\n          },\\n          end: {\\n            line: 2,\\n            column: 41\\n          }\\n        }, {\\n          start: {\\n            line: 2,\\n            column: 46\\n          },\\n          end: {\\n            line: 7,\\n            column: 1\\n          }\\n        }],\\n        line: 2\\n      },\\n      \\"1\\": {\\n        loc: {\\n          start: {\\n            line: 3,\\n            column: 34\\n          },\\n          end: {\\n            line: 3,\\n            column: 125\\n          }\\n        },\\n        type: \\"cond-expr\\",\\n        locations: [{\\n          start: {\\n            line: 3,\\n            column: 42\\n          },\\n          end: {\\n            line: 3,\\n            column: 48\\n          }\\n        }, {\\n          start: {\\n            line: 3,\\n            column: 51\\n          },\\n          end: {\\n            line: 3,\\n            column: 125\\n          }\\n        }],\\n        line: 3\\n      },\\n      \\"2\\": {\\n        loc: {\\n          start: {\\n            line: 3,\\n            column: 51\\n          },\\n          end: {\\n            line: 3,\\n            column: 125\\n          }\\n        },\\n        type: \\"cond-expr\\",\\n        locations: [{\\n          start: {\\n            line: 3,\\n            column: 67\\n          },\\n          end: {\\n            line: 3,\\n            column: 118\\n          }\\n        }, {\\n          start: {\\n            line: 3,\\n            column: 121\\n          },\\n          end: {\\n            line: 3,\\n            column: 125\\n          }\\n        }],\\n        line: 3\\n      },\\n      \\"3\\": {\\n        loc: {\\n          start: {\\n            line: 4,\\n            column: 4\\n          },\\n          end: {\\n            line: 5,\\n            column: 150\\n          }\\n        },\\n        type: \\"if\\",\\n        locations: [{\\n          start: {\\n            line: 4,\\n            column: 4\\n          },\\n          end: {\\n            line: 5,\\n            column: 150\\n          }\\n        }, {\\n          start: {\\n            line: 5,\\n            column: 9\\n          },\\n          end: {\\n            line: 5,\\n            column: 150\\n          }\\n        }],\\n        line: 4\\n      },\\n      \\"4\\": {\\n        loc: {\\n          start: {\\n            line: 4,\\n            column: 8\\n          },\\n          end: {\\n            line: 4,\\n            column: 77\\n          }\\n        },\\n        type: \\"binary-expr\\",\\n        locations: [{\\n          start: {\\n            line: 4,\\n            column: 8\\n          },\\n          end: {\\n            line: 4,\\n            column: 35\\n          }\\n        }, {\\n          start: {\\n            line: 4,\\n            column: 39\\n          },\\n          end: {\\n            line: 4,\\n            column: 77\\n          }\\n        }],\\n        line: 4\\n      },\\n      \\"5\\": {\\n        loc: {\\n          start: {\\n            line: 5,\\n            column: 58\\n          },\\n          end: {\\n            line: 5,\\n            column: 150\\n          }\\n        },\\n        type: \\"if\\",\\n        locations: [{\\n          start: {\\n            line: 5,\\n            column: 58\\n          },\\n          end: {\\n            line: 5,\\n            column: 150\\n          }\\n        }, {\\n          start: {\\n            line: undefined,\\n            column: undefined\\n          },\\n          end: {\\n            line: undefined,\\n            column: undefined\\n          }\\n        }],\\n        line: 5\\n      },\\n      \\"6\\": {\\n        loc: {\\n          start: {\\n            line: 5,\\n            column: 85\\n          },\\n          end: {\\n            line: 5,\\n            column: 149\\n          }\\n        },\\n        type: \\"binary-expr\\",\\n        locations: [{\\n          start: {\\n            line: 5,\\n            column: 86\\n          },\\n          end: {\\n            line: 5,\\n            column: 143\\n          }\\n        }, {\\n          start: {\\n            line: 5,\\n            column: 148\\n          },\\n          end: {\\n            line: 5,\\n            column: 149\\n          }\\n        }],\\n        line: 5\\n      },\\n      \\"7\\": {\\n        loc: {\\n          start: {\\n            line: 5,\\n            column: 86\\n          },\\n          end: {\\n            line: 5,\\n            column: 143\\n          }\\n        },\\n        type: \\"cond-expr\\",\\n        locations: [{\\n          start: {\\n            line: 5,\\n            column: 94\\n          },\\n          end: {\\n            line: 5,\\n            column: 98\\n          }\\n        }, {\\n          start: {\\n            line: 5,\\n            column: 101\\n          },\\n          end: {\\n            line: 5,\\n            column: 143\\n          }\\n        }],\\n        line: 5\\n      },\\n      \\"8\\": {\\n        loc: {\\n          start: {\\n            line: 5,\\n            column: 101\\n          },\\n          end: {\\n            line: 5,\\n            column: 143\\n          }\\n        },\\n        type: \\"cond-expr\\",\\n        locations: [{\\n          start: {\\n            line: 5,\\n            column: 109\\n          },\\n          end: {\\n            line: 5,\\n            column: 126\\n          }\\n        }, {\\n          start: {\\n            line: 5,\\n            column: 129\\n          },\\n          end: {\\n            line: 5,\\n            column: 143\\n          }\\n        }],\\n        line: 5\\n      },\\n      \\"9\\": {\\n        loc: {\\n          start: {\\n            line: 6,\\n            column: 11\\n          },\\n          end: {\\n            line: 6,\\n            column: 62\\n          }\\n        },\\n        type: \\"binary-expr\\",\\n        locations: [{\\n          start: {\\n            line: 6,\\n            column: 11\\n          },\\n          end: {\\n            line: 6,\\n            column: 16\\n          }\\n        }, {\\n          start: {\\n            line: 6,\\n            column: 20\\n          },\\n          end: {\\n            line: 6,\\n            column: 21\\n          }\\n        }, {\\n          start: {\\n            line: 6,\\n            column: 25\\n          },\\n          end: {\\n            line: 6,\\n            column: 62\\n          }\\n        }],\\n        line: 6\\n      }\\n    },\\n    s: {\\n      \\"0\\": 0,\\n      \\"1\\": 0,\\n      \\"2\\": 0,\\n      \\"3\\": 0,\\n      \\"4\\": 0,\\n      \\"5\\": 0,\\n      \\"6\\": 0,\\n      \\"7\\": 0,\\n      \\"8\\": 0,\\n      \\"9\\": 0,\\n      \\"10\\": 0,\\n      \\"11\\": 0,\\n      \\"12\\": 0,\\n      \\"13\\": 0,\\n      \\"14\\": 0,\\n      \\"15\\": 0,\\n      \\"16\\": 0\\n    },\\n    f: {\\n      \\"0\\": 0,\\n      \\"1\\": 0\\n    },\\n    b: {\\n      \\"0\\": [0, 0, 0],\\n      \\"1\\": [0, 0],\\n      \\"2\\": [0, 0],\\n      \\"3\\": [0, 0],\\n      \\"4\\": [0, 0],\\n      \\"5\\": [0, 0],\\n      \\"6\\": [0, 0],\\n      \\"7\\": [0, 0],\\n      \\"8\\": [0, 0],\\n      \\"9\\": [0, 0, 0]\\n    },\\n    inputSourceMap: {\\n      file: \\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.service.ts\\",\\n      mappings: \\";;;;;;;;;AAAA,2CAA4C;AAGrC,IAAM,UAAU,GAAhB,MAAM,UAAU;IACrB,QAAQ;QACN,OAAO,cAAc,CAAC;IACxB,CAAC;CACF,CAAA;AAJY,UAAU;IADtB,IAAA,mBAAU,GAAE;GACA,UAAU,CAItB;AAJY,gCAAU\\",\\n      names: [],\\n      sources: [\\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.service.ts\\"],\\n      sourcesContent: [\\"import { Injectable } from \'@nestjs/common\';\\\\n\\\\n@Injectable()\\\\nexport class AppService {\\\\n  getHello() {\\\\n    return \'Hello World!\';\\\\n  }\\\\n}\\\\n\\"],\\n      version: 3\\n    },\\n    _coverageSchema: \\"1a1c01bbd47fc00a2c39e90264f33305004495a9\\",\\n    hash: \\"25afe50c22c12ffc15e6f7fe8099588dd5984899\\"\\n  };\\n  var coverage = global[gcv] || (global[gcv] = {});\\n  if (!coverage[path] || coverage[path].hash !== hash) {\\n    coverage[path] = coverageData;\\n  }\\n  var actualCoverage = coverage[path];\\n  {\\n    // @ts-ignore\\n    cov_1i38u7idc3 = function () {\\n      return actualCoverage;\\n    };\\n  }\\n  return actualCoverage;\\n}\\ncov_1i38u7idc3();\\nvar __decorate =\\n/* istanbul ignore next */\\n(cov_1i38u7idc3().s[0]++,\\n/* istanbul ignore next */\\n(cov_1i38u7idc3().b[0][0]++, this) &&\\n/* istanbul ignore next */\\n(cov_1i38u7idc3().b[0][1]++, this.__decorate) ||\\n/* istanbul ignore next */\\n(cov_1i38u7idc3().b[0][2]++, function (decorators, target, key, desc) {\\n  /* istanbul ignore next */\\n  cov_1i38u7idc3().f[0]++;\\n  var c =\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().s[1]++, arguments.length),\\n    r =\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().s[2]++, c < 3 ?\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().b[1][0]++, target) :\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().b[1][1]++, desc === null ?\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().b[2][0]++, desc = Object.getOwnPropertyDescriptor(target, key)) :\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().b[2][1]++, desc))),\\n    d;\\n  /* istanbul ignore next */\\n  cov_1i38u7idc3().s[3]++;\\n  if (\\n  /* istanbul ignore next */\\n  (cov_1i38u7idc3().b[4][0]++, typeof Reflect === \\"object\\") &&\\n  /* istanbul ignore next */\\n  (cov_1i38u7idc3().b[4][1]++, typeof Reflect.decorate === \\"function\\")) {\\n    /* istanbul ignore next */\\n    cov_1i38u7idc3().b[3][0]++;\\n    cov_1i38u7idc3().s[4]++;\\n    r = Reflect.decorate(decorators, target, key, desc);\\n  } else {\\n    /* istanbul ignore next */\\n    cov_1i38u7idc3().b[3][1]++;\\n    cov_1i38u7idc3().s[5]++;\\n    for (var i =\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().s[6]++, decorators.length - 1); i >= 0; i--) {\\n      /* istanbul ignore next */\\n      cov_1i38u7idc3().s[7]++;\\n      if (d = decorators[i]) {\\n        /* istanbul ignore next */\\n        cov_1i38u7idc3().b[5][0]++;\\n        cov_1i38u7idc3().s[8]++;\\n        r =\\n        /* istanbul ignore next */\\n        (cov_1i38u7idc3().b[6][0]++, c < 3 ?\\n        /* istanbul ignore next */\\n        (cov_1i38u7idc3().b[7][0]++, d(r)) :\\n        /* istanbul ignore next */\\n        (cov_1i38u7idc3().b[7][1]++, c > 3 ?\\n        /* istanbul ignore next */\\n        (cov_1i38u7idc3().b[8][0]++, d(target, key, r)) :\\n        /* istanbul ignore next */\\n        (cov_1i38u7idc3().b[8][1]++, d(target, key)))) ||\\n        /* istanbul ignore next */\\n        (cov_1i38u7idc3().b[6][1]++, r);\\n      } else\\n      /* istanbul ignore next */\\n      {\\n        cov_1i38u7idc3().b[5][1]++;\\n      }\\n    }\\n  }\\n  /* istanbul ignore next */\\n  cov_1i38u7idc3().s[9]++;\\n  return (\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().b[9][0]++, c > 3) &&\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().b[9][1]++, r) &&\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().b[9][2]++, Object.defineProperty(target, key, r)), r\\n  );\\n}));\\n/* istanbul ignore next */\\ncov_1i38u7idc3().s[10]++;\\nObject.defineProperty(exports, \\"__esModule\\", {\\n  value: true\\n});\\n/* istanbul ignore next */\\ncov_1i38u7idc3().s[11]++;\\nexports.AppService = void 0;\\nconst common_1 =\\n/* istanbul ignore next */\\n(cov_1i38u7idc3().s[12]++, require(\\"@nestjs/common\\"));\\n/* istanbul ignore next */\\ncov_1i38u7idc3().s[13]++;\\nlet AppService = class AppService {\\n  getHello() {\\n    /* istanbul ignore next */\\n    cov_1i38u7idc3().f[1]++;\\n    cov_1i38u7idc3().s[14]++;\\n    return \'Hello World!\';\\n  }\\n};\\n/* istanbul ignore next */\\ncov_1i38u7idc3().s[15]++;\\nAppService = __decorate([(0, common_1.Injectable)()], AppService);\\n/* istanbul ignore next */\\ncov_1i38u7idc3().s[16]++;\\nexports.AppService = AppService;\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWkzOHU3aWRjMyIsImFjdHVhbENvdmVyYWdlIiwiY29tbW9uXzEiLCJzIiwicmVxdWlyZSIsIkFwcFNlcnZpY2UiLCJnZXRIZWxsbyIsImYiLCJfX2RlY29yYXRlIiwiSW5qZWN0YWJsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyIvVXNlcnMveGlvbmcuZ2FvL2NvZGUvbGVhcm4tYm9va3MvZGVtb3MvbnljLWRlbW8vbnljLW5lc3Rqcy9zcmMvYXBwLnNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEFwcFNlcnZpY2Uge1xuICBnZXRIZWxsbygpIHtcbiAgICByZXR1cm4gJ0hlbGxvIFdvcmxkISc7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUd1QjtJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxjQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFIdkIsTUFBQUUsUUFBQTtBQUFBO0FBQUEsQ0FBQUYsY0FBQSxHQUFBRyxDQUFBLFFBQUFDLE9BQUE7QUFBNEM7QUFBQUosY0FBQSxHQUFBRyxDQUFBO0FBR3JDLElBQU1FLFVBQVUsR0FBaEIsTUFBTUEsVUFBVTtFQUNyQkMsUUFBUUEsQ0FBQTtJQUFBO0lBQUFOLGNBQUEsR0FBQU8sQ0FBQTtJQUFBUCxjQUFBLEdBQUFHLENBQUE7SUFDTixPQUFPLGNBQWM7RUFDdkI7Q0FDRDtBQUFBO0FBQUFILGNBQUEsR0FBQUcsQ0FBQTtBQUpZRSxVQUFVLEdBQUFHLFVBQUEsRUFEdEIsSUFBQU4sUUFBQSxDQUFBTyxVQUFVLEdBQUUsQyxFQUNBSixVQUFVLENBSXRCO0FBQUE7QUFBQUwsY0FBQSxHQUFBRyxDQUFBO0FBSllPLE9BQUEsQ0FBQUwsVUFBQSxHQUFBQSxVQUFBIn0=\\n```","isLeaf":true},{"key":"/\u8f6f\u4ef6\u6d4b\u8bd5/unit[\u5355\u5143\u6d4b\u8bd5].md","path":"/\u8f6f\u4ef6\u6d4b\u8bd5/unit[\u5355\u5143\u6d4b\u8bd5].md","route":"/\u8f6f\u4ef6\u6d4b\u8bd5/unit[\u5355\u5143\u6d4b\u8bd5].md","leaf":true,"title":"unit[\u5355\u5143\u6d4b\u8bd5]","depth":1,"content":"\u65e0\u8bba\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u4e00\u4e2a\u7c7b\uff0c\u8fd8\u662f\u5176\u4ed6\u4efb\u4f55\u4e1c\u897f\uff0c\u5355\u5143\u6d4b\u8bd5\u90fd\u662f\u4e3a\u4e86\u6d4b\u8bd5\u6bcf\u4e2a\u529f\u80fd/\u6f5c\u5728\u7684\u903b\u8f91\u8def\u5f84\u3002\\n\u4e8b\u5b9e\u4e0a\uff0c\u4e3a\u4f60\u7684\u4ee3\u7801\u7684\u6bcf\u4e00\u4e2a\u53ef\u80fd\u7684\u6d41\u7a0b\u5199\u4e00\u4e2a\u5355\u5143\u6d4b\u8bd5\u88ab\u79f0\u4e3a100%\u4ee3\u7801\u8986\u76d6\u3002\\n\u73b0\u5b9e\u4e0a\uff0c\u4e00\u4e2a\u597d\u7684\u4ee3\u7801\u8986\u76d6\u7387\u770b\u8d77\u6765\u66f4\u50cf\u662f80%\u3002\u8986\u76d6\u7387\u8d8a\u9ad8\uff0c\u5f53\u4f60\u7684\u5355\u5143\u6d4b\u8bd5\u901a\u8fc7\u65f6\uff0c\u4f60\u5bf9\u4f60\u7684\u4ee3\u7801\u5c31\u8d8a\u6709\u4fe1\u5fc3\u3002","isLeaf":true}]}]');function rt(){return rt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rt.apply(this,arguments)}var ot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"};function at(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},a=Object.keys(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var it=t(1694),st=t.n(it);function lt(n,e){(function(n){return"string"===typeof n&&-1!==n.indexOf(".")&&1===parseFloat(n)})(n)&&(n="100%");var t=function(n){return"string"===typeof n&&-1!==n.indexOf("%")}(n);return n=360===e?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:n=360===e?(n<0?n%e+e:n%e)/parseFloat(String(e)):n%e/parseFloat(String(e))}function ct(n){return Math.min(1,Math.max(0,n))}function ut(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function dt(n){return n<=1?"".concat(100*Number(n),"%"):n}function pt(n){return 1===n.length?"0"+n:String(n)}function ft(n,e,t){n=lt(n,255),e=lt(e,255),t=lt(t,255);var r=Math.max(n,e,t),o=Math.min(n,e,t),a=0,i=0,s=(r+o)/2;if(r===o)i=0,a=0;else{var l=r-o;switch(i=s>.5?l/(2-r-o):l/(r+o),r){case n:a=(e-t)/l+(e<t?6:0);break;case e:a=(t-n)/l+2;break;case t:a=(n-e)/l+4}a/=6}return{h:a,s:i,l:s}}function mt(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*t*(e-n):t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function ht(n,e,t){n=lt(n,255),e=lt(e,255),t=lt(t,255);var r=Math.max(n,e,t),o=Math.min(n,e,t),a=0,i=r,s=r-o,l=0===r?0:s/r;if(r===o)a=0;else{switch(r){case n:a=(e-t)/s+(e<t?6:0);break;case e:a=(t-n)/s+2;break;case t:a=(n-e)/s+4}a/=6}return{h:a,s:l,v:i}}function gt(n,e,t,r){var o=[pt(Math.round(n).toString(16)),pt(Math.round(e).toString(16)),pt(Math.round(t).toString(16))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function yt(n){return Math.round(255*parseFloat(n)).toString(16)}function bt(n){return vt(n)/255}function vt(n){return parseInt(n,16)}var xt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function wt(n){var e,t,r,o={r:0,g:0,b:0},a=1,i=null,s=null,l=null,c=!1,u=!1;return"string"===typeof n&&(n=function(n){if(n=n.trim().toLowerCase(),0===n.length)return!1;var e=!1;if(xt[n])n=xt[n],e=!0;else if("transparent"===n)return{r:0,g:0,b:0,a:0,format:"name"};var t=Et.rgb.exec(n);if(t)return{r:t[1],g:t[2],b:t[3]};if(t=Et.rgba.exec(n),t)return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=Et.hsl.exec(n),t)return{h:t[1],s:t[2],l:t[3]};if(t=Et.hsla.exec(n),t)return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=Et.hsv.exec(n),t)return{h:t[1],s:t[2],v:t[3]};if(t=Et.hsva.exec(n),t)return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=Et.hex8.exec(n),t)return{r:vt(t[1]),g:vt(t[2]),b:vt(t[3]),a:bt(t[4]),format:e?"name":"hex8"};if(t=Et.hex6.exec(n),t)return{r:vt(t[1]),g:vt(t[2]),b:vt(t[3]),format:e?"name":"hex"};if(t=Et.hex4.exec(n),t)return{r:vt(t[1]+t[1]),g:vt(t[2]+t[2]),b:vt(t[3]+t[3]),a:bt(t[4]+t[4]),format:e?"name":"hex8"};if(t=Et.hex3.exec(n),t)return{r:vt(t[1]+t[1]),g:vt(t[2]+t[2]),b:vt(t[3]+t[3]),format:e?"name":"hex"};return!1}(n)),"object"===typeof n&&(Ct(n.r)&&Ct(n.g)&&Ct(n.b)?(e=n.r,t=n.g,r=n.b,o={r:255*lt(e,255),g:255*lt(t,255),b:255*lt(r,255)},c=!0,u="%"===String(n.r).substr(-1)?"prgb":"rgb"):Ct(n.h)&&Ct(n.s)&&Ct(n.v)?(i=dt(n.s),s=dt(n.v),o=function(n,e,t){n=6*lt(n,360),e=lt(e,100),t=lt(t,100);var r=Math.floor(n),o=n-r,a=t*(1-e),i=t*(1-o*e),s=t*(1-(1-o)*e),l=r%6;return{r:255*[t,i,a,a,s,t][l],g:255*[s,t,t,i,a,a][l],b:255*[a,a,s,t,t,i][l]}}(n.h,i,s),c=!0,u="hsv"):Ct(n.h)&&Ct(n.s)&&Ct(n.l)&&(i=dt(n.s),l=dt(n.l),o=function(n,e,t){var r,o,a;if(n=lt(n,360),e=lt(e,100),t=lt(t,100),0===e)o=t,a=t,r=t;else{var i=t<.5?t*(1+e):t+e-t*e,s=2*t-i;r=mt(s,i,n+1/3),o=mt(s,i,n),a=mt(s,i,n-1/3)}return{r:255*r,g:255*o,b:255*a}}(n.h,i,l),c=!0,u="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(a=n.a)),a=ut(a),{ok:c,format:n.format||u,r:Math.min(255,Math.max(o.r,0)),g:Math.min(255,Math.max(o.g,0)),b:Math.min(255,Math.max(o.b,0)),a:a}}var kt="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),St="[\\s|\\(]+(".concat(kt,")[,|\\s]+(").concat(kt,")[,|\\s]+(").concat(kt,")\\s*\\)?"),_t="[\\s|\\(]+(".concat(kt,")[,|\\s]+(").concat(kt,")[,|\\s]+(").concat(kt,")[,|\\s]+(").concat(kt,")\\s*\\)?"),Et={CSS_UNIT:new RegExp(kt),rgb:new RegExp("rgb"+St),rgba:new RegExp("rgba"+_t),hsl:new RegExp("hsl"+St),hsla:new RegExp("hsla"+_t),hsv:new RegExp("hsv"+St),hsva:new RegExp("hsva"+_t),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Ct(n){return Boolean(Et.CSS_UNIT.exec(String(n)))}var Nt=2,Tt=.16,qt=.05,At=.05,Lt=.15,jt=5,Pt=4,Ot=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Mt(n){var e=ht(n.r,n.g,n.b);return{h:360*e.h,s:e.s,v:e.v}}function It(n){var e=n.r,t=n.g,r=n.b;return"#".concat(gt(e,t,r,!1))}function Dt(n,e,t){var r;return(r=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-Nt*e:Math.round(n.h)+Nt*e:t?Math.round(n.h)+Nt*e:Math.round(n.h)-Nt*e)<0?r+=360:r>=360&&(r-=360),r}function Rt(n,e,t){return 0===n.h&&0===n.s?n.s:((r=t?n.s-Tt*e:e===Pt?n.s+Tt:n.s+qt*e)>1&&(r=1),t&&e===jt&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Ft(n,e,t){var r;return(r=t?n.v+At*e:n.v-Lt*e)>1&&(r=1),Number(r.toFixed(2))}function Bt(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[],r=wt(n),o=jt;o>0;o-=1){var a=Mt(r),i=It(wt({h:Dt(a,o,!0),s:Rt(a,o,!0),v:Ft(a,o,!0)}));t.push(i)}t.push(It(r));for(var s=1;s<=Pt;s+=1){var l=Mt(r),c=It(wt({h:Dt(l,s),s:Rt(l,s),v:Ft(l,s)}));t.push(c)}return"dark"===e.theme?Ot.map((function(n){var r=n.index,o=n.opacity;return It(function(n,e,t){var r=t/100;return{r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b}}(wt(e.backgroundColor||"#141414"),wt(t[r]),100*o))})):t}var zt={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ut={},Ht={};Object.keys(zt).forEach((function(n){Ut[n]=Bt(zt[n]),Ut[n].primary=Ut[n][5],Ht[n]=Bt(zt[n],{theme:"dark",backgroundColor:"#141414"}),Ht[n].primary=Ht[n][5]}));Ut.red,Ut.volcano,Ut.gold,Ut.orange,Ut.yellow,Ut.lime,Ut.green,Ut.cyan;var Gt=Ut.blue,Vt=(Ut.geekblue,Ut.purple,Ut.magenta,Ut.grey,Ut.grey,(0,n.createContext)({}));function Jt(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function Wt(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(t),!0).forEach((function(e){k(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jt(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var Qt={},Kt=[];function $t(n,e){}function Xt(n,e){}function Zt(n,e,t){e||Qt[t]||(n(!1,t),Qt[t]=!0)}function Yt(n,e){Zt($t,n,e)}Yt.preMessage=function(n){Kt.push(n)},Yt.resetWarned=function(){Qt={}},Yt.noteOnce=function(n,e){Zt(Xt,n,e)};var nr=Yt;function er(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var tr="data-rc-order",rr="rc-util-key",or=new Map;function ar(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return n?n.startsWith("data-")?n:"data-".concat(n):rr}function ir(n){return n.attachTo?n.attachTo:document.querySelector("head")||document.body}function sr(n){return Array.from((or.get(n)||n).children).filter((function(n){return"STYLE"===n.tagName}))}function lr(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!er())return null;var t=e.csp,r=e.prepend,o=document.createElement("style");o.setAttribute(tr,function(n){return"queue"===n?"prependQueue":n?"prepend":"append"}(r)),null!==t&&void 0!==t&&t.nonce&&(o.nonce=null===t||void 0===t?void 0:t.nonce),o.innerHTML=n;var a=ir(e),i=a.firstChild;if(r){if("queue"===r){var s=sr(a).filter((function(n){return["prepend","prependQueue"].includes(n.getAttribute(tr))}));if(s.length)return a.insertBefore(o,s[s.length-1].nextSibling),o}a.insertBefore(o,i)}else a.appendChild(o);return o}function cr(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return sr(ir(e)).find((function(t){return t.getAttribute(ar(e))===n}))}function ur(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=cr(n,e);t&&ir(e).removeChild(t)}function dr(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(n,e){var t=or.get(n);if(!t||!function(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}(document,t)){var r=lr("",e),o=r.parentNode;or.set(n,o),n.removeChild(r)}}(ir(t),t);var r=cr(e,t);if(r){var o,a,i;if(null!==(o=t.csp)&&void 0!==o&&o.nonce&&r.nonce!==(null===(a=t.csp)||void 0===a?void 0:a.nonce))r.nonce=null===(i=t.csp)||void 0===i?void 0:i.nonce;return r.innerHTML!==n&&(r.innerHTML=n),r}var s=lr(n,t);return s.setAttribute(ar(t),e),s}function pr(n){var e;return null===n||void 0===n||null===(e=n.getRootNode)||void 0===e?void 0:e.call(n)}function fr(n){return function(n){return pr(n)!==(null===n||void 0===n?void 0:n.ownerDocument)}(n)?pr(n):null}function mr(n){return"object"===c(n)&&"string"===typeof n.name&&"string"===typeof n.theme&&("object"===c(n.icon)||"function"===typeof n.icon)}function hr(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(n).reduce((function(e,t){var r=n[t];if("class"===t)e.className=r,delete e.class;else e[t]=r;return e}),{})}function gr(e,t,r){return r?n.createElement(e.tag,Wt(Wt({key:t},hr(e.attrs)),r),(e.children||[]).map((function(n,r){return gr(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):n.createElement(e.tag,Wt({key:t},hr(e.attrs)),(e.children||[]).map((function(n,r){return gr(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function yr(n){return Bt(n)[0]}function br(n){return n?Array.isArray(n)?n:[n]:[]}var vr=["icon","className","onClick","style","primaryColor","secondaryColor"],xr={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var wr=function(e){var t,r,o=e.icon,a=e.className,i=e.onClick,s=e.style,l=e.primaryColor,c=e.secondaryColor,u=at(e,vr),d=n.useRef(),p=xr;if(l&&(p={primaryColor:l,secondaryColor:c||yr(l)}),function(e){var t=(0,n.useContext)(Vt),r=t.csp,o=t.prefixCls,a="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";o&&(a=a.replace(/anticon/g,o)),(0,n.useEffect)((function(){var n=fr(e.current);dr(a,"@ant-design-icons",{prepend:!0,csp:r,attachTo:n})}),[])}(d),t=mr(o),r="icon should be icon definiton, but got ".concat(o),nr(t,"[@ant-design/icons] ".concat(r)),!mr(o))return null;var f=o;return f&&"function"===typeof f.icon&&(f=Wt(Wt({},f),{},{icon:f.icon(p.primaryColor,p.secondaryColor)})),gr(f.icon,"svg-".concat(f.name),Wt(Wt({className:a,onClick:i,style:s,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:d}))};wr.displayName="IconReact",wr.getTwoToneColors=function(){return Wt({},xr)},wr.setTwoToneColors=function(n){var e=n.primaryColor,t=n.secondaryColor;xr.primaryColor=e,xr.secondaryColor=t||yr(e),xr.calculated=!!t};var kr=wr;function Sr(n){var e=s(br(n),2),t=e[0],r=e[1];return kr.setTwoToneColors({primaryColor:t,secondaryColor:r})}var _r=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Sr(Gt.primary);var Er=n.forwardRef((function(e,t){var r,o=e.className,a=e.icon,i=e.spin,l=e.rotate,c=e.tabIndex,u=e.onClick,d=e.twoToneColor,p=at(e,_r),f=n.useContext(Vt),m=f.prefixCls,h=void 0===m?"anticon":m,g=f.rootClassName,y=st()(g,h,(k(r={},"".concat(h,"-").concat(a.name),!!a.name),k(r,"".concat(h,"-spin"),!!i||"loading"===a.name),r),o),b=c;void 0===b&&u&&(b=-1);var v=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,x=s(br(d),2),w=x[0],S=x[1];return n.createElement("span",rt({role:"img","aria-label":a.name},p,{ref:t,tabIndex:b,onClick:u,className:y}),n.createElement(kr,{icon:a,primaryColor:w,secondaryColor:S,style:v}))}));Er.displayName="AntdIcon",Er.getTwoToneColor=function(){var n=kr.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor},Er.setTwoToneColor=Sr;var Cr=Er,Nr=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:ot}))};var Tr=n.forwardRef(Nr),qr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"},Ar=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:qr}))};var Lr=n.forwardRef(Ar),jr=t(184);var Pr=function(){var e=s((0,n.useState)("NodeJS"),2),t=e[0],r=e[1],o=s((0,n.useState)("outline"),2),a=o[0],i=o[1];return(0,jr.jsx)("div",{className:"page-subject-list",children:(0,jr.jsxs)("div",{className:"content",children:[(0,jr.jsx)("div",{style:{display:"flex"},children:"items"===a?(0,jr.jsx)(Tr,{onClick:function(){return i("outline")},style:{cursor:"pointer"}}):(0,jr.jsx)(Lr,{onClick:function(){return i("items")},style:{cursor:"pointer"}})}),(0,jr.jsx)("div",{className:"list list-".concat(a),children:tt.map((function(n){var e=n.title===t?"item is-active":"item";return(0,jr.jsx)(Ye,{to:"subject".concat(n.key),onClick:function(){r(n.title)},className:e,children:n.title},n.title)}))})]})})};function Or(n,e){var t=Wt({},n);return Array.isArray(e)&&e.forEach((function(n){delete t[n]})),t}var Mr=t(7441);function Ir(n,e){"function"===typeof n?n(e):"object"===c(n)&&n&&"current"in n&&(n.current=e)}function Dr(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e.filter((function(n){return n}));return r.length<=1?r[0]:function(n){e.forEach((function(e){Ir(e,n)}))}}function Rr(n){var e,t,r=(0,Mr.isMemo)(n)?n.type.type:n.type;return!!("function"!==typeof r||null!==(e=r.prototype)&&void 0!==e&&e.render)&&!!("function"!==typeof n||null!==(t=n.prototype)&&void 0!==t&&t.render)}var Fr=n.createContext({getPrefixCls:function(n,e){return e||(n?"ant-".concat(n):"ant")},iconPrefixCls:"anticon"}),Br=(Fr.Consumer,n.isValidElement);function zr(e,t){return function(e,t,r){return Br(e)?n.cloneElement(e,"function"===typeof r?r(e.props||{}):r):t}(e,e,t)}var Ur=function(n){for(var e,t=0,r=0,o=n.length;o>=4;++r,o-=4)e=1540483477*(65535&(e=255&n.charCodeAt(r)|(255&n.charCodeAt(++r))<<8|(255&n.charCodeAt(++r))<<16|(255&n.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),t=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&t)+(59797*(t>>>16)<<16);switch(o){case 3:t^=(255&n.charCodeAt(r+2))<<16;case 2:t^=(255&n.charCodeAt(r+1))<<8;case 1:t=1540483477*(65535&(t^=255&n.charCodeAt(r)))+(59797*(t>>>16)<<16)}return(((t=1540483477*(65535&(t^=t>>>13))+(59797*(t>>>16)<<16))^t>>>15)>>>0).toString(36)};var Hr=function(){function n(e){l(this,n),k(this,"instanceId",void 0),k(this,"cache",new Map),this.instanceId=e}return p(n,[{key:"get",value:function(n){return this.cache.get(n.join("%"))||null}},{key:"update",value:function(n,e){var t=n.join("%"),r=e(this.cache.get(t));null===r?this.cache.delete(t):this.cache.set(t,r)}}]),n}(),Gr=Hr,Vr="data-token-hash",Jr="data-css-hash",Wr="__cssinjs_instance__";function Qr(){var n=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Jr,"]"))||[],t=document.head.firstChild;Array.from(e).forEach((function(e){e[Wr]=e[Wr]||n,e[Wr]===n&&document.head.insertBefore(e,t)}));var r={};Array.from(document.querySelectorAll("style[".concat(Jr,"]"))).forEach((function(e){var t,o=e.getAttribute(Jr);r[o]?e[Wr]===n&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e)):r[o]=!0}))}return new Gr(n)}var Kr=n.createContext({hashPriority:"low",cache:Qr(),defaultCache:!0}),$r=Kr;function Xr(n){var e="";return Object.keys(n).forEach((function(t){var r=n[t];e+=t,r&&"object"===c(r)?e+=Xr(r):e+=r})),e}var Zr="layer-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),Yr="903px";var no=void 0;function eo(){return void 0===no&&(no=function(n,e){if(er()){var t;dr(n,Zr);var r=document.createElement("div");r.style.position="fixed",r.style.left="0",r.style.top="0",null===e||void 0===e||e(r),document.body.appendChild(r);var o=getComputedStyle(r).width===Yr;return null===(t=r.parentNode)||void 0===t||t.removeChild(r),ur(Zr),o}return!1}("@layer ".concat(Zr," { .").concat(Zr," { width: ").concat(Yr,"!important; } }"),(function(n){n.className=Zr}))),no}var to=er()?n.useLayoutEffect:n.useEffect,ro=function(e,t){var r=n.useRef(!0);to((function(){return e(r.current)}),t),to((function(){return r.current=!1,function(){r.current=!0}}),[])},oo=function(n,e){ro((function(e){if(!e)return n()}),e)},ao=ro,io=Wt({},e).useInsertionEffect,so=io?function(n,e,t){return io((function(){return n(),e()}),t)}:function(e,t,r){n.useMemo(e,r),ao(t,r)};var lo=function(){return!1};function co(e,t,r,o,a){var i=n.useContext($r).cache,l=[e].concat((0,q.Z)(t)),c=l.join("_"),u=(lo(),function(n){i.update(l,(function(e){var t=s(e||[],2),o=t[0];var a=[void 0===o?0:o,t[1]||r()];return n?n(a):a}))});n.useMemo((function(){return u()}),[c]);var d=i.get(l)[1];return so((function(){null===a||void 0===a||a(d)}),(function(){return u((function(n){var e=s(n,2);return[e[0]+1,e[1]]})),function(){i.update(l,(function(n){var e=s(n||[],2),t=e[0],r=void 0===t?0:t,a=e[1];return 0===r-1?(null===o||void 0===o||o(a,!1),null):[r-1,a]}))}}),[c]),d}var uo={},po="css",fo=new Map;function mo(n,e){fo.set(n,(fo.get(n)||0)-1);var t=Array.from(fo.keys()),r=t.filter((function(n){return(fo.get(n)||0)<=0}));r.length<t.length&&r.forEach((function(n){!function(n,e){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(Vr,'="').concat(n,'"]')).forEach((function(n){var t;n[Wr]===e&&(null===(t=n.parentNode)||void 0===t||t.removeChild(n))}))}(n,e),fo.delete(n)}))}var ho=function(n,e,t,r){var o=Wt(Wt({},t.getDerivativeToken(n)),e);return r&&(o=r(o)),o};function go(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,n.useContext)($r).cache.instanceId,a=r.salt,i=void 0===a?"":a,s=r.override,l=void 0===s?uo:s,c=r.formatToken,u=n.useMemo((function(){return Object.assign.apply(Object,[{}].concat((0,q.Z)(t)))}),[t]),d=n.useMemo((function(){return Xr(u)}),[u]),p=n.useMemo((function(){return Xr(l)}),[l]),f=co("token",[i,e.id,d,p],(function(){var n=ho(u,l,e,c),t=function(n,e){return Ur("".concat(e,"_").concat(Xr(n)))}(n,i);n._tokenKey=t,function(n){fo.set(n,(fo.get(n)||0)+1)}(t);var r="".concat(po,"-").concat(Ur(t));return n._hashId=r,[n,r]}),(function(n){mo(n[0]._tokenKey,o)}));return f}var yo={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bo="comm",vo="rule",xo="decl",wo="@import",ko="@keyframes",So="@layer",_o=Math.abs,Eo=String.fromCharCode;Object.assign;function Co(n){return n.trim()}function No(n,e,t){return n.replace(e,t)}function To(n,e){return n.indexOf(e)}function qo(n,e){return 0|n.charCodeAt(e)}function Ao(n,e,t){return n.slice(e,t)}function Lo(n){return n.length}function jo(n,e){return e.push(n),n}function Po(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function Oo(n,e,t,r){switch(n.type){case So:if(n.children.length)break;case wo:case xo:return n.return=n.return||n.value;case bo:return"";case ko:return n.return=n.value+"{"+Po(n.children,r)+"}";case vo:if(!Lo(n.value=n.props.join(",")))return""}return Lo(t=Po(n.children,r))?n.return=n.value+"{"+t+"}":""}var Mo=1,Io=1,Do=0,Ro=0,Fo=0,Bo="";function zo(n,e,t,r,o,a,i,s){return{value:n,root:e,parent:t,type:r,props:o,children:a,line:Mo,column:Io,length:i,return:"",siblings:s}}function Uo(){return Fo=Ro>0?qo(Bo,--Ro):0,Io--,10===Fo&&(Io=1,Mo--),Fo}function Ho(){return Fo=Ro<Do?qo(Bo,Ro++):0,Io++,10===Fo&&(Io=1,Mo++),Fo}function Go(){return qo(Bo,Ro)}function Vo(){return Ro}function Jo(n,e){return Ao(Bo,n,e)}function Wo(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Qo(n){return Mo=Io=1,Do=Lo(Bo=n),Ro=0,[]}function Ko(n){return Bo="",n}function $o(n){return Co(Jo(Ro-1,Yo(91===n?n+2:40===n?n+1:n)))}function Xo(n){for(;(Fo=Go())&&Fo<33;)Ho();return Wo(n)>2||Wo(Fo)>3?"":" "}function Zo(n,e){for(;--e&&Ho()&&!(Fo<48||Fo>102||Fo>57&&Fo<65||Fo>70&&Fo<97););return Jo(n,Vo()+(e<6&&32==Go()&&32==Ho()))}function Yo(n){for(;Ho();)switch(Fo){case n:return Ro;case 34:case 39:34!==n&&39!==n&&Yo(Fo);break;case 40:41===n&&Yo(n);break;case 92:Ho()}return Ro}function na(n,e){for(;Ho()&&n+Fo!==57&&(n+Fo!==84||47!==Go()););return"/*"+Jo(e,Ro-1)+"*"+Eo(47===n?n:Ho())}function ea(n){for(;!Wo(Go());)Ho();return Jo(n,Ro)}function ta(n){return Ko(ra("",null,null,null,[""],n=Qo(n),0,[0],n))}function ra(n,e,t,r,o,a,i,s,l){for(var c=0,u=0,d=i,p=0,f=0,m=0,h=1,g=1,y=1,b=0,v="",x=o,w=a,k=r,S=v;g;)switch(m=b,b=Ho()){case 40:if(108!=m&&58==qo(S,d-1)){-1!=To(S+=No($o(b),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=$o(b);break;case 9:case 10:case 13:case 32:S+=Xo(m);break;case 92:S+=Zo(Vo()-1,7);continue;case 47:switch(Go()){case 42:case 47:jo(aa(na(Ho(),Vo()),e,t,l),l);break;default:S+="/"}break;case 123*h:s[c++]=Lo(S)*y;case 125*h:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:-1==y&&(S=No(S,/\f/g,"")),f>0&&Lo(S)-d&&jo(f>32?ia(S+";",r,t,d-1,l):ia(No(S," ","")+";",r,t,d-2,l),l);break;case 59:S+=";";default:if(jo(k=oa(S,e,t,c,u,o,s,v,x=[],w=[],d,a),a),123===b)if(0===u)ra(S,e,k,k,x,a,d,s,w);else switch(99===p&&110===qo(S,3)?100:p){case 100:case 108:case 109:case 115:ra(n,k,k,r&&jo(oa(n,k,k,0,0,o,s,v,o,x=[],d,w),w),o,w,d,s,r?x:w);break;default:ra(S,k,k,k,[""],w,0,s,w)}}c=u=f=0,h=y=1,v=S="",d=i;break;case 58:d=1+Lo(S),f=m;default:if(h<1)if(123==b)--h;else if(125==b&&0==h++&&125==Uo())continue;switch(S+=Eo(b),b*h){case 38:y=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(Lo(S)-1)*y,y=1;break;case 64:45===Go()&&(S+=$o(Ho())),p=Go(),u=d=Lo(v=S+=ea(Vo())),b++;break;case 45:45===m&&2==Lo(S)&&(h=0)}}return a}function oa(n,e,t,r,o,a,i,s,l,c,u,d){for(var p=o-1,f=0===o?a:[""],m=function(n){return n.length}(f),h=0,g=0,y=0;h<r;++h)for(var b=0,v=Ao(n,p+1,p=_o(g=i[h])),x=n;b<m;++b)(x=Co(g>0?f[b]+" "+v:No(v,/&\f/g,f[b])))&&(l[y++]=x);return zo(n,e,t,0===o?vo:s,l,c,u,d)}function aa(n,e,t,r){return zo(n,e,t,bo,Eo(Fo),Ao(n,2,-2),0,r)}function ia(n,e,t,r,o){return zo(n,e,t,xo,Ao(n,0,r),Ao(n,r+1,-1),r,o)}var sa=er(),la="_multi_value_";function ca(n){return Po(ta(n),Oo).replace(/\{%%%\:[^;];}/g,";")}var ua=function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},o=r.root,a=r.injectHash,i=r.parentSelectors,l=t.hashId,u=t.layer,d=(t.path,t.hashPriority),p=t.transformers,f=void 0===p?[]:p,m=(t.linters,""),h={};function g(e){var r=e.getName(l);if(!h[r]){var o=s(n(e.style,t,{root:!1,parentSelectors:i}),1)[0];h[r]="@keyframes ".concat(e.getName(l)).concat(o)}}var y=function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){Array.isArray(e)?n(e,t):e&&t.push(e)})),t}(Array.isArray(e)?e:[e]);if(y.forEach((function(e){var r="string"!==typeof e||o?e:{};if("string"===typeof r)m+="".concat(r,"\n");else if(r._keyframe)g(r);else{var u=f.reduce((function(n,e){var t;return(null===e||void 0===e||null===(t=e.visit)||void 0===t?void 0:t.call(e,n))||n}),r);Object.keys(u).forEach((function(e){var r=u[e];if("object"!==c(r)||!r||"animationName"===e&&r._keyframe||function(n){return"object"===c(n)&&n&&("_skip_check_"in n||la in n)}(r)){var p,f=function(n,e){var t=n.replace(/[A-Z]/g,(function(n){return"-".concat(n.toLowerCase())})),r=e;yo[n]||"number"!==typeof r||0===r||(r="".concat(r,"px")),"animationName"===n&&null!==e&&void 0!==e&&e._keyframe&&(g(e),r=e.getName(l)),m+="".concat(t,":").concat(r,";")},y=null!==(p=null===r||void 0===r?void 0:r.value)&&void 0!==p?p:r;"object"===c(r)&&null!==r&&void 0!==r&&r[la]&&Array.isArray(y)?y.forEach((function(n){f(e,n)})):f(e,y)}else{var b=!1,v=e.trim(),x=!1;(o||a)&&l?v.startsWith("@")?b=!0:v=function(n,e,t){if(!e)return n;var r=".".concat(e),o="low"===t?":where(".concat(r,")"):r;return n.split(",").map((function(n){var e,t=n.trim().split(/\s+/),r=t[0]||"",a=(null===(e=r.match(/^\w+/))||void 0===e?void 0:e[0])||"";return[r="".concat(a).concat(o).concat(r.slice(a.length))].concat((0,q.Z)(t.slice(1))).join(" ")})).join(",")}(e,l,d):!o||l||"&"!==v&&""!==v||(v="",x=!0);var w=s(n(r,t,{root:x,injectHash:b,parentSelectors:[].concat((0,q.Z)(i),[v])}),2),k=w[0],S=w[1];h=Wt(Wt({},h),S),m+="".concat(v).concat(k)}}))}})),o){if(u&&eo()){var b=u.split(","),v=b[b.length-1].trim();m="@layer ".concat(v," {").concat(m,"}"),b.length>1&&(m="@layer ".concat(u,"{%%%:%}").concat(m))}}else m="{".concat(m,"}");return[m,h]};function da(){return null}function pa(e,t){var r=e.token,o=e.path,a=e.hashId,i=e.layer,l=e.nonce,c=n.useContext($r),u=c.autoClear,d=(c.mock,c.defaultCache),p=c.hashPriority,f=c.container,m=c.ssrInline,h=c.transformers,g=c.linters,y=c.cache,b=r._tokenKey,v=[b].concat((0,q.Z)(o)),x=sa;var w=co("style",v,(function(){var n=t(),e=s(ua(n,{hashId:a,hashPriority:p,layer:i,path:o.join("-"),transformers:h,linters:g}),2),r=e[0],l=e[1],c=ca(r),u=function(n,e){return Ur("".concat(n.join("%")).concat(e))}(v,c);return[c,b,u,l]}),(function(n,e){var t=s(n,3)[2];(e||u)&&sa&&ur(t,{mark:Jr})}),(function(n){var e=s(n,4),t=e[0],r=(e[1],e[2]),o=e[3];if(x){var a={mark:Jr,prepend:"queue",attachTo:f},i="function"===typeof l?l():l;i&&(a.csp={nonce:i});var c=dr(t,r,a);c[Wr]=y.instanceId,c.setAttribute(Vr,b),Object.keys(o).forEach((function(n){dr(ca(o[n]),"_effect-".concat(n),a)}))}})),S=s(w,3),_=S[0],E=S[1],C=S[2];return function(e){var t,r;m&&!x&&d?t=n.createElement("style",rt({},(k(r={},Vr,E),k(r,Jr,C),r),{dangerouslySetInnerHTML:{__html:_}})):t=n.createElement(da,null);return n.createElement(n.Fragment,null,t,e)}}var fa=function(){function n(e,t){l(this,n),k(this,"name",void 0),k(this,"style",void 0),k(this,"_keyframe",!0),this.name=e,this.style=t}return p(n,[{key:"getName",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),n}(),ma=fa;var ha=function(){function n(){l(this,n),k(this,"cache",void 0),k(this,"keys",void 0),k(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return p(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var e,t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={map:this.cache};return n.forEach((function(n){var e,t;o?o=null===(e=o)||void 0===e||null===(t=e.map)||void 0===t?void 0:t.get(n):o=void 0})),null!==(e=o)&&void 0!==e&&e.value&&r&&(o.value[1]=this.cacheCallTimes++),null===(t=o)||void 0===t?void 0:t.value}},{key:"get",value:function(n){var e;return null===(e=this.internalGet(n,!0))||void 0===e?void 0:e[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(e,t){var r=this;if(!this.has(e)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var o=this.keys.reduce((function(n,e){var t=s(n,2)[1];return r.internalGet(e)[1]<t?[e,r.internalGet(e)[1]]:n}),[this.keys[0],this.cacheCallTimes]),a=s(o,1)[0];this.delete(a)}this.keys.push(e)}var i=this.cache;e.forEach((function(n,o){if(o===e.length-1)i.set(n,{value:[t,r.cacheCallTimes++]});else{var a=i.get(n);a?a.map||(a.map=new Map):i.set(n,{map:new Map}),i=i.get(n).map}}))}},{key:"deleteByPath",value:function(n,e){var t,r=n.get(e[0]);if(1===e.length)return r.map?n.set(e[0],{map:r.map}):n.delete(e[0]),null===(t=r.value)||void 0===t?void 0:t[0];var o=this.deleteByPath(r.map,e.slice(1));return r.map&&0!==r.map.size||r.value||n.delete(e[0]),o}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter((function(e){return!function(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}(e,n)})),this.deleteByPath(this.cache,n)}}]),n}();k(ha,"MAX_CACHE_SIZE",20),k(ha,"MAX_CACHE_OFFSET",5);var ga=0,ya=function(){function n(e){l(this,n),k(this,"derivatives",void 0),k(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=ga,0===e.length&&e.length,ga+=1}return p(n,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce((function(e,t){return t(n,e)}),void 0)}}]),n}(),ba=new ha;function va(n){return n.notSplit=!0,n}va(["borderTop","borderBottom"]),va(["borderTop"]),va(["borderBottom"]),va(["borderLeft","borderRight"]),va(["borderLeft"]),va(["borderRight"]);function xa(e){var t=n.useRef();t.current=e;var r=n.useCallback((function(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return null===(n=t.current)||void 0===n?void 0:n.call.apply(n,[t].concat(r))}),[]);return r}function wa(e){var t=n.useRef(!1),r=s(n.useState(e),2),o=r[0],a=r[1];return n.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[o,function(n,e){e&&t.current||a(n)}]}function ka(n){return void 0!==n}function Sa(n,e){var t=e||{},r=t.defaultValue,o=t.value,a=t.onChange,i=t.postState,l=s(wa((function(){return ka(o)?o:ka(r)?"function"===typeof r?r():r:"function"===typeof n?n():n})),2),c=l[0],u=l[1],d=void 0!==o?o:c,p=i?i(d):d,f=xa(a),m=s(wa([d]),2),h=m[0],g=m[1];return oo((function(){var n=h[0];c!==n&&f(c,n)}),[h]),oo((function(){ka(o)||u(o)}),[o]),[p,xa((function(n,e){u(n,e),g([d],e)}))]}function _a(n,e){for(var t=n,r=0;r<e.length;r+=1){if(null===t||void 0===t)return;t=t[e[r]]}return t}function Ea(n,e,t,r){if(!e.length)return t;var o,a=C(e),i=a[0],s=a.slice(1);return o=n||"number"!==typeof i?Array.isArray(n)?(0,q.Z)(n):Wt({},n):[],r&&void 0===t&&1===s.length?delete o[i][s[0]]:o[i]=Ea(o[i],s,t,r),o}function Ca(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.length&&r&&void 0===t&&!_a(n,e.slice(0,-1))?n:Ea(n,e,t,r)}function Na(n){return Array.isArray(n)?[]:{}}var Ta="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function qa(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=Na(e[0]);return e.forEach((function(n){!function e(t,o){var a,i=new Set(o),s=_a(n,t),l=Array.isArray(s);if(l||"object"===c(a=s)&&null!==a&&Object.getPrototypeOf(a)===Object.prototype){if(!i.has(s)){i.add(s);var u=_a(r,t);l?r=Ca(r,t,[]):u&&"object"===c(u)||(r=Ca(r,t,Na(s))),Ta(s).forEach((function(n){e([].concat((0,q.Z)(t),[n]),i)}))}}else r=Ca(r,t,s)}([])})),r}var Aa=function(n){return{boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:n.fontFamily}},La=function(n){var e;return{a:(e={color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color ".concat(n.motionDurationSlow),"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive}},k(e,"&:active,\n  &:hover",{textDecoration:n.linkHoverDecoration,outline:0}),k(e,"&:focus",{textDecoration:n.linkFocusDecoration,outline:0}),k(e,"&[disabled]",{color:n.colorTextDisabled,cursor:"not-allowed"}),e)}},ja=function(n,e){var t=n.fontFamily,r=n.fontSize,o='[class^="'.concat(e,'"], [class*=" ').concat(e,'"]');return k({},o,k({fontFamily:t,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}},o,{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}))},Pa=function(n){return{outline:"".concat(n.lineWidthFocus,"px solid ").concat(n.colorPrimaryBorder),outlineOffset:1,transition:"outline-offset 0s, outline 0s"}},Oa="5.7.0",Ma=function(n){var e=n.controlHeight;return{controlHeightSM:.75*e,controlHeightXS:.5*e,controlHeightLG:1.25*e}};var Ia={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Da=Object.assign(Object.assign({},Ia),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Ra=function(){function n(e,t){var r;if(void 0===e&&(e=""),void 0===t&&(t={}),e instanceof n)return e;"number"===typeof e&&(e=function(n){return{r:n>>16,g:(65280&n)>>8,b:255&n}}(e)),this.originalInput=e;var o=wt(e);this.originalInput=e,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=t.format)&&void 0!==r?r:o.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var n=this.toRgb();return(299*n.r+587*n.g+114*n.b)/1e3},n.prototype.getLuminance=function(){var n=this.toRgb(),e=n.r/255,t=n.g/255,r=n.b/255;return.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(n){return this.a=ut(n),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){return 0===this.toHsl().s},n.prototype.toHsv=function(){var n=ht(this.r,this.g,this.b);return{h:360*n.h,s:n.s,v:n.v,a:this.a}},n.prototype.toHsvString=function(){var n=ht(this.r,this.g,this.b),e=Math.round(360*n.h),t=Math.round(100*n.s),r=Math.round(100*n.v);return 1===this.a?"hsv(".concat(e,", ").concat(t,"%, ").concat(r,"%)"):"hsva(".concat(e,", ").concat(t,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var n=ft(this.r,this.g,this.b);return{h:360*n.h,s:n.s,l:n.l,a:this.a}},n.prototype.toHslString=function(){var n=ft(this.r,this.g,this.b),e=Math.round(360*n.h),t=Math.round(100*n.s),r=Math.round(100*n.l);return 1===this.a?"hsl(".concat(e,", ").concat(t,"%, ").concat(r,"%)"):"hsla(".concat(e,", ").concat(t,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(n){return void 0===n&&(n=!1),gt(this.r,this.g,this.b,n)},n.prototype.toHexString=function(n){return void 0===n&&(n=!1),"#"+this.toHex(n)},n.prototype.toHex8=function(n){return void 0===n&&(n=!1),function(n,e,t,r,o){var a=[pt(Math.round(n).toString(16)),pt(Math.round(e).toString(16)),pt(Math.round(t).toString(16)),pt(yt(r))];return o&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,n)},n.prototype.toHex8String=function(n){return void 0===n&&(n=!1),"#"+this.toHex8(n)},n.prototype.toHexShortString=function(n){return void 0===n&&(n=!1),1===this.a?this.toHexString(n):this.toHex8String(n)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var n=Math.round(this.r),e=Math.round(this.g),t=Math.round(this.b);return 1===this.a?"rgb(".concat(n,", ").concat(e,", ").concat(t,")"):"rgba(".concat(n,", ").concat(e,", ").concat(t,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var n=function(n){return"".concat(Math.round(100*lt(n,255)),"%")};return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var n=function(n){return Math.round(100*lt(n,255))};return 1===this.a?"rgb(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%)"):"rgba(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var n="#"+gt(this.r,this.g,this.b,!1),e=0,t=Object.entries(xt);e<t.length;e++){var r=t[e],o=r[0];if(n===r[1])return o}return!1},n.prototype.toString=function(n){var e=Boolean(n);n=null!==n&&void 0!==n?n:this.format;var t=!1,r=this.a<1&&this.a>=0;return e||!r||!n.startsWith("hex")&&"name"!==n?("rgb"===n&&(t=this.toRgbString()),"prgb"===n&&(t=this.toPercentageRgbString()),"hex"!==n&&"hex6"!==n||(t=this.toHexString()),"hex3"===n&&(t=this.toHexString(!0)),"hex4"===n&&(t=this.toHex8String(!0)),"hex8"===n&&(t=this.toHex8String()),"name"===n&&(t=this.toName()),"hsl"===n&&(t=this.toHslString()),"hsv"===n&&(t=this.toHsvString()),t||this.toHexString()):"name"===n&&0===this.a?this.toName():this.toRgbString()},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=ct(t.l),new n(t)},n.prototype.brighten=function(e){void 0===e&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),new n(t)},n.prototype.darken=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=ct(t.l),new n(t)},n.prototype.tint=function(n){return void 0===n&&(n=10),this.mix("white",n)},n.prototype.shade=function(n){return void 0===n&&(n=10),this.mix("black",n)},n.prototype.desaturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=ct(t.s),new n(t)},n.prototype.saturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=ct(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){void 0===t&&(t=50);var r=this.toRgb(),o=new n(e).toRgb(),a=t/100;return new n({r:(o.r-r.r)*a+r.r,g:(o.g-r.g)*a+r.g,b:(o.b-r.b)*a+r.b,a:(o.a-r.a)*a+r.a})},n.prototype.analogous=function(e,t){void 0===e&&(e=6),void 0===t&&(t=30);var r=this.toHsl(),o=360/t,a=[this];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,a.push(new n(r));return a},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var t=this.toHsv(),r=t.h,o=t.s,a=t.v,i=[],s=1/e;e--;)i.push(new n({h:r,s:o,v:a})),a=(a+s)%1;return i},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),o=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/o,g:(t.g*t.a+r.g*r.a*(1-t.a))/o,b:(t.b*t.a+r.b*r.a*(1-t.a))/o,a:o})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,o=[this],a=360/e,i=1;i<e;i++)o.push(new n({h:(r+i*a)%360,s:t.s,l:t.l}));return o},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();var Fa=function(n){var e=n,t=n,r=n,o=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?r=1:n>=6&&(r=2),n>4&&n<8?o=4:n>=8&&(o=6),{borderRadius:n>16?16:n,borderRadiusXS:r,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:o}};var Ba=function(n,e){return new Ra(n).setAlpha(e).toRgbString()},za=function(n,e){return new Ra(n).darken(e).toHexString()},Ua=function(n){var e=Bt(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},Ha=function(n,e){var t=n||"#fff",r=e||"#000";return{colorBgBase:t,colorTextBase:r,colorText:Ba(r,.88),colorTextSecondary:Ba(r,.65),colorTextTertiary:Ba(r,.45),colorTextQuaternary:Ba(r,.25),colorFill:Ba(r,.15),colorFillSecondary:Ba(r,.06),colorFillTertiary:Ba(r,.04),colorFillQuaternary:Ba(r,.02),colorBgLayout:za(t,4),colorBgContainer:za(t,0),colorBgElevated:za(t,0),colorBgSpotlight:Ba(r,.85),colorBorder:za(t,15),colorBorderSecondary:za(t,6)}};var Ga=function(n){var e=function(n){var e=new Array(10).fill(null).map((function(e,t){var r=t-1,o=n*Math.pow(2.71828,r/5),a=t>1?Math.floor(o):Math.ceil(o);return 2*Math.floor(a/2)}));return e[1]=n,e.map((function(n){return{size:n,lineHeight:(n+8)/n}}))}(n),t=e.map((function(n){return n.size})),r=e.map((function(n){return n.lineHeight}));return{fontSizeSM:t[0],fontSize:t[1],fontSizeLG:t[2],fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:r[1],lineHeightLG:r[2],lineHeightSM:r[0],lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};var Va=function(n){var e=Array.isArray(n)?n:[n];return ba.has(e)||ba.set(e,new ya(e)),ba.get(e)}((function(n){var e=Object.keys(Ia).map((function(e){var t=Bt(n[e]);return new Array(10).fill(1).reduce((function(n,r,o){return n["".concat(e,"-").concat(o+1)]=t[o],n["".concat(e).concat(o+1)]=t[o],n}),{})})).reduce((function(n,e){return n=Object.assign(Object.assign({},n),e)}),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),function(n,e){var t=e.generateColorPalettes,r=e.generateNeutralColorPalettes,o=n.colorSuccess,a=n.colorWarning,i=n.colorError,s=n.colorInfo,l=n.colorPrimary,c=n.colorBgBase,u=n.colorTextBase,d=t(l),p=t(o),f=t(a),m=t(i),h=t(s),g=r(c,u),y=t(n.colorLink||n.colorInfo);return Object.assign(Object.assign({},g),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:p[1],colorSuccessBgHover:p[2],colorSuccessBorder:p[3],colorSuccessBorderHover:p[4],colorSuccessHover:p[4],colorSuccess:p[6],colorSuccessActive:p[7],colorSuccessTextHover:p[8],colorSuccessText:p[9],colorSuccessTextActive:p[10],colorErrorBg:m[1],colorErrorBgHover:m[2],colorErrorBorder:m[3],colorErrorBorderHover:m[4],colorErrorHover:m[5],colorError:m[6],colorErrorActive:m[7],colorErrorTextHover:m[8],colorErrorText:m[9],colorErrorTextActive:m[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:h[1],colorInfoBgHover:h[2],colorInfoBorder:h[3],colorInfoBorderHover:h[4],colorInfoHover:h[4],colorInfo:h[6],colorInfoActive:h[7],colorInfoTextHover:h[8],colorInfoText:h[9],colorInfoTextActive:h[10],colorLinkHover:y[4],colorLink:y[6],colorLinkActive:y[7],colorBgMask:new Ra("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(n,{generateColorPalettes:Ua,generateNeutralColorPalettes:Ha})),Ga(n.fontSize)),function(n){var e=n.sizeUnit,t=n.sizeStep;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}(n)),Ma(n)),function(n){var e=n.motionUnit,t=n.motionBase,r=n.borderRadius,o=n.lineWidth;return Object.assign({motionDurationFast:"".concat((t+e).toFixed(1),"s"),motionDurationMid:"".concat((t+2*e).toFixed(1),"s"),motionDurationSlow:"".concat((t+3*e).toFixed(1),"s"),lineWidthBold:o+1},Fa(r))}(n))})),Ja={token:Da,hashed:!0},Wa=n.createContext(Ja);function Qa(n){return n>=0&&n<=255}var Ka=function(n,e){var t=new Ra(n).toRgb(),r=t.r,o=t.g,a=t.b;if(t.a<1)return n;for(var i=new Ra(e).toRgb(),s=i.r,l=i.g,c=i.b,u=.01;u<=1;u+=.01){var d=Math.round((r-s*(1-u))/u),p=Math.round((o-l*(1-u))/u),f=Math.round((a-c*(1-u))/u);if(Qa(d)&&Qa(p)&&Qa(f))return new Ra({r:d,g:p,b:f,a:Math.round(100*u)/100}).toRgbString()}return new Ra({r:r,g:o,b:a,a:1}).toRgbString()},$a=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t};function Xa(n){var e=n.override,t=$a(n,["override"]),r=Object.assign({},e);Object.keys(Da).forEach((function(n){delete r[n]}));var o=Object.assign(Object.assign({},t),r),a=1200,i=1600;if(!1===o.motion){var s="0s";o.motionDurationFast=s,o.motionDurationMid=s,o.motionDurationSlow=s}return Object.assign(Object.assign(Object.assign({},o),{colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:Ka(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:Ka(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:Ka(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidthFocus:4*o.lineWidth,lineWidth:o.lineWidth,controlOutlineWidth:2*o.lineWidth,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:Ka(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:a,screenXLMin:a,screenXLMax:1599,screenXXL:i,screenXXLMin:i,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:"\n      0 1px 2px -2px ".concat(new Ra("rgba(0, 0, 0, 0.16)").toRgbString(),",\n      0 3px 6px 0 ").concat(new Ra("rgba(0, 0, 0, 0.12)").toRgbString(),",\n      0 5px 12px 4px ").concat(new Ra("rgba(0, 0, 0, 0.09)").toRgbString(),"\n    "),boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}function Za(){var e=n.useContext(Wa),t=e.token,r=e.hashed,o=e.theme,a=e.components,i="".concat(Oa,"-").concat(r||""),l=o||Va,c=s(go(l,[Da,t],{salt:i,override:Object.assign({override:t},a),formatToken:Xa}),2),u=c[0],d=c[1];return[l,u,r?d:""]}var Ya="undefined"!==typeof CSSINJS_STATISTIC,ni=!0;function ei(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!Ya)return Object.assign.apply(Object,[{}].concat(e));ni=!1;var r={};return e.forEach((function(n){Object.keys(n).forEach((function(e){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){return n[e]}})}))})),ni=!0,r}var ti={};function ri(){}function oi(e,t,r,o){return function(a){var i=s(Za(),3),l=i[0],c=i[1],u=i[2],d=(0,n.useContext)(Fr),p=d.getPrefixCls,f=d.iconPrefixCls,m=d.csp,h=p(),g={theme:l,token:c,hashId:u,nonce:function(){return null===m||void 0===m?void 0:m.nonce}};return pa(Object.assign(Object.assign({},g),{path:["Shared",h]}),(function(){return[{"&":La(c)}]})),[pa(Object.assign(Object.assign({},g),{path:[e,a,f]}),(function(){var n=function(n){var e,t=n,r=ri;return Ya&&(e=new Set,t=new Proxy(n,{get:function(n,t){return ni&&e.add(t),n[t]}}),r=function(n,t){ti[n]={global:Array.from(e),component:t}}),{token:t,keys:e,flush:r}}(c),i=n.token,l=n.flush,d=Object.assign({},c[e]);(null===o||void 0===o?void 0:o.deprecatedTokens)&&o.deprecatedTokens.forEach((function(n){var e,t=s(n,2),r=t[0],o=t[1];((null===d||void 0===d?void 0:d[r])||(null===d||void 0===d?void 0:d[o]))&&(null!==(e=d[o])&&void 0!==e||(d[o]=null===d||void 0===d?void 0:d[r]))}));var p="function"===typeof r?r(ei(i,null!==d&&void 0!==d?d:{})):r,m=Object.assign(Object.assign({},p),d),g=ei(i,{componentCls:".".concat(a),prefixCls:a,iconCls:".".concat(f),antCls:".".concat(h)},m),y=t(g,{hashId:u,prefixCls:a,rootPrefixCls:h,iconPrefixCls:f,overrideComponentToken:d});return l(e,m),[!1===(null===o||void 0===o?void 0:o.resetStyle)?null:ja(c,a),y]})),u]}}var ai=function(n){var e=n.componentCls,t=n.colorPrimary;return k({},e,{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:"var(--wave-color, ".concat(t,")"),boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:["box-shadow 0.4s ".concat(n.motionEaseOutCirc),"opacity 2s ".concat(n.motionEaseOutCirc)].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}})},ii=oi("Wave",(function(n){return[ai(n)]})),si=t(4164),li=t.t(si,2);function ci(e){return function(n){return n instanceof HTMLElement||n instanceof SVGElement}(e)?e:e instanceof n.Component?si.findDOMNode(e):null}var ui=n.createContext({});var di=function(n){m(t,n);var e=b(t);function t(){return l(this,t),e.apply(this,arguments)}return p(t,[{key:"render",value:function(){return this.props.children}}]),t}(n.Component),pi=di,fi="none",mi="appear",hi="enter",gi="leave",yi="none",bi="prepare",vi="start",xi="active",wi="end",ki="prepared";function Si(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(n)]="webkit".concat(e),t["Moz".concat(n)]="moz".concat(e),t["ms".concat(n)]="MS".concat(e),t["O".concat(n)]="o".concat(e.toLowerCase()),t}var _i=function(n,e){var t={animationend:Si("Animation","AnimationEnd"),transitionend:Si("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}(er(),"undefined"!==typeof window?window:{}),Ei={};if(er()){var Ci=document.createElement("div");Ei=Ci.style}var Ni={};function Ti(n){if(Ni[n])return Ni[n];var e=_i[n];if(e)for(var t=Object.keys(e),r=t.length,o=0;o<r;o+=1){var a=t[o];if(Object.prototype.hasOwnProperty.call(e,a)&&a in Ei)return Ni[n]=e[a],Ni[n]}return""}var qi=Ti("animationend"),Ai=Ti("transitionend"),Li=!(!qi||!Ai),ji=qi||"animationend",Pi=Ai||"transitionend";function Oi(n,e){if(!n)return null;if("object"===c(n)){var t=e.replace(/-\w/g,(function(n){return n[1].toUpperCase()}));return n[t]}return"".concat(n,"-").concat(e)}var Mi=function(e){var t=(0,n.useRef)(),r=(0,n.useRef)(e);r.current=e;var o=n.useCallback((function(n){r.current(n)}),[]);function a(n){n&&(n.removeEventListener(Pi,o),n.removeEventListener(ji,o))}return n.useEffect((function(){return function(){a(t.current)}}),[]),[function(n){t.current&&t.current!==n&&a(t.current),n&&n!==t.current&&(n.addEventListener(Pi,o),n.addEventListener(ji,o),t.current=n)},a]},Ii=er()?n.useLayoutEffect:n.useEffect,Di=function(n){return+setTimeout(n,16)},Ri=function(n){return clearTimeout(n)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Di=function(n){return window.requestAnimationFrame(n)},Ri=function(n){return window.cancelAnimationFrame(n)});var Fi=0,Bi=new Map;function zi(n){Bi.delete(n)}var Ui=function(n){var e=Fi+=1;return function t(r){if(0===r)zi(e),n();else{var o=Di((function(){t(r-1)}));Bi.set(e,o)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),e};Ui.cancel=function(n){var e=Bi.get(n);return zi(e),Ri(e)};var Hi=Ui,Gi=[bi,vi,xi,wi],Vi=[bi,ki],Ji=!1,Wi=!0;function Qi(n){return n===xi||n===wi}var Ki=function(e,t,r){var o=s(wa(yi),2),a=o[0],i=o[1],l=function(){var e=n.useRef(null);function t(){Hi.cancel(e.current)}return n.useEffect((function(){return function(){t()}}),[]),[function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=Hi((function(){o<=1?r({isCanceled:function(){return a!==e.current}}):n(r,o-1)}));e.current=a},t]}(),c=s(l,2),u=c[0],d=c[1];var p=t?Vi:Gi;return Ii((function(){if(a!==yi&&a!==wi){var n=p.indexOf(a),e=p[n+1],t=r(a);t===Ji?i(e,!0):e&&u((function(n){function r(){n.isCanceled()||i(e,!0)}!0===t?r():Promise.resolve(t).then(r)}))}}),[e,a]),n.useEffect((function(){return function(){d()}}),[]),[function(){i(bi,!0)},a]};var $i=function(e){var t=e;"object"===c(e)&&(t=e.transitionSupport);var r=n.forwardRef((function(e,r){var o=e.visible,a=void 0===o||o,i=e.removeOnLeave,l=void 0===i||i,c=e.forceRender,u=e.children,d=e.motionName,p=e.leavedClassName,f=e.eventProps,m=function(n,e){return!(!n.motionName||!t||!1===e)}(e,n.useContext(ui).motion),h=(0,n.useRef)(),g=(0,n.useRef)();var y=function(e,t,r,o){var a=o.motionEnter,i=void 0===a||a,l=o.motionAppear,c=void 0===l||l,u=o.motionLeave,d=void 0===u||u,p=o.motionDeadline,f=o.motionLeaveImmediately,m=o.onAppearPrepare,h=o.onEnterPrepare,g=o.onLeavePrepare,y=o.onAppearStart,b=o.onEnterStart,v=o.onLeaveStart,x=o.onAppearActive,w=o.onEnterActive,S=o.onLeaveActive,_=o.onAppearEnd,E=o.onEnterEnd,C=o.onLeaveEnd,N=o.onVisibleChanged,T=s(wa(),2),q=T[0],A=T[1],L=s(wa(fi),2),j=L[0],P=L[1],O=s(wa(null),2),M=O[0],I=O[1],D=(0,n.useRef)(!1),R=(0,n.useRef)(null);function F(){return r()}var B=(0,n.useRef)(!1);function z(){P(fi,!0),I(null,!0)}function U(n){var e=F();if(!n||n.deadline||n.target===e){var t,r=B.current;j===mi&&r?t=null===_||void 0===_?void 0:_(e,n):j===hi&&r?t=null===E||void 0===E?void 0:E(e,n):j===gi&&r&&(t=null===C||void 0===C?void 0:C(e,n)),j!==fi&&r&&!1!==t&&z()}}var H=s(Mi(U),1)[0],G=function(n){var e,t,r;switch(n){case mi:return k(e={},bi,m),k(e,vi,y),k(e,xi,x),e;case hi:return k(t={},bi,h),k(t,vi,b),k(t,xi,w),t;case gi:return k(r={},bi,g),k(r,vi,v),k(r,xi,S),r;default:return{}}},V=n.useMemo((function(){return G(j)}),[j]),J=s(Ki(j,!e,(function(n){if(n===bi){var e=V[bi];return e?e(F()):Ji}var t;return Q in V&&I((null===(t=V[Q])||void 0===t?void 0:t.call(V,F(),null))||null),Q===xi&&(H(F()),p>0&&(clearTimeout(R.current),R.current=setTimeout((function(){U({deadline:!0})}),p))),Q===ki&&z(),Wi})),2),W=J[0],Q=J[1],K=Qi(Q);B.current=K,Ii((function(){A(t);var n,r=D.current;D.current=!0,!r&&t&&c&&(n=mi),r&&t&&i&&(n=hi),(r&&!t&&d||!r&&f&&!t&&d)&&(n=gi);var o=G(n);n&&(e||o[bi])?(P(n),W()):P(fi)}),[t]),(0,n.useEffect)((function(){(j===mi&&!c||j===hi&&!i||j===gi&&!d)&&P(fi)}),[c,i,d]),(0,n.useEffect)((function(){return function(){D.current=!1,clearTimeout(R.current)}}),[]);var $=n.useRef(!1);(0,n.useEffect)((function(){q&&($.current=!0),void 0!==q&&j===fi&&(($.current||q)&&(null===N||void 0===N||N(q)),$.current=!0)}),[q,j]);var X=M;return V[bi]&&Q===vi&&(X=Wt({transition:"none"},X)),[j,Q,X,null!==q&&void 0!==q?q:t]}(m,a,(function(){try{return h.current instanceof HTMLElement?h.current:ci(g.current)}catch(n){return null}}),e),b=s(y,4),v=b[0],x=b[1],w=b[2],S=b[3],_=n.useRef(S);S&&(_.current=!0);var E,C=n.useCallback((function(n){h.current=n,Ir(r,n)}),[r]),N=Wt(Wt({},f),{},{visible:a});if(u)if(v===fi)E=S?u(Wt({},N),C):!l&&_.current&&p?u(Wt(Wt({},N),{},{className:p}),C):c||!l&&!p?u(Wt(Wt({},N),{},{style:{display:"none"}}),C):null;else{var T,q;x===bi?q="prepare":Qi(x)?q="active":x===vi&&(q="start");var A=Oi(d,"".concat(v,"-").concat(q));E=u(Wt(Wt({},N),{},{className:st()(Oi(d,v),(T={},k(T,A,A&&q),k(T,d,"string"===typeof d),T)),style:w}),C)}else E=null;n.isValidElement(E)&&Rr(E)&&(E.ref||(E=n.cloneElement(E,{ref:C})));return n.createElement(pi,{ref:g},E)}));return r.displayName="CSSMotion",r}(Li),Xi="add",Zi="keep",Yi="remove",ns="removed";function es(n){var e;return Wt(Wt({},e=n&&"object"===c(n)&&"key"in n?n:{key:n}),{},{key:String(e.key)})}function ts(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(es)}var rs=["component","children","onVisibleChanged","onAllRemoved"],os=["status"],as=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$i,r=function(e){m(o,e);var r=b(o);function o(){var n;l(this,o);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return k(y(n=r.call.apply(r,[this].concat(t))),"state",{keyEntities:[]}),k(y(n),"removeKey",(function(e){var t=n.state.keyEntities.map((function(n){return n.key!==e?n:Wt(Wt({},n),{},{status:ns})}));return n.setState({keyEntities:t}),t.filter((function(n){return n.status!==ns})).length})),n}return p(o,[{key:"render",value:function(){var e=this,r=this.state.keyEntities,o=this.props,a=o.component,i=o.children,s=o.onVisibleChanged,l=o.onAllRemoved,c=at(o,rs),u=a||n.Fragment,d={};return as.forEach((function(n){d[n]=c[n],delete c[n]})),delete c.keys,n.createElement(u,c,r.map((function(r){var o=r.status,a=at(r,os),c=o===Xi||o===Zi;return n.createElement(t,rt({},d,{key:a.key,visible:c,eventProps:a,onVisibleChanged:function(n){(null===s||void 0===s||s(n,{key:a.key}),n)||0===e.removeKey(a.key)&&l&&l()}}),i)})))}}],[{key:"getDerivedStateFromProps",value:function(n,e){var t=n.keys,r=e.keyEntities,o=ts(t),a=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=[],r=0,o=e.length,a=ts(n),i=ts(e);a.forEach((function(n){for(var e=!1,a=r;a<o;a+=1){var s=i[a];if(s.key===n.key){r<a&&(t=t.concat(i.slice(r,a).map((function(n){return Wt(Wt({},n),{},{status:Xi})}))),r=a),t.push(Wt(Wt({},s),{},{status:Zi})),r+=1,e=!0;break}}e||t.push(Wt(Wt({},n),{},{status:Yi}))})),r<o&&(t=t.concat(i.slice(r).map((function(n){return Wt(Wt({},n),{},{status:Xi})}))));var s={};return t.forEach((function(n){var e=n.key;s[e]=(s[e]||0)+1})),Object.keys(s).filter((function(n){return s[n]>1})).forEach((function(n){(t=t.filter((function(e){var t=e.key,r=e.status;return t!==n||r!==Yi}))).forEach((function(e){e.key===n&&(e.status=Zi)}))})),t}(r,o);return{keyEntities:a.filter((function(n){var e=r.find((function(e){var t=e.key;return n.key===t}));return!e||e.status!==ns||n.status!==Yi}))}}}]),o}(n.Component);k(r,"defaultProps",{component:"div"})}(Li);var is,ss=$i,ls=Wt({},li),cs=ls.version,us=ls.render,ds=ls.unmountComponentAtNode;try{Number((cs||"").split(".")[0])>=18&&(is=ls.createRoot)}catch(km){}function ps(n){var e=ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&"object"===c(e)&&(e.usingClientEntryPoint=n)}var fs="__rc_react_root__";function ms(n,e){is?function(n,e){ps(!0);var t=e[fs]||is(e);ps(!1),t.render(n),e[fs]=t}(n,e):function(n,e){us(n,e)}(n,e)}function hs(n){return gs.apply(this,arguments)}function gs(){return(gs=w(v().mark((function n(e){return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.resolve().then((function(){var n;null===(n=e[fs])||void 0===n||n.unmount(),delete e[fs]})));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function ys(n){ds(n)}function bs(){return(bs=w(v().mark((function n(e){return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===is){n.next=2;break}return n.abrupt("return",hs(e));case 2:ys(e);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function vs(n){return n&&"#fff"!==n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&"rgba(255, 255, 255, 1)"!==n&&function(n){var e=(n||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(e&&e[1]&&e[2]&&e[3])||!(e[1]===e[2]&&e[2]===e[3])}(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n}function xs(n){return Number.isNaN(n)?0:n}var ws=function(e){var t=e.className,r=e.target,o=n.useRef(null),a=s(n.useState(null),2),i=a[0],l=a[1],c=s(n.useState([]),2),u=c[0],d=c[1],p=s(n.useState(0),2),f=p[0],m=p[1],h=s(n.useState(0),2),g=h[0],y=h[1],b=s(n.useState(0),2),v=b[0],x=b[1],w=s(n.useState(0),2),k=w[0],S=w[1],_=s(n.useState(!1),2),E=_[0],C=_[1],N={left:f,top:g,width:v,height:k,borderRadius:u.map((function(n){return"".concat(n,"px")})).join(" ")};function T(){var n=getComputedStyle(r);l(function(n){var e=getComputedStyle(n),t=e.borderTopColor,r=e.borderColor,o=e.backgroundColor;return vs(t)?t:vs(r)?r:vs(o)?o:null}(r));var e="static"===n.position,t=n.borderLeftWidth,o=n.borderTopWidth;m(e?r.offsetLeft:xs(-parseFloat(t))),y(e?r.offsetTop:xs(-parseFloat(o))),x(r.offsetWidth),S(r.offsetHeight);var a=n.borderTopLeftRadius,i=n.borderTopRightRadius,s=n.borderBottomLeftRadius,c=n.borderBottomRightRadius;d([a,i,c,s].map((function(n){return xs(parseFloat(n))})))}return i&&(N["--wave-color"]=i),n.useEffect((function(){if(r){var n,e=Hi((function(){T(),C(!0)}));return"undefined"!==typeof ResizeObserver&&(n=new ResizeObserver(T)).observe(r),function(){Hi.cancel(e),null===n||void 0===n||n.disconnect()}}}),[]),E?n.createElement(ss,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:function(n,e){var t;if(e.deadline||"opacity"===e.propertyName){var r=null===(t=o.current)||void 0===t?void 0:t.parentElement;(function(n){return bs.apply(this,arguments)})(r).then((function(){null===r||void 0===r||r.remove()}))}return!1}},(function(e){var r=e.className;return n.createElement("div",{ref:o,className:st()(t,r),style:N})})):null};function ks(e,t){return function(){!function(e,t){var r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",null===e||void 0===e||e.insertBefore(r,null===e||void 0===e?void 0:e.firstChild),ms(n.createElement(ws,{target:e,className:t}),r)}(e.current,t)}}var Ss=function(e){var t=e.children,r=e.disabled,o=(0,n.useContext)(Fr).getPrefixCls,a=(0,n.useRef)(null),i=o("wave"),l=s(ii(i),2)[1],c=ks(a,st()(i,l));return n.useEffect((function(){var n=a.current;if(n&&1===n.nodeType&&!r){var e=function(e){"INPUT"===e.target.tagName||!function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var e=n.getBBox(),t=e.width,r=e.height;if(t||r)return!0}if(n.getBoundingClientRect){var o=n.getBoundingClientRect(),a=o.width,i=o.height;if(a||i)return!0}}return!1}(e.target)||!n.getAttribute||n.getAttribute("disabled")||n.disabled||n.className.includes("disabled")||n.className.includes("-leave")||c()};return n.addEventListener("click",e,!0),function(){n.removeEventListener("click",e,!0)}}}),[r]),n.isValidElement(t)?zr(t,{ref:Rr(t)?Dr(t.ref,a):a}):null!==t&&void 0!==t?t:null},_s=n.createContext(!1),Es=_s,Cs=n.createContext(void 0),Ns=Cs,Ts=function(e){var t=n.useContext(Ns);return n.useMemo((function(){return e?"string"===typeof e?null!==e&&void 0!==e?e:t:e instanceof Function?e(t):t:t}),[e,t])};function qs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return n.Children.forEach(e,(function(n){(void 0!==n&&null!==n||t.keepEmpty)&&(Array.isArray(n)?r=r.concat(qs(n)):(0,Mr.isFragment)(n)&&n.props?r=r.concat(qs(n.props.children,t)):r.push(n))})),r}var As=function(n){return k({},n.componentCls,{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}})},Ls=function(n){var e=n.componentCls;return k({},e,k({display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}}},"".concat(e,"-item:empty"),{display:"none"}))},js=oi("Space",(function(n){return[Ls(n),As(n)]}),(function(){return{}}),{resetStyle:!1}),Ps=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t},Os=n.createContext(null),Ms=function(e,t){var r=n.useContext(Os),o=n.useMemo((function(){var n;if(!r)return"";var o=r.compactDirection,a=r.isFirstItem,i=r.isLastItem,s="vertical"===o?"-vertical-":"-";return st()((k(n={},"".concat(e,"-compact").concat(s,"item"),!0),k(n,"".concat(e,"-compact").concat(s,"first-item"),a),k(n,"".concat(e,"-compact").concat(s,"last-item"),i),k(n,"".concat(e,"-compact").concat(s,"item-rtl"),"rtl"===t),n))}),[e,t,r]);return{compactSize:null===r||void 0===r?void 0:r.compactSize,compactDirection:null===r||void 0===r?void 0:r.compactDirection,compactItemClassnames:o}},Is=function(e){var t=e.children;return n.createElement(Os.Provider,{value:null},t)},Ds=function(e){var t=e.children,r=Ps(e,["children"]);return n.createElement(Os.Provider,{value:r},t)},Rs=function(e){var t,r=n.useContext(Fr),o=r.getPrefixCls,a=r.direction,i=e.size,l=e.direction,c=e.block,u=e.prefixCls,d=e.className,p=e.rootClassName,f=e.children,m=Ps(e,["size","direction","block","prefixCls","className","rootClassName","children"]),h=Ts((function(n){return null!==i&&void 0!==i?i:n})),g=o("space-compact",u),y=s(js(g),2),b=y[0],v=y[1],x=st()(g,v,(k(t={},"".concat(g,"-rtl"),"rtl"===a),k(t,"".concat(g,"-block"),c),k(t,"".concat(g,"-vertical"),"vertical"===l),t),d,p),w=n.useContext(Os),S=qs(f),_=n.useMemo((function(){return S.map((function(e,t){var r=e&&e.key||"".concat(g,"-item-").concat(t);return n.createElement(Ds,{key:r,compactSize:h,compactDirection:l,isFirstItem:0===t&&(!w||(null===w||void 0===w?void 0:w.isFirstItem)),isLastItem:t===S.length-1&&(!w||(null===w||void 0===w?void 0:w.isLastItem))},e)}))}),[i,S,w]);return 0===S.length?null:b(n.createElement("div",Object.assign({className:x},m),_))},Fs=(0,n.forwardRef)((function(e,t){var r=e.className,o=e.style,a=e.children,i=e.prefixCls,s=st()("".concat(i,"-icon"),r);return n.createElement("span",{ref:t,className:s,style:o},a)})),Bs=Fs,zs={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Us=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:zs}))};var Hs=n.forwardRef(Us),Gs=(0,n.forwardRef)((function(e,t){var r=e.prefixCls,o=e.className,a=e.style,i=e.iconClassName,s=st()("".concat(r,"-loading-icon"),o);return n.createElement(Bs,{prefixCls:r,className:s,style:a,ref:t},n.createElement(Hs,{className:i}))})),Vs=function(){return{width:0,opacity:0,transform:"scale(0)"}},Js=function(n){return{width:n.scrollWidth,opacity:1,transform:"scale(1)"}},Ws=function(e){var t=e.prefixCls,r=e.loading,o=e.existIcon,a=e.className,i=e.style,s=!!r;return o?n.createElement(Gs,{prefixCls:t,className:a,style:i}):n.createElement(ss,{visible:s,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:Vs,onAppearActive:Js,onEnterStart:Vs,onEnterActive:Js,onLeaveStart:Js,onLeaveActive:Vs},(function(e,r){var o=e.className,s=e.style;return n.createElement(Gs,{prefixCls:t,className:a,style:Object.assign(Object.assign({},i),s),ref:r,iconClassName:o})}))},Qs=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t},Ks=n.createContext(void 0),$s=function(e){var t,r=n.useContext(Fr),o=r.getPrefixCls,a=r.direction,i=e.prefixCls,l=e.size,c=e.className,u=Qs(e,["prefixCls","size","className"]),d=o("btn-group",i),p=s(Za(),3)[2],f="";switch(l){case"large":f="lg";break;case"small":f="sm"}var m=st()(d,(k(t={},"".concat(d,"-").concat(f),f),k(t,"".concat(d,"-rtl"),"rtl"===a),t),c,p);return n.createElement(Ks.Provider,{value:l},n.createElement("div",Object.assign({},u,{className:m})))},Xs=/^[\u4e00-\u9fa5]{2}$/,Zs=Xs.test.bind(Xs);function Ys(n){return"text"===n||"link"===n}function nl(e,t){if(null!==e&&void 0!==e){var r=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&Zs(e.props.children)?zr(e,{children:e.props.children.split("").join(r)}):"string"===typeof e?Zs(e)?n.createElement("span",null,e.split("").join(r)):n.createElement("span",null,e):function(e){return e&&Br(e)&&e.type===n.Fragment}(e)?n.createElement("span",null,e):e}}function el(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0},t=n.componentCls,r="".concat(t,"-compact");return k({},r,Object.assign(Object.assign({},function(n,e,t){var r,o=t.focusElCls,a=t.focus,i=t.borderElCls?"> *":"",s=["hover",a?"focus":null,"active"].filter(Boolean).map((function(n){return"&:".concat(n," ").concat(i)})).join(",");return k(r={},"&-item:not(".concat(e,"-last-item)"),{marginInlineEnd:-n.lineWidth}),k(r,"&-item",Object.assign(Object.assign(k({},s,{zIndex:2}),o?k({},"&".concat(o),{zIndex:2}):{}),k({},"&[disabled] ".concat(i),{zIndex:0}))),r}(n,r,e)),function(n,e,t){var r,o=t.borderElCls,a=o?"> ".concat(o):"";return k(r={},"&-item:not(".concat(e,"-first-item):not(").concat(e,"-last-item) ").concat(a),{borderRadius:0}),k(r,"&-item:not(".concat(e,"-last-item)").concat(e,"-first-item"),k({},"& ".concat(a,", &").concat(n,"-sm ").concat(a,", &").concat(n,"-lg ").concat(a),{borderStartEndRadius:0,borderEndEndRadius:0})),k(r,"&-item:not(".concat(e,"-first-item)").concat(e,"-last-item"),k({},"& ".concat(a,", &").concat(n,"-sm ").concat(a,", &").concat(n,"-lg ").concat(a),{borderStartStartRadius:0,borderEndStartRadius:0})),r}(t,r,e)))}function tl(n){var e="".concat(n.componentCls,"-compact-vertical");return k({},e,Object.assign(Object.assign({},function(n,e){var t;return k(t={},"&-item:not(".concat(e,"-last-item)"),{marginBottom:-n.lineWidth}),k(t,"&-item",{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}),t}(n,e)),function(n,e){var t;return k(t={},"&-item:not(".concat(e,"-first-item):not(").concat(e,"-last-item)"),{borderRadius:0}),k(t,"&-item".concat(e,"-first-item:not(").concat(e,"-last-item)"),k({},"&, &".concat(n,"-sm, &").concat(n,"-lg"),{borderEndEndRadius:0,borderEndStartRadius:0})),k(t,"&-item".concat(e,"-last-item:not(").concat(e,"-first-item)"),k({},"&, &".concat(n,"-sm, &").concat(n,"-lg"),{borderStartStartRadius:0,borderStartEndRadius:0})),t}(n.componentCls,e)))}var rl=function(n,e){return k({},"> span, > ".concat(n),{"&:not(:last-child)":k({},"&, & > ".concat(n),{"&:not(:disabled)":{borderInlineEndColor:e}}),"&:not(:first-child)":k({},"&, & > ".concat(n),{"&:not(:disabled)":{borderInlineStartColor:e}})})},ol=function(n){var e,t,r=n.componentCls,o=n.fontSize,a=n.lineWidth,i=n.colorPrimaryHover,s=n.colorErrorHover;return k({},"".concat(r,"-group"),[(t={position:"relative",display:"inline-flex"},k(t,"> span, > ".concat(r),{"&:not(:last-child)":k({},"&, & > ".concat(r),{borderStartEndRadius:0,borderEndEndRadius:0}),"&:not(:first-child)":k({marginInlineStart:-a},"&, & > ".concat(r),{borderStartStartRadius:0,borderEndStartRadius:0})}),k(t,r,(e={position:"relative",zIndex:1},k(e,"&:hover,\n          &:focus,\n          &:active",{zIndex:2}),k(e,"&[disabled]",{zIndex:0}),e)),k(t,"".concat(r,"-icon-only"),{fontSize:o}),t),rl("".concat(r,"-primary"),i),rl("".concat(r,"-danger"),s)])},al=function(n){var e,t=n.componentCls,r=n.iconCls;return k({},t,(k(e={outline:"none",position:"relative",display:"inline-block",fontWeight:n.buttonFontWeight,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:"".concat(n.lineWidth,"px ").concat(n.lineType," transparent"),cursor:"pointer",transition:"all ".concat(n.motionDurationMid," ").concat(n.motionEaseInOut),userSelect:"none",touchAction:"manipulation",lineHeight:n.lineHeight,color:n.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"}},"".concat(t,"-icon"),{lineHeight:0}),k(e,"> ".concat(r," + span, > span + ").concat(r),{marginInlineStart:n.marginXS}),k(e,"&:not(".concat(t,"-icon-only) > ").concat(t,"-icon"),k({},"&".concat(t,"-loading-icon, &:not(:last-child)"),{marginInlineEnd:n.marginXS})),k(e,"> a",{color:"currentColor"}),k(e,"&:not(:disabled)",Object.assign({},function(n){return{"&:focus-visible":Object.assign({},Pa(n))}}(n))),k(e,"&-icon-only".concat(t,"-compact-item"),{flex:"none"}),k(e,"&-compact-item".concat(t,"-primary"),k({},"&:not([disabled]) + ".concat(t,"-compact-item").concat(t,"-primary:not([disabled])"),{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:n.lineWidth,height:"calc(100% + ".concat(2*n.lineWidth,"px)"),backgroundColor:n.colorPrimaryHover,content:'""'}})),k(e,"&-compact-vertical-item",k({},"&".concat(t,"-primary"),k({},"&:not([disabled]) + ".concat(t,"-compact-vertical-item").concat(t,"-primary:not([disabled])"),{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:"calc(100% + ".concat(2*n.lineWidth,"px)"),height:n.lineWidth,backgroundColor:n.colorPrimaryHover,content:'""'}}))),e))},il=function(n,e,t){return k({},"&:not(:disabled):not(".concat(n,"-disabled)"),{"&:hover":e,"&:active":t})},sl=function(n){return{minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}},ll=function(n){return{borderRadius:n.controlHeight,paddingInlineStart:n.controlHeight/2,paddingInlineEnd:n.controlHeight/2}},cl=function(n,e,t,r,o,a,i){return k({},"&".concat(n,"-background-ghost"),Object.assign(Object.assign({color:e||void 0,backgroundColor:"transparent",borderColor:t||void 0,boxShadow:"none"},il(n,Object.assign({backgroundColor:"transparent"},a),Object.assign({backgroundColor:"transparent"},i))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:o||void 0}}))},ul=function(n){return k({},"&:disabled, &".concat(n.componentCls,"-disabled"),Object.assign({},function(n){return{cursor:"not-allowed",borderColor:n.colorBorder,color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,boxShadow:"none"}}(n)))},dl=function(n){return Object.assign({},ul(n))},pl=function(n){return k({},"&:disabled, &".concat(n.componentCls,"-disabled"),{cursor:"not-allowed",color:n.colorTextDisabled})},fl=function(n){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},dl(n)),{backgroundColor:n.colorBgContainer,borderColor:n.colorBorder,boxShadow:"0 ".concat(n.controlOutlineWidth,"px 0 ").concat(n.controlTmpOutline)}),il(n.componentCls,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),cl(n.componentCls,n.colorBgContainer,n.colorBgContainer,n.colorTextDisabled,n.colorBorder)),k({},"&".concat(n.componentCls,"-dangerous"),Object.assign(Object.assign(Object.assign({color:n.colorError,borderColor:n.colorError},il(n.componentCls,{color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),cl(n.componentCls,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder)),ul(n))))},ml=function(n){var e,t=n.componentCls;return k(e={},"".concat(t,"-default"),fl(n)),k(e,"".concat(t,"-primary"),function(n){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},dl(n)),{color:n.colorTextLightSolid,backgroundColor:n.colorPrimary,boxShadow:"0 ".concat(n.controlOutlineWidth,"px 0 ").concat(n.controlOutline)}),il(n.componentCls,{color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryHover},{color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryActive})),cl(n.componentCls,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),k({},"&".concat(n.componentCls,"-dangerous"),Object.assign(Object.assign(Object.assign({backgroundColor:n.colorError,boxShadow:"0 ".concat(n.controlOutlineWidth,"px 0 ").concat(n.colorErrorOutline)},il(n.componentCls,{backgroundColor:n.colorErrorHover},{backgroundColor:n.colorErrorActive})),cl(n.componentCls,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),ul(n))))}(n)),k(e,"".concat(t,"-dashed"),function(n){return Object.assign(Object.assign({},fl(n)),{borderStyle:"dashed"})}(n)),k(e,"".concat(t,"-link"),function(n){return Object.assign(Object.assign(Object.assign({color:n.colorLink},il(n.componentCls,{color:n.colorLinkHover},{color:n.colorLinkActive})),pl(n)),k({},"&".concat(n.componentCls,"-dangerous"),Object.assign(Object.assign({color:n.colorError},il(n.componentCls,{color:n.colorErrorHover},{color:n.colorErrorActive})),pl(n))))}(n)),k(e,"".concat(t,"-text"),function(n){return Object.assign(Object.assign(Object.assign({},il(n.componentCls,{color:n.colorText,backgroundColor:n.colorBgTextHover},{color:n.colorText,backgroundColor:n.colorBgTextActive})),pl(n)),k({},"&".concat(n.componentCls,"-dangerous"),Object.assign(Object.assign({color:n.colorError},pl(n)),il(n.componentCls,{color:n.colorErrorHover,backgroundColor:n.colorErrorBg},{color:n.colorErrorHover,backgroundColor:n.colorErrorBg}))))}(n)),e},hl=function(n){var e,t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=n.componentCls,a=n.controlHeight,i=n.fontSize,s=n.lineHeight,l=n.lineWidth,c=n.borderRadius,u=n.buttonPaddingHorizontal,d=n.iconCls,p=Math.max(0,(a-i*s)/2-l),f=u-l,m="".concat(o,"-icon-only");return[k({},"".concat(o).concat(r),(t={fontSize:i,height:a,padding:"".concat(p,"px ").concat(f,"px"),borderRadius:c},k(t,"&".concat(m),(e={width:a,paddingInlineStart:0,paddingInlineEnd:0},k(e,"&".concat(o,"-round"),{width:"auto"}),k(e,d,{fontSize:n.buttonIconOnlyFontSize}),e)),k(t,"&".concat(o,"-loading"),{opacity:n.opacityLoading,cursor:"default"}),k(t,"".concat(o,"-loading-icon"),{transition:"width ".concat(n.motionDurationSlow," ").concat(n.motionEaseInOut,", opacity ").concat(n.motionDurationSlow," ").concat(n.motionEaseInOut)}),t)),k({},"".concat(o).concat(o,"-circle").concat(r),sl(n)),k({},"".concat(o).concat(o,"-round").concat(r),ll(n))]},gl=function(n){return hl(n)},yl=function(n){var e=ei(n,{controlHeight:n.controlHeightSM,padding:n.paddingXS,buttonPaddingHorizontal:8,borderRadius:n.borderRadiusSM,buttonIconOnlyFontSize:n.fontSizeLG-2});return hl(e,"".concat(n.componentCls,"-sm"))},bl=function(n){var e=ei(n,{controlHeight:n.controlHeightLG,fontSize:n.fontSizeLG,borderRadius:n.borderRadiusLG,buttonIconOnlyFontSize:n.fontSizeLG+2});return hl(e,"".concat(n.componentCls,"-lg"))},vl=function(n){var e=n.componentCls;return k({},e,k({},"&".concat(e,"-block"),{width:"100%"}))},xl=oi("Button",(function(n){var e=ei(n,{colorOutlineDefault:n.controlTmpOutline,buttonPaddingHorizontal:n.paddingContentHorizontal,buttonIconOnlyFontSize:n.fontSizeLG,buttonFontWeight:400});return[al(e),yl(e),gl(e),bl(e),vl(e),ml(e),ol(e),el(n),tl(n)]})),wl=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t};var kl=function(e,t){var r,o,a,i=e.loading,l=void 0!==i&&i,c=e.prefixCls,u=e.type,d=void 0===u?"default":u,p=e.danger,f=e.shape,m=void 0===f?"default":f,h=e.size,g=e.styles,y=e.disabled,b=e.className,v=e.rootClassName,x=e.children,w=e.icon,S=e.ghost,_=void 0!==S&&S,E=e.block,C=void 0!==E&&E,N=e.htmlType,T=void 0===N?"button":N,q=e.classNames,A=e.style,L=void 0===A?{}:A,j=wl(e,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),P=(0,n.useContext)(Fr),O=P.getPrefixCls,M=P.autoInsertSpaceInButton,I=P.direction,D=P.button,R=O("btn",c),F=s(xl(R),2),B=F[0],z=F[1],U=(0,n.useContext)(Es),H=null!==y&&void 0!==y?y:U,G=(0,n.useContext)(Ks),V=(0,n.useMemo)((function(){return function(n){if("object"===typeof n&&n){var e=null===n||void 0===n?void 0:n.delay;return{loading:!1,delay:Number.isNaN(e)||"number"!==typeof e?0:e}}return{loading:!!n,delay:0}}(l)}),[l]),J=s((0,n.useState)(V.loading),2),W=J[0],Q=J[1],K=s((0,n.useState)(!1),2),$=K[0],X=K[1],Z=Dr(t,(0,n.createRef)()),Y=1===n.Children.count(x)&&!w&&!Ys(d);(0,n.useEffect)((function(){var n=null;return V.delay>0?n=setTimeout((function(){n=null,Q(!0)}),V.delay):Q(V.loading),function(){n&&(clearTimeout(n),n=null)}}),[V]),(0,n.useEffect)((function(){if(Z&&Z.current&&!1!==M){var n=Z.current.textContent;Y&&Zs(n)?$||X(!0):$&&X(!1)}}),[Z]);var nn=function(n){var t=e.onClick;W||H?n.preventDefault():null===t||void 0===t||t(n)},en=!1!==M,tn=Ms(R,I),rn=tn.compactSize,on=tn.compactItemClassnames,an={large:"lg",small:"sm",middle:void 0},sn=Ts((function(n){var e,t;return null!==(t=null!==(e=null!==h&&void 0!==h?h:rn)&&void 0!==e?e:G)&&void 0!==t?t:n})),ln=sn&&an[sn]||"",cn=W?"loading":w,un=Or(j,["navigate"]),dn=st()(R,z,(k(r={},"".concat(R,"-").concat(m),"default"!==m&&m),k(r,"".concat(R,"-").concat(d),d),k(r,"".concat(R,"-").concat(ln),ln),k(r,"".concat(R,"-icon-only"),!x&&0!==x&&!!cn),k(r,"".concat(R,"-background-ghost"),_&&!Ys(d)),k(r,"".concat(R,"-loading"),W),k(r,"".concat(R,"-two-chinese-chars"),$&&en&&!W),k(r,"".concat(R,"-block"),C),k(r,"".concat(R,"-dangerous"),!!p),k(r,"".concat(R,"-rtl"),"rtl"===I),r),on,b,v,null===D||void 0===D?void 0:D.className),pn=Object.assign(Object.assign({},null===D||void 0===D?void 0:D.style),L),fn=st()(null===q||void 0===q?void 0:q.icon,null===(o=null===D||void 0===D?void 0:D.classNames)||void 0===o?void 0:o.icon),mn=Object.assign(Object.assign({},(null===g||void 0===g?void 0:g.icon)||{}),(null===(a=null===D||void 0===D?void 0:D.styles)||void 0===a?void 0:a.icon)||{}),hn=w&&!W?n.createElement(Bs,{prefixCls:R,className:fn,style:mn},w):n.createElement(Ws,{existIcon:!!w,prefixCls:R,loading:!!W}),gn=x||0===x?function(e,t){var r=!1,o=[];return n.Children.forEach(e,(function(n){var e=typeof n,t="string"===e||"number"===e;if(r&&t){var a=o.length-1,i=o[a];o[a]="".concat(i).concat(n)}else o.push(n);r=t})),n.Children.map(o,(function(n){return nl(n,t)}))}(x,Y&&en):null;if(void 0!==un.href)return B(n.createElement("a",Object.assign({},un,{className:st()(dn,k({},"".concat(R,"-disabled"),H)),style:pn,onClick:nn,ref:Z}),hn,gn));var yn=n.createElement("button",Object.assign({},j,{type:T,className:dn,style:pn,onClick:nn,disabled:H,ref:Z}),hn,gn);return Ys(d)||(yn=n.createElement(Ss,{disabled:!!W},yn)),B(yn)},Sl=(0,n.forwardRef)(kl);Sl.Group=$s,Sl.__ANT_BUTTON=!0;var _l=Sl,El={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},Cl=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:El}))};var Nl=n.forwardRef(Cl),Tl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},ql=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:Tl}))};var Al=n.forwardRef(ql),Ll={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},jl=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:Ll}))};var Pl=n.forwardRef(jl),Ol={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},Ml=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:Ol}))};var Il=n.forwardRef(Ml),Dl="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function Rl(n,e){return 0===n.indexOf(e)}function Fl(n){var e,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=!1===t?{aria:!0,data:!0,attr:!0}:!0===t?{aria:!0}:Wt({},t);var r={};return Object.keys(n).forEach((function(t){(e.aria&&("role"===t||Rl(t,"aria-"))||e.data&&Rl(t,"data-")||e.attr&&Dl.includes(t))&&(r[t]=n[t])})),r}var Bl=n.createContext(null),zl=function(e){for(var t=e.prefixCls,r=e.level,o=e.isStart,a=e.isEnd,i="".concat(t,"-indent-unit"),s=[],l=0;l<r;l+=1){var c;s.push(n.createElement("span",{key:l,className:st()(i,(c={},k(c,"".concat(i,"-start"),o[l]),k(c,"".concat(i,"-end"),a[l]),c))}))}return n.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},s)},Ul=n.memo(zl),Hl=["children"];function Gl(n,e){return"".concat(n,"-").concat(e)}function Vl(n,e){return null!==n&&void 0!==n?n:e}function Jl(n){var e=n||{},t=e.title||"title";return{title:t,_title:e._title||[t],key:e.key||"key",children:e.children||"children"}}function Wl(n){return function n(e){return qs(e).map((function(e){if(!function(n){return n&&n.type&&n.type.isTreeNode}(e))return nr(!e,"Tree/TreeNode can only accept TreeNode as children."),null;var t=e.key,r=e.props,o=r.children,a=Wt({key:t},at(r,Hl)),i=n(o);return i.length&&(a.children=i),a})).filter((function(n){return n}))}(n)}function Ql(n,e,t){var r=Jl(t),o=r._title,a=r.key,i=r.children,s=new Set(!0===e?[]:e),l=[];return function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.map((function(c,u){for(var d,p=Gl(r?r.pos:"0",u),f=Vl(c[a],p),m=0;m<o.length;m+=1){var h=o[m];if(void 0!==c[h]){d=c[h];break}}var g=Wt(Wt({},Or(c,[].concat((0,q.Z)(o),[a,i]))),{},{title:d,key:f,parent:r,pos:p,children:null,data:c,isStart:[].concat((0,q.Z)(r?r.isStart:[]),[0===u]),isEnd:[].concat((0,q.Z)(r?r.isEnd:[]),[u===t.length-1])});return l.push(g),!0===e||s.has(f)?g.children=n(c[i]||[],g):g.children=[],g}))}(n),l}function Kl(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.initWrapper,r=e.processEntity,o=e.onProcessFinished,a=e.externalGetKey,i=e.childrenPropName,s=e.fieldNames,l=a||(arguments.length>2?arguments[2]:void 0),u={},d={},p={posEntities:u,keyEntities:d};return t&&(p=t(p)||p),function(n,e,t){var r,o=("object"===c(t)?t:{externalGetKey:t})||{},a=o.childrenPropName,i=o.externalGetKey,s=Jl(o.fieldNames),l=s.key,u=s.children,d=a||u;i?"string"===typeof i?r=function(n){return n[i]}:"function"===typeof i&&(r=function(n){return i(n)}):r=function(n,e){return Vl(n[l],e)},function t(o,a,i,s){var l=o?o[d]:n,c=o?Gl(i.pos,a):"0",u=o?[].concat((0,q.Z)(s),[o]):[];if(o){var p=r(o,c),f={node:o,index:a,pos:c,key:p,parentPos:i.node?i.pos:null,level:i.level+1,nodes:u};e(f)}l&&l.forEach((function(n,e){t(n,e,{node:o,pos:c,level:i?i.level+1:-1},u)}))}(null)}(n,(function(n){var e=n.node,t=n.index,o=n.pos,a=n.key,i=n.parentPos,s=n.level,l={node:e,nodes:n.nodes,index:t,key:a,pos:o,level:s},c=Vl(a,o);u[o]=l,d[c]=l,l.parent=u[i],l.parent&&(l.parent.children=l.parent.children||[],l.parent.children.push(l)),r&&r(l,p)}),{externalGetKey:l,childrenPropName:i,fieldNames:s}),o&&o(p),p}function $l(n,e){var t=e.expandedKeys,r=e.selectedKeys,o=e.loadedKeys,a=e.loadingKeys,i=e.checkedKeys,s=e.halfCheckedKeys,l=e.dragOverNodeKey,c=e.dropPosition,u=e.keyEntities[n];return{eventKey:n,expanded:-1!==t.indexOf(n),selected:-1!==r.indexOf(n),loaded:-1!==o.indexOf(n),loading:-1!==a.indexOf(n),checked:-1!==i.indexOf(n),halfChecked:-1!==s.indexOf(n),pos:String(u?u.pos:""),dragOver:l===n&&0===c,dragOverGapTop:l===n&&-1===c,dragOverGapBottom:l===n&&1===c}}function Xl(n){var e=n.data,t=n.expanded,r=n.selected,o=n.checked,a=n.loaded,i=n.loading,s=n.halfChecked,l=n.dragOver,c=n.dragOverGapTop,u=n.dragOverGapBottom,d=n.pos,p=n.active,f=n.eventKey,m=Wt(Wt({},e),{},{expanded:t,selected:r,checked:o,loaded:a,loading:i,halfChecked:s,dragOver:l,dragOverGapTop:c,dragOverGapBottom:u,pos:d,active:p,key:f});return"props"in m||Object.defineProperty(m,"props",{get:function(){return nr(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),m}var Zl=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Yl="open",nc="close",ec=function(e){m(r,e);var t=b(r);function r(){var e;l(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.onSelectorClick=function(n){(0,e.props.context.onNodeClick)(n,Xl(e.props)),e.isSelectable()?e.onSelect(n):e.onCheck(n)},e.onSelectorDoubleClick=function(n){(0,e.props.context.onNodeDoubleClick)(n,Xl(e.props))},e.onSelect=function(n){if(!e.isDisabled()){var t=e.props.context.onNodeSelect;n.preventDefault(),t(n,Xl(e.props))}},e.onCheck=function(n){if(!e.isDisabled()){var t=e.props,r=t.disableCheckbox,o=t.checked,a=e.props.context.onNodeCheck;if(e.isCheckable()&&!r){n.preventDefault();var i=!o;a(n,Xl(e.props),i)}}},e.onMouseEnter=function(n){(0,e.props.context.onNodeMouseEnter)(n,Xl(e.props))},e.onMouseLeave=function(n){(0,e.props.context.onNodeMouseLeave)(n,Xl(e.props))},e.onContextMenu=function(n){(0,e.props.context.onNodeContextMenu)(n,Xl(e.props))},e.onDragStart=function(n){var t=e.props.context.onNodeDragStart;n.stopPropagation(),e.setState({dragNodeHighlight:!0}),t(n,y(e));try{n.dataTransfer.setData("text/plain","")}catch(r){}},e.onDragEnter=function(n){var t=e.props.context.onNodeDragEnter;n.preventDefault(),n.stopPropagation(),t(n,y(e))},e.onDragOver=function(n){var t=e.props.context.onNodeDragOver;n.preventDefault(),n.stopPropagation(),t(n,y(e))},e.onDragLeave=function(n){var t=e.props.context.onNodeDragLeave;n.stopPropagation(),t(n,y(e))},e.onDragEnd=function(n){var t=e.props.context.onNodeDragEnd;n.stopPropagation(),e.setState({dragNodeHighlight:!1}),t(n,y(e))},e.onDrop=function(n){var t=e.props.context.onNodeDrop;n.preventDefault(),n.stopPropagation(),e.setState({dragNodeHighlight:!1}),t(n,y(e))},e.onExpand=function(n){var t=e.props,r=t.loading,o=t.context.onNodeExpand;r||o(n,Xl(e.props))},e.setSelectHandle=function(n){e.selectHandle=n},e.getNodeState=function(){var n=e.props.expanded;return e.isLeaf()?null:n?Yl:nc},e.hasChildren=function(){var n=e.props.eventKey;return!!((e.props.context.keyEntities[n]||{}).children||[]).length},e.isLeaf=function(){var n=e.props,t=n.isLeaf,r=n.loaded,o=e.props.context.loadData,a=e.hasChildren();return!1!==t&&(t||!o&&!a||o&&r&&!a)},e.isDisabled=function(){var n=e.props.disabled;return!(!e.props.context.disabled&&!n)},e.isCheckable=function(){var n=e.props.checkable,t=e.props.context.checkable;return!(!t||!1===n)&&t},e.syncLoadData=function(n){var t=n.expanded,r=n.loading,o=n.loaded,a=e.props.context,i=a.loadData,s=a.onNodeLoad;r||i&&t&&!e.isLeaf()&&(e.hasChildren()||o||s(Xl(e.props)))},e.isDraggable=function(){var n=e.props,t=n.data,r=n.context.draggable;return!(!r||r.nodeDraggable&&!r.nodeDraggable(t))},e.renderDragHandler=function(){var t=e.props.context,r=t.draggable,o=t.prefixCls;return(null===r||void 0===r?void 0:r.icon)?n.createElement("span",{className:"".concat(o,"-draggable-icon")},r.icon):null},e.renderSwitcherIconDom=function(n){var t=e.props.switcherIcon,r=e.props.context.switcherIcon,o=t||r;return"function"===typeof o?o(Wt(Wt({},e.props),{},{isLeaf:n})):o},e.renderSwitcher=function(){var t=e.props.expanded,r=e.props.context.prefixCls;if(e.isLeaf()){var o=e.renderSwitcherIconDom(!0);return!1!==o?n.createElement("span",{className:st()("".concat(r,"-switcher"),"".concat(r,"-switcher-noop"))},o):null}var a=st()("".concat(r,"-switcher"),"".concat(r,"-switcher_").concat(t?Yl:nc)),i=e.renderSwitcherIconDom(!1);return!1!==i?n.createElement("span",{onClick:e.onExpand,className:a},i):null},e.renderCheckbox=function(){var t=e.props,r=t.checked,o=t.halfChecked,a=t.disableCheckbox,i=e.props.context.prefixCls,s=e.isDisabled(),l=e.isCheckable();if(!l)return null;var c="boolean"!==typeof l?l:null;return n.createElement("span",{className:st()("".concat(i,"-checkbox"),r&&"".concat(i,"-checkbox-checked"),!r&&o&&"".concat(i,"-checkbox-indeterminate"),(s||a)&&"".concat(i,"-checkbox-disabled")),onClick:e.onCheck},c)},e.renderIcon=function(){var t=e.props.loading,r=e.props.context.prefixCls;return n.createElement("span",{className:st()("".concat(r,"-iconEle"),"".concat(r,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(r,"-icon_loading"))})},e.renderSelector=function(){var t,r,o=e.state.dragNodeHighlight,a=e.props,i=a.title,s=void 0===i?"---":i,l=a.selected,c=a.icon,u=a.loading,d=a.data,p=e.props.context,f=p.prefixCls,m=p.showIcon,h=p.icon,g=p.loadData,y=p.titleRender,b=e.isDisabled(),v="".concat(f,"-node-content-wrapper");if(m){var x=c||h;t=x?n.createElement("span",{className:st()("".concat(f,"-iconEle"),"".concat(f,"-icon__customize"))},"function"===typeof x?x(e.props):x):e.renderIcon()}else g&&u&&(t=e.renderIcon());r="function"===typeof s?s(d):y?y(d):s;var w=n.createElement("span",{className:"".concat(f,"-title")},r);return n.createElement("span",{ref:e.setSelectHandle,title:"string"===typeof s?s:"",className:st()("".concat(v),"".concat(v,"-").concat(e.getNodeState()||"normal"),!b&&(l||o)&&"".concat(f,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},t,w,e.renderDropIndicator())},e.renderDropIndicator=function(){var n=e.props,t=n.disabled,r=n.eventKey,o=e.props.context,a=o.draggable,i=o.dropLevelOffset,s=o.dropPosition,l=o.prefixCls,c=o.indent,u=o.dropIndicatorRender,d=o.dragOverNodeKey,p=o.direction;return!t&&!!a&&d===r?u({dropPosition:s,dropLevelOffset:i,indent:c,prefixCls:l,direction:p}):null},e}return p(r,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var n=this.props.selectable,e=this.props.context.selectable;return"boolean"===typeof n?n:e}},{key:"render",value:function(){var e,t=this.props,r=t.eventKey,o=t.className,a=t.style,i=t.dragOver,s=t.dragOverGapTop,l=t.dragOverGapBottom,c=t.isLeaf,u=t.isStart,d=t.isEnd,p=t.expanded,f=t.selected,m=t.checked,h=t.halfChecked,g=t.loading,y=t.domRef,b=t.active,v=(t.data,t.onMouseMove),x=t.selectable,w=at(t,Zl),S=this.props.context,_=S.prefixCls,E=S.filterTreeNode,C=S.keyEntities,N=S.dropContainerKey,T=S.dropTargetKey,q=S.draggingNodeKey,A=this.isDisabled(),L=Fl(w,{aria:!0,data:!0}),j=(C[r]||{}).level,P=d[d.length-1],O=this.isDraggable(),M=!A&&O,I=q===r,D=void 0!==x?{"aria-selected":!!x}:void 0;return n.createElement("div",rt({ref:y,className:st()(o,"".concat(_,"-treenode"),(e={},k(e,"".concat(_,"-treenode-disabled"),A),k(e,"".concat(_,"-treenode-switcher-").concat(p?"open":"close"),!c),k(e,"".concat(_,"-treenode-checkbox-checked"),m),k(e,"".concat(_,"-treenode-checkbox-indeterminate"),h),k(e,"".concat(_,"-treenode-selected"),f),k(e,"".concat(_,"-treenode-loading"),g),k(e,"".concat(_,"-treenode-active"),b),k(e,"".concat(_,"-treenode-leaf-last"),P),k(e,"".concat(_,"-treenode-draggable"),O),k(e,"dragging",I),k(e,"drop-target",T===r),k(e,"drop-container",N===r),k(e,"drag-over",!A&&i),k(e,"drag-over-gap-top",!A&&s),k(e,"drag-over-gap-bottom",!A&&l),k(e,"filter-node",E&&E(Xl(this.props))),e)),style:a,draggable:M,"aria-grabbed":I,onDragStart:M?this.onDragStart:void 0,onDragEnter:O?this.onDragEnter:void 0,onDragOver:O?this.onDragOver:void 0,onDragLeave:O?this.onDragLeave:void 0,onDrop:O?this.onDrop:void 0,onDragEnd:O?this.onDragEnd:void 0,onMouseMove:v},D,L),n.createElement(Ul,{prefixCls:_,level:j,isStart:u,isEnd:d}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),r}(n.Component),tc=function(e){return n.createElement(Bl.Consumer,null,(function(t){return n.createElement(ec,rt({},e,{context:t}))}))};tc.displayName="TreeNode",tc.isTreeNode=1;var rc=tc;function oc(n,e){if(!n)return[];var t=n.slice(),r=t.indexOf(e);return r>=0&&t.splice(r,1),t}function ac(n,e){var t=(n||[]).slice();return-1===t.indexOf(e)&&t.push(e),t}function ic(n){return n.split("-")}function sc(n,e){var t=[];return function n(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(e){var r=e.key,o=e.children;t.push(r),n(o)}))}(e[n].children),t}function lc(n){if(n.parent){var e=ic(n.pos);return Number(e[e.length-1])===n.parent.children.length-1}return!1}function cc(n,e,t,r,o,a,i,s,l,c){var u,d=n.clientX,p=n.clientY,f=n.target.getBoundingClientRect(),m=f.top,h=f.height,g=(("rtl"===c?-1:1)*(((null===o||void 0===o?void 0:o.x)||0)-d)-12)/r,y=s[t.props.eventKey];if(p<m+h/2){var b=i.findIndex((function(n){return n.key===y.key})),v=i[b<=0?0:b-1].key;y=s[v]}var x=y.key,w=y,k=y.key,S=0,_=0;if(!l.includes(x))for(var E=0;E<g&&lc(y);E+=1)y=y.parent,_+=1;var C=e.props.data,N=y.node,T=!0;return function(n){var e=ic(n.pos);return 0===Number(e[e.length-1])}(y)&&0===y.level&&p<m+h/2&&a({dragNode:C,dropNode:N,dropPosition:-1})&&y.key===t.props.eventKey?S=-1:(w.children||[]).length&&l.includes(k)?a({dragNode:C,dropNode:N,dropPosition:0})?S=0:T=!1:0===_?g>-1.5?a({dragNode:C,dropNode:N,dropPosition:1})?S=1:T=!1:a({dragNode:C,dropNode:N,dropPosition:0})?S=0:a({dragNode:C,dropNode:N,dropPosition:1})?S=1:T=!1:a({dragNode:C,dropNode:N,dropPosition:1})?S=1:T=!1,{dropPosition:S,dropLevelOffset:_,dropTargetKey:y.key,dropTargetPos:y.pos,dragOverNodeKey:k,dropContainerKey:0===S?null:(null===(u=y.parent)||void 0===u?void 0:u.key)||null,dropAllowed:T}}function uc(n,e){if(n)return e.multiple?n.slice():n.length?[n[0]]:n}function dc(n){if(!n)return null;var e;if(Array.isArray(n))e={checkedKeys:n,halfCheckedKeys:void 0};else{if("object"!==c(n))return nr(!1,"`checkedKeys` is not an array or an object"),null;e={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0}}return e}function pc(n,e){var t=new Set;function r(n){if(!t.has(n)){var o=e[n];if(o){t.add(n);var a=o.parent;o.node.disabled||a&&r(a.key)}}}return(n||[]).forEach((function(n){r(n)})),(0,q.Z)(t)}var fc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},mc=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:fc}))};var hc=n.forwardRef(mc),gc={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(n){var e=n.keyCode;if(n.altKey&&!n.ctrlKey||n.metaKey||e>=gc.F1&&e<=gc.F12)return!1;switch(e){case gc.ALT:case gc.CAPS_LOCK:case gc.CONTEXT_MENU:case gc.CTRL:case gc.DOWN:case gc.END:case gc.ESC:case gc.HOME:case gc.INSERT:case gc.LEFT:case gc.MAC_FF_META:case gc.META:case gc.NUMLOCK:case gc.NUM_CENTER:case gc.PAGE_DOWN:case gc.PAGE_UP:case gc.PAUSE:case gc.PRINT_SCREEN:case gc.RIGHT:case gc.SHIFT:case gc.UP:case gc.WIN_KEY:case gc.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(n){if(n>=gc.ZERO&&n<=gc.NINE)return!0;if(n>=gc.NUM_ZERO&&n<=gc.NUM_MULTIPLY)return!0;if(n>=gc.A&&n<=gc.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===n)return!0;switch(n){case gc.SPACE:case gc.QUESTION_MARK:case gc.NUM_PLUS:case gc.NUM_MINUS:case gc.NUM_PERIOD:case gc.NUM_DIVISION:case gc.SEMICOLON:case gc.DASH:case gc.EQUALS:case gc.COMMA:case gc.PERIOD:case gc.SLASH:case gc.APOSTROPHE:case gc.SINGLE_QUOTE:case gc.OPEN_SQUARE_BRACKET:case gc.BACKSLASH:case gc.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},yc=gc;function bc(n){if(null==n)throw new TypeError("Cannot destructure "+n)}var vc=function(){if("undefined"!==typeof Map)return Map;function n(n,e){var t=-1;return n.some((function(n,r){return n[0]===e&&(t=r,!0)})),t}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=n(this.__entries__,e),r=this.__entries__[t];return r&&r[1]},e.prototype.set=function(e,t){var r=n(this.__entries__,e);~r?this.__entries__[r][1]=t:this.__entries__.push([e,t])},e.prototype.delete=function(e){var t=this.__entries__,r=n(t,e);~r&&t.splice(r,1)},e.prototype.has=function(e){return!!~n(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,e){void 0===e&&(e=null);for(var t=0,r=this.__entries__;t<r.length;t++){var o=r[t];n.call(e,o[1],o[0])}},e}()}(),xc="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,wc="undefined"!==typeof t.g&&t.g.Math===Math?t.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),kc="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(wc):function(n){return setTimeout((function(){return n(Date.now())}),1e3/60)};var Sc=["top","right","bottom","left","width","height","size","weight"],_c="undefined"!==typeof MutationObserver,Ec=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(n,e){var t=!1,r=!1,o=0;function a(){t&&(t=!1,n()),r&&s()}function i(){kc(a)}function s(){var n=Date.now();if(t){if(n-o<2)return;r=!0}else t=!0,r=!1,setTimeout(i,e);o=n}return s}(this.refresh.bind(this),20)}return n.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},n.prototype.removeObserver=function(n){var e=this.observers_,t=e.indexOf(n);~t&&e.splice(t,1),!e.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},n.prototype.updateObservers_=function(){var n=this.observers_.filter((function(n){return n.gatherActive(),n.hasActive()}));return n.forEach((function(n){return n.broadcastActive()})),n.length>0},n.prototype.connect_=function(){xc&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),_c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){xc&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(n){var e=n.propertyName,t=void 0===e?"":e;Sc.some((function(n){return!!~t.indexOf(n)}))&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),Cc=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var o=r[t];Object.defineProperty(n,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return n},Nc=function(n){return n&&n.ownerDocument&&n.ownerDocument.defaultView||wc},Tc=Oc(0,0,0,0);function qc(n){return parseFloat(n)||0}function Ac(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce((function(e,t){return e+qc(n["border-"+t+"-width"])}),0)}function Lc(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return Tc;var r=Nc(n).getComputedStyle(n),o=function(n){for(var e={},t=0,r=["top","right","bottom","left"];t<r.length;t++){var o=r[t],a=n["padding-"+o];e[o]=qc(a)}return e}(r),a=o.left+o.right,i=o.top+o.bottom,s=qc(r.width),l=qc(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==e&&(s-=Ac(r,"left","right")+a),Math.round(l+i)!==t&&(l-=Ac(r,"top","bottom")+i)),!function(n){return n===Nc(n).document.documentElement}(n)){var c=Math.round(s+a)-e,u=Math.round(l+i)-t;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return Oc(o.left,o.top,s,l)}var jc="undefined"!==typeof SVGGraphicsElement?function(n){return n instanceof Nc(n).SVGGraphicsElement}:function(n){return n instanceof Nc(n).SVGElement&&"function"===typeof n.getBBox};function Pc(n){return xc?jc(n)?function(n){var e=n.getBBox();return Oc(0,0,e.width,e.height)}(n):Lc(n):Tc}function Oc(n,e,t,r){return{x:n,y:e,width:t,height:r}}var Mc=function(){function n(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Oc(0,0,0,0),this.target=n}return n.prototype.isActive=function(){var n=Pc(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},n}(),Ic=function(n,e){var t=function(n){var e=n.x,t=n.y,r=n.width,o=n.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(a.prototype);return Cc(i,{x:e,y:t,width:r,height:o,top:t,right:e+r,bottom:o+t,left:e}),i}(e);Cc(this,{target:n,contentRect:t})},Dc=function(){function n(n,e,t){if(this.activeObservations_=[],this.observations_=new vc,"function"!==typeof n)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=e,this.callbackCtx_=t}return n.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(n instanceof Nc(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(n)||(e.set(n,new Mc(n)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(n instanceof Nc(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(n)&&(e.delete(n),e.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&n.activeObservations_.push(e)}))},n.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,e=this.activeObservations_.map((function(n){return new Ic(n.target,n.broadcastRect())}));this.callback_.call(n,e,n),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),Rc="undefined"!==typeof WeakMap?new WeakMap:new vc,Fc=function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Ec.getInstance(),r=new Dc(e,t,this);Rc.set(this,r)};["observe","unobserve","disconnect"].forEach((function(n){Fc.prototype[n]=function(){var e;return(e=Rc.get(this))[n].apply(e,arguments)}}));var Bc="undefined"!==typeof wc.ResizeObserver?wc.ResizeObserver:Fc,zc=new Map;var Uc=new Bc((function(n){n.forEach((function(n){var e,t=n.target;null===(e=zc.get(t))||void 0===e||e.forEach((function(n){return n(t)}))}))}));var Hc=function(n){m(t,n);var e=b(t);function t(){return l(this,t),e.apply(this,arguments)}return p(t,[{key:"render",value:function(){return this.props.children}}]),t}(n.Component),Gc=n.createContext(null);function Vc(e,t){var r=e.children,o=e.disabled,a=n.useRef(null),i=n.useRef(null),s=n.useContext(Gc),l="function"===typeof r,c=l?r(a):r,u=n.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!l&&n.isValidElement(c)&&Rr(c),p=d?c.ref:null,f=n.useMemo((function(){return Dr(p,a)}),[p,a]),m=function(){return ci(a.current)||ci(i.current)};n.useImperativeHandle(t,(function(){return m()}));var h=n.useRef(e);h.current=e;var g=n.useCallback((function(n){var e=h.current,t=e.onResize,r=e.data,o=n.getBoundingClientRect(),a=o.width,i=o.height,l=n.offsetWidth,c=n.offsetHeight,d=Math.floor(a),p=Math.floor(i);if(u.current.width!==d||u.current.height!==p||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var f={width:d,height:p,offsetWidth:l,offsetHeight:c};u.current=f;var m=l===Math.round(a)?a:l,g=c===Math.round(i)?i:c,y=Wt(Wt({},f),{},{offsetWidth:m,offsetHeight:g});null===s||void 0===s||s(y,n,r),t&&Promise.resolve().then((function(){t(y,n)}))}}),[]);return n.useEffect((function(){var n,e,t=m();return t&&!o&&(n=t,e=g,zc.has(n)||(zc.set(n,new Set),Uc.observe(n)),zc.get(n).add(e)),function(){return function(n,e){zc.has(n)&&(zc.get(n).delete(e),zc.get(n).size||(Uc.unobserve(n),zc.delete(n)))}(t,g)}}),[a.current,o]),n.createElement(Hc,{ref:i},d?n.cloneElement(c,{ref:f}):c)}var Jc=n.forwardRef(Vc);function Wc(e,t){var r=e.children;return("function"===typeof r?[r]:qs(r)).map((function(r,o){var a=(null===r||void 0===r?void 0:r.key)||"".concat("rc-observer-key","-").concat(o);return n.createElement(Jc,rt({},e,{key:a,ref:0===o?t:void 0}),r)}))}var Qc=n.forwardRef(Wc);Qc.Collection=function(e){var t=e.children,r=e.onBatchResize,o=n.useRef(0),a=n.useRef([]),i=n.useContext(Gc),s=n.useCallback((function(n,e,t){o.current+=1;var s=o.current;a.current.push({size:n,element:e,data:t}),Promise.resolve().then((function(){s===o.current&&(null===r||void 0===r||r(a.current),a.current=[])})),null===i||void 0===i||i(n,e,t)}),[r,i]);return n.createElement(Gc.Provider,{value:s},t)};var Kc=Qc,$c=n.forwardRef((function(e,t){var r=e.height,o=e.offset,a=e.children,i=e.prefixCls,s=e.onInnerResize,l=e.innerProps,c={},u={display:"flex",flexDirection:"column"};return void 0!==o&&(c={height:r,position:"relative",overflow:"hidden"},u=Wt(Wt({},u),{},{transform:"translateY(".concat(o,"px)"),position:"absolute",left:0,right:0,top:0})),n.createElement("div",{style:c},n.createElement(Kc,{onResize:function(n){n.offsetHeight&&s&&s()}},n.createElement("div",rt({style:u,className:st()(k({},"".concat(i,"-holder-inner"),i)),ref:t},l),a)))}));$c.displayName="Filler";var Xc=$c;function Zc(n){return"touches"in n?n.touches[0].pageY:n.pageY}var Yc=function(e){m(r,e);var t=b(r);function r(){var e;l(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).moveRaf=null,e.scrollbarRef=n.createRef(),e.thumbRef=n.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(n){n.preventDefault()},e.onContainerMouseDown=function(n){n.stopPropagation(),n.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),e.thumbRef.current&&(e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp)),Hi.cancel(e.moveRaf)},e.onMouseDown=function(n){var t=e.props.onStartMove;e.setState({dragging:!0,pageY:Zc(n),startTop:e.getTop()}),t(),e.patchEvents(),n.stopPropagation(),n.preventDefault()},e.onMouseMove=function(n){var t=e.state,r=t.dragging,o=t.pageY,a=t.startTop,i=e.props.onScroll;if(Hi.cancel(e.moveRaf),r){var s=a+(Zc(n)-o),l=e.getEnableScrollRange(),c=e.getEnableHeightRange(),u=c?s/c:0,d=Math.ceil(u*l);e.moveRaf=Hi((function(){i(d)}))}},e.onMouseUp=function(){var n=e.props.onStopMove;e.setState({dragging:!1}),n(),e.removeEvents()},e.getSpinHeight=function(){var n=e.props,t=n.height,r=t/n.count*10;return r=Math.max(r,20),r=Math.min(r,t/2),Math.floor(r)},e.getEnableScrollRange=function(){var n=e.props;return n.scrollHeight-n.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var n=e.props.scrollTop,t=e.getEnableScrollRange(),r=e.getEnableHeightRange();return 0===n||0===t?0:n/t*r},e.showScroll=function(){var n=e.props,t=n.height;return n.scrollHeight>t},e}return p(r,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(n){n.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){var n,e;this.removeEvents(),null===(n=this.scrollbarRef.current)||void 0===n||n.removeEventListener("touchstart",this.onScrollbarTouchStart),null===(e=this.thumbRef.current)||void 0===e||e.removeEventListener("touchstart",this.onMouseDown),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,r=e.visible,o=this.props,a=o.prefixCls,i=o.direction,s=this.getSpinHeight(),l=this.getTop(),c=this.showScroll(),u=c&&r,d="rtl"===i?{left:0}:{right:0};return n.createElement("div",{ref:this.scrollbarRef,className:st()("".concat(a,"-scrollbar"),k({},"".concat(a,"-scrollbar-show"),c)),style:Wt(Wt({width:8,top:0,bottom:0},d),{},{position:"absolute",display:u?null:"none"}),onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},n.createElement("div",{ref:this.thumbRef,className:st()("".concat(a,"-scrollbar-thumb"),k({},"".concat(a,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:s,top:l,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),r}(n.Component);function nu(e){var t=e.children,r=e.setRef,o=n.useCallback((function(n){r(n)}),[]);return n.cloneElement(t,{ref:o})}var eu=function(){function n(){l(this,n),this.maps=void 0,this.maps=Object.create(null)}return p(n,[{key:"set",value:function(n,e){this.maps[n]=e}},{key:"get",value:function(n){return this.maps[n]}}]),n}();function tu(e,t,r){var o=s(n.useState(e),2),a=o[0],i=o[1],l=s(n.useState(null),2),c=l[0],u=l[1];return n.useEffect((function(){var n=function(n,e,t){var r,o,a=n.length,i=e.length;if(0===a&&0===i)return null;a<i?(r=n,o=e):(r=e,o=n);var s={__EMPTY_ITEM__:!0};function l(n){return void 0!==n?t(n):s}for(var c=null,u=1!==Math.abs(a-i),d=0;d<o.length;d+=1){var p=l(r[d]);if(p!==l(o[d])){c=d,u=u||p!==l(o[d+1]);break}}return null===c?null:{index:c,multiple:u}}(a||[],e||[],t);void 0!==(null===n||void 0===n?void 0:n.index)&&(null===r||void 0===r||r(n.index),u(e[n.index])),i(e)}),[e]),[c]}var ru="object"===("undefined"===typeof navigator?"undefined":c(navigator))&&/Firefox/i.test(navigator.userAgent),ou=function(e,t){var r=(0,n.useRef)(!1),o=(0,n.useRef)(null);var a=(0,n.useRef)({top:e,bottom:t});return a.current.top=e,a.current.bottom=t,function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=n<0&&a.current.top||n>0&&a.current.bottom;return e&&t?(clearTimeout(o.current),r.current=!1):t&&!r.current||(clearTimeout(o.current),r.current=!0,o.current=setTimeout((function(){r.current=!1}),50)),!r.current&&t}};var au=14/15;var iu=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","component","onScroll","onVisibleChange","innerProps"],su=[],lu={overflowY:"auto",overflowAnchor:"none"};function cu(e,t){var r=e.prefixCls,o=void 0===r?"rc-virtual-list":r,a=e.className,i=e.height,l=e.itemHeight,u=e.fullHeight,d=void 0===u||u,p=e.style,f=e.data,m=e.children,h=e.itemKey,g=e.virtual,y=e.direction,b=e.component,v=void 0===b?"div":b,x=e.onScroll,w=e.onVisibleChange,S=e.innerProps,_=at(e,iu),E=!(!1===g||!i||!l),C=E&&f&&l*f.length>i,N=s((0,n.useState)(0),2),T=N[0],q=N[1],A=s((0,n.useState)(!1),2),L=A[0],j=A[1],P=st()(o,k({},"".concat(o,"-rtl"),"rtl"===y),a),O=f||su,M=(0,n.useRef)(),I=(0,n.useRef)(),D=(0,n.useRef)(),R=n.useCallback((function(n){return"function"===typeof h?h(n):null===n||void 0===n?void 0:n[h]}),[h]),F={getKey:R};function B(n){q((function(e){var t=function(n){var e=n;Number.isNaN(tn.current)||(e=Math.min(e,tn.current));return e=Math.max(e,0),e}("function"===typeof n?n(e):n);return M.current.scrollTop=t,t}))}var z=(0,n.useRef)({start:0,end:O.length}),U=(0,n.useRef)(),H=s(tu(O,R),1)[0];U.current=H;var G=function(e,t,r){var o=s(n.useState(0),2),a=o[0],i=o[1],l=(0,n.useRef)(new Map),c=(0,n.useRef)(new eu),u=(0,n.useRef)();function d(){Hi.cancel(u.current)}function p(){d(),u.current=Hi((function(){l.current.forEach((function(n,e){if(n&&n.offsetParent){var t=ci(n),r=t.offsetHeight;c.current.get(e)!==r&&c.current.set(e,t.offsetHeight)}})),i((function(n){return n+1}))}))}return(0,n.useEffect)((function(){return d}),[]),[function(n,o){var a=e(n),i=l.current.get(a);o?(l.current.set(a,o),p()):l.current.delete(a),!i!==!o&&(o?null===t||void 0===t||t(n):null===r||void 0===r||r(n))},p,c.current,a]}(R,null,null),V=s(G,4),J=V[0],W=V[1],Q=V[2],K=V[3],$=n.useMemo((function(){if(!E)return{scrollHeight:void 0,start:0,end:O.length-1,offset:void 0};var n;if(!C)return{scrollHeight:(null===(n=I.current)||void 0===n?void 0:n.offsetHeight)||0,start:0,end:O.length-1,offset:void 0};for(var e,t,r,o=0,a=O.length,s=0;s<a;s+=1){var c=O[s],u=R(c),d=Q.get(u),p=o+(void 0===d?l:d);p>=T&&void 0===e&&(e=s,t=o),p>T+i&&void 0===r&&(r=s),o=p}return void 0===e&&(e=0,t=0,r=Math.ceil(i/l)),void 0===r&&(r=O.length-1),{scrollHeight:o,start:e,end:r=Math.min(r+1,O.length),offset:t}}),[C,E,T,O,K,i]),X=$.scrollHeight,Z=$.start,Y=$.end,nn=$.offset;z.current.start=Z,z.current.end=Y;var en=X-i,tn=(0,n.useRef)(en);tn.current=en;var rn=T<=0,on=T>=en,an=ou(rn,on);var sn=function(e,t,r,o){var a=(0,n.useRef)(0),i=(0,n.useRef)(null),s=(0,n.useRef)(null),l=(0,n.useRef)(!1),c=ou(t,r);return[function(n){if(e){Hi.cancel(i.current);var t=n.deltaY;a.current+=t,s.current=t,c(t)||(ru||n.preventDefault(),i.current=Hi((function(){var n=l.current?10:1;o(a.current*n),a.current=0})))}},function(n){e&&(l.current=n.detail===s.current)}]}(E,rn,on,(function(n){B((function(e){return e+n}))})),ln=s(sn,2),cn=ln[0],un=ln[1];!function(e,t,r){var o,a=(0,n.useRef)(!1),i=(0,n.useRef)(0),s=(0,n.useRef)(null),l=(0,n.useRef)(null),c=function(n){if(a.current){var e=Math.ceil(n.touches[0].pageY),t=i.current-e;i.current=e,r(t)&&n.preventDefault(),clearInterval(l.current),l.current=setInterval((function(){(!r(t*=au,!0)||Math.abs(t)<=.1)&&clearInterval(l.current)}),16)}},u=function(){a.current=!1,o()},d=function(n){o(),1!==n.touches.length||a.current||(a.current=!0,i.current=Math.ceil(n.touches[0].pageY),s.current=n.target,s.current.addEventListener("touchmove",c),s.current.addEventListener("touchend",u))};o=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",u))},ao((function(){return e&&t.current.addEventListener("touchstart",d),function(){var n;null===(n=t.current)||void 0===n||n.removeEventListener("touchstart",d),o(),clearInterval(l.current)}}),[e])}(E,M,(function(n,e){return!an(n,e)&&(cn({preventDefault:function(){},deltaY:n}),!0)})),ao((function(){function n(n){E&&n.preventDefault()}return M.current.addEventListener("wheel",cn),M.current.addEventListener("DOMMouseScroll",un),M.current.addEventListener("MozMousePixelScroll",n),function(){M.current&&(M.current.removeEventListener("wheel",cn),M.current.removeEventListener("DOMMouseScroll",un),M.current.removeEventListener("MozMousePixelScroll",n))}}),[E]);var dn=function(e,t,r,o,a,i,s,l){var u=n.useRef();return function(n){if(null!==n&&void 0!==n){if(Hi.cancel(u.current),"number"===typeof n)s(n);else if(n&&"object"===c(n)){var d,p=n.align;d="index"in n?n.index:t.findIndex((function(e){return a(e)===n.key}));var f=n.offset,m=void 0===f?0:f;!function n(l,c){if(!(l<0)&&e.current){var f=e.current.clientHeight,h=!1,g=c;if(f){for(var y=c||p,b=0,v=0,x=0,w=Math.min(t.length,d),k=0;k<=w;k+=1){var S=a(t[k]);v=b;var _=r.get(S);b=x=v+(void 0===_?o:_),k===d&&void 0===_&&(h=!0)}var E=null;switch(y){case"top":E=v-m;break;case"bottom":E=x-f+m;break;default:var C=e.current.scrollTop;v<C?g="top":x>C+f&&(g="bottom")}null!==E&&E!==e.current.scrollTop&&s(E)}u.current=Hi((function(){h&&i(),n(l-1,g)}),2)}}(3)}}else l()}}(M,O,Q,l,R,W,B,(function(){var n;null===(n=D.current)||void 0===n||n.delayHidden()}));n.useImperativeHandle(t,(function(){return{scrollTo:dn}})),ao((function(){if(w){var n=O.slice(Z,Y+1);w(n,O)}}),[Z,Y,O]);var pn=function(e,t,r,o,a,i){var s=i.getKey;return e.slice(t,r+1).map((function(e,r){var i=a(e,t+r,{}),l=s(e);return n.createElement(nu,{key:l,setRef:function(n){return o(e,n)}},i)}))}(O,Z,Y,J,m,F),fn=null;return i&&(fn=Wt(k({},d?"height":"maxHeight",i),lu),E&&(fn.overflowY="hidden",L&&(fn.pointerEvents="none"))),n.createElement("div",rt({style:Wt(Wt({},p),{},{position:"relative"}),className:P},_),n.createElement(v,{className:"".concat(o,"-holder"),style:fn,ref:M,onScroll:function(n){var e=n.currentTarget.scrollTop;e!==T&&B(e),null===x||void 0===x||x(n)}},n.createElement(Xc,{prefixCls:o,height:X,offset:nn,onInnerResize:W,ref:I,innerProps:S},pn)),E&&n.createElement(Yc,{ref:D,prefixCls:o,scrollTop:T,height:i,scrollHeight:X,count:O.length,direction:y,onScroll:function(n){B(n)},onStartMove:function(){j(!0)},onStopMove:function(){j(!1)}}))}var uu=n.forwardRef(cu);uu.displayName="List";var du=uu;var pu=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],fu=function(e,t){var r=e.className,o=e.style,a=e.motion,i=e.motionNodes,l=e.motionType,c=e.onMotionStart,u=e.onMotionEnd,d=e.active,p=e.treeNodeRequiredProps,f=at(e,pu),m=s(n.useState(!0),2),h=m[0],g=m[1],y=n.useContext(Bl).prefixCls,b=i&&"hide"!==l;ao((function(){i&&b!==h&&g(b)}),[i]);var v=n.useRef(!1),x=function(){i&&!v.current&&(v.current=!0,u())};!function(e,t){var r=s(n.useState(!1),2),o=r[0],a=r[1];n.useLayoutEffect((function(){if(o)return e(),function(){t()}}),[o]),n.useLayoutEffect((function(){return a(!0),function(){a(!1)}}),[])}((function(){i&&c()}),x);return i?n.createElement(ss,rt({ref:t,visible:h},a,{motionAppear:"show"===l,onVisibleChanged:function(n){b===n&&x()}}),(function(e,t){var r=e.className,o=e.style;return n.createElement("div",{ref:t,className:st()("".concat(y,"-treenode-motion"),r),style:o},i.map((function(e){var t=rt({},(bc(e.data),e.data)),r=e.title,o=e.key,a=e.isStart,i=e.isEnd;delete t.children;var s=$l(o,p);return n.createElement(rc,rt({},t,s,{title:r,active:d,data:e.data,key:o,isStart:a,isEnd:i}))})))})):n.createElement(rc,rt({domRef:t,className:r,style:o},f,{active:d}))};fu.displayName="MotionTreeNode";var mu=n.forwardRef(fu);function hu(n,e,t){var r=n.findIndex((function(n){return n.key===t})),o=n[r+1],a=e.findIndex((function(n){return n.key===t}));if(o){var i=e.findIndex((function(n){return n.key===o.key}));return e.slice(a+1,i)}return e.slice(a+1)}var gu=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],yu={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},bu=function(){},vu="RC_TREE_MOTION_".concat(Math.random()),xu={key:vu},wu={key:vu,level:0,index:0,pos:"0",node:xu,nodes:[xu]},ku={parent:null,children:[],pos:wu.pos,data:xu,title:null,key:vu,isStart:[],isEnd:[]};function Su(n,e,t,r){return!1!==e&&t?n.slice(0,Math.ceil(t/r)+1):n}function _u(n){return Vl(n.key,n.pos)}var Eu=n.forwardRef((function(e,t){var r=e.prefixCls,o=e.data,a=(e.selectable,e.checkable,e.expandedKeys),i=e.selectedKeys,l=e.checkedKeys,c=e.loadedKeys,u=e.loadingKeys,d=e.halfCheckedKeys,p=e.keyEntities,f=e.disabled,m=e.dragging,h=e.dragOverNodeKey,g=e.dropPosition,y=e.motion,b=e.height,v=e.itemHeight,x=e.virtual,w=e.focusable,k=e.activeItem,S=e.focused,_=e.tabIndex,E=e.onKeyDown,C=e.onFocus,N=e.onBlur,T=e.onActiveChange,q=e.onListChangeStart,A=e.onListChangeEnd,L=at(e,gu),j=n.useRef(null),P=n.useRef(null);n.useImperativeHandle(t,(function(){return{scrollTo:function(n){j.current.scrollTo(n)},getIndentWidth:function(){return P.current.offsetWidth}}}));var O=s(n.useState(a),2),M=O[0],I=O[1],D=s(n.useState(o),2),R=D[0],F=D[1],B=s(n.useState(o),2),z=B[0],U=B[1],H=s(n.useState([]),2),G=H[0],V=H[1],J=s(n.useState(null),2),W=J[0],Q=J[1],K=n.useRef(o);function $(){var n=K.current;F(n),U(n),V([]),Q(null),A()}K.current=o,ao((function(){I(a);var n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=n.length,r=e.length;if(1!==Math.abs(t-r))return{add:!1,key:null};function o(n,e){var t=new Map;n.forEach((function(n){t.set(n,!0)}));var r=e.filter((function(n){return!t.has(n)}));return 1===r.length?r[0]:null}return t<r?{add:!0,key:o(n,e)}:{add:!1,key:o(e,n)}}(M,a);if(null!==n.key)if(n.add){var e=R.findIndex((function(e){return e.key===n.key})),t=Su(hu(R,o,n.key),x,b,v),r=R.slice();r.splice(e+1,0,ku),U(r),V(t),Q("show")}else{var i=o.findIndex((function(e){return e.key===n.key})),s=Su(hu(o,R,n.key),x,b,v),l=o.slice();l.splice(i+1,0,ku),U(l),V(s),Q("hide")}else R!==o&&(F(o),U(o))}),[a,o]),n.useEffect((function(){m||$()}),[m]);var X=y?z:o,Z={expandedKeys:a,selectedKeys:i,loadedKeys:c,loadingKeys:u,checkedKeys:l,halfCheckedKeys:d,dragOverNodeKey:h,dropPosition:g,keyEntities:p};return n.createElement(n.Fragment,null,S&&k&&n.createElement("span",{style:yu,"aria-live":"assertive"},function(n){for(var e=String(n.data.key),t=n;t.parent;)t=t.parent,e="".concat(t.data.key," > ").concat(e);return e}(k)),n.createElement("div",null,n.createElement("input",{style:yu,disabled:!1===w||f,tabIndex:!1!==w?_:null,onKeyDown:E,onFocus:C,onBlur:N,value:"",onChange:bu,"aria-label":"for screen reader"})),n.createElement("div",{className:"".concat(r,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},n.createElement("div",{className:"".concat(r,"-indent")},n.createElement("div",{ref:P,className:"".concat(r,"-indent-unit")}))),n.createElement(du,rt({},L,{data:X,itemKey:_u,height:b,fullHeight:!1,virtual:x,itemHeight:v,prefixCls:"".concat(r,"-list"),ref:j,onVisibleChange:function(n,e){var t=new Set(n);e.filter((function(n){return!t.has(n)})).some((function(n){return _u(n)===vu}))&&$()}}),(function(e){var t=e.pos,r=rt({},(bc(e.data),e.data)),o=e.title,a=e.key,i=e.isStart,s=e.isEnd,l=Vl(a,t);delete r.key,delete r.children;var c=$l(l,Z);return n.createElement(mu,rt({},r,c,{title:o,active:!!k&&a===k.key,pos:t,data:e.data,isStart:i,isEnd:s,motion:y,motionNodes:a===vu?G:null,motionType:W,onMotionStart:q,onMotionEnd:$,treeNodeRequiredProps:Z,onMouseMove:function(){T(null)}}))})))}));Eu.displayName="NodeList";var Cu=Eu;function Nu(n,e){var t=new Set;return n.forEach((function(n){e.has(n)||t.add(n)})),t}function Tu(n){var e=n||{},t=e.disabled,r=e.disableCheckbox,o=e.checkable;return!(!t&&!r)||!1===o}function qu(n,e,t,r){var o,a=[];o=r||Tu;var i,s=new Set(n.filter((function(n){var e=!!t[n];return e||a.push(n),e}))),l=new Map,c=0;return Object.keys(t).forEach((function(n){var e=t[n],r=e.level,o=l.get(r);o||(o=new Set,l.set(r,o)),o.add(e),c=Math.max(c,r)})),nr(!a.length,"Tree missing follow keys: ".concat(a.slice(0,100).map((function(n){return"'".concat(n,"'")})).join(", "))),i=!0===e?function(n,e,t,r){for(var o=new Set(n),a=new Set,i=0;i<=t;i+=1)(e.get(i)||new Set).forEach((function(n){var e=n.key,t=n.node,a=n.children,i=void 0===a?[]:a;o.has(e)&&!r(t)&&i.filter((function(n){return!r(n.node)})).forEach((function(n){o.add(n.key)}))}));for(var s=new Set,l=t;l>=0;l-=1)(e.get(l)||new Set).forEach((function(n){var e=n.parent,t=n.node;if(!r(t)&&n.parent&&!s.has(n.parent.key))if(r(n.parent.node))s.add(e.key);else{var i=!0,l=!1;(e.children||[]).filter((function(n){return!r(n.node)})).forEach((function(n){var e=n.key,t=o.has(e);i&&!t&&(i=!1),l||!t&&!a.has(e)||(l=!0)})),i&&o.add(e.key),l&&a.add(e.key),s.add(e.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(Nu(a,o))}}(s,l,c,o):function(n,e,t,r,o){for(var a=new Set(n),i=new Set(e),s=0;s<=r;s+=1)(t.get(s)||new Set).forEach((function(n){var e=n.key,t=n.node,r=n.children,s=void 0===r?[]:r;a.has(e)||i.has(e)||o(t)||s.filter((function(n){return!o(n.node)})).forEach((function(n){a.delete(n.key)}))}));i=new Set;for(var l=new Set,c=r;c>=0;c-=1)(t.get(c)||new Set).forEach((function(n){var e=n.parent,t=n.node;if(!o(t)&&n.parent&&!l.has(n.parent.key))if(o(n.parent.node))l.add(e.key);else{var r=!0,s=!1;(e.children||[]).filter((function(n){return!o(n.node)})).forEach((function(n){var e=n.key,t=a.has(e);r&&!t&&(r=!1),s||!t&&!i.has(e)||(s=!0)})),r||a.delete(e.key),s&&i.add(e.key),l.add(e.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(Nu(i,a))}}(s,e.halfCheckedKeys,l,c,o),i}var Au=function(e){m(r,e);var t=b(r);function r(){var e;l(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Jl()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=n.createRef(),e.onNodeDragStart=function(n,t){var r=e.state,o=r.expandedKeys,a=r.keyEntities,i=e.props.onDragStart,s=t.props.eventKey;e.dragNode=t,e.dragStartMousePosition={x:n.clientX,y:n.clientY};var l=oc(o,s);e.setState({draggingNodeKey:s,dragChildrenKeys:sc(s,a),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(l),window.addEventListener("dragend",e.onWindowDragEnd),null===i||void 0===i||i({event:n,node:Xl(t.props)})},e.onNodeDragEnter=function(n,t){var r=e.state,o=r.expandedKeys,a=r.keyEntities,i=r.dragChildrenKeys,s=r.flattenNodes,l=r.indent,c=e.props,u=c.onDragEnter,d=c.onExpand,p=c.allowDrop,f=c.direction,m=t.props,h=m.pos,g=m.eventKey,b=y(e).dragNode;if(e.currentMouseOverDroppableNodeKey!==g&&(e.currentMouseOverDroppableNodeKey=g),b){var v=cc(n,b,t,l,e.dragStartMousePosition,p,s,a,o,f),x=v.dropPosition,w=v.dropLevelOffset,k=v.dropTargetKey,S=v.dropContainerKey,_=v.dropTargetPos,E=v.dropAllowed,C=v.dragOverNodeKey;-1===i.indexOf(k)&&E?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(n){clearTimeout(e.delayedDragEnterLogic[n])})),b.props.eventKey!==t.props.eventKey&&(n.persist(),e.delayedDragEnterLogic[h]=window.setTimeout((function(){if(null!==e.state.draggingNodeKey){var r=(0,q.Z)(o),i=a[t.props.eventKey];i&&(i.children||[]).length&&(r=ac(o,t.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(r),null===d||void 0===d||d(r,{node:Xl(t.props),expanded:!0,nativeEvent:n.nativeEvent})}}),800)),b.props.eventKey!==k||0!==w?(e.setState({dragOverNodeKey:C,dropPosition:x,dropLevelOffset:w,dropTargetKey:k,dropContainerKey:S,dropTargetPos:_,dropAllowed:E}),null===u||void 0===u||u({event:n,node:Xl(t.props),expandedKeys:o})):e.resetDragState()):e.resetDragState()}else e.resetDragState()},e.onNodeDragOver=function(n,t){var r=e.state,o=r.dragChildrenKeys,a=r.flattenNodes,i=r.keyEntities,s=r.expandedKeys,l=r.indent,c=e.props,u=c.onDragOver,d=c.allowDrop,p=c.direction,f=y(e).dragNode;if(f){var m=cc(n,f,t,l,e.dragStartMousePosition,d,a,i,s,p),h=m.dropPosition,g=m.dropLevelOffset,b=m.dropTargetKey,v=m.dropContainerKey,x=m.dropAllowed,w=m.dropTargetPos,k=m.dragOverNodeKey;-1===o.indexOf(b)&&x&&(f.props.eventKey===b&&0===g?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.resetDragState():h===e.state.dropPosition&&g===e.state.dropLevelOffset&&b===e.state.dropTargetKey&&v===e.state.dropContainerKey&&w===e.state.dropTargetPos&&x===e.state.dropAllowed&&k===e.state.dragOverNodeKey||e.setState({dropPosition:h,dropLevelOffset:g,dropTargetKey:b,dropContainerKey:v,dropTargetPos:w,dropAllowed:x,dragOverNodeKey:k}),null===u||void 0===u||u({event:n,node:Xl(t.props)}))}},e.onNodeDragLeave=function(n,t){e.currentMouseOverDroppableNodeKey!==t.props.eventKey||n.currentTarget.contains(n.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;null===r||void 0===r||r({event:n,node:Xl(t.props)})},e.onWindowDragEnd=function(n){e.onNodeDragEnd(n,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(n,t){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),null===r||void 0===r||r({event:n,node:Xl(t.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(n,t){var r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.state,i=a.dragChildrenKeys,s=a.dropPosition,l=a.dropTargetKey,c=a.dropTargetPos;if(a.dropAllowed){var u=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==l){var d=Wt(Wt({},$l(l,e.getTreeNodeRequiredProps())),{},{active:(null===(r=e.getActiveItem())||void 0===r?void 0:r.key)===l,data:e.state.keyEntities[l].node}),p=-1!==i.indexOf(l);nr(!p,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var f=ic(c),m={event:n,node:Xl(d),dragNode:e.dragNode?Xl(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(i),dropToGap:0!==s,dropPosition:s+Number(f[f.length-1])};o||null===u||void 0===u||u(m),e.dragNode=null}}},e.cleanDragState=function(){null!==e.state.draggingNodeKey&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(n,t){var r=e.state,o=r.expandedKeys,a=r.flattenNodes,i=t.expanded,s=t.key;if(!(t.isLeaf||n.shiftKey||n.metaKey||n.ctrlKey)){var l=a.filter((function(n){return n.key===s}))[0],c=Xl(Wt(Wt({},$l(s,e.getTreeNodeRequiredProps())),{},{data:l.data}));e.setExpandedKeys(i?oc(o,s):ac(o,s)),e.onNodeExpand(n,c)}},e.onNodeClick=function(n,t){var r=e.props,o=r.onClick;"click"===r.expandAction&&e.triggerExpandActionExpand(n,t),null===o||void 0===o||o(n,t)},e.onNodeDoubleClick=function(n,t){var r=e.props,o=r.onDoubleClick;"doubleClick"===r.expandAction&&e.triggerExpandActionExpand(n,t),null===o||void 0===o||o(n,t)},e.onNodeSelect=function(n,t){var r=e.state.selectedKeys,o=e.state,a=o.keyEntities,i=o.fieldNames,s=e.props,l=s.onSelect,c=s.multiple,u=t.selected,d=t[i.key],p=!u,f=(r=p?c?ac(r,d):[d]:oc(r,d)).map((function(n){var e=a[n];return e?e.node:null})).filter((function(n){return n}));e.setUncontrolledState({selectedKeys:r}),null===l||void 0===l||l(r,{event:"select",selected:p,node:t,selectedNodes:f,nativeEvent:n.nativeEvent})},e.onNodeCheck=function(n,t,r){var o,a=e.state,i=a.keyEntities,s=a.checkedKeys,l=a.halfCheckedKeys,c=e.props,u=c.checkStrictly,d=c.onCheck,p=t.key,f={event:"check",node:t,checked:r,nativeEvent:n.nativeEvent};if(u){var m=r?ac(s,p):oc(s,p);o={checked:m,halfChecked:oc(l,p)},f.checkedNodes=m.map((function(n){return i[n]})).filter((function(n){return n})).map((function(n){return n.node})),e.setUncontrolledState({checkedKeys:m})}else{var h=qu([].concat((0,q.Z)(s),[p]),!0,i),g=h.checkedKeys,y=h.halfCheckedKeys;if(!r){var b=new Set(g);b.delete(p);var v=qu(Array.from(b),{checked:!1,halfCheckedKeys:y},i);g=v.checkedKeys,y=v.halfCheckedKeys}o=g,f.checkedNodes=[],f.checkedNodesPositions=[],f.halfCheckedKeys=y,g.forEach((function(n){var e=i[n];if(e){var t=e.node,r=e.pos;f.checkedNodes.push(t),f.checkedNodesPositions.push({node:t,pos:r})}})),e.setUncontrolledState({checkedKeys:g},!1,{halfCheckedKeys:y})}null===d||void 0===d||d(o,f)},e.onNodeLoad=function(n){var t=n.key,r=new Promise((function(r,o){e.setState((function(a){var i=a.loadedKeys,s=void 0===i?[]:i,l=a.loadingKeys,c=void 0===l?[]:l,u=e.props,d=u.loadData,p=u.onLoad;return d&&-1===s.indexOf(t)&&-1===c.indexOf(t)?(d(n).then((function(){var o=ac(e.state.loadedKeys,t);null===p||void 0===p||p(o,{event:"load",node:n}),e.setUncontrolledState({loadedKeys:o}),e.setState((function(n){return{loadingKeys:oc(n.loadingKeys,t)}})),r()})).catch((function(n){if(e.setState((function(n){return{loadingKeys:oc(n.loadingKeys,t)}})),e.loadingRetryTimes[t]=(e.loadingRetryTimes[t]||0)+1,e.loadingRetryTimes[t]>=10){var a=e.state.loadedKeys;nr(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:ac(a,t)}),r()}o(n)})),{loadingKeys:ac(c,t)}):null}))}));return r.catch((function(){})),r},e.onNodeMouseEnter=function(n,t){var r=e.props.onMouseEnter;null===r||void 0===r||r({event:n,node:t})},e.onNodeMouseLeave=function(n,t){var r=e.props.onMouseLeave;null===r||void 0===r||r({event:n,node:t})},e.onNodeContextMenu=function(n,t){var r=e.props.onRightClick;r&&(n.preventDefault(),r({event:n,node:t}))},e.onFocus=function(){var n=e.props.onFocus;e.setState({focused:!0});for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];null===n||void 0===n||n.apply(void 0,r)},e.onBlur=function(){var n=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];null===n||void 0===n||n.apply(void 0,r)},e.getTreeNodeRequiredProps=function(){var n=e.state;return{expandedKeys:n.expandedKeys||[],selectedKeys:n.selectedKeys||[],loadedKeys:n.loadedKeys||[],loadingKeys:n.loadingKeys||[],checkedKeys:n.checkedKeys||[],halfCheckedKeys:n.halfCheckedKeys||[],dragOverNodeKey:n.dragOverNodeKey,dropPosition:n.dropPosition,keyEntities:n.keyEntities}},e.setExpandedKeys=function(n){var t=e.state,r=Ql(t.treeData,n,t.fieldNames);e.setUncontrolledState({expandedKeys:n,flattenNodes:r},!0)},e.onNodeExpand=function(n,t){var r=e.state.expandedKeys,o=e.state,a=o.listChanging,i=o.fieldNames,s=e.props,l=s.onExpand,c=s.loadData,u=t.expanded,d=t[i.key];if(!a){var p=r.indexOf(d),f=!u;if(nr(u&&-1!==p||!u&&-1===p,"Expand state not sync with index check"),r=f?ac(r,d):oc(r,d),e.setExpandedKeys(r),null===l||void 0===l||l(r,{node:t,expanded:f,nativeEvent:n.nativeEvent}),f&&c){var m=e.onNodeLoad(t);m&&m.then((function(){var n=Ql(e.state.treeData,r,i);e.setUncontrolledState({flattenNodes:n})})).catch((function(){var n=oc(e.state.expandedKeys,d);e.setExpandedKeys(n)}))}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))},e.onActiveChange=function(n){var t=e.state.activeKey,r=e.props.onActiveChange;t!==n&&(e.setState({activeKey:n}),null!==n&&e.scrollTo({key:n}),null===r||void 0===r||r(n))},e.getActiveItem=function(){var n=e.state,t=n.activeKey,r=n.flattenNodes;return null===t?null:r.find((function(n){return n.key===t}))||null},e.offsetActiveKey=function(n){var t=e.state,r=t.flattenNodes,o=t.activeKey,a=r.findIndex((function(n){return n.key===o}));-1===a&&n<0&&(a=r.length);var i=r[a=(a+n+r.length)%r.length];if(i){var s=i.key;e.onActiveChange(s)}else e.onActiveChange(null)},e.onKeyDown=function(n){var t=e.state,r=t.activeKey,o=t.expandedKeys,a=t.checkedKeys,i=t.fieldNames,s=e.props,l=s.onKeyDown,c=s.checkable,u=s.selectable;switch(n.which){case yc.UP:e.offsetActiveKey(-1),n.preventDefault();break;case yc.DOWN:e.offsetActiveKey(1),n.preventDefault()}var d=e.getActiveItem();if(d&&d.data){var p=e.getTreeNodeRequiredProps(),f=!1===d.data.isLeaf||!!(d.data[i.children]||[]).length,m=Xl(Wt(Wt({},$l(r,p)),{},{data:d.data,active:!0}));switch(n.which){case yc.LEFT:f&&o.includes(r)?e.onNodeExpand({},m):d.parent&&e.onActiveChange(d.parent.key),n.preventDefault();break;case yc.RIGHT:f&&!o.includes(r)?e.onNodeExpand({},m):d.children&&d.children.length&&e.onActiveChange(d.children[0].key),n.preventDefault();break;case yc.ENTER:case yc.SPACE:!c||m.disabled||!1===m.checkable||m.disableCheckbox?c||!u||m.disabled||!1===m.selectable||e.onNodeSelect({},m):e.onNodeCheck({},m,!a.includes(r))}}null===l||void 0===l||l(n)},e.setUncontrolledState=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var o=!1,a=!0,i={};Object.keys(n).forEach((function(t){t in e.props?a=!1:(o=!0,i[t]=n[t])})),!o||t&&!a||e.setState(Wt(Wt({},i),r))}},e.scrollTo=function(n){e.listRef.current.scrollTo(n)},e}return p(r,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var n=this.props.activeKey;void 0!==n&&n!==this.state.activeKey&&(this.setState({activeKey:n}),null!==n&&this.scrollTo({key:n}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,t,r=this.state,o=r.focused,a=r.flattenNodes,i=r.keyEntities,s=r.draggingNodeKey,l=r.activeKey,u=r.dropLevelOffset,d=r.dropContainerKey,p=r.dropTargetKey,f=r.dropPosition,m=r.dragOverNodeKey,h=r.indent,g=this.props,y=g.prefixCls,b=g.className,v=g.style,x=g.showLine,w=g.focusable,S=g.tabIndex,_=void 0===S?0:S,E=g.selectable,C=g.showIcon,N=g.icon,T=g.switcherIcon,q=g.draggable,A=g.checkable,L=g.checkStrictly,j=g.disabled,P=g.motion,O=g.loadData,M=g.filterTreeNode,I=g.height,D=g.itemHeight,R=g.virtual,F=g.titleRender,B=g.dropIndicatorRender,z=g.onContextMenu,U=g.onScroll,H=g.direction,G=g.rootClassName,V=g.rootStyle,J=Fl(this.props,{aria:!0,data:!0});return q&&(t="object"===c(q)?q:"function"===typeof q?{nodeDraggable:q}:{}),n.createElement(Bl.Provider,{value:{prefixCls:y,selectable:E,showIcon:C,icon:N,switcherIcon:T,draggable:t,draggingNodeKey:s,checkable:A,checkStrictly:L,disabled:j,keyEntities:i,dropLevelOffset:u,dropContainerKey:d,dropTargetKey:p,dropPosition:f,dragOverNodeKey:m,indent:h,direction:H,dropIndicatorRender:B,loadData:O,filterTreeNode:M,titleRender:F,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},n.createElement("div",{role:"tree",className:st()(y,b,G,(e={},k(e,"".concat(y,"-show-line"),x),k(e,"".concat(y,"-focused"),o),k(e,"".concat(y,"-active-focused"),null!==l),e)),style:V},n.createElement(Cu,rt({ref:this.listRef,prefixCls:y,style:v,data:a,disabled:j,selectable:E,checkable:!!A,motion:P,dragging:null!==s,height:I,itemHeight:D,virtual:R,focusable:w,focused:o,tabIndex:_,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:z,onScroll:U},this.getTreeNodeRequiredProps(),J))))}}],[{key:"getDerivedStateFromProps",value:function(n,e){var t,r=e.prevProps,o={prevProps:n};function a(e){return!r&&e in n||r&&r[e]!==n[e]}var i=e.fieldNames;if(a("fieldNames")&&(i=Jl(n.fieldNames),o.fieldNames=i),a("treeData")?t=n.treeData:a("children")&&(nr(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),t=Wl(n.children)),t){o.treeData=t;var s=Kl(t,{fieldNames:i});o.keyEntities=Wt(k({},vu,wu),s.keyEntities)}var l,c=o.keyEntities||e.keyEntities;if(a("expandedKeys")||r&&a("autoExpandParent"))o.expandedKeys=n.autoExpandParent||!r&&n.defaultExpandParent?pc(n.expandedKeys,c):n.expandedKeys;else if(!r&&n.defaultExpandAll){var u=Wt({},c);delete u[vu],o.expandedKeys=Object.keys(u).map((function(n){return u[n].key}))}else!r&&n.defaultExpandedKeys&&(o.expandedKeys=n.autoExpandParent||n.defaultExpandParent?pc(n.defaultExpandedKeys,c):n.defaultExpandedKeys);if(o.expandedKeys||delete o.expandedKeys,t||o.expandedKeys){var d=Ql(t||e.treeData,o.expandedKeys||e.expandedKeys,i);o.flattenNodes=d}if((n.selectable&&(a("selectedKeys")?o.selectedKeys=uc(n.selectedKeys,n):!r&&n.defaultSelectedKeys&&(o.selectedKeys=uc(n.defaultSelectedKeys,n))),n.checkable)&&(a("checkedKeys")?l=dc(n.checkedKeys)||{}:!r&&n.defaultCheckedKeys?l=dc(n.defaultCheckedKeys)||{}:t&&(l=dc(n.checkedKeys)||{checkedKeys:e.checkedKeys,halfCheckedKeys:e.halfCheckedKeys}),l)){var p=l,f=p.checkedKeys,m=void 0===f?[]:f,h=p.halfCheckedKeys,g=void 0===h?[]:h;if(!n.checkStrictly){var y=qu(m,!0,c);m=y.checkedKeys,g=y.halfCheckedKeys}o.checkedKeys=m,o.halfCheckedKeys=g}return a("loadedKeys")&&(o.loadedKeys=n.loadedKeys),o}}]),r}(n.Component);Au.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,r=e.dropLevelOffset,o=e.indent,a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:a.top=0,a.left=-r*o;break;case 1:a.bottom=0,a.left=-r*o;break;case 0:a.bottom=0,a.left=o}return n.createElement("div",{style:a})},allowDrop:function(){return!0},expandAction:!1},Au.TreeNode=rc;var Lu=Au,ju=function(){return{height:0,opacity:0}},Pu=function(n){return{height:n.scrollHeight,opacity:1}},Ou=function(n){return{height:n?n.offsetHeight:0}},Mu=function(n,e){return!0===(null===e||void 0===e?void 0:e.deadline)||"height"===e.propertyName},Iu=function(){return{motionName:"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ant","-motion-collapse"),onAppearStart:ju,onEnterStart:ju,onAppearActive:Pu,onEnterActive:Pu,onLeaveStart:Ou,onLeaveActive:ju,onAppearEnd:Mu,onEnterEnd:Mu,onLeaveEnd:Mu,motionDeadline:500}},Du=new ma("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),Ru=function(n){var e,t,r,o,a,i,s,l,c,u,d=n.checkboxCls,p="".concat(d,"-wrapper");return[(r={},k(r,"".concat(d,"-group"),Object.assign(Object.assign({},Aa(n)),k({display:"inline-flex",flexWrap:"wrap",columnGap:n.marginXS},"> ".concat(n.antCls,"-row"),{flex:1}))),k(r,p,Object.assign(Object.assign({},Aa(n)),(e={display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"}},k(e,"& + ".concat(p),{marginInlineStart:0}),k(e,"&".concat(p,"-in-form-item"),{'input[type="checkbox"]':{width:14,height:14}}),e))),k(r,d,Object.assign(Object.assign({},Aa(n)),(t={position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center"},k(t,"".concat(d,"-input"),k({position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0},"&:focus-visible + ".concat(d,"-inner"),Object.assign({},Pa(n)))),k(t,"".concat(d,"-inner"),{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:n.checkboxSize,height:n.checkboxSize,direction:"ltr",backgroundColor:n.colorBgContainer,border:"".concat(n.lineWidth,"px ").concat(n.lineType," ").concat(n.colorBorder),borderRadius:n.borderRadiusSM,borderCollapse:"separate",transition:"all ".concat(n.motionDurationSlow),"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:n.checkboxSize/14*5,height:n.checkboxSize/14*8,border:"".concat(n.lineWidthBold,"px solid ").concat(n.colorWhite),borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:"all ".concat(n.motionDurationFast," ").concat(n.motionEaseInBack,", opacity ").concat(n.motionDurationFast)}}),k(t,"& + span",{paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS}),t))),r),k({},d,{"&-indeterminate":k({},"".concat(d,"-inner"),{"&:after":{top:"50%",insetInlineStart:"50%",width:n.fontSizeLG/2,height:n.fontSizeLG/2,backgroundColor:n.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}})}),(a={},k(a,"".concat(p,":hover ").concat(d,":after"),{visibility:"visible"}),k(a,"\n        ".concat(p,":not(").concat(p,"-disabled),\n        ").concat(d,":not(").concat(d,"-disabled)\n      "),k({},"&:hover ".concat(d,"-inner"),{borderColor:n.colorPrimary})),k(a,"".concat(p,":not(").concat(p,"-disabled)"),(o={},k(o,"&:hover ".concat(d,"-checked:not(").concat(d,"-disabled) ").concat(d,"-inner"),{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"}),k(o,"&:hover ".concat(d,"-checked:not(").concat(d,"-disabled):after"),{borderColor:n.colorPrimaryHover}),o)),a),(l={},k(l,"".concat(d,"-checked"),(i={},k(i,"".concat(d,"-inner"),{backgroundColor:n.colorPrimary,borderColor:n.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:"all ".concat(n.motionDurationMid," ").concat(n.motionEaseOutBack," ").concat(n.motionDurationFast)}}),k(i,"&:after",{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:n.borderRadiusSM,visibility:"hidden",border:"".concat(n.lineWidthBold,"px solid ").concat(n.colorPrimary),animationName:Du,animationDuration:n.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:"all ".concat(n.motionDurationSlow)}),i)),k(l,"\n        ".concat(p,"-checked:not(").concat(p,"-disabled),\n        ").concat(d,"-checked:not(").concat(d,"-disabled)\n      "),(s={},k(s,"&:hover ".concat(d,"-inner"),{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"}),k(s,"&:hover ".concat(d,":after"),{borderColor:n.colorPrimaryHover}),s)),l),(u={},k(u,"".concat(p,"-disabled"),{cursor:"not-allowed"}),k(u,"".concat(d,"-disabled"),(c={},k(c,"&, ".concat(d,"-input"),{cursor:"not-allowed",pointerEvents:"none"}),k(c,"".concat(d,"-inner"),{background:n.colorBgContainerDisabled,borderColor:n.colorBorder,"&:after":{borderColor:n.colorTextDisabled}}),k(c,"&:after",{display:"none"}),k(c,"& + span",{color:n.colorTextDisabled}),k(c,"&".concat(d,"-indeterminate ").concat(d,"-inner::after"),{background:n.colorTextDisabled}),c)),u)]};function Fu(n,e){var t=ei(e,{checkboxCls:".".concat(n),checkboxSize:e.controlInteractiveSize});return[Ru(t)]}oi("Checkbox",(function(n,e){return[Fu(e.prefixCls,n)]}));var Bu=function(n){var e;return k({},n.componentCls,(k(e={},"".concat(n.antCls,"-motion-collapse-legacy"),{overflow:"hidden","&-active":{transition:"height ".concat(n.motionDurationMid," ").concat(n.motionEaseInOut,",\n        opacity ").concat(n.motionDurationMid," ").concat(n.motionEaseInOut," !important")}}),k(e,"".concat(n.antCls,"-motion-collapse"),{overflow:"hidden",transition:"height ".concat(n.motionDurationMid," ").concat(n.motionEaseInOut,",\n        opacity ").concat(n.motionDurationMid," ").concat(n.motionEaseInOut," !important")}),e))},zu=new ma("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Uu=function(n,e){var t,r,o,a,i,s,l=e.treeCls,c=e.treeNodeCls,u=e.treeNodePadding,d=e.treeTitleHeight,p=e.paddingXS;return k({},l,Object.assign(Object.assign({},Aa(e)),(k(s={background:e.colorBgContainer,borderRadius:e.borderRadius,transition:"background-color ".concat(e.motionDurationSlow)},"&".concat(l,"-rtl"),k({},"".concat(l,"-switcher"),{"&_close":k({},"".concat(l,"-switcher-icon"),{svg:{transform:"rotate(90deg)"}})})),k(s,"&-focused:not(:hover):not(".concat(l,"-active-focused)"),Object.assign({},Pa(e))),k(s,"".concat(l,"-list-holder-inner"),{alignItems:"flex-start"}),k(s,"&".concat(l,"-block-node"),k({},"".concat(l,"-list-holder-inner"),(k(t={alignItems:"stretch"},"".concat(l,"-node-content-wrapper"),{flex:"auto"}),k(t,"".concat(c,".dragging"),{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:u,insetInlineStart:0,border:"1px solid ".concat(e.colorPrimary),opacity:0,animationName:zu,animationDuration:e.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}),t))),k(s,"".concat(c),(o={display:"flex",alignItems:"flex-start",padding:"0 0 ".concat(u,"px 0"),outline:"none","&-rtl":{direction:"rtl"},"&-disabled":k({},"".concat(l,"-node-content-wrapper"),{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}})},k(o,"&-active ".concat(l,"-node-content-wrapper"),Object.assign({},Pa(e))),k(o,"&:not(".concat(c,"-disabled).filter-node ").concat(l,"-title"),{color:"inherit",fontWeight:500}),k(o,"&-draggable",(k(r={},"".concat(l,"-draggable-icon"),k({flexShrink:0,width:d,lineHeight:"".concat(d,"px"),textAlign:"center",visibility:"visible",opacity:.2,transition:"opacity ".concat(e.motionDurationSlow)},"".concat(c,":hover &"),{opacity:.45})),k(r,"&".concat(c,"-disabled"),k({},"".concat(l,"-draggable-icon"),{visibility:"hidden"})),r)),o)),k(s,"".concat(l,"-indent"),{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:d}}),k(s,"".concat(l,"-draggable-icon"),{visibility:"hidden"}),k(s,"".concat(l,"-switcher"),Object.assign(Object.assign({},function(n,e){return k({},".".concat(n,"-switcher-icon"),{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:"transform ".concat(e.motionDurationSlow)}})}(n,e)),{position:"relative",flex:"none",alignSelf:"stretch",width:d,margin:0,lineHeight:"".concat(d,"px"),textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":k({},"".concat(l,"-switcher-icon"),{svg:{transform:"rotate(-90deg)"}}),"&-loading-icon":{color:e.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:d/2,bottom:-u,marginInlineStart:-1,borderInlineEnd:"1px solid ".concat(e.colorBorder),content:'""'},"&:after":{position:"absolute",width:d/2*.8,height:d/2,borderBottom:"1px solid ".concat(e.colorBorder),content:'""'}}})),k(s,"".concat(l,"-checkbox"),{top:"initial",marginInlineEnd:p}),k(s,"".concat(l,"-node-content-wrapper, ").concat(l,"-checkbox + span"),(k(a={position:"relative",zIndex:"auto",minHeight:d,margin:0,padding:"0 ".concat(e.paddingXS/2,"px"),color:"inherit",lineHeight:"".concat(d,"px"),background:"transparent",borderRadius:e.borderRadius,cursor:"pointer",transition:"all ".concat(e.motionDurationMid,", border 0s, line-height 0s, box-shadow 0s"),"&:hover":{backgroundColor:e.controlItemBgHover}},"&".concat(l,"-node-selected"),{backgroundColor:e.controlItemBgActive}),k(a,"".concat(l,"-iconEle"),{display:"inline-block",width:d,height:d,lineHeight:"".concat(d,"px"),textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}),a)),k(s,"".concat(l,"-unselectable ").concat(l,"-node-content-wrapper:hover"),{backgroundColor:"transparent"}),k(s,"".concat(l,"-node-content-wrapper"),Object.assign({lineHeight:"".concat(d,"px"),userSelect:"none"},function(n,e){return k({},".".concat(n,"-drop-indicator"),{position:"absolute",zIndex:1,height:2,backgroundColor:e.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:"".concat(e.lineWidthBold,"px solid ").concat(e.colorPrimary),borderRadius:"50%",content:'""'}})}(n,e))),k(s,"".concat(c,".drop-container"),{"> [draggable]":{boxShadow:"0 0 0 2px ".concat(e.colorPrimary)}}),k(s,"&-show-line",(k(i={},"".concat(l,"-indent"),{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:d/2,bottom:-u,borderInlineEnd:"1px solid ".concat(e.colorBorder),content:'""'},"&-end":{"&:before":{display:"none"}}}}),k(i,"".concat(l,"-switcher"),{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}),i)),k(s,"".concat(c,"-leaf-last"),k({},"".concat(l,"-switcher"),{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:"".concat(d/2,"px !important")}}})),s)))},Hu=function(n){var e,t,r=n.treeCls,o=n.treeNodeCls,a=n.treeNodePadding;return k({},"".concat(r).concat(r,"-directory"),k({},o,(k(t={position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,transition:"background-color ".concat(n.motionDurationMid),content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:n.controlItemBgHover}},"> *":{zIndex:1}},"".concat(r,"-switcher"),{transition:"color ".concat(n.motionDurationMid)}),k(t,"".concat(r,"-node-content-wrapper"),k({borderRadius:0,userSelect:"none","&:hover":{background:"transparent"}},"&".concat(r,"-node-selected"),{color:n.colorTextLightSolid,background:"transparent"})),k(t,"&-selected",(k(e={},"\n            &:hover::before,\n            &::before\n          ",{background:n.colorPrimary}),k(e,"".concat(r,"-switcher"),{color:n.colorTextLightSolid}),k(e,"".concat(r,"-node-content-wrapper"),{color:n.colorTextLightSolid,background:"transparent"}),e)),t)))},Gu=function(n,e){var t=".".concat(n),r=ei(e,{treeCls:t,treeNodeCls:"".concat(t,"-treenode"),treeNodePadding:e.paddingXS/2,treeTitleHeight:e.controlHeightSM});return[Uu(n,r),Hu(r)]},Vu=oi("Tree",(function(n,e){var t=e.prefixCls;return[k({},n.componentCls,Fu("".concat(t,"-checkbox"),n)),Gu(t,n),Bu(n)]}));function Ju(e){var t,r=e.dropPosition,o=e.dropLevelOffset,a=e.prefixCls,i=e.indent,s=e.direction,l=void 0===s?"ltr":s,c="ltr"===l?"left":"right",u="ltr"===l?"right":"left",d=(k(t={},c,-o*i+4),k(t,u,0),t);switch(r){case-1:d.top=-3;break;case 1:d.bottom=-3;break;default:d.bottom=-3,d[c]=i+4}return n.createElement("div",{style:d,className:"".concat(a,"-drop-indicator")})}var Wu={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},Qu=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:Wu}))};var Ku=n.forwardRef(Qu),$u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Xu=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:$u}))};var Zu=n.forwardRef(Xu),Yu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},nd=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:Yu}))};var ed=n.forwardRef(nd),td=function(e){var t,r=e.prefixCls,o=e.switcherIcon,a=e.treeNodeProps,i=e.showLine,s=a.isLeaf,l=a.expanded;if(a.loading)return n.createElement(Hs,{className:"".concat(r,"-switcher-loading-icon")});if(i&&"object"===typeof i&&(t=i.showLeafIcon),s){if(!i)return null;if("boolean"!==typeof t&&t){var c="function"===typeof t?t(a):t,u="".concat(r,"-switcher-line-custom-icon");return Br(c)?zr(c,{className:st()(c.props.className||"",u)}):c}return t?n.createElement(Al,{className:"".concat(r,"-switcher-line-icon")}):n.createElement("span",{className:"".concat(r,"-switcher-leaf-line")})}var d="".concat(r,"-switcher-icon"),p="function"===typeof o?o(a):o;return Br(p)?zr(p,{className:st()(p.props.className||"",d)}):void 0!==p?p:i?l?n.createElement(Zu,{className:"".concat(r,"-switcher-line-icon")}):n.createElement(ed,{className:"".concat(r,"-switcher-line-icon")}):n.createElement(Ku,{className:d})},rd=n.forwardRef((function(e,t){var r,o=n.useContext(Fr),a=o.getPrefixCls,i=o.direction,l=o.virtual,c=o.tree,u=e.prefixCls,d=e.className,p=e.showIcon,f=void 0!==p&&p,m=e.showLine,h=e.switcherIcon,g=e.blockNode,y=void 0!==g&&g,b=e.children,v=e.checkable,x=void 0!==v&&v,w=e.selectable,S=void 0===w||w,_=e.draggable,E=e.motion,C=e.style,N=a("tree",u),T=a(),q=null!==E&&void 0!==E?E:Object.assign(Object.assign({},Iu(T)),{motionAppear:!1}),A=Object.assign(Object.assign({},e),{checkable:x,selectable:S,showIcon:f,motion:q,blockNode:y,showLine:Boolean(m),dropIndicatorRender:Ju}),L=s(Vu(N),2),j=L[0],P=L[1],O=n.useMemo((function(){if(!_)return!1;var e={};switch(typeof _){case"function":e.nodeDraggable=_;break;case"object":e=Object.assign({},_)}return!1!==e.icon&&(e.icon=e.icon||n.createElement(hc,null)),e}),[_]);return j(n.createElement(Lu,Object.assign({itemHeight:20,ref:t,virtual:l},A,{style:Object.assign(Object.assign({},null===c||void 0===c?void 0:c.style),C),prefixCls:N,className:st()((r={},k(r,"".concat(N,"-icon-hide"),!f),k(r,"".concat(N,"-block-node"),y),k(r,"".concat(N,"-unselectable"),!S),k(r,"".concat(N,"-rtl"),"rtl"===i),r),null===c||void 0===c?void 0:c.className,d,P),direction:i,checkable:x?n.createElement("span",{className:"".concat(N,"-checkbox-inner")}):x,selectable:S,switcherIcon:function(e){return n.createElement(td,{prefixCls:N,switcherIcon:h,treeNodeProps:e,showLine:m})},draggable:O}),b))}));var od,ad=rd;function id(n,e){n.forEach((function(n){var t=n.key,r=n.children;!1!==e(t,n)&&id(r||[],e)}))}function sd(n){var e=n.treeData,t=n.expandedKeys,r=n.startKey,o=n.endKey,a=[],i=od.None;if(r&&r===o)return[r];if(!r||!o)return[];return id(e,(function(n){if(i===od.End)return!1;if(function(n){return n===r||n===o}(n)){if(a.push(n),i===od.None)i=od.Start;else if(i===od.Start)return i=od.End,!1}else i===od.Start&&a.push(n);return t.includes(n)})),a}function ld(n,e){var t=(0,q.Z)(e),r=[];return id(n,(function(n,e){var o=t.indexOf(n);return-1!==o&&(r.push(e),t.splice(o,1)),!!t.length})),r}!function(n){n[n.None=0]="None",n[n.Start=1]="Start",n[n.End=2]="End"}(od||(od={}));var cd=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t};function ud(e){var t=e.isLeaf,r=e.expanded;return t?n.createElement(Al,null):r?n.createElement(Pl,null):n.createElement(Il,null)}function dd(n){var e=n.treeData,t=n.children;return e||Wl(t)}var pd=function(e,t){var r=e.defaultExpandAll,o=e.defaultExpandParent,a=e.defaultExpandedKeys,i=cd(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),l=n.useRef(),c=n.useRef(),u=s(n.useState(i.selectedKeys||i.defaultSelectedKeys||[]),2),d=u[0],p=u[1],f=s(n.useState((function(){return function(){var n=Kl(dd(i)).keyEntities;return r?Object.keys(n):o?pc(i.expandedKeys||a||[],n):i.expandedKeys||a}()})),2),m=f[0],h=f[1];n.useEffect((function(){"selectedKeys"in i&&p(i.selectedKeys)}),[i.selectedKeys]),n.useEffect((function(){"expandedKeys"in i&&h(i.expandedKeys)}),[i.expandedKeys]);var g=n.useContext(Fr),y=g.getPrefixCls,b=g.direction,v=i.prefixCls,x=i.className,w=i.showIcon,S=void 0===w||w,_=i.expandAction,E=void 0===_?"click":_,C=cd(i,["prefixCls","className","showIcon","expandAction"]),N=y("tree",v),T=st()("".concat(N,"-directory"),k({},"".concat(N,"-directory-rtl"),"rtl"===b),x);return n.createElement(ad,Object.assign({icon:ud,ref:t,blockNode:!0},C,{showIcon:S,expandAction:E,prefixCls:N,className:T,expandedKeys:m,selectedKeys:d,onSelect:function(n,e){var t,r,o=i.multiple,a=e.node,s=e.nativeEvent,u=a.key,d=void 0===u?"":u,f=dd(i),h=Object.assign(Object.assign({},e),{selected:!0}),g=(null===s||void 0===s?void 0:s.ctrlKey)||(null===s||void 0===s?void 0:s.metaKey),y=null===s||void 0===s?void 0:s.shiftKey;o&&g?(r=n,l.current=d,c.current=r,h.selectedNodes=ld(f,r)):o&&y?(r=Array.from(new Set([].concat((0,q.Z)(c.current||[]),(0,q.Z)(sd({treeData:f,expandedKeys:m,startKey:d,endKey:l.current}))))),h.selectedNodes=ld(f,r)):(r=[d],l.current=d,c.current=r,h.selectedNodes=ld(f,r)),null===(t=i.onSelect)||void 0===t||t.call(i,r,h),"selectedKeys"in i||p(r)},onExpand:function(n,e){var t;return"expandedKeys"in i||h(n),null===(t=i.onExpand)||void 0===t?void 0:t.call(i,n,e)}}))};var fd=n.forwardRef(pd),md=function(e){var t,r,o=e.clickNode,a=function(){var e=n.useContext(ve).matches,t=e[e.length-1];return t?t.params:{}}(),i=null===(t=a["*"])||void 0===t?void 0:t.split("/")[0],l=(null===(r=tt.find((function(n){return n.title===i})))||void 0===r?void 0:r.children)||[],c=function(n){var e=null,t=[];return function r(o){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=0;i<o.length;i++){var s=o[i].key;if(s===n){e=o[i],t=a;break}r(o[i].children||[],[].concat((0,q.Z)(a),[s]))}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[]),{node:e,path:t}}("/"+a["*"],l),u=s((0,n.useState)(l),2),d=u[0],p=u[1],f=s((0,n.useState)(c.path),1)[0],m=s((0,n.useState)(c.node?[c.node.key]:[]),1)[0],h=s((0,n.useState)(""),2),g=h[0],y=h[1];(0,n.useEffect)((function(){c.node&&o(c.node.content)}),[]);return(0,jr.jsxs)("div",{className:"subject-menu",children:[(0,jr.jsx)(fd,{className:"draggable-tree my-tree",defaultExpandedKeys:f,defaultSelectedKeys:m,draggable:!0,blockNode:!0,onDragEnter:function(n){console.log(n)},onDrop:function(n){var e=n.node.key,t=n.dragNode.key,r=n.node.pos.split("-"),o=n.dropPosition-Number(r[r.length-1]);if(n.dropToGap||n.node.children){var a,i=function n(e,t,r){for(var o=0;o<e.length;o++){if(e[o].key===t)return r(e[o],o,e);e[o].children&&n(e[o].children,t,r)}},s=(0,q.Z)(d);if(i(s,t,(function(n,e,t){t.splice(e,1),a=n})),n.dropToGap)if((n.node.props.children||[]).length>0&&n.node.props.expanded&&1===o)i(s,e,(function(n){n.children=n.children||[],n.children.unshift(a)}));else{var l,c=[];i(s,e,(function(n,e,t){c=t,l=e})),-1===o?c.splice(l,0,a):c.splice(l+1,0,a)}else i(s,e,(function(n){n.children=n.children||[],n.children.unshift(a)}));p(s)}},treeData:d,titleRender:function(n){return n.key===g?(0,jr.jsxs)("div",{className:"title-box",onClick:function(e){e.stopPropagation(),"content"in n&&"string"===typeof n.content&&o(n.content)},children:[(0,jr.jsx)("div",{contentEditable:!0,className:"title-box-editor",id:"edit-box-"+n.key,children:n.title}),(0,jr.jsx)("span",{className:"btn",style:{display:"inline-block",marginLeft:10},onClick:function(){var e,t,r=document.getElementById("edit-box-".concat(n.key));e=n.key,t=r.innerText,p((function(n){var r=function(n){var e=null;return function t(r){for(var o=0;o<r.length;o++){if(r[o].key===n){e=r[o];break}t(r[o].children||[])}}(d),e}(e);return r.title=t,n})),y("")},children:"\u786e\u5b9a"})]}):(0,jr.jsxs)(Ye,{to:"/subject"+n.route,"data-key":n.route,className:"title-box",onClick:function(e){"content"in n&&"string"===typeof n.content&&o(n.content)},children:[(0,jr.jsx)("span",{children:n.title}),(0,jr.jsx)(Nl,{className:"btn",onClick:function(){y(n.key),setTimeout((function(){var e=document.getElementById("edit-box-".concat(n.key));null===e||void 0===e||e.focus()}))}})]})}}),(0,jr.jsx)("div",{className:"add-btn",children:(0,jr.jsx)(_l,{block:!0,type:"primary",onClick:function(){console.log(d);var n=(0,q.Z)(d);n.push({title:"NodeJS-"+n.length,key:"NodeJS-"+n.length,children:[]}),p(n)},children:"\u6dfb\u52a0\u8282\u70b9"})})]})};function hd(n,e,t){var r=(t||{}).atBegin;return function(n,e,t){var r,o=t||{},a=o.noTrailing,i=void 0!==a&&a,s=o.noLeading,l=void 0!==s&&s,c=o.debounceMode,u=void 0===c?void 0:c,d=!1,p=0;function f(){r&&clearTimeout(r)}function m(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];var s=this,c=Date.now()-p;function m(){p=Date.now(),e.apply(s,o)}function h(){r=void 0}d||(l||!u||r||m(),f(),void 0===u&&c>n?l?(p=Date.now(),i||(r=setTimeout(u?h:m,n))):m():!0!==i&&(r=setTimeout(u?h:m,void 0===u?n-c:n)))}return m.cancel=function(n){var e=(n||{}).upcomingOnly,t=void 0!==e&&e;f(),d=!t},m}(n,e,{debounceMode:!1!==(void 0!==r&&r)})}var gd=new ma("antSpinMove",{to:{opacity:1}}),yd=new ma("antRotate",{to:{transform:"rotate(405deg)"}}),bd=function(n){var e,t,r,o,a;return k({},"".concat(n.componentCls),Object.assign(Object.assign({},Aa(n)),(a={position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:"transform ".concat(n.motionDurationSlow," ").concat(n.motionEaseInOutCirc),"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":(o={position:"relative"},k(o,"> div > ".concat(n.componentCls),(r={position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight},k(r,"".concat(n.componentCls,"-dot"),{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-n.spinDotSize/2}),k(r,"".concat(n.componentCls,"-text"),{position:"absolute",top:"50%",width:"100%",paddingTop:(n.spinDotSize-n.fontSize)/2+2,textShadow:"0 1px 2px ".concat(n.colorBgContainer),fontSize:n.fontSize}),k(r,"&".concat(n.componentCls,"-show-text ").concat(n.componentCls,"-dot"),{marginTop:-n.spinDotSize/2-10}),k(r,"&-sm",(e={},k(e,"".concat(n.componentCls,"-dot"),{margin:-n.spinDotSizeSM/2}),k(e,"".concat(n.componentCls,"-text"),{paddingTop:(n.spinDotSizeSM-n.fontSize)/2+2}),k(e,"&".concat(n.componentCls,"-show-text ").concat(n.componentCls,"-dot"),{marginTop:-n.spinDotSizeSM/2-10}),e)),k(r,"&-lg",(t={},k(t,"".concat(n.componentCls,"-dot"),{margin:-n.spinDotSizeLG/2}),k(t,"".concat(n.componentCls,"-text"),{paddingTop:(n.spinDotSizeLG-n.fontSize)/2+2}),k(t,"&".concat(n.componentCls,"-show-text ").concat(n.componentCls,"-dot"),{marginTop:-n.spinDotSizeLG/2-10}),t)),r)),k(o,"".concat(n.componentCls,"-container"),{position:"relative",transition:"opacity ".concat(n.motionDurationSlow),"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:"all ".concat(n.motionDurationSlow),content:'""',pointerEvents:"none"}}),k(o,"".concat(n.componentCls,"-blur"),k({clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none"},"&::after",{opacity:.4,pointerEvents:"auto"})),o)},k(a,"&-tip",{color:n.spinDotDefault}),k(a,"".concat(n.componentCls,"-dot"),{position:"relative",display:"inline-block",fontSize:n.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(n.spinDotSize-n.marginXXS/2)/2,height:(n.spinDotSize-n.marginXXS/2)/2,backgroundColor:n.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:gd,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:yd,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}}),k(a,"&-sm ".concat(n.componentCls,"-dot"),{fontSize:n.spinDotSizeSM,i:{width:(n.spinDotSizeSM-n.marginXXS/2)/2,height:(n.spinDotSizeSM-n.marginXXS/2)/2}}),k(a,"&-lg ".concat(n.componentCls,"-dot"),{fontSize:n.spinDotSizeLG,i:{width:(n.spinDotSizeLG-n.marginXXS)/2,height:(n.spinDotSizeLG-n.marginXXS)/2}}),k(a,"&".concat(n.componentCls,"-show-text ").concat(n.componentCls,"-text"),{display:"block"}),a)))},vd=oi("Spin",(function(n){var e=ei(n,{spinDotDefault:n.colorTextDescription,spinDotSize:n.controlHeightLG/2,spinDotSizeSM:.35*n.controlHeightLG,spinDotSizeLG:n.controlHeight});return[bd(e)]}),{contentHeight:400}),xd=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t},wd=null;var kd=function(e){var t,r=e.spinPrefixCls,o=e.spinning,a=void 0===o||o,i=e.delay,l=void 0===i?0:i,c=e.className,u=e.rootClassName,d=e.size,p=void 0===d?"default":d,f=e.tip,m=e.wrapperClassName,h=e.style,g=e.children,y=e.hashId,b=xd(e,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),v=n.useState((function(){return a&&!function(n,e){return!!n&&!!e&&!isNaN(Number(e))}(a,l)})),x=s(v,2),w=x[0],S=x[1];n.useEffect((function(){if(a){var n=hd(l,(function(){S(!0)}));return n(),function(){var e;null===(e=null===n||void 0===n?void 0:n.cancel)||void 0===e||e.call(n)}}S(!1)}),[l,a]);var _=n.useMemo((function(){return"undefined"!==typeof g}),[g]);var E=n.useContext(Fr),C=E.direction,N=E.spin,T=st()(r,null===N||void 0===N?void 0:N.className,(k(t={},"".concat(r,"-sm"),"small"===p),k(t,"".concat(r,"-lg"),"large"===p),k(t,"".concat(r,"-spinning"),w),k(t,"".concat(r,"-show-text"),!!f),k(t,"".concat(r,"-rtl"),"rtl"===C),t),c,u,y),q=st()("".concat(r,"-container"),k({},"".concat(r,"-blur"),w)),A=Or(b,["indicator","prefixCls"]),L=Object.assign(Object.assign({},null===N||void 0===N?void 0:N.style),h),j=n.createElement("div",Object.assign({},A,{style:L,className:T,"aria-live":"polite","aria-busy":w}),function(e,t){var r=t.indicator,o="".concat(e,"-dot");return null===r?null:Br(r)?zr(r,{className:st()(r.props.className,o)}):Br(wd)?zr(wd,{className:st()(wd.props.className,o)}):n.createElement("span",{className:st()(o,"".concat(e,"-dot-spin"))},n.createElement("i",{className:"".concat(e,"-dot-item"),key:1}),n.createElement("i",{className:"".concat(e,"-dot-item"),key:2}),n.createElement("i",{className:"".concat(e,"-dot-item"),key:3}),n.createElement("i",{className:"".concat(e,"-dot-item"),key:4}))}(r,e),f&&_?n.createElement("div",{className:"".concat(r,"-text")},f):null);return _?n.createElement("div",Object.assign({},A,{className:st()("".concat(r,"-nested-loading"),m,y)}),w&&n.createElement("div",{key:"loading"},j),n.createElement("div",{className:q,key:"container"},g)):j},Sd=function(e){var t=e.prefixCls,r=(0,n.useContext(Fr).getPrefixCls)("spin",t),o=s(vd(r),2),a=o[0],i=o[1],l=Object.assign(Object.assign({},e),{spinPrefixCls:r,hashId:i});return a(n.createElement(kd,Object.assign({},l)))};Sd.setDefaultIndicator=function(n){wd=n};var _d=Sd,Ed=t(3534),Cd=(t(9107).Z,t(9483).Z,t(4119));function Nd(e){var t=e.content,r=s((0,n.useState)(""),2),o=r[0],a=r[1],i=s((0,n.useState)(!1),2),l=i[0],c=i[1],u=function(n){return c(!0),window.shiki.getHighlighter({theme:"github-light"}).then((function(e){var t=Ed({html:!0,highlight:function(n,t){return e.codeToHtml(n,{lang:t})}}).use(Cd,(function(n){console.log(222,n)})).render(n);a(t),c(!1)}))};return(0,n.useEffect)((function(){u(t||"")}),[t]),(0,n.useEffect)((function(){o&&window.initToc()}),[o]),l?(0,jr.jsx)("div",{className:"loading",children:(0,jr.jsx)(_d,{size:"large"})}):(0,jr.jsx)("div",{dangerouslySetInnerHTML:{__html:o}})}function Td(){var e=s((0,n.useState)(""),2),t=e[0],r=e[1];return(0,jr.jsx)("div",{className:"page-subject-detail",children:(0,jr.jsxs)("div",{className:"content",children:[(0,jr.jsx)("div",{className:"left",children:(0,jr.jsx)(md,{clickNode:function(n){r(n)}})}),(0,jr.jsx)("div",{className:"article",id:"article-content",children:(0,jr.jsx)(Nd,{content:t})}),(0,jr.jsx)("div",{className:"right",children:(0,jr.jsx)("div",{id:"article-toc"})})]})})}var qd=JSON.parse('[{"key":"/achieve","path":"/achieve","route":"/achieve","leaf":false,"title":"achieve","depth":0,"content":"","isLeaf":false,"children":[{"key":"/achieve/h5-vue-template.md","path":"/achieve/h5-vue-template.md","route":"/achieve/h5-vue-template.md","leaf":true,"title":"h5-vue-template","depth":1,"content":"## 1\\n- https://sunniejs.github.io/vue-h5-template/guide/\\n\\n![20230630104041](http://s3.airtlab.com/blog/20230630104041.png)\\n\\n## 2\\n\\n- https://github.com/yulimchen/vue3-h5-template\\n\\n![20230630104710](http://s3.airtlab.com/blog/20230630104710.png)","isLeaf":true},{"key":"/achieve/nestjs-template.md","path":"/achieve/nestjs-template.md","route":"/achieve/nestjs-template.md","leaf":true,"title":"nestjs-template","depth":1,"content":"\u4e00\u4e2a C \u7aef API \u5feb\u901f\u5f00\u53d1\u6a21\u677f\uff0c\u6e90\u4ee3\u7801\u89c1 https://github.com/fiiai/nestjs-template\\n\\n## 1. \u9879\u76ee\u4ecb\u7ecd\\n\\n\u4f7f\u7528 NestJS \u8fdb\u884c API \u901a\u7528\u4e1a\u52a1\u6846\u67b6\u6700\u4f73\u5b9e\u8df5\u65b9\u6848\uff0c\u7b14\u8005\u4f1a\u5b9a\u671f\u7684\u66f4\u65b0\uff0c\u6b22\u8fce\u6307\u6b63\u3002API \u6587\u6863 \ud83d\udc49 https://www.apifox.cn/web/project/2299100\\n\u5305\u542b\u5982\u4e0b\u7279\u6027\uff1a\\n\\n- \u3010\u89c4\u8303\u3011\u5de5\u7a0b\u76ee\u5f55\\n- \u3010\u89c4\u8303\u3011\u4ee3\u7801\u98ce\u683c\\n- \u3010\u76d1\u63a7\u3011\u5f02\u5e38\u76d1\u63a7\\n- \u3010\u7279\u6027\u3011\u65e5\u5fd7\u6253\u5370\\n- \u3010\u7279\u6027\u3011\u914d\u7f6e\u7ba1\u7406\\n- \u3010\u7279\u6027\u3011\u552f\u4e00 ID\\n- \u3010\u7279\u6027\u3011socket.io \u96c6\u6210\\n- \u3010\u7279\u6027\u3011redis \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011mysql \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011mongoose \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011mailer \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011rabbitmq \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011qiniu \u96c6\u6210\\n- \u3010\u7279\u6027\u3011API \u6587\u6863\u65b9\u6848\\n- \u3010\u7279\u6027\u3011\u4ee3\u7801\u6587\u6863\u65b9\u6848\\n\\n## 2. \u5185\u7f6e\u6a21\u5757\\n\\n- [x] \u8d26\u6237\u6a21\u5757\\n- [x] \u56fe\u6587\u5217\u8868\\n- [x] \u8bc4\u8bba\u6a21\u5757\\n- [x] \u4e0a\u4f20\u6a21\u5757\\n- [x] \u6570\u636e\u91c7\u96c6\\n- [x] \u5730\u5740\u7ba1\u7406\\n- [x] \u94b1\u5305\u529f\u80fd\\n- [x] \u6388\u6743\u767b\u5f55\\n  - [x] \u5fae\u4fe1\u767b\u5f55\\n- [x] \u652f\u4ed8\u80fd\u529b\\n  - [x] \u652f\u4ed8\u5b9d\u652f\u4ed8\\n  - [x] \u5fae\u4fe1\u652f\u4ed8\\n- [x] \u6743\u9650\u7ba1\u7406\\n- [x] \u77ed\u4fe1\u63a8\u9001\\n- [ ] \u7ad9\u5185\u6d88\u606f\\n\\n\\n## 3. \u6280\u672f\u9009\u578b\\n\\n| \u540d\u79f0     | \u65b9\u6848                                                        |\\n| -------- | ----------------------------------------------------------- |\\n| \u6846\u67b6     | [nestjs](https://nestjs.com/)                               |\\n| \u65f6\u95f4\u5904\u7406 | [dayjs](https://day.js.org/docs/en/installation/typescript) |\\n| \u957f\u8fde\u63a5   | [socket.io](https://socket.io/) & nestjs platform           |\\n| \u65e5\u5fd7     | [pino](https://github.com/pinojs/pino)                      |\\n| \u5927\u6570\u5904\u7406 | [bignumber.js](https://mikemcl.github.io/bignumber.js/)     |\\n\\n## 4. \u6280\u672f\u65b9\u6848\\n\\n### 4.0 \u8bf7\u6c42\u751f\u547d\u5468\u671f\\n\\n![20230301191226](http://s3.airtlab.com/blog/20230301191226.png)\\n\\n### 4.1 \u5de5\u7a0b\u76ee\u5f55\\n\\n```text\\n\u251c\u2500\u2500 config\\n\u2502\xa0\xa0 \u251c\u2500\u2500 dev.config.yaml\\n\u2502\xa0\xa0 \u251c\u2500\u2500 live.config.yaml\\n\u2502\xa0\xa0 \u2514\u2500\u2500 local.config.yaml\\n\u251c\u2500\u2500 libs\\n\u2502\xa0\xa0 \u251c\u2500\u2500 common\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 filters\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 guard\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 interceptor\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 middleware\\n\u2502\xa0\xa0 \u251c\u2500\u2500 config\\n\u2502\xa0\xa0 \u251c\u2500\u2500 constant\\n\u2502\xa0\xa0 \u251c\u2500\u2500 logger\\n\u2502\xa0\xa0 \u251c\u2500\u2500 mailer\\n\u2502\xa0\xa0 \u251c\u2500\u2500 mongo\\n\u2502\xa0\xa0 \u251c\u2500\u2500 redis\\n\u2502\xa0\xa0 \u251c\u2500\u2500 request\\n\u2502\xa0\xa0 \u251c\u2500\u2500 s3\\n\u2502\xa0\xa0 \u2514\u2500\u2500 utils\\n\u251c\u2500\u2500 src\\n\u2502\xa0\xa0 \u251c\u2500\u2500 app.module.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 domain-admin\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 admin.module.ts\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 common\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 module\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 shared\\n\u2502\xa0\xa0 \u251c\u2500\u2500 domain-app\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 app.module.ts\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 common\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 module\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 shared\\n\u2502\xa0\xa0 \u251c\u2500\u2500 exception.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 global.d.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 main.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 modules\\n\u2502\xa0\xa0     \u251c\u2500\u2500 common\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 db\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 entity\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 filters\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 middleware\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 pipes\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 prom\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u2514\u2500\u2500 validate\\n\u2502\xa0\xa0     \u251c\u2500\u2500 enums\\n\u2502\xa0\xa0     \u251c\u2500\u2500 feature\\n\u2502\xa0\xa0     \u251c\u2500\u2500 mock\\n\u2502\xa0\xa0     \u251c\u2500\u2500 types\\n\u2502\xa0\xa0     \u251c\u2500\u2500 utils\\n\u2502\xa0\xa0     \u2514\u2500\u2500 vos\\n\u251c\u2500\u2500 tsconfig.build.json\\n\u251c\u2500\u2500 tsconfig.json\\n\u2514\u2500\u2500 yarn.lock\\n```\\n\\n### 4.2 \u4ee3\u7801\u98ce\u683c\\n\\n[Angular \u4ee3\u7801\u98ce\u683c\u6307\u5357](https://angular.io/guide/styleguide)\\n\\n### 4.3 \u5f02\u5e38\u76d1\u63a7\\n\\n\u6570\u636e\u91c7\u96c6 & \u5c55\u793a\u91c7\u7528 Prom + Grafana\uff0c\u76d1\u63a7\u6307\u6807\u8bbe\u8ba1 TODO\u3002\\n\\n### 4.4 \u65e5\u5fd7\u6253\u5370\\n\\n[winston](https://github.com/winstonjs/winston)\\n\\n\\n### 4.5 \u9879\u76ee\u6587\u6863\\n```shell\\nnpx @compodoc/compodoc -p tsconfig.json -s\\n```","isLeaf":true},{"key":"/achieve/react-native-template.md","path":"/achieve/react-native-template.md","route":"/achieve/react-native-template.md","leaf":true,"title":"react-native-template","depth":1,"content":"## 1. \u9879\u76ee\u4ecb\u7ecd\\nreact native \u5feb\u901f\u5f00\u53d1\u6a21\u677f\uff0c\u5e0c\u671b\u6709\u65f6\u95f4\u7684\u670b\u53cb\u4e00\u8d77\u6765\u5b8c\u5584\uff0c\u52a0\u5fae\u4fe1\u8fdb\u7fa4\uff1agaoxiong957\\n\\n## 2. \u6280\u672f\u9009\u578b\\n\\n### 2.1 \u6280\u672f\u9009\u578b\\n\\n| \u540d\u79f0     | \u65b9\u6848                                                                                                                    |\\n| -------- | ----------------------------------------------------------------------------------------------------------------------- |\\n| \u8def\u7531\u5e93   | [react navigation](https://reactnavigation.org)                                                                         |\\n| \u72b6\u6001\u7ba1\u7406 | mobx + context                                                                                                          |\\n| SVG \u56fe\u6807 | react-native-svg \u642d\u914d react-native-iconfont-cli                                                                         |\\n| \u672c\u5730\u5b58\u50a8 | @react-native-async-storage/async-storage                                                                               |\\n| \u65f6\u95f4\u5904\u7406 | [dayjs](https://day.js.org/docs/en/installation/typescript)                                                             |\\n| UI \u5e93    | [native-base](https://docs.nativebase.io/)                                                                              |\\n| \u552f\u4e00 ID  | uuid & react-native-get-random-values                                                                                   |\\n| \u6d88\u606f\u63a8\u9001 | [react-native-push-notification](https://github.com/zo0r/react-native-push-notification#readme)                         |\\n| \u65e5\u5fd7\u5de5\u5177 | [react-native-logs](https://github.com/onubo/react-native-logs)                                                         |\\n| \u52a8\u753b     | [lottie-react-native](https://github.com/lottie-react-native/lottie-react-native) [lottie](https://airbnb.io/lottie/#/) |\\n| \u6587\u4ef6\u7ba1\u7406 | [react-native-fs](https://github.com/itinance/react-native-fs) |\\n| \u626b\u4e8c\u7ef4\u7801 | [react-native-camera](https://react-native-camera.github.io/react-native-camera/) |\\n| \u9634\u5f71\u6548\u679c | [react-native-drop-shadow](https://www.npmjs.com/package/react-native-drop-shadow) |\\n| Table | [react-native-table-component](https://github.com/wiiai/react-native-table-component) |\\n| network-logger | [react-native-network-logger](https://www.npmjs.com/package/react-native-network-logger) |\\n| \u5206\u5305\u62c6\u5305 | TODO                                                                                                                    |\\n\\n### 2.2 \u5185\u90e8\u67b6\u6784\\n\\n```\\nsrc\\n\u251c\u2500\u2500 App.tsx\\n\u251c\u2500\u2500 assets\\n\u2502   \u251c\u2500\u2500 iconfont \u56fe\u6807\\n\u2502   \u2514\u2500\u2500 img \u56fe\u7247\\n\u251c\u2500\u2500 baseUI \u901a\u7528UI\\n\u251c\u2500\u2500 config \u914d\u7f6e\\n\u2502   \u251c\u2500\u2500 index.ts \u5e38\u91cf\u914d\u7f6e\\n\u2502   \u251c\u2500\u2500 theme.ts \u4e3b\u9898\u914d\u7f6e\\n\u2502   \u2514\u2500\u2500 request.ts http \u8bf7\u6c42\u914d\u7f6e\\n\u251c\u2500\u2500 global.d.ts \u5168\u5c40\u7c7b\u578b\u5b9a\u4e49\\n\u251c\u2500\u2500 models \u72b6\u6001\u7ba1\u7406\u76ee\u5f55\\n\u2502   \u251c\u2500\u2500 account.ts\\n\u2502   \u2514\u2500\u2500 index.ts\\n\u251c\u2500\u2500 navigator navigation \u914d\u7f6e\\n\u2502   \u251c\u2500\u2500 MainTab.tsx\\n\u2502   \u251c\u2500\u2500 MainTabBar.tsx\\n\u2502   \u2514\u2500\u2500 index.tsx\\n\u251c\u2500\u2500 pages \u9875\u9762\\n\u2502   \u251c\u2500\u2500 contact\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 detail\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 h5\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 home\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 login\\n\u2502   \u2502   \u251c\u2500\u2500 index.tsx\\n\u2502   \u2502   \u2514\u2500\u2500 style.ts\\n\u2502   \u2514\u2500\u2500 me\\n\u2502       \u2514\u2500\u2500 index.tsx\\n\u251c\u2500\u2500 services \u63a5\u53e3\\n\u2502   \u2514\u2500\u2500 account.ts\\n\u251c\u2500\u2500 types \u7c7b\u578b\u76ee\u5f55\\n\u2502   \u251c\u2500\u2500 ResData.ts\\n\u2502   \u2514\u2500\u2500 UserInfo.ts\\n\u251c\u2500\u2500 utils \u5de5\u5177\u51fd\u6570\\n\u2502   \u251c\u2500\u2500 auth.ts \u767b\u5f55\u76f8\u5173\\n\u2502   \u251c\u2500\u2500 screen.ts \u9875\u9762\u76f8\u5173\\n\u2502   \u251c\u2500\u2500 storage.ts \u672c\u5730\u5b58\u50a8\\n\u2514\u2500\u2500 wrappers\\n```\\n\\n### 2.3 \u542f\u52a8\u6d41\u7a0b\\n\\n```tsx\\nimport * as React from \'react\';\\nimport {rootStore, StoreContext} from \'./models\';\\nimport Navigator from \'./navigator\';\\nimport {NativeBaseProvider} from \'native-base\';\\nimport {loadCacheUInfo} from \'./utils/auth\';\\nimport {View, Text} from \'react-native\';\\n\\nexport default function App() {\\n  const [isLoaded, setIsLoaded] = React.useState(false);\\n\\n  React.useEffect(() => {\\n    beforeBootstrap().then(() => {\\n      setIsLoaded(true);\\n    });\\n  }, []);\\n\\n  // \u5728\u5e94\u7528\u4e3b\u6846\u67b6\u542f\u52a8\u4e4b\u524d\u8981\u5e72\u7684\u4e8b\u60c5\\n  // \u53ef\u4ee5\u5728\u8fd9\u91cc\u914d\u7f6e\u4f60\u60f3\u5e72\u7684\u4e8b\u60c5\\n  const beforeBootstrap = async () => {\\n    // \u4ece storage \u4e2d\u53d6\u51fa\u6570\u636e, \u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\\n    return await loadCacheUInfo();\\n  };\\n\\n  if (!isLoaded) {\\n    return (\\n      <View style={{flex: 1, justifyContent: \'center\', alignItems: \'center\'}}>\\n        <Text>\u52a0\u8f7d\u4e2d...</Text>\\n      </View>\\n    );\\n  }\\n\\n  return (\\n    <StoreContext.Provider value={rootStore}>\\n      <NativeBaseProvider>\\n        <Navigator />\\n      </NativeBaseProvider>\\n    </StoreContext.Provider>\\n  );\\n}\\n```\\n\\n### 2.4 \u90e8\u7f72\u6d41\u7a0b\\n\\n**Android**\\n```shell\\n# \u6784\u5efa\u751f\u4ea7\u5305\\ncd android && ./gradlew assembleRelease\\n```\\n\\n**IOS**\\n\\n## 3. \u6280\u672f\u65b9\u6848\\n\\n### 3.1 \u72b6\u6001\u7ba1\u7406\\n\\nmobx + context\\n\\n### 3.2 SVG \u56fe\u6807\u5904\u7406\\n\\n\u53c2\u8003 https://www.npmjs.com/package/react-native-iconfont-cli\\n\\n```shell\\n# \u521b\u5efa iconfont.json\\nnpx iconfont-init\\n\\n# \u5c06 SVG \u5904\u7406\u4e3a React Component\\nnpx iconfont-rn\\n```\\n\\n### 3.3 react-native-camera\\n\u4fee\u6539 `ViewPropTypes` \u7684\u5bfc\u5165\uff0cnode_modules/react-native-camera/src/RNCamera.js\\n![20230413141005](http://s3.airtlab.com/blog/20230413141005.png)\\n\\n## 4. \u57fa\u7840\u9875\u9762\\n\\n<table>\\n  <tr>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/home.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/full_bg.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/login_screen.png\\" style=\\"width: 240px\\" /></td>\\n  </tr>\\n  <tr>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/me_un_login.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/me_login.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/animate.gif\\" style=\\"width: 240px\\" /></td>\\n  </tr>\\n  <tr>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/fs.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/scan.png\\" style=\\"width: 240px\\" /></td>\\n  </tr>\\n</table>","isLeaf":true},{"key":"/achieve/sman.md","path":"/achieve/sman.md","route":"/achieve/sman.md","leaf":true,"title":"sman","depth":1,"content":"> git@github.com:Webang/sman.git\\n\\n## 1\u3001sman \u4ecb\u7ecd\\nsman \u662f\u4e00\u4e2a \u6027\u80fd\u76d1\u63a7 + \u5f02\u5e38\u76d1\u63a7 + \u6570\u636e\u57cb\u70b9 \u5de5\u5177\uff0c\u4f53\u9a8c\u5730\u5740\uff1ahttp://175.178.48.236:3000\\n\\n## 2\u3001\u6280\u672f\u67b6\u6784\\nmysql + redis + elasticsearch + kafka\\n\\n## 3\u3001\u6a21\u5757\u8bbe\u8ba1\\n- [x] \u7cfb\u7edf\u7ba1\u7406\\n  - [x] \u7528\u6237\u7ba1\u7406\\n  - [x] \u5e94\u7528\u7ba1\u7406 \\n- [x] \u7528\u6237\u5206\u6790\\n  - [x] \u8bbf\u95ee\u8f68\u8ff9\\n  - [x] \u7528\u6237\u5206\u5e03\\n- \u5f02\u5e38\u5206\u6790\\n  - \u6574\u4f53\u6982\u89c8\\n  - \u4ee3\u7801\u5f02\u5e38\\n  - \u63a5\u53e3\u5f02\u5e38\\n  - \u8d44\u6e90\u52a0\u8f7d\\n- \u6027\u80fd\u5206\u6790\\n  - \u63a5\u53e3\u6027\u80fd\\n  - \u9875\u9762\u6027\u80fd\\n- \u6f0f\u6597\u5206\u6790\\n- \u4e8b\u4ef6\u5206\u6790\\n- \u57cb\u70b9\u5206\u6790\\n  - \u57cb\u70b9\u7edf\u8ba1\\n- \u7559\u5b58\u5206\u6790\\n\\n## 4\u3001\u53c2\u8003\u8d44\u6599\\n- http://www.webfunny.cn/demo/home.html\\n- https://study.163.com/course/introduction.htm?courseId=1006304007&share=1&shareId=1025552318#/courseDetail?tab=1","isLeaf":true},{"key":"/achieve/wow-admin.md","path":"/achieve/wow-admin.md","route":"/achieve/wow-admin.md","leaf":true,"title":"wow-admin","depth":1,"content":"## 1\u3001admin \u57fa\u7840\u5f00\u53d1\u6a21\u677f\\n\\n- API https://github.com/fiiai/admin-basic-api\\n- UI  https://github.com/fiiai/admin-basic-umi","isLeaf":true},{"key":"/achieve/wow-im.md","path":"/achieve/wow-im.md","route":"/achieve/wow-im.md","leaf":true,"title":"wow-im","depth":1,"content":"> https://github.com/wiiai/wow-im\\n\\n## \u9879\u76ee\u4ecb\u7ecd\\n\\n`wow-im` \u662f\u4e00\u6b3e\u57fa\u4e8e\u7684\u5373\u65f6\u901a\u8baf\u4ea7\u54c1\uff0c\u652f\u6301\u7684\u7ec8\u7aef\u5305\u62ec: H5\u3001PC\u3001IOS & Android (ReactNative)\\n\\n\u6f14\u793a:\\n- H5 https://wow-im.airtlab.com/mobile\\n- PC https://wow-im.airtlab.com/web\\n- \u5b89\u5353 https://github.com/wiiai/wow-im-rn/release\\n- IOS https://github.com/wiiai/wow-im-rn/release\\n\\n\u6e90\u7801\uff1a\\n- \u670d\u52a1\u7aef https://github.com/wiiai/wow-im/server\\n- H5 https://github.com/wiiai/wow-im/ui\\n- ReactNative https://github.com/wiiai/wow-im-rn\\n\\n## \u5df2\u5b9e\u73b0\u529f\u80fd\\n- \u8d26\u6237\\n  - [x] \u767b\u5f55\\n- \u901a\u8baf\u5f55\\n  - [x] \u597d\u53cb\u5217\u8868\\n  - [x] \u7fa4\\n- \u804a\u5929\\n  - [x] \u5355\u804a\\n  - [x] \u7fa4\u804a\\n  - [x] \u89c6\u9891\u5355\u804a\\n  - [x] \u8bed\u97f3\u5355\u804a\\n- \u6d88\u606f\u5185\u5bb9\\n  - [x] \u6587\u5b57\\n- \u4f1a\u8bdd\\n  - [x] \u4f1a\u8bdd\u5217\u8868\\n  - [x] \u5386\u53f2\u6d88\u606f\\n\\n\\n## \u4f1a\u8bae\u6d41\u7a0b\\n1\u3001\u7ed9\u5728\u7ebf\u7528\u6237\u53d1\u8d77\u4f1a\u8bae\u9080\u8bf7\u63a8\u9001\uff0c\u88ab\u9080\u8bf7\u8005\u70b9\u51fb\u540c\u610f\u540e\u8fdb\u5165\u4f1a\u8bae\u8be6\u60c5\\n2\u3001\u4efb\u4f55\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u4f1a\u8bae URL \u8fdb\u5165\u4f1a\u8bae (DB\u91cc\u9762\u9700\u8981\u521b\u5efa\u4f1a\u8bae\u4fe1\u606f\uff0c\u4f1a\u8baeID \u6807\u8bc6\u4f1a\u8bae)\\n\\n## \u7528\u6237\u5728\u7ebf\u72b6\u6001\u7ef4\u62a4\\n---","isLeaf":true},{"key":"/achieve/wow-mall.md","path":"/achieve/wow-mall.md","route":"/achieve/wow-mall.md","leaf":true,"title":"wow-mall","depth":1,"content":"","isLeaf":true}]},{"key":"/default","path":"/default","route":"/default","leaf":false,"title":"default","depth":0,"content":"","isLeaf":false,"children":[{"key":"/default/h5-vue-template.md","path":"/default/h5-vue-template.md","route":"/default/h5-vue-template.md","leaf":true,"title":"h5-vue-template","depth":1,"content":"## 1\\n- https://sunniejs.github.io/vue-h5-template/guide/\\n\\n![20230630104041](http://s3.airtlab.com/blog/20230630104041.png)\\n\\n## 2\\n\\n- https://github.com/yulimchen/vue3-h5-template\\n\\n![20230630104710](http://s3.airtlab.com/blog/20230630104710.png)","isLeaf":true}]},{"key":"/docker","path":"/docker","route":"/docker","leaf":false,"title":"docker","depth":0,"content":"","isLeaf":false,"children":[{"key":"/docker/01-command.md","path":"/docker/01-command.md","route":"/docker/01-command.md","leaf":true,"title":"01-command","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n## 1\u3001docker \u7b80\u4ecb\\nDocker \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5e94\u7528\u5bb9\u5668\u5f15\u64ce\uff0c\u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u6253\u5305\u4ed6\u4eec\u7684\u5e94\u7528\u4ee5\u53ca\u4f9d\u8d56\u5305\u5230\u4e00\u4e2a\u53ef\u79fb\u690d\u7684\u5bb9\u5668\u4e2d\uff0c\u7136\u540e\u53d1\u5e03\u5230\u4efb\u4f55\u6d41\u884c\u7684Linux\u673a\u5668\u6216Windows \u673a\u5668\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u865a\u62df\u5316\uff0c\u5bb9\u5668\u662f\u5b8c\u5168\u4f7f\u7528\u6c99\u7bb1\u673a\u5236\uff0c\u76f8\u4e92\u4e4b\u95f4\u4e0d\u4f1a\u6709\u4efb\u4f55\u63a5\u53e3\u3002\\n\\n\u4e00\u4e2a\u5b8c\u6574\u7684Docker\u6709\u4ee5\u4e0b\u51e0\u4e2a\u90e8\u5206\u7ec4\u6210\uff1a\\n1. DockerClient \u5ba2\u6237\u7aef\\n2. Docker Daemon \u5b88\u62a4\u8fdb\u7a0b\\n3. Docker Image \u955c\u50cf\\n4. DockerContainer \u5bb9\u5668\\n\\n\\n## 2\u3001\u955c\u50cf\u64cd\u4f5c\\n\\n```shell\\n# \u5236\u4f5c\u955c\u50cf\\ndocker build -t gaollard/hello:v1 .\\n\\n# \u63a8\u9001\u955c\u50cf\\ndocker push gaollard/hello:v1 \\n\\n# \u5220\u9664\u955c\u50cf(\u5220\u9664\u4e4b\u524d\uff0c\u9700\u8981\u5148\u505c\u6b62\u76f8\u5173\u7684\u5bb9\u5668)\\ndocker rmi IMAGE_ID\\n\\n# \u5f3a\u5236\u5220\u9664\\ndocker rmi c7309a89f296 -f\\n\\n# \u4ece\u8fdc\u7a0b\u62c9\u53d6\u955c\u50cf\\ndocker pull nginx\\n\\n# \u641c\u7d22\u955c\u50cf\\ndocker search httpd\\n```\\n\\n## 3\u3001\u5bb9\u5668\u64cd\u4f5c\\n\\n```shell\\n# \u505c\u6b62\u5bb9\u5668\\ndocker stop CONTAINER_ID\\n\\n# \u5236\u4f5c\u5bb9\u5668\\ndocker run -p 7001:80 --name tnginx -d gaollard/hello:v1\\n\\n# \u6302\u8f7d\u6570\u636e\u5377\\ndocker run -p 7002:80 --name tnginx2 -v /Users/arraybuffer/Desktop/html:/usr/share/nginx/html -d nginx\\n\\n# \u67e5\u770b\u5bb9\u5668\\ndocker ps\\n```\\n\\n**\u5220\u9664\u5bb9\u5668**\\n\\n\u8bed\u6cd5\uff1a\\n\\n```shell\\ndocker rm [OPTIONS] \u5bb9\u5668\u540d\uff0c\u5176\u4e2doptions\u6709\u4e09\u79cd\u7c7b\u578b\uff1a\\n```\\n\\n- -f \uff1a\u901a\u8fc7SIGKILL\u4fe1\u53f7\u5f3a\u5236\u5220\u9664\u4e00\u4e2a\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\\n- -l \uff1a\u79fb\u9664\u5bb9\u5668\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\uff0c\u800c\u975e\u5bb9\u5668\u672c\u8eab-v \uff1a-v \u5220\u9664\u4e0e\u5bb9\u5668\u5173\u8054\u7684\u5377\\n\\n\u5bb9\u5668\u5220\u9664\u4e3e\u4f8b\uff1a\\n\\n```bash\\ndocker rm -v nginx \u8fd9\u53e5\u8bdd\u7684\u610f\u601d\u662f\u5220\u9664nginx\u5bb9\u5668\uff0c\u5e76\u89e3\u9664\u4e0enginx\u5bb9\u5668\u5173\u8054\u7684\u5377\\ndocker rm -l db \u8fd9\u53e5\u547d\u4ee4\u7684\u610f\u601d\u662f\uff1a\u79fb\u9664\u5bb9\u5668A\u5bf9\u5bb9\u5668B\u7684\u8fde\u63a5db\\ndocker rm -f db01 db02 \u8fd9\u53e5\u547d\u4ee4\u7684\u610f\u601d\u662f\u5220\u9664\u5bb9\u5668db01\u548cdb02\\n```\\n\\n\u5bb9\u5668\u7684\u5220\u9664\u53ef\u4ee5\u4e00\u6b21\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\uff0c\u5728\u4f7f\u7528\u65f6\u76f4\u63a5\u4ee5\u7a7a\u683c\u9694\u5f00\u5c31\u884c\u3002\\n\\n## 4\u3001docker \u5bb9\u5668\u5b89\u88c5 vim\\n\u5728\u4f7f\u7528docker\u5bb9\u5668\u65f6\uff0c\u6709\u65f6\u5019\u91cc\u8fb9\u6ca1\u6709\u5b89\u88c5vim\uff0c\u6572vim\u547d\u4ee4\u65f6\u63d0\u793a\u8bf4\uff1avim: command not found\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u5b89\u88c5vim\uff0c\u53ef\u662f\u5f53\u4f60\u6572apt-get install vim\u547d\u4ee4\u65f6\uff0c\u63d0\u793a\uff1a\\n\\n```text\\nReading package lists... Done\\nBuilding dependency tree       \\nReading state information... Done\\nE: Unable to locate package vim\\n```\\n \\n\u8fd9\u65f6\u5019\u9700\u8981\u6572\uff1aapt-get update\uff0c\u8fd9\u4e2a\u547d\u4ee4\u7684\u4f5c\u7528\u662f\uff1a\u540c\u6b65 /etc/apt/sources.list \u548c /etc/apt/sources.list.d \u4e2d\u5217\u51fa\u7684\u6e90\u7684\u7d22\u5f15\uff0c\u8fd9\u6837\u624d\u80fd\u83b7\u53d6\u5230\u6700\u65b0\u7684\u8f6f\u4ef6\u5305\u3002\\n\\n\u7b49\u66f4\u65b0\u5b8c\u6bd5\u4ee5\u540e\u518d\u6572\u547d\u4ee4\uff1aapt-get install vim\u547d\u4ee4\u5373\u53ef\u3002\\n\\n```shell\\n$ > apt-get update\\n$ > apt-get install vim\\n```\\n\\n## 5\u3001yaml \u8bed\u6cd5\\nhttps://www.jianshu.com/p/cea930923f3d","isLeaf":true},{"key":"/docker/02-deploy-nginx.md","path":"/docker/02-deploy-nginx.md","route":"/docker/02-deploy-nginx.md","leaf":true,"title":"02-deploy-nginx","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n## 1. \u7b80\u5355\u90e8\u7f72\\n\u7b2c\u4e00\u6b65\uff1a\u524d\u7aef\u6253\u5305\u751f\u6210 dist \u6587\u4ef6\\n```shell\\nnpm run build\\n```\\n\\n\u7b2c\u4e8c\u6b65\uff1a\u5728\u9879\u76ee\u6839\u76ee\u5f55\u521b\u5efa dockerfile \u6587\u4ef6\\n```shell\\n# \u8bbe\u7f6e\u57fa\u7840\u955c\u50cf\\nFROM nginx\\n\\n# \u5b9a\u4e49\u4f5c\u8005\\nMAINTAINER gaollard\\n\\n# \u5c06dist\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u590d\u5236\u5230 /usr/share/nginx/html/ \u8fd9\u4e2a\u76ee\u5f55\u4e0b\u9762\\nCOPY dist/  /usr/share/nginx/html/\\n```\\n\\n\u7b2c\u4e09\u6b65\uff1a\u6784\u5efa\u955c\u50cf\\n```shell\\n# \u5728\u9879\u76ee\u6839\u76ee\u5f55\u6267\u884c iname \u4e3a\u955c\u50cf\u540d\u79f0\\ndocker build -t iname .\\n\\n# \u67e5\u770b\u955c\u50cf\\ndocker ps\\n```\\n\\n\u7b2c\u56db\u6b65\uff1a\u542f\u52a8\u5bb9\u5668\\n```shell\\n# -p \uff1a\u914d\u7f6e\u7aef\u53e3\u6620\u5c04\uff0c\u683c\u5f0f\u662f\u5916\u90e8\u8bbf\u95ee\u7aef\u53e3\uff1a\u5bb9\u5668\u5185\u7aef\u53e3\\n# -d \uff1a\u540e\u53f0\u8fd0\u884c  \\n# --name : \u7ed9\u5bb9\u5668\u53d6\u540d\\n# cname: \u5bb9\u5668\u540d\u79f0\\n# iname: \u955c\u50cf\u540d\u79f0\\n\\ndocker run -p 3000:80 -d --name cname iname\\n```\\n\\n\u7b2c\u4e94\u6b65\uff1a\u67e5\u770b\u662f\u5426\u8fd0\u884c\u6210\u529f\\n```shell\\ndocker ps\\n```\\n\\n![20230512162713](http://s3.airtlab.com/blog/20230512162713.png)\\n\\n## 2. \u811a\u672c\u5316\u90e8\u7f72\\n```shell\\n# \u5907\u4efd\u539f\u4ee3\u7801\\ntar -zcvf gentle-vue.tar ./gentle-vue\\n \\n# \u5220\u9664\u539f\u4ee3\u7801\u6587\u4ef6\u5939\\nrm -rf gentle-vue\\n \\n# \u62c9\u53d6\u4ee3\u7801\\ngit clone https://gitee.com/FJ_WoMenDeShiJie/gentle-vue.git\\necho -e \\"\\\\033[32m\\\\n\u4ee3\u7801\u62c9\u53d6\\\\n\\\\033[0m\\"\\n \\n# \u62f7\u8d1d node_modules\\ncp ./node.tar ./gentle-vue\\n \\n# build \u6253\u5305 vue \u9879\u76ee\uff0c\u751f\u6210 dist \u6587\u4ef6\u5939\\ncd ./gentle-vue\\ntar -zxvf node.tar\\nnpm run build\\necho -e \\"\\\\033[32m\\\\nvue\u9879\u76ee\u6253\u5305\u5b8c\u6210\\\\n\\\\033[0m\\"\\n \\n# \u5220\u9664\u539f\u955c\u50cf\\ndocker rmi gentle-vue &> /dev/null\\necho  -e \\"\\\\033[32m\\\\n\u5220\u9664\u539f\u955c\u50cf\u6587\u4ef6\\\\n\\\\033[0m\\"\\n \\n# \u62f7\u8d1d dockerfile \u5230\u5de5\u7a0b\u76ee\u5f55\u4e0b\\ncp ../dockerfile ./\\n \\n# \u6784\u5efa\u955c\u50cf\\ndocker build -t gentle-vue .\\necho -e \\"\\\\033[32m\\\\n\u65b0\u955c\u50cf\u6784\u5efa\u6210\u529f\\\\n\\\\033[0m\\"\\n \\n# \u5220\u9664\u539f\u5bb9\u5668\\ndocker rm -f gentle-vue\\n \\n# \u542f\u52a8\u5bb9\u5668\\ndocker run -p 3000:80 -d --name gentle-vue gentle-vue\\necho -e \\"\\\\033[32m\\\\n\u524d\u7aef\u5de5\u7a0b\u90e8\u7f72\u5b8c\u6210\\\\n\\\\033[0m\\"\\n```\\n\\n## 3. \u53c2\u8003\u6587\u6863\\n[https://blog.csdn.net/jiangyu1013/article/details/84572582](https://blog.csdn.net/jiangyu1013/article/details/84572582)\\n","isLeaf":true},{"key":"/docker/03-deploy-sentry.md","path":"/docker/03-deploy-sentry.md","route":"/docker/03-deploy-sentry.md","leaf":true,"title":"03-deploy-sentry","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nhttps://blog.csdn.net/u014265398/article/details/105877084","isLeaf":true},{"key":"/docker/04-install-ssh.md","path":"/docker/04-install-ssh.md","route":"/docker/04-install-ssh.md","leaf":true,"title":"04-install-ssh","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n1. https://www.jianshu.com/p/426f0d8e6cbf\\n2. https://www.cnblogs.com/mengw/p/11413461.html","isLeaf":true},{"key":"/docker/05-docker-network.md","path":"/docker/05-docker-network.md","route":"/docker/05-docker-network.md","leaf":true,"title":"05-docker-network","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n### 1\u3001\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Docker \u7f51\u7edc\\n\\n```\\n$ docker network create -d bridge test-net\\n```\\n\\n![20230512163028](http://s3.airtlab.com/blog/20230512163028.png)\\n\\n\u53c2\u6570\u8bf4\u660e\uff1a\\n- -d\uff1a\u53c2\u6570\u6307\u5b9a Docker \u7f51\u7edc\u7c7b\u578b\uff0c\u6709 bridge\u3001overlay\u3002 \u5176\u4e2d overlay \u7f51\u7edc\u7c7b\u578b\u7528\u4e8e Swarm mode\uff0c\u5728\u672c\u5c0f\u8282\u4e2d\u4f60\u53ef\u4ee5\u5ffd\u7565\u5b83\u3002\\n\\n### 2\u3001\u8fde\u63a5\u5bb9\u5668\\n\u8fd0\u884c\u4e00\u4e2a\u5bb9\u5668\u5e76\u8fde\u63a5\u5230\u65b0\u5efa\u7684 test-net \u7f51\u7edc:\\n\\n```shell\\n$ docker run -itd --name test1 --network test-net ubuntu /bin/bash\\n```\\n\\n\u6253\u5f00\u65b0\u7684\u7ec8\u7aef\uff0c\u518d\u8fd0\u884c\u4e00\u4e2a\u5bb9\u5668\u5e76\u52a0\u5165\u5230 test-net \u7f51\u7edc:\\n\\n```shell\\n$ docker run -itd --name test2 --network test-net ubuntu /bin/bash\\n```\\n\\n\u70b9\u51fb\u56fe\u7247\u67e5\u770b\u5927\u56fe\uff1a\\n\\n![20230512163120](http://s3.airtlab.com/blog/20230512163120.png)\\n\\n\u4e0b\u9762\u901a\u8fc7 ping \u6765\u8bc1\u660e test1 \u5bb9\u5668\u548c test2 \u5bb9\u5668\u5efa\u7acb\u4e86\u4e92\u8054\u5173\u7cfb\u3002\\n\u5982\u679c test1\u3001test2 \u5bb9\u5668\u5185\u4e2d\u65e0 ping \u547d\u4ee4\uff0c\u5219\u5728\u5bb9\u5668\u5185\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 ping\uff08\u5373\u5b66\u5373\u7528\uff1a\u53ef\u4ee5\u5728\u4e00\u4e2a\u5bb9\u5668\u91cc\u5b89\u88c5\u597d\uff0c\u63d0\u4ea4\u5bb9\u5668\u5230\u955c\u50cf\uff0c\u5728\u4ee5\u65b0\u7684\u955c\u50cf\u91cd\u65b0\u8fd0\u884c\u4ee5\u4e0a\u4fe9\u4e2a\u5bb9\u5668\uff09\u3002\\n\\n```shell\\napt-get update\\napt install iputils-ping\\n```\\n\\n\u5728 test1 \u5bb9\u5668\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n\\n![20230512163154](http://s3.airtlab.com/blog/20230512163154.png)\\n\\n\\n\u540c\u7406\u5728 test2 \u5bb9\u5668\u4e5f\u4f1a\u6210\u529f\u8fde\u63a5\u5230:\\n\\n![20230512163213](http://s3.airtlab.com/blog/20230512163213.png)\\n\\n\u8fd9\u6837\uff0ctest1 \u5bb9\u5668\u548c test2 \u5bb9\u5668\u5efa\u7acb\u4e86\u4e92\u8054\u5173\u7cfb\u3002\\n\u5982\u679c\u4f60\u6709\u591a\u4e2a\u5bb9\u5668\u4e4b\u95f4\u9700\u8981\u4e92\u76f8\u8fde\u63a5\uff0c\u63a8\u8350\u4f7f\u7528 Docker Compose\uff0c\u540e\u9762\u4f1a\u4ecb\u7ecd\u3002\\n","isLeaf":true},{"key":"/docker/06-exec-vs-attach.md","path":"/docker/06-exec-vs-attach.md","route":"/docker/06-exec-vs-attach.md","leaf":true,"title":"06-exec-vs-attach","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n![20230512163246](http://s3.airtlab.com/blog/20230512163246.png)","isLeaf":true},{"key":"/docker/07-image-export-import.md","path":"/docker/07-image-export-import.md","route":"/docker/07-image-export-import.md","leaf":true,"title":"07-image-export-import","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n\u53c2\u8003\u6587\u6863\uff1a[https://blog.csdn.net/ncdx111/article/details/79878098](https://blog.csdn.net/ncdx111/article/details/79878098)\\n\\n> \u901a\u8fc7\u955c\u50cf\u540d\u79f0\u5bfc\u51fa\u65f6\uff0c\u5bfc\u5165\u955c\u50cf\u65f6\uff0c\u955c\u50cf\u540d\u79f0\u4e0d\u4f1a\u4e22\u5931\uff0c\u901a\u8fc7\u955c\u50cfID\u5bfc\u51fa\uff0c\u955c\u50cf\u540d\u79f0\u4f1a\u4e22\u5931\u3002\\n\\n\\n### 1\u3001\u955c\u50cf\u5bfc\u51fa\\n#### save\\n\\n```bash\\ndocker save -o nginx.tar nginx:latest\\ndocker save > nginx.tar nginx:latest\\n```\\n\\nnginx:latest \u53ef\u4ee5\u6539\u4e3a\u955c\u50cf ID\\n\\n#### export\\n\\n```bash\\ndocker export [options] container\\ndocker export -o nginx-test.tar nginx-test\\n```\\n\\n\u5176\u4e2d-o\u8868\u793a\u8f93\u51fa\u5230\u6587\u4ef6\uff0cnginx-test.tar\u4e3a\u76ee\u6807\u6587\u4ef6\uff0cnginx-test\u662f\u6e90\u5bb9\u5668\u540d\uff08name\uff09\\n\\n### 2\u3001\u955c\u50cf\u5bfc\u5165\\n#### load\\n\\n```bash\\ndocker load -i nginx.tar\\ndocker load < nginx.tar\\n```\\n\\n#### import\\n\\n```bash\\ndocker import [options] file|URL|- [REPOSITORY[:TAG]]\\n```\\n\\n```bash\\ndocker import nginx-test.tar nginx:imp\\n\\n# \u6216\\ncat nginx-test.tar | docker import - nginx:imp\\n```\\n","isLeaf":true},{"key":"/docker/08-host-and-container.md","path":"/docker/08-host-and-container.md","route":"/docker/08-host-and-container.md","leaf":true,"title":"08-host-and-container","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n\u5bb9\u5668\u548c\u5bbf\u4e3b\u673a\u6587\u4ef6\u4e92\u5bfc\\n\\n```shell\\n# \u4ece\u5bbf\u4e3b\u673a\u62f7\u8d1d\u5230\u5bb9\u5668\\ndocker cp [\u5bbf\u4e3b\u673a\u6587\u4ef6\u8def\u5f84] [\u5bb9\u5668\u540d]:[\u5bb9\u5668\u8def\u5f84]\\n\\n# \u4ece\u5bb9\u5668\u4e2d\u62f7\u8d1d\u6587\u4ef6\u5230\u5bbf\u4e3b\u673a\\ndocker cp [\u5bb9\u5668\u540d]:[\u5bb9\u5668\u8def\u5f84] [\u5bbf\u4e3b\u673a\u6587\u4ef6\u8def\u5f84]\\n```","isLeaf":true},{"key":"/docker/09-docker-logs.md","path":"/docker/09-docker-logs.md","route":"/docker/09-docker-logs.md","leaf":true,"title":"09-docker-logs","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nhttps://www.runoob.com/docker/docker-logs-command.html\\n\\ndocker logs : \u83b7\u53d6\u5bb9\u5668\u7684\u65e5\u5fd7\\n\\n```shell\\ndocker logs [OPTIONS] CONTAINER\\n```\\n\\nOPTIONS\u8bf4\u660e\uff1a\\n- -f : \u8ddf\u8e2a\u65e5\u5fd7\u8f93\u51fa\\n- --since :\u663e\u793a\u67d0\u4e2a\u5f00\u59cb\u65f6\u95f4\u7684\u6240\u6709\u65e5\u5fd7\\n- -t : \u663e\u793a\u65f6\u95f4\u6233\\n- --tail :\u4ec5\u5217\u51fa\u6700\u65b0N\u6761\u5bb9\u5668\u65e5\u5fd7","isLeaf":true},{"key":"/docker/10-enter-container.md","path":"/docker/10-enter-container.md","route":"/docker/10-enter-container.md","leaf":true,"title":"10-enter-container","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n### 1. exec\\n[https://www.cnblogs.com/xhyan/p/6593075.html](https://www.cnblogs.com/xhyan/p/6593075.html)\\n\\n\u5728\u4f7f\u7528 docker \u521b\u5efa\u5bb9\u5668\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 -it \u53c2\u6570\u6307\u5b9a\uff0c\u76f4\u63a5\u8fdb\u5165\u5bb9\u5668\uff1a\\n\\n```bash\\n# micro-web \u4e3a\u5bb9\u5668\u540d\u79f0, \u5176\u4ed6\u56fa\u5b9a\u5199\u6cd5\\ndocker exec -it micro-web /bin/bash\\n```\\n\\n### 2. attach\\n\\ndocker attach\u9000\u51fa\u5bb9\u5668\uff0c\u5bb9\u5668\u4f1a\u505c\u6b62\u8fd0\u884c\u7684\u89e3\u51b3\u65b9\u6cd5 [https://blog.csdn.net/enter89/article/details/89291691](https://blog.csdn.net/enter89/article/details/89291691)\\n\\n```shell\\ndocker attach [OPTIONS] CONTAINER\\n```\\n","isLeaf":true},{"key":"/docker/11-volume.md","path":"/docker/11-volume.md","route":"/docker/11-volume.md","leaf":true,"title":"11-volume","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n```shell\\ndocker run -it -v /host/path:/container/path centos /bin/bash\\n```\\n\\n1. https://www.jianshu.com/p/8c22cdfc0ffd\\n2. https://blog.csdn.net/hnmpf/article/details/80924494","isLeaf":true},{"key":"/docker/12-dockerfile.md","path":"/docker/12-dockerfile.md","route":"/docker/12-dockerfile.md","leaf":true,"title":"12-dockerfile","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nhttps://www.runoob.com/docker/docker-dockerfile.html\\n\\nARG & ENV \u6307\u4ee4\\nhttps://www.cnblogs.com/panpanwelcome/p/12604269.html\\nhttps://www.cntofu.com/book/139/image/dockerfile/arg.md","isLeaf":true},{"key":"/docker/13-docker-compose.md","path":"/docker/13-docker-compose.md","route":"/docker/13-docker-compose.md","leaf":true,"title":"13-docker-compose","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nCompose \u662f\u7528\u4e8e\u5b9a\u4e49\u548c\u8fd0\u884c\u591a\u5bb9\u5668 Docker \u5e94\u7528\u7a0b\u5e8f\u7684\u5de5\u5177\u3002\u901a\u8fc7 Compose\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 YML \u6587\u4ef6\u6765\u914d\u7f6e\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u7684\u6240\u6709\u670d\u52a1\u3002\u7136\u540e\uff0c\u4f7f\u7528\u4e00\u4e2a\u547d\u4ee4\uff0c\u5c31\u53ef\u4ee5\u4ece YML \u6587\u4ef6\u914d\u7f6e\u4e2d\u521b\u5efa\u5e76\u542f\u52a8\u6240\u6709\u670d\u52a1\u3002\\n\\nCompose \u4f7f\u7528\u7684\u4e09\u4e2a\u6b65\u9aa4\uff1a\\n\\n- \u4f7f\u7528 Dockerfile \u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u7684\u73af\u5883\u3002\\n- \u4f7f\u7528 docker-compose.yml \u5b9a\u4e49\u6784\u6210\u5e94\u7528\u7a0b\u5e8f\u7684\u670d\u52a1\uff0c\u8fd9\u6837\u5b83\u4eec\u53ef\u4ee5\u5728\u9694\u79bb\u73af\u5883\u4e2d\u4e00\u8d77\u8fd0\u884c\u3002\\n- \u6700\u540e\uff0c\u6267\u884c docker-compose up \u547d\u4ee4\u6765\u542f\u52a8\u5e76\u8fd0\u884c\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u3002\\n\\n### 1\u3001\u4e3a\u4ec0\u4e48\u9700\u8981 docker-compose\\n\u7ef4\u62a4\u4e00\u4e2a\u5bb9\u5668\u5f88\u7b80\u5355\uff0c\u901a\u5e38\u6709\u4ee5\u4e0b\u6b65\u9aa4\uff1a\\n\\n- \u83b7\u53d6\u955c\u50cf\uff1a\u4ece Dockerfile build image \u6216\u8005\u5728 dockerhub \u62c9\u53d6 image\\n- \u521b\u5efa\u5bb9\u5668\uff1a\u521b\u5efa\u591a\u4e2a container\\n- \u7ba1\u7406\u5bb9\u5668\uff1a\u7ba1\u7406\u8fd9\u4e9b container\uff08\u542f\u52a8\u505c\u6b62\u5220\u9664\uff09\\n\\n\u6709\u65f6\u5019\u4e00\u4e2a\u9879\u76ee\u5f88\u591a\u4e2a\u5bb9\u5668(10\u4e2a\u4ee5\u4e0a)\uff0c\u5982\u679c\u6bcf\u4e2a\u5bb9\u5668\u7684\u7ba1\u7406\u90fd\u8981\u91cd\u65b0\u64cd\u4f5c\u4e00\u904d\uff0c\u90a3\u5de5\u4f5c\u91cf\u5b9e\u5728\u662f\u592a\u5927\u4e86\u800c\u4e14\u5bb9\u6613\u51fa\u9519\uff0c\u90a3\u4e48\u5982\u4f55\u7ba1\u7406\u548c\u7ef4\u62a4\u8fd9\u4e9b\u5bb9\u5668\u5462\uff1f\\n\\n\u6211\u4eec\u9700\u8981\u4e00\u4e2a **\u6279\u5904\u7406** \u5de5\u5177\uff0cdocker-compose \u6b63\u662f\u8fd9\u6837\u7684\u5de5\u5177\u3002\\n\\n### 2\u3001docker-compose \u547d\u4ee4\\n```bash\\nDefine and run multi-container applications with Docker.\\n\\nUsage:\\n  docker-compose [-f <arg>...] [options] [COMMAND] [ARGS...]\\n  docker-compose -h|--help\\n\\nOptions:\\n  -f, --file FILE             Specify an alternate compose file\\n                              (default: docker-compose.yml)\\n  -p, --project-name NAME     Specify an alternate project name\\n                              (default: directory name)\\n  --verbose                   Show more output\\n  --log-level LEVEL           Set log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)\\n  --no-ansi                   Do not print ANSI control characters\\n  -v, --version               Print version and exit\\n  -H, --host HOST             Daemon socket to connect to\\n\\n  --tls                       Use TLS; implied by --tlsverify\\n  --tlscacert CA_PATH         Trust certs signed only by this CA\\n  --tlscert CLIENT_CERT_PATH  Path to TLS certificate file\\n  --tlskey TLS_KEY_PATH       Path to TLS key file\\n  --tlsverify                 Use TLS and verify the remote\\n  --skip-hostname-check       Don\'t check the daemon\'s hostname against the\\n                              name specified in the client certificate\\n  --project-directory PATH    Specify an alternate working directory\\n                              (default: the path of the Compose file)\\n  --compatibility             If set, Compose will attempt to convert keys\\n                              in v3 files to their non-Swarm equivalent\\n  --env-file PATH             Specify an alternate environment file\\n  \\n  \\n  Commands:\\n  build              Build or rebuild services\\n  config             Validate and view the Compose file\\n  create             Create services\\n  down               Stop and remove containers, networks, images, and volumes\\n  events             Receive real time events from containers\\n  exec               Execute a command in a running container\\n  help               Get help on a command\\n  images             List images\\n  kill               Kill containers\\n  logs               View output from containers\\n  pause              Pause services\\n  port               Print the public port for a port binding\\n  ps                 List containers\\n  pull               Pull service images\\n  push               Push service images\\n  restart            Restart services\\n  rm                 Remove stopped containers\\n  run                Run a one-off command\\n  scale              Set number of containers for a service\\n  start              Start services\\n  stop               Stop services\\n  top                Display the running processes\\n  unpause            Unpause services\\n  up                 Create and start containers\\n  version            Show the Docker-Compose version information\\n```\\n#### up  (Create and start containers)\\n```bash\\ndocker-compose -f docker-compose-prod.yml up\\n```\\n#### stop (Stop services)\\n```bash\\ndocker-compose -f docker-compose-prod.yml stop\\n```\\n### 3\u3001exmaple project\\n\\n![20230512163948](http://s3.airtlab.com/blog/20230512163948.png)","isLeaf":true},{"key":"/docker/14-cmd-entrypoint.md","path":"/docker/14-cmd-entrypoint.md","route":"/docker/14-cmd-entrypoint.md","leaf":true,"title":"14-cmd-entrypoint","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n> https://www.cnblogs.com/sparkdev/p/8461576.html \u8fd9\u7bc7\u6587\u7ae0\u8bb2\u7684\u5f88\u597d\\n\\n```\\nENTRYPOINT [\\"executable\\", \\"param1\\", \\"param2\\"]   // \u8fd9\u662f exec \u6a21\u5f0f\u7684\u5199\u6cd5\uff0c\u6ce8\u610f\u9700\u8981\u4f7f\u7528\u53cc\u5f15\u53f7\u3002\\nENTRYPOINT command param1 param2                // \u8fd9\u662f shell \u6a21\u5f0f\u7684\u5199\u6cd5\u3002\\n```","isLeaf":true}]},{"key":"/git","path":"/git","route":"/git","leaf":false,"title":"git","depth":0,"content":"","isLeaf":false,"children":[{"key":"/git/01-introduce.md","path":"/git/01-introduce.md","route":"/git/01-introduce.md","leaf":true,"title":"01-introduce","depth":1,"content":"---\\ntitle: 01 Git \u4ecb\u7ecd\\ntag: Git\\n---\\n\\n## 1. \u53ef\u89c6\u5316\u5ba2\u6237\u7aef\\n- mac sourcetree\\n- win tortoisegit\\n\\n## 2. \u8f85\u52a9\u8bb0\u5fc6\u5de5\u5177\\n![20230512161907](http://s3.airtlab.com/blog/20230512161907.png)","isLeaf":true},{"key":"/git/02-set-proxy.md","path":"/git/02-set-proxy.md","route":"/git/02-set-proxy.md","leaf":true,"title":"02-set-proxy","depth":1,"content":"---\\ntitle: 02 Git \u8bbe\u7f6e\u4ee3\u7406\\ntags: Git\\n---\\n\\nhttps://www.cnblogs.com/cscshi/p/15705045.html\\n\\n`git config http.proxy` \u8bbe\u7f6e HTTP \u534f\u8bae\u7684\u4ee3\u7406\u5730\u5740\uff0c\u5373\u6307\u5b9a Git \u5728\u901a\u8fc7 HTTP \u534f\u8bae\u8fdb\u884c\u7f51\u7edc\u8fde\u63a5\u65f6\u6240\u4f7f\u7528\u7684\u4ee3\u7406\u670d\u52a1\u5668\u3002\u6b64\u529f\u80fd\u901a\u5e38\u7528\u4e8e\u5728\u516c\u53f8\u6216\u7ec4\u7ec7\u7b49\u5185\u90e8\u7f51\u7edc\u73af\u5883\u4e2d\u8bbf\u95ee\u5916\u90e8Git\u4ed3\u5e93\u65f6\u7684\u9700\u8981\u3002\\n\\n\u5177\u4f53\u6765\u8bf4\uff0c\u5f53 Git \u901a\u8fc7 HTTP \u534f\u8bae\u8fdb\u884c\u7f51\u7edc\u8fde\u63a5\u65f6\uff0c\u5176\u4f1a\u5c1d\u8bd5\u76f4\u63a5\u8fde\u63a5\u76ee\u6807\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\u3002\u4f46\u5728\u4e00\u4e9b\u7f51\u7edc\u73af\u5883\u4e2d\uff0c\u76f4\u63a5\u8fde\u63a5\u53ef\u80fd\u88ab\u7981\u6b62\u6216\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u6b64\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e HTTP \u4ee3\u7406\u670d\u52a1\u5668\u6765\u8ba9 Git \u901a\u8fc7\u4ee3\u7406\u670d\u52a1\u5668\u8fdb\u884c\u7f51\u7edc\u8fde\u63a5\u3002\\n\\n\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u7f51\u7edc\u6d41\u91cf\u7684\u8fc7\u6ee4\u548c\u63a7\u5236\uff0c\u52a0\u5f3a\u5bf9\u7f51\u7edc\u5b89\u5168\u7684\u4fdd\u62a4\uff0c\u4e5f\u53ef\u4ee5\u63d0\u9ad8\u7f51\u7edc\u8fde\u63a5\u7684\u7a33\u5b9a\u6027\u548c\u6027\u80fd\u3002\\n\\n```shell\\n# \u53bb\u6389\u4ee3\u7406\u8bbe\u7f6e\\ngit config --global --unset http.proxy\\ngit config --global --unset https.proxy\\n\\n# \u8fd9\u91cc\u6211\u4f7f\u7528\u4e86\u4e30\u5de2\u5ba2\u6237\u7aef\\ngit config --global http.proxy http://127.0.0.1:7890\\ngit config --global https.proxy https://127.0.0.1:7890\\n```","isLeaf":true},{"key":"/git/03-use-submodule.md","path":"/git/03-use-submodule.md","route":"/git/03-use-submodule.md","leaf":true,"title":"03-use-submodule","depth":1,"content":"---\\ntitle: 03 Git \u4f7f\u7528 submodule\\ntags: Git\\n---\\n\\n## submodule \u7684\u4f7f\u7528\\n\\n- \u53c2\u8003\u6587\u6863 [https://git-scm.com/book/zh/v2/Git-\u5de5\u5177-\u5b50\u6a21\u5757](https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E5%AD%90%E6%A8%A1%E5%9D%97)\\n\\n```bash\\nusage: git submodule [--quiet] [--cached]\\n   or: git submodule [--quiet] add [-b <branch>] [-f|--force] [--name <name>] [--reference <repository>] [--] <repository> [<path>]\\n   or: git submodule [--quiet] status [--cached] [--recursive] [--] [<path>...]\\n   or: git submodule [--quiet] init [--] [<path>...]\\n   or: git submodule [--quiet] deinit [-f|--force] (--all| [--] <path>...)\\n   or: git submodule [--quiet] update [--init] [--remote] [-N|--no-fetch] [-f|--force] [--checkout|--merge|--rebase] [--[no-]recommend-shallow] [--reference <repository>] [--recursive] [--[no-]single-branch] [--] [<path>...]\\n   or: git submodule [--quiet] set-branch (--default|--branch <branch>) [--] <path>\\n   or: git submodule [--quiet] set-url [--] <path> <newurl>\\n   or: git submodule [--quiet] summary [--cached|--files] [--summary-limit <n>] [commit] [--] [<path>...]\\n   or: git submodule [--quiet] foreach [--recursive] <command>\\n   or: git submodule [--quiet] sync [--recursive] [--] [<path>...]\\n   or: git submodule [--quiet] absorbgitdirs [--] [<path>...]\\n```\\n\\n### 1\u3001\u6dfb\u52a0\u5b50\u6a21\u5757\\n\\n```shell\\n# \u6dfb\u52a0\u5b50\u6a21\u5757\\ngit submodule add git@github.com:gaollard/test_submodule_B.git  projectB\\n\\n# \u53ef\u8bbe\u7f6e\u5b50\u6a21\u5757\u5728\u5f53\u524d\u9879\u76ee\u7684\u76f8\u5bf9\u8def\u5f84\\ngit submodule add http://test.com/backend src/vendor/\\n```\\n\\n### 2\u3001\u68c0\u51fa\u9879\u76ee\u7684\u6307\u5b9a\u7248\u672c\\n\\n```shell\\n# \u68c0\u51fa\u9879\u76ee\u7684\u6307\u5b9a\u7248\u672c(HEAD), \u6ce8\u610f\u5b83\u5e76\u4e0d\u662f\u6307\u5411\u4e00\u4e2a\u5206\u652f\\ngit submodule update\\n```\\n\\n### 3\u3001\u62c9\u53d6\u9879\u76ee\u65f6\u62c9\u53d6\u5b50\u6a21\u5757\\n\\n```shell\\n# \u53ef\u5728\u62c9\u53d6\u9879\u76ee\u65f6\u628a\u4f9d\u8d56\u7684\u5b50\u6a21\u5757\u540c\u65f6\u62c9\u53d6\u4e0b\u6765\\ngit clone \u2013recursive\\n```\\n\\n### 4\u3001submodule ignore \u9009\u9879\\n\\n```\\nuntracked \uff1a\u5ffd\u7565\u5728\u5b50\u6a21\u5757B(projectB\u76ee\u5f55)\u65b0\u6dfb\u52a0\u7684\uff0c\u672a\u53d7\u7248\u672c\u63a7\u5236\u5185\u5bb9\\ndirty     \uff1a\u5ffd\u7565\u5bf9projectB\u76ee\u5f55\u4e0b\u53d7\u7248\u672c\u63a7\u5236\u7684\u5185\u5bb9\u8fdb\u884c\u4e86\u4fee\u6539\\nall       \uff1a\u540c\u65f6\u5ffd\u7565untracked\u548cdirty\\n```\\n\\n### 5\u3001modified: XXX (new commits)\\n\\n\u8bf4\u660e\u5f53\u524d\u4e3b\u4ed3\u5e93\u4f9d\u8d56\u7684 HEAD \u548c \u672c\u5730\u4ed3\u5e93\u63d0\u4ea4\u4e0d\u5339\u914d\u4e86\uff0c\u8fd9\u4e2a\u65f6\u5019\u8981\u7279\u522b\u6ce8\u610f\u3002\\n\\n- \u5982\u679c\u5e0c\u671b\u4f7f\u7528\u65e7\u7684 `HEAD`\uff0c\u4f7f\u7528 `git submodule update`\uff1b\\n- \u5982\u679c\u5e0c\u671b\u4f7f\u7528\u65b0\u7684 `HEAD`\uff0c\u90a3\u4e48\u5c31 `git add` \u63d0\u4ea4\u4ee3\u7801\uff1b\\n\\n### 6\u3001git submodule update --remote\\n\\n\u66f4\u65b0\u5b50\u6a21\u5757\u4e3a\u8fdc\u7a0b\u9879\u76ee\u7684\u6700\u65b0\u7248\u672c\\n\\n### 7\u3001init & update\\n\\n```shell\\ngit submodule init\\ngit submodule update\\n\\n# \u5408\u5e76\\ngit submodule update --init\\n```\\n\\n### 8\u3001git submodule update --remote\\n\u66f4\u65b0\u4e3a\u8fdc\u7a0b\\n\\n### 9\u3001submodule \u51b2\u7a81\u600e\u4e48\u529e\\nsubmodule \u51b2\u7a81\u65f6\uff0c\u5e94\u5148\u5408\u5e76 submodule, \u518d\u6765\u5408\u5e76\u4e3b\u4ed3\u5e93","isLeaf":true},{"key":"/git/04-what-is-head.md","path":"/git/04-what-is-head.md","route":"/git/04-what-is-head.md","leaf":true,"title":"04-what-is-head","depth":1,"content":"---\\ntitle: 04 Git \u5bf9 head \u7684\u7406\u89e3\\ntags: Git\\n---\\n\\nhttps://www.zsythink.net/archives/3412/ \u8fd9\u7bc7\u6587\u7ae0\u8bb2\u7684\u975e\u5e38\u8be6\u7ec6\u3002\\n\\n1) \u901a\u5e38\u60c5\u51b5\u4e0b HEAD\u6307\u9488 \u2014\u2014\u2013> \u5206\u652f\u6307\u9488 \u2014\u2014\u2013> \u6700\u65b0\u63d0\u4ea4\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cHEAD \u6307\u9488\u603b\u662f\u901a\u8fc7\u5206\u652f\u6307\u9488\uff0c\u95f4\u63a5\u7684\u6307\u5411\u4e86\u5f53\u524d\u5206\u652f\u7684\u6700\u65b0\u63d0\u4ea4\u3002\\n2) \u6709\u4e9b\u60c5\u51b5\u4e0b\uff0cHEAD\u6307\u9488\u6ca1\u6709\u6307\u5411\u5206\u652f\u6307\u9488\uff0c\u800c\u662f\u76f4\u63a5\u6307\u5411\u4e86\u67d0\u4e2a\u63d0\u4ea4\uff0c\u8fd9\u88ab\u79f0\u4f5c detached head \u5206\u79bb\u5934\u3002","isLeaf":true},{"key":"/git/05-cherry-pick.md","path":"/git/05-cherry-pick.md","route":"/git/05-cherry-pick.md","leaf":true,"title":"05-cherry-pick","depth":1,"content":"---\\ntitle: 05 cherry-pick\\ntags: Git\\n---\\n\\n(1) \u62f7\u8d1d\u4f9d\u8d56\u7f3a\u5931\\ncherry-pick \u53ef\u4ee5\u62f7\u8d1d\u4e00\u6b21 commit \u4fe1\u606f\uff0c\u5982\u679c\u4f60\u5728\u5206\u652f A \u62f7\u8d1d\u6765\u81ea\u5206\u652f B \u7684 commit id m1, \u4f46\u662f\u5728\u4ee3\u7801\u4e0a m1 \u4f9d\u8d56\u4e86B\u5206\u652f\u7684 m2\uff0c\u90a3\u4e48\u8fd9\u4e2a\u64cd\u4f5c\u662f\u9519\u8bef\u7684\u3002","isLeaf":true},{"key":"/git/06-mege-commit.md","path":"/git/06-mege-commit.md","route":"/git/06-mege-commit.md","leaf":true,"title":"06-mege-commit","depth":1,"content":"---\\ntitle: 06 Git \u5408\u5e76\u591a\u4e2a commit\\ntags: Git\\n---\\n\\n## 1\u3001\u5408\u5e76\u65b9\u5f0f\\n- \u4f7f\u7528 git rebase -i head~{number} \u4e0d\u4f1a\u4ea7\u751f\u65b0\u7684 commit\\n- \u4f7f\u7528 git reset \u4f1a\u4ea7\u751f\u65b0\u7684 commit (\u66f4\u4e0d\u53cb\u597d\u7684\u505a\u6cd5)\\n\\n## 2\u3001\u574f\u5473\u9053\\n`git rebase` \u8fd9\u79cd\u65b9\u5f0f\u9700\u8981\u5f3a\u5236\u63a8\u9001\uff0c\u5b83\u662f\u4e00\u79cd\u574f\u5473\u9053\u505a\u6cd5\uff0c\u6700\u597d\u901a\u77e5\u5230\u9879\u76ee\u7684\u7ec4\u5458","isLeaf":true},{"key":"/git/07-merge-vs-rebase.md","path":"/git/07-merge-vs-rebase.md","route":"/git/07-merge-vs-rebase.md","leaf":true,"title":"07-merge-vs-rebase","depth":1,"content":"---\\ntags: Git\\ntitle: 07 merge-vs-rebase\\n---\\n\\n\u4f7f\u7528 rebase \u8fdb\u884c\u4ee3\u7801\u5408\u5e76\uff0c\u53ef\u4ee5\u8ba9 git log \u66f4\u6e05\u6670","isLeaf":true},{"key":"/git/08-diff.md","path":"/git/08-diff.md","route":"/git/08-diff.md","leaf":true,"title":"08-diff","depth":1,"content":"---\\ntags: Git\\ntitle: 08 \u8bfb\u61c2 diff\\n---\\n\\nGit diff \u53d8\u66f4\u7684\u539f\u56e0\u6709\uff1a\\n- \u65b0\u589e\u6587\u4ef6\\n- \u4fee\u6539\u6587\u4ef6\\n- \u5220\u9664\u6587\u4ef6\\n\\n## 1\u3001\u7528\u6cd5\\n```text\\nusage: git diff [<options>] [<commit>] [--] [<path>...]\\n   or: git diff [<options>] --cached [<commit>] [--] [<path>...]\\n   or: git diff [<options>] <commit> [--merge-base] [<commit>...] <commit> [--] [<path>...]\\n   or: git diff [<options>] <commit>...<commit>] [--] [<path>...]\\n   or: git diff [<options>] <blob> <blob>]\\n   or: git diff [<options>] --no-index [--] <path> <path>]\\n```\\n\\n- options \u8868\u793a\u53ef\u9009\u53c2\u6570\\n- commit \u8868\u793a commit id\\n- path \u8bbe\u7f6e\u6587\u4ef6\\n\\n### 1.1 --no-index\\n`--no-index` \u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u72ec\u7acb\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u7684\u5dee\u5f02\u3002\u5b83\u544a\u8bc9 Git diff \u547d\u4ee4\u8df3\u8fc7\u5bf9 Git \u5b58\u50a8\u5e93\u7684\u5904\u7406\uff0c\u5e76\u5c06\u5176\u7528\u4e8e\u975eGit\u6587\u4ef6\u3002\\n\u5f53\u60a8\u60f3\u8981\u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u800c\u4e0d\u5728Git\u5b58\u50a8\u5e93\u4e2d\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 `--no-index` \u9009\u9879\u3002\u8fd9\u5bf9\u4e8e\u8de8\u4e0d\u540cGit\u5b58\u50a8\u5e93\u6216\u5728\u6ca1\u6709Git\u5b58\u50a8\u5e93\u7684\u73af\u5883\u4e2d\u8fdb\u884c\u6bd4\u8f83\u5f88\u6709\u7528\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u6bd4\u8f83\u7684\u65b9\u5f0f\uff0c\u4e0d\u4f9d\u8d56\u4e8eGit\u5b58\u50a8\u5e93\u7684\u7248\u672c\u63a7\u5236\u4fe1\u606f\u3002\\n\\n\u4ee5\u4e0b\u662f\u4f7f\u7528`--no-index`\u9009\u9879\u7684\u793a\u4f8b\uff1a\\n\\n1. \u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff --no-index file1.txt file2.txt\\n   ```\\n\\n2. \u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u5939\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff --no-index dir1/ dir2/\\n   ```\\n\\n\u8bf7\u6ce8\u610f\uff0c`--no-index`\u9009\u9879\u4e0d\u4f1a\u5904\u7406Git\u5b58\u50a8\u5e93\u4e2d\u7684\u66f4\u6539\u5386\u53f2\u8bb0\u5f55\u6216\u7248\u672c\u63a7\u5236\u4fe1\u606f\u3002\u5b83\u53ea\u4f1a\u63d0\u4f9b\u4e00\u79cd\u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u4e4b\u95f4\u5dee\u5f02\u7684\u65b9\u5f0f\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4ea7\u751f\u4e0d\u540c\u7684\u8f93\u51fa\u7ed3\u679c\u3002\\n\\n### 1.2 \u5e38\u89c1\u7528\u6cd5\\n\\n1. \u6bd4\u8f83\u5de5\u4f5c\u76ee\u5f55\u548c\u6682\u5b58\u533a\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff\\n   ```\\n\\n2. \u6bd4\u8f83\u6682\u5b58\u533a\u548c\u6700\u540e\u4e00\u6b21\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff --staged\\n   ```\\n\\n3. \u6bd4\u8f83\u4e24\u4e2a\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff commit1 commit2\\n   ```\\n\\n4. \u6bd4\u8f83\u4e24\u4e2a\u5206\u652f\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff branch1 branch2\\n   ```\\n\\n5. \u663e\u793a\u6587\u4ef6\u4e2d\u5177\u4f53\u7684\u66f4\u6539\u5185\u5bb9\uff1a\\n   ```\\n   git diff --word-diff\\n   ```\\n\\n6. \u751f\u6210\u53ef\u4f9b\u6253\u5370\u7684\u7b80\u6d01\u5dee\u5f02\uff1a\\n   ```\\n   git diff --color-words\\n   ```\\n\\n\u8fd9\u53ea\u662f\u4e00\u4e9b\u57fa\u672c\u7684\u7528\u6cd5\u793a\u4f8b\u3002Git diff\u8fd8\u6709\u5f88\u591a\u5176\u4ed6\u53ef\u9009\u9879\u548c\u53c2\u6570\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u5b9a\u5236\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c`git diff --help`\u547d\u4ee4\u6765\u67e5\u770b\u6240\u6709\u53ef\u7528\u9009\u9879\u548c\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\\n\\n### 1.3 \u9ed8\u8ba4\u8f93\u51fa\u683c\u5f0f\\n\\n\u6267\u884c\\n```shell\\ngit diff 801aae133e70fe312223faccd97072e8afc07404\\n````\\n\\n\u5176\u8f93\u51fa\u662f\u4e0b\u9762\u8fd9\u6837\u7684\u4e00\u4e2a\u5217\u8868\uff0c\u6bcf\u4e00\u9879\u4ee3\u8868\u67d0\u4e2a\u6587\u4ef6\u524d\u540e\u5bf9\u6bd4\\n\\n```text\\ndiff --git a/libs/grpc/src/grpc.service.ts b/libs/grpc/src/grpc.service.ts\\nindex 3b551ff..33b5a94 100644\\n--- a/libs/grpc/src/grpc.service.ts\\n+++ b/libs/grpc/src/grpc.service.ts\\n@@ -12,6 +12,7 @@ import { dynamicProxyUrl, localService } from \'@app/config/local.service\';\\n import { migrationMap } from \'@app/shared/migrationMap\';\\n import { rpcMetrics } from \'@/prom/prom.client\';\\n import { CURRENT_ETCD } from \'@app/shared/etcd.config\';\\n+import { isThDGL } from \'@app/shared/utils/getFromContext\';\\n \\n @Injectable()\\n export class GrpcService {\\n@@ -41,6 +42,10 @@ export class GrpcService {\\n       );\\n     }\\n \\n+    if (region === \'th\') {\\n+      body = { ...body, licenseType: isThDGL() ? \'Digi\' : \'CCC\' };\\n+    }\\n+\\n     const rpcAction = getRpc(service, rpc, address as string);\\n     let makeParam =\\n       (body && body[\'migrationMap\']) || service === Service.LoanCoreDebt\\n```\\n\\n**1) diff \u683c\u5f0f**\\n\\n\u7b2c\u4e00\u884c\u8868\u793a\u7ed3\u679c\u4e3a git \u683c\u5f0f\u7684 diff:\\n```\\ndiff --git a/libs/grpc/src/grpc.service.ts b/libs/grpc/src/grpc.service.ts\\n```\\n\\n**2) diff \u5bf9\u8c61**\\n\\n\u7b2c\u4e8c\u884c\u8868\u793a\u4e24\u4e2a\u7248\u672c\u7684git\u54c8\u5e0c\u503c\\n```\\nindex 3b551ff..33b5a94 100644\\n```\\n\\nindex \u533a\u57df\u7684 3b551ff \u5bf9\u8c61 \u4e0e\u5de5\u4f5c\u76ee\u5f55\u533a\u57df\u7684 33b5a94 \u5bf9\u8c61\u8fdb\u884c\u6bd4\u8f83\uff0c\u6700\u540e\u7684\u516d\u4f4d\u6570\u5b57\u662f\u5bf9\u8c61\u7684\u6a21\u5f0f\uff08\u666e\u901a\u6587\u4ef6\uff0c644\u6743\u9650\uff09\\n\\n**3) \u53d8\u52a8\u8303\u56f4**\\n\\n\\"---\\"\u8868\u793a\u53d8\u52a8\u524d\u7684\u6587\u4ef6\uff0c\\"+++\\"\u8868\u793a\u53d8\u52a8\u540e\u7684\u6587\u4ef6\uff0c\u53d8\u52a8\u7684\u4f4d\u7f6e\u7528\u4e24\u4e2a@\u4f5c\u4e3a\u8d77\u9996\u548c\u7ed3\u675f\uff0c`@@ -12,6 +12,7 @@`\\n\\n\u524d\u9762\u7684\\"-12,6\\"\u5206\u6210\u4e09\u4e2a\u90e8\u5206\uff1a\u51cf\u53f7\u8868\u793a\u7b2c\u4e00\u4e2a\u6587\u4ef6\uff08\u5373f1\uff09\uff0c\\"12\\"\u8868\u793a\u7b2c12\u884c\uff0c\\"6\\"\u8868\u793a\u8fde\u7eed6\u884c\u3002\u5408\u5728\u4e00\u8d77\uff0c\u5c31\u8868\u793a\u4e0b\u9762\u662f\u7b2c\u4e00\u4e2a\u6587\u4ef6\u4ece\u7b2c16\u884c\u5f00\u59cb\u7684\u8fde\u7eed6\u884c\u3002\u540c\u6837\u7684\uff0c\\"+12,7\\"\u8868\u793a\u53d8\u52a8\u540e\uff0c\u6210\u4e3a\u7b2c\u4e8c\u4e2a\u6587\u4ef6\u4ece\u7b2c12\u884c\u5f00\u59cb\u7684\u8fde\u7eed7\u884c\u3002\\n\\n**4) \u53d8\u52a8\u7684\u5177\u4f53\u5185\u5bb9**\\n\\n```text\\nimport { dynamicProxyUrl, localService } from \'@app/config/local.service\';\\nimport { migrationMap } from \'@app/shared/migrationMap\';\\nimport { rpcMetrics } from \'@/prom/prom.client\';\\nimport { CURRENT_ETCD } from \'@app/shared/etcd.config\';\\n\\n@Injectable()\\nexport class GrpcService {\\n```\\n\\n```text\\n import { dynamicProxyUrl, localService } from \'@app/config/local.service\';\\n import { migrationMap } from \'@app/shared/migrationMap\';\\n import { rpcMetrics } from \'@/prom/prom.client\';\\n import { CURRENT_ETCD } from \'@app/shared/etcd.config\';\\n+import { isThDGL } from \'@app/shared/utils/getFromContext\';\\n \\n @Injectable()\\n export class GrpcService {\\n```\\n\\n### 1.4 diff \u53ef\u89c6\u5316\u5c55\u793a\\n\\n\u6839\u636e `@@` \u8fdb\u884c\u5206\u5272\uff0c\u8fdb\u884c\u9010\u884c\u5bf9\u6bd4\uff0c\u5373\u53ef\u627e\u5230\u67d0\u884c\u662f\u88ab\u5220\u9664\u3001\u8fd8\u662f\u589e\u52a0\u3002\\n\\n## 2\u3001\u53c2\u6570\\n\\n```text\\n  -z            output diff-raw with lines terminated with NUL.\\n  -p            output patch format.\\n  -u            synonym for -p.\\n  --patch-with-raw\\n                output both a patch and the diff-raw format.\\n  --stat        show diffstat instead of patch.\\n  --numstat     show numeric diffstat instead of patch.\\n  --patch-with-stat\\n                output a patch and prepend its diffstat.\\n  --name-only   show only names of changed files.\\n  --name-status show names and status of changed files.\\n  --full-index  show full object name on index lines.\\n  --abbrev=<n>  abbreviate object names in diff-tree header and diff-raw.\\n  -R            swap input file pairs.\\n  -B            detect complete rewrites.\\n  -M            detect renames.\\n  -C            detect copies.\\n  --find-copies-harder\\n                try unchanged files as candidate for copy detection.\\n  -l<n>         limit rename attempts up to <n> paths.\\n  -O<file>      reorder diffs according to the <file>.\\n  -S<string>    find filepair whose only one side contains the string.\\n  --pickaxe-all\\n                show all files diff when -S is used and hit is found.\\n  -a  --text    treat all files as text.\\n```\\n\\n### 2.1 name-only \u53ea\u5c55\u793a\u6587\u4ef6\u540d\\n```shell\\ngit diff --name-only  master\\n```\\n\\n```text\\nlibs/config/src/th/local.config.ts\\nlibs/config/src/th/test.config.ts\\nlibs/config/src/th/uat.config.ts\\nlibs/db/src/db.service.ts\\nlibs/elastic/src/elastic.interface.ts\\nlibs/elastic/src/elastic.service.ts\\nlibs/grpc/src/grpc.service.ts\\nlibs/grpc/src/proto/protobuf-uc\\n```\\n\\n\u770b\u4e0d\u51fa\u6587\u4ef6\u662f\u6539\u52a8\u3001\u5220\u9664\u6216\u8005\u65b0\u589e\\n\\n### 2.2 --stat \u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\\n\\n\u4f7f\u7528 `--stat` \u9009\u9879\u53ef\u4ee5\u5e2e\u52a9\u60a8\u5feb\u901f\u4e86\u89e3\u6587\u4ef6\u95f4\u7684\u5927\u81f4\u5dee\u5f02\uff0c\u4ee5\u4fbf\u66f4\u597d\u5730\u7406\u89e3Git\u5b58\u50a8\u5e93\u4e2d\u7684\u6539\u52a8\u60c5\u51b5\u3002\\n\\n```shell\\ngit diff --stat 801aae133e70fe312223faccd97072e8afc07404\\n```\\n\\n```text\\nlibs/grpc/src/grpc.service.ts     | 5 +++++ [\u589e\u52a05\u884c]\\nlibs/grpc/src/proto/protobuf-uc   | 2 +-    [\u589e\u52a01\u884c\uff0c\u5220\u96641\u884c]\\nlibs/grpc/src/services/BaseRpc.ts | 5 +++++ [\u589e\u52a05\u884c]\\n3 files changed, 11 insertions(+), 1 deletion(-)\\n```\\n\\n### 2.3 `--numstat` \u4ee5\u6570\u5b57\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\\n\\n\u7528\u4e8e\u4ee5\u6570\u5b57\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\u3002\u5b83\u4f1a\u663e\u793a\u51fa\u6bcf\u4e2a\u6587\u4ef6\u88ab\u6dfb\u52a0\u3001\u5220\u9664\u548c\u4fee\u6539\u7684\u884c\u6570\u3002\\n\\n```shell\\n$ git diff --numstat 801aae133e70fe312223faccd97072e8afc07404\\n5       0       libs/grpc/src/grpc.service.ts\\n1       1       libs/grpc/src/proto/protobuf-uc\\n5       0       libs/grpc/src/services/BaseRpc.ts\\n```\\n\\n### 2.4 --name-status \u5c55\u793a\u6587\u4ef6\u4fee\u6539\u7c7b\u578b\\n\\n```shell\\ngit diff --name-status  801aae133e70fe312223faccd97072e8afc07404\\nM       libs/grpc/src/grpc.service.ts\\nM       libs/grpc/src/proto/protobuf-uc\\nM       libs/grpc/src/services/BaseRpc.ts\\n```\\n\\n`--name-status` \u7528\u4e8e\u4ee5\u6587\u4ef6\u540d\u548c\u72b6\u6001\u7684\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\u3002\u5b83\u4f1a\u663e\u793a\u51fa\u6bcf\u4e2a\u6587\u4ef6\u7684\u72b6\u6001\uff0c\u5305\u62ec\u88ab\u6dfb\u52a0\u3001\u88ab\u4fee\u6539\u548c\u88ab\u5220\u9664\u3002\\n\u5f53\u60a8\u6267\u884cGit diff\u547d\u4ee4\uff0c\u5e76\u6dfb\u52a0\u4e86`--name-status`\u9009\u9879\uff0cGit\u4f1a\u4e3a\u6bcf\u4e2a\u6587\u4ef6\u4ea7\u751f\u4e00\u4e2a\u6458\u8981\uff0c\u4ee5\u6587\u4ef6\u540d\u548c\u5176\u72b6\u6001\u7684\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u7684\u5dee\u5f02\u7edf\u8ba1\u4fe1\u606f\u3002\u8f93\u51fa\u7ed3\u679c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5\uff1a\u6587\u4ef6\u7684\u72b6\u6001\u548c\u6587\u4ef6\u540d\u3002\\n\\n\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f7f\u7528`--name-status`\u9009\u9879\u7684\u793a\u4f8b\uff1a\\n\\n```\\ngit diff --name-status\\n```\\n\\n\u8fd9\u5c06\u663e\u793a\u51faGit\u5b58\u50a8\u5e93\u4e2d\u5f53\u524d\u5206\u652f\u548c\u4e0a\u4e00\u4e2a\u5206\u652f\u4e4b\u95f4\u7684\u6587\u4ef6\u5dee\u5f02\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\u8f93\u51fa\u7ed3\u679c\u53ef\u80fd\u7c7b\u4f3c\u4e8e\u4e0b\u9762\u7684\u6837\u5f0f\uff1a\\n\\n```\\nA       file1.txt\\nM       file2.txt\\nD       file3.txt\\n```\\n\\n\u8fd9\u4e2a\u793a\u4f8b\u544a\u8bc9\u6211\u4eec\uff0c`file1.txt` \u6587\u4ef6\u662f\u88ab\u6dfb\u52a0\u7684\uff08Added\uff09\uff0c`file2.txt` \u6587\u4ef6\u662f\u88ab\u4fee\u6539\u7684\uff08Modified\uff09\uff0c`file3.txt` \u6587\u4ef6\u662f\u88ab\u5220\u9664\u7684\uff08Deleted\uff09\u3002\\n\\n`--name-status` \u9009\u9879\u5bf9\u4e8e\u9700\u8981\u4ee5\u6587\u4ef6\u72b6\u6001\u5f62\u5f0f\u83b7\u53d6\u6587\u4ef6\u5dee\u5f02\u7edf\u8ba1\u4fe1\u606f\u7684\u60c5\u51b5\u5f88\u6709\u7528\u3002\u5b83\u53ef\u4ee5\u5e2e\u52a9\u60a8\u4e86\u89e3\u6bcf\u4e2a\u6587\u4ef6\u7684\u72b6\u6001\uff0c\u5305\u62ec\u6dfb\u52a0\u3001\u4fee\u6539\u548c\u5220\u9664\u7b49\u64cd\u4f5c\u3002\\n\\n## 3\u3001\u53c2\u8003\u6587\u6863\\n\\n- [\u8bfb\u61c2diff] https://www.ruanyifeng.com/blog/2012/08/how_to_read_diff.html","isLeaf":true},{"key":"/git/09-multile-github.md","path":"/git/09-multile-github.md","route":"/git/09-multile-github.md","leaf":true,"title":"09-multile-github","depth":1,"content":"---\\ntags: Git\\n---\\n\\n1\u53f0\u7535\u8111\u4e0a\u4f7f\u7528\u4e24\u4e2agithub\u8d26\u6237\uff0c\u53c2\u8003 https://juejin.cn/post/6844904086085582862 \u6216\u8005\u53ef\u4ee5\u901a\u8fc7 github token \u6765\u907f\u514d\u8fd9\u4e2a\u95ee\u9898","isLeaf":true},{"key":"/git/10-commit-rule.md","path":"/git/10-commit-rule.md","route":"/git/10-commit-rule.md","leaf":true,"title":"10-commit-rule","depth":1,"content":"---\\ntags: Git\\n---\\n\\n## 1\u3001\u63d0\u4ea4\u683c\u5f0f\\n```text\\ntype(scope): message\\n```\\n\\n## 2\u3001type\\n- feat\uff1a\u65b0\u529f\u80fd\u7684\u5f00\u53d1\\n- fix\uff1abug\u7684\u4fee\u590d\\n- docs\uff1a\u6587\u6863\u683c\u5f0f\u7684\u6539\u52a8\\n- style\uff1a\u4ee3\u7801\u683c\u5f0f\u6539\u53d8\\n- refactor\uff1a\u5bf9\u5df2\u6709\u7684\u529f\u80fd\u8fdb\u884c\u91cd\u6784\\n- perf\uff1a\u6027\u80fd\u4f18\u5316\\n- test\uff1a\u589e\u52a0\u6d4b\u8bd5\\n- build\uff1a\u6539\u53d8\u4e86build\u5de5\u5177\\n- revert\uff1a\u64a4\u9500\u4e0a\u4e00\u6b21\u7684commit\u63d0\u4ea4\\n- chore\uff1a\u65e5\u5e38\u7684\u4e00\u4e9b\u5c0f\u66f4\u6539\\n\\n## 3\u3001scope\\n\u7528\u4e8e\u8bf4\u660e commit \u5f71\u54cd\u7684\u8303\u56f4\uff0c\u6bd4\u5982\uff1a\u6743\u9650\u6a21\u5757\u3001\u8fd8\u662f\u9996\u9875","isLeaf":true},{"key":"/git/11-use-hooks.md","path":"/git/11-use-hooks.md","route":"/git/11-use-hooks.md","leaf":true,"title":"11-use-hooks","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u53c2\u8003 https://www.cnblogs.com/woai3c/p/15033530.html \u7279\u522b\u6ce8\u610f hooks \u6587\u4ef6\u7684\u6743\u9650\u95ee\u9898","isLeaf":true},{"key":"/git/12-file-timeline.md","path":"/git/12-file-timeline.md","route":"/git/12-file-timeline.md","leaf":true,"title":"12-file-timeline","depth":1,"content":"---\\ntags: Git\\n---\\n\\n## 1\u3001sourcetree\\n\u4f7f\u7528 git \u547d\u4ee4\u4e0d\u591f\u76f4\u89c2\uff0c\u53ef\u4ee5\u4f7f\u7528 sourcetree, \u70b9\u51fb\u6587\u4ef6 \u3010\u67e5\u770b\u9009\u4e2d\u7684\u4fee\u6539\u65e5\u5fd7\u3011\\n\\n## 2\u3001vscode\\n\u53ef\u4ee5\u67e5\u770b\u5f53\u524d\u7a97\u53e3\u6587\u4ef6\u7684\u65f6\u95f4\u7ebf","isLeaf":true},{"key":"/git/13-git-log.md","path":"/git/13-git-log.md","route":"/git/13-git-log.md","leaf":true,"title":"13-git-log","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u53c2\u8003 https://zhuanlan.zhihu.com/p/183131156\\n\\n```shell\\ngit log --oneline\\ngit log --stat\\n```","isLeaf":true},{"key":"/git/14-gen-ssh-key.md","path":"/git/14-gen-ssh-key.md","route":"/git/14-gen-ssh-key.md","leaf":true,"title":"14-gen-ssh-key","depth":1,"content":"---\\ntags: Git\\n---\\n\\n```shell\\n# make\\nssh-keygen -t rsa -C \\"2856116089@qq.com\\"\\n\\n# config\\ngit config --global user.name \\"waisai\\"\\ngit config --global user.email \\"2856116089@qq.com\\"\\n```","isLeaf":true},{"key":"/git/15-rm-cached.md","path":"/git/15-rm-cached.md","route":"/git/15-rm-cached.md","leaf":true,"title":"15-rm-cached","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u6709\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u5ffd\u7565\u6389\u4ee5\u524d\u63d0\u4ea4\u8fc7\u7684\u6587\u4ef6\uff0c\u56e0\u4e3agit\u5df2\u7ecf\u7d22\u5f15\u4e86\u8be5\u6587\u4ef6\uff0c\u6240\u4ee5\u6211\u4eec\u5148\u8981\u5220\u9664\u6389\u8be5\u6587\u4ef6\u7684\u7f13\u5b58\uff0c\u5982\u6587\u4ef6 main.ts \u5df2\u7ecf\u63d0\u4ea4\u8fc7\u4e86\uff0c\u73b0\u5728\u6211\u4eec\u60f3\u5ffd\u7565\uff0c\u8fd9\u662f\u6211\u4eec\u5148\u5728 .gitignore \u4e2d\u8bbe\u7f6e\u8be5\u6587\u4ef6\u4e3a\u5ffd\u7565\u3002\\n\\n- \u4f7f\u7528 git rm --cached \u4ece Git \u7684\u6570\u636e\u5e93\u4e2d\u5220\u9664\u5bf9\u4e8e\u8be5\u6587\u4ef6\u7684\u8ffd\u8e2a\\n- \u628a\u5bf9\u5e94\u7684\u89c4\u5219\u5199\u5165 .gitignore\uff0c\u8ba9\u5ffd\u7565\u771f\u6b63\u751f\u6548\\n\\n```shell\\ngit rm --cached main.ts\\n\\n# \u82e5\u662f\u6587\u4ef6\u5939\\ngit rm -r --cached folder/\\n```","isLeaf":true},{"key":"/git/16-reset-vs-revert.md","path":"/git/16-reset-vs-revert.md","route":"/git/16-reset-vs-revert.md","leaf":true,"title":"16-reset-vs-revert","depth":1,"content":"---\\ntags: Git\\n---\\n\\n- reset \u662f\u5f7b\u5e95\u56de\u9000\u5230\u6307\u5b9a\u7684commit\u7248\u672c\uff0c\u8be5commit\u540e\u7684\u6240\u6709commit\u90fd\u5c06\u88ab\u6e05\u9664\uff0c\u5305\u62ec\u63d0\u4ea4\u5386\u53f2\u8bb0\u5f55\uff1b\\n- revert \u4ec5\u4ec5\u662f\u64a4\u9500\u6307\u5b9acommit\u7684\u4fee\u6539\uff0c\u5e76\u4e0d\u5f71\u54cd\u540e\u7eed\u7684commit\uff0c\u4f46\u6240\u64a4\u9500\u7684commit\u88ab\u540e\u7eed\u7684commit\u4fee\u6539\u4e86\u540c\u4e00\u5730\u65b9\u5219\u4f1a\u4ea7\u751f\u51b2\u7a81\uff1b\\n- reset \u6267\u884c\u540e\u4e0d\u4f1a\u4ea7\u751f\u8bb0\u5f55\uff0crevert\u6267\u884c\u540e\u4f1a\u4ea7\u751f\u8bb0\u5f55\uff1b\\n- reset \u6267\u884c\u540e\u65e0\u6cd5\u518d\u6b21\u6062\u590d\uff0crevert\u6267\u884c\u540e\u56e0\u4e3a\u4e0d\u4f1a\u6e05\u9664\u8bb0\u5f55\uff0c\u5e76\u4e14\u4f1a\u4ea7\u751f\u65b0\u7eaa\u5f55\uff0c\u6240\u4ee5\u6587\u4ef6\u4e0d\u4f1a\u4e22\u5931\uff0c\u4f60\u53ef\u4ee5\u591a\u6b21\u6267\u884crevert\u6062\u590d\u5230\u67d0\u6b21\u6539\u53d8\u4e4b\u524d\u7684\u72b6\u6001\uff1b\\n- reset \u6267\u884c\u540eHEAD\u4f1a\u540e\u79fb\uff0c\u800crevert\u7684HEAD\u5219\u4e00\u76f4\u662f\u5411\u524d\u7684\uff1b\\n\\nhttps://blog.csdn.net/baiyuliang2013/article/details/120646835","isLeaf":true},{"key":"/git/17-case-sensitive.md","path":"/git/17-case-sensitive.md","route":"/git/17-case-sensitive.md","leaf":true,"title":"17-case-sensitive","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u6587\u4ef6\u7cfb\u7edf\u5927\u5c0f\u5199\u654f\u611f\u662f\u975e\u5e38\u91cd\u8981\uff0c\u4f1a\u5e26\u6765\u8bf8\u591a\u95ee\u9898\u3002\u6bd4\u5982\u4e0d\u654f\u611f\u65f6\uff0c\u5f53\u4f60\u5e0c\u671b\u4fee\u6539\u6587\u4ef6\u76ee\u5f55\u4ece\u5c0f\u5199\u5230\u5927\u5199\u65f6\uff0cgit \u72b6\u6001\u662f\u672a\u53d1\u751f\u53d8\u66f4\uff0c\u610f\u5473\u7740\u4f60\u65e0\u6cd5\u63d0\u4ea4\u3002","isLeaf":true}]}]'),Ad=qd.map((function(n){return n.title}));var Ld=function(){var e,t=s((0,n.useState)(Ad[0]),2),r=t[0],o=t[1],a=null===(e=qd.find((function(n){return n.title===r})))||void 0===e?void 0:e.children;return(0,jr.jsxs)("div",{className:"page-article-list",children:[(0,jr.jsxs)("div",{className:"content",children:[(0,jr.jsx)("div",{className:"tags",children:Ad.map((function(n){var e=n===r?"tag is-active":"tag";return(0,jr.jsx)("div",{onClick:function(){o(n)},className:e,children:n},n)}))}),(0,jr.jsx)("div",{className:"article-list",children:null===a||void 0===a?void 0:a.map((function(n){return(0,jr.jsx)(Ye,{to:"/article".concat(n.route),className:"article-list-item",children:n.title})}))})]}),(0,jr.jsx)("div",{className:"side"})]})};function jd(){return(0,jr.jsx)("div",{children:"hello"})}function Pd(){return(0,jr.jsx)("div",{children:"ArticleSingleTag"})}var Od,Md=function(){if(!er()||!window.document.documentElement)return!1;if(void 0!==Od)return Od;var n=document.createElement("div");n.style.display="flex",n.style.flexDirection="column",n.style.rowGap="1px",n.appendChild(document.createElement("div")),n.appendChild(document.createElement("div"));var e=document.createElement("div");return e.style.position="absolute",e.style.zIndex="-9999",e.appendChild(n),document.body.appendChild(e),Od=1===n.scrollHeight,document.body.removeChild(e),Od},Id=n.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),Dd=Id.Provider;function Rd(e){var t=e.className,r=e.direction,o=e.index,a=e.marginDirection,i=e.children,s=e.split,l=e.wrap,c=e.style,u=n.useContext(Id),d=u.horizontalSize,p=u.verticalSize,f=u.latestIndex,m={};return u.supportFlexGap||("vertical"===r?o<f&&(m={marginBottom:d/(s?2:1)}):m=Object.assign(Object.assign({},o<f&&k({},a,d/(s?2:1))),l&&{paddingBottom:p})),null===i||void 0===i?null:n.createElement(n.Fragment,null,n.createElement("div",{className:t,style:Object.assign(Object.assign({},m),c)},i),o<f&&s&&n.createElement("span",{className:"".concat(t,"-split"),style:m},s))}var Fd=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t},Bd={small:8,middle:16,large:24};var zd=n.forwardRef((function(e,t){var r,o,a,i=n.useContext(Fr),l=i.getPrefixCls,c=i.space,u=i.direction,d=e.size,p=void 0===d?(null===c||void 0===c?void 0:c.size)||"small":d,f=e.align,m=e.className,h=e.rootClassName,g=e.children,y=e.direction,b=void 0===y?"horizontal":y,v=e.prefixCls,x=e.split,w=e.style,S=e.wrap,_=void 0!==S&&S,E=e.classNames,C=e.styles,N=Fd(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),T=function(){var e=s(n.useState(!1),2),t=e[0],r=e[1];return n.useEffect((function(){r(Md())}),[]),t}(),q=s(n.useMemo((function(){return(Array.isArray(p)?p:[p,p]).map((function(n){return function(n){return"string"===typeof n?Bd[n]:n||0}(n)}))}),[p]),2),A=q[0],L=q[1],j=qs(g,{keepEmpty:!0}),P=void 0===f&&"horizontal"===b?"center":f,O=l("space",v),M=s(js(O),2),I=M[0],D=M[1],R=st()(O,null===c||void 0===c?void 0:c.className,D,"".concat(O,"-").concat(b),(k(r={},"".concat(O,"-rtl"),"rtl"===u),k(r,"".concat(O,"-align-").concat(P),P),r),m,h),F=st()("".concat(O,"-item"),null!==(o=null===E||void 0===E?void 0:E.item)&&void 0!==o?o:null===(a=null===c||void 0===c?void 0:c.classNames)||void 0===a?void 0:a.item),B="rtl"===u?"marginLeft":"marginRight",z=0,U=j.map((function(e,t){var r,o;null!==e&&void 0!==e&&(z=t);var a=e&&e.key||"".concat(F,"-").concat(t);return n.createElement(Rd,{className:F,key:a,direction:b,index:t,marginDirection:B,split:x,wrap:_,style:null!==(r=null===C||void 0===C?void 0:C.item)&&void 0!==r?r:null===(o=null===c||void 0===c?void 0:c.styles)||void 0===o?void 0:o.item},e)})),H=n.useMemo((function(){return{horizontalSize:A,verticalSize:L,latestIndex:z,supportFlexGap:T}}),[A,L,z,T]);if(0===j.length)return null;var G={};return _&&(G.flexWrap="wrap",T||(G.marginBottom=-L)),T&&(G.columnGap=A,G.rowGap=L),I(n.createElement("div",Object.assign({ref:t,className:R,style:Object.assign(Object.assign(Object.assign({},G),null===c||void 0===c?void 0:c.style),w)},N),n.createElement(Dd,{value:H},U)))}));var Ud=zd;Ud.Compact=Rs;var Hd=Ud,Gd="RC_FORM_INTERNAL_HOOKS",Vd=function(){nr(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Jd=n.createContext({getFieldValue:Vd,getFieldsValue:Vd,getFieldError:Vd,getFieldWarning:Vd,getFieldsError:Vd,isFieldsTouched:Vd,isFieldTouched:Vd,isFieldValidating:Vd,isFieldsValidating:Vd,resetFields:Vd,setFields:Vd,setFieldValue:Vd,setFieldsValue:Vd,validateFields:Vd,submit:Vd,getInternalHooks:function(){return Vd(),{dispatch:Vd,initEntityValue:Vd,registerField:Vd,useSubscribe:Vd,setInitialValues:Vd,destroyForm:Vd,setCallbacks:Vd,registerWatch:Vd,getFields:Vd,setValidateMessages:Vd,setPreserve:Vd,getInitialValue:Vd}}}),Wd=n.createContext(null);function Qd(n){return void 0===n||null===n?[]:Array.isArray(n)?n:[n]}function Kd(){return Kd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Kd.apply(this,arguments)}function $d(n){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$d(n)}function Xd(n,e){return Xd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},Xd(n,e)}function Zd(n,e,t){return Zd=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(km){return!1}}()?Reflect.construct.bind():function(n,e,t){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(n,r));return t&&Xd(o,t.prototype),o},Zd.apply(null,arguments)}function Yd(n){var e="function"===typeof Map?new Map:void 0;return Yd=function(n){if(null===n||(t=n,-1===Function.toString.call(t).indexOf("[native code]")))return n;var t;if("function"!==typeof n)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return Zd(n,arguments,$d(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Xd(r,n)},Yd(n)}var np=/%[sdj%]/g;function ep(n){if(!n||!n.length)return null;var e={};return n.forEach((function(n){var t=n.field;e[t]=e[t]||[],e[t].push(n)})),e}function tp(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var o=0,a=t.length;return"function"===typeof n?n.apply(null,t):"string"===typeof n?n.replace(np,(function(n){if("%%"===n)return"%";if(o>=a)return n;switch(n){case"%s":return String(t[o++]);case"%d":return Number(t[o++]);case"%j":try{return JSON.stringify(t[o++])}catch(e){return"[Circular]"}break;default:return n}})):n}function rp(n,e){return void 0===n||null===n||(!("array"!==e||!Array.isArray(n)||n.length)||!(!function(n){return"string"===n||"url"===n||"hex"===n||"email"===n||"date"===n||"pattern"===n}(e)||"string"!==typeof n||n))}function op(n,e,t){var r=0,o=n.length;!function a(i){if(i&&i.length)t(i);else{var s=r;r+=1,s<o?e(n[s],a):t([])}}([])}var ap=function(n){var e,t;function r(e,t){var r;return(r=n.call(this,"Async Validation Error")||this).errors=e,r.fields=t,r}return t=n,(e=r).prototype=Object.create(t.prototype),e.prototype.constructor=e,Xd(e,t),r}(Yd(Error));function ip(n,e,t,r,o){if(e.first){var a=new Promise((function(e,a){var i=function(n){var e=[];return Object.keys(n).forEach((function(t){e.push.apply(e,n[t]||[])})),e}(n);op(i,t,(function(n){return r(n),n.length?a(new ap(n,ep(n))):e(o)}))}));return a.catch((function(n){return n})),a}var i=!0===e.firstFields?Object.keys(n):e.firstFields||[],s=Object.keys(n),l=s.length,c=0,u=[],d=new Promise((function(e,a){var d=function(n){if(u.push.apply(u,n),++c===l)return r(u),u.length?a(new ap(u,ep(u))):e(o)};s.length||(r(u),e(o)),s.forEach((function(e){var r=n[e];-1!==i.indexOf(e)?op(r,t,d):function(n,e,t){var r=[],o=0,a=n.length;function i(n){r.push.apply(r,n||[]),++o===a&&t(r)}n.forEach((function(n){e(n,i)}))}(r,t,d)}))}));return d.catch((function(n){return n})),d}function sp(n,e){return function(t){var r,o;return r=n.fullFields?function(n,e){for(var t=n,r=0;r<e.length;r++){if(void 0==t)return t;t=t[e[r]]}return t}(e,n.fullFields):e[t.field||n.fullField],(o=t)&&void 0!==o.message?(t.field=t.field||n.fullField,t.fieldValue=r,t):{message:"function"===typeof t?t():t,fieldValue:r,field:t.field||n.fullField}}}function lp(n,e){if(e)for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];"object"===typeof r&&"object"===typeof n[t]?n[t]=Kd({},n[t],r):n[t]=r}return n}var cp,up=function(n,e,t,r,o,a){!n.required||t.hasOwnProperty(n.field)&&!rp(e,a||n.type)||r.push(tp(o.messages.required,n.fullField))},dp=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,pp=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,fp={integer:function(n){return fp.number(n)&&parseInt(n,10)===n},float:function(n){return fp.number(n)&&!fp.integer(n)},array:function(n){return Array.isArray(n)},regexp:function(n){if(n instanceof RegExp)return!0;try{return!!new RegExp(n)}catch(km){return!1}},date:function(n){return"function"===typeof n.getTime&&"function"===typeof n.getMonth&&"function"===typeof n.getYear&&!isNaN(n.getTime())},number:function(n){return!isNaN(n)&&"number"===typeof n},object:function(n){return"object"===typeof n&&!fp.array(n)},method:function(n){return"function"===typeof n},email:function(n){return"string"===typeof n&&n.length<=320&&!!n.match(dp)},url:function(n){return"string"===typeof n&&n.length<=2048&&!!n.match(function(){if(cp)return cp;var n="[a-fA-F\\d:]",e=function(e){return e&&e.includeBoundaries?"(?:(?<=\\s|^)(?="+n+")|(?<="+n+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+t+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+t+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+t+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+t+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+t+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+t+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+t+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+t+"$)|(?:^"+o+"$)"),i=new RegExp("^"+t+"$"),s=new RegExp("^"+o+"$"),l=function(n){return n&&n.exact?a:new RegExp("(?:"+e(n)+t+e(n)+")|(?:"+e(n)+o+e(n)+")","g")};l.v4=function(n){return n&&n.exact?i:new RegExp(""+e(n)+t+e(n),"g")},l.v6=function(n){return n&&n.exact?s:new RegExp(""+e(n)+o+e(n),"g")};var c=l.v4().source,u=l.v6().source;return cp=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+u+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(n){return"string"===typeof n&&!!n.match(pp)}},mp="enum",hp={required:up,whitespace:function(n,e,t,r,o){(/^\s+$/.test(e)||""===e)&&r.push(tp(o.messages.whitespace,n.fullField))},type:function(n,e,t,r,o){if(n.required&&void 0===e)up(n,e,t,r,o);else{var a=n.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?fp[a](e)||r.push(tp(o.messages.types[a],n.fullField,n.type)):a&&typeof e!==n.type&&r.push(tp(o.messages.types[a],n.fullField,n.type))}},range:function(n,e,t,r,o){var a="number"===typeof n.len,i="number"===typeof n.min,s="number"===typeof n.max,l=e,c=null,u="number"===typeof e,d="string"===typeof e,p=Array.isArray(e);if(u?c="number":d?c="string":p&&(c="array"),!c)return!1;p&&(l=e.length),d&&(l=e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==n.len&&r.push(tp(o.messages[c].len,n.fullField,n.len)):i&&!s&&l<n.min?r.push(tp(o.messages[c].min,n.fullField,n.min)):s&&!i&&l>n.max?r.push(tp(o.messages[c].max,n.fullField,n.max)):i&&s&&(l<n.min||l>n.max)&&r.push(tp(o.messages[c].range,n.fullField,n.min,n.max))},enum:function(n,e,t,r,o){n[mp]=Array.isArray(n[mp])?n[mp]:[],-1===n[mp].indexOf(e)&&r.push(tp(o.messages[mp],n.fullField,n[mp].join(", ")))},pattern:function(n,e,t,r,o){if(n.pattern)if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(e)||r.push(tp(o.messages.pattern.mismatch,n.fullField,e,n.pattern));else if("string"===typeof n.pattern){new RegExp(n.pattern).test(e)||r.push(tp(o.messages.pattern.mismatch,n.fullField,e,n.pattern))}}},gp=function(n,e,t,r,o){var a=n.type,i=[];if(n.required||!n.required&&r.hasOwnProperty(n.field)){if(rp(e,a)&&!n.required)return t();hp.required(n,e,r,i,o,a),rp(e,a)||hp.type(n,e,r,i,o)}t(i)},yp={string:function(n,e,t,r,o){var a=[];if(n.required||!n.required&&r.hasOwnProperty(n.field)){if(rp(e,"string")&&!n.required)return t();hp.required(n,e,r,a,o,"string"),rp(e,"string")||(hp.type(n,e,r,a,o),hp.range(n,e,r,a,o),hp.pattern(n,e,r,a,o),!0===n.whitespace&&hp.whitespace(n,e,r,a,o))}t(a)},method:function(n,e,t,r,o){var a=[];if(n.required||!n.required&&r.hasOwnProperty(n.field)){if(rp(e)&&!n.required)return t();hp.required(n,e,r,a,o),void 0!==e&&hp.type(n,e,r,a,o)}t(a)},number:function(n,e,t,r,o){var a=[];if(n.required||!n.required&&r.hasOwnProperty(n.field)){if(""===e&&(e=void 0),rp(e)&&!n.required)return t();hp.required(n,e,r,a,o),void 0!==e&&(hp.type(n,e,r,a,o),hp.range(n,e,r,a,o))}t(a)},boolean:function(n,e,t,r,o){var a=[];if(n.required||!n.required&&r.hasOwnProperty(n.field)){if(rp(e)&&!n.required)return t();hp.required(n,e,r,a,o),void 0!==e&&hp.type(n,e,r,a,o)}t(a)},regexp:function(n,e,t,r,o){var a=[];if(n.required||!n.required&&r.hasOwnProperty(n.field)){if(rp(e)&&!n.required)return t();hp.required(n,e,r,a,o),rp(e)||hp.type(n,e,r,a,o)}t(a)},integer:function(n,e,t,r,o){var a=[];if(n.required||!n.required&&r.hasOwnProperty(n.field)){if(rp(e)&&!n.required)return t();hp.required(n,e,r,a,o),void 0!==e&&(hp.type(n,e,r,a,o),hp.range(n,e,r,a,o))}t(a)},float:function(n,e,t,r,o){var a=[];if(n.required||!n.required&&r.hasOwnProperty(n.field)){if(rp(e)&&!n.required)return t();hp.required(n,e,r,a,o),void 0!==e&&(hp.type(n,e,r,a,o),hp.range(n,e,r,a,o))}t(a)},array:function(n,e,t,r,o){var a=[];if(n.required||!n.required&&r.hasOwnProperty(n.field)){if((void 0===e||null===e)&&!n.required)return t();hp.required(n,e,r,a,o,"array"),void 0!==e&&null!==e&&(hp.type(n,e,r,a,o),hp.range(n,e,r,a,o))}t(a)},object:function(n,e,t,r,o){var a=[];if(n.required||!n.required&&r.hasOwnProperty(n.field)){if(rp(e)&&!n.required)return t();hp.required(n,e,r,a,o),void 0!==e&&hp.type(n,e,r,a,o)}t(a)},enum:function(n,e,t,r,o){var a=[];if(n.required||!n.required&&r.hasOwnProperty(n.field)){if(rp(e)&&!n.required)return t();hp.required(n,e,r,a,o),void 0!==e&&hp.enum(n,e,r,a,o)}t(a)},pattern:function(n,e,t,r,o){var a=[];if(n.required||!n.required&&r.hasOwnProperty(n.field)){if(rp(e,"string")&&!n.required)return t();hp.required(n,e,r,a,o),rp(e,"string")||hp.pattern(n,e,r,a,o)}t(a)},date:function(n,e,t,r,o){var a=[];if(n.required||!n.required&&r.hasOwnProperty(n.field)){if(rp(e,"date")&&!n.required)return t();var i;if(hp.required(n,e,r,a,o),!rp(e,"date"))i=e instanceof Date?e:new Date(e),hp.type(n,i,r,a,o),i&&hp.range(n,i.getTime(),r,a,o)}t(a)},url:gp,hex:gp,email:gp,required:function(n,e,t,r,o){var a=[],i=Array.isArray(e)?"array":typeof e;hp.required(n,e,r,a,o,i),t(a)},any:function(n,e,t,r,o){var a=[];if(n.required||!n.required&&r.hasOwnProperty(n.field)){if(rp(e)&&!n.required)return t();hp.required(n,e,r,a,o)}t(a)}};function bp(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var n=JSON.parse(JSON.stringify(this));return n.clone=this.clone,n}}}var vp=bp(),xp=function(){function n(n){this.rules=null,this._messages=vp,this.define(n)}var e=n.prototype;return e.define=function(n){var e=this;if(!n)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof n||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach((function(t){var r=n[t];e.rules[t]=Array.isArray(r)?r:[r]}))},e.messages=function(n){return n&&(this._messages=lp(bp(),n)),this._messages},e.validate=function(e,t,r){var o=this;void 0===t&&(t={}),void 0===r&&(r=function(){});var a=e,i=t,s=r;if("function"===typeof i&&(s=i,i={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,a),Promise.resolve(a);if(i.messages){var l=this.messages();l===vp&&(l=bp()),lp(l,i.messages),i.messages=l}else i.messages=this.messages();var c={};(i.keys||Object.keys(this.rules)).forEach((function(n){var t=o.rules[n],r=a[n];t.forEach((function(t){var i=t;"function"===typeof i.transform&&(a===e&&(a=Kd({},a)),r=a[n]=i.transform(r)),(i="function"===typeof i?{validator:i}:Kd({},i)).validator=o.getValidationMethod(i),i.validator&&(i.field=n,i.fullField=i.fullField||n,i.type=o.getType(i),c[n]=c[n]||[],c[n].push({rule:i,value:r,source:a,field:n}))}))}));var u={};return ip(c,i,(function(e,t){var r,o=e.rule,s=("object"===o.type||"array"===o.type)&&("object"===typeof o.fields||"object"===typeof o.defaultField);function l(n,e){return Kd({},e,{fullField:o.fullField+"."+n,fullFields:o.fullFields?[].concat(o.fullFields,[n]):[n]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!i.suppressWarning&&c.length&&n.warning("async-validator:",c),c.length&&void 0!==o.message&&(c=[].concat(o.message));var d=c.map(sp(o,a));if(i.first&&d.length)return u[o.field]=1,t(d);if(s){if(o.required&&!e.value)return void 0!==o.message?d=[].concat(o.message).map(sp(o,a)):i.error&&(d=[i.error(o,tp(i.messages.required,o.field))]),t(d);var p={};o.defaultField&&Object.keys(e.value).map((function(n){p[n]=o.defaultField})),p=Kd({},p,e.rule.fields);var f={};Object.keys(p).forEach((function(n){var e=p[n],t=Array.isArray(e)?e:[e];f[n]=t.map(l.bind(null,n))}));var m=new n(f);m.messages(i.messages),e.rule.options&&(e.rule.options.messages=i.messages,e.rule.options.error=i.error),m.validate(e.value,e.rule.options||i,(function(n){var e=[];d&&d.length&&e.push.apply(e,d),n&&n.length&&e.push.apply(e,n),t(e.length?e:null)}))}else t(d)}if(s=s&&(o.required||!o.required&&e.value),o.field=e.field,o.asyncValidator)r=o.asyncValidator(o,e.value,c,e.source,i);else if(o.validator){try{r=o.validator(o,e.value,c,e.source,i)}catch(d){null==console.error||console.error(d),i.suppressValidatorError||setTimeout((function(){throw d}),0),c(d.message)}!0===r?c():!1===r?c("function"===typeof o.message?o.message(o.fullField||o.field):o.message||(o.fullField||o.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(n){return c(n)}))}),(function(n){!function(n){var e=[],t={};function r(n){var t;Array.isArray(n)?e=(t=e).concat.apply(t,n):e.push(n)}for(var o=0;o<n.length;o++)r(n[o]);e.length?(t=ep(e),s(e,t)):s(null,a)}(n)}),a)},e.getType=function(n){if(void 0===n.type&&n.pattern instanceof RegExp&&(n.type="pattern"),"function"!==typeof n.validator&&n.type&&!yp.hasOwnProperty(n.type))throw new Error(tp("Unknown rule type %s",n.type));return n.type||"string"},e.getValidationMethod=function(n){if("function"===typeof n.validator)return n.validator;var e=Object.keys(n),t=e.indexOf("message");return-1!==t&&e.splice(t,1),1===e.length&&"required"===e[0]?yp.required:yp[this.getType(n)]||void 0},n}();xp.register=function(n,e){if("function"!==typeof e)throw new Error("Cannot register a validator by type, validator is not a function");yp[n]=e},xp.warning=function(){},xp.messages=vp,xp.validators=yp;var wp="'${name}' is not a valid ${type}",kp={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:wp,method:wp,array:wp,object:wp,number:wp,date:wp,boolean:wp,integer:wp,float:wp,regexp:wp,email:wp,url:wp,hex:wp},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Sp=xp;function _p(n,e){return n.replace(/\$\{\w+\}/g,(function(n){var t=n.slice(2,-1);return e[t]}))}var Ep="CODE_LOGIC_ERROR";function Cp(n,e,t,r,o){return Np.apply(this,arguments)}function Np(){return Np=w(v().mark((function e(t,r,o,a,i){var s,l,c,u,d,p,f,m,h;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(s=Wt({},o)).ruleIndex,Sp.warning=function(){},s.validator&&(l=s.validator,s.validator=function(){try{return l.apply(void 0,arguments)}catch(n){return console.error(n),Promise.reject(Ep)}}),c=null,s&&"array"===s.type&&s.defaultField&&(c=s.defaultField,delete s.defaultField),u=new Sp(k({},t,[s])),d=qa(kp,a.validateMessages),u.messages(d),p=[],e.prev=10,e.next=13,Promise.resolve(u.validate(k({},t,r),Wt({},a)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(p=e.t0.errors.map((function(e,t){var r=e.message,o=r===Ep?d.default:r;return n.isValidElement(o)?n.cloneElement(o,{key:"error_".concat(t)}):o})));case 18:if(p.length||!c){e.next=23;break}return e.next=21,Promise.all(r.map((function(n,e){return Cp("".concat(t,".").concat(e),n,c,a,i)})));case 21:return f=e.sent,e.abrupt("return",f.reduce((function(n,e){return[].concat((0,q.Z)(n),(0,q.Z)(e))}),[]));case 23:return m=Wt(Wt({},o),{},{name:t,enum:(o.enum||[]).join(", ")},i),h=p.map((function(n){return"string"===typeof n?_p(n,m):n})),e.abrupt("return",h);case 26:case"end":return e.stop()}}),e,null,[[10,15]])}))),Np.apply(this,arguments)}function Tp(n,e,t,r,o,a){var i,s=n.join("."),l=t.map((function(n,e){var t=n.validator,r=Wt(Wt({},n),{},{ruleIndex:e});return t&&(r.validator=function(n,e,r){var o=!1,a=t(n,e,(function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];Promise.resolve().then((function(){nr(!o,"Your validator function has already return a promise. `callback` will be ignored."),o||r.apply(void 0,e)}))}));o=a&&"function"===typeof a.then&&"function"===typeof a.catch,nr(o,"`callback` is deprecated. Please return a promise instead."),o&&a.then((function(){r()})).catch((function(n){r(n||" ")}))}),r})).sort((function(n,e){var t=n.warningOnly,r=n.ruleIndex,o=e.warningOnly,a=e.ruleIndex;return!!t===!!o?r-a:t?1:-1}));if(!0===o)i=new Promise(function(){var n=w(v().mark((function n(t,o){var i,c,u;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=0;case 1:if(!(i<l.length)){n.next=12;break}return c=l[i],n.next=5,Cp(s,e,c,r,a);case 5:if(!(u=n.sent).length){n.next=9;break}return o([{errors:u,rule:c}]),n.abrupt("return");case 9:i+=1,n.next=1;break;case 12:t([]);case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}());else{var c=l.map((function(n){return Cp(s,e,n,r,a).then((function(e){return{errors:e,rule:n}}))}));i=(o?function(n){return Ap.apply(this,arguments)}(c):function(n){return qp.apply(this,arguments)}(c)).then((function(n){return Promise.reject(n)}))}return i.catch((function(n){return n})),i}function qp(){return(qp=w(v().mark((function n(e){return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.all(e).then((function(n){var e;return(e=[]).concat.apply(e,(0,q.Z)(n))})));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Ap(){return(Ap=w(v().mark((function n(e){var t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=0,n.abrupt("return",new Promise((function(n){e.forEach((function(r){r.then((function(r){r.errors.length&&n([r]),(t+=1)===e.length&&n([])}))}))})));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Lp(n){return Qd(n)}function jp(n,e){var t={};return e.forEach((function(e){var r=_a(n,e);t=Ca(t,e,r)})),t}function Pp(n,e){return n&&n.some((function(n){return Op(n,e)}))}function Op(n,e){return!(!n||!e||n.length!==e.length)&&n.every((function(n,t){return e[t]===n}))}function Mp(n){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&"object"===c(e.target)&&n in e.target?e.target[n]:e}function Ip(n,e,t){var r=n.length;if(e<0||e>=r||t<0||t>=r)return n;var o=n[e],a=e-t;return a>0?[].concat((0,q.Z)(n.slice(0,t)),[o],(0,q.Z)(n.slice(t,e)),(0,q.Z)(n.slice(e+1,r))):a<0?[].concat((0,q.Z)(n.slice(0,e)),(0,q.Z)(n.slice(e+1,t+1)),[o],(0,q.Z)(n.slice(t+1,r))):n}var Dp=["name"],Rp=[];function Fp(n,e,t,r,o,a){return"function"===typeof n?n(e,t,"source"in a?{source:a.source}:{}):r!==o}var Bp=function(e){m(r,e);var t=b(r);function r(e){var o;(l(this,r),(o=t.call(this,e)).state={resetCount:0},o.cancelRegisterFunc=null,o.mounted=!1,o.touched=!1,o.dirty=!1,o.validatePromise=void 0,o.prevValidating=void 0,o.errors=Rp,o.warnings=Rp,o.cancelRegister=function(){var n=o.props,e=n.preserve,t=n.isListField,r=n.name;o.cancelRegisterFunc&&o.cancelRegisterFunc(t,e,Lp(r)),o.cancelRegisterFunc=null},o.getNamePath=function(){var n=o.props,e=n.name,t=n.fieldContext.prefixName,r=void 0===t?[]:t;return void 0!==e?[].concat((0,q.Z)(r),(0,q.Z)(e)):[]},o.getRules=function(){var n=o.props,e=n.rules,t=void 0===e?[]:e,r=n.fieldContext;return t.map((function(n){return"function"===typeof n?n(r):n}))},o.refresh=function(){o.mounted&&o.setState((function(n){return{resetCount:n.resetCount+1}}))},o.triggerMetaEvent=function(n){var e=o.props.onMetaChange;null===e||void 0===e||e(Wt(Wt({},o.getMeta()),{},{destroy:n}))},o.onStoreChange=function(n,e,t){var r=o.props,a=r.shouldUpdate,i=r.dependencies,s=void 0===i?[]:i,l=r.onReset,c=t.store,u=o.getNamePath(),d=o.getValue(n),p=o.getValue(c),f=e&&Pp(e,u);switch("valueUpdate"===t.type&&"external"===t.source&&d!==p&&(o.touched=!0,o.dirty=!0,o.validatePromise=null,o.errors=Rp,o.warnings=Rp,o.triggerMetaEvent()),t.type){case"reset":if(!e||f)return o.touched=!1,o.dirty=!1,o.validatePromise=void 0,o.errors=Rp,o.warnings=Rp,o.triggerMetaEvent(),null===l||void 0===l||l(),void o.refresh();break;case"remove":if(a)return void o.reRender();break;case"setField":if(f){var m=t.data;return"touched"in m&&(o.touched=m.touched),"validating"in m&&!("originRCField"in m)&&(o.validatePromise=m.validating?Promise.resolve([]):null),"errors"in m&&(o.errors=m.errors||Rp),"warnings"in m&&(o.warnings=m.warnings||Rp),o.dirty=!0,o.triggerMetaEvent(),void o.reRender()}if(a&&!u.length&&Fp(a,n,c,d,p,t))return void o.reRender();break;case"dependenciesUpdate":if(s.map(Lp).some((function(n){return Pp(t.relatedFields,n)})))return void o.reRender();break;default:if(f||(!s.length||u.length||a)&&Fp(a,n,c,d,p,t))return void o.reRender()}!0===a&&o.reRender()},o.validateRules=function(n){var e=o.getNamePath(),t=o.getValue(),r=n||{},a=r.triggerName,i=r.validateOnly,s=void 0!==i&&i,l=Promise.resolve().then((function(){if(!o.mounted)return[];var r=o.props,i=r.validateFirst,s=void 0!==i&&i,c=r.messageVariables,u=o.getRules();a&&(u=u.filter((function(n){return n})).filter((function(n){var e=n.validateTrigger;return!e||Qd(e).includes(a)})));var d=Tp(e,t,u,n,s,c);return d.catch((function(n){return n})).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rp;if(o.validatePromise===l){var e;o.validatePromise=null;var t=[],r=[];null===(e=n.forEach)||void 0===e||e.call(n,(function(n){var e=n.rule.warningOnly,o=n.errors,a=void 0===o?Rp:o;e?r.push.apply(r,(0,q.Z)(a)):t.push.apply(t,(0,q.Z)(a))})),o.errors=t,o.warnings=r,o.triggerMetaEvent(),o.reRender()}})),d}));return s||(o.validatePromise=l,o.dirty=!0,o.errors=Rp,o.warnings=Rp,o.triggerMetaEvent(),o.reRender()),l},o.isFieldValidating=function(){return!!o.validatePromise},o.isFieldTouched=function(){return o.touched},o.isFieldDirty=function(){return!(!o.dirty&&void 0===o.props.initialValue)||void 0!==(0,o.props.fieldContext.getInternalHooks(Gd).getInitialValue)(o.getNamePath())},o.getErrors=function(){return o.errors},o.getWarnings=function(){return o.warnings},o.isListField=function(){return o.props.isListField},o.isList=function(){return o.props.isList},o.isPreserve=function(){return o.props.preserve},o.getMeta=function(){return o.prevValidating=o.isFieldValidating(),{touched:o.isFieldTouched(),validating:o.prevValidating,errors:o.errors,warnings:o.warnings,name:o.getNamePath(),validated:null===o.validatePromise}},o.getOnlyChild=function(e){if("function"===typeof e){var t=o.getMeta();return Wt(Wt({},o.getOnlyChild(e(o.getControlled(),t,o.props.fieldContext))),{},{isFunction:!0})}var r=qs(e);return 1===r.length&&n.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},o.getValue=function(n){var e=o.props.fieldContext.getFieldsValue,t=o.getNamePath();return _a(n||e(!0),t)},o.getControlled=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=o.props,t=e.trigger,r=e.validateTrigger,a=e.getValueFromEvent,i=e.normalize,s=e.valuePropName,l=e.getValueProps,c=e.fieldContext,u=void 0!==r?r:c.validateTrigger,d=o.getNamePath(),p=c.getInternalHooks,f=c.getFieldsValue,m=p(Gd).dispatch,h=o.getValue(),g=l||function(n){return k({},s,n)},y=n[t],b=Wt(Wt({},n),g(h));return b[t]=function(){var n;o.touched=!0,o.dirty=!0,o.triggerMetaEvent();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n=a?a.apply(void 0,t):Mp.apply(void 0,[s].concat(t)),i&&(n=i(n,h,f(!0))),m({type:"updateValue",namePath:d,value:n}),y&&y.apply(void 0,t)},Qd(u||[]).forEach((function(n){var e=b[n];b[n]=function(){e&&e.apply(void 0,arguments);var t=o.props.rules;t&&t.length&&m({type:"validateField",namePath:d,triggerName:n})}})),b},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(Gd).initEntityValue)(y(o));return o}return p(r,[{key:"componentDidMount",value:function(){var n=this.props,e=n.shouldUpdate,t=n.fieldContext;if(this.mounted=!0,t){var r=(0,t.getInternalHooks)(Gd).registerField;this.cancelRegisterFunc=r(this)}!0===e&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,r=this.props.children,o=this.getOnlyChild(r),a=o.child;return o.isFunction?e=a:n.isValidElement(a)?e=n.cloneElement(a,this.getControlled(a.props)):(nr(!a,"`children` of Field is not validate ReactElement."),e=a),n.createElement(n.Fragment,{key:t},e)}}]),r}(n.Component);Bp.contextType=Jd,Bp.defaultProps={trigger:"onChange",valuePropName:"value"};var zp=function(e){var t=e.name,r=at(e,Dp),o=n.useContext(Jd),a=n.useContext(Wd),i=void 0!==t?Lp(t):void 0,s="keep";return r.isListField||(s="_".concat((i||[]).join("_"))),n.createElement(Bp,rt({key:s,name:i,isListField:!!a},r,{fieldContext:o}))},Up=function(e){var t=e.name,r=e.initialValue,o=e.children,a=e.rules,i=e.validateTrigger,s=e.isListField,l=n.useContext(Jd),c=n.useContext(Wd),u=n.useRef({keys:[],id:0}).current,d=n.useMemo((function(){var n=Lp(l.prefixName)||[];return[].concat((0,q.Z)(n),(0,q.Z)(Lp(t)))}),[l.prefixName,t]),p=n.useMemo((function(){return Wt(Wt({},l),{},{prefixName:d})}),[l,d]),f=n.useMemo((function(){return{getKey:function(n){var e=d.length,t=n[e];return[u.keys[t],n.slice(e+1)]}}}),[d]);if("function"!==typeof o)return nr(!1,"Form.List only accepts function as children."),null;return n.createElement(Wd.Provider,{value:f},n.createElement(Jd.Provider,{value:p},n.createElement(zp,{name:[],shouldUpdate:function(n,e,t){return"internal"!==t.source&&n!==e},rules:a,validateTrigger:i,initialValue:r,isList:!0,isListField:null!==s&&void 0!==s?s:!!c},(function(n,e){var t=n.value,r=void 0===t?[]:t,a=n.onChange,i=l.getFieldValue,s=function(){return i(d||[])||[]},c={add:function(n,e){var t=s();e>=0&&e<=t.length?(u.keys=[].concat((0,q.Z)(u.keys.slice(0,e)),[u.id],(0,q.Z)(u.keys.slice(e))),a([].concat((0,q.Z)(t.slice(0,e)),[n],(0,q.Z)(t.slice(e))))):(u.keys=[].concat((0,q.Z)(u.keys),[u.id]),a([].concat((0,q.Z)(t),[n]))),u.id+=1},remove:function(n){var e=s(),t=new Set(Array.isArray(n)?n:[n]);t.size<=0||(u.keys=u.keys.filter((function(n,e){return!t.has(e)})),a(e.filter((function(n,e){return!t.has(e)}))))},move:function(n,e){if(n!==e){var t=s();n<0||n>=t.length||e<0||e>=t.length||(u.keys=Ip(u.keys,n,e),a(Ip(t,n,e)))}}},p=r||[];return Array.isArray(p)||(p=[]),o(p.map((function(n,e){var t=u.keys[e];return void 0===t&&(u.keys[e]=u.id,t=u.keys[e],u.id+=1),{name:e,key:t,isListField:!0}})),c,e)}))))};var Hp="__@field_split__";function Gp(n){return n.map((function(n){return"".concat(c(n),":").concat(n)})).join(Hp)}var Vp=function(){function n(){l(this,n),this.kvs=new Map}return p(n,[{key:"set",value:function(n,e){this.kvs.set(Gp(n),e)}},{key:"get",value:function(n){return this.kvs.get(Gp(n))}},{key:"update",value:function(n,e){var t=e(this.get(n));t?this.set(n,t):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(Gp(n))}},{key:"map",value:function(n){return(0,q.Z)(this.kvs.entries()).map((function(e){var t=s(e,2),r=t[0],o=t[1],a=r.split(Hp);return n({key:a.map((function(n){var e=s(n.match(/^([^:]*):(.*)$/),3),t=e[1],r=e[2];return"number"===t?Number(r):r})),value:o})}))}},{key:"toJSON",value:function(){var n={};return this.map((function(e){var t=e.key,r=e.value;return n[t.join(".")]=r,null})),n}}]),n}(),Jp=Vp,Wp=["name"],Qp=p((function n(e){var t=this;l(this,n),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldWarning:t.getFieldWarning,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,_init:!0,getInternalHooks:t.getInternalHooks}},this.getInternalHooks=function(n){return n===Gd?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,destroyForm:t.destroyForm,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve,getInitialValue:t.getInitialValue,registerWatch:t.registerWatch}):(nr(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(n){t.subscribable=n},this.prevWithoutPreserves=null,this.setInitialValues=function(n,e){if(t.initialValues=n||{},e){var r,o=qa(n,t.store);null===(r=t.prevWithoutPreserves)||void 0===r||r.map((function(e){var t=e.key;o=Ca(o,t,_a(n,t))})),t.prevWithoutPreserves=null,t.updateStore(o)}},this.destroyForm=function(){var n=new Jp;t.getFieldEntities(!0).forEach((function(e){t.isMergedPreserve(e.isPreserve())||n.set(e.getNamePath(),!0)})),t.prevWithoutPreserves=n},this.getInitialValue=function(n){var e=_a(t.initialValues,n);return n.length?qa(e):e},this.setCallbacks=function(n){t.callbacks=n},this.setValidateMessages=function(n){t.validateMessages=n},this.setPreserve=function(n){t.preserve=n},this.watchList=[],this.registerWatch=function(n){return t.watchList.push(n),function(){t.watchList=t.watchList.filter((function(e){return e!==n}))}},this.notifyWatch=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.watchList.length){var e=t.getFieldsValue(),r=t.getFieldsValue(!0);t.watchList.forEach((function(t){t(e,r,n)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(n){t.store=n},this.getFieldEntities=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t.fieldEntities.filter((function(n){return n.getNamePath().length})):t.fieldEntities},this.getFieldsMap=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=new Jp;return t.getFieldEntities(n).forEach((function(n){var t=n.getNamePath();e.set(t,n)})),e},this.getFieldEntitiesForNamePathList=function(n){if(!n)return t.getFieldEntities(!0);var e=t.getFieldsMap(!0);return n.map((function(n){var t=Lp(n);return e.get(t)||{INVALIDATE_NAME_PATH:Lp(n)}}))},this.getFieldsValue=function(n,e){if(t.warningUnhooked(),!0===n&&!e)return t.store;var r=t.getFieldEntitiesForNamePathList(Array.isArray(n)?n:null),o=[];return r.forEach((function(t){var r,a="INVALIDATE_NAME_PATH"in t?t.INVALIDATE_NAME_PATH:t.getNamePath();if(n||!(null===(r=t.isListField)||void 0===r?void 0:r.call(t)))if(e){var i="getMeta"in t?t.getMeta():null;e(i)&&o.push(a)}else o.push(a)})),jp(t.store,o.map(Lp))},this.getFieldValue=function(n){t.warningUnhooked();var e=Lp(n);return _a(t.store,e)},this.getFieldsError=function(n){return t.warningUnhooked(),t.getFieldEntitiesForNamePathList(n).map((function(e,t){return e&&!("INVALIDATE_NAME_PATH"in e)?{name:e.getNamePath(),errors:e.getErrors(),warnings:e.getWarnings()}:{name:Lp(n[t]),errors:[],warnings:[]}}))},this.getFieldError=function(n){t.warningUnhooked();var e=Lp(n);return t.getFieldsError([e])[0].errors},this.getFieldWarning=function(n){t.warningUnhooked();var e=Lp(n);return t.getFieldsError([e])[0].warnings},this.isFieldsTouched=function(){t.warningUnhooked();for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];var o,a=e[0],i=e[1],s=!1;0===e.length?o=null:1===e.length?Array.isArray(a)?(o=a.map(Lp),s=!1):(o=null,s=a):(o=a.map(Lp),s=i);var l=t.getFieldEntities(!0),c=function(n){return n.isFieldTouched()};if(!o)return s?l.every(c):l.some(c);var u=new Jp;o.forEach((function(n){u.set(n,[])})),l.forEach((function(n){var e=n.getNamePath();o.forEach((function(t){t.every((function(n,t){return e[t]===n}))&&u.update(t,(function(e){return[].concat((0,q.Z)(e),[n])}))}))}));var d=function(n){return n.some(c)},p=u.map((function(n){return n.value}));return s?p.every(d):p.some(d)},this.isFieldTouched=function(n){return t.warningUnhooked(),t.isFieldsTouched([n])},this.isFieldsValidating=function(n){t.warningUnhooked();var e=t.getFieldEntities();if(!n)return e.some((function(n){return n.isFieldValidating()}));var r=n.map(Lp);return e.some((function(n){var e=n.getNamePath();return Pp(r,e)&&n.isFieldValidating()}))},this.isFieldValidating=function(n){return t.warningUnhooked(),t.isFieldsValidating([n])},this.resetWithFieldInitialValue=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new Jp,r=t.getFieldEntities(!0);r.forEach((function(n){var t=n.props.initialValue,r=n.getNamePath();if(void 0!==t){var o=e.get(r)||new Set;o.add({entity:n,value:t}),e.set(r,o)}}));var o;n.entities?o=n.entities:n.namePathList?(o=[],n.namePathList.forEach((function(n){var t,r=e.get(n);r&&(t=o).push.apply(t,(0,q.Z)((0,q.Z)(r).map((function(n){return n.entity}))))}))):o=r,o.forEach((function(r){if(void 0!==r.props.initialValue){var o=r.getNamePath();if(void 0!==t.getInitialValue(o))nr(!1,"Form already set 'initialValues' with path '".concat(o.join("."),"'. Field can not overwrite it."));else{var a=e.get(o);if(a&&a.size>1)nr(!1,"Multiple Field with path '".concat(o.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var i=t.getFieldValue(o);n.skipExist&&void 0!==i||t.updateStore(Ca(t.store,o,(0,q.Z)(a)[0].value))}}}}))},this.resetFields=function(n){t.warningUnhooked();var e=t.store;if(!n)return t.updateStore(qa(t.initialValues)),t.resetWithFieldInitialValue(),t.notifyObservers(e,null,{type:"reset"}),void t.notifyWatch();var r=n.map(Lp);r.forEach((function(n){var e=t.getInitialValue(n);t.updateStore(Ca(t.store,n,e))})),t.resetWithFieldInitialValue({namePathList:r}),t.notifyObservers(e,r,{type:"reset"}),t.notifyWatch(r)},this.setFields=function(n){t.warningUnhooked();var e=t.store,r=[];n.forEach((function(n){var o=n.name,a=at(n,Wp),i=Lp(o);r.push(i),"value"in a&&t.updateStore(Ca(t.store,i,a.value)),t.notifyObservers(e,[i],{type:"setField",data:n})})),t.notifyWatch(r)},this.getFields=function(){return t.getFieldEntities(!0).map((function(n){var e=n.getNamePath(),r=Wt(Wt({},n.getMeta()),{},{name:e,value:t.getFieldValue(e)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(n){var e=n.props.initialValue;if(void 0!==e){var r=n.getNamePath();void 0===_a(t.store,r)&&t.updateStore(Ca(t.store,r,e))}},this.isMergedPreserve=function(n){var e=void 0!==n?n:t.preserve;return null===e||void 0===e||e},this.registerField=function(n){t.fieldEntities.push(n);var e=n.getNamePath();if(t.notifyWatch([e]),void 0!==n.props.initialValue){var r=t.store;t.resetWithFieldInitialValue({entities:[n],skipExist:!0}),t.notifyObservers(r,[n.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t.fieldEntities=t.fieldEntities.filter((function(e){return e!==n})),!t.isMergedPreserve(o)&&(!r||a.length>1)){var i=r?void 0:t.getInitialValue(e);if(e.length&&t.getFieldValue(e)!==i&&t.fieldEntities.every((function(n){return!Op(n.getNamePath(),e)}))){var s=t.store;t.updateStore(Ca(s,e,i,!0)),t.notifyObservers(s,[e],{type:"remove"}),t.triggerDependenciesUpdate(s,e)}}t.notifyWatch([e])}},this.dispatch=function(n){switch(n.type){case"updateValue":var e=n.namePath,r=n.value;t.updateValue(e,r);break;case"validateField":var o=n.namePath,a=n.triggerName;t.validateFields([o],{triggerName:a})}},this.notifyObservers=function(n,e,r){if(t.subscribable){var o=Wt(Wt({},r),{},{store:t.getFieldsValue(!0)});t.getFieldEntities().forEach((function(t){(0,t.onStoreChange)(n,e,o)}))}else t.forceRootUpdate()},this.triggerDependenciesUpdate=function(n,e){var r=t.getDependencyChildrenFields(e);return r.length&&t.validateFields(r),t.notifyObservers(n,r,{type:"dependenciesUpdate",relatedFields:[e].concat((0,q.Z)(r))}),r},this.updateValue=function(n,e){var r=Lp(n),o=t.store;t.updateStore(Ca(t.store,r,e)),t.notifyObservers(o,[r],{type:"valueUpdate",source:"internal"}),t.notifyWatch([r]);var a=t.triggerDependenciesUpdate(o,r),i=t.callbacks.onValuesChange;i&&i(jp(t.store,[r]),t.getFieldsValue());t.triggerOnFieldsChange([r].concat((0,q.Z)(a)))},this.setFieldsValue=function(n){t.warningUnhooked();var e=t.store;if(n){var r=qa(t.store,n);t.updateStore(r)}t.notifyObservers(e,null,{type:"valueUpdate",source:"external"}),t.notifyWatch()},this.setFieldValue=function(n,e){t.setFields([{name:n,value:e}])},this.getDependencyChildrenFields=function(n){var e=new Set,r=[],o=new Jp;t.getFieldEntities().forEach((function(n){(n.props.dependencies||[]).forEach((function(e){var t=Lp(e);o.update(t,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return e.add(n),e}))}))}));return function n(t){(o.get(t)||new Set).forEach((function(t){if(!e.has(t)){e.add(t);var o=t.getNamePath();t.isFieldDirty()&&o.length&&(r.push(o),n(o))}}))}(n),r},this.triggerOnFieldsChange=function(n,e){var r=t.callbacks.onFieldsChange;if(r){var o=t.getFields();if(e){var a=new Jp;e.forEach((function(n){var e=n.name,t=n.errors;a.set(e,t)})),o.forEach((function(n){n.errors=a.get(n.name)||n.errors}))}var i=o.filter((function(e){var t=e.name;return Pp(n,t)}));i.length&&r(i,o)}},this.validateFields=function(n,e){var r,o;t.warningUnhooked(),Array.isArray(n)||"string"===typeof n||"string"===typeof e?(r=n,o=e):o=n;var a=!!r,i=a?r.map(Lp):[],s=[],l=String(Date.now()),c=new Set;t.getFieldEntities(!0).forEach((function(n){var e;if(a||i.push(n.getNamePath()),(null===(e=o)||void 0===e?void 0:e.recursive)&&a){var u=n.getNamePath();u.every((function(n,e){return r[e]===n||void 0===r[e]}))&&i.push(u)}if(n.props.rules&&n.props.rules.length){var d=n.getNamePath();if(c.add(d.join(l)),!a||Pp(i,d)){var p=n.validateRules(Wt({validateMessages:Wt(Wt({},kp),t.validateMessages)},o));s.push(p.then((function(){return{name:d,errors:[],warnings:[]}})).catch((function(n){var e,t=[],r=[];return null===(e=n.forEach)||void 0===e||e.call(n,(function(n){var e=n.rule.warningOnly,o=n.errors;e?r.push.apply(r,(0,q.Z)(o)):t.push.apply(t,(0,q.Z)(o))})),t.length?Promise.reject({name:d,errors:t,warnings:r}):{name:d,errors:t,warnings:r}})))}}}));var u=function(n){var e=!1,t=n.length,r=[];return n.length?new Promise((function(o,a){n.forEach((function(n,i){n.catch((function(n){return e=!0,n})).then((function(n){t-=1,r[i]=n,t>0||(e&&a(r),o(r))}))}))})):Promise.resolve([])}(s);t.lastValidatePromise=u,u.catch((function(n){return n})).then((function(n){var e=n.map((function(n){return n.name}));t.notifyObservers(t.store,e,{type:"validateFinish"}),t.triggerOnFieldsChange(e,n)}));var d=u.then((function(){return t.lastValidatePromise===u?Promise.resolve(t.getFieldsValue(i)):Promise.reject([])})).catch((function(n){var e=n.filter((function(n){return n&&n.errors.length}));return Promise.reject({values:t.getFieldsValue(i),errorFields:e,outOfDate:t.lastValidatePromise!==u})}));d.catch((function(n){return n}));var p=i.filter((function(n){return c.has(n.join(l))}));return t.triggerOnFieldsChange(p),d},this.submit=function(){t.warningUnhooked(),t.validateFields().then((function(n){var e=t.callbacks.onFinish;if(e)try{e(n)}catch(r){console.error(r)}})).catch((function(n){var e=t.callbacks.onFinishFailed;e&&e(n)}))},this.forceRootUpdate=e}));var Kp=function(e){var t=n.useRef(),r=s(n.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var o=new Qp((function(){r({})}));t.current=o.getForm()}return[t.current]},$p=n.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Xp=$p,Zp=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Yp=function(e,t){var r=e.name,o=e.initialValues,a=e.fields,i=e.form,l=e.preserve,u=e.children,d=e.component,p=void 0===d?"form":d,f=e.validateMessages,m=e.validateTrigger,h=void 0===m?"onChange":m,g=e.onValuesChange,y=e.onFieldsChange,b=e.onFinish,v=e.onFinishFailed,x=at(e,Zp),w=n.useContext(Xp),k=s(Kp(i),1)[0],S=k.getInternalHooks(Gd),_=S.useSubscribe,E=S.setInitialValues,C=S.setCallbacks,N=S.setValidateMessages,T=S.setPreserve,A=S.destroyForm;n.useImperativeHandle(t,(function(){return k})),n.useEffect((function(){return w.registerForm(r,k),function(){w.unregisterForm(r)}}),[w,k,r]),N(Wt(Wt({},w.validateMessages),f)),C({onValuesChange:g,onFieldsChange:function(n){if(w.triggerFormChange(r,n),y){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];y.apply(void 0,[n].concat(t))}},onFinish:function(n){w.triggerFormFinish(r,n),b&&b(n)},onFinishFailed:v}),T(l);var L,j=n.useRef(null);E(o,!j.current),j.current||(j.current=!0),n.useEffect((function(){return A}),[]);var P="function"===typeof u;P?L=u(k.getFieldsValue(!0),k):L=u;_(!P);var O=n.useRef();n.useEffect((function(){(function(n,e){if(n===e)return!0;if(!n&&e||n&&!e)return!1;if(!n||!e||"object"!==c(n)||"object"!==c(e))return!1;var t=Object.keys(n),r=Object.keys(e),o=new Set([].concat(t,r));return(0,q.Z)(o).every((function(t){var r=n[t],o=e[t];return"function"===typeof r&&"function"===typeof o||r===o}))})(O.current||[],a||[])||k.setFields(a||[]),O.current=a}),[a,k]);var M=n.useMemo((function(){return Wt(Wt({},k),{},{validateTrigger:h})}),[k,h]),I=n.createElement(Wd.Provider,{value:null},n.createElement(Jd.Provider,{value:M},L));return!1===p?I:n.createElement(p,rt({},x,{onSubmit:function(n){n.preventDefault(),n.stopPropagation(),k.submit()},onReset:function(n){var e;n.preventDefault(),k.resetFields(),null===(e=x.onReset)||void 0===e||e.call(x,n)}}),I)};function nf(n){try{return JSON.stringify(n)}catch(e){return Math.random()}}var ef=function(){};var tf=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=t[0],a=void 0===o?[]:o,i=t[1],l=void 0===i?{}:i,c=function(n){return n&&!!n._init}(l)?{form:l}:l,u=c.form,d=s((0,n.useState)(),2),p=d[0],f=d[1],m=(0,n.useMemo)((function(){return nf(p)}),[p]),h=(0,n.useRef)(m);h.current=m;var g=(0,n.useContext)(Jd),y=u||g,b=y&&y._init,v=Lp(a),x=(0,n.useRef)(v);return x.current=v,ef(v),(0,n.useEffect)((function(){if(b){var n=y.getFieldsValue,e=(0,(0,y.getInternalHooks)(Gd).registerWatch)((function(n,e){var t=_a(c.preserve?e:n,x.current),r=nf(t);h.current!==r&&(h.current=r,f(t))})),t=_a(c.preserve?n(!0):n(),x.current);return f(t),e}}),[b]),p},rf=n.forwardRef(Yp);rf.FormProvider=function(e){var t=e.validateMessages,r=e.onFormChange,o=e.onFormFinish,a=e.children,i=n.useContext($p),s=n.useRef({});return n.createElement($p.Provider,{value:Wt(Wt({},i),{},{validateMessages:Wt(Wt({},i.validateMessages),t),triggerFormChange:function(n,e){r&&r(n,{changedFields:e,forms:s.current}),i.triggerFormChange(n,e)},triggerFormFinish:function(n,e){o&&o(n,{values:e,forms:s.current}),i.triggerFormFinish(n,e)},registerForm:function(n,e){n&&(s.current=Wt(Wt({},s.current),{},k({},n,e))),i.registerForm(n,e)},unregisterForm:function(n){var e=Wt({},s.current);delete e[n],s.current=e,i.unregisterForm(n)}})},a)},rf.Field=zp,rf.List=Up,rf.useForm=Kp,rf.useWatch=tf;var of=n.createContext({}),af=function(e){var t=e.children,r=e.status,o=e.override,a=(0,n.useContext)(of),i=(0,n.useMemo)((function(){var n=Object.assign({},a);return o&&delete n.isFormItemInput,r&&(delete n.status,delete n.hasFeedback,delete n.feedbackIcon),n}),[r,o,a]);return n.createElement(of.Provider,{value:i},t)},sf=function(n){return{borderColor:n.inputBorderHoverColor,borderInlineEndWidth:n.lineWidth}},lf=function(n){return{borderColor:n.inputBorderHoverColor,boxShadow:"0 0 0 ".concat(n.controlOutlineWidth,"px ").concat(n.controlOutline),borderInlineEndWidth:n.lineWidth,outline:0}},cf=function(n){return{color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},sf(ei(n,{inputBorderHoverColor:n.colorBorder})))}},uf=function(n){var e=n.inputPaddingVerticalLG,t=n.fontSizeLG,r=n.lineHeightLG,o=n.borderRadiusLG,a=n.inputPaddingHorizontalLG;return{padding:"".concat(e,"px ").concat(a,"px"),fontSize:t,lineHeight:r,borderRadius:o}},df=function(n){return{padding:"".concat(n.inputPaddingVerticalSM,"px ").concat(n.controlPaddingHorizontalSM-1,"px"),borderRadius:n.borderRadiusSM}},pf=function(n,e){var t,r=n.componentCls,o=n.colorError,a=n.colorWarning,i=n.colorErrorOutline,s=n.colorWarningOutline,l=n.colorErrorBorderHover,c=n.colorWarningBorderHover;return k(t={},"&-status-error:not(".concat(e,"-disabled):not(").concat(e,"-borderless)").concat(e),k({borderColor:o,"&:hover":{borderColor:l},"&:focus, &-focused":Object.assign({},lf(ei(n,{inputBorderActiveColor:o,inputBorderHoverColor:o,controlOutline:i})))},"".concat(r,"-prefix, ").concat(r,"-suffix"),{color:o})),k(t,"&-status-warning:not(".concat(e,"-disabled):not(").concat(e,"-borderless)").concat(e),k({borderColor:a,"&:hover":{borderColor:c},"&:focus, &-focused":Object.assign({},lf(ei(n,{inputBorderActiveColor:a,inputBorderHoverColor:a,controlOutline:s})))},"".concat(r,"-prefix, ").concat(r,"-suffix"),{color:a})),t},ff=function(n){return Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:"".concat(n.inputPaddingVertical,"px ").concat(n.inputPaddingHorizontal,"px"),color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,backgroundColor:n.colorBgContainer,backgroundImage:"none",borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:n.colorBorder,borderRadius:n.borderRadius,transition:"all ".concat(n.motionDurationMid)},{"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:n.colorTextPlaceholder,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),{"&:hover":Object.assign({},sf(n)),"&:focus, &-focused":Object.assign({},lf(n)),"&-disabled, &[disabled]":Object.assign({},cf(n)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:n.controlHeight,lineHeight:n.lineHeight,verticalAlign:"bottom",transition:"all ".concat(n.motionDurationSlow,", height 0s"),resize:"vertical"},"&-lg":Object.assign({},uf(n)),"&-sm":Object.assign({},df(n)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}})},mf=function(n){var e,t=n.componentCls,r=n.controlHeightSM,o=(r-2*n.lineWidth-16)/2;return k({},t,Object.assign(Object.assign(Object.assign(Object.assign({},Aa(n)),ff(n)),pf(n,t)),{'&[type="color"]':(e={height:n.controlHeight},k(e,"&".concat(t,"-lg"),{height:n.controlHeightLG}),k(e,"&".concat(t,"-sm"),{height:r,paddingTop:o,paddingBottom:o}),e),'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}}))},hf=function(n){var e,t=n.componentCls,r=n.inputAffixPadding,o=n.colorTextDescription,a=n.motionDurationSlow,i=n.colorIcon,s=n.colorIconHover,l=n.iconCls;return k({},"".concat(t,"-affix-wrapper"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ff(n)),(k(e={display:"inline-flex"},"&:not(".concat(t,"-affix-wrapper-disabled):hover"),Object.assign(Object.assign({},sf(n)),k({zIndex:1},"".concat(t,"-search-with-button &"),{zIndex:0}))),k(e,"&-focused, &:focus",{zIndex:1}),k(e,"&-disabled",k({},"".concat(t,"[disabled]"),{background:"transparent"})),k(e,"> input".concat(t),{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}}),k(e,"&::before",{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}),k(e,"".concat(t),{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:n.paddingXS}},"&-show-count-suffix":{color:o},"&-show-count-has-suffix":{marginInlineEnd:n.paddingXXS},"&-prefix":{marginInlineEnd:r},"&-suffix":{marginInlineStart:r}}),e)),function(n){var e=n.componentCls;return k({},"".concat(e,"-clear-icon"),{margin:0,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:"color ".concat(n.motionDurationSlow),"&:hover":{color:n.colorTextTertiary},"&:active":{color:n.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:"0 ".concat(n.inputAffixPadding,"px")}})}(n)),k({},"".concat(l).concat(t,"-password-icon"),{color:i,cursor:"pointer",transition:"all ".concat(a),"&:hover":{color:s}})),pf(n,"".concat(t,"-affix-wrapper"))))},gf=function(n){var e,t=n.componentCls,r=n.colorError,o=n.colorWarning,a=n.borderRadiusLG,i=n.borderRadiusSM;return k({},"".concat(t,"-group"),Object.assign(Object.assign(Object.assign({},Aa(n)),function(n){var e,t,r,o,a,i,s,l=n.componentCls,c=n.antCls;return k(s={position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0},"&[class*='col-']",{paddingInlineEnd:n.paddingXS,"&:last-child":{paddingInlineEnd:0}}),k(s,"&-lg ".concat(l,", &-lg > ").concat(l,"-group-addon"),Object.assign({},uf(n))),k(s,"&-sm ".concat(l,", &-sm > ").concat(l,"-group-addon"),Object.assign({},df(n))),k(s,"&-lg ".concat(c,"-select-single ").concat(c,"-select-selector"),{height:n.controlHeightLG}),k(s,"&-sm ".concat(c,"-select-single ").concat(c,"-select-selector"),{height:n.controlHeightSM}),k(s,"> ".concat(l),{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}}),k(s,"".concat(l,"-group"),(k(r={},"&-addon, &-wrap",{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}}),k(r,"&-wrap > *",{display:"block !important"}),k(r,"&-addon",(k(t={position:"relative",padding:"0 ".concat(n.inputPaddingHorizontal,"px"),color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,textAlign:"center",backgroundColor:n.colorFillAlter,border:"".concat(n.lineWidth,"px ").concat(n.lineType," ").concat(n.colorBorder),borderRadius:n.borderRadius,transition:"all ".concat(n.motionDurationSlow),lineHeight:1},"".concat(c,"-select"),(k(e={margin:"-".concat(n.inputPaddingVertical+1,"px -").concat(n.inputPaddingHorizontal,"px")},"&".concat(c,"-select-single:not(").concat(c,"-select-customize-input)"),k({},"".concat(c,"-select-selector"),{backgroundColor:"inherit",border:"".concat(n.lineWidth,"px ").concat(n.lineType," transparent"),boxShadow:"none"})),k(e,"&-open, &-focused",k({},"".concat(c,"-select-selector"),{color:n.colorPrimary})),e)),k(t,"".concat(c,"-cascader-picker"),k({margin:"-9px -".concat(n.inputPaddingHorizontal,"px"),backgroundColor:"transparent"},"".concat(c,"-cascader-input"),{textAlign:"start",border:0,boxShadow:"none"})),t)),k(r,"&-addon:first-child",{borderInlineEnd:0}),k(r,"&-addon:last-child",{borderInlineStart:0}),r)),k(s,"".concat(l),{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":k({zIndex:1,borderInlineEndWidth:1},"".concat(l,"-search-with-button &"),{zIndex:0})}),k(s,"> ".concat(l,":first-child, ").concat(l,"-group-addon:first-child"),k({borderStartEndRadius:0,borderEndEndRadius:0},"".concat(c,"-select ").concat(c,"-select-selector"),{borderStartEndRadius:0,borderEndEndRadius:0})),k(s,"> ".concat(l,"-affix-wrapper"),(k(o={},"&:not(:first-child) ".concat(l),{borderStartStartRadius:0,borderEndStartRadius:0}),k(o,"&:not(:last-child) ".concat(l),{borderStartEndRadius:0,borderEndEndRadius:0}),o)),k(s,"> ".concat(l,":last-child, ").concat(l,"-group-addon:last-child"),k({borderStartStartRadius:0,borderEndStartRadius:0},"".concat(c,"-select ").concat(c,"-select-selector"),{borderStartStartRadius:0,borderEndStartRadius:0})),k(s,"".concat(l,"-affix-wrapper"),k({"&:not(:last-child)":k({borderStartEndRadius:0,borderEndEndRadius:0},"".concat(l,"-search &"),{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius})},"&:not(:first-child), ".concat(l,"-search &:not(:first-child)"),{borderStartStartRadius:0,borderEndStartRadius:0})),k(s,"&".concat(l,"-group-compact"),Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),(k(i={},"".concat(l,"-group-addon, ").concat(l,"-group-wrap, > ").concat(l),{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:n.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}}),k(i,"& > *",{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0}),k(i,"\n        & > ".concat(l,"-affix-wrapper,\n        & > ").concat(l,"-number-affix-wrapper,\n        & > ").concat(c,"-picker-range\n      "),{display:"inline-flex"}),k(i,"& > *:not(:last-child)",{marginInlineEnd:-n.lineWidth,borderInlineEndWidth:n.lineWidth}),k(i,"".concat(l),{float:"none"}),k(i,"& > ".concat(c,"-select > ").concat(c,"-select-selector,\n      & > ").concat(c,"-select-auto-complete ").concat(l,",\n      & > ").concat(c,"-cascader-picker ").concat(l,",\n      & > ").concat(l,"-group-wrapper ").concat(l),{borderInlineEndWidth:n.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}),k(i,"& > ".concat(c,"-select-focused"),{zIndex:1}),k(i,"& > ".concat(c,"-select > ").concat(c,"-select-arrow"),{zIndex:1}),k(i,"& > *:first-child,\n      & > ".concat(c,"-select:first-child > ").concat(c,"-select-selector,\n      & > ").concat(c,"-select-auto-complete:first-child ").concat(l,",\n      & > ").concat(c,"-cascader-picker:first-child ").concat(l),{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius}),k(i,"& > *:last-child,\n      & > ".concat(c,"-select:last-child > ").concat(c,"-select-selector,\n      & > ").concat(c,"-cascader-picker:last-child ").concat(l,",\n      & > ").concat(c,"-cascader-picker-focused:last-child ").concat(l),{borderInlineEndWidth:n.lineWidth,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius}),k(i,"& > ".concat(c,"-select-auto-complete ").concat(l),{verticalAlign:"top"}),k(i,"".concat(l,"-group-wrapper + ").concat(l,"-group-wrapper"),k({marginInlineStart:-n.lineWidth},"".concat(l,"-affix-wrapper"),{borderRadius:0})),k(i,"".concat(l,"-group-wrapper:not(:last-child)"),k({},"&".concat(l,"-search > ").concat(l,"-group"),(k(a={},"& > ".concat(l,"-group-addon > ").concat(l,"-search-button"),{borderRadius:0}),k(a,"& > ".concat(l),{borderStartStartRadius:n.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:n.borderRadius}),a))),i))),s}(n)),{"&-rtl":{direction:"rtl"},"&-wrapper":(e={display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":k({},"".concat(t,"-group-addon"),{borderRadius:a}),"&-sm":k({},"".concat(t,"-group-addon"),{borderRadius:i}),"&-status-error":k({},"".concat(t,"-group-addon"),{color:r,borderColor:r}),"&-status-warning":k({},"".concat(t,"-group-addon"),{color:o,borderColor:o}),"&-disabled":k({},"".concat(t,"-group-addon"),Object.assign({},cf(n)))},k(e,"&:not(".concat(t,"-compact-first-item):not(").concat(t,"-compact-last-item)").concat(t,"-compact-item"),k({},"".concat(t,", ").concat(t,"-group-addon"),{borderRadius:0})),k(e,"&:not(".concat(t,"-compact-last-item)").concat(t,"-compact-first-item"),k({},"".concat(t,", ").concat(t,"-group-addon"),{borderStartEndRadius:0,borderEndEndRadius:0})),k(e,"&:not(".concat(t,"-compact-first-item)").concat(t,"-compact-last-item"),k({},"".concat(t,", ").concat(t,"-group-addon"),{borderStartStartRadius:0,borderEndStartRadius:0})),e)}))},yf=function(n){var e,t,r,o=n.componentCls,a=n.antCls,i="".concat(o,"-search");return k({},i,(k(r={},"".concat(o),{"&:hover, &:focus":k({borderColor:n.colorPrimaryHover},"+ ".concat(o,"-group-addon ").concat(i,"-button:not(").concat(a,"-btn-primary)"),{borderInlineStartColor:n.colorPrimaryHover})}),k(r,"".concat(o,"-affix-wrapper"),{borderRadius:0}),k(r,"".concat(o,"-lg"),{lineHeight:n.lineHeightLG-2e-4}),k(r,"> ".concat(o,"-group"),k({},"> ".concat(o,"-group-addon:last-child"),(k(e={insetInlineStart:-1,padding:0,border:0},"".concat(i,"-button"),{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius,borderEndStartRadius:0}),k(e,"".concat(i,"-button:not(").concat(a,"-btn-primary)"),k({color:n.colorTextDescription,"&:hover":{color:n.colorPrimaryHover},"&:active":{color:n.colorPrimaryActive}},"&".concat(a,"-btn-loading::before"),{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0})),e))),k(r,"".concat(i,"-button"),{height:n.controlHeight,"&:hover, &:focus":{zIndex:1}}),k(r,"&-large ".concat(i,"-button"),{height:n.controlHeightLG}),k(r,"&-small ".concat(i,"-button"),{height:n.controlHeightSM}),k(r,"&-rtl",{direction:"rtl"}),k(r,"&".concat(o,"-compact-item"),(k(t={},"&:not(".concat(o,"-compact-last-item)"),k({},"".concat(o,"-group-addon"),k({},"".concat(o,"-search-button"),{marginInlineEnd:-n.lineWidth,borderRadius:0}))),k(t,"&:not(".concat(o,"-compact-first-item)"),k({},"".concat(o,",").concat(o,"-affix-wrapper"),{borderRadius:0})),k(t,"> ".concat(o,"-group-addon ").concat(o,"-search-button,\n        > ").concat(o,",\n        ").concat(o,"-affix-wrapper"),{"&:hover,&:focus,&:active":{zIndex:2}}),k(t,"> ".concat(o,"-affix-wrapper-focused"),{zIndex:2}),t)),r))};var bf=function(n){var e,t,r,o,a=n.componentCls,i=n.paddingLG,s="".concat(a,"-textarea");return k({},s,(o={position:"relative","&-show-count":(e={},k(e,"> ".concat(a),{height:"100%"}),k(e,"".concat(a,"-data-count"),{position:"absolute",bottom:-n.fontSize*n.lineHeight,insetInlineEnd:0,color:n.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}),e),"&-allow-clear":k({},"> ".concat(a),{paddingInlineEnd:i})},k(o,"&-affix-wrapper".concat(s,"-has-feedback"),k({},"".concat(a),{paddingInlineEnd:i})),k(o,"&-affix-wrapper".concat(a,"-affix-wrapper"),(k(r={padding:0},"> textarea".concat(a),{fontSize:"inherit",border:"none",outline:"none","&:focus":{boxShadow:"none !important"}}),k(r,"".concat(a,"-suffix"),(k(t={margin:0,"> *:not(:last-child)":{marginInline:0}},"".concat(a,"-clear-icon"),{position:"absolute",insetInlineEnd:n.paddingXS,insetBlockStart:n.paddingXS}),k(t,"".concat(s,"-suffix"),{position:"absolute",top:0,insetInlineEnd:n.inputPaddingHorizontal,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}),t)),r)),o))},vf=oi("Input",(function(n){var e=function(n){return ei(n,{inputAffixPadding:n.paddingXXS,inputPaddingVertical:Math.max(Math.round((n.controlHeight-n.fontSize*n.lineHeight)/2*10)/10-n.lineWidth,3),inputPaddingVerticalLG:Math.ceil((n.controlHeightLG-n.fontSizeLG*n.lineHeightLG)/2*10)/10-n.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((n.controlHeightSM-n.fontSize*n.lineHeight)/2*10)/10-n.lineWidth,0),inputPaddingHorizontal:n.paddingSM-n.lineWidth,inputPaddingHorizontalSM:n.paddingXS-n.lineWidth,inputPaddingHorizontalLG:n.controlPaddingHorizontal-n.lineWidth,inputBorderHoverColor:n.colorPrimaryHover,inputBorderActiveColor:n.colorPrimaryHover})}(n);return[mf(e),bf(e),hf(e),gf(e),yf(e),el(e)]})),xf=function(e){var t,r=(0,n.useContext)(Fr),o=r.getPrefixCls,a=r.direction,i=e.prefixCls,l=e.className,c=o("input-group",i),u=o("input"),d=s(vf(u),2),p=d[0],f=d[1],m=st()(c,(k(t={},"".concat(c,"-lg"),"large"===e.size),k(t,"".concat(c,"-sm"),"small"===e.size),k(t,"".concat(c,"-compact"),e.compact),k(t,"".concat(c,"-rtl"),"rtl"===a),t),f,l),h=(0,n.useContext)(of),g=(0,n.useMemo)((function(){return Object.assign(Object.assign({},h),{isFormItemInput:!1})}),[h]);return p(n.createElement("span",{className:m,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},n.createElement(of.Provider,{value:g},e.children)))},wf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},kf=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:wf}))};var Sf=n.forwardRef(kf);function _f(n){return!(!n.addonBefore&&!n.addonAfter)}function Ef(n){return!!(n.prefix||n.suffix||n.allowClear)}function Cf(n,e,t,r){if(t){var o=e;if("click"===e.type){var a=n.cloneNode(!0);return o=Object.create(e,{target:{value:a},currentTarget:{value:a}}),a.value="",void t(o)}if(void 0!==r)return o=Object.create(e,{target:{value:n},currentTarget:{value:n}}),n.value=r,void t(o);t(o)}}function Nf(n){return"undefined"===typeof n||null===n?"":String(n)}var Tf=function(e){var t,r,o=e.inputElement,a=e.prefixCls,i=e.prefix,s=e.suffix,l=e.addonBefore,u=e.addonAfter,d=e.className,p=e.style,f=e.disabled,m=e.readOnly,h=e.focused,g=e.triggerFocus,y=e.allowClear,b=e.value,v=e.handleReset,x=e.hidden,w=e.classes,S=e.classNames,_=e.dataAttrs,E=e.styles,C=e.components,N=(null===C||void 0===C?void 0:C.affixWrapper)||"span",T=(null===C||void 0===C?void 0:C.groupWrapper)||"span",q=(null===C||void 0===C?void 0:C.wrapper)||"span",A=(null===C||void 0===C?void 0:C.groupAddon)||"span",L=(0,n.useRef)(null),j=(0,n.cloneElement)(o,{value:b,hidden:x,className:st()(null===(t=o.props)||void 0===t?void 0:t.className,!Ef(e)&&!_f(e)&&d)||null,style:Wt(Wt({},null===(r=o.props)||void 0===r?void 0:r.style),Ef(e)||_f(e)?{}:p)});if(Ef(e)){var P,O="".concat(a,"-affix-wrapper"),M=st()(O,(k(P={},"".concat(O,"-disabled"),f),k(P,"".concat(O,"-focused"),h),k(P,"".concat(O,"-readonly"),m),k(P,"".concat(O,"-input-with-clear-btn"),s&&y&&b),P),!_f(e)&&d,null===w||void 0===w?void 0:w.affixWrapper,null===S||void 0===S?void 0:S.affixWrapper),I=(s||y)&&n.createElement("span",{className:st()("".concat(a,"-suffix"),null===S||void 0===S?void 0:S.suffix),style:null===E||void 0===E?void 0:E.suffix},function(){var e;if(!y)return null;var t=!f&&!m&&b,r="".concat(a,"-clear-icon"),o="object"===c(y)&&null!==y&&void 0!==y&&y.clearIcon?y.clearIcon:"\u2716";return n.createElement("span",{onClick:v,onMouseDown:function(n){return n.preventDefault()},className:st()(r,(e={},k(e,"".concat(r,"-hidden"),!t),k(e,"".concat(r,"-has-suffix"),!!s),e)),role:"button",tabIndex:-1},o)}(),s);j=n.createElement(N,rt({className:M,style:_f(e)?void 0:p,hidden:!_f(e)&&x,onClick:function(n){var e;null!==(e=L.current)&&void 0!==e&&e.contains(n.target)&&(null===g||void 0===g||g())}},null===_||void 0===_?void 0:_.affixWrapper,{ref:L}),i&&n.createElement("span",{className:st()("".concat(a,"-prefix"),null===S||void 0===S?void 0:S.prefix),style:null===E||void 0===E?void 0:E.prefix},i),(0,n.cloneElement)(o,{value:b,hidden:null}),I)}if(_f(e)){var D="".concat(a,"-group"),R="".concat(D,"-addon"),F=st()("".concat(a,"-wrapper"),D,null===w||void 0===w?void 0:w.wrapper),B=st()("".concat(a,"-group-wrapper"),d,null===w||void 0===w?void 0:w.group);return n.createElement(T,{className:B,style:p,hidden:x},n.createElement(q,{className:F},l&&n.createElement(A,{className:R},l),(0,n.cloneElement)(j,{hidden:null}),u&&n.createElement(A,{className:R},u)))}return j},qf=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","classes","classNames","styles"],Af=(0,n.forwardRef)((function(e,t){var r=e.autoComplete,o=e.onChange,a=e.onFocus,i=e.onBlur,l=e.onPressEnter,u=e.onKeyDown,d=e.prefixCls,p=void 0===d?"rc-input":d,f=e.disabled,m=e.htmlSize,h=e.className,g=e.maxLength,y=e.suffix,b=e.showCount,v=e.type,x=void 0===v?"text":v,w=e.classes,S=e.classNames,_=e.styles,E=at(e,qf),C=s(Sa(e.defaultValue,{value:e.value}),2),N=C[0],T=C[1],A=s((0,n.useState)(!1),2),L=A[0],j=A[1],P=(0,n.useRef)(null),O=function(n){P.current&&function(n,e){if(n){n.focus(e);var t=(e||{}).cursor;if(t){var r=n.value.length;switch(t){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(r,r);break;default:n.setSelectionRange(0,r)}}}}(P.current,n)};(0,n.useImperativeHandle)(t,(function(){return{focus:O,blur:function(){var n;null===(n=P.current)||void 0===n||n.blur()},setSelectionRange:function(n,e,t){var r;null===(r=P.current)||void 0===r||r.setSelectionRange(n,e,t)},select:function(){var n;null===(n=P.current)||void 0===n||n.select()},input:P.current}})),(0,n.useEffect)((function(){j((function(n){return(!n||!f)&&n}))}),[f]);var M=function(n){void 0===e.value&&T(n.target.value),P.current&&Cf(P.current,n,o)},I=function(n){l&&"Enter"===n.key&&l(n),null===u||void 0===u||u(n)},D=function(n){j(!0),null===a||void 0===a||a(n)},R=function(n){j(!1),null===i||void 0===i||i(n)};return n.createElement(Tf,rt({},E,{prefixCls:p,className:h,inputElement:function(){var t=Or(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","classes","htmlSize","styles","classNames"]);return n.createElement("input",rt({autoComplete:r},t,{onChange:M,onFocus:D,onBlur:R,onKeyDown:I,className:st()(p,k({},"".concat(p,"-disabled"),f),null===S||void 0===S?void 0:S.input),style:null===_||void 0===_?void 0:_.input,ref:P,size:m,type:x}))}(),handleReset:function(n){T(""),O(),P.current&&Cf(P.current,n,o)},value:Nf(N),focused:L,triggerFocus:O,suffix:function(){var e=Number(g)>0;if(y||b){var t=Nf(N),r=(0,q.Z)(t).length,o="object"===c(b)?b.formatter({value:t,count:r,maxLength:g}):"".concat(r).concat(e?" / ".concat(g):"");return n.createElement(n.Fragment,null,!!b&&n.createElement("span",{className:st()("".concat(p,"-show-count-suffix"),k({},"".concat(p,"-show-count-has-suffix"),!!y),null===S||void 0===S?void 0:S.count),style:Wt({},null===_||void 0===_?void 0:_.count)},o),y)}return null}(),disabled:f,classes:w,classNames:S,styles:_}))})),Lf=Af;function jf(n,e,t){var r;return st()((k(r={},"".concat(n,"-status-success"),"success"===e),k(r,"".concat(n,"-status-warning"),"warning"===e),k(r,"".concat(n,"-status-error"),"error"===e),k(r,"".concat(n,"-status-validating"),"validating"===e),k(r,"".concat(n,"-has-feedback"),t),r))}var Pf=function(n,e){return e||n};function Of(e,t){var r=(0,n.useRef)([]),o=function(){r.current.push(setTimeout((function(){var n,t,r,o;(null===(n=e.current)||void 0===n?void 0:n.input)&&"password"===(null===(t=e.current)||void 0===t?void 0:t.input.getAttribute("type"))&&(null===(r=e.current)||void 0===r?void 0:r.input.hasAttribute("value"))&&(null===(o=e.current)||void 0===o||o.input.removeAttribute("value"))})))};return(0,n.useEffect)((function(){return t&&o(),function(){return r.current.forEach((function(n){n&&clearTimeout(n)}))}}),[]),o}var Mf=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t};var If=(0,n.forwardRef)((function(e,t){var r,o,a,i,l=e.prefixCls,c=e.bordered,u=void 0===c||c,d=e.status,p=e.size,f=e.disabled,m=e.onBlur,h=e.onFocus,g=e.suffix,y=e.allowClear,b=e.addonAfter,v=e.addonBefore,x=e.className,w=e.style,S=e.styles,_=e.rootClassName,E=e.onChange,C=e.classNames,N=Mf(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames"]),T=n.useContext(Fr),q=T.getPrefixCls,A=T.direction,L=T.input,j=q("input",l),P=(0,n.useRef)(null),O=s(vf(j),2),M=O[0],I=O[1],D=Ms(j,A),R=D.compactSize,F=D.compactItemClassnames,B=Ts((function(n){var e;return null!==(e=null!==p&&void 0!==p?p:R)&&void 0!==e?e:n})),z=n.useContext(Es),U=null!==f&&void 0!==f?f:z,H=(0,n.useContext)(of),G=H.status,V=H.hasFeedback,J=H.feedbackIcon,W=Pf(G,d),Q=function(n){return!!(n.prefix||n.suffix||n.allowClear)}(e)||!!V,K=(0,n.useRef)(Q);(0,n.useEffect)((function(){Q&&K.current,K.current=Q}),[Q]);var $,X=Of(P,!0),Z=(V||g)&&n.createElement(n.Fragment,null,g,V&&J);return"object"===typeof y&&(null===y||void 0===y?void 0:y.clearIcon)?$=y:y&&($={clearIcon:n.createElement(Sf,null)}),M(n.createElement(Lf,Object.assign({ref:Dr(t,P),prefixCls:j,autoComplete:null===L||void 0===L?void 0:L.autoComplete},N,{disabled:U,onBlur:function(n){X(),null===m||void 0===m||m(n)},onFocus:function(n){X(),null===h||void 0===h||h(n)},style:Object.assign(Object.assign({},null===L||void 0===L?void 0:L.style),w),styles:Object.assign(Object.assign({},null===L||void 0===L?void 0:L.styles),S),suffix:Z,allowClear:$,className:st()(x,_,F,null===L||void 0===L?void 0:L.className),onChange:function(n){X(),null===E||void 0===E||E(n)},addonAfter:b&&n.createElement(Is,null,n.createElement(af,{override:!0,status:!0},b)),addonBefore:v&&n.createElement(Is,null,n.createElement(af,{override:!0,status:!0},v)),classNames:Object.assign(Object.assign(Object.assign({},C),null===L||void 0===L?void 0:L.classNames),{input:st()((r={},k(r,"".concat(j,"-sm"),"small"===B),k(r,"".concat(j,"-lg"),"large"===B),k(r,"".concat(j,"-rtl"),"rtl"===A),k(r,"".concat(j,"-borderless"),!u),r),!Q&&jf(j,W),null===C||void 0===C?void 0:C.input,null===(i=null===L||void 0===L?void 0:L.classNames)||void 0===i?void 0:i.input,I)}),classes:{affixWrapper:st()((o={},k(o,"".concat(j,"-affix-wrapper-sm"),"small"===B),k(o,"".concat(j,"-affix-wrapper-lg"),"large"===B),k(o,"".concat(j,"-affix-wrapper-rtl"),"rtl"===A),k(o,"".concat(j,"-affix-wrapper-borderless"),!u),o),jf("".concat(j,"-affix-wrapper"),W,V),I),wrapper:st()(k({},"".concat(j,"-group-rtl"),"rtl"===A),I),group:st()((a={},k(a,"".concat(j,"-group-wrapper-sm"),"small"===B),k(a,"".concat(j,"-group-wrapper-lg"),"large"===B),k(a,"".concat(j,"-group-wrapper-rtl"),"rtl"===A),k(a,"".concat(j,"-group-wrapper-disabled"),U),a),jf("".concat(j,"-group-wrapper"),W,V),I)}})))})),Df=If,Rf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Ff=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:Rf}))};var Bf=n.forwardRef(Ff),zf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},Uf=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:zf}))};var Hf=n.forwardRef(Uf),Gf=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t},Vf=function(e){return e?n.createElement(Hf,null):n.createElement(Bf,null)},Jf={click:"onClick",hover:"onMouseOver"};var Wf=n.forwardRef((function(e,t){var r=e.visibilityToggle,o=void 0===r||r,a="object"===typeof o&&void 0!==o.visible,i=s((0,n.useState)((function(){return!!a&&o.visible})),2),l=i[0],c=i[1],u=(0,n.useRef)(null);n.useEffect((function(){a&&c(o.visible)}),[a,o]);var d=Of(u),p=function(){e.disabled||(l&&d(),c((function(n){var e,t=!n;return"object"===typeof o&&(null===(e=o.onVisibleChange)||void 0===e||e.call(o,t)),t})))},f=e.className,m=e.prefixCls,h=e.inputPrefixCls,g=e.size,y=Gf(e,["className","prefixCls","inputPrefixCls","size"]),b=n.useContext(Fr).getPrefixCls,v=b("input",h),x=b("input-password",m),w=o&&function(t){var r,o=e.action,a=void 0===o?"click":o,i=e.iconRender,s=Jf[a]||"",c=(void 0===i?Vf:i)(l),u=(k(r={},s,p),k(r,"className","".concat(t,"-icon")),k(r,"key","passwordIcon"),k(r,"onMouseDown",(function(n){n.preventDefault()})),k(r,"onMouseUp",(function(n){n.preventDefault()})),r);return n.cloneElement(n.isValidElement(c)?c:n.createElement("span",null,c),u)}(x),S=st()(x,f,k({},"".concat(x,"-").concat(g),!!g)),_=Object.assign(Object.assign({},Or(y,["suffix","iconRender","visibilityToggle"])),{type:l?"text":"password",className:S,prefixCls:v,suffix:w});return g&&(_.size=g),n.createElement(Df,Object.assign({ref:Dr(t,u)},_))})),Qf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Kf=function(e,t){return n.createElement(Cr,rt({},e,{ref:t,icon:Qf}))};var $f=n.forwardRef(Kf),Xf=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t};var Zf,Yf=n.forwardRef((function(e,t){var r,o,a=e.prefixCls,i=e.inputPrefixCls,s=e.className,l=e.size,c=e.suffix,u=e.enterButton,d=void 0!==u&&u,p=e.addonAfter,f=e.loading,m=e.disabled,h=e.onSearch,g=e.onChange,y=e.onCompositionStart,b=e.onCompositionEnd,v=Xf(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),x=n.useContext(Fr),w=x.getPrefixCls,S=x.direction,_=n.useRef(!1),E=w("input-search",a),C=w("input",i),N=Ms(E,S).compactSize,T=Ts((function(n){var e;return null!==(e=null!==l&&void 0!==l?l:N)&&void 0!==e?e:n})),q=n.useRef(null),A=function(n){var e;document.activeElement===(null===(e=q.current)||void 0===e?void 0:e.input)&&n.preventDefault()},L=function(n){var e,t;h&&h(null===(t=null===(e=q.current)||void 0===e?void 0:e.input)||void 0===t?void 0:t.value,n)},j="boolean"===typeof d?n.createElement($f,null):null,P="".concat(E,"-button"),O=d||{},M=O.type&&!0===O.type.__ANT_BUTTON;o=M||"button"===O.type?zr(O,Object.assign({onMouseDown:A,onClick:function(n){var e,t;null===(t=null===(e=null===O||void 0===O?void 0:O.props)||void 0===e?void 0:e.onClick)||void 0===t||t.call(e,n),L(n)},key:"enterButton"},M?{className:P,size:T}:{})):n.createElement(_l,{className:P,type:d?"primary":void 0,size:T,disabled:m,key:"enterButton",onMouseDown:A,onClick:L,loading:f,icon:j},d),p&&(o=[o,zr(p,{key:"addonAfter"})]);var I=st()(E,(k(r={},"".concat(E,"-rtl"),"rtl"===S),k(r,"".concat(E,"-").concat(T),!!T),k(r,"".concat(E,"-with-button"),!!d),r),s);return n.createElement(Df,Object.assign({ref:Dr(q,t),onPressEnter:function(n){_.current||f||L(n)}},v,{size:T,onCompositionStart:function(n){_.current=!0,null===y||void 0===y||y(n)},onCompositionEnd:function(n){_.current=!1,null===b||void 0===b||b(n)},prefixCls:C,addonAfter:o,suffix:c,onChange:function(n){n&&n.target&&"click"===n.type&&h&&h(n.target.value,n),g&&g(n)},className:I,disabled:m}))})),nm=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],em={};function tm(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Zf||((Zf=document.createElement("textarea")).setAttribute("tab-index","-1"),Zf.setAttribute("aria-hidden","true"),document.body.appendChild(Zf)),n.getAttribute("wrap")?Zf.setAttribute("wrap",n.getAttribute("wrap")):Zf.removeAttribute("wrap");var o=function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=n.getAttribute("id")||n.getAttribute("data-reactid")||n.getAttribute("name");if(e&&em[t])return em[t];var r=window.getComputedStyle(n),o=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),a=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),i=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s={sizingStyle:nm.map((function(n){return"".concat(n,":").concat(r.getPropertyValue(n))})).join(";"),paddingSize:a,borderSize:i,boxSizing:o};return e&&t&&(em[t]=s),s}(n,e),a=o.paddingSize,i=o.borderSize,s=o.boxSizing,l=o.sizingStyle;Zf.setAttribute("style","".concat(l,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),Zf.value=n.value||n.placeholder||"";var c,u=void 0,d=void 0,p=Zf.scrollHeight;if("border-box"===s?p+=i:"content-box"===s&&(p-=a),null!==t||null!==r){Zf.value=" ";var f=Zf.scrollHeight-a;null!==t&&(u=f*t,"border-box"===s&&(u=u+a+i),p=Math.max(u,p)),null!==r&&(d=f*r,"border-box"===s&&(d=d+a+i),c=p>d?"":"hidden",p=Math.min(d,p))}var m={height:p,overflowY:c,resize:"none"};return u&&(m.minHeight=u),d&&(m.maxHeight=d),m}var rm=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],om=n.forwardRef((function(e,t){var r=e,o=r.prefixCls,a=(r.onPressEnter,r.defaultValue),i=r.value,l=r.autoSize,u=r.onResize,d=r.className,p=r.style,f=r.disabled,m=r.onChange,h=(r.onInternalAutoSize,at(r,rm)),g=s(Sa(a,{value:i,postState:function(n){return null!==n&&void 0!==n?n:""}}),2),y=g[0],b=g[1],v=n.useRef();n.useImperativeHandle(t,(function(){return{textArea:v.current}}));var x=s(n.useMemo((function(){return l&&"object"===c(l)?[l.minRows,l.maxRows]:[]}),[l]),2),w=x[0],S=x[1],_=!!l,E=s(n.useState(2),2),C=E[0],N=E[1],T=s(n.useState(),2),q=T[0],A=T[1],L=function(){N(0)};ao((function(){_&&L()}),[i,w,S,_]),ao((function(){if(0===C)N(1);else if(1===C){var n=tm(v.current,!1,w,S);N(2),A(n)}else!function(){try{if(document.activeElement===v.current){var n=v.current,e=n.selectionStart,t=n.selectionEnd,r=n.scrollTop;v.current.setSelectionRange(e,t),v.current.scrollTop=r}}catch(km){}}()}),[C]);var j=n.useRef(),P=function(){Hi.cancel(j.current)};n.useEffect((function(){return P}),[]);var O=_?q:null,M=Wt(Wt({},p),O);return 0!==C&&1!==C||(M.overflowY="hidden",M.overflowX="hidden"),n.createElement(Kc,{onResize:function(n){2===C&&(null===u||void 0===u||u(n),l&&(P(),j.current=Hi((function(){L()}))))},disabled:!(l||u)},n.createElement("textarea",rt({},h,{ref:v,style:M,className:st()(o,d,k({},"".concat(o,"-disabled"),f)),disabled:f,value:y,onChange:function(n){b(n.target.value),null===m||void 0===m||m(n)}})))})),am=om,im=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","className","style","disabled","hidden","classNames","styles","onResize"];function sm(n,e){return(0,q.Z)(n||"").slice(0,e).join("")}function lm(n,e,t,r){var o=t;return n?o=sm(t,r):(0,q.Z)(e||"").length<t.length&&(0,q.Z)(t||"").length>r&&(o=e),o}var cm=n.forwardRef((function(e,t){var r,o=e.defaultValue,a=e.value,i=e.onFocus,l=e.onBlur,u=e.onChange,d=e.allowClear,p=e.maxLength,f=e.onCompositionStart,m=e.onCompositionEnd,h=e.suffix,g=e.prefixCls,y=void 0===g?"rc-textarea":g,b=e.classes,v=e.showCount,x=e.className,w=e.style,S=e.disabled,_=e.hidden,E=e.classNames,C=e.styles,N=e.onResize,T=at(e,im),A=s(Sa(o,{value:a,defaultValue:o}),2),L=A[0],j=A[1],P=(0,n.useRef)(null),O=s(n.useState(!1),2),M=O[0],I=O[1],D=s(n.useState(!1),2),R=D[0],F=D[1],B=n.useRef(),z=n.useRef(0),U=s(n.useState(null),2),H=U[0],G=U[1],V=function(){P.current.textArea.focus()};(0,n.useImperativeHandle)(t,(function(){return{resizableTextArea:P.current,focus:V,blur:function(){P.current.textArea.blur()}}})),(0,n.useEffect)((function(){I((function(n){return!S&&n}))}),[S]);var J=Number(p)>0,W=Nf(L);R||!J||null!==a&&void 0!==a||(W=sm(W,p));var Q,K=h;if(v){var $=(0,q.Z)(W).length;Q="object"===c(v)?v.formatter({value:W,count:$,maxLength:p}):"".concat($).concat(J?" / ".concat(p):""),K=n.createElement(n.Fragment,null,K,n.createElement("span",{className:st()("".concat(y,"-data-count"),null===E||void 0===E?void 0:E.count),style:null===C||void 0===C?void 0:C.count},Q))}return n.createElement(Tf,{value:W,allowClear:d,handleReset:function(n){j(""),V(),Cf(P.current.textArea,n,u)},suffix:K,prefixCls:y,classes:{affixWrapper:st()(null===b||void 0===b?void 0:b.affixWrapper,(r={},k(r,"".concat(y,"-show-count"),v),k(r,"".concat(y,"-textarea-allow-clear"),d),r))},disabled:S,focused:M,className:x,style:Wt(Wt({},w),H?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"===typeof Q?Q:void 0}},hidden:_,inputElement:n.createElement(am,rt({},T,{onKeyDown:function(n){var e=T.onPressEnter,t=T.onKeyDown;"Enter"===n.key&&e&&e(n),null===t||void 0===t||t(n)},onChange:function(n){var e=n.target.value;!R&&J&&(e=lm(n.target.selectionStart>=p+1||n.target.selectionStart===e.length||!n.target.selectionStart,L,e,p));j(e),Cf(n.currentTarget,n,u,e)},onFocus:function(n){I(!0),null===i||void 0===i||i(n)},onBlur:function(n){I(!1),null===l||void 0===l||l(n)},onCompositionStart:function(n){F(!0),B.current=L,z.current=n.currentTarget.selectionStart,null===f||void 0===f||f(n)},onCompositionEnd:function(n){F(!1);var e,t=n.currentTarget.value;J&&(t=lm(z.current>=p+1||z.current===(null===(e=B.current)||void 0===e?void 0:e.length),B.current,t,p));t!==L&&(j(t),Cf(n.currentTarget,n,u,t)),null===m||void 0===m||m(n)},className:null===E||void 0===E?void 0:E.textarea,style:Wt(Wt({},null===C||void 0===C?void 0:C.textarea),{},{resize:null===w||void 0===w?void 0:w.resize}),disabled:S,prefixCls:y,onResize:function(n){null===N||void 0===N||N(n),P.current.textArea.style.height&&G(!0)},ref:P}))})})),um=cm,dm=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t},pm=(0,n.forwardRef)((function(e,t){var r,o,a=e.prefixCls,i=e.bordered,l=void 0===i||i,c=e.size,u=e.disabled,d=e.status,p=e.allowClear,f=e.showCount,m=e.classNames,h=dm(e,["prefixCls","bordered","size","disabled","status","allowClear","showCount","classNames"]),g=n.useContext(Fr),y=g.getPrefixCls,b=g.direction,v=Ts(c),x=n.useContext(Es),w=null!==u&&void 0!==u?u:x,S=n.useContext(of),_=S.status,E=S.hasFeedback,C=S.feedbackIcon,N=Pf(_,d),T=n.useRef(null);n.useImperativeHandle(t,(function(){var n;return{resizableTextArea:null===(n=T.current)||void 0===n?void 0:n.resizableTextArea,focus:function(n){var e,t;!function(n,e){if(n){n.focus(e);var t=(e||{}).cursor;if(t){var r=n.value.length;switch(t){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(r,r);break;default:n.setSelectionRange(0,r)}}}}(null===(t=null===(e=T.current)||void 0===e?void 0:e.resizableTextArea)||void 0===t?void 0:t.textArea,n)},blur:function(){var n;return null===(n=T.current)||void 0===n?void 0:n.blur()}}}));var q,A=y("input",a);"object"===typeof p&&(null===p||void 0===p?void 0:p.clearIcon)?q=p:p&&(q={clearIcon:n.createElement(Sf,null)});var L=s(vf(A),2),j=L[0],P=L[1];return j(n.createElement(um,Object.assign({},h,{disabled:w,allowClear:q,classes:{affixWrapper:st()("".concat(A,"-textarea-affix-wrapper"),(r={},k(r,"".concat(A,"-affix-wrapper-rtl"),"rtl"===b),k(r,"".concat(A,"-affix-wrapper-borderless"),!l),k(r,"".concat(A,"-affix-wrapper-sm"),"small"===v),k(r,"".concat(A,"-affix-wrapper-lg"),"large"===v),k(r,"".concat(A,"-textarea-show-count"),f),r),jf("".concat(A,"-affix-wrapper"),N),P)},classNames:Object.assign(Object.assign({},m),{textarea:st()((o={},k(o,"".concat(A,"-borderless"),!l),k(o,"".concat(A,"-sm"),"small"===v),k(o,"".concat(A,"-lg"),"large"===v),o),jf(A,N),P,null===m||void 0===m?void 0:m.textarea)}),prefixCls:A,suffix:E&&n.createElement("span",{className:"".concat(A,"-textarea-suffix")},C),showCount:f,ref:T})))})),fm=Df;fm.Group=xf,fm.Search=Yf,fm.TextArea=pm,fm.Password=Wf;var mm=fm;var hm=function(){var e=ke(),t=s((0,n.useState)(0),2),r=t[0],o=t[1];return(0,n.useEffect)((function(){var n=0;window.location.href.includes("post/author")?n=3:window.location.href.includes("post/link")?n=2:window.location.href.includes("article")?n=1:window.location.href.includes("post/todo")&&(n=4),o(n)}),[e]),(0,jr.jsx)("div",{className:"header",children:(0,jr.jsxs)("div",{className:"navbar g-w",children:[(0,jr.jsx)("div",{children:[{title:"\u4e13\u9898",path:"/"},{title:"\u6587\u7ae0",path:"/article"},{title:"\u53cb\u94fe",path:"/post/link"},{title:"\u4f5c\u8005",path:"/post/author"},{title:"\u4ee3\u529e",path:"/post/todo"}].map((function(n,e){var t=r===e?"link active":"link";return(0,jr.jsxs)(Ye,{className:t,to:n.path,children:[(0,jr.jsx)("span",{children:n.title}),(0,jr.jsx)("span",{className:"indictor"})]})}))}),(0,jr.jsx)("div",{className:"navbar-right",children:(0,jr.jsxs)(Hd,{children:[(0,jr.jsx)(mm,{style:{width:200},placeholder:"\u641c\u7d22"}),(0,jr.jsx)("svg",{width:"24",height:"24",fill:"currentColor",viewBox:"3 3 18 18",children:(0,jr.jsx)("a",{target:"blank",href:"https://github.com/gaollard",children:(0,jr.jsx)("path",{d:"M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z"})})})]})})]})})};function gm(){return(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)(hm,{}),(0,jr.jsx)("div",{className:"main g-w",children:(0,jr.jsx)(Ue,{})})]})}var ym=JSON.parse('[{"key":"/author.md","path":"/author.md","route":"/author.md","leaf":true,"title":"author","depth":0,"content":"# Gaollard \u535a\u5ba2\u4ecb\u7ecd\\n\\n![20230511111033](http://s3.airtlab.com/blog/20230511111033.png)\\n\\n\u7ffb\u8fc7\u4e00\u5ea7\u5c71\uff0c\u4f60\u5c31\u9ad8\u8fc7\u4e00\u5ea7\u5c71\uff0c\u4f60\u597d\uff0c\u6211\u662f\u4f38\u624b\u5c45\u58eb\uff0c\u8fd9\u91cc\u662f\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\\n\\n- \u2b55 \u8868\u793a\u8fd9\u4e2a\u4efb\u52a1\u8fd8\u672a\u5b8c\u6210\\n- \ud83d\ude2e\u200d\ud83d\udca8 \u8868\u793a\u8fd9\u4e2a\u4efb\u52a1\u6ca1\u6709\u80fd\u529b\u5b8c\u6210","isLeaf":true},{"key":"/index.md","path":"/index.md","route":"/index.md","leaf":true,"title":"index","depth":0,"content":"# Gaollard \u535a\u5ba2\u4ecb\u7ecd\\n\\n![20230511111033](http://s3.airtlab.com/blog/20230511111033.png)\\n\\n\u7ffb\u8fc7\u4e00\u5ea7\u5c71\uff0c\u4f60\u5c31\u9ad8\u8fc7\u4e00\u5ea7\u5c71\uff0c\u4f60\u597d\uff0c\u6211\u662f\u4f38\u624b\u5c45\u58eb\uff0c\u8fd9\u91cc\u662f\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\\n\\n- \u2b55 \u8868\u793a\u8fd9\u4e2a\u4efb\u52a1\u8fd8\u672a\u5b8c\u6210\\n- \ud83d\ude2e\u200d\ud83d\udca8 \u8868\u793a\u8fd9\u4e2a\u4efb\u52a1\u6ca1\u6709\u80fd\u529b\u5b8c\u6210","isLeaf":true},{"key":"/link.md","path":"/link.md","route":"/link.md","leaf":true,"title":"link","depth":0,"content":"\u53cb\u60c5\u94fe\u63a5","isLeaf":true},{"key":"/todo.md","path":"/todo.md","route":"/todo.md","leaf":true,"title":"todo","depth":0,"content":"- koajs \u6e90\u7801\u89e3\u6790","isLeaf":true}]');function bm(){var e=function(){var e=Ie(Ae.UseMatches),t=e.matches,r=e.loaderData;return n.useMemo((function(){return t.map((function(n){var e=n.pathname,t=n.params;return{id:n.route.id,pathname:e,params:t,data:r[n.route.id],handle:n.route.handle}}))}),[t,r])}(),t=e[e.length-1].params["*"],r=ym.find((function(n){return n.title===t}));return console.log(r),(0,jr.jsx)("div",{className:"page-subject-detail",children:(0,jr.jsxs)("div",{className:"content",children:[(0,jr.jsx)("div",{className:"left"}),(0,jr.jsx)("div",{className:"article",id:"article-content",children:(0,jr.jsx)(Nd,{content:(null===r||void 0===r?void 0:r.content)||""})}),(0,jr.jsx)("div",{className:"right",children:(0,jr.jsx)("div",{id:"article-toc"})})]})})}var vm=function(n,e){return En({basename:null==e?void 0:e.basename,future:Je({},null==e?void 0:e.future,{v7_prependBasename:!0}),history:(t={window:null==e?void 0:e.window},void 0===t&&(t={}),F((function(n,e){var t=n.location;return I("",{pathname:t.pathname,search:t.search,hash:t.hash},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(n,e){return"string"===typeof e?e:D(e)}),null,t)),hydrationData:(null==e?void 0:e.hydrationData)||Ke(),routes:n,mapRouteProperties:Ve}).initialize();var t}([{path:"/",element:(0,jr.jsx)(gm,{}),children:[{path:"/",element:(0,jr.jsx)(Pr,{})},{path:"/post/*",element:(0,jr.jsx)(bm,{})},{path:"/subject/*",element:(0,jr.jsx)(Td,{})},{path:"/article/tag/*",element:(0,jr.jsx)(Pd,{})},{path:"/article/*",element:(0,jr.jsx)(jd,{})},{path:"/article",element:(0,jr.jsx)(Ld,{})},{path:"*",element:(0,jr.jsx)("div",{style:{flex:1,display:"flex",height:"100vh",justifyContent:"center",alignItems:"center"},children:(0,jr.jsx)("span",{style:{fontSize:30},children:"coming soon"})})}]}]);var xm=function(){return(0,jr.jsx)(Be,{router:vm})},wm=function(n){n&&n instanceof Function&&t.e(787).then(t.bind(t,787)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,a=e.getLCP,i=e.getTTFB;t(n),r(n),o(n),a(n),i(n)}))};r.createRoot(document.getElementById("root")).render((0,jr.jsx)(n.StrictMode,{children:(0,jr.jsx)(xm,{})})),wm()}()}();
//# sourceMappingURL=main.d6e19e3f.js.map
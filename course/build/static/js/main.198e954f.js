/*! For license information please see main.198e954f.js.LICENSE.txt */
!function(){var e={1694:function(e,n){var t;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var a=typeof t;if("string"===a||"number"===a)e.push(t);else if(Array.isArray(t)){if(t.length){var i=o.apply(null,t);i&&e.push(i)}}else if("object"===a){if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]")){e.push(t.toString());continue}for(var s in t)r.call(t,s)&&t[s]&&e.push(s)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(t=function(){return o}.apply(n,[]))||(e.exports=t)}()},6927:function(e,n,t){"use strict";function r(e){return Array.prototype.slice.call(arguments,1).forEach((function(n){n&&Object.keys(n).forEach((function(t){e[t]=n[t]}))})),e}function o(e){return Object.prototype.toString.call(e)}function a(e){return"[object Function]"===o(e)}function i(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(e,n,t){var r=e.slice(n);return t.re.http||(t.re.http=new RegExp("^\\/\\/"+t.re.src_auth+t.re.src_host_port_strict+t.re.src_path,"i")),t.re.http.test(r)?r.match(t.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,n,t){var r=e.slice(n);return t.re.no_http||(t.re.no_http=new RegExp("^"+t.re.src_auth+"(?:localhost|(?:(?:"+t.re.src_domain+")\\.)+"+t.re.src_domain_root+")"+t.re.src_port+t.re.src_host_terminator+t.re.src_path,"i")),t.re.no_http.test(r)?n>=3&&":"===e[n-3]||n>=3&&"/"===e[n-3]?0:r.match(t.re.no_http)[0].length:0}},"mailto:":{validate:function(e,n,t){var r=e.slice(n);return t.re.mailto||(t.re.mailto=new RegExp("^"+t.re.src_email_name+"@"+t.re.src_host_strict,"i")),t.re.mailto.test(r)?r.match(t.re.mailto)[0].length:0}}},c="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function d(e){var n=e.re=t(1875)(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",n.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push(c),r.push(n.src_xn),n.src_tlds=r.join("|"),n.email_fuzzy=RegExp(s(n.tpl_email_fuzzy),"i"),n.link_fuzzy=RegExp(s(n.tpl_link_fuzzy),"i"),n.link_no_ip_fuzzy=RegExp(s(n.tpl_link_no_ip_fuzzy),"i"),n.host_fuzzy_test=RegExp(s(n.tpl_host_fuzzy_test),"i");var l=[];function u(e,n){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+n)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(n){var t=e.__schemas__[n];if(null!==t){var r={validate:null,link:null};if(e.__compiled__[n]=r,"[object Object]"===o(t))return!function(e){return"[object RegExp]"===o(e)}(t.validate)?a(t.validate)?r.validate=t.validate:u(n,t):r.validate=function(e){return function(n,t){var r=n.slice(t);return e.test(r)?r.match(e)[0].length:0}}(t.validate),void(a(t.normalize)?r.normalize=t.normalize:t.normalize?u(n,t):r.normalize=function(e,n){n.normalize(e)});!function(e){return"[object String]"===o(e)}(t)?u(n,t):l.push(n)}})),l.forEach((function(n){e.__compiled__[e.__schemas__[n]]&&(e.__compiled__[n].validate=e.__compiled__[e.__schemas__[n]].validate,e.__compiled__[n].normalize=e.__compiled__[e.__schemas__[n]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,n){n.normalize(e)}};var d=Object.keys(e.__compiled__).filter((function(n){return n.length>0&&e.__compiled__[n]})).map(i).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+n.src_ZPCc+"))("+d+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+n.src_ZPCc+"))("+d+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function p(e,n){var t=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(t,r);this.schema=e.__schema__.toLowerCase(),this.index=t+n,this.lastIndex=r+n,this.raw=o,this.text=o,this.url=o}function f(e,n){var t=new p(e,n);return e.__compiled__[t.schema].normalize(t,e),t}function h(e,n){if(!(this instanceof h))return new h(e,n);var t;n||(t=e,Object.keys(t||{}).reduce((function(e,n){return e||s.hasOwnProperty(n)}),!1)&&(n=e,e={})),this.__opts__=r({},s,n),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},l,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},d(this)}h.prototype.add=function(e,n){return this.__schemas__[e]=n,d(this),this},h.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var n,t,r,o,a,i,s,l;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(n=s.exec(e));)if(o=this.testSchemaAt(e,n[2],s.lastIndex)){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(t=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(a=t.index+t[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=t.index+t[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(a=r.index+r[1].length,i=r.index+r[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=i)),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,n,t){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,t,this):0},h.prototype.match=function(e){var n=0,t=[];this.__index__>=0&&this.__text_cache__===e&&(t.push(f(this,n)),n=this.__last_index__);for(var r=n?e.slice(n):e;this.test(r);)t.push(f(this,n)),r=r.slice(this.__last_index__),n+=this.__last_index__;return t.length?t:null},h.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;var n=this.re.schema_at_start.exec(e);if(!n)return null;var t=this.testSchemaAt(e,n[2],n[0].length);return t?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+t,f(this,0)):null},h.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,n,t){return e!==t[n-1]})).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},1875:function(e,n,t){"use strict";e.exports=function(e){var n={};e=e||{},n.src_Any=t(5510).source,n.src_Cc=t(538).source,n.src_Z=t(2426).source,n.src_P=t(3741).source,n.src_ZPCc=[n.src_Z,n.src_P,n.src_Cc].join("|"),n.src_ZCc=[n.src_Z,n.src_Cc].join("|");var r="[><\uff5c]";return n.src_pseudo_letter="(?:(?![><\uff5c]|"+n.src_ZPCc+")"+n.src_Any+")",n.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",n.src_auth="(?:(?:(?!"+n.src_ZCc+"|[@/\\[\\]()]).)+@)?",n.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",n.src_host_terminator="(?=$|[><\uff5c]|"+n.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+n.src_ZPCc+"))",n.src_path="(?:[/?#](?:(?!"+n.src_ZCc+"|"+r+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+n.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+n.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+n.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+n.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+n.src_ZCc+"|[']).)+\\'|\\'(?="+n.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+n.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+n.src_ZCc+"|$)|;(?!"+n.src_ZCc+"|$)|\\!+(?!"+n.src_ZCc+"|[!]|$)|\\?(?!"+n.src_ZCc+"|[?]|$))+|\\/)?",n.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',n.src_xn="xn--[a-z0-9\\-]{1,59}",n.src_domain_root="(?:"+n.src_xn+"|"+n.src_pseudo_letter+"{1,63})",n.src_domain="(?:"+n.src_xn+"|(?:"+n.src_pseudo_letter+")|(?:"+n.src_pseudo_letter+"(?:-|"+n.src_pseudo_letter+"){0,61}"+n.src_pseudo_letter+"))",n.src_host="(?:(?:(?:(?:"+n.src_domain+")\\.)*"+n.src_domain+"))",n.tpl_host_fuzzy="(?:"+n.src_ip4+"|(?:(?:(?:"+n.src_domain+")\\.)+(?:%TLDS%)))",n.tpl_host_no_ip_fuzzy="(?:(?:(?:"+n.src_domain+")\\.)+(?:%TLDS%))",n.src_host_strict=n.src_host+n.src_host_terminator,n.tpl_host_fuzzy_strict=n.tpl_host_fuzzy+n.src_host_terminator,n.src_host_port_strict=n.src_host+n.src_port+n.src_host_terminator,n.tpl_host_port_fuzzy_strict=n.tpl_host_fuzzy+n.src_port+n.src_host_terminator,n.tpl_host_port_no_ip_fuzzy_strict=n.tpl_host_no_ip_fuzzy+n.src_port+n.src_host_terminator,n.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+n.src_ZPCc+"|>|$))",n.tpl_email_fuzzy='(^|[><\uff5c]|"|\\(|'+n.src_ZCc+")("+n.src_email_name+"@"+n.tpl_host_fuzzy_strict+")",n.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+n.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+n.tpl_host_port_fuzzy_strict+n.src_path+")",n.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+n.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+n.tpl_host_port_no_ip_fuzzy_strict+n.src_path+")",n}},4119:function(e){"use strict";e.exports=function(e,n){var t="-",r=t.charCodeAt(0);e.block.ruler.before("table","front_matter",(function(e,o,a,i){var s,l,c,u,d,p,f,h=!1,m=e.bMarks[o]+e.tShift[o],g=e.eMarks[o];if(0!==o||r!==e.src.charCodeAt(0))return!1;for(s=m+1;s<=g;s++)if(t[(s-m)%1]!==e.src[s]){f=s+1;break}if((c=Math.floor((s-m)/1))<3)return!1;if(s-=(s-m)%1,i)return!0;for(l=o;!(++l>=a)&&"..."!==e.src.slice(m,g)&&!((m=e.bMarks[l]+e.tShift[l])<(g=e.eMarks[l])&&e.sCount[l]<e.blkIndent);)if(r===e.src.charCodeAt(m)&&!(e.sCount[l]-e.blkIndent>=4)){for(s=m+1;s<=g&&t[(s-m)%1]===e.src[s];s++);if(!(Math.floor((s-m)/1)<c)&&(s-=(s-m)%1,!((s=e.skipSpaces(s))<g))){h=!0;break}}return d=e.parentType,p=e.lineMax,e.parentType="container",e.lineMax=l,(u=e.push("front_matter",null,0)).hidden=!0,u.markup=e.src.slice(o,s),u.block=!0,u.map=[o,s],u.meta=e.src.slice(f,m-1),e.parentType=d,e.lineMax=p,e.line=l+(h?1:0),n(u.meta),!0}),{alt:["paragraph","reference","blockquote","list"]})}},3534:function(e,n,t){"use strict";e.exports=t(9890)},1285:function(e,n,t){"use strict";e.exports=t(5485)},1437:function(e){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},5850:function(e){"use strict";var n="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",t="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",r=new RegExp("^(?:"+n+"|"+t+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),o=new RegExp("^(?:"+n+"|"+t+")");e.exports.n=r,e.exports.q=o},786:function(e,n,t){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,n){return r.call(e,n)}function a(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!==(65535&e)&&65534!==(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function i(e){if(e>65535){var n=55296+((e-=65536)>>10),t=56320+(1023&e);return String.fromCharCode(n,t)}return String.fromCharCode(e)}var s=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,l=new RegExp(s.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),c=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,u=t(1285);var d=/[&<>"]/,p=/[&<>"]/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function h(e){return f[e]}var m=/[.?*+^$[\]\\(){}|-]/g;var g=t(3741);n.lib={},n.lib.mdurl=t(3461),n.lib.ucmicro=t(6937),n.assign=function(e){return Array.prototype.slice.call(arguments,1).forEach((function(n){if(n){if("object"!==typeof n)throw new TypeError(n+"must be object");Object.keys(n).forEach((function(t){e[t]=n[t]}))}})),e},n.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},n.has=o,n.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(s,"$1")},n.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(l,(function(e,n,t){return n||function(e,n){var t=0;return o(u,n)?u[n]:35===n.charCodeAt(0)&&c.test(n)&&a(t="x"===n[1].toLowerCase()?parseInt(n.slice(2),16):parseInt(n.slice(1),10))?i(t):e}(e,t)}))},n.isValidEntityCode=a,n.fromCodePoint=i,n.escapeHtml=function(e){return d.test(e)?e.replace(p,h):e},n.arrayReplaceAt=function(e,n,t){return[].concat(e.slice(0,n),t,e.slice(n+1))},n.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},n.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},n.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},n.isPunctChar=function(e){return g.test(e)},n.escapeRE=function(e){return e.replace(m,"\\$&")},n.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),"\u1e7e"==="\u1e9e".toLowerCase()&&(e=e.replace(/\u1e9e/g,"\xdf")),e.toLowerCase().toUpperCase()}},4937:function(e,n,t){"use strict";n.parseLinkLabel=t(9162),n.parseLinkDestination=t(9738),n.parseLinkTitle=t(4890)},9738:function(e,n,t){"use strict";var r=t(786).unescapeAll;e.exports=function(e,n,t){var o,a,i=n,s={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(n)){for(n++;n<t;){if(10===(o=e.charCodeAt(n)))return s;if(60===o)return s;if(62===o)return s.pos=n+1,s.str=r(e.slice(i+1,n)),s.ok=!0,s;92===o&&n+1<t?n+=2:n++}return s}for(a=0;n<t&&32!==(o=e.charCodeAt(n))&&!(o<32||127===o);)if(92===o&&n+1<t){if(32===e.charCodeAt(n+1))break;n+=2}else{if(40===o&&++a>32)return s;if(41===o){if(0===a)break;a--}n++}return i===n||0!==a||(s.str=r(e.slice(i,n)),s.lines=0,s.pos=n,s.ok=!0),s}},9162:function(e){"use strict";e.exports=function(e,n,t){var r,o,a,i,s=-1,l=e.posMax,c=e.pos;for(e.pos=n+1,r=1;e.pos<l;){if(93===(a=e.src.charCodeAt(e.pos))&&0===--r){o=!0;break}if(i=e.pos,e.md.inline.skipToken(e),91===a)if(i===e.pos-1)r++;else if(t)return e.pos=c,-1}return o&&(s=e.pos),e.pos=c,s}},4890:function(e,n,t){"use strict";var r=t(786).unescapeAll;e.exports=function(e,n,t){var o,a,i=0,s=n,l={ok:!1,pos:0,lines:0,str:""};if(n>=t)return l;if(34!==(a=e.charCodeAt(n))&&39!==a&&40!==a)return l;for(n++,40===a&&(a=41);n<t;){if((o=e.charCodeAt(n))===a)return l.pos=n+1,l.lines=i,l.str=r(e.slice(s+1,n)),l.ok=!0,l;if(40===o&&41===a)return l;10===o?i++:92===o&&n+1<t&&(n++,10===e.charCodeAt(n)&&i++),n++}return l}},9890:function(e,n,t){"use strict";var r=t(786),o=t(4937),a=t(6843),i=t(2205),s=t(7782),l=t(4871),c=t(6927),u=t(3461),d=t(6293),p={default:t(1349),zero:t(7578),commonmark:t(6389)},f=/^(vbscript|javascript|file|data):/,h=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var n=e.trim().toLowerCase();return!f.test(n)||!!h.test(n)}var g=["http:","https:","mailto:"];function b(e){var n=u.parse(e,!0);if(n.hostname&&(!n.protocol||g.indexOf(n.protocol)>=0))try{n.hostname=d.toASCII(n.hostname)}catch(t){}return u.encode(u.format(n))}function v(e){var n=u.parse(e,!0);if(n.hostname&&(!n.protocol||g.indexOf(n.protocol)>=0))try{n.hostname=d.toUnicode(n.hostname)}catch(t){}return u.decode(u.format(n),u.decode.defaultChars+"%")}function y(e,n){if(!(this instanceof y))return new y(e,n);n||r.isString(e)||(n=e||{},e="default"),this.inline=new l,this.block=new s,this.core=new i,this.renderer=new a,this.linkify=new c,this.validateLink=m,this.normalizeLink=b,this.normalizeLinkText=v,this.utils=r,this.helpers=r.assign({},o),this.options={},this.configure(e),n&&this.set(n)}y.prototype.set=function(e){return r.assign(this.options,e),this},y.prototype.configure=function(e){var n,t=this;if(r.isString(e)&&!(e=p[n=e]))throw new Error('Wrong `markdown-it` preset "'+n+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)})),this},y.prototype.enable=function(e,n){var t=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(n){t=t.concat(this[n].ruler.enable(e,!0))}),this),t=t.concat(this.inline.ruler2.enable(e,!0));var r=e.filter((function(e){return t.indexOf(e)<0}));if(r.length&&!n)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},y.prototype.disable=function(e,n){var t=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(n){t=t.concat(this[n].ruler.disable(e,!0))}),this),t=t.concat(this.inline.ruler2.disable(e,!0));var r=e.filter((function(e){return t.indexOf(e)<0}));if(r.length&&!n)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},y.prototype.use=function(e){var n=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,n),this},y.prototype.parse=function(e,n){if("string"!==typeof e)throw new Error("Input data should be a String");var t=new this.core.State(e,this,n);return this.core.process(t),t.tokens},y.prototype.render=function(e,n){return n=n||{},this.renderer.render(this.parse(e,n),this.options,n)},y.prototype.parseInline=function(e,n){var t=new this.core.State(e,this,n);return t.inlineMode=!0,this.core.process(t),t.tokens},y.prototype.renderInline=function(e,n){return n=n||{},this.renderer.render(this.parseInline(e,n),this.options,n)},e.exports=y},7782:function(e,n,t){"use strict";var r=t(8674),o=[["table",t(9399),["paragraph","reference"]],["code",t(5078)],["fence",t(1077),["paragraph","reference","blockquote","list"]],["blockquote",t(9224),["paragraph","reference","blockquote","list"]],["hr",t(7542),["paragraph","reference","blockquote","list"]],["list",t(7168),["paragraph","reference","blockquote"]],["reference",t(9277)],["html_block",t(5672),["paragraph","reference","blockquote"]],["heading",t(969),["paragraph","reference","blockquote"]],["lheading",t(7671)],["paragraph",t(6572)]];function a(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}a.prototype.tokenize=function(e,n,t){for(var r,o=this.ruler.getRules(""),a=o.length,i=n,s=!1,l=e.md.options.maxNesting;i<t&&(e.line=i=e.skipEmptyLines(i),!(i>=t))&&!(e.sCount[i]<e.blkIndent);){if(e.level>=l){e.line=t;break}for(r=0;r<a&&!o[r](e,i,t,!1);r++);e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),(i=e.line)<t&&e.isEmpty(i)&&(s=!0,i++,e.line=i)}},a.prototype.parse=function(e,n,t,r){var o;e&&(o=new this.State(e,n,t,r),this.tokenize(o,o.line,o.lineMax))},a.prototype.State=t(2007),e.exports=a},2205:function(e,n,t){"use strict";var r=t(8674),o=[["normalize",t(710)],["block",t(2486)],["inline",t(7557)],["linkify",t(6716)],["replacements",t(904)],["smartquotes",t(6991)],["text_join",t(9528)]];function a(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}a.prototype.process=function(e){var n,t,r;for(n=0,t=(r=this.ruler.getRules("")).length;n<t;n++)r[n](e)},a.prototype.State=t(3311),e.exports=a},4871:function(e,n,t){"use strict";var r=t(8674),o=[["text",t(6537)],["linkify",t(7697)],["newline",t(6179)],["escape",t(4072)],["backticks",t(7860)],["strikethrough",t(333).w],["emphasis",t(3650).w],["link",t(9384)],["image",t(1677)],["autolink",t(3657)],["html_inline",t(8286)],["entity",t(4514)]],a=[["balance_pairs",t(5381)],["strikethrough",t(333).g],["emphasis",t(3650).g],["fragments_join",t(1783)]];function i(){var e;for(this.ruler=new r,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new r,e=0;e<a.length;e++)this.ruler2.push(a[e][0],a[e][1])}i.prototype.skipToken=function(e){var n,t,r=e.pos,o=this.ruler.getRules(""),a=o.length,i=e.md.options.maxNesting,s=e.cache;if("undefined"===typeof s[r]){if(e.level<i)for(t=0;t<a&&(e.level++,n=o[t](e,!0),e.level--,!n);t++);else e.pos=e.posMax;n||e.pos++,s[r]=e.pos}else e.pos=s[r]},i.prototype.tokenize=function(e){for(var n,t,r=this.ruler.getRules(""),o=r.length,a=e.posMax,i=e.md.options.maxNesting;e.pos<a;){if(e.level<i)for(t=0;t<o&&!(n=r[t](e,!1));t++);if(n){if(e.pos>=a)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},i.prototype.parse=function(e,n,t,r){var o,a,i,s=new this.State(e,n,t,r);for(this.tokenize(s),i=(a=this.ruler2.getRules("")).length,o=0;o<i;o++)a[o](s)},i.prototype.State=t(9402),e.exports=i},6389:function(e){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},1349:function(e){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},7578:function(e){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}}},6843:function(e,n,t){"use strict";var r=t(786).assign,o=t(786).unescapeAll,a=t(786).escapeHtml,i={};function s(){this.rules=r({},i)}i.code_inline=function(e,n,t,r,o){var i=e[n];return"<code"+o.renderAttrs(i)+">"+a(e[n].content)+"</code>"},i.code_block=function(e,n,t,r,o){var i=e[n];return"<pre"+o.renderAttrs(i)+"><code>"+a(e[n].content)+"</code></pre>\n"},i.fence=function(e,n,t,r,i){var s,l,c,u,d,p=e[n],f=p.info?o(p.info).trim():"",h="",m="";return f&&(h=(c=f.split(/(\s+)/g))[0],m=c.slice(2).join("")),0===(s=t.highlight&&t.highlight(p.content,h,m)||a(p.content)).indexOf("<pre")?s+"\n":f?(l=p.attrIndex("class"),u=p.attrs?p.attrs.slice():[],l<0?u.push(["class",t.langPrefix+h]):(u[l]=u[l].slice(),u[l][1]+=" "+t.langPrefix+h),d={attrs:u},"<pre><code"+i.renderAttrs(d)+">"+s+"</code></pre>\n"):"<pre><code"+i.renderAttrs(p)+">"+s+"</code></pre>\n"},i.image=function(e,n,t,r,o){var a=e[n];return a.attrs[a.attrIndex("alt")][1]=o.renderInlineAsText(a.children,t,r),o.renderToken(e,n,t)},i.hardbreak=function(e,n,t){return t.xhtmlOut?"<br />\n":"<br>\n"},i.softbreak=function(e,n,t){return t.breaks?t.xhtmlOut?"<br />\n":"<br>\n":"\n"},i.text=function(e,n){return a(e[n].content)},i.html_block=function(e,n){return e[n].content},i.html_inline=function(e,n){return e[n].content},s.prototype.renderAttrs=function(e){var n,t,r;if(!e.attrs)return"";for(r="",n=0,t=e.attrs.length;n<t;n++)r+=" "+a(e.attrs[n][0])+'="'+a(e.attrs[n][1])+'"';return r},s.prototype.renderToken=function(e,n,t){var r,o="",a=!1,i=e[n];return i.hidden?"":(i.block&&-1!==i.nesting&&n&&e[n-1].hidden&&(o+="\n"),o+=(-1===i.nesting?"</":"<")+i.tag,o+=this.renderAttrs(i),0===i.nesting&&t.xhtmlOut&&(o+=" /"),i.block&&(a=!0,1===i.nesting&&n+1<e.length&&("inline"===(r=e[n+1]).type||r.hidden||-1===r.nesting&&r.tag===i.tag)&&(a=!1)),o+=a?">\n":">")},s.prototype.renderInline=function(e,n,t){for(var r,o="",a=this.rules,i=0,s=e.length;i<s;i++)"undefined"!==typeof a[r=e[i].type]?o+=a[r](e,i,n,t,this):o+=this.renderToken(e,i,n);return o},s.prototype.renderInlineAsText=function(e,n,t){for(var r="",o=0,a=e.length;o<a;o++)"text"===e[o].type?r+=e[o].content:"image"===e[o].type?r+=this.renderInlineAsText(e[o].children,n,t):"softbreak"===e[o].type&&(r+="\n");return r},s.prototype.render=function(e,n,t){var r,o,a,i="",s=this.rules;for(r=0,o=e.length;r<o;r++)"inline"===(a=e[r].type)?i+=this.renderInline(e[r].children,n,t):"undefined"!==typeof s[a]?i+=s[e[r].type](e,r,n,t,this):i+=this.renderToken(e,r,n,t);return i},e.exports=s},8674:function(e){"use strict";function n(){this.__rules__=[],this.__cache__=null}n.prototype.__find__=function(e){for(var n=0;n<this.__rules__.length;n++)if(this.__rules__[n].name===e)return n;return-1},n.prototype.__compile__=function(){var e=this,n=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){n.indexOf(e)<0&&n.push(e)}))})),e.__cache__={},n.forEach((function(n){e.__cache__[n]=[],e.__rules__.forEach((function(t){t.enabled&&(n&&t.alt.indexOf(n)<0||e.__cache__[n].push(t.fn))}))}))},n.prototype.at=function(e,n,t){var r=this.__find__(e),o=t||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=n,this.__rules__[r].alt=o.alt||[],this.__cache__=null},n.prototype.before=function(e,n,t,r){var o=this.__find__(e),a=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:n,enabled:!0,fn:t,alt:a.alt||[]}),this.__cache__=null},n.prototype.after=function(e,n,t,r){var o=this.__find__(e),a=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:n,enabled:!0,fn:t,alt:a.alt||[]}),this.__cache__=null},n.prototype.push=function(e,n,t){var r=t||{};this.__rules__.push({name:e,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null},n.prototype.enable=function(e,n){Array.isArray(e)||(e=[e]);var t=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(n)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,t.push(e)}),this),this.__cache__=null,t},n.prototype.enableOnly=function(e,n){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,n)},n.prototype.disable=function(e,n){Array.isArray(e)||(e=[e]);var t=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(n)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,t.push(e)}),this),this.__cache__=null,t},n.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=n},9224:function(e,n,t){"use strict";var r=t(786).isSpace;e.exports=function(e,n,t,o){var a,i,s,l,c,u,d,p,f,h,m,g,b,v,y,x,k,w,S,E,C=e.lineMax,_=e.bMarks[n]+e.tShift[n],j=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(_++))return!1;if(o)return!0;for(l=f=e.sCount[n]+1,32===e.src.charCodeAt(_)?(_++,l++,f++,a=!1,x=!0):9===e.src.charCodeAt(_)?(x=!0,(e.bsCount[n]+f)%4===3?(_++,l++,f++,a=!1):a=!0):x=!1,h=[e.bMarks[n]],e.bMarks[n]=_;_<j&&(i=e.src.charCodeAt(_),r(i));)9===i?f+=4-(f+e.bsCount[n]+(a?1:0))%4:f++,_++;for(m=[e.bsCount[n]],e.bsCount[n]=e.sCount[n]+1+(x?1:0),u=_>=j,v=[e.sCount[n]],e.sCount[n]=f-l,y=[e.tShift[n]],e.tShift[n]=_-e.bMarks[n],w=e.md.block.ruler.getRules("blockquote"),b=e.parentType,e.parentType="blockquote",p=n+1;p<t&&(E=e.sCount[p]<e.blkIndent,!((_=e.bMarks[p]+e.tShift[p])>=(j=e.eMarks[p])));p++)if(62!==e.src.charCodeAt(_++)||E){if(u)break;for(k=!1,s=0,c=w.length;s<c;s++)if(w[s](e,p,t,!0)){k=!0;break}if(k){e.lineMax=p,0!==e.blkIndent&&(h.push(e.bMarks[p]),m.push(e.bsCount[p]),y.push(e.tShift[p]),v.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}h.push(e.bMarks[p]),m.push(e.bsCount[p]),y.push(e.tShift[p]),v.push(e.sCount[p]),e.sCount[p]=-1}else{for(l=f=e.sCount[p]+1,32===e.src.charCodeAt(_)?(_++,l++,f++,a=!1,x=!0):9===e.src.charCodeAt(_)?(x=!0,(e.bsCount[p]+f)%4===3?(_++,l++,f++,a=!1):a=!0):x=!1,h.push(e.bMarks[p]),e.bMarks[p]=_;_<j&&(i=e.src.charCodeAt(_),r(i));)9===i?f+=4-(f+e.bsCount[p]+(a?1:0))%4:f++,_++;u=_>=j,m.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(x?1:0),v.push(e.sCount[p]),e.sCount[p]=f-l,y.push(e.tShift[p]),e.tShift[p]=_-e.bMarks[p]}for(g=e.blkIndent,e.blkIndent=0,(S=e.push("blockquote_open","blockquote",1)).markup=">",S.map=d=[n,0],e.md.block.tokenize(e,n,p),(S=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=C,e.parentType=b,d[1]=e.line,s=0;s<y.length;s++)e.bMarks[s+n]=h[s],e.tShift[s+n]=y[s],e.sCount[s+n]=v[s],e.bsCount[s+n]=m[s];return e.blkIndent=g,!0}},5078:function(e){"use strict";e.exports=function(e,n,t){var r,o,a;if(e.sCount[n]-e.blkIndent<4)return!1;for(o=r=n+1;r<t;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;o=++r}return e.line=o,(a=e.push("code_block","code",0)).content=e.getLines(n,o,4+e.blkIndent,!1)+"\n",a.map=[n,e.line],!0}},1077:function(e){"use strict";e.exports=function(e,n,t,r){var o,a,i,s,l,c,u,d=!1,p=e.bMarks[n]+e.tShift[n],f=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4)return!1;if(p+3>f)return!1;if(126!==(o=e.src.charCodeAt(p))&&96!==o)return!1;if(l=p,(a=(p=e.skipChars(p,o))-l)<3)return!1;if(u=e.src.slice(l,p),i=e.src.slice(p,f),96===o&&i.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;for(s=n;!(++s>=t)&&!((p=l=e.bMarks[s]+e.tShift[s])<(f=e.eMarks[s])&&e.sCount[s]<e.blkIndent);)if(e.src.charCodeAt(p)===o&&!(e.sCount[s]-e.blkIndent>=4)&&!((p=e.skipChars(p,o))-l<a)&&!((p=e.skipSpaces(p))<f)){d=!0;break}return a=e.sCount[n],e.line=s+(d?1:0),(c=e.push("fence","code",0)).info=i,c.content=e.getLines(n+1,s,a,!0),c.markup=u,c.map=[n,e.line],!0}},969:function(e,n,t){"use strict";var r=t(786).isSpace;e.exports=function(e,n,t,o){var a,i,s,l,c=e.bMarks[n]+e.tShift[n],u=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4)return!1;if(35!==(a=e.src.charCodeAt(c))||c>=u)return!1;for(i=1,a=e.src.charCodeAt(++c);35===a&&c<u&&i<=6;)i++,a=e.src.charCodeAt(++c);return!(i>6||c<u&&!r(a))&&(o||(u=e.skipSpacesBack(u,c),(s=e.skipCharsBack(u,35,c))>c&&r(e.src.charCodeAt(s-1))&&(u=s),e.line=n+1,(l=e.push("heading_open","h"+String(i),1)).markup="########".slice(0,i),l.map=[n,e.line],(l=e.push("inline","",0)).content=e.src.slice(c,u).trim(),l.map=[n,e.line],l.children=[],(l=e.push("heading_close","h"+String(i),-1)).markup="########".slice(0,i)),!0)}},7542:function(e,n,t){"use strict";var r=t(786).isSpace;e.exports=function(e,n,t,o){var a,i,s,l,c=e.bMarks[n]+e.tShift[n],u=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4)return!1;if(42!==(a=e.src.charCodeAt(c++))&&45!==a&&95!==a)return!1;for(i=1;c<u;){if((s=e.src.charCodeAt(c++))!==a&&!r(s))return!1;s===a&&i++}return!(i<3)&&(o||(e.line=n+1,(l=e.push("hr","hr",0)).map=[n,e.line],l.markup=Array(i+1).join(String.fromCharCode(a))),!0)}},5672:function(e,n,t){"use strict";var r=t(1437),o=t(5850).q,a=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(e,n,t,r){var o,i,s,l,c=e.bMarks[n]+e.tShift[n],u=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(c))return!1;for(l=e.src.slice(c,u),o=0;o<a.length&&!a[o][0].test(l);o++);if(o===a.length)return!1;if(r)return a[o][2];if(i=n+1,!a[o][1].test(l))for(;i<t&&!(e.sCount[i]<e.blkIndent);i++)if(c=e.bMarks[i]+e.tShift[i],u=e.eMarks[i],l=e.src.slice(c,u),a[o][1].test(l)){0!==l.length&&i++;break}return e.line=i,(s=e.push("html_block","",0)).map=[n,i],s.content=e.getLines(n,i,e.blkIndent,!0),!0}},7671:function(e){"use strict";e.exports=function(e,n,t){var r,o,a,i,s,l,c,u,d,p,f=n+1,h=e.md.block.ruler.getRules("paragraph");if(e.sCount[n]-e.blkIndent>=4)return!1;for(p=e.parentType,e.parentType="paragraph";f<t&&!e.isEmpty(f);f++)if(!(e.sCount[f]-e.blkIndent>3)){if(e.sCount[f]>=e.blkIndent&&(l=e.bMarks[f]+e.tShift[f])<(c=e.eMarks[f])&&(45===(d=e.src.charCodeAt(l))||61===d)&&(l=e.skipChars(l,d),(l=e.skipSpaces(l))>=c)){u=61===d?1:2;break}if(!(e.sCount[f]<0)){for(o=!1,a=0,i=h.length;a<i;a++)if(h[a](e,f,t,!0)){o=!0;break}if(o)break}}return!!u&&(r=e.getLines(n,f,e.blkIndent,!1).trim(),e.line=f+1,(s=e.push("heading_open","h"+String(u),1)).markup=String.fromCharCode(d),s.map=[n,e.line],(s=e.push("inline","",0)).content=r,s.map=[n,e.line-1],s.children=[],(s=e.push("heading_close","h"+String(u),-1)).markup=String.fromCharCode(d),e.parentType=p,!0)}},7168:function(e,n,t){"use strict";var r=t(786).isSpace;function o(e,n){var t,o,a,i;return o=e.bMarks[n]+e.tShift[n],a=e.eMarks[n],42!==(t=e.src.charCodeAt(o++))&&45!==t&&43!==t||o<a&&(i=e.src.charCodeAt(o),!r(i))?-1:o}function a(e,n){var t,o=e.bMarks[n]+e.tShift[n],a=o,i=e.eMarks[n];if(a+1>=i)return-1;if((t=e.src.charCodeAt(a++))<48||t>57)return-1;for(;;){if(a>=i)return-1;if(!((t=e.src.charCodeAt(a++))>=48&&t<=57)){if(41===t||46===t)break;return-1}if(a-o>=10)return-1}return a<i&&(t=e.src.charCodeAt(a),!r(t))?-1:a}e.exports=function(e,n,t,r){var i,s,l,c,u,d,p,f,h,m,g,b,v,y,x,k,w,S,E,C,_,j,A,N,P,T,I,O,L=!1,D=!0;if(e.sCount[n]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[n]-e.listIndent>=4&&e.sCount[n]<e.blkIndent)return!1;if(r&&"paragraph"===e.parentType&&e.sCount[n]>=e.blkIndent&&(L=!0),(A=a(e,n))>=0){if(p=!0,P=e.bMarks[n]+e.tShift[n],v=Number(e.src.slice(P,A-1)),L&&1!==v)return!1}else{if(!((A=o(e,n))>=0))return!1;p=!1}if(L&&e.skipSpaces(A)>=e.eMarks[n])return!1;if(b=e.src.charCodeAt(A-1),r)return!0;for(g=e.tokens.length,p?(O=e.push("ordered_list_open","ol",1),1!==v&&(O.attrs=[["start",v]])):O=e.push("bullet_list_open","ul",1),O.map=m=[n,0],O.markup=String.fromCharCode(b),x=n,N=!1,I=e.md.block.ruler.getRules("list"),S=e.parentType,e.parentType="list";x<t;){for(j=A,y=e.eMarks[x],d=k=e.sCount[x]+A-(e.bMarks[n]+e.tShift[n]);j<y;){if(9===(i=e.src.charCodeAt(j)))k+=4-(k+e.bsCount[x])%4;else{if(32!==i)break;k++}j++}if((u=(s=j)>=y?1:k-d)>4&&(u=1),c=d+u,(O=e.push("list_item_open","li",1)).markup=String.fromCharCode(b),O.map=f=[n,0],p&&(O.info=e.src.slice(P,A-1)),_=e.tight,C=e.tShift[n],E=e.sCount[n],w=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=c,e.tight=!0,e.tShift[n]=s-e.bMarks[n],e.sCount[n]=k,s>=y&&e.isEmpty(n+1)?e.line=Math.min(e.line+2,t):e.md.block.tokenize(e,n,t,!0),e.tight&&!N||(D=!1),N=e.line-n>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=w,e.tShift[n]=C,e.sCount[n]=E,e.tight=_,(O=e.push("list_item_close","li",-1)).markup=String.fromCharCode(b),x=n=e.line,f[1]=x,s=e.bMarks[n],x>=t)break;if(e.sCount[x]<e.blkIndent)break;if(e.sCount[n]-e.blkIndent>=4)break;for(T=!1,l=0,h=I.length;l<h;l++)if(I[l](e,x,t,!0)){T=!0;break}if(T)break;if(p){if((A=a(e,x))<0)break;P=e.bMarks[x]+e.tShift[x]}else if((A=o(e,x))<0)break;if(b!==e.src.charCodeAt(A-1))break}return(O=p?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(b),m[1]=x,e.line=x,e.parentType=S,D&&function(e,n){var t,r,o=e.level+2;for(t=n+2,r=e.tokens.length-2;t<r;t++)e.tokens[t].level===o&&"paragraph_open"===e.tokens[t].type&&(e.tokens[t+2].hidden=!0,e.tokens[t].hidden=!0,t+=2)}(e,g),!0}},6572:function(e){"use strict";e.exports=function(e,n){var t,r,o,a,i,s,l=n+1,c=e.md.block.ruler.getRules("paragraph"),u=e.lineMax;for(s=e.parentType,e.parentType="paragraph";l<u&&!e.isEmpty(l);l++)if(!(e.sCount[l]-e.blkIndent>3)&&!(e.sCount[l]<0)){for(r=!1,o=0,a=c.length;o<a;o++)if(c[o](e,l,u,!0)){r=!0;break}if(r)break}return t=e.getLines(n,l,e.blkIndent,!1).trim(),e.line=l,(i=e.push("paragraph_open","p",1)).map=[n,e.line],(i=e.push("inline","",0)).content=t,i.map=[n,e.line],i.children=[],i=e.push("paragraph_close","p",-1),e.parentType=s,!0}},9277:function(e,n,t){"use strict";var r=t(786).normalizeReference,o=t(786).isSpace;e.exports=function(e,n,t,a){var i,s,l,c,u,d,p,f,h,m,g,b,v,y,x,k,w=0,S=e.bMarks[n]+e.tShift[n],E=e.eMarks[n],C=n+1;if(e.sCount[n]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(S))return!1;for(;++S<E;)if(93===e.src.charCodeAt(S)&&92!==e.src.charCodeAt(S-1)){if(S+1===E)return!1;if(58!==e.src.charCodeAt(S+1))return!1;break}for(c=e.lineMax,x=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";C<c&&!e.isEmpty(C);C++)if(!(e.sCount[C]-e.blkIndent>3)&&!(e.sCount[C]<0)){for(y=!1,d=0,p=x.length;d<p;d++)if(x[d](e,C,c,!0)){y=!0;break}if(y)break}for(E=(v=e.getLines(n,C,e.blkIndent,!1).trim()).length,S=1;S<E;S++){if(91===(i=v.charCodeAt(S)))return!1;if(93===i){h=S;break}(10===i||92===i&&++S<E&&10===v.charCodeAt(S))&&w++}if(h<0||58!==v.charCodeAt(h+1))return!1;for(S=h+2;S<E;S++)if(10===(i=v.charCodeAt(S)))w++;else if(!o(i))break;if(!(g=e.md.helpers.parseLinkDestination(v,S,E)).ok)return!1;if(u=e.md.normalizeLink(g.str),!e.md.validateLink(u))return!1;for(s=S=g.pos,l=w+=g.lines,b=S;S<E;S++)if(10===(i=v.charCodeAt(S)))w++;else if(!o(i))break;for(g=e.md.helpers.parseLinkTitle(v,S,E),S<E&&b!==S&&g.ok?(k=g.str,S=g.pos,w+=g.lines):(k="",S=s,w=l);S<E&&(i=v.charCodeAt(S),o(i));)S++;if(S<E&&10!==v.charCodeAt(S)&&k)for(k="",S=s,w=l;S<E&&(i=v.charCodeAt(S),o(i));)S++;return!(S<E&&10!==v.charCodeAt(S))&&(!!(f=r(v.slice(1,h)))&&(a||("undefined"===typeof e.env.references&&(e.env.references={}),"undefined"===typeof e.env.references[f]&&(e.env.references[f]={title:k,href:u}),e.parentType=m,e.line=n+w+1),!0))}},2007:function(e,n,t){"use strict";var r=t(596),o=t(786).isSpace;function a(e,n,t,r){var a,i,s,l,c,u,d,p;for(this.src=e,this.md=n,this.env=t,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,s=l=u=d=0,c=(i=this.src).length;l<c;l++){if(a=i.charCodeAt(l),!p){if(o(a)){u++,9===a?d+=4-d%4:d++;continue}p=!0}10!==a&&l!==c-1||(10!==a&&l++,this.bMarks.push(s),this.eMarks.push(l),this.tShift.push(u),this.sCount.push(d),this.bsCount.push(0),p=!1,u=0,d=0,s=l+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}a.prototype.push=function(e,n,t){var o=new r(e,n,t);return o.block=!0,t<0&&this.level--,o.level=this.level,t>0&&this.level++,this.tokens.push(o),o},a.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},a.prototype.skipEmptyLines=function(e){for(var n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},a.prototype.skipSpaces=function(e){for(var n,t=this.src.length;e<t&&(n=this.src.charCodeAt(e),o(n));e++);return e},a.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!o(this.src.charCodeAt(--e)))return e+1;return e},a.prototype.skipChars=function(e,n){for(var t=this.src.length;e<t&&this.src.charCodeAt(e)===n;e++);return e},a.prototype.skipCharsBack=function(e,n,t){if(e<=t)return e;for(;e>t;)if(n!==this.src.charCodeAt(--e))return e+1;return e},a.prototype.getLines=function(e,n,t,r){var a,i,s,l,c,u,d,p=e;if(e>=n)return"";for(u=new Array(n-e),a=0;p<n;p++,a++){for(i=0,d=l=this.bMarks[p],c=p+1<n||r?this.eMarks[p]+1:this.eMarks[p];l<c&&i<t;){if(s=this.src.charCodeAt(l),o(s))9===s?i+=4-(i+this.bsCount[p])%4:i++;else{if(!(l-d<this.tShift[p]))break;i++}l++}u[a]=i>t?new Array(i-t+1).join(" ")+this.src.slice(l,c):this.src.slice(l,c)}return u.join("")},a.prototype.Token=r,e.exports=a},9399:function(e,n,t){"use strict";var r=t(786).isSpace;function o(e,n){var t=e.bMarks[n]+e.tShift[n],r=e.eMarks[n];return e.src.slice(t,r)}function a(e){var n,t=[],r=0,o=e.length,a=!1,i=0,s="";for(n=e.charCodeAt(r);r<o;)124===n&&(a?(s+=e.substring(i,r-1),i=r):(t.push(s+e.substring(i,r)),s="",i=r+1)),a=92===n,r++,n=e.charCodeAt(r);return t.push(s+e.substring(i)),t}e.exports=function(e,n,t,i){var s,l,c,u,d,p,f,h,m,g,b,v,y,x,k,w,S,E;if(n+2>t)return!1;if(p=n+1,e.sCount[p]<e.blkIndent)return!1;if(e.sCount[p]-e.blkIndent>=4)return!1;if((c=e.bMarks[p]+e.tShift[p])>=e.eMarks[p])return!1;if(124!==(S=e.src.charCodeAt(c++))&&45!==S&&58!==S)return!1;if(c>=e.eMarks[p])return!1;if(124!==(E=e.src.charCodeAt(c++))&&45!==E&&58!==E&&!r(E))return!1;if(45===S&&r(E))return!1;for(;c<e.eMarks[p];){if(124!==(s=e.src.charCodeAt(c))&&45!==s&&58!==s&&!r(s))return!1;c++}for(f=(l=o(e,n+1)).split("|"),g=[],u=0;u<f.length;u++){if(!(b=f[u].trim())){if(0===u||u===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(b))return!1;58===b.charCodeAt(b.length-1)?g.push(58===b.charCodeAt(0)?"center":"right"):58===b.charCodeAt(0)?g.push("left"):g.push("")}if(-1===(l=o(e,n).trim()).indexOf("|"))return!1;if(e.sCount[n]-e.blkIndent>=4)return!1;if((f=a(l)).length&&""===f[0]&&f.shift(),f.length&&""===f[f.length-1]&&f.pop(),0===(h=f.length)||h!==g.length)return!1;if(i)return!0;for(x=e.parentType,e.parentType="table",w=e.md.block.ruler.getRules("blockquote"),(m=e.push("table_open","table",1)).map=v=[n,0],(m=e.push("thead_open","thead",1)).map=[n,n+1],(m=e.push("tr_open","tr",1)).map=[n,n+1],u=0;u<f.length;u++)m=e.push("th_open","th",1),g[u]&&(m.attrs=[["style","text-align:"+g[u]]]),(m=e.push("inline","",0)).content=f[u].trim(),m.children=[],m=e.push("th_close","th",-1);for(m=e.push("tr_close","tr",-1),m=e.push("thead_close","thead",-1),p=n+2;p<t&&!(e.sCount[p]<e.blkIndent);p++){for(k=!1,u=0,d=w.length;u<d;u++)if(w[u](e,p,t,!0)){k=!0;break}if(k)break;if(!(l=o(e,p).trim()))break;if(e.sCount[p]-e.blkIndent>=4)break;for((f=a(l)).length&&""===f[0]&&f.shift(),f.length&&""===f[f.length-1]&&f.pop(),p===n+2&&((m=e.push("tbody_open","tbody",1)).map=y=[n+2,0]),(m=e.push("tr_open","tr",1)).map=[p,p+1],u=0;u<h;u++)m=e.push("td_open","td",1),g[u]&&(m.attrs=[["style","text-align:"+g[u]]]),(m=e.push("inline","",0)).content=f[u]?f[u].trim():"",m.children=[],m=e.push("td_close","td",-1);m=e.push("tr_close","tr",-1)}return y&&(m=e.push("tbody_close","tbody",-1),y[1]=p),m=e.push("table_close","table",-1),v[1]=p,e.parentType=x,e.line=p,!0}},2486:function(e){"use strict";e.exports=function(e){var n;e.inlineMode?((n=new e.Token("inline","",0)).content=e.src,n.map=[0,1],n.children=[],e.tokens.push(n)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},7557:function(e){"use strict";e.exports=function(e){var n,t,r,o=e.tokens;for(t=0,r=o.length;t<r;t++)"inline"===(n=o[t]).type&&e.md.inline.parse(n.content,e.md,e.env,n.children)}},6716:function(e,n,t){"use strict";var r=t(786).arrayReplaceAt;function o(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var n,t,a,i,s,l,c,u,d,p,f,h,m,g,b,v,y,x,k=e.tokens;if(e.md.options.linkify)for(t=0,a=k.length;t<a;t++)if("inline"===k[t].type&&e.md.linkify.pretest(k[t].content))for(m=0,n=(i=k[t].children).length-1;n>=0;n--)if("link_close"!==(l=i[n]).type){if("html_inline"===l.type&&(x=l.content,/^<a[>\s]/i.test(x)&&m>0&&m--,o(l.content)&&m++),!(m>0)&&"text"===l.type&&e.md.linkify.test(l.content)){for(d=l.content,y=e.md.linkify.match(d),c=[],h=l.level,f=0,y.length>0&&0===y[0].index&&n>0&&"text_special"===i[n-1].type&&(y=y.slice(1)),u=0;u<y.length;u++)g=y[u].url,b=e.md.normalizeLink(g),e.md.validateLink(b)&&(v=y[u].text,v=y[u].schema?"mailto:"!==y[u].schema||/^mailto:/i.test(v)?e.md.normalizeLinkText(v):e.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,""),(p=y[u].index)>f&&((s=new e.Token("text","",0)).content=d.slice(f,p),s.level=h,c.push(s)),(s=new e.Token("link_open","a",1)).attrs=[["href",b]],s.level=h++,s.markup="linkify",s.info="auto",c.push(s),(s=new e.Token("text","",0)).content=v,s.level=h,c.push(s),(s=new e.Token("link_close","a",-1)).level=--h,s.markup="linkify",s.info="auto",c.push(s),f=y[u].lastIndex);f<d.length&&((s=new e.Token("text","",0)).content=d.slice(f),s.level=h,c.push(s)),k[t].children=i=r(i,n,c)}}else for(n--;i[n].level!==l.level&&"link_open"!==i[n].type;)n--}},710:function(e){"use strict";var n=/\r\n?|\n/g,t=/\0/g;e.exports=function(e){var r;r=(r=e.src.replace(n,"\n")).replace(t,"\ufffd"),e.src=r}},904:function(e){"use strict";var n=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,t=/\((c|tm|r)\)/i,r=/\((c|tm|r)\)/gi,o={c:"\xa9",r:"\xae",tm:"\u2122"};function a(e,n){return o[n.toLowerCase()]}function i(e){var n,t,o=0;for(n=e.length-1;n>=0;n--)"text"!==(t=e[n]).type||o||(t.content=t.content.replace(r,a)),"link_open"===t.type&&"auto"===t.info&&o--,"link_close"===t.type&&"auto"===t.info&&o++}function s(e){var t,r,o=0;for(t=e.length-1;t>=0;t--)"text"!==(r=e[t]).type||o||n.test(r.content)&&(r.content=r.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1\u2014").replace(/(^|\s)--(?=\s|$)/gm,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1\u2013")),"link_open"===r.type&&"auto"===r.info&&o--,"link_close"===r.type&&"auto"===r.info&&o++}e.exports=function(e){var r;if(e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)"inline"===e.tokens[r].type&&(t.test(e.tokens[r].content)&&i(e.tokens[r].children),n.test(e.tokens[r].content)&&s(e.tokens[r].children))}},6991:function(e,n,t){"use strict";var r=t(786).isWhiteSpace,o=t(786).isPunctChar,a=t(786).isMdAsciiPunct,i=/['"]/,s=/['"]/g;function l(e,n,t){return e.slice(0,n)+t+e.slice(n+1)}function c(e,n){var t,i,c,u,d,p,f,h,m,g,b,v,y,x,k,w,S,E,C,_,j;for(C=[],t=0;t<e.length;t++){for(i=e[t],f=e[t].level,S=C.length-1;S>=0&&!(C[S].level<=f);S--);if(C.length=S+1,"text"===i.type){d=0,p=(c=i.content).length;e:for(;d<p&&(s.lastIndex=d,u=s.exec(c));){if(k=w=!0,d=u.index+1,E="'"===u[0],m=32,u.index-1>=0)m=c.charCodeAt(u.index-1);else for(S=t-1;S>=0&&("softbreak"!==e[S].type&&"hardbreak"!==e[S].type);S--)if(e[S].content){m=e[S].content.charCodeAt(e[S].content.length-1);break}if(g=32,d<p)g=c.charCodeAt(d);else for(S=t+1;S<e.length&&("softbreak"!==e[S].type&&"hardbreak"!==e[S].type);S++)if(e[S].content){g=e[S].content.charCodeAt(0);break}if(b=a(m)||o(String.fromCharCode(m)),v=a(g)||o(String.fromCharCode(g)),y=r(m),(x=r(g))?k=!1:v&&(y||b||(k=!1)),y?w=!1:b&&(x||v||(w=!1)),34===g&&'"'===u[0]&&m>=48&&m<=57&&(w=k=!1),k&&w&&(k=b,w=v),k||w){if(w)for(S=C.length-1;S>=0&&(h=C[S],!(C[S].level<f));S--)if(h.single===E&&C[S].level===f){h=C[S],E?(_=n.md.options.quotes[2],j=n.md.options.quotes[3]):(_=n.md.options.quotes[0],j=n.md.options.quotes[1]),i.content=l(i.content,u.index,j),e[h.token].content=l(e[h.token].content,h.pos,_),d+=j.length-1,h.token===t&&(d+=_.length-1),p=(c=i.content).length,C.length=S;continue e}k?C.push({token:t,pos:u.index,single:E,level:f}):w&&E&&(i.content=l(i.content,u.index,"\u2019"))}else E&&(i.content=l(i.content,u.index,"\u2019"))}}}}e.exports=function(e){var n;if(e.md.options.typographer)for(n=e.tokens.length-1;n>=0;n--)"inline"===e.tokens[n].type&&i.test(e.tokens[n].content)&&c(e.tokens[n].children,e)}},3311:function(e,n,t){"use strict";var r=t(596);function o(e,n,t){this.src=e,this.env=t,this.tokens=[],this.inlineMode=!1,this.md=n}o.prototype.Token=r,e.exports=o},9528:function(e){"use strict";e.exports=function(e){var n,t,r,o,a,i,s=e.tokens;for(n=0,t=s.length;n<t;n++)if("inline"===s[n].type){for(a=(r=s[n].children).length,o=0;o<a;o++)"text_special"===r[o].type&&(r[o].type="text");for(o=i=0;o<a;o++)"text"===r[o].type&&o+1<a&&"text"===r[o+1].type?r[o+1].content=r[o].content+r[o+1].content:(o!==i&&(r[i]=r[o]),i++);o!==i&&(r.length=i)}}},3657:function(e){"use strict";var n=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,t=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;e.exports=function(e,r){var o,a,i,s,l,c,u=e.pos;if(60!==e.src.charCodeAt(u))return!1;for(l=e.pos,c=e.posMax;;){if(++u>=c)return!1;if(60===(s=e.src.charCodeAt(u)))return!1;if(62===s)break}return o=e.src.slice(l+1,u),t.test(o)?(a=e.md.normalizeLink(o),!!e.md.validateLink(a)&&(r||((i=e.push("link_open","a",1)).attrs=[["href",a]],i.markup="autolink",i.info="auto",(i=e.push("text","",0)).content=e.md.normalizeLinkText(o),(i=e.push("link_close","a",-1)).markup="autolink",i.info="auto"),e.pos+=o.length+2,!0)):!!n.test(o)&&(a=e.md.normalizeLink("mailto:"+o),!!e.md.validateLink(a)&&(r||((i=e.push("link_open","a",1)).attrs=[["href",a]],i.markup="autolink",i.info="auto",(i=e.push("text","",0)).content=e.md.normalizeLinkText(o),(i=e.push("link_close","a",-1)).markup="autolink",i.info="auto"),e.pos+=o.length+2,!0))}},7860:function(e){"use strict";e.exports=function(e,n){var t,r,o,a,i,s,l,c,u=e.pos;if(96!==e.src.charCodeAt(u))return!1;for(t=u,u++,r=e.posMax;u<r&&96===e.src.charCodeAt(u);)u++;if(l=(o=e.src.slice(t,u)).length,e.backticksScanned&&(e.backticks[l]||0)<=t)return n||(e.pending+=o),e.pos+=l,!0;for(i=s=u;-1!==(i=e.src.indexOf("`",s));){for(s=i+1;s<r&&96===e.src.charCodeAt(s);)s++;if((c=s-i)===l)return n||((a=e.push("code_inline","code",0)).markup=o,a.content=e.src.slice(u,i).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=s,!0;e.backticks[c]=i}return e.backticksScanned=!0,n||(e.pending+=o),e.pos+=l,!0}},5381:function(e){"use strict";function n(e,n){var t,r,o,a,i,s,l,c,u={},d=n.length;if(d){var p=0,f=-2,h=[];for(t=0;t<d;t++)if(o=n[t],h.push(0),n[p].marker===o.marker&&f===o.token-1||(p=t),f=o.token,o.length=o.length||0,o.close){for(u.hasOwnProperty(o.marker)||(u[o.marker]=[-1,-1,-1,-1,-1,-1]),i=u[o.marker][(o.open?3:0)+o.length%3],s=r=p-h[p]-1;r>i;r-=h[r]+1)if((a=n[r]).marker===o.marker&&a.open&&a.end<0&&(l=!1,(a.close||o.open)&&(a.length+o.length)%3===0&&(a.length%3===0&&o.length%3===0||(l=!0)),!l)){c=r>0&&!n[r-1].open?h[r-1]+1:0,h[t]=t-r+c,h[r]=c,o.open=!1,a.end=t,a.close=!1,s=-1,f=-2;break}-1!==s&&(u[o.marker][(o.open?3:0)+(o.length||0)%3]=s)}}}e.exports=function(e){var t,r=e.tokens_meta,o=e.tokens_meta.length;for(n(0,e.delimiters),t=0;t<o;t++)r[t]&&r[t].delimiters&&n(0,r[t].delimiters)}},3650:function(e){"use strict";function n(e,n){var t,r,o,a,i,s;for(t=n.length-1;t>=0;t--)95!==(r=n[t]).marker&&42!==r.marker||-1!==r.end&&(o=n[r.end],s=t>0&&n[t-1].end===r.end+1&&n[t-1].marker===r.marker&&n[t-1].token===r.token-1&&n[r.end+1].token===o.token+1,i=String.fromCharCode(r.marker),(a=e.tokens[r.token]).type=s?"strong_open":"em_open",a.tag=s?"strong":"em",a.nesting=1,a.markup=s?i+i:i,a.content="",(a=e.tokens[o.token]).type=s?"strong_close":"em_close",a.tag=s?"strong":"em",a.nesting=-1,a.markup=s?i+i:i,a.content="",s&&(e.tokens[n[t-1].token].content="",e.tokens[n[r.end+1].token].content="",t--))}e.exports.w=function(e,n){var t,r,o=e.pos,a=e.src.charCodeAt(o);if(n)return!1;if(95!==a&&42!==a)return!1;for(r=e.scanDelims(e.pos,42===a),t=0;t<r.length;t++)e.push("text","",0).content=String.fromCharCode(a),e.delimiters.push({marker:a,length:r.length,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.g=function(e){var t,r=e.tokens_meta,o=e.tokens_meta.length;for(n(e,e.delimiters),t=0;t<o;t++)r[t]&&r[t].delimiters&&n(e,r[t].delimiters)}},4514:function(e,n,t){"use strict";var r=t(1285),o=t(786).has,a=t(786).isValidEntityCode,i=t(786).fromCodePoint,s=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,l=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,n){var t,c,u,d=e.pos,p=e.posMax;if(38!==e.src.charCodeAt(d))return!1;if(d+1>=p)return!1;if(35===e.src.charCodeAt(d+1)){if(c=e.src.slice(d).match(s))return n||(t="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),(u=e.push("text_special","",0)).content=a(t)?i(t):i(65533),u.markup=c[0],u.info="entity"),e.pos+=c[0].length,!0}else if((c=e.src.slice(d).match(l))&&o(r,c[1]))return n||((u=e.push("text_special","",0)).content=r[c[1]],u.markup=c[0],u.info="entity"),e.pos+=c[0].length,!0;return!1}},4072:function(e,n,t){"use strict";for(var r=t(786).isSpace,o=[],a=0;a<256;a++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){o[e.charCodeAt(0)]=1})),e.exports=function(e,n){var t,a,i,s,l,c=e.pos,u=e.posMax;if(92!==e.src.charCodeAt(c))return!1;if(++c>=u)return!1;if(10===(t=e.src.charCodeAt(c))){for(n||e.push("hardbreak","br",0),c++;c<u&&(t=e.src.charCodeAt(c),r(t));)c++;return e.pos=c,!0}return s=e.src[c],t>=55296&&t<=56319&&c+1<u&&(a=e.src.charCodeAt(c+1))>=56320&&a<=57343&&(s+=e.src[c+1],c++),i="\\"+s,n||(l=e.push("text_special","",0),t<256&&0!==o[t]?l.content=s:l.content=i,l.markup=i,l.info="escape"),e.pos=c+1,!0}},1783:function(e){"use strict";e.exports=function(e){var n,t,r=0,o=e.tokens,a=e.tokens.length;for(n=t=0;n<a;n++)o[n].nesting<0&&r--,o[n].level=r,o[n].nesting>0&&r++,"text"===o[n].type&&n+1<a&&"text"===o[n+1].type?o[n+1].content=o[n].content+o[n+1].content:(n!==t&&(o[t]=o[n]),t++);n!==t&&(o.length=t)}},8286:function(e,n,t){"use strict";var r=t(5850).n;e.exports=function(e,n){var t,o,a,i,s,l=e.pos;return!!e.md.options.html&&(a=e.posMax,!(60!==e.src.charCodeAt(l)||l+2>=a)&&(!(33!==(t=e.src.charCodeAt(l+1))&&63!==t&&47!==t&&!function(e){var n=32|e;return n>=97&&n<=122}(t))&&(!!(o=e.src.slice(l).match(r))&&(n||((i=e.push("html_inline","",0)).content=e.src.slice(l,l+o[0].length),s=i.content,/^<a[>\s]/i.test(s)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(i.content)&&e.linkLevel--),e.pos+=o[0].length,!0))))}},1677:function(e,n,t){"use strict";var r=t(786).normalizeReference,o=t(786).isSpace;e.exports=function(e,n){var t,a,i,s,l,c,u,d,p,f,h,m,g,b="",v=e.pos,y=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(c=e.pos+2,(l=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((u=l+1)<y&&40===e.src.charCodeAt(u)){for(u++;u<y&&(a=e.src.charCodeAt(u),o(a)||10===a);u++);if(u>=y)return!1;for(g=u,(p=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok&&(b=e.md.normalizeLink(p.str),e.md.validateLink(b)?u=p.pos:b=""),g=u;u<y&&(a=e.src.charCodeAt(u),o(a)||10===a);u++);if(p=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<y&&g!==u&&p.ok)for(f=p.str,u=p.pos;u<y&&(a=e.src.charCodeAt(u),o(a)||10===a);u++);else f="";if(u>=y||41!==e.src.charCodeAt(u))return e.pos=v,!1;u++}else{if("undefined"===typeof e.env.references)return!1;if(u<y&&91===e.src.charCodeAt(u)?(g=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?s=e.src.slice(g,u++):u=l+1):u=l+1,s||(s=e.src.slice(c,l)),!(d=e.env.references[r(s)]))return e.pos=v,!1;b=d.href,f=d.title}return n||(i=e.src.slice(c,l),e.md.inline.parse(i,e.md,e.env,m=[]),(h=e.push("image","img",0)).attrs=t=[["src",b],["alt",""]],h.children=m,h.content=i,f&&t.push(["title",f])),e.pos=u,e.posMax=y,!0}},9384:function(e,n,t){"use strict";var r=t(786).normalizeReference,o=t(786).isSpace;e.exports=function(e,n){var t,a,i,s,l,c,u,d,p="",f="",h=e.pos,m=e.posMax,g=e.pos,b=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(l=e.pos+1,(s=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((c=s+1)<m&&40===e.src.charCodeAt(c)){for(b=!1,c++;c<m&&(a=e.src.charCodeAt(c),o(a)||10===a);c++);if(c>=m)return!1;if(g=c,(u=e.md.helpers.parseLinkDestination(e.src,c,e.posMax)).ok){for(p=e.md.normalizeLink(u.str),e.md.validateLink(p)?c=u.pos:p="",g=c;c<m&&(a=e.src.charCodeAt(c),o(a)||10===a);c++);if(u=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<m&&g!==c&&u.ok)for(f=u.str,c=u.pos;c<m&&(a=e.src.charCodeAt(c),o(a)||10===a);c++);}(c>=m||41!==e.src.charCodeAt(c))&&(b=!0),c++}if(b){if("undefined"===typeof e.env.references)return!1;if(c<m&&91===e.src.charCodeAt(c)?(g=c+1,(c=e.md.helpers.parseLinkLabel(e,c))>=0?i=e.src.slice(g,c++):c=s+1):c=s+1,i||(i=e.src.slice(l,s)),!(d=e.env.references[r(i)]))return e.pos=h,!1;p=d.href,f=d.title}return n||(e.pos=l,e.posMax=s,e.push("link_open","a",1).attrs=t=[["href",p]],f&&t.push(["title",f]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)),e.pos=c,e.posMax=m,!0}},7697:function(e){"use strict";var n=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;e.exports=function(e,t){var r,o,a,i,s,l,c;return!!e.md.options.linkify&&(!(e.linkLevel>0)&&(!((r=e.pos)+3>e.posMax)&&(58===e.src.charCodeAt(r)&&(47===e.src.charCodeAt(r+1)&&(47===e.src.charCodeAt(r+2)&&(!!(o=e.pending.match(n))&&(a=o[1],!!(i=e.md.linkify.matchAtStart(e.src.slice(r-a.length)))&&(s=(s=i.url).replace(/\*+$/,""),l=e.md.normalizeLink(s),!!e.md.validateLink(l)&&(t||(e.pending=e.pending.slice(0,-a.length),(c=e.push("link_open","a",1)).attrs=[["href",l]],c.markup="linkify",c.info="auto",(c=e.push("text","",0)).content=e.md.normalizeLinkText(s),(c=e.push("link_close","a",-1)).markup="linkify",c.info="auto"),e.pos+=s.length-a.length,!0)))))))))}},6179:function(e,n,t){"use strict";var r=t(786).isSpace;e.exports=function(e,n){var t,o,a,i=e.pos;if(10!==e.src.charCodeAt(i))return!1;if(t=e.pending.length-1,o=e.posMax,!n)if(t>=0&&32===e.pending.charCodeAt(t))if(t>=1&&32===e.pending.charCodeAt(t-1)){for(a=t-1;a>=1&&32===e.pending.charCodeAt(a-1);)a--;e.pending=e.pending.slice(0,a),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(i++;i<o&&r(e.src.charCodeAt(i));)i++;return e.pos=i,!0}},9402:function(e,n,t){"use strict";var r=t(596),o=t(786).isWhiteSpace,a=t(786).isPunctChar,i=t(786).isMdAsciiPunct;function s(e,n,t,r){this.src=e,this.env=t,this.md=n,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}s.prototype.pushPending=function(){var e=new r("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},s.prototype.push=function(e,n,t){this.pending&&this.pushPending();var o=new r(e,n,t),a=null;return t<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,t>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],a={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(a),o},s.prototype.scanDelims=function(e,n){var t,r,s,l,c,u,d,p,f,h=e,m=!0,g=!0,b=this.posMax,v=this.src.charCodeAt(e);for(t=e>0?this.src.charCodeAt(e-1):32;h<b&&this.src.charCodeAt(h)===v;)h++;return s=h-e,r=h<b?this.src.charCodeAt(h):32,d=i(t)||a(String.fromCharCode(t)),f=i(r)||a(String.fromCharCode(r)),u=o(t),(p=o(r))?m=!1:f&&(u||d||(m=!1)),u?g=!1:d&&(p||f||(g=!1)),n?(l=m,c=g):(l=m&&(!g||d),c=g&&(!m||f)),{can_open:l,can_close:c,length:s}},s.prototype.Token=r,e.exports=s},333:function(e){"use strict";function n(e,n){var t,r,o,a,i,s=[],l=n.length;for(t=0;t<l;t++)126===(o=n[t]).marker&&-1!==o.end&&(a=n[o.end],(i=e.tokens[o.token]).type="s_open",i.tag="s",i.nesting=1,i.markup="~~",i.content="",(i=e.tokens[a.token]).type="s_close",i.tag="s",i.nesting=-1,i.markup="~~",i.content="","text"===e.tokens[a.token-1].type&&"~"===e.tokens[a.token-1].content&&s.push(a.token-1));for(;s.length;){for(r=(t=s.pop())+1;r<e.tokens.length&&"s_close"===e.tokens[r].type;)r++;t!==--r&&(i=e.tokens[r],e.tokens[r]=e.tokens[t],e.tokens[t]=i)}}e.exports.w=function(e,n){var t,r,o,a,i=e.pos,s=e.src.charCodeAt(i);if(n)return!1;if(126!==s)return!1;if(o=(r=e.scanDelims(e.pos,!0)).length,a=String.fromCharCode(s),o<2)return!1;for(o%2&&(e.push("text","",0).content=a,o--),t=0;t<o;t+=2)e.push("text","",0).content=a+a,e.delimiters.push({marker:s,length:0,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.g=function(e){var t,r=e.tokens_meta,o=e.tokens_meta.length;for(n(e,e.delimiters),t=0;t<o;t++)r[t]&&r[t].delimiters&&n(e,r[t].delimiters)}},6537:function(e){"use strict";function n(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var r=e.pos;r<e.posMax&&!n(e.src.charCodeAt(r));)r++;return r!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}},596:function(e){"use strict";function n(e,n,t){this.type=e,this.tag=n,this.attrs=null,this.map=null,this.nesting=t,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}n.prototype.attrIndex=function(e){var n,t,r;if(!this.attrs)return-1;for(t=0,r=(n=this.attrs).length;t<r;t++)if(n[t][0]===e)return t;return-1},n.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},n.prototype.attrSet=function(e,n){var t=this.attrIndex(e),r=[e,n];t<0?this.attrPush(r):this.attrs[t]=r},n.prototype.attrGet=function(e){var n=this.attrIndex(e),t=null;return n>=0&&(t=this.attrs[n][1]),t},n.prototype.attrJoin=function(e,n){var t=this.attrIndex(e);t<0?this.attrPush([e,n]):this.attrs[t][1]=this.attrs[t][1]+" "+n},e.exports=n},6762:function(e){"use strict";var n={};function t(e,r){var o;return"string"!==typeof r&&(r=t.defaultChars),o=function(e){var t,r,o=n[e];if(o)return o;for(o=n[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),o.push(r);for(t=0;t<e.length;t++)o[r=e.charCodeAt(t)]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return o}(r),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var n,t,r,a,i,s,l,c="";for(n=0,t=e.length;n<t;n+=3)(r=parseInt(e.slice(n+1,n+3),16))<128?c+=o[r]:192===(224&r)&&n+3<t&&128===(192&(a=parseInt(e.slice(n+4,n+6),16)))?(c+=(l=r<<6&1984|63&a)<128?"\ufffd\ufffd":String.fromCharCode(l),n+=3):224===(240&r)&&n+6<t&&(a=parseInt(e.slice(n+4,n+6),16),i=parseInt(e.slice(n+7,n+9),16),128===(192&a)&&128===(192&i))?(c+=(l=r<<12&61440|a<<6&4032|63&i)<2048||l>=55296&&l<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(l),n+=6):240===(248&r)&&n+9<t&&(a=parseInt(e.slice(n+4,n+6),16),i=parseInt(e.slice(n+7,n+9),16),s=parseInt(e.slice(n+10,n+12),16),128===(192&a)&&128===(192&i)&&128===(192&s))?((l=r<<18&1835008|a<<12&258048|i<<6&4032|63&s)<65536||l>1114111?c+="\ufffd\ufffd\ufffd\ufffd":(l-=65536,c+=String.fromCharCode(55296+(l>>10),56320+(1023&l))),n+=9):c+="\ufffd";return c}))}t.defaultChars=";/?:@&=+$,#",t.componentChars="",e.exports=t},2366:function(e){"use strict";var n={};function t(e,r,o){var a,i,s,l,c,u="";for("string"!==typeof r&&(o=r,r=t.defaultChars),"undefined"===typeof o&&(o=!0),c=function(e){var t,r,o=n[e];if(o)return o;for(o=n[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),/^[0-9a-z]$/i.test(r)?o.push(r):o.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)o[e.charCodeAt(t)]=e[t];return o}(r),a=0,i=e.length;a<i;a++)if(s=e.charCodeAt(a),o&&37===s&&a+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(a+1,a+3)))u+=e.slice(a,a+3),a+=2;else if(s<128)u+=c[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&a+1<i&&(l=e.charCodeAt(a+1))>=56320&&l<=57343){u+=encodeURIComponent(e[a]+e[a+1]),a++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[a]);return u}t.defaultChars=";/?:@&=+$,-_.!~*'()#",t.componentChars="-_.!~*'()",e.exports=t},835:function(e){"use strict";e.exports=function(e){var n="";return n+=e.protocol||"",n+=e.slashes?"//":"",n+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?n+="["+e.hostname+"]":n+=e.hostname||"",n+=e.port?":"+e.port:"",n+=e.pathname||"",n+=e.search||"",n+=e.hash||""}},3461:function(e,n,t){"use strict";e.exports.encode=t(2366),e.exports.decode=t(6762),e.exports.format=t(835),e.exports.parse=t(9944)},9944:function(e){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var t=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),i=["'"].concat(a),s=["%","/","?",";","#"].concat(i),l=["/","?","#"],c=/^[+a-z0-9A-Z_-]{0,63}$/,u=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};n.prototype.parse=function(e,n){var r,a,i,f,h,m=e;if(m=m.trim(),!n&&1===e.split("#").length){var g=o.exec(m);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var b=t.exec(m);if(b&&(i=(b=b[0]).toLowerCase(),this.protocol=b,m=m.substr(b.length)),(n||b||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(h="//"===m.substr(0,2))||b&&d[b]||(m=m.substr(2),this.slashes=!0)),!d[b]&&(h||b&&!p[b])){var v,y,x=-1;for(r=0;r<l.length;r++)-1!==(f=m.indexOf(l[r]))&&(-1===x||f<x)&&(x=f);for(-1!==(y=-1===x?m.lastIndexOf("@"):m.lastIndexOf("@",x))&&(v=m.slice(0,y),m=m.slice(y+1),this.auth=v),x=-1,r=0;r<s.length;r++)-1!==(f=m.indexOf(s[r]))&&(-1===x||f<x)&&(x=f);-1===x&&(x=m.length),":"===m[x-1]&&x--;var k=m.slice(0,x);m=m.slice(x),this.parseHost(k),this.hostname=this.hostname||"";var w="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!w){var S=this.hostname.split(/\./);for(r=0,a=S.length;r<a;r++){var E=S[r];if(E&&!E.match(c)){for(var C="",_=0,j=E.length;_<j;_++)E.charCodeAt(_)>127?C+="x":C+=E[_];if(!C.match(c)){var A=S.slice(0,r),N=S.slice(r+1),P=E.match(u);P&&(A.push(P[1]),N.unshift(P[2])),N.length&&(m=N.join(".")+m),this.hostname=A.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var T=m.indexOf("#");-1!==T&&(this.hash=m.substr(T),m=m.slice(0,T));var I=m.indexOf("?");return-1!==I&&(this.search=m.substr(I),m=m.slice(0,I)),m&&(this.pathname=m),p[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},n.prototype.parseHost=function(e){var n=r.exec(e);n&&(":"!==(n=n[0])&&(this.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(this.hostname=e)},e.exports=function(e,t){if(e&&e instanceof n)return e;var r=new n;return r.parse(e,t),r}},6293:function(e,n,t){"use strict";t.r(n),t.d(n,{decode:function(){return y},encode:function(){return x},toASCII:function(){return w},toUnicode:function(){return k},ucs2decode:function(){return m},ucs2encode:function(){return g}});var r=t(7762),o=t(3433),a=2147483647,i=36,s=/^xn--/,l=/[^\0-\x7F]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function f(e){throw new RangeError(u[e])}function h(e,n){var t=e.split("@"),r="";t.length>1&&(r=t[0]+"@",e=t[1]);var o=function(e,n){for(var t=[],r=e.length;r--;)t[r]=n(e[r]);return t}((e=e.replace(c,".")).split("."),n).join(".");return r+o}function m(e){for(var n=[],t=0,r=e.length;t<r;){var o=e.charCodeAt(t++);if(o>=55296&&o<=56319&&t<r){var a=e.charCodeAt(t++);56320==(64512&a)?n.push(((1023&o)<<10)+(1023&a)+65536):(n.push(o),t--)}else n.push(o)}return n}var g=function(e){return String.fromCodePoint.apply(String,(0,o.Z)(e))},b=function(e,n){return e+22+75*(e<26)-((0!=n)<<5)},v=function(e,n,t){var r=0;for(e=t?d(e/700):e>>1,e+=d(e/n);e>455;r+=i)e=d(e/35);return d(r+36*e/(e+38))},y=function(e){var n,t=[],r=e.length,o=0,s=128,l=72,c=e.lastIndexOf("-");c<0&&(c=0);for(var u=0;u<c;++u)e.charCodeAt(u)>=128&&f("not-basic"),t.push(e.charCodeAt(u));for(var p=c>0?c+1:0;p<r;){for(var h=o,m=1,g=i;;g+=i){p>=r&&f("invalid-input");var b=(n=e.charCodeAt(p++))>=48&&n<58?n-48+26:n>=65&&n<91?n-65:n>=97&&n<123?n-97:i;b>=i&&f("invalid-input"),b>d((a-o)/m)&&f("overflow"),o+=b*m;var y=g<=l?1:g>=l+26?26:g-l;if(b<y)break;var x=i-y;m>d(a/x)&&f("overflow"),m*=x}var k=t.length+1;l=v(o-h,k,0==h),d(o/k)>a-s&&f("overflow"),s+=d(o/k),o%=k,t.splice(o++,0,s)}return String.fromCodePoint.apply(String,t)},x=function(e){var n,t=[],o=(e=m(e)).length,s=128,l=0,c=72,u=(0,r.Z)(e);try{for(u.s();!(n=u.n()).done;){var h=n.value;h<128&&t.push(p(h))}}catch(O){u.e(O)}finally{u.f()}var g=t.length,y=g;for(g&&t.push("-");y<o;){var x,k=a,w=(0,r.Z)(e);try{for(w.s();!(x=w.n()).done;){var S=x.value;S>=s&&S<k&&(k=S)}}catch(O){w.e(O)}finally{w.f()}var E=y+1;k-s>d((a-l)/E)&&f("overflow"),l+=(k-s)*E,s=k;var C,_=(0,r.Z)(e);try{for(_.s();!(C=_.n()).done;){var j=C.value;if(j<s&&++l>a&&f("overflow"),j===s){for(var A=l,N=i;;N+=i){var P=N<=c?1:N>=c+26?26:N-c;if(A<P)break;var T=A-P,I=i-P;t.push(p(b(P+T%I,0))),A=d(T/I)}t.push(p(b(A,0))),c=v(l,E,y===g),l=0,++y}}}catch(O){_.e(O)}finally{_.f()}++l,++s}return t.join("")},k=function(e){return h(e,(function(e){return s.test(e)?y(e.slice(4).toLowerCase()):e}))},w=function(e){return h(e,(function(e){return l.test(e)?"xn--"+x(e):e}))},S={version:"2.1.0",ucs2:{decode:m,encode:g},decode:y,encode:x,toASCII:w,toUnicode:k};n.default=S},4463:function(e,n,t){"use strict";var r=t(2791),o=t(5296);function a(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(s[e]=n,e=0;e<n.length;e++)i.add(n[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,n,t,r,o,a,i){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var n=e[0];g[n]=new m(n,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,n,t,r){var o=g.hasOwnProperty(n)?g[n]:null;(null!==o?0!==o.type:r||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function(e,n,t,r){if(null===n||"undefined"===typeof n||function(e,n,t,r){if(null!==t&&0===t.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==t?!t.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,t,r))return!0;if(r)return!1;if(null!==t)switch(t.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,t,o,r)&&(t=null),r||null===o?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(n)&&(null===t?e.removeAttribute(n):e.setAttribute(n,""+t)):o.mustUseProperty?e[o.propertyName]=null===t?3!==o.type&&"":t:(n=o.attributeName,r=o.attributeNamespace,null===t?e.removeAttribute(n):(t=3===(o=o.type)||4===o&&!0===t?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var n=e.replace(b,v);g[n]=new m(n,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var n=e.replace(b,v);g[n]=new m(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var n=e.replace(b,v);g[n]=new m(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),j=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var R,M=Object.assign;function q(e){if(void 0===R)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);R=n&&n[1]||""}return"\n"+R+e}var F=!1;function B(e,n){if(!e||F)return"";F=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(c){var r=c}Reflect.construct(e,[],n)}else{try{n.call()}catch(c){r=c}e.call(n.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s]){var l="\n"+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?q(e):""}function z(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case C:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case A:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(n=e.displayName||null)?n:U(e.type)||"Memo";case I:n=e._payload,e=e._init;try{return U(e(n))}catch(t){}}return null}function H(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(n);case 8:return n===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof n)return n.displayName||n.name||null;if("string"===typeof n)return n}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function W(e){e._valueTracker||(e._valueTracker=function(e){var n=G(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&"undefined"!==typeof t&&"function"===typeof t.get&&"function"===typeof t.set){var o=t.get,a=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function $(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function Q(e,n){var t=n.checked;return M({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:e._wrapperState.initialChecked})}function J(e,n){var t=null==n.defaultValue?"":n.defaultValue,r=null!=n.checked?n.checked:n.defaultChecked;t=V(null!=n.value?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function X(e,n){null!=(n=n.checked)&&y(e,"checked",n,!1)}function Z(e,n){X(e,n);var t=V(n.value),r=n.type;if(null!=t)"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");n.hasOwnProperty("value")?ee(e,n.type,t):n.hasOwnProperty("defaultValue")&&ee(e,n.type,V(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function Y(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!("submit"!==r&&"reset"!==r||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}""!==(t=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==t&&(e.name=t)}function ee(e,n,t){"number"===n&&K(e.ownerDocument)===e||(null==t?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var ne=Array.isArray;function te(e,n,t,r){if(e=e.options,n){n={};for(var o=0;o<t.length;o++)n["$"+t[o]]=!0;for(t=0;t<e.length;t++)o=n.hasOwnProperty("$"+e[t].value),e[t].selected!==o&&(e[t].selected=o),o&&r&&(e[t].defaultSelected=!0)}else{for(t=""+V(t),n=null,o=0;o<e.length;o++){if(e[o].value===t)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==n||e[o].disabled||(n=e[o])}null!==n&&(n.selected=!0)}}function re(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(a(91));return M({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,n){var t=n.value;if(null==t){if(t=n.children,n=n.defaultValue,null!=t){if(null!=n)throw Error(a(92));if(ne(t)){if(1<t.length)throw Error(a(93));t=t[0]}n=t}null==n&&(n=""),t=n}e._wrapperState={initialValue:V(t)}}function ae(e,n){var t=V(n.value),r=V(n.defaultValue);null!=t&&((t=""+t)!==e.value&&(e.value=t),null==n.defaultValue&&e.defaultValue!==t&&(e.defaultValue=t)),null!=r&&(e.defaultValue=""+r)}function ie(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?se(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,t,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,n)}))}:ue);function pe(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,n,t){return null==n||"boolean"===typeof n||""===n?"":t||"number"!==typeof n||0===n||fe.hasOwnProperty(e)&&fe[e]?(""+n).trim():n+"px"}function ge(e,n){for(var t in e=e.style,n)if(n.hasOwnProperty(t)){var r=0===t.indexOf("--"),o=me(t,n[t],r);"float"===t&&(t="cssFloat"),r?e.setProperty(t,o):e[t]=o}}Object.keys(fe).forEach((function(e){he.forEach((function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),fe[n]=fe[e]}))}));var be=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,n){if(n){if(be[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(a(60));if("object"!==typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=n.style&&"object"!==typeof n.style)throw Error(a(62))}}function ye(e,n){if(-1===e.indexOf("-"))return"string"===typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ee=null;function Ce(e){if(e=xo(e)){if("function"!==typeof we)throw Error(a(280));var n=e.stateNode;n&&(n=wo(n),we(e.stateNode,e.type,n))}}function _e(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function je(){if(Se){var e=Se,n=Ee;if(Ee=Se=null,Ce(e),n)for(e=0;e<n.length;e++)Ce(n[e])}}function Ae(e,n){return e(n)}function Ne(){}var Pe=!1;function Te(e,n,t){if(Pe)return e(n,t);Pe=!0;try{return Ae(e,n,t)}finally{Pe=!1,(null!==Se||null!==Ee)&&(Ne(),je())}}function Ie(e,n){var t=e.stateNode;if(null===t)return null;var r=wo(t);if(null===r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!==typeof t)throw Error(a(231,n,typeof t));return t}var Oe=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Oe=!1}function De(e,n,t,r,o,a,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{n.apply(t,c)}catch(u){this.onError(u)}}var Re=!1,Me=null,qe=!1,Fe=null,Be={onError:function(e){Re=!0,Me=e}};function ze(e,n,t,r,o,a,i,s,l){Re=!1,Me=null,De.apply(Be,arguments)}function Ue(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!==(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function He(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var n=e.alternate;if(!n){if(null===(n=Ue(e)))throw Error(a(188));return n!==e?null:e}for(var t=e,r=n;;){var o=t.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){t=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===t)return Ve(o),e;if(i===r)return Ve(o),n;i=i.sibling}throw Error(a(188))}if(t.return!==r.return)t=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===t){s=!0,t=o,r=i;break}if(l===r){s=!0,r=o,t=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===t){s=!0,t=i,r=o;break}if(l===r){s=!0,r=i,t=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(t.alternate!==r)throw Error(a(190))}if(3!==t.tag)throw Error(a(188));return t.stateNode.current===t?e:n}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=We(e);if(null!==n)return n;e=e.sibling}return null}var $e=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Qe=o.unstable_shouldYield,Je=o.unstable_requestPaint,Xe=o.unstable_now,Ze=o.unstable_getCurrentPriorityLevel,Ye=o.unstable_ImmediatePriority,en=o.unstable_UserBlockingPriority,nn=o.unstable_NormalPriority,tn=o.unstable_LowPriority,rn=o.unstable_IdlePriority,on=null,an=null;var sn=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ln(e)/cn|0)|0},ln=Math.log,cn=Math.LN2;var un=64,dn=4194304;function pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=268435455&t;if(0!==i){var s=i&~o;0!==s?r=pn(s):0!==(a&=i)&&(r=pn(a))}else 0!==(i=t&~o)?r=pn(i):0!==a&&(r=pn(a));if(0===r)return 0;if(0!==n&&n!==r&&0===(n&o)&&((o=r&-r)>=(a=n&-n)||16===o&&0!==(4194240&a)))return n;if(0!==(4&r)&&(r|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)o=1<<(t=31-sn(n)),r|=e[t],n&=~o;return r}function hn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function mn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gn(){var e=un;return 0===(4194240&(un<<=1))&&(un=64),e}function bn(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function vn(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-sn(n)]=t}function yn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-sn(t),o=1<<r;o&n|e[r]&n&&(e[r]|=n),t&=~o}}var xn=0;function kn(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wn,Sn,En,Cn,_n,jn=!1,An=[],Nn=null,Pn=null,Tn=null,In=new Map,On=new Map,Ln=[],Dn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rn(e,n){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":In.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(n.pointerId)}}function Mn(e,n,t,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==n&&(null!==(n=xo(n))&&Sn(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,null!==o&&-1===n.indexOf(o)&&n.push(o),e)}function qn(e){var n=yo(e.target);if(null!==n){var t=Ue(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=He(t)))return e.blockedOn=n,void _n(e.priority,(function(){En(t)}))}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function Fn(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=Jn(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==t)return null!==(n=xo(t))&&Sn(n),e.blockedOn=t,!1;var r=new(t=e.nativeEvent).constructor(t.type,t);xe=r,t.target.dispatchEvent(r),xe=null,n.shift()}return!0}function Bn(e,n,t){Fn(e)&&t.delete(n)}function zn(){jn=!1,null!==Nn&&Fn(Nn)&&(Nn=null),null!==Pn&&Fn(Pn)&&(Pn=null),null!==Tn&&Fn(Tn)&&(Tn=null),In.forEach(Bn),On.forEach(Bn)}function Un(e,n){e.blockedOn===n&&(e.blockedOn=null,jn||(jn=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,zn)))}function Hn(e){function n(n){return Un(n,e)}if(0<An.length){Un(An[0],e);for(var t=1;t<An.length;t++){var r=An[t];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nn&&Un(Nn,e),null!==Pn&&Un(Pn,e),null!==Tn&&Un(Tn,e),In.forEach(n),On.forEach(n),t=0;t<Ln.length;t++)(r=Ln[t]).blockedOn===e&&(r.blockedOn=null);for(;0<Ln.length&&null===(t=Ln[0]).blockedOn;)qn(t),null===t.blockedOn&&Ln.shift()}var Vn=x.ReactCurrentBatchConfig,Gn=!0;function Wn(e,n,t,r){var o=xn,a=Vn.transition;Vn.transition=null;try{xn=1,Kn(e,n,t,r)}finally{xn=o,Vn.transition=a}}function $n(e,n,t,r){var o=xn,a=Vn.transition;Vn.transition=null;try{xn=4,Kn(e,n,t,r)}finally{xn=o,Vn.transition=a}}function Kn(e,n,t,r){if(Gn){var o=Jn(e,n,t,r);if(null===o)Vr(e,n,r,Qn,t),Rn(e,r);else if(function(e,n,t,r,o){switch(n){case"focusin":return Nn=Mn(Nn,e,n,t,r,o),!0;case"dragenter":return Pn=Mn(Pn,e,n,t,r,o),!0;case"mouseover":return Tn=Mn(Tn,e,n,t,r,o),!0;case"pointerover":var a=o.pointerId;return In.set(a,Mn(In.get(a)||null,e,n,t,r,o)),!0;case"gotpointercapture":return a=o.pointerId,On.set(a,Mn(On.get(a)||null,e,n,t,r,o)),!0}return!1}(o,e,n,t,r))r.stopPropagation();else if(Rn(e,r),4&n&&-1<Dn.indexOf(e)){for(;null!==o;){var a=xo(o);if(null!==a&&wn(a),null===(a=Jn(e,n,t,r))&&Vr(e,n,r,Qn,t),a===o)break;o=a}null!==o&&r.stopPropagation()}else Vr(e,n,r,null,t)}}var Qn=null;function Jn(e,n,t,r){if(Qn=null,null!==(e=yo(e=ke(r))))if(null===(n=Ue(e)))e=null;else if(13===(t=n.tag)){if(null!==(e=He(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Qn=e,null}function Xn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Ye:return 1;case en:return 4;case nn:case tn:return 16;case rn:return 536870912;default:return 16}default:return 16}}var Zn=null,Yn=null,et=null;function nt(){if(et)return et;var e,n,t=Yn,r=t.length,o="value"in Zn?Zn.value:Zn.textContent,a=o.length;for(e=0;e<r&&t[e]===o[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===o[a-n];n++);return et=o.slice(e,1<n?1-n:void 0)}function tt(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function rt(){return!0}function ot(){return!1}function at(e){function n(n,t,r,o,a){for(var i in this._reactName=n,this._targetInst=r,this.type=t,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?rt:ot,this.isPropagationStopped=ot,this}return M(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rt)},persist:function(){},isPersistent:rt}),n}var it,st,lt,ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ut=at(ct),dt=M({},ct,{view:0,detail:0}),pt=at(dt),ft=M({},dt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ct,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lt&&(lt&&"mousemove"===e.type?(it=e.screenX-lt.screenX,st=e.screenY-lt.screenY):st=it=0,lt=e),it)},movementY:function(e){return"movementY"in e?e.movementY:st}}),ht=at(ft),mt=at(M({},ft,{dataTransfer:0})),gt=at(M({},dt,{relatedTarget:0})),bt=at(M({},ct,{animationName:0,elapsedTime:0,pseudoElement:0})),vt=M({},ct,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yt=at(vt),xt=at(M({},ct,{data:0})),kt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},St={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Et(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=St[e])&&!!n[e]}function Ct(){return Et}var _t=M({},dt,{key:function(e){if(e.key){var n=kt[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=tt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ct,charCode:function(e){return"keypress"===e.type?tt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jt=at(_t),At=at(M({},ft,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nt=at(M({},dt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ct})),Pt=at(M({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tt=M({},ft,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),It=at(Tt),Ot=[9,13,27,32],Lt=u&&"CompositionEvent"in window,Dt=null;u&&"documentMode"in document&&(Dt=document.documentMode);var Rt=u&&"TextEvent"in window&&!Dt,Mt=u&&(!Lt||Dt&&8<Dt&&11>=Dt),qt=String.fromCharCode(32),Ft=!1;function Bt(e,n){switch(e){case"keyup":return-1!==Ot.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zt(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ut=!1;var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!Ht[e.type]:"textarea"===n}function Gt(e,n,t,r){_e(r),0<(n=Wr(n,"onChange")).length&&(t=new ut("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var Wt=null,$t=null;function Kt(e){qr(e,0)}function Qt(e){if($(ko(e)))return e}function Jt(e,n){if("change"===e)return n}var Xt=!1;if(u){var Zt;if(u){var Yt="oninput"in document;if(!Yt){var er=document.createElement("div");er.setAttribute("oninput","return;"),Yt="function"===typeof er.oninput}Zt=Yt}else Zt=!1;Xt=Zt&&(!document.documentMode||9<document.documentMode)}function nr(){Wt&&(Wt.detachEvent("onpropertychange",tr),$t=Wt=null)}function tr(e){if("value"===e.propertyName&&Qt($t)){var n=[];Gt(n,$t,e,ke(e)),Te(Kt,n)}}function rr(e,n,t){"focusin"===e?(nr(),$t=t,(Wt=n).attachEvent("onpropertychange",tr)):"focusout"===e&&nr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qt($t)}function ar(e,n){if("click"===e)return Qt(n)}function ir(e,n){if("input"===e||"change"===e)return Qt(n)}var sr="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n};function lr(e,n){if(sr(e,n))return!0;if("object"!==typeof e||null===e||"object"!==typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var o=t[r];if(!d.call(n,o)||!sr(e[o],n[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,n){var t,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?dr(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function pr(){for(var e=window,n=K();n instanceof e.HTMLIFrameElement;){try{var t="string"===typeof n.contentWindow.location.href}catch(r){t=!1}if(!t)break;n=K((e=n.contentWindow).document)}return n}function fr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}function hr(e){var n=pr(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&dr(t.ownerDocument.documentElement,t)){if(null!==r&&fr(t))if(n=r.start,void 0===(e=r.end)&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if((e=(n=t.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var o=t.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=ur(t,a);var i=ur(t,r);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((n=n.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(n),e.extend(i.node,i.offset)):(n.setEnd(i.node,i.offset),e.addRange(n)))}for(n=[],e=t;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<n.length;t++)(e=n[t]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,br=null,vr=null,yr=!1;function xr(e,n,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;yr||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(br,"onSelect")).length&&(n=new ut("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=gr)))}function kr(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var wr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var n,t=wr[e];for(n in t)if(t.hasOwnProperty(n)&&n in Er)return Sr[e]=t[n];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var _r=Cr("animationend"),jr=Cr("animationiteration"),Ar=Cr("animationstart"),Nr=Cr("transitionend"),Pr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,n){Pr.set(e,n),l(n,[e])}for(var Or=0;Or<Tr.length;Or++){var Lr=Tr[Or];Ir(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Ir(_r,"onAnimationEnd"),Ir(jr,"onAnimationIteration"),Ir(Ar,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Mr(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,function(e,n,t,r,o,i,s,l,c){if(ze.apply(this,arguments),Re){if(!Re)throw Error(a(198));var u=Me;Re=!1,Me=null,qe||(qe=!0,Fe=u)}}(r,n,void 0,e),e.currentTarget=null}function qr(e,n){n=0!==(4&n);for(var t=0;t<e.length;t++){var r=e[t],o=r.event;r=r.listeners;e:{var a=void 0;if(n)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;Mr(o,s,c),a=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;Mr(o,s,c),a=l}}}if(qe)throw e=Fe,qe=!1,Fe=null,e}function Fr(e,n){var t=n[go];void 0===t&&(t=n[go]=new Set);var r=e+"__bubble";t.has(r)||(Hr(n,e,2,!1),t.add(r))}function Br(e,n,t){var r=0;n&&(r|=4),Hr(t,e,r,n)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[zr]){e[zr]=!0,i.forEach((function(n){"selectionchange"!==n&&(Rr.has(n)||Br(n,!1,e),Br(n,!0,e))}));var n=9===e.nodeType?e:e.ownerDocument;null===n||n[zr]||(n[zr]=!0,Br("selectionchange",!1,n))}}function Hr(e,n,t,r){switch(Xn(n)){case 1:var o=Wn;break;case 4:o=$n;break;default:o=Kn}t=o.bind(null,n,t,e),o=void 0,!Oe||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(o=!0),r?void 0!==o?e.addEventListener(n,t,{capture:!0,passive:o}):e.addEventListener(n,t,!0):void 0!==o?e.addEventListener(n,t,{passive:o}):e.addEventListener(n,t,!1)}function Vr(e,n,t,r,o){var a=r;if(0===(1&n)&&0===(2&n)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=yo(s)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}s=s.parentNode}}r=r.return}Te((function(){var r=a,o=ke(t),i=[];e:{var s=Pr.get(e);if(void 0!==s){var l=ut,c=e;switch(e){case"keypress":if(0===tt(t))break e;case"keydown":case"keyup":l=jt;break;case"focusin":c="focus",l=gt;break;case"focusout":c="blur",l=gt;break;case"beforeblur":case"afterblur":l=gt;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ht;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nt;break;case _r:case jr:case Ar:l=bt;break;case Nr:l=Pt;break;case"scroll":l=pt;break;case"wheel":l=It;break;case"copy":case"cut":case"paste":l=yt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=At}var u=0!==(4&n),d=!u&&"scroll"===e,p=u?null!==s?s+"Capture":null:s;u=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Ie(h,p))&&u.push(Gr(h,m,f)))),d)break;h=h.return}0<u.length&&(s=new l(s,c,null,t,o),i.push({event:s,listeners:u}))}}if(0===(7&n)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||t===xe||!(c=t.relatedTarget||t.fromElement)||!yo(c)&&!c[mo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=t.relatedTarget||t.toElement)?yo(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=ht,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=At,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:ko(l),f=null==c?s:ko(c),(s=new u(m,h+"leave",l,t,o)).target=d,s.relatedTarget=f,m=null,yo(o)===r&&((u=new u(p,h+"enter",c,t,o)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(p=c,h=0,f=u=l;f;f=$r(f))h++;for(f=0,m=p;m;m=$r(m))f++;for(;0<h-f;)u=$r(u),h--;for(;0<f-h;)p=$r(p),f--;for(;h--;){if(u===p||null!==p&&u===p.alternate)break e;u=$r(u),p=$r(p)}u=null}else u=null;null!==l&&Kr(i,s,l,u,!1),null!==c&&null!==d&&Kr(i,d,c,u,!0)}if("select"===(l=(s=r?ko(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Jt;else if(Vt(s))if(Xt)g=ir;else{g=or;var b=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Gt(i,g,t,o):(b&&b(e,s,r),"focusout"===e&&(b=s._wrapperState)&&b.controlled&&"number"===s.type&&ee(s,"number",s.value)),b=r?ko(r):window,e){case"focusin":(Vt(b)||"true"===b.contentEditable)&&(gr=b,br=r,vr=null);break;case"focusout":vr=br=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,xr(i,t,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(i,t,o)}var v;if(Lt)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Ut?Bt(e,t)&&(y="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(y="onCompositionStart");y&&(Mt&&"ko"!==t.locale&&(Ut||"onCompositionStart"!==y?"onCompositionEnd"===y&&Ut&&(v=nt()):(Yn="value"in(Zn=o)?Zn.value:Zn.textContent,Ut=!0)),0<(b=Wr(r,y)).length&&(y=new xt(y,e,null,t,o),i.push({event:y,listeners:b}),v?y.data=v:null!==(v=zt(t))&&(y.data=v))),(v=Rt?function(e,n){switch(e){case"compositionend":return zt(n);case"keypress":return 32!==n.which?null:(Ft=!0,qt);case"textInput":return(e=n.data)===qt&&Ft?null:e;default:return null}}(e,t):function(e,n){if(Ut)return"compositionend"===e||!Lt&&Bt(e,n)?(e=nt(),et=Yn=Zn=null,Ut=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mt&&"ko"!==n.locale?null:n.data}}(e,t))&&(0<(r=Wr(r,"onBeforeInput")).length&&(o=new xt("onBeforeInput","beforeinput",null,t,o),i.push({event:o,listeners:r}),o.data=v))}qr(i,n)}))}function Gr(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Wr(e,n){for(var t=n+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Ie(e,t))&&r.unshift(Gr(e,a,o)),null!=(a=Ie(e,n))&&r.push(Gr(e,a,o))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,n,t,r,o){for(var a=n._reactName,i=[];null!==t&&t!==r;){var s=t,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Ie(t,a))&&i.unshift(Gr(t,l,s)):o||null!=(l=Ie(t,a))&&i.push(Gr(t,l,s))),t=t.return}0!==i.length&&e.push({event:n,listeners:i})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function Zr(e,n,t){if(n=Xr(n),Xr(e)!==n&&t)throw Error(a(425))}function Yr(){}var eo=null,no=null;function to(e,n){return"textarea"===e||"noscript"===e||"string"===typeof n.children||"number"===typeof n.children||"object"===typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ao="function"===typeof Promise?Promise:void 0,io="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ao?function(e){return ao.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function lo(e,n){var t=n,r=0;do{var o=t.nextSibling;if(e.removeChild(t),o&&8===o.nodeType)if("/$"===(t=o.data)){if(0===r)return e.removeChild(o),void Hn(n);r--}else"$"!==t&&"$?"!==t&&"$!"!==t||r++;t=o}while(t);Hn(n)}function co(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function uo(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),fo="__reactFiber$"+po,ho="__reactProps$"+po,mo="__reactContainer$"+po,go="__reactEvents$"+po,bo="__reactListeners$"+po,vo="__reactHandles$"+po;function yo(e){var n=e[fo];if(n)return n;for(var t=e.parentNode;t;){if(n=t[mo]||t[fo]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=uo(e);null!==e;){if(t=e[fo])return t;e=uo(e)}return n}t=(e=t).parentNode}return null}function xo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ko(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wo(e){return e[ho]||null}var So=[],Eo=-1;function Co(e){return{current:e}}function _o(e){0>Eo||(e.current=So[Eo],So[Eo]=null,Eo--)}function jo(e,n){Eo++,So[Eo]=e.current,e.current=n}var Ao={},No=Co(Ao),Po=Co(!1),To=Ao;function Io(e,n){var t=e.type.contextTypes;if(!t)return Ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in t)a[o]=n[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lo(){_o(Po),_o(No)}function Do(e,n,t){if(No.current!==Ao)throw Error(a(168));jo(No,n),jo(Po,t)}function Ro(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,"function"!==typeof r.getChildContext)return t;for(var o in r=r.getChildContext())if(!(o in n))throw Error(a(108,H(e)||"Unknown",o));return M({},t,r)}function Mo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ao,To=No.current,jo(No,e),jo(Po,Po.current),!0}function qo(e,n,t){var r=e.stateNode;if(!r)throw Error(a(169));t?(e=Ro(e,n,To),r.__reactInternalMemoizedMergedChildContext=e,_o(Po),_o(No),jo(No,e)):_o(Po),jo(Po,t)}var Fo=null,Bo=!1,zo=!1;function Uo(e){null===Fo?Fo=[e]:Fo.push(e)}function Ho(){if(!zo&&null!==Fo){zo=!0;var e=0,n=xn;try{var t=Fo;for(xn=1;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}Fo=null,Bo=!1}catch(o){throw null!==Fo&&(Fo=Fo.slice(e+1)),$e(Ye,Ho),o}finally{xn=n,zo=!1}}return null}var Vo=[],Go=0,Wo=null,$o=0,Ko=[],Qo=0,Jo=null,Xo=1,Zo="";function Yo(e,n){Vo[Go++]=$o,Vo[Go++]=Wo,Wo=e,$o=n}function ea(e,n,t){Ko[Qo++]=Xo,Ko[Qo++]=Zo,Ko[Qo++]=Jo,Jo=e;var r=Xo;e=Zo;var o=32-sn(r)-1;r&=~(1<<o),t+=1;var a=32-sn(n)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Xo=1<<32-sn(n)+o|t<<o|r,Zo=a+e}else Xo=1<<a|t<<o|r,Zo=e}function na(e){null!==e.return&&(Yo(e,1),ea(e,1,0))}function ta(e){for(;e===Wo;)Wo=Vo[--Go],Vo[Go]=null,$o=Vo[--Go],Vo[Go]=null;for(;e===Jo;)Jo=Ko[--Qo],Ko[Qo]=null,Zo=Ko[--Qo],Ko[Qo]=null,Xo=Ko[--Qo],Ko[Qo]=null}var ra=null,oa=null,aa=!1,ia=null;function sa(e,n){var t=Ic(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)}function la(e,n){switch(e.tag){case 5:var t=e.type;return null!==(n=1!==n.nodeType||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,ra=e,oa=co(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,ra=e,oa=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(t=null!==Jo?{id:Xo,overflow:Zo}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},(t=Ic(18,null,null,0)).stateNode=n,t.return=e,e.child=t,ra=e,oa=null,!0);default:return!1}}function ca(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(aa){var n=oa;if(n){var t=n;if(!la(e,n)){if(ca(e))throw Error(a(418));n=co(t.nextSibling);var r=ra;n&&la(e,n)?sa(r,t):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function pa(e){if(e!==ra)return!1;if(!aa)return da(e),aa=!0,!1;var n;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!to(e.type,e.memoizedProps)),n&&(n=oa)){if(ca(e))throw fa(),Error(a(418));for(;n;)sa(e,n),n=co(n.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType){var t=e.data;if("/$"===t){if(0===n){oa=co(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++}e=e.nextSibling}oa=null}}else oa=ra?co(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=oa;e;)e=co(e.nextSibling)}function ha(){oa=ra=null,aa=!1}function ma(e){null===ia?ia=[e]:ia.push(e)}var ga=x.ReactCurrentBatchConfig;function ba(e,n){if(e&&e.defaultProps){for(var t in n=M({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}var va=Co(null),ya=null,xa=null,ka=null;function wa(){ka=xa=ya=null}function Sa(e){var n=va.current;_o(va),e._currentValue=n}function Ea(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Ca(e,n){ya=e,ka=xa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&n)&&(xs=!0),e.firstContext=null)}function _a(e){var n=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:n,next:null},null===xa){if(null===ya)throw Error(a(308));xa=e,ya.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return n}var ja=null;function Aa(e){null===ja?ja=[e]:ja.push(e)}function Na(e,n,t,r){var o=n.interleaved;return null===o?(t.next=t,Aa(n)):(t.next=o.next,o.next=t),n.interleaved=t,Pa(e,r)}function Pa(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}var Ta=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Da(e,n,t){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var o=r.pending;return null===o?n.next=n:(n.next=o.next,o.next=n),r.pending=n,Pa(e,t)}return null===(o=r.interleaved)?(n.next=n,Aa(r)):(n.next=o.next,o.next=n),r.interleaved=n,Pa(e,t)}function Ra(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,0!==(4194240&t))){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,yn(e,t)}}function Ma(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var o=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===a?o=a=i:a=a.next=i,t=t.next}while(null!==t);null===a?o=a=n:a=a.next=n}else o=a=n;return t={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function qa(e,n,t,r){var o=e.updateQueue;Ta=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=o.baseState;for(i=0,u=c=l=null,s=a;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=n,f=t,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(f,d,p):h)||void 0===p)break e;d=M({},d,p);break e;case 2:Ta=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(n=o.shared.interleaved)){o=n;do{i|=o.lane,o=o.next}while(o!==n)}else null===a&&(o.shared.lanes=0);Ml|=i,e.lanes=i,e.memoizedState=d}}function Fa(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],o=r.callback;if(null!==o){if(r.callback=null,r=t,"function"!==typeof o)throw Error(a(191,o));o.call(r)}}}var Ba=(new r.Component).refs;function za(e,n,t,r){t=null===(t=t(r,n=e.memoizedState))||void 0===t?n:M({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=nc(),o=tc(e),a=La(r,o);a.payload=n,void 0!==t&&null!==t&&(a.callback=t),null!==(n=Da(e,a,o))&&(rc(n,e,o,r),Ra(n,e,o))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=nc(),o=tc(e),a=La(r,o);a.tag=1,a.payload=n,void 0!==t&&null!==t&&(a.callback=t),null!==(n=Da(e,a,o))&&(rc(n,e,o,r),Ra(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=nc(),r=tc(e),o=La(t,r);o.tag=2,void 0!==n&&null!==n&&(o.callback=n),null!==(n=Da(e,o,r))&&(rc(n,e,r,t),Ra(n,e,r))}};function Ha(e,n,t,r,o,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!n.prototype||!n.prototype.isPureReactComponent||(!lr(t,r)||!lr(o,a))}function Va(e,n,t){var r=!1,o=Ao,a=n.contextType;return"object"===typeof a&&null!==a?a=_a(a):(o=Oo(n)?To:No.current,a=(r=null!==(r=n.contextTypes)&&void 0!==r)?Io(e,o):Ao),n=new n(t,a),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=Ua,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),n}function Ga(e,n,t,r){e=n.state,"function"===typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"===typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Ua.enqueueReplaceState(n,n.state,null)}function Wa(e,n,t,r){var o=e.stateNode;o.props=t,o.state=e.memoizedState,o.refs=Ba,Ia(e);var a=n.contextType;"object"===typeof a&&null!==a?o.context=_a(a):(a=Oo(n)?To:No.current,o.context=Io(e,a)),o.state=e.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(za(e,n,a,t),o.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(n=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),n!==o.state&&Ua.enqueueReplaceState(o,o.state,null),qa(e,t,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function $a(e,n,t){if(null!==(e=t.ref)&&"function"!==typeof e&&"object"!==typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(a(309));var r=t.stateNode}if(!r)throw Error(a(147,e));var o=r,i=""+e;return null!==n&&null!==n.ref&&"function"===typeof n.ref&&n.ref._stringRef===i?n.ref:(n=function(e){var n=o.refs;n===Ba&&(n=o.refs={}),null===e?delete n[i]:n[i]=e},n._stringRef=i,n)}if("string"!==typeof e)throw Error(a(284));if(!t._owner)throw Error(a(290,e))}return e}function Ka(e,n){throw e=Object.prototype.toString.call(n),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ja(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function o(e,n){return(e=Lc(e,n)).index=0,e.sibling=null,e}function i(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=2,t):r:(n.flags|=2,t):(n.flags|=1048576,t)}function s(n){return e&&null===n.alternate&&(n.flags|=2),n}function l(e,n,t,r){return null===n||6!==n.tag?((n=qc(t,e.mode,r)).return=e,n):((n=o(n,t)).return=e,n)}function c(e,n,t,r){var a=t.type;return a===S?d(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&Qa(a)===n.type)?((r=o(n,t.props)).ref=$a(e,n,t),r.return=e,r):((r=Dc(t.type,t.key,t.props,null,e.mode,r)).ref=$a(e,n,t),r.return=e,r)}function u(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Fc(t,e.mode,r)).return=e,n):((n=o(n,t.children||[])).return=e,n)}function d(e,n,t,r,a){return null===n||7!==n.tag?((n=Rc(t,e.mode,r,a)).return=e,n):((n=o(n,t)).return=e,n)}function p(e,n,t){if("string"===typeof n&&""!==n||"number"===typeof n)return(n=qc(""+n,e.mode,t)).return=e,n;if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return(t=Dc(n.type,n.key,n.props,null,e.mode,t)).ref=$a(e,null,n),t.return=e,t;case w:return(n=Fc(n,e.mode,t)).return=e,n;case I:return p(e,(0,n._init)(n._payload),t)}if(ne(n)||D(n))return(n=Rc(n,e.mode,t,null)).return=e,n;Ka(e,n)}return null}function f(e,n,t,r){var o=null!==n?n.key:null;if("string"===typeof t&&""!==t||"number"===typeof t)return null!==o?null:l(e,n,""+t,r);if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return t.key===o?c(e,n,t,r):null;case w:return t.key===o?u(e,n,t,r):null;case I:return f(e,n,(o=t._init)(t._payload),r)}if(ne(t)||D(t))return null!==o?null:d(e,n,t,r,null);Ka(e,t)}return null}function h(e,n,t,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(n,e=e.get(t)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(n,e=e.get(null===r.key?t:r.key)||null,r,o);case w:return u(n,e=e.get(null===r.key?t:r.key)||null,r,o);case I:return h(e,n,t,(0,r._init)(r._payload),o)}if(ne(r)||D(r))return d(n,e=e.get(t)||null,r,o,null);Ka(n,r)}return null}function m(o,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var b=f(o,d,s[m],l);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&n(o,d),a=i(b,a,m),null===u?c=b:u.sibling=b,u=b,d=g}if(m===s.length)return t(o,d),aa&&Yo(o,m),c;if(null===d){for(;m<s.length;m++)null!==(d=p(o,s[m],l))&&(a=i(d,a,m),null===u?c=d:u.sibling=d,u=d);return aa&&Yo(o,m),c}for(d=r(o,d);m<s.length;m++)null!==(g=h(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return n(o,e)})),aa&&Yo(o,m),c}function g(o,s,l,c){var u=D(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,b=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var y=f(o,m,v.value,c);if(null===y){null===m&&(m=b);break}e&&m&&null===y.alternate&&n(o,m),s=i(y,s,g),null===d?u=y:d.sibling=y,d=y,m=b}if(v.done)return t(o,m),aa&&Yo(o,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=p(o,v.value,c))&&(s=i(v,s,g),null===d?u=v:d.sibling=v,d=v);return aa&&Yo(o,g),u}for(m=r(o,m);!v.done;g++,v=l.next())null!==(v=h(m,o,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=i(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return n(o,e)})),aa&&Yo(o,g),u}return function e(r,a,i,l){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case k:e:{for(var c=i.key,u=a;null!==u;){if(u.key===c){if((c=i.type)===S){if(7===u.tag){t(r,u.sibling),(a=o(u,i.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&Qa(c)===u.type){t(r,u.sibling),(a=o(u,i.props)).ref=$a(r,u,i),a.return=r,r=a;break e}t(r,u);break}n(r,u),u=u.sibling}i.type===S?((a=Rc(i.props.children,r.mode,l,i.key)).return=r,r=a):((l=Dc(i.type,i.key,i.props,null,r.mode,l)).ref=$a(r,a,i),l.return=r,r=l)}return s(r);case w:e:{for(u=i.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){t(r,a.sibling),(a=o(a,i.children||[])).return=r,r=a;break e}t(r,a);break}n(r,a),a=a.sibling}(a=Fc(i,r.mode,l)).return=r,r=a}return s(r);case I:return e(r,a,(u=i._init)(i._payload),l)}if(ne(i))return m(r,a,i,l);if(D(i))return g(r,a,i,l);Ka(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(t(r,a.sibling),(a=o(a,i)).return=r,r=a):(t(r,a),(a=qc(i,r.mode,l)).return=r,r=a),s(r)):t(r,a)}}var Xa=Ja(!0),Za=Ja(!1),Ya={},ei=Co(Ya),ni=Co(Ya),ti=Co(Ya);function ri(e){if(e===Ya)throw Error(a(174));return e}function oi(e,n){switch(jo(ti,n),jo(ni,e),jo(ei,Ya),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:le(null,"");break;default:n=le(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}_o(ei),jo(ei,n)}function ai(){_o(ei),_o(ni),_o(ti)}function ii(e){ri(ti.current);var n=ri(ei.current),t=le(n,e.type);n!==t&&(jo(ni,e),jo(ei,t))}function si(e){ni.current===e&&(_o(ei),_o(ni))}var li=Co(0);function ci(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!==(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ui=[];function di(){for(var e=0;e<ui.length;e++)ui[e]._workInProgressVersionPrimary=null;ui.length=0}var pi=x.ReactCurrentDispatcher,fi=x.ReactCurrentBatchConfig,hi=0,mi=null,gi=null,bi=null,vi=!1,yi=!1,xi=0,ki=0;function wi(){throw Error(a(321))}function Si(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!sr(e[t],n[t]))return!1;return!0}function Ei(e,n,t,r,o,i){if(hi=i,mi=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,pi.current=null===e||null===e.memoizedState?ss:ls,e=t(r,o),yi){i=0;do{if(yi=!1,xi=0,25<=i)throw Error(a(301));i+=1,bi=gi=null,n.updateQueue=null,pi.current=cs,e=t(r,o)}while(yi)}if(pi.current=is,n=null!==gi&&null!==gi.next,hi=0,bi=gi=mi=null,vi=!1,n)throw Error(a(300));return e}function Ci(){var e=0!==xi;return xi=0,e}function _i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===bi?mi.memoizedState=bi=e:bi=bi.next=e,bi}function ji(){if(null===gi){var e=mi.alternate;e=null!==e?e.memoizedState:null}else e=gi.next;var n=null===bi?mi.memoizedState:bi.next;if(null!==n)bi=n,gi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(gi=e).memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},null===bi?mi.memoizedState=bi=e:bi=bi.next=e}return bi}function Ai(e,n){return"function"===typeof n?n(e):n}function Ni(e){var n=ji(),t=n.queue;if(null===t)throw Error(a(311));t.lastRenderedReducer=e;var r=gi,o=r.baseQueue,i=t.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,t.pending=null}if(null!==o){i=o.next,r=r.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((hi&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=p,s=r):c=c.next=p,mi.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==i);null===c?s=r:c.next=l,sr(r,n.memoizedState)||(xs=!0),n.memoizedState=r,n.baseState=s,n.baseQueue=c,t.lastRenderedState=r}if(null!==(e=t.interleaved)){o=e;do{i=o.lane,mi.lanes|=i,Ml|=i,o=o.next}while(o!==e)}else null===o&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function Pi(e){var n=ji(),t=n.queue;if(null===t)throw Error(a(311));t.lastRenderedReducer=e;var r=t.dispatch,o=t.pending,i=n.memoizedState;if(null!==o){t.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);sr(i,n.memoizedState)||(xs=!0),n.memoizedState=i,null===n.baseQueue&&(n.baseState=i),t.lastRenderedState=i}return[i,r]}function Ti(){}function Ii(e,n){var t=mi,r=ji(),o=n(),i=!sr(r.memoizedState,o);if(i&&(r.memoizedState=o,xs=!0),r=r.queue,Vi(Di.bind(null,t,r,e),[e]),r.getSnapshot!==n||i||null!==bi&&1&bi.memoizedState.tag){if(t.flags|=2048,Fi(9,Li.bind(null,t,r,o,n),void 0,null),null===Pl)throw Error(a(349));0!==(30&hi)||Oi(t,n,o)}return o}function Oi(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=mi.updateQueue)?(n={lastEffect:null,stores:null},mi.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function Li(e,n,t,r){n.value=t,n.getSnapshot=r,Ri(n)&&Mi(e)}function Di(e,n,t){return t((function(){Ri(n)&&Mi(e)}))}function Ri(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!sr(e,t)}catch(r){return!0}}function Mi(e){var n=Pa(e,1);null!==n&&rc(n,e,1,-1)}function qi(e){var n=_i();return"function"===typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},n.queue=e,e=e.dispatch=ts.bind(null,mi,e),[n.memoizedState,e]}function Fi(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=mi.updateQueue)?(n={lastEffect:null,stores:null},mi.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Bi(){return ji().memoizedState}function zi(e,n,t,r){var o=_i();mi.flags|=e,o.memoizedState=Fi(1|n,t,void 0,void 0===r?null:r)}function Ui(e,n,t,r){var o=ji();r=void 0===r?null:r;var a=void 0;if(null!==gi){var i=gi.memoizedState;if(a=i.destroy,null!==r&&Si(r,i.deps))return void(o.memoizedState=Fi(n,t,a,r))}mi.flags|=e,o.memoizedState=Fi(1|n,t,a,r)}function Hi(e,n){return zi(8390656,8,e,n)}function Vi(e,n){return Ui(2048,8,e,n)}function Gi(e,n){return Ui(4,2,e,n)}function Wi(e,n){return Ui(4,4,e,n)}function $i(e,n){return"function"===typeof n?(e=e(),n(e),function(){n(null)}):null!==n&&void 0!==n?(e=e(),n.current=e,function(){n.current=null}):void 0}function Ki(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,Ui(4,4,$i.bind(null,n,e),t)}function Qi(){}function Ji(e,n){var t=ji();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Si(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Xi(e,n){var t=ji();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Si(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function Zi(e,n,t){return 0===(21&hi)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=t):(sr(t,n)||(t=gn(),mi.lanes|=t,Ml|=t,e.baseState=!0),n)}function Yi(e,n){var t=xn;xn=0!==t&&4>t?t:4,e(!0);var r=fi.transition;fi.transition={};try{e(!1),n()}finally{xn=t,fi.transition=r}}function es(){return ji().memoizedState}function ns(e,n,t){var r=tc(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},rs(e))os(n,t);else if(null!==(t=Na(e,n,t,r))){rc(t,e,r,nc()),as(t,n,r)}}function ts(e,n,t){var r=tc(e),o={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(rs(e))os(n,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var i=n.lastRenderedState,s=a(i,t);if(o.hasEagerState=!0,o.eagerState=s,sr(s,i)){var l=n.interleaved;return null===l?(o.next=o,Aa(n)):(o.next=l.next,l.next=o),void(n.interleaved=o)}}catch(c){}null!==(t=Na(e,n,o,r))&&(rc(t,e,r,o=nc()),as(t,n,r))}}function rs(e){var n=e.alternate;return e===mi||null!==n&&n===mi}function os(e,n){yi=vi=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function as(e,n,t){if(0!==(4194240&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,yn(e,t)}}var is={readContext:_a,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useInsertionEffect:wi,useLayoutEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useMutableSource:wi,useSyncExternalStore:wi,useId:wi,unstable_isNewReconciler:!1},ss={readContext:_a,useCallback:function(e,n){return _i().memoizedState=[e,void 0===n?null:n],e},useContext:_a,useEffect:Hi,useImperativeHandle:function(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,zi(4194308,4,$i.bind(null,n,e),t)},useLayoutEffect:function(e,n){return zi(4194308,4,e,n)},useInsertionEffect:function(e,n){return zi(4,2,e,n)},useMemo:function(e,n){var t=_i();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=_i();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=ns.bind(null,mi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_i().memoizedState=e},useState:qi,useDebugValue:Qi,useDeferredValue:function(e){return _i().memoizedState=e},useTransition:function(){var e=qi(!1),n=e[0];return e=Yi.bind(null,e[1]),_i().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=mi,o=_i();if(aa){if(void 0===t)throw Error(a(407));t=t()}else{if(t=n(),null===Pl)throw Error(a(349));0!==(30&hi)||Oi(r,n,t)}o.memoizedState=t;var i={value:t,getSnapshot:n};return o.queue=i,Hi(Di.bind(null,r,i,e),[e]),r.flags|=2048,Fi(9,Li.bind(null,r,i,t,n),void 0,null),t},useId:function(){var e=_i(),n=Pl.identifierPrefix;if(aa){var t=Zo;n=":"+n+"R"+(t=(Xo&~(1<<32-sn(Xo)-1)).toString(32)+t),0<(t=xi++)&&(n+="H"+t.toString(32)),n+=":"}else n=":"+n+"r"+(t=ki++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},ls={readContext:_a,useCallback:Ji,useContext:_a,useEffect:Vi,useImperativeHandle:Ki,useInsertionEffect:Gi,useLayoutEffect:Wi,useMemo:Xi,useReducer:Ni,useRef:Bi,useState:function(){return Ni(Ai)},useDebugValue:Qi,useDeferredValue:function(e){return Zi(ji(),gi.memoizedState,e)},useTransition:function(){return[Ni(Ai)[0],ji().memoizedState]},useMutableSource:Ti,useSyncExternalStore:Ii,useId:es,unstable_isNewReconciler:!1},cs={readContext:_a,useCallback:Ji,useContext:_a,useEffect:Vi,useImperativeHandle:Ki,useInsertionEffect:Gi,useLayoutEffect:Wi,useMemo:Xi,useReducer:Pi,useRef:Bi,useState:function(){return Pi(Ai)},useDebugValue:Qi,useDeferredValue:function(e){var n=ji();return null===gi?n.memoizedState=e:Zi(n,gi.memoizedState,e)},useTransition:function(){return[Pi(Ai)[0],ji().memoizedState]},useMutableSource:Ti,useSyncExternalStore:Ii,useId:es,unstable_isNewReconciler:!1};function us(e,n){try{var t="",r=n;do{t+=z(r),r=r.return}while(r);var o=t}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:n,stack:o,digest:null}}function ds(e,n,t){return{value:e,source:null,stack:null!=t?t:null,digest:null!=n?n:null}}function ps(e,n){try{console.error(n.value)}catch(t){setTimeout((function(){throw t}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,n,t){(t=La(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Gl||(Gl=!0,Wl=r),ps(0,n)},t}function ms(e,n,t){(t=La(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=n.value;t.payload=function(){return r(o)},t.callback=function(){ps(0,n)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(t.callback=function(){ps(0,n),"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),t}function gs(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var o=new Set;r.set(n,o)}else void 0===(o=r.get(n))&&(o=new Set,r.set(n,o));o.has(t)||(o.add(t),e=_c.bind(null,e,n,t),n.then(e,e))}function bs(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e);return null}function vs(e,n,t,r,o){return 0===(1&e.mode)?(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag&&(null===t.alternate?t.tag=17:((n=La(-1,1)).tag=2,Da(t,n,1))),t.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ys=x.ReactCurrentOwner,xs=!1;function ks(e,n,t,r){n.child=null===e?Za(n,null,t,r):Xa(n,e.child,t,r)}function ws(e,n,t,r,o){t=t.render;var a=n.ref;return Ca(n,o),r=Ei(e,n,t,r,a,o),t=Ci(),null===e||xs?(aa&&t&&na(n),n.flags|=1,ks(e,n,r,o),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Gs(e,n,o))}function Ss(e,n,t,r,o){if(null===e){var a=t.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=Dc(t.type,null,r,n,n.mode,o)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,Es(e,n,a,r,o))}if(a=e.child,0===(e.lanes&o)){var i=a.memoizedProps;if((t=null!==(t=t.compare)?t:lr)(i,r)&&e.ref===n.ref)return Gs(e,n,o)}return n.flags|=1,(e=Lc(a,r)).ref=n.ref,e.return=n,n.child=e}function Es(e,n,t,r,o){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===n.ref){if(xs=!1,n.pendingProps=r=a,0===(e.lanes&o))return n.lanes=e.lanes,Gs(e,n,o);0!==(131072&e.flags)&&(xs=!0)}}return js(e,n,t,r,o)}function Cs(e,n,t){var r=n.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},jo(Ll,Ol),Ol|=t;else{if(0===(1073741824&t))return e=null!==a?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,jo(Ll,Ol),Ol|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:t,jo(Ll,Ol),Ol|=r}else null!==a?(r=a.baseLanes|t,n.memoizedState=null):r=t,jo(Ll,Ol),Ol|=r;return ks(e,n,o,t),n.child}function _s(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function js(e,n,t,r,o){var a=Oo(t)?To:No.current;return a=Io(n,a),Ca(n,o),t=Ei(e,n,t,r,a,o),r=Ci(),null===e||xs?(aa&&r&&na(n),n.flags|=1,ks(e,n,t,o),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Gs(e,n,o))}function As(e,n,t,r,o){if(Oo(t)){var a=!0;Mo(n)}else a=!1;if(Ca(n,o),null===n.stateNode)Vs(e,n),Va(n,t,r),Wa(n,t,r,o),r=!0;else if(null===e){var i=n.stateNode,s=n.memoizedProps;i.props=s;var l=i.context,c=t.contextType;"object"===typeof c&&null!==c?c=_a(c):c=Io(n,c=Oo(t)?To:No.current);var u=t.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||l!==c)&&Ga(n,i,r,c),Ta=!1;var p=n.memoizedState;i.state=p,qa(n,r,i,o),l=n.memoizedState,s!==r||p!==l||Po.current||Ta?("function"===typeof u&&(za(n,t,u,r),l=n.memoizedState),(s=Ta||Ha(n,t,s,r,p,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(n.flags|=4194308)):("function"===typeof i.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=l),i.props=r,i.state=l,i.context=c,r=s):("function"===typeof i.componentDidMount&&(n.flags|=4194308),r=!1)}else{i=n.stateNode,Oa(e,n),s=n.memoizedProps,c=n.type===n.elementType?s:ba(n.type,s),i.props=c,d=n.pendingProps,p=i.context,"object"===typeof(l=t.contextType)&&null!==l?l=_a(l):l=Io(n,l=Oo(t)?To:No.current);var f=t.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||p!==l)&&Ga(n,i,r,l),Ta=!1,p=n.memoizedState,i.state=p,qa(n,r,i,o);var h=n.memoizedState;s!==d||p!==h||Po.current||Ta?("function"===typeof f&&(za(n,t,f,r),h=n.memoizedState),(c=Ta||Ha(n,t,c,r,p,h,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof i.componentDidUpdate&&(n.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=h),i.props=r,i.state=h,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),r=!1)}return Ns(e,n,t,r,a,o)}function Ns(e,n,t,r,o,a){_s(e,n);var i=0!==(128&n.flags);if(!r&&!i)return o&&qo(n,t,!1),Gs(e,n,a);r=n.stateNode,ys.current=n;var s=i&&"function"!==typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&i?(n.child=Xa(n,e.child,null,a),n.child=Xa(n,null,s,a)):ks(e,n,s,a),n.memoizedState=r.state,o&&qo(n,t,!0),n.child}function Ps(e){var n=e.stateNode;n.pendingContext?Do(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Do(0,n.context,!1),oi(e,n.containerInfo)}function Ts(e,n,t,r,o){return ha(),ma(o),n.flags|=256,ks(e,n,t,r),n.child}var Is,Os,Ls,Ds,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function qs(e,n,t){var r,o=n.pendingProps,i=li.current,s=!1,l=0!==(128&n.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,n.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),jo(li,1&i),null===e)return ua(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&n.mode)?n.lanes=1:"$!"===e.data?n.lanes=8:n.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=n.mode,s=n.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Mc(l,o,0,null),e=Rc(e,o,t,null),s.return=n,e.return=n,s.sibling=e,n.child=s,n.child.memoizedState=Ms(t),n.memoizedState=Rs,e):Fs(n,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,n,t,r,o,i,s){if(t)return 256&n.flags?(n.flags&=-257,Bs(e,n,s,r=ds(Error(a(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(i=r.fallback,o=n.mode,r=Mc({mode:"visible",children:r.children},o,0,null),(i=Rc(i,o,s,null)).flags|=2,r.return=n,i.return=n,r.sibling=i,n.child=r,0!==(1&n.mode)&&Xa(n,e.child,null,s),n.child.memoizedState=Ms(s),n.memoizedState=Rs,i);if(0===(1&n.mode))return Bs(e,n,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,n,s,r=ds(i=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Pl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==i.retryLane&&(i.retryLane=o,Pa(e,o),rc(r,e,o,-1))}return gc(),Bs(e,n,s,r=ds(Error(a(421))))}return"$?"===o.data?(n.flags|=128,n.child=e.child,n=Ac.bind(null,e),o._reactRetry=n,null):(e=i.treeContext,oa=co(o.nextSibling),ra=n,aa=!0,ia=null,null!==e&&(Ko[Qo++]=Xo,Ko[Qo++]=Zo,Ko[Qo++]=Jo,Xo=e.id,Zo=e.overflow,Jo=n),n=Fs(n,r.children),n.flags|=4096,n)}(e,n,l,o,r,i,t);if(s){s=o.fallback,l=n.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&n.child!==i?((o=n.child).childLanes=0,o.pendingProps=c,n.deletions=null):(o=Lc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Lc(r,s):(s=Rc(s,l,t,null)).flags|=2,s.return=n,o.return=n,o.sibling=s,n.child=o,o=s,s=n.child,l=null===(l=e.child.memoizedState)?Ms(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~t,n.memoizedState=Rs,o}return e=(s=e.child).sibling,o=Lc(s,{mode:"visible",children:o.children}),0===(1&n.mode)&&(o.lanes=t),o.return=n,o.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=o,n.memoizedState=null,o}function Fs(e,n){return(n=Mc({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function Bs(e,n,t,r){return null!==r&&ma(r),Xa(n,e.child,null,t),(e=Fs(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function zs(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),Ea(e.return,n,t)}function Us(e,n,t,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:o}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=o)}function Hs(e,n,t){var r=n.pendingProps,o=r.revealOrder,a=r.tail;if(ks(e,n,r.children,t),0!==(2&(r=li.current)))r=1&r|2,n.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,t,n);else if(19===e.tag)zs(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(jo(li,r),0===(1&n.mode))n.memoizedState=null;else switch(o){case"forwards":for(t=n.child,o=null;null!==t;)null!==(e=t.alternate)&&null===ci(e)&&(o=t),t=t.sibling;null===(t=o)?(o=n.child,n.child=null):(o=t.sibling,t.sibling=null),Us(n,!1,o,t,a);break;case"backwards":for(t=null,o=n.child,n.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ci(e)){n.child=o;break}e=o.sibling,o.sibling=t,t=o,o=e}Us(n,!0,t,null,a);break;case"together":Us(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vs(e,n){0===(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Gs(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Ml|=n.lanes,0===(t&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(a(153));if(null!==n.child){for(t=Lc(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Lc(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Ws(e,n){if(!aa)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $s(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var o=e.child;null!==o;)t|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Ks(e,n,t){var r=n.pendingProps;switch(ta(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $s(n),null;case 1:case 17:return Oo(n.type)&&Lo(),$s(n),null;case 3:return r=n.stateNode,ai(),_o(Po),_o(No),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pa(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&n.flags)||(n.flags|=1024,null!==ia&&(sc(ia),ia=null))),Os(e,n),$s(n),null;case 5:si(n);var o=ri(ti.current);if(t=n.type,null!==e&&null!=n.stateNode)Ls(e,n,t,r,o),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(null===n.stateNode)throw Error(a(166));return $s(n),null}if(e=ri(ei.current),pa(n)){r=n.stateNode,t=n.type;var i=n.memoizedProps;switch(r[fo]=n,r[ho]=i,e=0!==(1&n.mode),t){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(o=0;o<Dr.length;o++)Fr(Dr[o],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":J(r,i),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fr("invalid",r);break;case"textarea":oe(r,i),Fr("invalid",r)}for(var l in ve(t,i),o=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Zr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Zr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(t){case"input":W(r),Y(r,i,!0);break;case"textarea":W(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Yr)}r=o,n.updateQueue=r,null!==r&&(n.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(t)),"http://www.w3.org/1999/xhtml"===e?"script"===t?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(t,{is:r.is}):(e=l.createElement(t),"select"===t&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,t),e[fo]=n,e[ho]=r,Is(e,n,!1,!1),n.stateNode=e;e:{switch(l=ye(t,r),t){case"dialog":Fr("cancel",e),Fr("close",e),o=r;break;case"iframe":case"object":case"embed":Fr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Dr.length;o++)Fr(Dr[o],e);o=r;break;case"source":Fr("error",e),o=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),o=r;break;case"details":Fr("toggle",e),o=r;break;case"input":J(e,r),o=Q(e,r),Fr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Fr("invalid",e)}for(i in ve(t,o),c=o)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==t||""!==u)&&pe(e,u):"number"===typeof u&&pe(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Fr("scroll",e):null!=u&&y(e,i,u,l))}switch(t){case"input":W(e),Y(e,r,!1);break;case"textarea":W(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?te(e,!!r.multiple,i,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Yr)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return $s(n),null;case 6:if(e&&null!=n.stateNode)Ds(e,n,e.memoizedProps,r);else{if("string"!==typeof r&&null===n.stateNode)throw Error(a(166));if(t=ri(ti.current),ri(ei.current),pa(n)){if(r=n.stateNode,t=n.memoizedProps,r[fo]=n,(i=r.nodeValue!==t)&&null!==(e=ra))switch(e.tag){case 3:Zr(r.nodeValue,t,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,t,0!==(1&e.mode))}i&&(n.flags|=4)}else(r=(9===t.nodeType?t:t.ownerDocument).createTextNode(r))[fo]=n,n.stateNode=r}return $s(n),null;case 13:if(_o(li),r=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&0!==(1&n.mode)&&0===(128&n.flags))fa(),ha(),n.flags|=98560,i=!1;else if(i=pa(n),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=n.memoizedState)?i.dehydrated:null))throw Error(a(317));i[fo]=n}else ha(),0===(128&n.flags)&&(n.memoizedState=null),n.flags|=4;$s(n),i=!1}else null!==ia&&(sc(ia),ia=null),i=!0;if(!i)return 65536&n.flags?n:null}return 0!==(128&n.flags)?(n.lanes=t,n):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(n.child.flags|=8192,0!==(1&n.mode)&&(null===e||0!==(1&li.current)?0===Dl&&(Dl=3):gc())),null!==n.updateQueue&&(n.flags|=4),$s(n),null);case 4:return ai(),Os(e,n),null===e&&Ur(n.stateNode.containerInfo),$s(n),null;case 10:return Sa(n.type._context),$s(n),null;case 19:if(_o(li),null===(i=n.memoizedState))return $s(n),null;if(r=0!==(128&n.flags),null===(l=i.rendering))if(r)Ws(i,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=n.child;null!==e;){if(null!==(l=ci(e))){for(n.flags|=128,Ws(i,!1),null!==(r=l.updateQueue)&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;null!==t;)e=r,(i=t).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return jo(li,1&li.current|2),n.child}e=e.sibling}null!==i.tail&&Xe()>Hl&&(n.flags|=128,r=!0,Ws(i,!1),n.lanes=4194304)}else{if(!r)if(null!==(e=ci(l))){if(n.flags|=128,r=!0,null!==(t=e.updateQueue)&&(n.updateQueue=t,n.flags|=4),Ws(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!aa)return $s(n),null}else 2*Xe()-i.renderingStartTime>Hl&&1073741824!==t&&(n.flags|=128,r=!0,Ws(i,!1),n.lanes=4194304);i.isBackwards?(l.sibling=n.child,n.child=l):(null!==(t=i.last)?t.sibling=l:n.child=l,i.last=l)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.renderingStartTime=Xe(),n.sibling=null,t=li.current,jo(li,r?1&t|2:1&t),n):($s(n),null);case 22:case 23:return pc(),r=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==r&&(n.flags|=8192),r&&0!==(1&n.mode)?0!==(1073741824&Ol)&&($s(n),6&n.subtreeFlags&&(n.flags|=8192)):$s(n),null;case 24:case 25:return null}throw Error(a(156,n.tag))}function Qs(e,n){switch(ta(n),n.tag){case 1:return Oo(n.type)&&Lo(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return ai(),_o(Po),_o(No),di(),0!==(65536&(e=n.flags))&&0===(128&e)?(n.flags=-65537&e|128,n):null;case 5:return si(n),null;case 13:if(_o(li),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(a(340));ha()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return _o(li),null;case 4:return ai(),null;case 10:return Sa(n.type._context),null;case 22:case 23:return pc(),null;default:return null}}Is=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},Os=function(){},Ls=function(e,n,t,r){var o=e.memoizedProps;if(o!==r){e=n.stateNode,ri(ei.current);var a,i=null;switch(t){case"input":o=Q(e,o),r=Q(e,r),i=[];break;case"select":o=M({},o,{value:void 0}),r=M({},r,{value:void 0}),i=[];break;case"textarea":o=re(e,o),r=re(e,r),i=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Yr)}for(u in ve(t,r),t=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(t||(t={}),t[a]=c[a])}else t||(i||(i=[]),i.push(u,t)),t=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}t&&(i=i||[]).push("style",t);var u=i;(n.updateQueue=u)&&(n.flags|=4)}},Ds=function(e,n,t,r){t!==r&&(n.flags|=4)};var Js=!1,Xs=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Ys=null;function el(e,n){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){Cc(e,n,r)}else t.current=null}function nl(e,n,t){try{t()}catch(r){Cc(e,n,r)}}var tl=!1;function rl(e,n,t){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&nl(n,t,a)}o=o.next}while(o!==r)}}function ol(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function al(e){var n=e.ref;if(null!==n){var t=e.stateNode;e.tag,e=t,"function"===typeof n?n(e):n.current=e}}function il(e){var n=e.alternate;null!==n&&(e.alternate=null,il(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(n=e.stateNode)&&(delete n[fo],delete n[ho],delete n[go],delete n[bo],delete n[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(8===t.nodeType?(n=t.parentNode).insertBefore(e,t):(n=t).appendChild(e),null!==(t=t._reactRootContainer)&&void 0!==t||null!==n.onclick||(n.onclick=Yr));else if(4!==r&&null!==(e=e.child))for(cl(e,n,t),e=e.sibling;null!==e;)cl(e,n,t),e=e.sibling}function ul(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,n,t),e=e.sibling;null!==e;)ul(e,n,t),e=e.sibling}var dl=null,pl=!1;function fl(e,n,t){for(t=t.child;null!==t;)hl(e,n,t),t=t.sibling}function hl(e,n,t){if(an&&"function"===typeof an.onCommitFiberUnmount)try{an.onCommitFiberUnmount(on,t)}catch(s){}switch(t.tag){case 5:Xs||el(t,n);case 6:var r=dl,o=pl;dl=null,fl(e,n,t),pl=o,null!==(dl=r)&&(pl?(e=dl,t=t.stateNode,8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)):dl.removeChild(t.stateNode));break;case 18:null!==dl&&(pl?(e=dl,t=t.stateNode,8===e.nodeType?lo(e.parentNode,t):1===e.nodeType&&lo(e,t),Hn(e)):lo(dl,t.stateNode));break;case 4:r=dl,o=pl,dl=t.stateNode.containerInfo,pl=!0,fl(e,n,t),dl=r,pl=o;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=t.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&nl(t,n,i),o=o.next}while(o!==r)}fl(e,n,t);break;case 1:if(!Xs&&(el(t,n),"function"===typeof(r=t.stateNode).componentWillUnmount))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(s){Cc(t,n,s)}fl(e,n,t);break;case 21:fl(e,n,t);break;case 22:1&t.mode?(Xs=(r=Xs)||null!==t.memoizedState,fl(e,n,t),Xs=r):fl(e,n,t);break;default:fl(e,n,t)}}function ml(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Zs),n.forEach((function(n){var r=Nc.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))}))}}function gl(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var o=t[r];try{var i=e,s=n,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,pl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===dl)throw Error(a(160));hl(i,s,o),dl=null,pl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){Cc(o,n,u)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)bl(n,e),n=n.sibling}function bl(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(n,e),vl(e),4&r){try{rl(3,e,e.return),ol(3,e)}catch(g){Cc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:gl(n,e),vl(e),512&r&&null!==t&&el(t,t.return);break;case 5:if(gl(n,e),vl(e),512&r&&null!==t&&el(t,t.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(g){Cc(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var i=e.memoizedProps,s=null!==t?t.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(o,i),ye(l,s);var u=ye(l,i);for(s=0;s<c.length;s+=2){var d=c[s],p=c[s+1];"style"===d?ge(o,p):"dangerouslySetInnerHTML"===d?de(o,p):"children"===d?pe(o,p):y(o,d,p,u)}switch(l){case"input":Z(o,i);break;case"textarea":ae(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?te(o,!!i.multiple,h,!1):f!==!!i.multiple&&(null!=i.defaultValue?te(o,!!i.multiple,i.defaultValue,!0):te(o,!!i.multiple,i.multiple?[]:"",!1))}o[ho]=i}catch(g){Cc(e,e.return,g)}}break;case 6:if(gl(n,e),vl(e),4&r){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){Cc(e,e.return,g)}}break;case 3:if(gl(n,e),vl(e),4&r&&null!==t&&t.memoizedState.isDehydrated)try{Hn(n.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:gl(n,e),vl(e);break;case 13:gl(n,e),vl(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||(Ul=Xe())),4&r&&ml(e);break;case 22:if(d=null!==t&&null!==t.memoizedState,1&e.mode?(Xs=(u=Xs)||d,gl(n,e),Xs=u):gl(n,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ys=e,d=e.child;null!==d;){for(p=Ys=d;null!==Ys;){switch(h=(f=Ys).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,t=f.return;try{n=r,m.props=n.memoizedProps,m.state=n.memoizedState,m.componentWillUnmount()}catch(g){Cc(r,t,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){wl(p);continue}}null!==h?(h.return=f,Ys=h):wl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{o=p.stateNode,u?"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,s=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Cc(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(n,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var n=e.flags;if(2&n){try{e:{for(var t=e.return;null!==t;){if(sl(t)){var r=t;break e}t=t.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(pe(o,""),r.flags&=-33),ul(e,ll(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;cl(e,ll(e),i);break;default:throw Error(a(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function yl(e,n,t){Ys=e,xl(e,n,t)}function xl(e,n,t){for(var r=0!==(1&e.mode);null!==Ys;){var o=Ys,a=o.child;if(22===o.tag&&r){var i=null!==o.memoizedState||Js;if(!i){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Js;var c=Xs;if(Js=i,(Xs=l)&&!c)for(Ys=o;null!==Ys;)l=(i=Ys).child,22===i.tag&&null!==i.memoizedState?Sl(o):null!==l?(l.return=i,Ys=l):Sl(o);for(;null!==a;)Ys=a,xl(a,n,t),a=a.sibling;Ys=o,Js=s,Xs=c}kl(e)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Ys=a):kl(e)}}function kl(e){for(;null!==Ys;){var n=Ys;if(0!==(8772&n.flags)){var t=n.alternate;try{if(0!==(8772&n.flags))switch(n.tag){case 0:case 11:case 15:Xs||ol(5,n);break;case 1:var r=n.stateNode;if(4&n.flags&&!Xs)if(null===t)r.componentDidMount();else{var o=n.elementType===n.type?t.memoizedProps:ba(n.type,t.memoizedProps);r.componentDidUpdate(o,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=n.updateQueue;null!==i&&Fa(n,i,r);break;case 3:var s=n.updateQueue;if(null!==s){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}Fa(n,s,t)}break;case 5:var l=n.stateNode;if(null===t&&4&n.flags){t=l;var c=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var u=n.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Hn(p)}}}break;default:throw Error(a(163))}Xs||512&n.flags&&al(n)}catch(f){Cc(n,n.return,f)}}if(n===e){Ys=null;break}if(null!==(t=n.sibling)){t.return=n.return,Ys=t;break}Ys=n.return}}function wl(e){for(;null!==Ys;){var n=Ys;if(n===e){Ys=null;break}var t=n.sibling;if(null!==t){t.return=n.return,Ys=t;break}Ys=n.return}}function Sl(e){for(;null!==Ys;){var n=Ys;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{ol(4,n)}catch(l){Cc(n,t,l)}break;case 1:var r=n.stateNode;if("function"===typeof r.componentDidMount){var o=n.return;try{r.componentDidMount()}catch(l){Cc(n,o,l)}}var a=n.return;try{al(n)}catch(l){Cc(n,a,l)}break;case 5:var i=n.return;try{al(n)}catch(l){Cc(n,i,l)}}}catch(l){Cc(n,n.return,l)}if(n===e){Ys=null;break}var s=n.sibling;if(null!==s){s.return=n.return,Ys=s;break}Ys=n.return}}var El,Cl=Math.ceil,_l=x.ReactCurrentDispatcher,jl=x.ReactCurrentOwner,Al=x.ReactCurrentBatchConfig,Nl=0,Pl=null,Tl=null,Il=0,Ol=0,Ll=Co(0),Dl=0,Rl=null,Ml=0,ql=0,Fl=0,Bl=null,zl=null,Ul=0,Hl=1/0,Vl=null,Gl=!1,Wl=null,$l=null,Kl=!1,Ql=null,Jl=0,Xl=0,Zl=null,Yl=-1,ec=0;function nc(){return 0!==(6&Nl)?Xe():-1!==Yl?Yl:Yl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Il?Il&-Il:null!==ga.transition?(0===ec&&(ec=gn()),ec):0!==(e=xn)?e:e=void 0===(e=window.event)?16:Xn(e.type)}function rc(e,n,t,r){if(50<Xl)throw Xl=0,Zl=null,Error(a(185));vn(e,t,r),0!==(2&Nl)&&e===Pl||(e===Pl&&(0===(2&Nl)&&(ql|=t),4===Dl&&lc(e,Il)),oc(e,r),1===t&&0===Nl&&0===(1&n.mode)&&(Hl=Xe()+500,Bo&&Ho()))}function oc(e,n){var t=e.callbackNode;!function(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-sn(a),s=1<<i,l=o[i];-1===l?0!==(s&t)&&0===(s&r)||(o[i]=hn(s,n)):l<=n&&(e.expiredLanes|=s),a&=~s}}(e,n);var r=fn(e,e===Pl?Il:0);if(0===r)null!==t&&Ke(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(null!=t&&Ke(t),1===n)0===e.tag?function(e){Bo=!0,Uo(e)}(cc.bind(null,e)):Uo(cc.bind(null,e)),io((function(){0===(6&Nl)&&Ho()})),t=null;else{switch(kn(r)){case 1:t=Ye;break;case 4:t=en;break;case 16:default:t=nn;break;case 536870912:t=rn}t=Pc(t,ac.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function ac(e,n){if(Yl=-1,ec=0,0!==(6&Nl))throw Error(a(327));var t=e.callbackNode;if(Sc()&&e.callbackNode!==t)return null;var r=fn(e,e===Pl?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||n)n=bc(e,r);else{n=r;var o=Nl;Nl|=2;var i=mc();for(Pl===e&&Il===n||(Vl=null,Hl=Xe()+500,fc(e,n));;)try{yc();break}catch(l){hc(e,l)}wa(),_l.current=i,Nl=o,null!==Tl?n=0:(Pl=null,Il=0,n=Dl)}if(0!==n){if(2===n&&(0!==(o=mn(e))&&(r=o,n=ic(e,o))),1===n)throw t=Rl,fc(e,0),lc(e,r),oc(e,Xe()),t;if(6===n)lc(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var n=e;;){if(16384&n.flags){var t=n.updateQueue;if(null!==t&&null!==(t=t.stores))for(var r=0;r<t.length;r++){var o=t[r],a=o.getSnapshot;o=o.value;try{if(!sr(a(),o))return!1}catch(s){return!1}}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(o)&&(2===(n=bc(e,r))&&(0!==(i=mn(e))&&(r=i,n=ic(e,i))),1===n))throw t=Rl,fc(e,0),lc(e,r),oc(e,Xe()),t;switch(e.finishedWork=o,e.finishedLanes=r,n){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,zl,Vl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(n=Ul+500-Xe())){if(0!==fn(e,0))break;if(((o=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wc.bind(null,e,zl,Vl),n);break}wc(e,zl,Vl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(n=e.eventTimes,o=-1;0<r;){var s=31-sn(r);i=1<<s,(s=n[s])>o&&(o=s),r&=~i}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ro(wc.bind(null,e,zl,Vl),r);break}wc(e,zl,Vl);break;default:throw Error(a(329))}}}return oc(e,Xe()),e.callbackNode===t?ac.bind(null,e):null}function ic(e,n){var t=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,n).flags|=256),2!==(e=bc(e,n))&&(n=zl,zl=t,null!==n&&sc(n)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,n){for(n&=~Fl,n&=~ql,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-sn(n),r=1<<t;e[t]=-1,n&=~r}}function cc(e){if(0!==(6&Nl))throw Error(a(327));Sc();var n=fn(e,0);if(0===(1&n))return oc(e,Xe()),null;var t=bc(e,n);if(0!==e.tag&&2===t){var r=mn(e);0!==r&&(n=r,t=ic(e,r))}if(1===t)throw t=Rl,fc(e,0),lc(e,n),oc(e,Xe()),t;if(6===t)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,wc(e,zl,Vl),oc(e,Xe()),null}function uc(e,n){var t=Nl;Nl|=1;try{return e(n)}finally{0===(Nl=t)&&(Hl=Xe()+500,Bo&&Ho())}}function dc(e){null!==Ql&&0===Ql.tag&&0===(6&Nl)&&Sc();var n=Nl;Nl|=1;var t=Al.transition,r=xn;try{if(Al.transition=null,xn=1,e)return e()}finally{xn=r,Al.transition=t,0===(6&(Nl=n))&&Ho()}}function pc(){Ol=Ll.current,_o(Ll)}function fc(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,oo(t)),null!==Tl)for(t=Tl.return;null!==t;){var r=t;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Lo();break;case 3:ai(),_o(Po),_o(No),di();break;case 5:si(r);break;case 4:ai();break;case 13:case 19:_o(li);break;case 10:Sa(r.type._context);break;case 22:case 23:pc()}t=t.return}if(Pl=e,Tl=e=Lc(e.current,null),Il=Ol=n,Dl=0,Rl=null,Fl=ql=Ml=0,zl=Bl=null,null!==ja){for(n=0;n<ja.length;n++)if(null!==(r=(t=ja[n]).interleaved)){t.interleaved=null;var o=r.next,a=t.pending;if(null!==a){var i=a.next;a.next=o,r.next=i}t.pending=r}ja=null}return e}function hc(e,n){for(;;){var t=Tl;try{if(wa(),pi.current=is,vi){for(var r=mi.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}vi=!1}if(hi=0,bi=gi=mi=null,yi=!1,xi=0,jl.current=null,null===t||null===t.return){Dl=1,Rl=n,Tl=null;break}e:{var i=e,s=t.return,l=t,c=n;if(n=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=bs(s);if(null!==h){h.flags&=-257,vs(h,s,l,0,n),1&h.mode&&gs(i,u,n),c=u;var m=(n=h).updateQueue;if(null===m){var g=new Set;g.add(c),n.updateQueue=g}else m.add(c);break e}if(0===(1&n)){gs(i,u,n),gc();break e}c=Error(a(426))}else if(aa&&1&l.mode){var b=bs(s);if(null!==b){0===(65536&b.flags)&&(b.flags|=256),vs(b,s,l,0,n),ma(us(c,l));break e}}i=c=us(c,l),4!==Dl&&(Dl=2),null===Bl?Bl=[i]:Bl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,n&=-n,i.lanes|=n,Ma(i,hs(0,c,n));break e;case 1:l=c;var v=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===$l||!$l.has(y)))){i.flags|=65536,n&=-n,i.lanes|=n,Ma(i,ms(i,l,n));break e}}i=i.return}while(null!==i)}kc(t)}catch(x){n=x,Tl===t&&null!==t&&(Tl=t=t.return);continue}break}}function mc(){var e=_l.current;return _l.current=is,null===e?is:e}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Pl||0===(268435455&Ml)&&0===(268435455&ql)||lc(Pl,Il)}function bc(e,n){var t=Nl;Nl|=2;var r=mc();for(Pl===e&&Il===n||(Vl=null,fc(e,n));;)try{vc();break}catch(o){hc(e,o)}if(wa(),Nl=t,_l.current=r,null!==Tl)throw Error(a(261));return Pl=null,Il=0,Dl}function vc(){for(;null!==Tl;)xc(Tl)}function yc(){for(;null!==Tl&&!Qe();)xc(Tl)}function xc(e){var n=El(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===n?kc(e):Tl=n,jl.current=null}function kc(e){var n=e;do{var t=n.alternate;if(e=n.return,0===(32768&n.flags)){if(null!==(t=Ks(t,n,Ol)))return void(Tl=t)}else{if(null!==(t=Qs(t,n)))return t.flags&=32767,void(Tl=t);if(null===e)return Dl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(n=n.sibling))return void(Tl=n);Tl=n=e}while(null!==n);0===Dl&&(Dl=5)}function wc(e,n,t){var r=xn,o=Al.transition;try{Al.transition=null,xn=1,function(e,n,t,r){do{Sc()}while(null!==Ql);if(0!==(6&Nl))throw Error(a(327));t=e.finishedWork;var o=e.finishedLanes;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=t.lanes|t.childLanes;if(function(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var o=31-sn(t),a=1<<o;n[o]=0,r[o]=-1,e[o]=-1,t&=~a}}(e,i),e===Pl&&(Tl=Pl=null,Il=0),0===(2064&t.subtreeFlags)&&0===(2064&t.flags)||Kl||(Kl=!0,Pc(nn,(function(){return Sc(),null}))),i=0!==(15990&t.flags),0!==(15990&t.subtreeFlags)||i){i=Al.transition,Al.transition=null;var s=xn;xn=1;var l=Nl;Nl|=4,jl.current=null,function(e,n){if(eo=Gn,fr(e=pr())){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch(k){t=null;break e}var s=0,l=-1,c=-1,u=0,d=0,p=e,f=null;n:for(;;){for(var h;p!==t||0!==o&&3!==p.nodeType||(l=s+o),p!==i||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break n;if(f===t&&++u===o&&(l=s),f===i&&++d===r&&(c=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}t=-1===l||-1===c?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(no={focusedElem:e,selectionRange:t},Gn=!1,Ys=n;null!==Ys;)if(e=(n=Ys).child,0!==(1028&n.subtreeFlags)&&null!==e)e.return=n,Ys=e;else for(;null!==Ys;){n=Ys;try{var m=n.alternate;if(0!==(1024&n.flags))switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,b=m.memoizedState,v=n.stateNode,y=v.getSnapshotBeforeUpdate(n.elementType===n.type?g:ba(n.type,g),b);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=n.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(k){Cc(n,n.return,k)}if(null!==(e=n.sibling)){e.return=n.return,Ys=e;break}Ys=n.return}m=tl,tl=!1}(e,t),bl(t,e),hr(no),Gn=!!eo,no=eo=null,e.current=t,yl(t,e,o),Je(),Nl=l,xn=s,Al.transition=i}else e.current=t;if(Kl&&(Kl=!1,Ql=e,Jl=o),i=e.pendingLanes,0===i&&($l=null),function(e){if(an&&"function"===typeof an.onCommitFiberRoot)try{an.onCommitFiberRoot(on,e,void 0,128===(128&e.current.flags))}catch(n){}}(t.stateNode),oc(e,Xe()),null!==n)for(r=e.onRecoverableError,t=0;t<n.length;t++)o=n[t],r(o.value,{componentStack:o.stack,digest:o.digest});if(Gl)throw Gl=!1,e=Wl,Wl=null,e;0!==(1&Jl)&&0!==e.tag&&Sc(),i=e.pendingLanes,0!==(1&i)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,Ho()}(e,n,t,r)}finally{Al.transition=o,xn=r}return null}function Sc(){if(null!==Ql){var e=kn(Jl),n=Al.transition,t=xn;try{if(Al.transition=null,xn=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Jl=0,0!==(6&Nl))throw Error(a(331));var o=Nl;for(Nl|=4,Ys=e.current;null!==Ys;){var i=Ys,s=i.child;if(0!==(16&Ys.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ys=u;null!==Ys;){var d=Ys;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var p=d.child;if(null!==p)p.return=d,Ys=p;else for(;null!==Ys;){var f=(d=Ys).sibling,h=d.return;if(il(d),d===u){Ys=null;break}if(null!==f){f.return=h,Ys=f;break}Ys=h}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(null!==g)}}Ys=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Ys=s;else e:for(;null!==Ys;){if(0!==(2048&(i=Ys).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Ys=v;break e}Ys=i.return}}var y=e.current;for(Ys=y;null!==Ys;){var x=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Ys=x;else e:for(s=y;null!==Ys;){if(0!==(2048&(l=Ys).flags))try{switch(l.tag){case 0:case 11:case 15:ol(9,l)}}catch(w){Cc(l,l.return,w)}if(l===s){Ys=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Ys=k;break e}Ys=l.return}}if(Nl=o,Ho(),an&&"function"===typeof an.onPostCommitFiberRoot)try{an.onPostCommitFiberRoot(on,e)}catch(w){}r=!0}return r}finally{xn=t,Al.transition=n}}return!1}function Ec(e,n,t){e=Da(e,n=hs(0,n=us(t,n),1),1),n=nc(),null!==e&&(vn(e,1,n),oc(e,n))}function Cc(e,n,t){if(3===e.tag)Ec(e,e,t);else for(;null!==n;){if(3===n.tag){Ec(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){n=Da(n,e=ms(n,e=us(t,e),1),1),e=nc(),null!==n&&(vn(n,1,e),oc(n,e));break}}n=n.return}}function _c(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=nc(),e.pingedLanes|=e.suspendedLanes&t,Pl===e&&(Il&t)===t&&(4===Dl||3===Dl&&(130023424&Il)===Il&&500>Xe()-Ul?fc(e,0):Fl|=t),oc(e,n)}function jc(e,n){0===n&&(0===(1&e.mode)?n=1:(n=dn,0===(130023424&(dn<<=1))&&(dn=4194304)));var t=nc();null!==(e=Pa(e,n))&&(vn(e,n,t),oc(e,t))}function Ac(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),jc(e,t)}function Nc(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(t=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(n),jc(e,t)}function Pc(e,n){return $e(e,n)}function Tc(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,n,t,r){return new Tc(e,n,t,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,n){var t=e.alternate;return null===t?((t=Ic(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=14680064&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Dc(e,n,t,r,o,i){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Rc(t.children,o,i,n);case E:s=8,o|=8;break;case C:return(e=Ic(12,t,n,2|o)).elementType=C,e.lanes=i,e;case N:return(e=Ic(13,t,n,o)).elementType=N,e.lanes=i,e;case P:return(e=Ic(19,t,n,o)).elementType=P,e.lanes=i,e;case O:return Mc(t,o,i,n);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case j:s=9;break e;case A:s=11;break e;case T:s=14;break e;case I:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(n=Ic(s,t,n,o)).elementType=e,n.type=r,n.lanes=i,n}function Rc(e,n,t,r){return(e=Ic(7,e,r,n)).lanes=t,e}function Mc(e,n,t,r){return(e=Ic(22,e,r,n)).elementType=O,e.lanes=t,e.stateNode={isHidden:!1},e}function qc(e,n,t){return(e=Ic(6,e,null,n)).lanes=t,e}function Fc(e,n,t){return(n=Ic(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Bc(e,n,t,r,o){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bn(0),this.expirationTimes=bn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bn(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function zc(e,n,t,r,o,a,i,s,l){return e=new Bc(e,n,t,s,l),1===n?(n=1,!0===a&&(n|=8)):n=0,a=Ic(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(a),e}function Uc(e){if(!e)return Ao;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Oo(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(a(171))}if(1===e.tag){var t=e.type;if(Oo(t))return Ro(e,t,n)}return n}function Hc(e,n,t,r,o,a,i,s,l){return(e=zc(t,r,!0,e,0,a,0,s,l)).context=Uc(null),t=e.current,(a=La(r=nc(),o=tc(t))).callback=void 0!==n&&null!==n?n:null,Da(t,a,o),e.current.lanes=o,vn(e,o,r),oc(e,r),e}function Vc(e,n,t,r){var o=n.current,a=nc(),i=tc(o);return t=Uc(t),null===n.context?n.context=t:n.pendingContext=t,(n=La(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),null!==(e=Da(o,n,i))&&(rc(e,o,i,a),Ra(e,o,i)),i}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function $c(e,n){Wc(e,n),(e=e.alternate)&&Wc(e,n)}El=function(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps||Po.current)xs=!0;else{if(0===(e.lanes&t)&&0===(128&n.flags))return xs=!1,function(e,n,t){switch(n.tag){case 3:Ps(n),ha();break;case 5:ii(n);break;case 1:Oo(n.type)&&Mo(n);break;case 4:oi(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,o=n.memoizedProps.value;jo(va,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=n.memoizedState))return null!==r.dehydrated?(jo(li,1&li.current),n.flags|=128,null):0!==(t&n.child.childLanes)?qs(e,n,t):(jo(li,1&li.current),null!==(e=Gs(e,n,t))?e.sibling:null);jo(li,1&li.current);break;case 19:if(r=0!==(t&n.childLanes),0!==(128&e.flags)){if(r)return Hs(e,n,t);n.flags|=128}if(null!==(o=n.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),jo(li,li.current),r)break;return null;case 22:case 23:return n.lanes=0,Cs(e,n,t)}return Gs(e,n,t)}(e,n,t);xs=0!==(131072&e.flags)}else xs=!1,aa&&0!==(1048576&n.flags)&&ea(n,$o,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;Vs(e,n),e=n.pendingProps;var o=Io(n,No.current);Ca(n,t),o=Ei(null,n,r,e,o,t);var i=Ci();return n.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Oo(r)?(i=!0,Mo(n)):i=!1,n.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ia(n),o.updater=Ua,n.stateNode=o,o._reactInternals=n,Wa(n,r,e,t),n=Ns(null,n,r,!0,i,t)):(n.tag=0,aa&&i&&na(n),ks(null,n,o,t),n=n.child),n;case 16:r=n.elementType;e:{switch(Vs(e,n),e=n.pendingProps,r=(o=r._init)(r._payload),n.type=r,o=n.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===T)return 14}return 2}(r),e=ba(r,e),o){case 0:n=js(null,n,r,e,t);break e;case 1:n=As(null,n,r,e,t);break e;case 11:n=ws(null,n,r,e,t);break e;case 14:n=Ss(null,n,r,ba(r.type,e),t);break e}throw Error(a(306,r,""))}return n;case 0:return r=n.type,o=n.pendingProps,js(e,n,r,o=n.elementType===r?o:ba(r,o),t);case 1:return r=n.type,o=n.pendingProps,As(e,n,r,o=n.elementType===r?o:ba(r,o),t);case 3:e:{if(Ps(n),null===e)throw Error(a(387));r=n.pendingProps,o=(i=n.memoizedState).element,Oa(e,n),qa(n,r,null,t);var s=n.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},n.updateQueue.baseState=i,n.memoizedState=i,256&n.flags){n=Ts(e,n,r,t,o=us(Error(a(423)),n));break e}if(r!==o){n=Ts(e,n,r,t,o=us(Error(a(424)),n));break e}for(oa=co(n.stateNode.containerInfo.firstChild),ra=n,aa=!0,ia=null,t=Za(n,null,r,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(ha(),r===o){n=Gs(e,n,t);break e}ks(e,n,r,t)}n=n.child}return n;case 5:return ii(n),null===e&&ua(n),r=n.type,o=n.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,to(r,o)?s=null:null!==i&&to(r,i)&&(n.flags|=32),_s(e,n),ks(e,n,s,t),n.child;case 6:return null===e&&ua(n),null;case 13:return qs(e,n,t);case 4:return oi(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=Xa(n,null,r,t):ks(e,n,r,t),n.child;case 11:return r=n.type,o=n.pendingProps,ws(e,n,r,o=n.elementType===r?o:ba(r,o),t);case 7:return ks(e,n,n.pendingProps,t),n.child;case 8:case 12:return ks(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,o=n.pendingProps,i=n.memoizedProps,s=o.value,jo(va,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===o.children&&!Po.current){n=Gs(e,n,t);break e}}else for(null!==(i=n.child)&&(i.return=n);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=La(-1,t&-t)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=t,null!==(c=i.alternate)&&(c.lanes|=t),Ea(i.return,t,n),l.lanes|=t;break}c=c.next}}else if(10===i.tag)s=i.type===n.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=t,null!==(l=s.alternate)&&(l.lanes|=t),Ea(s,t,n),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===n){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ks(e,n,o.children,t),n=n.child}return n;case 9:return o=n.type,r=n.pendingProps.children,Ca(n,t),r=r(o=_a(o)),n.flags|=1,ks(e,n,r,t),n.child;case 14:return o=ba(r=n.type,n.pendingProps),Ss(e,n,r,o=ba(r.type,o),t);case 15:return Es(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,o=n.pendingProps,o=n.elementType===r?o:ba(r,o),Vs(e,n),n.tag=1,Oo(r)?(e=!0,Mo(n)):e=!1,Ca(n,t),Va(n,r,o),Wa(n,r,o,t),Ns(null,n,r,!0,e,t);case 19:return Hs(e,n,t);case 22:return Cs(e,n,t)}throw Error(a(156,n.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function eu(e,n,t,r,o){var a=t._reactRootContainer;if(a){var i=a;if("function"===typeof o){var s=o;o=function(){var e=Gc(i);s.call(e)}}Vc(n,i,e,o)}else i=function(e,n,t,r,o){if(o){if("function"===typeof r){var a=r;r=function(){var e=Gc(i);a.call(e)}}var i=Hc(n,r,e,0,null,!1,0,"",Yc);return e._reactRootContainer=i,e[mo]=i.current,Ur(8===e.nodeType?e.parentNode:e),dc(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Gc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=l,e[mo]=l.current,Ur(8===e.nodeType?e.parentNode:e),dc((function(){Vc(n,l,t,r)})),l}(t,n,e,o,r);return Gc(i)}Jc.prototype.render=Qc.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(a(409));Vc(e,n,null,null)},Jc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;dc((function(){Vc(null,e,null,null)})),n[mo]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Cn();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Ln.length&&0!==n&&n<Ln[t].priority;t++);Ln.splice(t,0,e),0===t&&qn(e)}},wn=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=pn(n.pendingLanes);0!==t&&(yn(n,1|t),oc(n,Xe()),0===(6&Nl)&&(Hl=Xe()+500,Ho()))}break;case 13:dc((function(){var n=Pa(e,1);if(null!==n){var t=nc();rc(n,e,1,t)}})),$c(e,1)}},Sn=function(e){if(13===e.tag){var n=Pa(e,134217728);if(null!==n)rc(n,e,134217728,nc());$c(e,134217728)}},En=function(e){if(13===e.tag){var n=tc(e),t=Pa(e,n);if(null!==t)rc(t,e,n,nc());$c(e,n)}},Cn=function(){return xn},_n=function(e,n){var t=xn;try{return xn=e,n()}finally{xn=t}},we=function(e,n,t){switch(n){case"input":if(Z(e,t),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var o=wo(r);if(!o)throw Error(a(90));$(r),Z(r,o)}}}break;case"textarea":ae(e,t);break;case"select":null!=(n=t.value)&&te(e,!!t.multiple,n,!1)}},Ae=uc,Ne=dc;var nu={usingClientEntryPoint:!1,Events:[xo,ko,wo,_e,je,uc]},tu={findFiberByHostInstance:yo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{on=ou.inject(ru),an=ou}catch(ue){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,n.createPortal=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(n))throw Error(a(200));return function(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}(e,n,null,t)},n.createRoot=function(e,n){if(!Xc(e))throw Error(a(299));var t=!1,r="",o=Kc;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(t=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),n=zc(e,1,!1,null,0,t,0,r,o),e[mo]=n.current,Ur(8===e.nodeType?e.parentNode:e),new Qc(n)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(n))?null:e.stateNode},n.flushSync=function(e){return dc(e)},n.hydrate=function(e,n,t){if(!Zc(n))throw Error(a(200));return eu(null,e,n,!0,t)},n.hydrateRoot=function(e,n,t){if(!Xc(e))throw Error(a(405));var r=null!=t&&t.hydratedSources||null,o=!1,i="",s=Kc;if(null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(o=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),n=Hc(n,null,e,1,null!=t?t:null,o,0,i,s),e[mo]=n.current,Ur(e),r)for(e=0;e<r.length;e++)o=(o=(t=r[e])._getVersion)(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o);return new Jc(n)},n.render=function(e,n,t){if(!Zc(n))throw Error(a(200));return eu(null,e,n,!1,t)},n.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},n.unstable_batchedUpdates=uc,n.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Zc(t))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return eu(e,n,t,!1,r)},n.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,n,t){"use strict";var r=t(4164);n.createRoot=r.createRoot,n.hydrateRoot=r.hydrateRoot},4164:function(e,n,t){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}(),e.exports=t(4463)},1372:function(e,n){"use strict";var t="function"===typeof Symbol&&Symbol.for,r=t?Symbol.for("react.element"):60103,o=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,g=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,y=t?Symbol.for("react.responder"):60118,x=t?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var n=e.$$typeof;switch(n){case r:switch(e=e.type){case u:case d:case a:case s:case i:case f:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case m:case l:return e;default:return n}}case o:return n}}}function w(e){return k(e)===d}n.isFragment=function(e){return k(e)===a},n.isMemo=function(e){return k(e)===m}},7441:function(e,n,t){"use strict";e.exports=t(1372)},6374:function(e,n,t){"use strict";var r=t(2791),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var r,a={},c=null,u=null;for(r in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(u=n.ref),n)i.call(n,r)&&!l.hasOwnProperty(r)&&(a[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===a[r]&&(a[r]=n[r]);return{$$typeof:o,type:e,key:c,ref:u,props:a,_owner:s.current}}n.Fragment=a,n.jsx=c,n.jsxs=c},9117:function(e,n){"use strict";var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function b(e,n,t){this.props=e,this.context=n,this.refs=g,this.updater=t||h}function v(){}function y(e,n,t){this.props=e,this.context=n,this.refs=g,this.updater=t||h}b.prototype.isReactComponent={},b.prototype.setState=function(e,n){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=b.prototype;var x=y.prototype=new v;x.constructor=y,m(x,b.prototype),x.isPureReactComponent=!0;var k=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,n,r){var o,a={},i=null,s=null;if(null!=n)for(o in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(i=""+n.key),n)w.call(n,o)&&!E.hasOwnProperty(o)&&(a[o]=n[o]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===a[o]&&(a[o]=l[o]);return{$$typeof:t,type:e,key:i,ref:s,props:a,_owner:S.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===t}var j=/\/+/g;function A(e,n){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return n[e]}))}(""+e.key):n.toString(36)}function N(e,n,o,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case t:case r:l=!0}}if(l)return i=i(l=e),e=""===a?"."+A(l,0):a,k(i)?(o="",null!=e&&(o=e.replace(j,"$&/")+"/"),N(i,n,o,"",(function(e){return e}))):null!=i&&(_(i)&&(i=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(i,o+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(j,"$&/")+"/")+e)),n.push(i)),1;if(l=0,a=""===a?".":a+":",k(e))for(var c=0;c<e.length;c++){var u=a+A(s=e[c],c);l+=N(s,n,o,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=N(s=s.value,n,o,u=a+A(s,c++),i);else if("object"===s)throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,n,t){if(null==e)return e;var r=[],o=0;return N(e,r,"","",(function(e){return n.call(t,e,o++)})),r}function T(e){if(-1===e._status){var n=e._result;(n=n()).then((function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)}),(function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)})),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},O={transition:null},L={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};n.Children={map:P,forEach:function(e,n,t){P(e,(function(){n.apply(this,arguments)}),t)},count:function(e){var n=0;return P(e,(function(){n++})),n},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=b,n.Fragment=o,n.Profiler=i,n.PureComponent=y,n.StrictMode=a,n.Suspense=u,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,n.cloneElement=function(e,n,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),a=e.key,i=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,s=S.current),void 0!==n.key&&(a=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in n)w.call(n,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===n[c]&&void 0!==l?l[c]:n[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:t,type:e.type,key:a,ref:i,props:o,_owner:s}},n.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},n.createElement=C,n.createFactory=function(e){var n=C.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:c,render:e}},n.isValidElement=_,n.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:T}},n.memo=function(e,n){return{$$typeof:d,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=O.transition;O.transition={};try{e()}finally{O.transition=n}},n.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},n.useCallback=function(e,n){return I.current.useCallback(e,n)},n.useContext=function(e){return I.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return I.current.useDeferredValue(e)},n.useEffect=function(e,n){return I.current.useEffect(e,n)},n.useId=function(){return I.current.useId()},n.useImperativeHandle=function(e,n,t){return I.current.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return I.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return I.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return I.current.useMemo(e,n)},n.useReducer=function(e,n,t){return I.current.useReducer(e,n,t)},n.useRef=function(e){return I.current.useRef(e)},n.useState=function(e){return I.current.useState(e)},n.useSyncExternalStore=function(e,n,t){return I.current.useSyncExternalStore(e,n,t)},n.useTransition=function(){return I.current.useTransition()},n.version="18.2.0"},2791:function(e,n,t){"use strict";e.exports=t(9117)},184:function(e,n,t){"use strict";e.exports=t(6374)},6813:function(e,n){"use strict";function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var r=t-1>>>1,o=e[r];if(!(0<a(o,n)))break e;e[r]=n,e[t]=o,t=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,t))c<o&&0>a(u,l)?(e[r]=u,e[c]=t,r=c):(e[r]=l,e[s]=t,r=s);else{if(!(c<o&&0>a(u,t)))break e;e[r]=u,e[c]=t,r=c}}}return n}function a(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;n.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,f=3,h=!1,m=!1,g=!1,b="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var n=r(u);null!==n;){if(null===n.callback)o(u);else{if(!(n.startTime<=e))break;o(u),n.sortIndex=n.expirationTime,t(c,n)}n=r(u)}}function k(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,O(w);else{var n=r(u);null!==n&&L(k,n.startTime-e)}}function w(e,t){m=!1,g&&(g=!1,v(_),_=-1),h=!0;var a=f;try{for(x(t),p=r(c);null!==p&&(!(p.expirationTime>t)||e&&!N());){var i=p.callback;if("function"===typeof i){p.callback=null,f=p.priorityLevel;var s=i(p.expirationTime<=t);t=n.unstable_now(),"function"===typeof s?p.callback=s:p===r(c)&&o(c),x(t)}else o(c);p=r(c)}if(null!==p)var l=!0;else{var d=r(u);null!==d&&L(k,d.startTime-t),l=!1}return l}finally{p=null,f=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,_=-1,j=5,A=-1;function N(){return!(n.unstable_now()-A<j)}function P(){if(null!==C){var e=n.unstable_now();A=e;var t=!0;try{t=C(!0,e)}finally{t?S():(E=!1,C=null)}}else E=!1}if("function"===typeof y)S=function(){y(P)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,I=T.port2;T.port1.onmessage=P,S=function(){I.postMessage(null)}}else S=function(){b(P,0)};function O(e){C=e,E||(E=!0,S())}function L(e,t){_=b((function(){e(n.unstable_now())}),t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){m||h||(m=!0,O(w))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return r(c)},n.unstable_next=function(e){switch(f){case 1:case 2:case 3:var n=3;break;default:n=f}var t=f;f=n;try{return e()}finally{f=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=f;f=e;try{return n()}finally{f=t}},n.unstable_scheduleCallback=function(e,o,a){var i=n.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,t(u,e),null===r(c)&&e===r(u)&&(g?(v(_),_=-1):g=!0,L(k,a-i))):(e.sortIndex=s,t(c,e),m||h||(m=!0,O(w))),e},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(e){var n=f;return function(){var t=f;f=n;try{return e.apply(this,arguments)}finally{f=t}}}},5296:function(e,n,t){"use strict";e.exports=t(6813)},538:function(e){e.exports=/[\0-\x1F\x7F-\x9F]/},7319:function(e){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},3741:function(e){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},2426:function(e){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},6937:function(e,n,t){"use strict";n.Any=t(5510),n.Cc=t(538),n.Cf=t(7319),n.P=t(3741),n.Z=t(2426)},5510:function(e){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},907:function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}t.d(n,{Z:function(){return r}})},7762:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(181);function o(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=(0,r.Z)(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw i}}}}},9199:function(e,n,t){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}t.d(n,{Z:function(){return r}})},3433:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(907);var o=t(9199),a=t(181);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,o.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(907);function o(e,n){if(e){if("string"===typeof e)return(0,r.Z)(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?(0,r.Z)(e,n):void 0}}},9483:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=!1,o={false:"push",true:"unshift",after:"push",before:"unshift"},a={isPermalinkSymbol:!0};function i(e,n,t,i){var s;if(!r){var l="Using deprecated markdown-it-anchor permalink option, see https://github.com/valeriangalliat/markdown-it-anchor#permalinks";"object"==typeof process&&process&&process.emitWarning?process.emitWarning(l):console.warn(l),r=!0}var c=[Object.assign(new t.Token("link_open","a",1),{attrs:[].concat(n.permalinkClass?[["class",n.permalinkClass]]:[],[["href",n.permalinkHref(e,t)]],Object.entries(n.permalinkAttrs(e,t)))}),Object.assign(new t.Token("html_block","",0),{content:n.permalinkSymbol,meta:a}),new t.Token("link_close","a",-1)];n.permalinkSpace&&t.tokens[i+1].children[o[n.permalinkBefore]](Object.assign(new t.Token("text","",0),{content:" "})),(s=t.tokens[i+1].children)[o[n.permalinkBefore]].apply(s,c)}function s(e){return"#"+e}function l(e){return{}}var c={class:"header-anchor",symbol:"#",renderHref:s,renderAttrs:l};function u(e){function n(t){return t=Object.assign({},n.defaults,t),function(n,r,o,a){return e(n,t,r,o,a)}}return n.defaults=Object.assign({},c),n.renderPermalinkImpl=e,n}var d=u((function(e,n,t,r,i){var s,l=[Object.assign(new r.Token("link_open","a",1),{attrs:[].concat(n.class?[["class",n.class]]:[],[["href",n.renderHref(e,r)]],n.ariaHidden?[["aria-hidden","true"]]:[],Object.entries(n.renderAttrs(e,r)))}),Object.assign(new r.Token("html_inline","",0),{content:n.symbol,meta:a}),new r.Token("link_close","a",-1)];if(n.space){var c="string"==typeof n.space?n.space:" ";r.tokens[i+1].children[o[n.placement]](Object.assign(new r.Token("string"==typeof n.space?"html_inline":"text","",0),{content:c}))}(s=r.tokens[i+1].children)[o[n.placement]].apply(s,l)}));Object.assign(d.defaults,{space:!0,placement:"after",ariaHidden:!1});var p=u(d.renderPermalinkImpl);p.defaults=Object.assign({},d.defaults,{ariaHidden:!0});var f=u((function(e,n,t,r,o){var a=[Object.assign(new r.Token("link_open","a",1),{attrs:[].concat(n.class?[["class",n.class]]:[],[["href",n.renderHref(e,r)]],Object.entries(n.renderAttrs(e,r)))})].concat(n.safariReaderFix?[new r.Token("span_open","span",1)]:[],r.tokens[o+1].children,n.safariReaderFix?[new r.Token("span_close","span",-1)]:[],[new r.Token("link_close","a",-1)]);r.tokens[o+1]=Object.assign(new r.Token("inline","",0),{children:a})}));Object.assign(f.defaults,{safariReaderFix:!1});var h=u((function(e,n,t,r,i){var s;if(!["visually-hidden","aria-label","aria-describedby","aria-labelledby"].includes(n.style))throw new Error("`permalink.linkAfterHeader` called with unknown style option `"+n.style+"`");if(!["aria-describedby","aria-labelledby"].includes(n.style)&&!n.assistiveText)throw new Error("`permalink.linkAfterHeader` called without the `assistiveText` option in `"+n.style+"` style");if("visually-hidden"===n.style&&!n.visuallyHiddenClass)throw new Error("`permalink.linkAfterHeader` called without the `visuallyHiddenClass` option in `visually-hidden` style");var l=r.tokens[i+1].children.filter((function(e){return"text"===e.type||"code_inline"===e.type})).reduce((function(e,n){return e+n.content}),""),c=[],u=[];if(n.class&&u.push(["class",n.class]),u.push(["href",n.renderHref(e,r)]),u.push.apply(u,Object.entries(n.renderAttrs(e,r))),"visually-hidden"===n.style){if(c.push(Object.assign(new r.Token("span_open","span",1),{attrs:[["class",n.visuallyHiddenClass]]}),Object.assign(new r.Token("text","",0),{content:n.assistiveText(l)}),new r.Token("span_close","span",-1)),n.space){var d="string"==typeof n.space?n.space:" ";c[o[n.placement]](Object.assign(new r.Token("string"==typeof n.space?"html_inline":"text","",0),{content:d}))}c[o[n.placement]](Object.assign(new r.Token("span_open","span",1),{attrs:[["aria-hidden","true"]]}),Object.assign(new r.Token("html_inline","",0),{content:n.symbol,meta:a}),new r.Token("span_close","span",-1))}else c.push(Object.assign(new r.Token("html_inline","",0),{content:n.symbol,meta:a}));"aria-label"===n.style?u.push(["aria-label",n.assistiveText(l)]):["aria-describedby","aria-labelledby"].includes(n.style)&&u.push([n.style,e]);var p=[Object.assign(new r.Token("link_open","a",1),{attrs:u})].concat(c,[new r.Token("link_close","a",-1)]);(s=r.tokens).splice.apply(s,[i+3,0].concat(p)),n.wrapper&&(r.tokens.splice(i,0,Object.assign(new r.Token("html_block","",0),{content:n.wrapper[0]+"\n"})),r.tokens.splice(i+3+p.length+1,0,Object.assign(new r.Token("html_block","",0),{content:n.wrapper[1]+"\n"})))}));function m(e,n,t,r){var o=e,a=r;if(t&&Object.prototype.hasOwnProperty.call(n,o))throw new Error("User defined `id` attribute `"+e+"` is not unique. Please fix it in your Markdown to continue.");for(;Object.prototype.hasOwnProperty.call(n,o);)o=e+"-"+a,a+=1;return n[o]=!0,o}function g(e,n){n=Object.assign({},g.defaults,n),e.core.ruler.push("anchor",(function(e){for(var t,r={},o=e.tokens,a=Array.isArray(n.level)?(t=n.level,function(e){return t.includes(e)}):function(e){return function(n){return n>=e}}(n.level),s=0;s<o.length;s++){var l=o[s];if("heading_open"===l.type&&a(Number(l.tag.substr(1)))){var c=n.getTokensText(o[s+1].children),u=l.attrGet("id");u=null==u?m(n.slugify(c),r,!1,n.uniqueSlugStartIndex):m(u,r,!0,n.uniqueSlugStartIndex),l.attrSet("id",u),!1!==n.tabIndex&&l.attrSet("tabindex",""+n.tabIndex),"function"==typeof n.permalink?n.permalink(u,n,e,s):(n.permalink||n.renderPermalink&&n.renderPermalink!==i)&&n.renderPermalink(u,n,e,s),s=o.indexOf(l),n.callback&&n.callback(l,{slug:u,title:c})}}}))}Object.assign(h.defaults,{style:"visually-hidden",space:!0,placement:"after",wrapper:null}),g.permalink={__proto__:null,legacy:i,renderHref:s,renderAttrs:l,makePermalink:u,linkInsideHeader:d,ariaHidden:p,headerLink:f,linkAfterHeader:h},g.defaults={level:1,slugify:function(e){return encodeURIComponent(String(e).trim().toLowerCase().replace(/\s+/g,"-"))},uniqueSlugStartIndex:1,tabIndex:"-1",getTokensText:function(e){return e.filter((function(e){return["text","code_inline"].includes(e.type)})).map((function(e){return e.content})).join("")},permalink:!1,renderPermalink:i,permalinkClass:p.defaults.class,permalinkSpace:p.defaults.space,permalinkSymbol:"\xb6",permalinkBefore:"before"===p.defaults.placement,permalinkHref:p.defaults.renderHref,permalinkAttrs:p.defaults.renderAttrs},g.default=g},9107:function(e,n,t){"use strict";function r(e){return encodeURIComponent(String(e).trim().toLowerCase().replace(/\s+/g,"-"))}function o(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e,n){var t;n=Object.assign({},{placeholder:"(\\$\\{toc\\}|\\[\\[?_?toc_?\\]?\\]|\\$\\<toc(\\{[^}]*\\})\\>)",slugify:r,uniqueSlugStartIndex:1,containerClass:"table-of-contents",containerId:void 0,listClass:void 0,itemClass:void 0,linkClass:void 0,level:1,listType:"ol",format:void 0,callback:void 0},n);var a=new RegExp("^"+n.placeholder+"$","i");e.renderer.rules.tocOpen=function(e,t){var r=Object.assign({},n);return e&&t>=0&&(r=Object.assign(r,e[t].inlineOptions)),"<nav"+(r.containerId?' id="'+o(r.containerId)+'"':"")+' class="'+o(r.containerClass)+'">'},e.renderer.rules.tocClose=function(){return"</nav>"},e.renderer.rules.tocBody=function(e,r){var a=Object.assign({},n);e&&r>=0&&(a=Object.assign(a,e[r].inlineOptions));var i,s={},l=Array.isArray(a.level)?(i=a.level,function(e){return i.includes(e)}):function(e){return function(n){return n>=e}}(a.level);return function e(t){var r=a.listClass?' class="'+o(a.listClass)+'"':"",i=a.itemClass?' class="'+o(a.itemClass)+'"':"",c=a.linkClass?' class="'+o(a.linkClass)+'"':"";if(0===t.c.length)return"";var u="";return(0===t.l||l(t.l))&&(u+="<"+(o(a.listType)+r)+">"),t.c.forEach((function(t){l(t.l)?u+="<li"+i+"><a"+c+' href="#'+function(e){for(var n=e,t=a.uniqueSlugStartIndex;Object.prototype.hasOwnProperty.call(s,n);)n=e+"-"+t++;return s[n]=!0,n}(n.slugify(t.n))+'">'+("function"==typeof a.format?a.format(t.n,o):o(t.n))+"</a>"+e(t)+"</li>":u+=e(t)})),(0===t.l||l(t.l))&&(u+="</"+o(a.listType)+">"),u}(t)},e.core.ruler.push("generateTocAst",(function(r){t=function(e){for(var n={l:0,n:"",c:[]},t=[n],r=0,o=e.length;r<o;r++){var a=e[r];if("heading_open"===a.type){var i=e[r+1].children.filter((function(e){return"text"===e.type||"code_inline"===e.type})).reduce((function(e,n){return e+n.content}),""),s={l:parseInt(a.tag.substr(1),10),n:i,c:[]};if(s.l>t[0].l)t[0].c.push(s),t.unshift(s);else if(s.l===t[0].l)t[1].c.push(s),t[0]=s;else{for(;s.l<=t[0].l;)t.shift();t[0].c.push(s),t.unshift(s)}}}return n}(r.tokens),"function"==typeof n.callback&&n.callback(e.renderer.rules.tocOpen()+e.renderer.rules.tocBody()+e.renderer.rules.tocClose(),t)})),e.block.ruler.before("heading","toc",(function(e,n,t,r){var o,i=e.src.slice(e.bMarks[n]+e.tShift[n],e.eMarks[n]).split(" ")[0];if(!a.test(i))return!1;if(r)return!0;var s=a.exec(i),l={};if(null!==s&&3===s.length)try{l=JSON.parse(s[2])}catch(e){}return e.line=n+1,(o=e.push("tocOpen","nav",1)).markup="",o.map=[n,e.line],o.inlineOptions=l,(o=e.push("tocBody","",0)).markup="",o.map=[n,e.line],o.inlineOptions=l,o.children=[],(o=e.push("tocClose","nav",-1)).markup="",!0}),{alt:["paragraph","reference","blockquote"]})}t.d(n,{Z:function(){return a}})},5485:function(e){"use strict";e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\ud835\udd04","afr":"\ud835\udd1e","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\ud835\udd38","aopf":"\ud835\udd52","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\ud835\udc9c","ascr":"\ud835\udcb6","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\ud835\udd05","bfr":"\ud835\udd1f","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\ud835\udd39","bopf":"\ud835\udd53","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\ud835\udcb7","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\ud835\udd20","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\ud835\udd54","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\ud835\udc9e","cscr":"\ud835\udcb8","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\ud835\udd07","dfr":"\ud835\udd21","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\ud835\udd3b","dopf":"\ud835\udd55","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\ud835\udc9f","dscr":"\ud835\udcb9","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\ud835\udd08","efr":"\ud835\udd22","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\ud835\udd3c","eopf":"\ud835\udd56","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\ud835\udd09","ffr":"\ud835\udd23","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\ud835\udd3d","fopf":"\ud835\udd57","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\ud835\udcbb","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\ud835\udd0a","gfr":"\ud835\udd24","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\ud835\udd3e","gopf":"\ud835\udd58","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\ud835\udca2","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\ud835\udd25","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\ud835\udd59","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\ud835\udcbd","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\ud835\udd26","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\ud835\udd40","iopf":"\ud835\udd5a","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\ud835\udcbe","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\ud835\udd0d","jfr":"\ud835\udd27","jmath":"\u0237","Jopf":"\ud835\udd41","jopf":"\ud835\udd5b","Jscr":"\ud835\udca5","jscr":"\ud835\udcbf","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\ud835\udd0e","kfr":"\ud835\udd28","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\ud835\udd42","kopf":"\ud835\udd5c","Kscr":"\ud835\udca6","kscr":"\ud835\udcc0","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\ud835\udd0f","lfr":"\ud835\udd29","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\ud835\udd43","lopf":"\ud835\udd5d","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\ud835\udcc1","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\ud835\udd10","mfr":"\ud835\udd2a","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\ud835\udd44","mopf":"\ud835\udd5e","mp":"\u2213","mscr":"\ud835\udcc2","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\ud835\udd11","nfr":"\ud835\udd2b","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\ud835\udd5f","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\ud835\udca9","nscr":"\ud835\udcc3","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\ud835\udd12","ofr":"\ud835\udd2c","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\ud835\udd46","oopf":"\ud835\udd60","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\ud835\udcaa","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\ud835\udd13","pfr":"\ud835\udd2d","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\ud835\udd61","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\ud835\udcab","pscr":"\ud835\udcc5","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\ud835\udd14","qfr":"\ud835\udd2e","qint":"\u2a0c","qopf":"\ud835\udd62","Qopf":"\u211a","qprime":"\u2057","Qscr":"\ud835\udcac","qscr":"\ud835\udcc6","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\ud835\udd2f","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\ud835\udd63","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\ud835\udcc7","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\ud835\udd16","sfr":"\ud835\udd30","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\ud835\udd4a","sopf":"\ud835\udd64","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\ud835\udcae","sscr":"\ud835\udcc8","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\ud835\udd17","tfr":"\ud835\udd31","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\ud835\udd4b","topf":"\ud835\udd65","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\ud835\udcaf","tscr":"\ud835\udcc9","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\ud835\udd18","ufr":"\ud835\udd32","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\ud835\udd4c","uopf":"\ud835\udd66","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\ud835\udcb0","uscr":"\ud835\udcca","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\ud835\udd19","vfr":"\ud835\udd33","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\ud835\udd4d","vopf":"\ud835\udd67","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\ud835\udcb1","vscr":"\ud835\udccb","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\ud835\udd1a","wfr":"\ud835\udd34","Wopf":"\ud835\udd4e","wopf":"\ud835\udd68","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\ud835\udcb2","wscr":"\ud835\udccc","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\ud835\udd1b","xfr":"\ud835\udd35","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\ud835\udd4f","xopf":"\ud835\udd69","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\ud835\udcb3","xscr":"\ud835\udccd","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\ud835\udd1c","yfr":"\ud835\udd36","YIcy":"\u0407","yicy":"\u0457","Yopf":"\ud835\udd50","yopf":"\ud835\udd6a","Yscr":"\ud835\udcb4","yscr":"\ud835\udcce","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\ud835\udd37","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\ud835\udd6b","Zopf":"\u2124","Zscr":"\ud835\udcb5","zscr":"\ud835\udccf","zwj":"\u200d","zwnj":"\u200c"}')}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={exports:{}};return e[r](a,a.exports,t),a.exports}t.m=e,t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},function(){var e,n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};t.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);t.r(a);var i={};e=e||[null,n({}),n([]),n(n)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((function(e){i[e]=function(){return r[e]}}));return i.default=function(){return r},t.d(a,i),a}}(),t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(n,r){return t.f[r](e,n),n}),[]))},t.u=function(e){return"static/js/"+e+".159ee502.chunk.js"},t.miniCssF=function(e){},t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e={},n="course:";t.l=function(r,o,a,i){if(e[r])e[r].push(o);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==n+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",n+a),s.src=r),e[r]=[o];var p=function(n,t){s.onerror=s.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(t)})),n)return n(t)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.p="/",function(){var e={179:0};t.f.j=function(n,r){var o=t.o(e,n)?e[n]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((function(t,r){o=e[n]=[t,r]}));r.push(o[2]=a);var i=t.p+t.u(n),s=new Error;t.l(i,(function(r){if(t.o(e,n)&&(0!==(o=e[n])&&(e[n]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+n+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,o[1](s)}}),"chunk-"+n,n)}};var n=function(n,r){var o,a,i=r[0],s=r[1],l=r[2],c=0;if(i.some((function(n){return 0!==e[n]}))){for(o in s)t.o(s,o)&&(t.m[o]=s[o]);if(l)l(t)}for(n&&n(r);c<i.length;c++)a=i[c],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkcourse=self.webpackChunkcourse||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}(),function(){"use strict";var e=t(2791),n=t.t(e,2),r=t(1250);function o(e){if(Array.isArray(e))return e}var a=t(181);function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,n){return o(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==n);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,n)||(0,a.Z)(e,n)||i()}function l(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e){var n=function(e,n){if("object"!==c(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===c(n)?n:String(n)}function d(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function p(e,n,t){return n&&d(e.prototype,n),t&&d(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,n){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},f(e,n)}function h(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&f(e,n)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){var n=g();return function(){var t,r=m(e);if(n){var o=m(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(e,n){if(n&&("object"===c(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,t)}}function y(){y=function(){return e};var e={},n=Object.prototype,t=n.hasOwnProperty,r=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(P){l=function(e,n,t){return e[n]=t}}function u(e,n,t,o){var a=n&&n.prototype instanceof f?n:f,i=Object.create(a.prototype),s=new j(o||[]);return r(i,"_invoke",{value:S(e,t,s)}),i}function d(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(P){return{type:"throw",arg:P}}}e.wrap=u;var p={};function f(){}function h(){}function m(){}var g={};l(g,a,(function(){return this}));var b=Object.getPrototypeOf,v=b&&b(b(A([])));v&&v!==n&&t.call(v,a)&&(g=v);var x=m.prototype=f.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function w(e,n){function o(r,a,i,s){var l=d(e[r],e,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==c(p)&&t.call(p,"__await")?n.resolve(p.__await).then((function(e){o("next",e,i,s)}),(function(e){o("throw",e,i,s)})):n.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return o("throw",e,i,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,t){function r(){return new n((function(n,r){o(e,t,n,r)}))}return a=a?a.then(r,r):r()}})}function S(e,n,t){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return N()}for(t.method=o,t.arg=a;;){var i=t.delegate;if(i){var s=E(i,t);if(s){if(s===p)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var l=d(e,n,t);if("normal"===l.type){if(r=t.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:t.done}}"throw"===l.type&&(r="completed",t.method="throw",t.arg=l.arg)}}}function E(e,n){var t=n.method,r=e.iterator[t];if(void 0===r)return n.delegate=null,"throw"===t&&e.iterator.return&&(n.method="return",n.arg=void 0,E(e,n),"throw"===n.method)||"return"!==t&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+t+"' method")),p;var o=d(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function C(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function _(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(t.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=m,r(x,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===h||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},k(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(n,t,r,o,a){void 0===a&&(a=Promise);var i=new w(u(n,t,r,o),a);return e.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(x),l(x,s,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=t.call(a,"catchLoc"),l=t.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&t.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),p},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),_(t),p}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var o=r.arg;_(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:A(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=void 0),p}},e}function x(e,n,t,r,o,a,i){try{var s=e[a](i),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(r,o)}function k(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){x(a,r,o,i,s,"next",e)}function s(e){x(a,r,o,i,s,"throw",e)}i(void 0)}))}}function w(e,n,t){return(n=u(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function S(e,n,t){return S=g()?Reflect.construct.bind():function(e,n,t){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return t&&f(o,t.prototype),o},S.apply(null,arguments)}function E(e){var n="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return S(e,arguments,m(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)},E(e)}var C=t(9199);function _(e){return o(e)||(0,C.Z)(e)||(0,a.Z)(e)||i()}var j,A=t(7762),N=t(3433);function P(){return P=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},P.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(j||(j={}));var T,I="popstate";function O(e,n){if(!1===e||null===e||"undefined"===typeof e)throw new Error(n)}function L(e,n){if(!e){"undefined"!==typeof console&&console.warn(n);try{throw new Error(n)}catch(t){}}}function D(e,n){return{usr:e.state,key:e.key,idx:n}}function R(e,n,t,r){return void 0===t&&(t=null),P({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof n?q(n):n,{state:t,key:n&&n.key||r||Math.random().toString(36).substr(2,8)})}function M(e){var n=e.pathname,t=void 0===n?"/":n,r=e.search,o=void 0===r?"":r,a=e.hash,i=void 0===a?"":a;return o&&"?"!==o&&(t+="?"===o.charAt(0)?o:"?"+o),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function q(e){var n={};if(e){var t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));var r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function F(e,n,t,r){void 0===r&&(r={});var o=r,a=o.window,i=void 0===a?document.defaultView:a,s=o.v5Compat,l=void 0!==s&&s,c=i.history,u=j.Pop,d=null,p=f();function f(){return(c.state||{idx:null}).idx}function h(){u=j.Pop;var e=f(),n=null==e?null:e-p;p=e,d&&d({action:u,location:g.location,delta:n})}function m(e){var n="null"!==i.location.origin?i.location.origin:i.location.href,t="string"===typeof e?e:M(e);return O(n,"No window.location.(origin|href) available to create URL for href: "+t),new URL(t,n)}null==p&&(p=0,c.replaceState(P({},c.state,{idx:p}),""));var g={get action(){return u},get location(){return e(i,c)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(I,h),d=e,function(){i.removeEventListener(I,h),d=null}},createHref:function(e){return n(i,e)},createURL:m,encodeLocation:function(e){var n=m(e);return{pathname:n.pathname,search:n.search,hash:n.hash}},push:function(e,n){u=j.Push;var r=R(g.location,e,n);t&&t(r,e);var o=D(r,p=f()+1),a=g.createHref(r);try{c.pushState(o,"",a)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;i.location.assign(a)}l&&d&&d({action:u,location:g.location,delta:1})},replace:function(e,n){u=j.Replace;var r=R(g.location,e,n);t&&t(r,e);var o=D(r,p=f()),a=g.createHref(r);c.replaceState(o,"",a),l&&d&&d({action:u,location:g.location,delta:0})},go:function(e){return c.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(T||(T={}));var B=new Set(["lazy","caseSensitive","path","id","index","children"]);function z(e,n,t,r){return void 0===t&&(t=[]),void 0===r&&(r={}),e.map((function(e,o){var a=[].concat((0,N.Z)(t),[o]),i="string"===typeof e.id?e.id:a.join("-");if(O(!0!==e.index||!e.children,"Cannot specify children on an index route"),O(!r[i],'Found a route id collision on id "'+i+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){var s=P({},e,n(e),{id:i});return r[i]=s,s}var l=P({},e,n(e),{id:i,children:void 0});return r[i]=l,e.children&&(l.children=z(e.children,n,a,r)),l}))}function U(e,n,t){void 0===t&&(t="/");var r=te(("string"===typeof n?q(n):n).pathname||"/",t);if(null==r)return null;var o=H(e);!function(e){e.sort((function(e,n){return e.score!==n.score?n.score-e.score:function(e,n){var t=e.length===n.length&&e.slice(0,-1).every((function(e,t){return e===n[t]}));return t?e[e.length-1]-n[n.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),n.routesMeta.map((function(e){return e.childrenIndex})))}))}(o);for(var a=null,i=0;null==a&&i<o.length;++i)a=Y(o[i],ne(r));return a}function H(e,n,t,r){void 0===n&&(n=[]),void 0===t&&(t=[]),void 0===r&&(r="");var o=function(e,o,a){var i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};i.relativePath.startsWith("/")&&(O(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));var s=ie([r,i.relativePath]),l=t.concat(i);e.children&&e.children.length>0&&(O(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),H(e.children,n,l,s)),(null!=e.path||e.index)&&n.push({path:s,score:Z(s,e.index),routesMeta:l})};return e.forEach((function(e,n){var t;if(""!==e.path&&null!=(t=e.path)&&t.includes("?")){var r,a=(0,A.Z)(V(e.path));try{for(a.s();!(r=a.n()).done;){var i=r.value;o(e,n,i)}}catch(s){a.e(s)}finally{a.f()}}else o(e,n)})),n}function V(e){var n=e.split("/");if(0===n.length)return[];var t=_(n),r=t[0],o=t.slice(1),a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===o.length)return a?[i,""]:[i];var s=V(o.join("/")),l=[];return l.push.apply(l,(0,N.Z)(s.map((function(e){return""===e?i:[i,e].join("/")})))),a&&l.push.apply(l,(0,N.Z)(s)),l.map((function(n){return e.startsWith("/")&&""===n?"/":n}))}var G=/^:\w+$/,W=3,$=2,K=1,Q=10,J=-2,X=function(e){return"*"===e};function Z(e,n){var t=e.split("/"),r=t.length;return t.some(X)&&(r+=J),n&&(r+=$),t.filter((function(e){return!X(e)})).reduce((function(e,n){return e+(G.test(n)?W:""===n?K:Q)}),r)}function Y(e,n){for(var t=e.routesMeta,r={},o="/",a=[],i=0;i<t.length;++i){var s=t[i],l=i===t.length-1,c="/"===o?n:n.slice(o.length)||"/",u=ee({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);var d=s.route;a.push({params:r,pathname:ie([o,u.pathname]),pathnameBase:se(ie([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=ie([o,u.pathnameBase]))}return a}function ee(e,n){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var t=function(e,n,t){void 0===n&&(n=!1);void 0===t&&(t=!0);L("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,n){return r.push(n),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");var a=new RegExp(o,n?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=s(t,2),o=r[0],a=r[1],i=n.match(o);if(!i)return null;var l=i[0],c=l.replace(/(.)\/+$/,"$1"),u=i.slice(1),d=a.reduce((function(e,n,t){if("*"===n){var r=u[t]||"";c=l.slice(0,l.length-r.length).replace(/(.)\/+$/,"$1")}return e[n]=function(e,n){try{return decodeURIComponent(e)}catch(t){return L(!1,'The value for the URL param "'+n+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}(u[t]||"",n),e}),{});return{params:d,pathname:l,pathnameBase:c,pattern:e}}function ne(e){try{return decodeURI(e)}catch(n){return L(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}function te(e,n){if("/"===n)return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;var t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&"/"!==r?null:e.slice(t)||"/"}function re(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified `to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+t+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function oe(e){return e.filter((function(e,n){return 0===n||e.route.path&&e.route.path.length>0}))}function ae(e,n,t,r){var o;void 0===r&&(r=!1),"string"===typeof e?o=q(e):(O(!(o=P({},e)).pathname||!o.pathname.includes("?"),re("?","pathname","search",o)),O(!o.pathname||!o.pathname.includes("#"),re("#","pathname","hash",o)),O(!o.search||!o.search.includes("#"),re("#","search","hash",o)));var a,i=""===e||""===o.pathname,s=i?"/":o.pathname;if(r||null==s)a=t;else{var l=n.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),l-=1;o.pathname=c.join("/")}a=l>=0?n[l]:"/"}var u=function(e,n){void 0===n&&(n="/");var t="string"===typeof e?q(e):e,r=t.pathname,o=t.search,a=void 0===o?"":o,i=t.hash,s=void 0===i?"":i,l=r?r.startsWith("/")?r:function(e,n){var t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?t.length>1&&t.pop():"."!==e&&t.push(e)})),t.length>1?t.join("/"):"/"}(r,n):n;return{pathname:l,search:le(a),hash:ce(s)}}(o,a),d=s&&"/"!==s&&s.endsWith("/"),p=(i||"."===s)&&t.endsWith("/");return u.pathname.endsWith("/")||!d&&!p||(u.pathname+="/"),u}var ie=function(e){return e.join("/").replace(/\/\/+/g,"/")},se=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},le=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ce=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ue=function(e){h(t,e);var n=v(t);function t(){return l(this,t),n.apply(this,arguments)}return p(t)}(E(Error));var de=p((function e(n,t,r,o){l(this,e),void 0===o&&(o=!1),this.status=n,this.statusText=t||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function pe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var fe=["post","put","patch","delete"],he=new Set(fe),me=["get"].concat(fe),ge=new Set(me),be=new Set([301,302,303,307,308]),ve=new Set([307,308]),ye={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ke={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},we=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=function(e){return{hasErrorBoundary:Boolean(e.hasErrorBoundary)}};function Ee(e){var n,t=e.window?e.window:"undefined"!==typeof window?window:void 0,r="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,o=!r;if(O(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)n=e.mapRouteProperties;else if(e.detectErrorBoundary){var a=e.detectErrorBoundary;n=function(e){return{hasErrorBoundary:a(e)}}}else n=Se;var i,l={},c=z(e.routes,n,void 0,l),u=e.basename||"/",d=P({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),p=null,f=new Set,h=null,m=null,g=null,b=null!=e.hydrationData,v=U(c,e.history.location,u),x=null;if(null==v){var S=He(404,{pathname:e.history.location.pathname}),E=Ue(c);v=E.matches,x=w({},E.route.id,S)}var C,_,I=!v.some((function(e){return e.route.lazy}))&&(!v.some((function(e){return e.route.loader}))||null!=e.hydrationData),D={historyAction:e.history.action,location:e.history.location,matches:v,initialized:I,navigation:ye,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},M=j.Pop,q=!1,F=!1,B=!1,H=[],V=[],G=new Map,W=0,$=-1,K=new Map,Q=new Set,J=new Map,X=new Map,Z=new Map,Y=!1;function ee(e){D=P({},D,e),f.forEach((function(e){return e(D)}))}function ne(n,t){var r,o,a,s=null!=D.actionData&&null!=D.navigation.formMethod&&Ye(D.navigation.formMethod)&&"loading"===D.navigation.state&&!0!==(null==(r=n.state)?void 0:r._isRedirect);a=t.actionData?Object.keys(t.actionData).length>0?t.actionData:null:s?D.actionData:null;var l=t.loaderData?Be(D.loaderData,t.loaderData,t.matches||[],t.errors):D.loaderData,u=D.blockers;u.size>0&&(u=new Map(u)).forEach((function(e,n){return u.set(n,ke)}));var d=!0===q||null!=D.navigation.formMethod&&Ye(D.navigation.formMethod)&&!0!==(null==(o=n.state)?void 0:o._isRedirect);i&&(c=i,i=void 0),F||M===j.Pop||(M===j.Push?e.history.push(n,n.state):M===j.Replace&&e.history.replace(n,n.state)),ee(P({},t,{actionData:a,loaderData:l,historyAction:M,location:n,initialized:!0,navigation:ye,revalidation:"idle",restoreScrollPosition:Ze(n,t.matches||D.matches),preventScrollReset:d,blockers:u})),M=j.Pop,q=!1,F=!1,B=!1,H=[],V=[]}function re(e,n){return oe.apply(this,arguments)}function oe(){return oe=k(y().mark((function n(t,r){var o,a,i,s,l,c,p,f,h,m,g;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("number"!==typeof t){n.next=3;break}return e.history.go(t),n.abrupt("return");case 3:if(o=Ce(D.location,D.matches,u,d.v7_prependBasename,t,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),a=_e(d.v7_normalizeFormMethod,!1,o,r),i=a.path,s=a.submission,l=a.error,c=D.location,p=P({},p=R(D.location,i,r&&r.state),e.history.encodeLocation(p)),f=r&&null!=r.replace?r.replace:void 0,h=j.Push,!0===f?h=j.Replace:!1===f||null!=s&&Ye(s.formMethod)&&s.formAction===D.location.pathname+D.location.search&&(h=j.Replace),m=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,!(g=qe({currentLocation:c,nextLocation:p,historyAction:h}))){n.next=16;break}return Me(g,{state:"blocked",location:p,proceed:function(){Me(g,{state:"proceeding",proceed:void 0,reset:void 0,location:p}),re(t,r)},reset:function(){var e=new Map(D.blockers);e.set(g,ke),ee({blockers:e})}}),n.abrupt("return");case 16:return n.next=18,ae(h,p,{submission:s,pendingError:l,preventScrollReset:m,replace:r&&r.replace});case 18:return n.abrupt("return",n.sent);case 19:case"end":return n.stop()}}),n)}))),oe.apply(this,arguments)}function ae(e,n,t){return ie.apply(this,arguments)}function ie(){return ie=k(y().mark((function n(t,r,o){var a,s,l,d,p,f,h,m,g,b,v,x,k,S,E;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(_&&_.abort(),_=null,M=t,F=!0===(o&&o.startUninterruptedRevalidation),Xe(D.location,D.matches),q=!0===(o&&o.preventScrollReset),a=i||c,s=o&&o.overrideNavigation,l=U(a,r,u)){n.next=15;break}return d=He(404,{pathname:r.pathname}),p=Ue(a),f=p.matches,h=p.route,Ge(),ne(r,{matches:f,loaderData:{},errors:w({},h.id,d)}),n.abrupt("return");case 15:if(!D.initialized||B||!We(D.location,r)||o&&o.submission&&Ye(o.submission.formMethod)){n.next=18;break}return ne(r,{matches:l}),n.abrupt("return");case 18:if(_=new AbortController,m=De(e.history,r,_.signal,o&&o.submission),!o||!o.pendingError){n.next=24;break}b=w({},ze(l).route.id,o.pendingError),n.next=34;break;case 24:if(!(o&&o.submission&&Ye(o.submission.formMethod))){n.next=34;break}return n.next=27,se(m,r,o.submission,l,{replace:o.replace});case 27:if(!(v=n.sent).shortCircuited){n.next=30;break}return n.abrupt("return");case 30:g=v.pendingActionData,b=v.pendingActionError,s=ln(r,o.submission),m=new Request(m.url,{signal:m.signal});case 34:return n.next=36,ce(m,r,l,s,o&&o.submission,o&&o.fetcherSubmission,o&&o.replace,g,b);case 36:if(x=n.sent,k=x.shortCircuited,S=x.loaderData,E=x.errors,!k){n.next=42;break}return n.abrupt("return");case 42:_=null,ne(r,P({matches:l},g?{actionData:g}:{},{loaderData:S,errors:E}));case 44:case"end":return n.stop()}}),n)}))),ie.apply(this,arguments)}function se(e,n,t,r,o){return le.apply(this,arguments)}function le(){return le=k(y().mark((function e(t,r,o,a,i){var s,c,d,p;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i={}),Ee(),ee({navigation:cn(r,o)}),(c=an(a,r)).route.action||c.route.lazy){e.next=9;break}s={type:T.error,error:He(405,{method:t.method,pathname:r.pathname,routeId:c.route.id})},e.next=14;break;case 9:return e.next=11,Oe("action",t,c,a,l,n,u);case 11:if(s=e.sent,!t.signal.aborted){e.next=14;break}return e.abrupt("return",{shortCircuited:!0});case 14:if(!Qe(s)){e.next=19;break}return d=i&&null!=i.replace?i.replace:s.location===D.location.pathname+D.location.search,e.next=18,he(D,s,{submission:o,replace:d});case 18:return e.abrupt("return",{shortCircuited:!0});case 19:if(!Ke(s)){e.next=23;break}return p=ze(a,c.route.id),!0!==(i&&i.replace)&&(M=j.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:w({},p.route.id,s.error)});case 23:if(!$e(s)){e.next=25;break}throw He(400,{type:"defer-action"});case 25:return e.abrupt("return",{pendingActionData:w({},c.route.id,s.data)});case 26:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}function ce(e,n,t,r,o,a,i,s,l){return ue.apply(this,arguments)}function ue(){return ue=k(y().mark((function n(t,r,o,a,l,d,p,f,h){var m,g,b,v,x,k,w,S,E,C,j,A,N,T,I,O,L,R,M,q,z;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(m=a||ln(r,l),g=l||d||sn(m),b=i||c,v=Ae(e.history,D,o,g,r,B,H,V,J,Q,b,u,f,h),x=s(v,2),k=x[0],w=x[1],Ge((function(e){return!(o&&o.some((function(n){return n.route.id===e})))||k&&k.some((function(n){return n.route.id===e}))})),0!==k.length||0!==w.length){n.next=9;break}return S=Ie(),ne(r,P({matches:o,loaderData:{},errors:h||null},f?{actionData:f}:{},S?{fetchers:new Map(D.fetchers)}:{})),n.abrupt("return",{shortCircuited:!0});case 9:return F||(w.forEach((function(e){var n=D.fetchers.get(e.key),t=un(void 0,n?n.data:void 0);D.fetchers.set(e.key,t)})),E=f||D.actionData,ee(P({navigation:m},E?0===Object.keys(E).length?{actionData:null}:{actionData:E}:{},w.length>0?{fetchers:new Map(D.fetchers)}:{}))),$=++W,w.forEach((function(e){G.has(e.key)&&Pe(e.key),e.controller&&G.set(e.key,e.controller)})),C=function(){return w.forEach((function(e){return Pe(e.key)}))},_&&_.signal.addEventListener("abort",C),n.next=16,ge(D.matches,o,k,w,t);case 16:if(j=n.sent,A=j.results,N=j.loaderResults,T=j.fetcherResults,!t.signal.aborted){n.next=22;break}return n.abrupt("return",{shortCircuited:!0});case 22:if(_&&_.signal.removeEventListener("abort",C),w.forEach((function(e){return G.delete(e.key)})),!(I=Ve(A))){n.next=29;break}return n.next=28,he(D,I,{replace:p});case 28:return n.abrupt("return",{shortCircuited:!0});case 29:return O=Fe(D,o,k,N,h,w,T,X),L=O.loaderData,R=O.errors,X.forEach((function(e,n){e.subscribe((function(t){(t||e.done)&&X.delete(n)}))})),M=Ie(),q=Le($),z=M||q||w.length>0,n.abrupt("return",P({loaderData:L,errors:R},z?{fetchers:new Map(D.fetchers)}:{}));case 35:case"end":return n.stop()}}),n)}))),ue.apply(this,arguments)}function de(e){return D.fetchers.get(e)||xe}function pe(){return pe=k(y().mark((function t(r,o,a,d,p,f){var h,m,g,b,v,x,k,S,E,C,j,A,N,T,I,L,R,q,F,z,Z,Y,te,re,oe,ae,ie,se;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ee(),J.delete(r),d.route.action||d.route.lazy){t.next=6;break}return h=He(405,{method:f.formMethod,pathname:a,routeId:o}),je(r,o,h),t.abrupt("return");case 6:return m=D.fetchers.get(r),g=dn(f,m),D.fetchers.set(r,g),ee({fetchers:new Map(D.fetchers)}),b=new AbortController,v=De(e.history,a,b.signal,f),G.set(r,b),t.next=15,Oe("action",v,d,p,l,n,u);case 15:if(x=t.sent,!v.signal.aborted){t.next=19;break}return G.get(r)===b&&G.delete(r),t.abrupt("return");case 19:if(!Qe(x)){t.next=26;break}return G.delete(r),Q.add(r),k=un(f),D.fetchers.set(r,k),ee({fetchers:new Map(D.fetchers)}),t.abrupt("return",he(D,x,{submission:f,isFetchActionRedirect:!0}));case 26:if(!Ke(x)){t.next=29;break}return je(r,o,x.error),t.abrupt("return");case 29:if(!$e(x)){t.next=31;break}throw He(400,{type:"defer-action"});case 31:return S=D.navigation.location||D.location,E=De(e.history,S,b.signal),C=i||c,O(j="idle"!==D.navigation.state?U(C,D.navigation.location,u):D.matches,"Didn't find any matches after fetcher action"),A=++W,K.set(r,A),N=un(f,x.data),D.fetchers.set(r,N),T=Ae(e.history,D,j,f,S,B,H,V,J,Q,C,u,w({},d.route.id,x.data),void 0),I=s(T,2),L=I[0],(R=I[1]).filter((function(e){return e.key!==r})).forEach((function(e){var n=e.key,t=D.fetchers.get(n),r=un(void 0,t?t.data:void 0);D.fetchers.set(n,r),G.has(n)&&Pe(n),e.controller&&G.set(n,e.controller)})),ee({fetchers:new Map(D.fetchers)}),q=function(){return R.forEach((function(e){return Pe(e.key)}))},b.signal.addEventListener("abort",q),t.next=47,ge(D.matches,j,L,R,E);case 47:if(F=t.sent,z=F.results,Z=F.loaderResults,Y=F.fetcherResults,!b.signal.aborted){t.next=53;break}return t.abrupt("return");case 53:if(b.signal.removeEventListener("abort",q),K.delete(r),G.delete(r),R.forEach((function(e){return G.delete(e.key)})),!(te=Ve(z))){t.next=60;break}return t.abrupt("return",he(D,te));case 60:re=Fe(D,D.matches,L,Z,void 0,R,Y,X),oe=re.loaderData,ae=re.errors,D.fetchers.has(r)&&(ie=pn(x.data),D.fetchers.set(r,ie)),se=Le(A),"loading"===D.navigation.state&&A>$?(O(M,"Expected pending action"),_&&_.abort(),ne(D.navigation.location,{matches:j,loaderData:oe,errors:ae,fetchers:new Map(D.fetchers)})):(ee(P({errors:ae,loaderData:Be(D.loaderData,oe,j,ae)},se||R.length>0?{fetchers:new Map(D.fetchers)}:{})),B=!1);case 64:case"end":return t.stop()}}),t)}))),pe.apply(this,arguments)}function fe(){return fe=k(y().mark((function t(r,o,a,i,s,c){var d,p,f,h,m,g,b;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=D.fetchers.get(r),p=un(c,d?d.data:void 0),D.fetchers.set(r,p),ee({fetchers:new Map(D.fetchers)}),f=new AbortController,h=De(e.history,a,f.signal),G.set(r,f),t.next=9,Oe("loader",h,i,s,l,n,u);case 9:if(!$e(m=t.sent)){t.next=17;break}return t.next=13,tn(m,h.signal,!0);case 13:if(t.t0=t.sent,t.t0){t.next=16;break}t.t0=m;case 16:m=t.t0;case 17:if(G.get(r)===f&&G.delete(r),!h.signal.aborted){t.next=20;break}return t.abrupt("return");case 20:if(!Qe(m)){t.next=25;break}return Q.add(r),t.next=24,he(D,m);case 24:return t.abrupt("return");case 25:if(!Ke(m)){t.next=30;break}return g=ze(D.matches,o),D.fetchers.delete(r),ee({fetchers:new Map(D.fetchers),errors:w({},g.route.id,m.error)}),t.abrupt("return");case 30:O(!$e(m),"Unhandled fetcher deferred data"),b=pn(m.data),D.fetchers.set(r,b),ee({fetchers:new Map(D.fetchers)});case 34:case"end":return t.stop()}}),t)}))),fe.apply(this,arguments)}function he(e,n,t){return me.apply(this,arguments)}function me(){return me=k(y().mark((function n(o,a,i){var s,l,c,d,p,f,h,m,g,b;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=(s=void 0===i?{}:i).submission,c=s.replace,d=s.isFetchActionRedirect,a.revalidate&&(B=!0),O(p=R(o.location,a.location,P({_isRedirect:!0},d?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),!we.test(a.location)||!r){n.next=10;break}if(f=e.history.createURL(a.location),h=null==te(f.pathname,u),t.location.origin===f.origin&&!h){n.next=10;break}return c?t.location.replace(a.location):t.location.assign(a.location),n.abrupt("return");case 10:if(_=null,m=!0===c?j.Replace:j.Push,g=l||sn(o.navigation),!(ve.has(a.status)&&g&&Ye(g.formMethod))){n.next=18;break}return n.next=16,ae(m,p,{submission:P({},g,{formAction:a.location}),preventScrollReset:q});case 16:case 21:n.next=26;break;case 18:if(!d){n.next=23;break}return n.next=21,ae(m,p,{overrideNavigation:ln(p),fetcherSubmission:g,preventScrollReset:q});case 23:return b=ln(p,g),n.next=26,ae(m,p,{overrideNavigation:b,preventScrollReset:q});case 26:case"end":return n.stop()}}),n)}))),me.apply(this,arguments)}function ge(e,n,t,r,o){return be.apply(this,arguments)}function be(){return be=k(y().mark((function t(r,o,a,i,s){var c,d,p;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([].concat((0,N.Z)(a.map((function(e){return Oe("loader",s,e,o,l,n,u)}))),(0,N.Z)(i.map((function(t){return t.matches&&t.match&&t.controller?Oe("loader",De(e.history,t.path,t.controller.signal),t.match,t.matches,l,n,u):{type:T.error,error:He(404,{pathname:t.path})}})))));case 2:return c=t.sent,d=c.slice(0,a.length),p=c.slice(a.length),t.next=7,Promise.all([en(r,a,d,d.map((function(){return s.signal})),!1,D.loaderData),en(r,i.map((function(e){return e.match})),p,i.map((function(e){return e.controller?e.controller.signal:null})),!0)]);case 7:return t.abrupt("return",{results:c,loaderResults:d,fetcherResults:p});case 8:case"end":return t.stop()}}),t)}))),be.apply(this,arguments)}function Ee(){var e;B=!0,(e=H).push.apply(e,(0,N.Z)(Ge())),J.forEach((function(e,n){G.has(n)&&(V.push(n),Pe(n))}))}function je(e,n,t){var r=ze(D.matches,n);Ne(e),ee({errors:w({},r.route.id,t),fetchers:new Map(D.fetchers)})}function Ne(e){var n=D.fetchers.get(e);!G.has(e)||n&&"loading"===n.state&&K.has(e)||Pe(e),J.delete(e),K.delete(e),Q.delete(e),D.fetchers.delete(e)}function Pe(e){var n=G.get(e);O(n,"Expected fetch controller: "+e),n.abort(),G.delete(e)}function Te(e){var n,t=(0,A.Z)(e);try{for(t.s();!(n=t.n()).done;){var r=n.value,o=pn(de(r).data);D.fetchers.set(r,o)}}catch(a){t.e(a)}finally{t.f()}}function Ie(){var e,n=[],t=!1,r=(0,A.Z)(Q);try{for(r.s();!(e=r.n()).done;){var o=e.value,a=D.fetchers.get(o);O(a,"Expected fetcher: "+o),"loading"===a.state&&(Q.delete(o),n.push(o),t=!0)}}catch(i){r.e(i)}finally{r.f()}return Te(n),t}function Le(e){var n,t=[],r=(0,A.Z)(K);try{for(r.s();!(n=r.n()).done;){var o=s(n.value,2),a=o[0];if(o[1]<e){var i=D.fetchers.get(a);O(i,"Expected fetcher: "+a),"loading"===i.state&&(Pe(a),K.delete(a),t.push(a))}}}catch(l){r.e(l)}finally{r.f()}return Te(t),t.length>0}function Re(e){D.blockers.delete(e),Z.delete(e)}function Me(e,n){var t=D.blockers.get(e)||ke;O("unblocked"===t.state&&"blocked"===n.state||"blocked"===t.state&&"blocked"===n.state||"blocked"===t.state&&"proceeding"===n.state||"blocked"===t.state&&"unblocked"===n.state||"proceeding"===t.state&&"unblocked"===n.state,"Invalid blocker state transition: "+t.state+" -> "+n.state);var r=new Map(D.blockers);r.set(e,n),ee({blockers:r})}function qe(e){var n=e.currentLocation,t=e.nextLocation,r=e.historyAction;if(0!==Z.size){Z.size>1&&L(!1,"A router only supports one blocker at a time");var o=Array.from(Z.entries()),a=s(o[o.length-1],2),i=a[0],l=a[1],c=D.blockers.get(i);if(!c||"proceeding"!==c.state)return l({currentLocation:n,nextLocation:t,historyAction:r})?i:void 0}}function Ge(e){var n=[];return X.forEach((function(t,r){e&&!e(r)||(t.cancel(),n.push(r),X.delete(r))})),n}function Je(e,n){if(m){var t=m(e,n.map((function(e){return function(e,n){var t=e.route,r=e.pathname,o=e.params;return{id:t.id,pathname:r,params:o,data:n[t.id],handle:t.handle}}(e,D.loaderData)})));return t||e.key}return e.key}function Xe(e,n){if(h&&g){var t=Je(e,n);h[t]=g()}}function Ze(e,n){if(h){var t=Je(e,n),r=h[t];if("number"===typeof r)return r}return null}return C={get basename(){return u},get state(){return D},get routes(){return c},initialize:function(){return p=e.history.listen((function(n){var t=n.action,r=n.location,o=n.delta;if(!Y){L(0===Z.size||null!=o,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=qe({currentLocation:D.location,nextLocation:r,historyAction:t});return a&&null!=o?(Y=!0,e.history.go(-1*o),void Me(a,{state:"blocked",location:r,proceed:function(){Me(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(o)},reset:function(){var e=new Map(D.blockers);e.set(a,ke),ee({blockers:e})}})):ae(t,r)}Y=!1})),D.initialized||ae(j.Pop,D.location),C},subscribe:function(e){return f.add(e),function(){return f.delete(e)}},enableScrollRestoration:function(e,n,t){if(h=e,g=n,m=t||null,!b&&D.navigation===ye){b=!0;var r=Ze(D.location,D.matches);null!=r&&ee({restoreScrollPosition:r})}return function(){h=null,g=null,m=null}},navigate:re,fetch:function(e,n,t,r){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");G.has(e)&&Pe(e);var a=i||c,s=Ce(D.location,D.matches,u,d.v7_prependBasename,t,n,null==r?void 0:r.relative),l=U(a,s,u);if(l){var p=_e(d.v7_normalizeFormMethod,!0,s,r),f=p.path,h=p.submission,m=p.error;if(m)je(e,n,m);else{var g=an(l,f);q=!0===(r&&r.preventScrollReset),h&&Ye(h.formMethod)?function(e,n,t,r,o,a){pe.apply(this,arguments)}(e,n,f,g,l,h):(J.set(e,{routeId:n,path:f}),function(e,n,t,r,o,a){fe.apply(this,arguments)}(e,n,f,g,l,h))}}else je(e,n,He(404,{pathname:s}))},revalidate:function(){Ee(),ee({revalidation:"loading"}),"submitting"!==D.navigation.state&&("idle"!==D.navigation.state?ae(M||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation}):ae(D.historyAction,D.location,{startUninterruptedRevalidation:!0}))},createHref:function(n){return e.history.createHref(n)},encodeLocation:function(n){return e.history.encodeLocation(n)},getFetcher:de,deleteFetcher:Ne,dispose:function(){p&&p(),f.clear(),_&&_.abort(),D.fetchers.forEach((function(e,n){return Ne(n)})),D.blockers.forEach((function(e,n){return Re(n)}))},getBlocker:function(e,n){var t=D.blockers.get(e)||ke;return Z.get(e)!==n&&Z.set(e,n),t},deleteBlocker:Re,_internalFetchControllers:G,_internalActiveDeferreds:X,_internalSetRoutes:function(e){i=z(e,n,void 0,l={})}},C}Symbol("deferred");function Ce(e,n,t,r,o,a,i){var s,l;if(null!=a&&"path"!==i){s=[];var c,u=(0,A.Z)(n);try{for(u.s();!(c=u.n()).done;){var d=c.value;if(s.push(d),d.route.id===a){l=d;break}}}catch(f){u.e(f)}finally{u.f()}}else s=n,l=n[n.length-1];var p=ae(o||".",oe(s).map((function(e){return e.pathnameBase})),te(e.pathname,t)||e.pathname,"path"===i);return null==o&&(p.search=e.search,p.hash=e.hash),null!=o&&""!==o&&"."!==o||!l||!l.route.index||on(p.search)||(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==t&&(p.pathname="/"===p.pathname?t:ie([t,p.pathname])),M(p)}function _e(e,n,t,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:t};if(r.formMethod&&!Ze(r.formMethod))return{path:t,error:He(405,{method:r.formMethod})};var o,a,i=function(){return{path:t,error:He(400,{type:"invalid-body"})}},l=r.formMethod||"get",c=e?l.toUpperCase():l.toLowerCase(),u=Ge(t);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Ye(c))return i();var d="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((function(e,n){var t=s(n,2);return""+e+t[0]+"="+t[1]+"\n"}),""):String(r.body);return{path:t,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}if("application/json"===r.formEncType){if(!Ye(c))return i();try{var p="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch(m){return i()}}}if(O("function"===typeof FormData,"FormData is not available in this environment"),r.formData)o=Re(r.formData),a=r.formData;else if(r.body instanceof FormData)o=Re(r.body),a=r.body;else if(r.body instanceof URLSearchParams)a=Me(o=r.body);else if(null==r.body)o=new URLSearchParams,a=new FormData;else try{a=Me(o=new URLSearchParams(r.body))}catch(m){return i()}var f={formMethod:c,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(Ye(f.formMethod))return{path:t,submission:f};var h=q(t);return n&&h.search&&on(h.search)&&o.append("index",""),h.search="?"+o,{path:M(h),submission:f}}function je(e,n){var t=e;if(n){var r=e.findIndex((function(e){return e.route.id===n}));r>=0&&(t=e.slice(0,r))}return t}function Ae(e,n,t,r,o,a,i,s,l,c,u,d,p,f){var h=f?Object.values(f)[0]:p?Object.values(p)[0]:void 0,m=e.createURL(n.location),g=e.createURL(o),b=f?Object.keys(f)[0]:void 0,v=je(t,b).filter((function(e,t){if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,n,t){var r=!n||t.route.id!==n.route.id,o=void 0===e[t.route.id];return r||o}(n.loaderData,n.matches[t],e)||i.some((function(n){return n===e.route.id})))return!0;var o=n.matches[t],s=e;return Pe(e,P({currentUrl:m,currentParams:o.params,nextUrl:g,nextParams:s.params},r,{actionResult:h,defaultShouldRevalidate:a||m.pathname+m.search===g.pathname+g.search||m.search!==g.search||Ne(o,s)}))})),y=[];return l.forEach((function(e,o){if(t.some((function(n){return n.route.id===e.routeId}))){var i=U(u,e.path,d);if(i){var l=n.fetchers.get(o),p=l&&"idle"!==l.state&&void 0===l.data&&!c.has(o),f=an(i,e.path);(s.includes(o)||p||Pe(f,P({currentUrl:m,currentParams:n.matches[n.matches.length-1].params,nextUrl:g,nextParams:t[t.length-1].params},r,{actionResult:h,defaultShouldRevalidate:a})))&&y.push({key:o,routeId:e.routeId,path:e.path,matches:i,match:f,controller:new AbortController})}else y.push({key:o,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null})}})),[v,y]}function Ne(e,n){var t=e.route.path;return e.pathname!==n.pathname||null!=t&&t.endsWith("*")&&e.params["*"]!==n.params["*"]}function Pe(e,n){if(e.route.shouldRevalidate){var t=e.route.shouldRevalidate(n);if("boolean"===typeof t)return t}return n.defaultShouldRevalidate}function Te(e,n,t){return Ie.apply(this,arguments)}function Ie(){return Ie=k(y().mark((function e(n,t,r){var o,a,i,s,l,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.lazy){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.lazy();case 4:if(o=e.sent,n.lazy){e.next=7;break}return e.abrupt("return");case 7:for(s in O(a=r[n.id],"No route found in manifest"),i={},o)l=a[s],L(!(c=void 0!==l&&"hasErrorBoundary"!==s),'Route "'+a.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),c||B.has(s)||(i[s]=o[s]);Object.assign(a,i),Object.assign(a,P({},t(a),{lazy:void 0}));case 13:case"end":return e.stop()}}),e)}))),Ie.apply(this,arguments)}function Oe(e,n,t,r,o,a,i,s){return Le.apply(this,arguments)}function Le(){return Le=k(y().mark((function e(n,t,r,o,a,i,s,l){var c,u,d,p,f,h,m,g,b,v,x,k,w,S,E,C,_,j;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===l&&(l={}),p=function(e){var n,o=new Promise((function(e,t){return n=t}));return d=function(){return n()},t.signal.addEventListener("abort",d),Promise.race([e({request:t,params:r.params,context:l.requestContext}),o])},e.prev=2,f=r.route[n],!r.route.lazy){e.next=30;break}if(!f){e.next=12;break}return e.next=8,Promise.all([p(f),Te(r.route,i,a)]);case 8:h=e.sent,u=h[0],e.next=28;break;case 12:return e.next=14,Te(r.route,i,a);case 14:if(!(f=r.route[n])){e.next=21;break}return e.next=18,p(f);case 18:u=e.sent,e.next=28;break;case 21:if("action"!==n){e.next=27;break}throw m=new URL(t.url),g=m.pathname+m.search,He(405,{method:t.method,pathname:g,routeId:r.route.id});case 27:return e.abrupt("return",{type:T.data,data:void 0});case 28:e.next=39;break;case 30:if(f){e.next=36;break}throw b=new URL(t.url),He(404,{pathname:b.pathname+b.search});case 36:return e.next=38,p(f);case 38:u=e.sent;case 39:O(void 0!==u,"You defined "+("action"===n?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+n+"` function. Please return a value or `null`."),e.next=46;break;case 42:e.prev=42,e.t0=e.catch(2),c=T.error,u=e.t0;case 46:return e.prev=46,d&&t.signal.removeEventListener("abort",d),e.finish(46);case 49:if(!Xe(u)){e.next=74;break}if(v=u.status,!be.has(v)){e.next=59;break}if(O(x=u.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),we.test(x)?l.isStaticRequest||(k=new URL(t.url),w=x.startsWith("//")?new URL(k.protocol+x):new URL(x),S=null!=te(w.pathname,s),w.origin===k.origin&&S&&(x=w.pathname+w.search+w.hash)):x=Ce(new URL(t.url),o.slice(0,o.indexOf(r)+1),s,!0,x),!l.isStaticRequest){e.next=58;break}throw u.headers.set("Location",x),u;case 58:return e.abrupt("return",{type:T.redirect,status:v,location:x,revalidate:null!==u.headers.get("X-Remix-Revalidate")});case 59:if(!l.isRouteRequest){e.next=61;break}throw{type:c||T.data,response:u};case 61:if(!(C=u.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(C)){e.next=68;break}return e.next=65,u.json();case 65:E=e.sent,e.next=71;break;case 68:return e.next=70,u.text();case 70:E=e.sent;case 71:if(c!==T.error){e.next=73;break}return e.abrupt("return",{type:c,error:new de(v,u.statusText,E),headers:u.headers});case 73:return e.abrupt("return",{type:T.data,data:E,statusCode:u.status,headers:u.headers});case 74:if(c!==T.error){e.next=76;break}return e.abrupt("return",{type:c,error:u});case 76:if(!Je(u)){e.next=78;break}return e.abrupt("return",{type:T.deferred,deferredData:u,statusCode:null==(_=u.init)?void 0:_.status,headers:(null==(j=u.init)?void 0:j.headers)&&new Headers(u.init.headers)});case 78:return e.abrupt("return",{type:T.data,data:u});case 79:case"end":return e.stop()}}),e,null,[[2,42,46,49]])}))),Le.apply(this,arguments)}function De(e,n,t,r){var o=e.createURL(Ge(n)).toString(),a={signal:t};if(r&&Ye(r.formMethod)){var i=r.formMethod,s=r.formEncType;a.method=i.toUpperCase(),"application/json"===s?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(r.json)):"text/plain"===s?a.body=r.text:"application/x-www-form-urlencoded"===s&&r.formData?a.body=Re(r.formData):a.body=r.formData}return new Request(o,a)}function Re(e){var n,t=new URLSearchParams,r=(0,A.Z)(e.entries());try{for(r.s();!(n=r.n()).done;){var o=s(n.value,2),a=o[0],i=o[1];t.append(a,"string"===typeof i?i:i.name)}}catch(l){r.e(l)}finally{r.f()}return t}function Me(e){var n,t=new FormData,r=(0,A.Z)(e.entries());try{for(r.s();!(n=r.n()).done;){var o=s(n.value,2),a=o[0],i=o[1];t.append(a,i)}}catch(l){r.e(l)}finally{r.f()}return t}function qe(e,n,t,r,o){var a,i={},s=null,l=!1,c={};return t.forEach((function(t,u){var d=n[u].route.id;if(O(!Qe(t),"Cannot handle redirect results in processLoaderData"),Ke(t)){var p=ze(e,d),f=t.error;r&&(f=Object.values(r)[0],r=void 0),null==(s=s||{})[p.route.id]&&(s[p.route.id]=f),i[d]=void 0,l||(l=!0,a=pe(t.error)?t.error.status:500),t.headers&&(c[d]=t.headers)}else $e(t)?(o.set(d,t.deferredData),i[d]=t.deferredData.data):i[d]=t.data,null==t.statusCode||200===t.statusCode||l||(a=t.statusCode),t.headers&&(c[d]=t.headers)})),r&&(s=r,i[Object.keys(r)[0]]=void 0),{loaderData:i,errors:s,statusCode:a||200,loaderHeaders:c}}function Fe(e,n,t,r,o,a,i,s){for(var l=qe(n,t,r,o,s),c=l.loaderData,u=l.errors,d=0;d<a.length;d++){var p=a[d],f=p.key,h=p.match,m=p.controller;O(void 0!==i&&void 0!==i[d],"Did not find corresponding fetcher result");var g=i[d];if(!m||!m.signal.aborted)if(Ke(g)){var b=ze(e.matches,null==h?void 0:h.route.id);u&&u[b.route.id]||(u=P({},u,w({},b.route.id,g.error))),e.fetchers.delete(f)}else if(Qe(g))O(!1,"Unhandled fetcher revalidation redirect");else if($e(g))O(!1,"Unhandled fetcher deferred data");else{var v=pn(g.data);e.fetchers.set(f,v)}}return{loaderData:c,errors:u}}function Be(e,n,t,r){var o,a=P({},n),i=(0,A.Z)(t);try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.route.id;if(n.hasOwnProperty(l)?void 0!==n[l]&&(a[l]=n[l]):void 0!==e[l]&&s.route.loader&&(a[l]=e[l]),r&&r.hasOwnProperty(l))break}}catch(c){i.e(c)}finally{i.f()}return a}function ze(e,n){return(n?e.slice(0,e.findIndex((function(e){return e.route.id===n}))+1):(0,N.Z)(e)).reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function Ue(e){var n=e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:n}],route:n}}function He(e,n){var t=void 0===n?{}:n,r=t.pathname,o=t.routeId,a=t.method,i=t.type,s="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(s="Bad Request",a&&r&&o?l="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+o+'", so there is no way to handle the request.':"defer-action"===i?l="defer() is not supported in actions":"invalid-body"===i&&(l="Unable to encode submission body")):403===e?(s="Forbidden",l='Route "'+o+'" does not match URL "'+r+'"'):404===e?(s="Not Found",l='No route matches URL "'+r+'"'):405===e&&(s="Method Not Allowed",a&&r&&o?l="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+o+'", so there is no way to handle the request.':a&&(l='Invalid request method "'+a.toUpperCase()+'"')),new de(e||500,s,new Error(l),!0)}function Ve(e){for(var n=e.length-1;n>=0;n--){var t=e[n];if(Qe(t))return t}}function Ge(e){return M(P({},"string"===typeof e?q(e):e,{hash:""}))}function We(e,n){return e.pathname===n.pathname&&e.search===n.search&&(""===e.hash?""!==n.hash:e.hash===n.hash||""!==n.hash)}function $e(e){return e.type===T.deferred}function Ke(e){return e.type===T.error}function Qe(e){return(e&&e.type)===T.redirect}function Je(e){var n=e;return n&&"object"===typeof n&&"object"===typeof n.data&&"function"===typeof n.subscribe&&"function"===typeof n.cancel&&"function"===typeof n.resolveData}function Xe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Ze(e){return ge.has(e.toLowerCase())}function Ye(e){return he.has(e.toLowerCase())}function en(e,n,t,r,o,a){return nn.apply(this,arguments)}function nn(){return nn=k(y().mark((function e(n,t,r,o,a,i){var s,l;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=y().mark((function e(s){var l,c,u,d,p;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r[s],c=t[s]){e.next=4;break}return e.abrupt("return","continue");case 4:if(u=n.find((function(e){return e.route.id===c.route.id})),d=null!=u&&!Ne(u,c)&&void 0!==(i&&i[c.route.id]),!$e(l)||!a&&!d){e.next=11;break}return O(p=o[s],"Expected an AbortSignal for revalidating fetcher deferred result"),e.next=11,tn(l,p,a).then((function(e){e&&(r[s]=e||r[s])}));case 11:case"end":return e.stop()}}),e)})),l=0;case 2:if(!(l<r.length)){e.next=10;break}return e.delegateYield(s(l),"t0",4);case 4:if("continue"!==e.t0){e.next=7;break}return e.abrupt("continue",7);case 7:l++,e.next=2;break;case 10:case"end":return e.stop()}}),e)}))),nn.apply(this,arguments)}function tn(e,n,t){return rn.apply(this,arguments)}function rn(){return(rn=k(y().mark((function e(n,t,r){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,n.deferredData.resolveData(t);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:T.data,data:n.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:T.error,error:e.t0});case 14:return e.abrupt("return",{type:T.data,data:n.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])})))).apply(this,arguments)}function on(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function an(e,n){var t="string"===typeof n?q(n).search:n.search;if(e[e.length-1].route.index&&on(t||""))return e[e.length-1];var r=oe(e);return r[r.length-1]}function sn(e){var n=e.formMethod,t=e.formAction,r=e.formEncType,o=e.text,a=e.formData,i=e.json;if(n&&t&&r)return null!=o?{formMethod:n,formAction:t,formEncType:r,formData:void 0,json:void 0,text:o}:null!=a?{formMethod:n,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0}:void 0!==i?{formMethod:n,formAction:t,formEncType:r,formData:void 0,json:i,text:void 0}:void 0}function ln(e,n){return n?{state:"loading",location:e,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function cn(e,n){return{state:"submitting",location:e,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}}function un(e,n){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:n," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n," _hasFetcherDoneAnything ":!0}}function dn(e,n){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:n?n.data:void 0," _hasFetcherDoneAnything ":!0}}function pn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},fn.apply(this,arguments)}var hn=e.createContext(null);var mn=e.createContext(null);var gn=e.createContext(null);var bn=e.createContext(null);var vn=e.createContext(null);var yn=e.createContext({outlet:null,matches:[],isDataRoute:!1});var xn=e.createContext(null);function kn(){return null!=e.useContext(vn)}function wn(){return kn()||O(!1),e.useContext(vn).location}function Sn(n){e.useContext(bn).static||e.useLayoutEffect(n)}function En(){return e.useContext(yn).isDataRoute?function(){var n=Dn(Nn.UseNavigateStable).router,t=Mn(Pn.UseNavigateStable),r=e.useRef(!1);Sn((function(){r.current=!0}));var o=e.useCallback((function(e,o){void 0===o&&(o={}),r.current&&("number"===typeof e?n.navigate(e):n.navigate(e,fn({fromRouteId:t},o)))}),[n,t]);return o}():function(){kn()||O(!1);var n=e.useContext(hn),t=e.useContext(bn),r=t.basename,o=t.navigator,a=e.useContext(yn).matches,i=wn().pathname,s=JSON.stringify(oe(a).map((function(e){return e.pathnameBase}))),l=e.useRef(!1);return Sn((function(){l.current=!0})),e.useCallback((function(e,t){if(void 0===t&&(t={}),l.current)if("number"!==typeof e){var a=ae(e,JSON.parse(s),i,"path"===t.relative);null==n&&"/"!==r&&(a.pathname="/"===a.pathname?r:ie([r,a.pathname])),(t.replace?o.replace:o.push)(a,t.state,t)}else o.go(e)}),[r,o,s,i,n])}()}var Cn=e.createContext(null);function _n(n,t){var r=(void 0===t?{}:t).relative,o=e.useContext(yn).matches,a=wn().pathname,i=JSON.stringify(oe(o).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return ae(n,JSON.parse(i),a,"path"===r)}),[n,i,a,r])}function jn(n,t,r){kn()||O(!1);var o,a=e.useContext(bn).navigator,i=e.useContext(yn).matches,s=i[i.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),u=(s&&s.route,wn());if(t){var d,p="string"===typeof t?q(t):t;"/"===c||(null==(d=p.pathname)?void 0:d.startsWith(c))||O(!1),o=p}else o=u;var f=o.pathname||"/",h=U(n,{pathname:"/"===c?f:f.slice(c.length)||"/"});var m=Ln(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ie([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ie([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),i,r);return t&&m?e.createElement(vn.Provider,{value:{location:fn({pathname:"/",search:"",hash:"",state:null,key:"default"},o),navigationType:j.Pop}},m):m}function An(){var n=function(){var n,t=e.useContext(xn),r=Rn(Pn.UseRouteError),o=Mn(Pn.UseRouteError);if(t)return t;return null==(n=r.errors)?void 0:n[o]}(),t=pe(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},t),r?e.createElement("pre",{style:a},r):null,null)}var Nn,Pn,Tn=e.createElement(An,null),In=function(n){h(r,n);var t=v(r);function r(e){var n;return l(this,r),(n=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},n}return p(r,[{key:"componentDidCatch",value:function(e,n){console.error("React Router caught the following error during render",e,n)}},{key:"render",value:function(){return this.state.error?e.createElement(yn.Provider,{value:this.props.routeContext},e.createElement(xn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,n){return n.location!==e.location||"idle"!==n.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}}]),r}(e.Component);function On(n){var t=n.routeContext,r=n.match,o=n.children,a=e.useContext(hn);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(yn.Provider,{value:t},o)}function Ln(n,t,r){var o;if(void 0===t&&(t=[]),void 0===r&&(r=null),null==n){var a;if(null==(a=r)||!a.errors)return null;n=r.matches}var i=n,s=null==(o=r)?void 0:o.errors;if(null!=s){var l=i.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));l>=0||O(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((function(n,o,a){var l=o.route.id?null==s?void 0:s[o.route.id]:null,c=null;r&&(c=o.route.errorElement||Tn);var u=t.concat(i.slice(0,a+1)),d=function(){var t;return t=l?c:o.route.Component?e.createElement(o.route.Component,null):o.route.element?o.route.element:n,e.createElement(On,{match:o,routeContext:{outlet:n,matches:u,isDataRoute:null!=r},children:t})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===a)?e.createElement(In,{location:r.location,revalidation:r.revalidation,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}function Dn(n){var t=e.useContext(hn);return t||O(!1),t}function Rn(n){var t=e.useContext(mn);return t||O(!1),t}function Mn(n){var t=function(n){var t=e.useContext(yn);return t||O(!1),t}(),r=t.matches[t.matches.length-1];return r.route.id||O(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Nn||(Nn={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Pn||(Pn={}));var qn,Fn=n.startTransition;function Bn(n){var t=n.fallbackElement,r=n.router,o=n.future,a=s(e.useState(r.state),2),i=a[0],l=a[1],c=(o||{}).v7_startTransition,u=e.useCallback((function(e){c&&Fn?Fn((function(){return l(e)})):l(e)}),[l,c]);e.useLayoutEffect((function(){return r.subscribe(u)}),[r,u]);var d=e.useMemo((function(){return{createHref:r.createHref,encodeLocation:r.encodeLocation,go:function(e){return r.navigate(e)},push:function(e,n,t){return r.navigate(e,{state:n,preventScrollReset:null==t?void 0:t.preventScrollReset})},replace:function(e,n,t){return r.navigate(e,{replace:!0,state:n,preventScrollReset:null==t?void 0:t.preventScrollReset})}}}),[r]),p=r.basename||"/",f=e.useMemo((function(){return{router:r,navigator:d,static:!1,basename:p}}),[r,d,p]);return e.createElement(e.Fragment,null,e.createElement(hn.Provider,{value:f},e.createElement(mn.Provider,{value:i},e.createElement(Hn,{basename:p,location:i.location,navigationType:i.historyAction,navigator:d},i.initialized?e.createElement(zn,{routes:r.routes,state:i}):t))),null)}function zn(e){return jn(e.routes,void 0,e.state)}function Un(n){return function(n){var t=e.useContext(yn).outlet;return t?e.createElement(Cn.Provider,{value:n},t):t}(n.context)}function Hn(n){var t=n.basename,r=void 0===t?"/":t,o=n.children,a=void 0===o?null:o,i=n.location,s=n.navigationType,l=void 0===s?j.Pop:s,c=n.navigator,u=n.static,d=void 0!==u&&u;kn()&&O(!1);var p=r.replace(/^\/*/,"/"),f=e.useMemo((function(){return{basename:p,navigator:c,static:d}}),[p,c,d]);"string"===typeof i&&(i=q(i));var h=i,m=h.pathname,g=void 0===m?"/":m,b=h.search,v=void 0===b?"":b,y=h.hash,x=void 0===y?"":y,k=h.state,w=void 0===k?null:k,S=h.key,E=void 0===S?"default":S,C=e.useMemo((function(){var e=te(g,p);return null==e?null:{location:{pathname:e,search:v,hash:x,state:w,key:E},navigationType:l}}),[p,g,v,x,w,E,l]);return null==C?null:e.createElement(bn.Provider,{value:f},e.createElement(vn.Provider,{children:a,value:C}))}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(qn||(qn={}));var Vn=new Promise((function(){}));e.Component;function Gn(n){var t={hasErrorBoundary:null!=n.ErrorBoundary||null!=n.errorElement};return n.Component&&Object.assign(t,{element:e.createElement(n.Component),Component:void 0}),n.ErrorBoundary&&Object.assign(t,{errorElement:e.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),t}function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Wn.apply(this,arguments)}function $n(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Kn=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Qn(){var e,n=null==(e=window)?void 0:e.__staticRouterHydrationData;return n&&n.errors&&(n=Wn({},n,{errors:Jn(n.errors)})),n}function Jn(e){if(!e)return null;for(var n={},t=0,r=Object.entries(e);t<r.length;t++){var o=s(r[t],2),a=o[0],i=o[1];if(i&&"RouteErrorResponse"===i.__type)n[a]=new de(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){var l=new Error(i.message);l.stack="",n[a]=l}else n[a]=i}return n}n.startTransition;var Xn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Zn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yn=e.forwardRef((function(n,t){var r,o=n.onClick,a=n.relative,i=n.reloadDocument,s=n.replace,l=n.state,c=n.target,u=n.to,d=n.preventScrollReset,p=$n(n,Kn),f=e.useContext(bn).basename,h=!1;if("string"===typeof u&&Zn.test(u)&&(r=u,Xn))try{var m=new URL(window.location.href),g=u.startsWith("//")?new URL(m.protocol+u):new URL(u),b=te(g.pathname,f);g.origin===m.origin&&null!=b?u=b+g.search+g.hash:h=!0}catch(x){}var v=function(n,t){var r=(void 0===t?{}:t).relative;kn()||O(!1);var o=e.useContext(bn),a=o.basename,i=o.navigator,s=_n(n,{relative:r}),l=s.hash,c=s.pathname,u=s.search,d=c;return"/"!==a&&(d="/"===c?a:ie([a,c])),i.createHref({pathname:d,search:u,hash:l})}(u,{relative:a}),y=function(n,t){var r=void 0===t?{}:t,o=r.target,a=r.replace,i=r.state,s=r.preventScrollReset,l=r.relative,c=En(),u=wn(),d=_n(n,{relative:l});return e.useCallback((function(e){if(function(e,n){return 0===e.button&&(!n||"_self"===n)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,o)){e.preventDefault();var t=void 0!==a?a:M(u)===M(d);c(n,{replace:t,state:i,preventScrollReset:s,relative:l})}}),[u,c,d,a,i,o,n,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:a});return e.createElement("a",Wn({},p,{href:r||v,onClick:h||i?o:function(e){o&&o(e),e.defaultPrevented||y(e)},ref:t,target:c}))}));var et,nt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(et||(et={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(nt||(nt={}));var tt=JSON.parse('[{"key":"/Babel","path":"/Babel","route":"/Babel","leaf":false,"title":"Babel","depth":0,"content":"","isLeaf":false,"children":[{"key":"/Babel/01-Babel \u57fa\u7840","path":"/Babel/01-Babel \u57fa\u7840","route":"/Babel/01-Babel \u57fa\u7840","leaf":false,"title":"01-Babel \u57fa\u7840","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Babel/01-Babel \u57fa\u7840/01 babel \u4ecb\u7ecd.md","path":"/Babel/01-Babel \u57fa\u7840/01 babel \u4ecb\u7ecd.md","route":"/Babel/01-Babel \u57fa\u7840/01 babel \u4ecb\u7ecd.md","leaf":true,"title":"01 babel \u4ecb\u7ecd","depth":2,"content":"---\\ntitle: 01 babel \u4ecb\u7ecd\\ntags: Babel\\n---\\n\\n## 1\u3001Babel \u4ecb\u7ecd\\n\\nBabel \u662f\u4e00\u4e2a\u5f00\u6e90\u7684 JavaScript \u7f16\u8bd1\u5668\u5de5\u5177\uff0c\u7528\u4e8e\u5c06\u65b0\u7248\u672c\u7684 JavaScript \u4ee3\u7801\u8f6c\u6362\u4e3a\u5411\u540e\u517c\u5bb9\u7684\u65e7\u7248\u672c\uff0c\u4ee5\u4fbf\u5728\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u548c\u73af\u5883\u4e2d\u8fd0\u884c\u3002\u5b83\u53ef\u4ee5\u5c06\u4f7f\u7528\u6700\u65b0\u7684 ECMAScript \u6807\u51c6\u7f16\u5199\u7684\u4ee3\u7801\u8f6c\u6362\u4e3a\u652f\u6301\u66f4\u65e7\u7684\u7248\u672c\uff0c\u4ee5\u4fbf\u5728\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\u3002\\n\\n## 2\u3001Babel \u7248\u672c\\n\\n### 2.1 v6 VS v7\\nBabel V7 \u76f8\u5bf9\u4e8e Babel V6\u6765\u8bf4\uff0c\u6709\u4ee5\u4e0b\u51e0\u4e2a\u4e3b\u8981\u7684\u533a\u522b\uff1a\\n\\n1. \u547d\u4ee4\u884c\u5de5\u5177\u6539\u8fdb\uff1aV7 \u589e\u52a0\u4e86\u4e00\u4e9b\u65b0\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u5982 `babel-upgrade` \u548c `babel-merge` \u7b49\uff0c\u8fd9\u4e9b\u5de5\u5177\u8ba9\u4f60\u66f4\u65b9\u4fbf\u5730\u7ef4\u62a4Babel\u914d\u7f6e\u548c\u5347\u7ea7\u5230\u65b0\u7684\u7248\u672c\u3002\\n\\n2. \u63d2\u4ef6\u65b0\u589e\uff1aV7 \u5728\u9ed8\u8ba4\u63d2\u4ef6\u96c6\u5408\u4e2d\u65b0\u589e\u4e86\u4e00\u4e9b\u65b0\u7684\u63d2\u4ef6\uff0c\u5982 `@babel/plugin-transform-runtime` \u548c `@babel/plugin-proposal-class-properties` \u7b49\uff0c\u8fd9\u4e9b\u63d2\u4ef6\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u66f4\u591a\u7684\u4fbf\u5229\u548c\u63a7\u5236\u529b\u3002\\n\\n3. \u914d\u7f6e\u6587\u4ef6\u66f4\u6539\uff1aBabel V7 \u5c06\u914d\u7f6e\u6587\u4ef6\u540d\u79f0\u4ece `.babelrc` \u66f4\u6539\u4e3a `babel.config.js`\uff0c\u5e76\u652f\u6301\u66f4\u590d\u6742\u7684\u914d\u7f6e\u9009\u9879\u3002\\n\\n4. \u5339\u914d\u66f4\u591a\u7684 ECMAScript \u7279\u6027\uff1aBabel V7 \u652f\u6301\u66f4\u591a\u7684 ECMAScript \u7279\u6027\uff0c\u5982\u5bf9\u8c61\u7684 Rest \u548c Spread \u5c5e\u6027\uff0c\u5bf9\u8c61\u7684\u89e3\u6784\u8d4b\u503c\uff0cAsync \u51fd\u6570\u548c\u6a21\u677f\u5b57\u7b26\u4e32\u6807\u8bb0\u7b49\u3002\\n\\nBabel V7 \u76f8\u5bf9\u4e8e Babel V6 \u7684\u6539\u8fdb\u4e3b\u8981\u5728\u4e8e\u547d\u4ee4\u884c\u5de5\u5177\u3001\u63d2\u4ef6\u96c6\u5408\u3001\u914d\u7f6e\u6587\u4ef6\u548c\u5339\u914d\u66f4\u591a\u7684 ECMAScript \u7279\u6027\u7b49\u65b9\u9762\u3002\\n\\n### 2.2 V7.4.0\\n- @babel/polyfill \u88ab\u5f03\u7528\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u662f `\\"core-js/stable\\"`\\n\\n### 2.3 v7.6.0\\n- \u652f\u6301 TypeScript \u547d\u540d\u7a7a\u95f4\u7684\u7f16\u8bd1\u3002\\n\\n## 3\u3001\u5b66\u4e60\u8d44\u6599\\n\\n### 3.1 \u5b98\u65b9\u6587\u6863\\n\\n- babel \u5b98\u65b9\u7f51 [https://babeljs.io/docs/en](https://babeljs.io/docs/en/)\\n- babel \u4e2d\u6587\u7f51 [https://www.babeljs.cn/docs](https://www.babeljs.cn/docs/)\\n\\n### 3.2 \u8c03\u8bd5\u5de5\u5177\\n\\n- AST \u5728\u7ebf <https://astexplorer.net/#/2uBU1BLuJ1>\\n- babel \u63d2\u4ef6\u5f00\u53d1\u624b\u518c <https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md>\\n\\n### 3.3 \u5b9e\u8df5\u7ecf\u9a8c\\n- babel \u817e\u8baf\u4e91\u793e\u533a\u6587\u6863 <https://cloud.tencent.com/developer/doc/1260> \u4ecb\u7ecdbabel API\\n- \u6700\u7b80\u5355 compiler \u6559\u7a0b [the-super-tiny-compiler](https://github.com/jamiebuilds/the-super-tiny-compiler/blob/master/the-super-tiny-compiler.js)\\n- [\u9ad8\u7ea7\u524d\u7aef\u57fa\u7840-JavaScript\u62bd\u8c61\u8bed\u6cd5\u6811AST](https://segmentfault.com/a/1190000018532745) <https://segmentfault.com/a/1190000018532745>\\n- [AST\u62bd\u8c61\u8bed\u6cd5\u6811\u2014\u2014\u6700\u57fa\u7840\u7684javascript\u91cd\u70b9\u77e5\u8bc6\uff0c99%\u7684\u4eba\u6839\u672c\u4e0d\u4e86\u89e3](https://segmentfault.com/a/1190000016231512?utm_source=tag-newest#articleHeader10)\\n- [\u4ece\u96f6\u5f00\u59cb\u5199\u4e00\u4e2awepy\u8f6cVUE\u7684\u5de5\u5177](http://zzfed.com/#/detail/5c8efc30c476e35308705a5b)\\n- Babel\u662f\u5982\u4f55\u8bfb\u61c2JS\u4ee3\u7801\u7684 <https://zhuanlan.zhihu.com/p/27289600>\\n- \u7f51\u6613\u4e91\u8bfe\u5802 JS\u7f16\u8bd1\u539f\u7406\uff1a [https://study.163.com/course/courseMain.htm?courseId=1209486877&*trace\\\\_c\\\\_p\\\\_k2*=8ea58ce894c149179bd099a664c39d08](https://study.163.com/course/courseMain.htm?courseId=1209486877&_trace_c_p_k2_=8ea58ce894c149179bd099a664c39d08)","isLeaf":true},{"key":"/Babel/01-Babel \u57fa\u7840/02 babel \u5feb\u901f\u5f00\u59cb.md","path":"/Babel/01-Babel \u57fa\u7840/02 babel \u5feb\u901f\u5f00\u59cb.md","route":"/Babel/01-Babel \u57fa\u7840/02 babel \u5feb\u901f\u5f00\u59cb.md","leaf":true,"title":"02 babel \u5feb\u901f\u5f00\u59cb","depth":2,"content":"---\\ntitle: 02 babel \u5feb\u901f\u5f00\u59cb\\ntags: Babel\\n---\\n\\n## 1\u3001\u521d\u59cb\u5316\u914d\u7f6e\\n\\n```shell\\nyarn add --dev @babel/core @babel/cli @babel/preset-env\\n```\\n\\n- @babel/core \u63d0\u4f9b\u4e86\u57fa\u672c\u529f\u80fd\uff0c\u5305\u62ec AST \u89e3\u6790 \u4ee5\u53ca AST visitor\\n- @babel/cli \u662f\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\\n- @babel/preset-env \u662f\u4e00\u4e2a\u63d2\u4ef6\u96c6\u5408\\n\\n**\u521b\u5efa\u914d\u7f6e\u6587\u4ef6**\\n\\n```js\\nconst presets = [\\n  [\\n    \\"@babel/preset-env\\",\\n    {\\n      targets: {\\n        edge: \\"17\\",\\n        firefox: \\"60\\",\\n        chrome: \\"67\\",\\n        safari: \\"11.1\\",\\n      },\\n      useBuiltIns: \\"usage\\",\\n      corejs: \\"3.6.4\\",\\n    },\\n  ],\\n];\\n\\nmodule.exports = { presets };\\n```\\n\\n```\\n./node_modules/.bin/babel src --out-dir lib\\n```\\n\\n## 2\u3001\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e\\n\\n- \u9879\u76ee\u8303\u56f4\u7684\u914d\u7f6e\\n  - `babel.config.*` \u6587\u4ef6\uff0c\u5177\u6709\u4ee5\u4e0b\u6269\u5c55\u540d\uff1a.json, .js, .cjs, .mjs, .cts.\\n- \u6587\u4ef6\u76f8\u5173\u914d\u7f6e\\n  - `.babelrc.*` \u6587\u4ef6\uff0c\u5177\u6709\u4ee5\u4e0b\u6269\u5c55\u540d\uff1a.json, .js, .cjs, .mjs, .cts.\\n  - `.babelrc` \u6587\u4ef6\uff0c\u6ca1\u6709\u6269\u5c55\u540d\u3002\\n  - `package.json` \u6587\u4ef6\uff0c\\"babel\\" key\\n\\n[babeljs.io config](https://babeljs.io/docs/config-files) \u5728\u8fd9\u91cc\u4e86\u89e3\u4ed6\u4eec\u7684\u533a\u522b\uff0c\u6211\u4eec\u5e94\u8be5\u7528\u54ea\u79cd\uff1f","isLeaf":true},{"key":"/Babel/01-Babel \u57fa\u7840/03 plugin \u548c preset.md","path":"/Babel/01-Babel \u57fa\u7840/03 plugin \u548c preset.md","route":"/Babel/01-Babel \u57fa\u7840/03 plugin \u548c preset.md","leaf":true,"title":"03 plugin \u548c preset","depth":2,"content":"---\\ntitle: 03 plugin \u548c preset\\ntags: Babel\\n---\\n\\nBabel \u63d2\u4ef6 \u548c Preset \u662f\u7528\u4e8e\u5728 JavaScript \u9879\u76ee\u4e2d\u8fdb\u884c\u4ee3\u7801\u8f6c\u6362\u7684\u5de5\u5177\u3002\\n\\n## 1\u3001\u63d2\u4ef6 \u548c Preset \u6709\u4ec0\u4e48\u533a\u522b\uff1f\\n\\n- \u63d2\u4ef6\u662f\u9488\u5bf9 Babel \u7684\u5177\u4f53\u529f\u80fd\u7684\u5355\u4e2a\u529f\u80fd\uff0c\u4f8b\u5982\u201c\u8f6c\u6362\u7bad\u5934\u51fd\u6570\u4e3a\u666e\u901a\u51fd\u6570\u201d\uff0c\u201c\u8f6c\u6362 ES6 \u7c7b\u6210\u4e3a\u666e\u901a\u51fd\u6570\u201d\u7b49\uff0c\u800c preset \u5219\u662f\u5305\u542b\u53e6\u5916\u4e00\u4e9b\u63d2\u4ef6\u7684\u4e00\u4e2a\u96c6\u5408\uff0c\u8fd9\u4e9b\u63d2\u4ef6\u5171\u540c\u5b8c\u6210\u4e00\u4e9b\u76f8\u5173\u7684 tasks\u3002\\n\\n- \u8f6f\u4ef6\u9884\u8bbe(packaged presets) \u53ef\u4ee5\u8f7b\u677e\u5730\u6267\u884c\u591a\u9879\u4efb\u52a1\uff0c\u800c\u4e0d\u5fc5\u5355\u72ec\u5b89\u88c5\u548c\u914d\u7f6e\u591a\u4e2a\u63d2\u4ef6\u3002\u4f8b\u5982\uff0c@babel/preset-env \u662f\u4e00\u4e2a\u9884\u8bbe\uff0c\u5b83\u5e2e\u52a9\u60a8\u5c06 ES6+\u4ee3\u7801\u8f6c\u6362\u4e3a\u7b26\u5408\u60a8\u6307\u5b9a\u7684\u76ee\u6807\u73af\u5883\u7684 JavaScript \u4ee3\u7801\u3002\\n\\n## 2\u3001\u5982\u4f55\u4f7f\u7528\uff1f\\n\\n\u4f7f\u7528 Babel \u63d2\u4ef6\u548c Preset\uff0c\u60a8\u9700\u8981\u5728\u9879\u76ee\u4e2d\u5b89\u88c5\u5b83\u4eec\u5e76\u914d\u7f6e Babel\u3002\u5728\u60a8\u7684\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a `.babelrc` \u6587\u4ef6\uff0c\u4e3a Babel \u63d0\u4f9b\u914d\u7f6e\u3002\\n\\n## 3\u3001preset\\n\\n\u4f8b\u5982\uff0c\u4f7f\u7528 preset-env \u8f6c\u6362 ES6 +\u4ee3\u7801\uff1a\\n\\n1. \u5b89\u88c5 `@babel/preset-env`:\\n\\n```shell\\nnpm install --save-dev @babel/preset-env\\n```\\n\\n2. \u7136\u540e\u5728 .babelrc \u6587\u4ef6\u4e2d\u914d\u7f6e\uff1a\\n\\n```json\\n{\\n  \\"presets\\": [\\"@babel/preset-env\\"]\\n}\\n```\\n\\n\u8fd9\u610f\u5473\u7740\u5728\u9879\u76ee\u4e2d\u7684\u6240\u6709 ES6+\u4ee3\u7801\u90fd\u5c06\u88ab\u8f6c\u6362\u4e3a\u9002\u7528\u4e8e\u60a8\u7684\u6240\u9700 JavaScript \u73af\u5883\u7684\u6807\u51c6 JavaScript\u3002\\n\\n## 4\u3001plugin\\n\\n```shell\\nyarn add --dev @babel/plugin-transform-arrow-functions\\n```\\n\\n```shell\\n./node_modules/.bin/babel src --out-dir lib --plugins=@babel/plugin-transform-arrow-functions\\n```\\n\\n```js\\nconst fn = () => 1;\\n\\n// converted to\\nvar fn = function fn() {\\n  return 1;\\n};\\n```\\n\\n```js\\nconst presets = [\\n  [\\n    \\"@babel/preset-env\\",\\n    {\\n      targets: {\\n        edge: \\"17\\",\\n        firefox: \\"60\\",\\n        chrome: \\"67\\",\\n        safari: \\"11.1\\",\\n      },\\n      useBuiltIns: \\"usage\\",\\n      corejs: \\"3.6.4\\",\\n    },\\n  ],\\n];\\n\\nconst pluginOption = {}\\n\\nconst plugins = [\\n  [\\"@babel/plugin-transform-arrow-functions\\", pluginOption]\\n];\\n\\nmodule.exports = { presets, plugins };\\n```\\n\\n### 4.1 \u63d2\u4ef6\u6267\u884c\u987a\u5e8f\\n\\nbabel \u63d2\u4ef6\u6309\u987a\u5e8f\u6267\u884c\uff0c\u90a3\u4e48\u63d2\u4ef6\u7684\u5148\u540e\u987a\u5e8f\u662f\u5982\u4f55\u51b3\u5b9a\u7684\u5462\uff1f\u6bd4\u5982\u5728\u4e00\u4e2a\u9879\u76ee\u4e2d\u4f7f\u7528 React \u548c Typescript\uff0c\u90a3\u4e48\u8bc6\u522b ts \u7684\u8bed\u6cd5\u63d2\u4ef6\u5728\u524d\u9762\uff0c\u8fd8\u662f\u8bc6\u522b jsx \u7684\u8bed\u6cd5\u7684\u63d2\u4ef6\u5728\u524d\u9762\uff1f\\n\\n- Plugin \u4f1a\u8fd0\u884c\u5728 Preset \u4e4b\u524d\u3002\\n- Plugin \u4f1a\u4ece\u524d\u5230\u540e\u987a\u5e8f\u6267\u884c\u3002\\n- Preset \u7684\u987a\u5e8f\u5219 \u521a\u597d\u76f8\u53cd(\u4ece\u540e\u5411\u524d)\u3002\\n\\n\\n```json\\nconst test1Plugin = require(\'./test1.plugin\');\\nconst test2Plugin = require(\'./test2.plugin\');\\n\\nconst presets = [\\n  [\\n    \'@babel/preset-env\',\\n    {\\n      targets: {\\n        edge: \'17\',\\n        firefox: \'60\',\\n        chrome: \'67\',\\n        safari: \'11.1\',\\n      },\\n      useBuiltIns: \'usage\',\\n      corejs: \'3.6.4\',\\n    },\\n  ],\\n];\\n\\nconst plugins = [\\n  [test1Plugin],\\n  [test2Plugin]\\n]\\n\\nmodule.exports = { presets, plugins };\\n```\\n\\n\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d test1Plugin \u6bd4 test2Plugin \u5148\u6267\u884c\u3002\\n\\n### 4.2 jsx \u548c ts \u8bed\u6cd5\u652f\u6301\\n\\n\u663e\u7136\u7b2c\u4e00\u4e2a\u63d2\u4ef6\u5fc5\u987b\u540c\u65f6\u652f\u6301 jsx \u8bed\u6cd5 \u548c ts \u8bed\u6cd5\uff0c`@babel/preset-typescript` \u5df2\u7ecf\u652f\u6301\u4e86 jsx \u8bed\u6cd5\\n\\n![20230705145919](http://s3.airtlab.com/blog/20230705145919.png)\\n\\n`@babel/preset-typescript` \u5e95\u5c42\u4f9d\u8d56\uff0c`plugin-syntax-typescript`","isLeaf":true},{"key":"/Babel/01-Babel \u57fa\u7840/04 plugin ES2015.md","path":"/Babel/01-Babel \u57fa\u7840/04 plugin ES2015.md","route":"/Babel/01-Babel \u57fa\u7840/04 plugin ES2015.md","leaf":true,"title":"04 plugin ES2015","depth":2,"content":"---\\ntitle: 04 plugin ES2015\\ntags: Babel\\n---\\n\\nBabel \u662f\u4e00\u4e2a\u7f16\u8bd1\u5668\u3002\u4ece\u5b8f\u89c2\u89d2\u5ea6\u770b\uff0c\u5b83\u5c06\u8fd0\u884c\u4ee3\u7801\u5206\u4e3a3\u4e2a\u9636\u6bb5: \u89e3\u6790\uff0c\u8f6c\u6362\uff0c\u53ca\u751f\u6210\uff08\u4e0e\u5176\u4ed6\u7f16\u8bd1\u5668\u76f8\u540c\uff09\u3002\\n\\n\u59cb\u9636\u6bb5\uff0cBabel \u5e76\u6ca1\u6709\u505a\u4efb\u4f55\u4e8b\u60c5\u3002\u5b83\u57fa\u672c\u4e0a\u5c31\u76f8\u5f53\u4e8e `const babel = code => code;`\uff0c\u5148\u89e3\u6790\u4ee3\u7801\uff0c\u7136\u540e\u518d\u6b21\u751f\u6210\u76f8\u540c\u7684\u4ee3\u7801\u3002\u4f60\u53ef\u4ee5\u4e3a Babel \u6dfb\u52a0\u4e00\u4e9b Plugins \u8ba9\u5176\u53bb\u505a\u4efb\u4f55\u4e8b\u60c5( Plugins \u4f1a\u5f71\u54cd Babel \u7684\u7b2c 2 \u9636\u6bb5\uff0c\u8f6c\u6362)\u3002\\n\\n\\n## 1\u3001ES3\\n\\n### [es3-member-expression-literals](https://babel.docschina.org/docs/en/babel-plugin-transform-es3-member-expression-literals)\\n\\n```javascript\\n// \u5728IE8\u53ca\u4ee5\u4e0b\u4f1a\u62a5\u9519\\nfoo.catch;\\n\\n// \u9700\u8981\u8f6c\u6362\u4e3a\\nfoo[\\"catch\\"]\\n```\\n\\n### [es3-property-literals](https://babel.docschina.org/docs/en/babel-plugin-transform-es3-property-literals)\\n\\n```javascript\\n// \u5728IE8\u53ca\u4ee5\u4e0b\u4f1a\u62a5\u9519\\nvar foo = {\\n  catch: function () {}\\n};\\n\\n// \u9700\u8981\u8f6c\u6362\u4e3a\\nvar foo = {\\n  \\"catch\\": function () {}\\n};\\n```\\n\\n\\n### [reserved-words](https://babeljs.io/docs/en/babel-plugin-transform-reserved-words)\\n\\n\u6709\u4e9b\u5728\u6807\u8bc6\u7b26\u5728ES3\u4e3a\u4fdd\u7559\u5b57\uff0c\u5728ES5\u53ca\u4ee5\u540e\u5c31\u4e0d\u662f\u4e86\uff0c\u8fd9\u4e2a\u63d2\u4ef6\u53ef\u4ee5\u91cd\u547d\u540d\u8fd9\u4e9b\u6807\u8bc6\u7b26\u3002\\n\\n```javascript\\n// IN\\nvar abstract = 1;\\nvar x = abstract + 1;\\n\\n// OUT\\nvar _abstract = 1;\\nvar x = _abstract + 1;\\n```\\n\\n## 2\u3001ES5\\n\\n### [property-mutators](https://babeljs.io/docs/en/babel-plugin-transform-property-mutators)\\n\\n\u5bf9\u4e8e mutate \u65b9\u6cd5\u7684\u5b9a\u4e49\uff0c\u8001\u7248\u7684\u90e8\u5206\u6d4f\u89c8\u5668\u53ea\u652f\u6301\u4f7f\u7528\xa0Object.defineProperties \u6765\u5b9a\u4e49\uff1a\\n\\n```javascript\\n// In\\nvar foo = {\\n  get bar() {\\n    return this._bar;\\n  },\\n  set bar(value) {\\n    this._bar = value;\\n  }\\n};\\n\\n// Out\\nvar foo = Object.defineProperties({}, {\\n  bar: {\\n    get: function () {\\n      return this._bar;\\n    },\\n    set: function (value) {\\n      this._bar = value;\\n    },\\n    configurable: true,\\n    enumerable: true\\n  }\\n});\\n```\\n\\n<a name=\\"R2DiV\\"></a>\\n\\n## 3\u3001ES2015\\n\\nES2015 \u4fee\u8ba2\u6587\u6863\uff1a<https://www.ecma-international.org/ecma-262/6.0>\\n\\n### [arrow-functions](https://babeljs.io/docs/en/babel-plugin-transform-arrow-functions)\\n\\n\u7bad\u5934\u51fd\u6570\u8f6c\u8bd1\\n\\n### [block-scoped-functions](https://babeljs.io/docs/en/babel-plugin-transform-block-scoped-functions)\\n\\n\u5757\u7ea7\u4f5c\u7528\u57df\u51fd\u6570\\n\\n```javascript\\n// In\\n{\\n  function name (n) {\\n    return n;\\n  }\\n}\\n\\nname(\\"Steve\\");\\n\\n// Out\\n{\\n  let name = function (n) {\\n    return n;\\n  };\\n}\\nname(\\"Steve\\");\\n```\\n\\n### [block-scoping](https://babeljs.io/docs/en/babel-plugin-transform-block-scoping)\\n\\n\u5757\u53ca\u4f5c\u7528\u57df\\n\\n```javascript\\n// In\\n{\\n  let a = 3\\n}\\n\\nlet a = 3\\n\\n// Out\\n{\\n  var _a = 3;\\n}\\n\\nvar a = 3;\\n```\\n\\n### [classes](https://babeljs.io/docs/en/babel-plugin-transform-classes)\\n\\n\u4f7f\u7528 class \u5b9a\u4e49\u7c7b\uff0c\u5982\u679c\u4f60\u7684\u4ee3\u7801\u5305\u542b\u5b50\u7c7b\u7ee7\u627f Native class \u65f6\uff0c\u9700\u8981\u989d\u5916\u6ce8\u610f\uff0c\u89c1\u6587\u6863 [classes](https://babeljs.io/docs/en/babel-plugin-transform-classes)\u3002\\n\\n```javascript\\n// In\\nclass Test {\\n  constructor(name) {\\n    this.name = name;\\n  }\\n\\n  logger () {\\n    console.log(\\"Hello\\", this.name);\\n  }\\n}\\n\\n// Out\\nfunction _classCallCheck(instance, Constructor) {\\n  if (!(instance instanceof Constructor)) {\\n    throw new TypeError(\\"Cannot call a class as a function\\");\\n  }\\n}\\n\\nvar Test = function () {\\n  function Test(name) {\\n    _classCallCheck(this, Test);\\n\\n    this.name = name;\\n  }\\n\\n  Test.prototype.logger = function logger() {\\n    console.log(\\"Hello\\", this.name);\\n  };\\n\\n  return Test;\\n}();\\n```\\n\\n### [computed-properties](https://babeljs.io/docs/en/babel-plugin-transform-computed-properties)\\n\\n\u8ba1\u7b97\u5c5e\u6027\u6216\u8868\u8fbe\u5f0f\u5c5e\u6027\\n\\n```javascript\\n// In\\nvar obj = {\\n  [\\"x\\" + foo]: \\"heh\\",\\n  [\\"y\\" + bar]: \\"noo\\",\\n  foo: \\"foo\\",\\n  bar: \\"bar\\"\\n};\\n\\n// Out\\nvar _obj;\\n\\nfunction _defineProperty(obj, key, value) {\\n  if (key in obj) {\\n    Object.defineProperty(obj, key, {\\n      value: value,\\n      enumerable: true,\\n      configurable: true,\\n      writable: true\\n    });\\n  } else {\\n    obj[key] = value;\\n  }\\n\\n  return obj;\\n}\\n\\nvar obj = (\\n  _obj = {},\\n  _defineProperty(_obj, \\"x\\" + foo, \\"heh\\"),\\n  _defineProperty(_obj, \\"y\\" + bar, \\"noo\\"),\\n  _defineProperty(_obj, \\"foo\\", \\"foo\\"),\\n  _defineProperty(_obj, \\"bar\\", \\"bar\\"),\\n  _obj\\n);\\n```\\n\\n### [destructuring](https://babeljs.io/docs/en/babel-plugin-transform-destructuring)\\n\\n\u89e3\u6784\u8d4b\u503c\\n\\n```javascript\\n// In\\nlet {x, y} = obj;\\nlet [a, b, ...rest] = arr;\\n\\n// Out\\nfunction _toArray(arr) { ... }\\n\\nlet _obj = obj,\\n    x = _obj.x,\\n    y = _obj.y;\\n\\nlet _arr = arr,\\n    _arr2 = _toArray(_arr),\\n    a = _arr2[0],\\n    b = _arr2[1],\\n    rest = _arr2.slice(2);\\n```\\n\\n### [duplicate-keys](https://babeljs.io/docs/en/babel-plugin-transform-duplicate-keys)\\n\\n\u5c06\u91cd\u590dkey\u8f6c\u4e3a\u8868\u8fbe\u5f0fkey\uff0c\u6ca1\u4ec0\u4e48\u7528\\n\\n```javascript\\n// In\\nvar x = { a: 5, a: 6 };\\nvar y = {\\n  get a() {},\\n  set a(x) {},\\n  a: 3,\\n};\\n\\n// Out\\nvar x = { a: 5, [\\"a\\"]: 6 };\\nvar y = {\\n  get a() {},\\n  set a(x) {},\\n  [\\"a\\"]: 3,\\n};\\n```\\n\\n### [for-of](https://babeljs.io/docs/en/babel-plugin-transform-for-of)\\n\\nfor-of \u8fed\u4ee3\u5668\\n\\n```javascript\\n// in\\nfor (var i of foo) {}\\n\\n// out\\nvar _iteratorNormalCompletion = true;\\nvar _didIteratorError = false;\\nvar _iteratorError = undefined;\\n\\ntry {\\n  for (var _iterator = foo[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\\n    var i = _step.value;\\n  }\\n} catch (err) {\\n  _didIteratorError = true;\\n  _iteratorError = err;\\n} finally {\\n  try {\\n    if (!_iteratorNormalCompletion && _iterator.return != null) {\\n      _iterator.return();\\n    }\\n  } finally {\\n    if (_didIteratorError) {\\n      throw _iteratorError;\\n    }\\n  }\\n}\\n```\\n\\n### [function-name](https://babeljs.io/docs/en/babel-plugin-transform-function-name)\\n\\n```javascript\\n// in\\nlet number = (x) => x\\n\\n// out\\nvar number = function number(x) {\\n  return x;\\n};\\n```\\n\\n### [instanceof](https://babeljs.io/docs/en/babel-plugin-transform-instanceof)\\n\\nES2015 \u5bf9 instanceof \u64cd\u4f5c\u7b26\u8fdb\u884c\u4e86\u4fee\u8ba2\\n![20230608110441](http://s3.airtlab.com/blog/20230608110441.png)\\n\\n```javascript\\n// in\\nfoo instanceof Bar;\\n\\n// out\\nfunction _instanceof(left, right) {\\n  if (right != null && typeof Symbol !== \\"undefined\\" && right[Symbol.hasInstance]) {\\n    return right[Symbol.hasInstance](left);\\n  } else {\\n    return left instanceof right;\\n  }\\n}\\n\\n_instanceof(foo, Bar);\\n```\\n\\n### [literals](https://babeljs.io/docs/en/babel-plugin-transform-literals)\\n\\n\u5b57\u9762\u91cf\u8f6c\u6362\\n\\n```javascript\\n// in\\nvar b = 0b11; // binary integer literal\\nvar o = 0o7; // octal integer literal\\nconst u = \'Hello\\\\u{000A}\\\\u{0009}!\'; // unicode string literals, newline and tab\\n\\n// out\\nvar b = 3; // binary integer literal\\nvar o = 7; // octal integer literal\\nconst u = \'Hello\\\\n\\\\t!\'; // unicode string literals, newline and tab\\n```\\n\\n### [new-target](https://babeljs.io/docs/en/babel-plugin-transform-new-target)\\n\\nnew.target\u8fd4\u56de\u4f7f\u7528new\u65b9\u6cd5\u8c03\u7528\u7c7b\u65f6\u7684\u7c7b\u7684\u540d\u79f0\uff0c\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b\u65f6\uff0cnew.target\u4f1a\u8fd4\u56de\u5b50\u7c7b\u3002\\n\\n```javascript\\nclass Rectangle {\\n  constructor(length, width) {\\n    console.log(new.target === Rectangle);\\n  }\\n}\\n \\nclass Square extends Rectangle {\\n  constructor(length) {\\n    super(length, length);\\n  }\\n}\\n```\\n\\n### [object-super](https://babeljs.io/docs/en/babel-plugin-transform-object-super)\\n\\nthis \u5173\u952e\u5b57\u603b\u662f\u6307\u5411\u51fd\u6570\u6240\u5728\u7684\u5f53\u524d\u5bf9\u8c61\uff0cES6 \u65b0\u589e\u4e86\u53e6\u4e00\u4e2a\u7c7b\u4f3c\u7684\u5173\u952e\u5b57super\uff0c\u6307\u5411\u5f53\u524d\u5bf9\u8c61\u7684\u539f\u578b\u5bf9\u8c61\u3002\\n\\n```javascript\\nlet obj2 = {\\n  say () {\\n    // [object Object]World!\\n    return super.toString() + \\"World!\\"\\n  }\\n}\\n```\\n\\n### [parameters](https://babeljs.io/docs/en/babel-plugin-transform-parameters)\\n\\n\u5904\u7406 ES2015 \u51fd\u6570\u53c2\u6570\uff1a\\n\\n- Destructuring parameters \u53c2\u6570\u89e3\u6784\\n- Default parameters \u9ed8\u8ba4\u53c2\u6570\\n- Rest parameters \u6269\u5c55\u7b26\\n\\n```javascript\\n// in\\nfunction test(x = \\"hello\\", { a, b }, ...args) {\\n  console.log(x, a, b, args);\\n}\\n\\n// out\\nfunction test() {\\n  var x =\\n    arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \\"hello\\";\\n  var _ref = arguments[1];\\n  var a = _ref.a,\\n    b = _ref.b;\\n\\n  for (\\n    var _len = arguments.length,\\n      args = Array(_len > 2 ? _len - 2 : 0),\\n      _key = 2;\\n    _key < _len;\\n    _key++\\n  ) {\\n    args[_key - 2] = arguments[_key];\\n  }\\n\\n  console.log(x, a, b, args);\\n}\\n```\\n\\n### [shorthand-properties](https://babeljs.io/docs/en/babel-plugin-transform-shorthand-properties)\\n\\n```javascript\\n// in\\nvar o = { a, b, c };\\n\\n// out\\nvar o = { a: a, b: b, c: c };\\n```\\n\\n```javascript\\n// in\\nvar cat = {\\n  getName() {\\n    return name;\\n  }\\n};\\n\\n// out\\nvar cat = {\\n  getName: function () {\\n    return name;\\n  }\\n};\\n```\\n\\n### [spread](https://babeljs.io/docs/en/babel-plugin-transform-spread)\\n\\n\u6269\u5c55\u8fd0\u7b97\u7b26\uff0c\u4e0e\u5269\u4f59\u8fd0\u7b97\u7b26\u4e92\u4e3a\u9006\u8fd0\u7b97\\n\\n```javascript\\n// in\\nvar a = [\'a\', \'b\', \'c\'];\\n\\nvar b = [...a, \'foo\'];\\n\\nvar c = foo(...a);\\n\\n// out\\nvar a = [\'a\', \'b\', \'c\'];\\n\\nvar b = a.concat([\'foo\']);\\n\\nvar c = foo.apply(void 0, a);\\n```\\n\\n### [sticky-regex](https://babeljs.io/docs/en/babel-plugin-transform-sticky-regex)\\n\\n```javascript\\n// in\\nconst a = /o+/y;\\n\\n// out\\nvar a = new RegExp(\\"o+\\", \\"y\\");\\n```\\n\\ny \u4fee\u9970\u7b26\uff1a\u53eb\u505a \u201c\u7c98\u8fde\u201d\uff08sticky\uff09\u4fee\u9970\u7b26\u3002\u7528\u6765\u6b63\u786e\u5904\u7406\u5339\u914d\u7c98\u8fde\u7684\u5b57\u7b26\u4e32\u3002\u5b83\u7684\u4f5c\u7528\u548cg\u4fee\u9970\u7c7b\u4f3c\uff0c\u4e5f\u662f\u5168\u5c40\u5339\u914d\u3002\u5b83\u53ef\u4ee5\u4f7f\u7528\u65b0\u589e\u7684\u6b63\u5219\u5bf9\u8c61\u5c5e\u6027sticky\u6765\u5224\u65ad\u6b63\u5219\u5bf9\u8c61\u662f\u5426\u8bbe\u7f6e\u4e86y\u4fee\u9970\u7b26\u3002y \u548c g \u7684\u533a\u522b\\n\\n- g \u4fee\u9970\u7b26\u53ea\u8981\u5269\u4f59\u4f4d\u7f6e\u4e2d\u5b58\u5728\u5339\u914d\u7684\u5b57\u7b26\u4e32\u5c31\u53ef\u4ee5\u8fd4\u56de\u6210\u529f\u3002\u800cy\u4fee\u9970\u7b26\u786e\u4fdd\u5339\u914d\u5fc5\u987b\u662f\u4ece\u5269\u4f59\u7684\u6240\u6709\u4f4d\u7f6e\u4e2d\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u5f00\u59cb\uff0c\u8fd9\u4e5f\u662f\u7c98\u8fde\u7684\u542b\u4e49\u3002\\n- y \u4fee\u9970\u7b26\u9690\u542b\u4e86\u5934\u90e8\u5339\u914d\u7684\u6807\u5fd7^\uff08^x\u8868\u793a\u5339\u914d\u7684\u5b57\u7b26\u4e32\u7684\u9996\u4e2a\u5b57\u7b26\u5fc5\u987b\u662fx\uff09\\n\\n### [template-literals](https://babeljs.io/docs/en/babel-plugin-transform-template-literals)\\n\\n\u6a21\u7248\u5b57\u7b26\u4e32\\n\\n```javascript\\n// in\\n`foo${bar}`;\\n\\n// out\\n\\"foo\\".concat(bar);\\n```\\n\\n### [typeof-symbol](https://babeljs.io/docs/en/babel-plugin-transform-typeof-symbol)\\n\\nSymbol\u662f\u539f\u59cb\u503c\uff0cES6\u6269\u5c55\u4e86typeof\u64cd\u4f5c\u7b26\uff0c\u8fd4\u56de\\"symbol\\"\u3002\u6240\u4ee5\u53ef\u4ee5\u7528typeof\u6765\u68c0\u6d4b\u53d8\u91cf\u662f\u5426\u4e3asymbol\u7c7b\u578b\\n\\n### [unicode-escapes](https://babeljs.io/docs/en/babel-plugin-transform-unicode-escapes)\\n\\nCompile ES2015 Unicode escapes to ES5\\n\\n```javascript\\n// in\\nvar \\\\u{1d49c} = \\"\\\\u{Babe1}\\";\\n\\nconsole.log(\\\\u{1d49c});\\n\\n// out\\nvar _ud835_udc9c = \\"\\\\uDAAA\\\\uDFE1\\";\\n\\nconsole.log(_ud835_udc9c);\\n```\\n\\n### [unicode-regex](https://babeljs.io/docs/en/babel-plugin-transform-unicode-regex)\\n\\n```js\\n// in\\nvar string = \\"foo\ud83d\udca9bar\\";\\nvar match = string.match(/foo(.)bar/u);\\n```","isLeaf":true},{"key":"/Babel/01-Babel \u57fa\u7840/05 plugin ES2016.md","path":"/Babel/01-Babel \u57fa\u7840/05 plugin ES2016.md","route":"/Babel/01-Babel \u57fa\u7840/05 plugin ES2016.md","leaf":true,"title":"05 plugin ES2016","depth":2,"content":"---\\ntitle: 05 plugin ES2016\\ntags: Babel\\n---\\n\\n## 1\u3001ES2016\\n\\n### [exponentiation-operator](https://babeljs.io/docs/en/babel-plugin-transform-exponentiation-operator)\\n\\n\u65b0\u589e\u6307\u6570\u8fd0\u7b97\u6cd5\\n\\n```javascript\\n// in\\nlet x = 10 ** 2;\\n\\nx **= 3;\\n\\n// out\\nlet x = Math.pow(10, 2);\\nx = Math.pow(x, 3);\\n```\\n\\n## 2\u3001ES2017\\n\\n### [async-to-generator](https://babeljs.io/docs/en/babel-plugin-transform-async-to-generator)\\n\\n\u5c06 async \u8f6c\u6362\u4e3a generator\\n\\n```javascript\\n// in\\nasync function foo() {\\n  await bar();\\n}\\n\\n// out\\nvar _asyncToGenerator = function (fn) {\\n  ...\\n};\\n\\nvar foo = _asyncToGenerator(function* () {\\n  yield bar();\\n});\\n```\\n\\n\\n## 3\u3001ES2018\\n\\n### [external-helpers](https://babeljs.io/docs/en/babel-plugin-external-helpers)\\n\\n\u5185\u90e8\u5e2e\u52a9\u51fd\u6570\\n\\n### [object-assign](https://babeljs.io/docs/en/babel-plugin-transform-object-assign)\\n\\n```javascript\\n// in \\nObject.assign(a, b);\\n\\n// out\\nvar _extends = ...;\\n\\n_extends(a, b);\\n```\\n\\n### [regenerator](https://babeljs.io/docs/en/babel-plugin-transform-regenerator)\\n\\n\u8fd9\u662f facebook \u4e0b\u7684\u4e00\u4e2a\u5de5\u5177\uff0c\u7528\u4e8e\u7f16\u8bd1 ES6 \u7684 generator \u51fd\u6570\uff0c\u4e00\u7bc7\u975e\u5e38\u597d\u7684\u6587\u7ae0\u89c1\uff1a<https://www.jianshu.com/p/17a4c00d5831> <a name=\\"uzkyg\\"></a>\\n\\n![20230608110538](http://s3.airtlab.com/blog/20230608110538.png)\\n\\n### [runtime](https://babeljs.io/docs/en/babel-plugin-transform-runtime)\\n\\nruntime \u5e93\uff0c\u7528\u4e8e\u91cd\u7528 @babel/runtime \u4ee3\u7801.\\n\\n### [strict-mode](https://babeljs.io/docs/en/babel-plugin-transform-strict-mode)\\n\\n\u7f16\u8bd1\u4e3a\u4e25\u683c\u6a21\u5f0f\\n\\n```javascript\\n// in\\nfoo();\\n\\n// out\\n\\"use strict\\";\\n\\nfoo();\\n```\\n\\n## Modules \u6a21\u5757\u5904\u7406\\n\\n- [modules-amd](https://babeljs.io/docs/en/babel-plugin-transform-modules-amd)\\n- [modules-commonjs](https://babeljs.io/docs/en/babel-plugin-transform-modules-commonjs)\\n- [modules-systemjs](https://babeljs.io/docs/en/babel-plugin-transform-modules-systemjs)\\n- [modules-umd](https://babeljs.io/docs/en/babel-plugin-transform-modules-umd)\\n\\n### Experimental\\n\\n- [class-properties](https://babeljs.io/docs/en/babel-plugin-proposal-class-properties)\\n\\n\u6269\u5c55\u7c7b\u7684\u5c5e\u6027\u5b9a\u4e49\\n\\n```javascript\\nclass Bork {\\n    //Property initializer syntax\\n    instanceProperty = \\"bork\\";\\n\\n    boundFunction = () => {\\n      return this.instanceProperty;\\n    };\\n\\n    //Static class properties\\n    static staticProperty = \\"babelIsCool\\";\\n    static staticFunction = function() {\\n      return Bork.staticProperty;\\n    };\\n}\\n```\\n\\n- [decorators](https://babeljs.io/docs/en/babel-plugin-proposal-decorators)\\n\\n\u88c5\u9970\u5668\u7684\u652f\u6301\\n\\n```javascript\\n@annotation\\nclass MyClass { }\\n\\nfunction annotation(target) {\\n   target.annotated = true;\\n}\\n```\\n\\n- [do-expressions](https://babeljs.io/docs/en/babel-plugin-proposal-do-expressions)\\n\\ndo \u8868\u8fbe\u5f0f\\n\\n```javascript\\nlet a = do {\\n  if(x > 10) {\\n    \'big\';\\n  } else {\\n    \'small\';\\n  }\\n};\\n// is equivalent to:\\nlet a = x > 10 ? \'big\' : \'small\';\\n```\\n\\n- [export-default-from](https://babeljs.io/docs/en/babel-plugin-proposal-export-default-from)\\n\\n\u5feb\u6377\u5230\u51fa\\n\\n```javascript\\nexport v from \'mod\';\\n```\\n\\n- [export-namespace-from](https://babeljs.io/docs/en/babel-plugin-proposal-export-namespace-from)\\n\\n\u5feb\u6377\u5bfc\u51fa\u91cd\u547d\u540d\\n\\n```javascript\\nexport * as ns from \'mod\';\\n```\\n\\n- [function-bind](https://babeljs.io/docs/en/babel-plugin-proposal-function-bind)\\n\\n\u5feb\u6377\u7684\u51fd\u6570 context \u7ed1\u5b9a\\n\\n```javascript\\nobj::func\\n// is equivalent to:\\nfunc.bind(obj)\\n```\\n\\n- [function-sent](https://babeljs.io/docs/en/babel-plugin-proposal-function-sent)\\n- [logical-assignment-operators](https://babeljs.io/docs/en/babel-plugin-proposal-logical-assignment-operators)\\n- [nullish-coalescing-operator](https://babeljs.io/docs/en/babel-plugin-proposal-nullish-coalescing-operator)\\n- [numeric-separator](https://babeljs.io/docs/en/babel-plugin-proposal-numeric-separator)\\n- [optional-chaining](https://babeljs.io/docs/en/babel-plugin-proposal-optional-chaining)\\n- [partial-application](https://babeljs.io/docs/en/babel-plugin-proposal-partial-application)\\n- [pipeline-operator](https://babeljs.io/docs/en/babel-plugin-proposal-pipeline-operator)\\n- [private-methods](https://babeljs.io/docs/en/babel-plugin-proposal-private-methods)\\n- [throw-expressions](https://babeljs.io/docs/en/babel-plugin-proposal-throw-expressions)\\n- [private-property-in-object](https://babeljs.io/docs/en/babel-plugin-proposal-private-property-in-object)\\n\\n\\n## React \u76f8\u5173\u8bed\u6cd5\\n\\n- [react-constant-elements](https://babeljs.io/docs/en/babel-plugin-transform-react-constant-elements)\\n- [react-display-name](https://babeljs.io/docs/en/babel-plugin-transform-react-display-name)\\n- [react-inline-elements](https://babeljs.io/docs/en/babel-plugin-transform-react-inline-elements)\\n- [react-jsx](https://babeljs.io/docs/en/babel-plugin-transform-react-jsx)\\n- [react-jsx-compat](https://babeljs.io/docs/en/babel-plugin-transform-react-jsx-compat)\\n- [react-jsx-self](https://babeljs.io/docs/en/babel-plugin-transform-react-jsx-self)\\n- [react-jsx-source](https://babeljs.io/docs/en/babel-plugin-transform-react-jsx-source)\\n","isLeaf":true},{"key":"/Babel/01-Babel \u57fa\u7840/06 babel presets.md","path":"/Babel/01-Babel \u57fa\u7840/06 babel presets.md","route":"/Babel/01-Babel \u57fa\u7840/06 babel presets.md","leaf":true,"title":"06 babel presets","depth":2,"content":"---\\ntitle: 06 babel presets\\ntags: Babel\\n---\\n\\npresets \u662f\u4e00\u4e9b plugins \u7684\u96c6\u5408\u3002\\n\\n\\n## 1\u3001\u5b98\u65b9 Presets\\n\\n- [@babel/preset-env](https://babeljs.io/docs/en/babel-preset-env)\\n- [@babel/preset-flow](https://babeljs.io/docs/en/babel-preset-flow)\\n- [@babel/preset-react](https://babeljs.io/docs/en/babel-preset-react)\\n- [@babel/preset-typescript](https://babeljs.io/docs/en/babel-preset-typescript)\\n\\n## 2\u3001\u5b9e\u9a8c\u9636\u6bb5 Presets\\n\\n- [Stage 0](https://babeljs.io/docs/en/babel-preset-stage-0) - Strawman: just an idea, possible Babel plugin.\\n- [Stage 1](https://babeljs.io/docs/en/babel-preset-stage-1) - Proposal: this is worth working on.\\n- [Stage 2](https://babeljs.io/docs/en/babel-preset-stage-2) - Draft: initial spec.\\n- [Stage 3](https://babeljs.io/docs/en/babel-preset-stage-3) - Candidate: complete spec and initial browser implementations.\\n- Stage 4 - Finished: will be added to the next yearly release.\\n\\n## 3\u3001\u81ea\u5b9a\u4e49 presets\\n\\n```javascript\\nmodule.exports = function() {\\n  return {\\n    plugins: [\\n      \\"pluginA\\",\\n      \\"pluginB\\",\\n      \\"pluginC\\",\\n    ]\\n  };\\n}\\n```\\n\\npresets \u4e2d\u4e5f\u53ef\u4ee5\u5305\u542b\u5176\u4ed6 presets\uff1a\\n\\n```javascript\\nmodule.exports = () => ({\\n  presets: [\\n    require(\\"@babel/preset-env\\"),\\n  ],\\n  plugins: [\\n    [require(\\"@babel/plugin-proposal-class-properties\\"), { loose: true }],\\n    require(\\"@babel/plugin-proposal-object-rest-spread\\"),\\n  ],\\n});\\n```\\n\\n\u4f7f\u7528 presets:\\n\\n```javascript\\n// \u975e node_modules\\n{\\n  \\"presets\\": [\\"./myProject/myPreset\\"]\\n}\\n\\n// node_modules \u4e0b\\n{\\n  \\"presets\\": [\\"babel-preset-myPreset\\"]\\n}\\n```","isLeaf":true},{"key":"/Babel/01-Babel \u57fa\u7840/07 preset react.md","path":"/Babel/01-Babel \u57fa\u7840/07 preset react.md","route":"/Babel/01-Babel \u57fa\u7840/07 preset react.md","leaf":true,"title":"07 preset react","depth":2,"content":"---\\ntitle: 07 preset react\\ntags: Babel\\n---\\n\\nThis preset always includes the following plugins:\\n\\n- @babel/plugin-syntax-jsx\\n- @babel/plugin-transform-react-jsx\\n- @babel/plugin-transform-react-display-name\\n\\nAnd with the development option:\\n\\nClassic runtime adds:\\n\\n- @babel/plugin-transform-react-jsx-self\\n- @babel/plugin-transform-react-jsx-source\\n\\n```json\\n{\\n  \\"presets\\": [\\n    [\\n      \\"@babel/preset-react\\",\\n      {\\n        \\"pragma\\": \\"dom\\", // default pragma is React.createElement (only in classic runtime)\\n        \\"pragmaFrag\\": \\"DomFrag\\", // default is React.Fragment (only in classic runtime)\\n        \\"throwIfNamespace\\": false, // defaults to true\\n        \\"runtime\\": \\"classic\\" // defaults to classic\\n        // \\"importSource\\": \\"custom-jsx-library\\" // defaults to react (only in automatic runtime)\\n      }\\n    ]\\n  ]\\n}\\n```\\n\\n## @babel/plugin-syntax-jsx\\n\\n@babel/plugin-syntax-jsx \u662f\u4e00\u4e2a\u7528\u4e8e Babel \u7684\u63d2\u4ef6\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u8ba9 Babel \u80fd\u591f\u8bc6\u522b\u548c\u8f6c\u6362 JSX \u8bed\u6cd5\u7684\u4ee3\u7801\u3002JSX \u662f\u4e00\u79cd JavaScript \u7684\u8bed\u6cd5\u6269\u5c55\uff0c\u5b83\u5141\u8bb8\u5728 JavaScript \u4e2d\u7f16\u5199\u7c7b\u4f3c\u4e8e HTML \u7684\u6807\u8bb0\u8bed\u8a00\uff0c\u7528\u4e8e\u6784\u5efa\u7528\u6237\u754c\u9762\u3002\\n\u5728\u6ca1\u6709\u8be5\u63d2\u4ef6\u7684\u60c5\u51b5\u4e0b\uff0cBabel \u5c06\u65e0\u6cd5\u7406\u89e3 JSX \u4ee3\u7801\u4e2d\u7684\u6807\u7b7e\uff0c\u4f1a\u629b\u51fa\u9519\u8bef\u3002\u4f7f\u7528 @babel/plugin-syntax-jsx \u63d2\u4ef6\u540e\uff0cBabel \u5c06\u80fd\u591f\u6b63\u786e\u5730\u89e3\u6790\u5e76\u8f6c\u6362 JSX \u8bed\u6cd5\u5230\u666e\u901a\u7684 JavaScript \u4ee3\u7801\u3002\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8be5\u63d2\u4ef6\u53ea\u662f\u89e3\u6790 JSX \u8bed\u6cd5\uff0c\u5b83\u5e76\u4e0d\u4f1a\u5c06 JSX \u8f6c\u5316\u4e3a\u771f\u6b63\u7684 DOM \u64cd\u4f5c\u3002\u8981\u5c06 JSX \u8f6c\u6362\u4e3a\u53ef\u7528\u7684 JavaScript \u4ee3\u7801\uff0c\u9700\u8981\u4f7f\u7528\u5176\u4ed6\u7684\u63d2\u4ef6\u6216\u5de5\u5177\uff0c\u4f8b\u5982 @babel/preset-react \u63d2\u4ef6\u3001React \u6216 Preact \u5e93\u7b49\u3002\\n\\n## @babel/plugin-transform-react-jsx\\n\\n@babel/plugin-transform-react-jsx \u662f\u4e00\u4e2a\u7528\u4e8e Babel \u7684\u63d2\u4ef6\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u5c06 JSX \u8bed\u6cd5\u8f6c\u6362\u4e3a\u666e\u901a\u7684 JavaScript \u4ee3\u7801\uff0c\u4ee5\u4fbf JavaScript \u5f15\u64ce\u80fd\u591f\u8bc6\u522b\u548c\u6267\u884c\u8fd9\u4e9b\u4ee3\u7801\u3002\\nJSX \u662f\u4e00\u79cd JavaScript \u7684\u8bed\u6cd5\u6269\u5c55\uff0c\u5b83\u5141\u8bb8\u5728 JavaScript \u4e2d\u7f16\u5199\u7c7b\u4f3c\u4e8e HTML \u7684\u6807\u8bb0\u8bed\u8a00\uff0c\u7528\u4e8e\u6784\u5efa\u7528\u6237\u754c\u9762\u3002\u4f46\u662f\uff0c\u7531\u4e8e JavaScript \u5f15\u64ce\u4e0d\u80fd\u76f4\u63a5\u6267\u884c JSX \u4ee3\u7801\uff0c\u56e0\u6b64\u9700\u8981\u5c06\u5176\u8f6c\u6362\u4e3a\u666e\u901a\u7684 JavaScript \u4ee3\u7801\uff0c\u4ee5\u4fbf\u80fd\u591f\u5728\u6d4f\u89c8\u5668\u6216 Node.js \u7b49\u73af\u5883\u4e2d\u6267\u884c\u3002\\n\\n\\n## React 17 \u4ecb\u7ecd\u5168\u65b0\u7684 JSX \u8f6c\u6362 (React.createElement => jsx)\\n\\n![20230518151443](http://s3.airtlab.com/blog/20230518151443.png)\\n\\n![20230518151453](http://s3.airtlab.com/blog/20230518151453.png)\\n\\n![20230518151506](http://s3.airtlab.com/blog/20230518151506.png)\\n\\n![20230518151537](http://s3.airtlab.com/blog/20230518151537.png)\\n\\n![20230518151556](http://s3.airtlab.com/blog/20230518151556.png)","isLeaf":true}]},{"key":"/Babel/02-Babel API","path":"/Babel/02-Babel API","route":"/Babel/02-Babel API","leaf":false,"title":"02-Babel API","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Babel/02-Babel API/01 @babel core.md","path":"/Babel/02-Babel API/01 @babel core.md","route":"/Babel/02-Babel API/01 @babel core.md","leaf":true,"title":"01 @babel core","depth":2,"content":"---\\ntitle: 01 @babel core\\ntags: Babel\\n---\\n\\n@babel/core \u66b4\u9732\u4e86 `\u6e90\u4ee3\u7801 => AST => \u76ee\u6807\u4ee3\u7801` \u6574\u4e2a\u8fc7\u7a0b\u6240\u9700\u8981\u7684\u65b9\u6cd5\u3002\\n\\n## 1. transform\\n\\ntransform \u65b9\u6cd5\u5c06\u6e90\u4ee3\u7801\u5904\u7406\u540e\u8fd4\u56de\u76ee\u6807\u4ee3\u7801\uff0csourcemap \u4ee3\u7801\uff0c\u4ee5\u53caast\uff1a\\n\\n```javascript\\n/**\\n * @param string code \u6e90\u4ee3\u7801\\n * @param object options \u914d\u7f6e\u9879\\n * @param function callback \u56de\u8c03\u51fd\u6570\\n */\\nbabel.transform(code: string, options?: Object, callback: Function)\\n```\\n\\n```javascript\\nconst babel = require(\\"@babel/core\\");\\nconst code = `const name = 1`\\nconst options = {}\\n\\nbabel.transform(code, options, function(err, result) {\\n  result; // => { code, map, ast }\\n  console.log(result)\\n});\\n```\\n\\n\u5982\u679c\u9700\u8981 ast \u548c sourcemap:\\n\\n```javascript\\nconst babel = require(\\"@babel/core\\");\\nconst sourceCode = `var count = 1`\\n\\nbabel.transform(sourceCode, { ast: true, inputSourceMap: true }, function(err, result) {\\n  result; // => { code, map, ast }\\n  console.log(result)\\n});\\n```\\n\\n\u8fd9\u91cc\u7684 options \u7528\u4e8e\u914d\u7f6e plugins\uff0chelpers \u7b49\u7b49\uff0c\u540e\u9762\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u3002\u53e6\u5916 bable \u8fd8\u63d0\u4f9b\u4e86 transform \u7684\u540c\u6b65\u65b9\u6cd5 transformSync\uff0c\u4ee5\u53ca\u5f02\u6b65Promise API transformAsync:\\n\\n```javascript\\n// \u540c\u6b65API\\nvar result = babel.transformSync(\\"code();\\", options);\\nresult.code;\\nresult.map;\\nresult.ast;\\n\\n// \u5f02\u6b65API\\nbabel.transformAsync(\\"code();\\", options).then(result => {\\n  result.code;\\n  result.map;\\n  result.ast;\\n});\\n```\\n\\n## 2. transformFile\\n\\ntransformFile \u7528\u4e8e\u8f6c\u6362\u6574\u4e2aJS\u6587\u4ef6\uff1a\\n\\n```javascript\\nbabel.transformFile(filename: string, options?: Object, callback: Function)\\n```\\n\\n\u5176\u51fd\u6570\u7b7e\u540d\u548c transform \u5dee\u4e0d\u591a\uff0c\u53ea\u662f\u7b2c\u4e00\u4e2a\u53c2\u6570\u4ece\u6e90\u4ee3\u7801 code \u53d8\u4e3a\u4e86\u6587\u4ef6\u8def\u5f84 filename\uff1a\\n\\n```javascript\\nbabel.transformFile(\\"filename.js\\", options, function (err, result) {\\n  result; // => { code, map, ast }\\n});\\n```\\n\\n\u7c7b\u4f3c\u7684\uff0ctransformFile \u4e5f\u989d\u5916\u63d0\u4f9b\u4e86\u540c\u6b65\u548c\u5f02\u6b65API\uff0ctransformFileSync \u548c transformFileAsync\u3002\\n\\n## 3. parse\\n\\n\u8be5\u65b9\u6cd5\u4f1a\u626b\u7801\u6e90\u4ee3\u7801\uff0c\u8fd4\u56de\u4e00\u4e2a AST\uff0c\u5e76\u4e14 @babel/core \u540c\u6837\u989d\u5916\u63d0\u4f9b\u4e86 parse \u65b9\u6cd5\u7684\u5f02\u6b65\u548c\u540c\u6b65API: parseAsync \u548c parseSync\u3002\\n\\n```javascript\\nbabel.parse(code: string, options?: Object, callback: Function)\\n```\\n\\n```javascript\\nconst babel = require(\\"@babel/core\\");\\nconst sourceCode = `var count = 1`\\n\\nbabel.parse(sourceCode, function(err, result) {\\n  console.log(JSON.stringify(result))\\n});\\n```\\n\\n\u7ed3\u679c\u5982\u4e0b\uff1a\\n\\n```javascript\\n{\\n\\t\\"type\\": \\"File\\",\\n\\t\\"start\\": 0,\\n\\t\\"end\\": 13,\\n\\t\\"loc\\": {\\n\\t\\t\\"start\\": {\\n\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\"column\\": 0\\n\\t\\t},\\n\\t\\t\\"end\\": {\\n\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\"column\\": 13\\n\\t\\t}\\n\\t},\\n\\t\\"errors\\": [],\\n\\t\\"program\\": {\\n\\t\\t\\"type\\": \\"Program\\",\\n\\t\\t\\"start\\": 0,\\n\\t\\t\\"end\\": 13,\\n\\t\\t\\"loc\\": {\\n\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\"column\\": 0\\n\\t\\t\\t},\\n\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\"column\\": 13\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t\\"sourceType\\": \\"module\\",\\n\\t\\t\\"interpreter\\": null,\\n\\t\\t\\"body\\": [{\\n\\t\\t\\t\\"type\\": \\"VariableDeclaration\\",\\n\\t\\t\\t\\"start\\": 0,\\n\\t\\t\\t\\"end\\": 13,\\n\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\"column\\": 0\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\"column\\": 13\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\t\\t\\t\\"declarations\\": [{\\n\\t\\t\\t\\t\\"type\\": \\"VariableDeclarator\\",\\n\\t\\t\\t\\t\\"start\\": 4,\\n\\t\\t\\t\\t\\"end\\": 13,\\n\\t\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\"column\\": 4\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\"column\\": 13\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\"id\\": {\\n\\t\\t\\t\\t\\t\\"type\\": \\"Identifier\\",\\n\\t\\t\\t\\t\\t\\"start\\": 4,\\n\\t\\t\\t\\t\\t\\"end\\": 9,\\n\\t\\t\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 4\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 9\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\"identifierName\\": \\"count\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"name\\": \\"count\\"\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\"init\\": {\\n\\t\\t\\t\\t\\t\\"type\\": \\"NumericLiteral\\",\\n\\t\\t\\t\\t\\t\\"start\\": 12,\\n\\t\\t\\t\\t\\t\\"end\\": 13,\\n\\t\\t\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 12\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 13\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"extra\\": {\\n\\t\\t\\t\\t\\t\\t\\"rawValue\\": 1,\\n\\t\\t\\t\\t\\t\\t\\"raw\\": \\"1\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"value\\": 1\\n\\t\\t\\t\\t}\\n\\t\\t\\t}],\\n\\t\\t\\t\\"kind\\": \\"var\\"\\n\\t\\t}],\\n\\t\\t\\"directives\\": []\\n\\t},\\n\\t\\"comments\\": []\\n}\\n```\\n\\n## 4. transformFromAst\\n\\n\u7ed9\u5b9a\u4e00\u4e2a [AST](https://astexplorer.net/) \uff0c\u5c06\u5b83\u8fdb\u884c\u8f6c\u6362\u4e3a\u548cparser\u65b9\u6cd5\u8f93\u5165\u4e00\u81f4\u7684\u7ed3\u679c\uff0c\u4e5f\u7b97\u662f\u5c06 parse \u65b9\u6cd5\u7684\u8f93\u5165\u8fdb\u884c\u53cd\u5e8f\u5217\u5316\uff1a\\n\\n```javascript\\nbabel.transformFromAst(ast: Object, code?: string, options?: Object, callback: Function): FileNode | null\\n```\\n\\n```javascript\\nvar babel = require(\\"@babel/core\\");\\n\\nconst sourceCode = `var count = 1`\\n\\nbabel.parse(sourceCode, function(err, result) {\\n  if (err) {\\n    console.log(err);\\n    return;\\n  }\\n\\n  // babel.transformFromAst(result, function(err, res) {\\n  //   console.log(res) // res === JSON.string(result)\\n  // })\\n\\n  babel.transformFromAst(result, undefined, { ast: true }, function(err, res) {\\n    console.log(res)\\n  })\\n});\\n```\\n\\n## 5. Advanced APIs\\n\\n\u8bb8\u591a\u4f7f\u7528\u4e86Babel\u7684\u7cfb\u7edf\u90fd\u559c\u6b22\u81ea\u52a8\u6ce8\u5165 plugins \u548c presets\uff0c\u6216\u8986\u76d6\u9009\u9879\u3002\u4e3a\u4e86\u5b9e\u73b0\u6b64\u76ee\u6807\uff0cBabel \u516c\u5f00\u4e86\u4e00\u4e9b\u529f\u80fd\uff0c\u8fd9\u4e9b\u529f\u80fd\u6709\u52a9\u4e8e\u5728\u4e0d\u8fdb\u884c\u8f6c\u6362\u7684\u60c5\u51b5\u4e0b\u90e8\u5206\u52a0\u8f7d\u914d\u7f6e\u3002\\n\\n\\n### 5.1 loadOptions\\n\\n\u7528\u4e8e\u89e3\u6790 Babel \u7684\u9009\u9879\uff0c\u4ea7\u751f\u4e00\u4e2a option \u5bf9\u8c61\\n\\n```javascript\\nbabel.loadOptions(options?: Object)\\n```\\n\\n\u4ee3\u7801\uff1a\\n\\n```javascript\\nvar babel = require(\\"@babel/core\\");\\n\\nconst res = babel.loadOptions({\\n  \\"plugins\\": [\\"@babel/plugin-transform-arrow-functions\\"]\\n})\\n\\nconsole.log(res)\\n```\\n\\n\u8f93\u51fa\uff1a\\n\\n![20230608023018](http://s3.airtlab.com/blog/20230608023018.png)\\n\\n### 5.2 loadPartialConfig\\n\\n```javascript\\nbabel.loadPartialConfig(options?: Object): PartialConfig\\n```\\n\\n### 5.3 createConfigItem\\n\\n```javascript\\nbabel.createConfigItem(value: string | {} | Function | [string | {} | Function, {} | void], { dirname?: string, type?: \\"preset\\" | \\"plugin\\" }): ConfigItem\\n```\\n\\n## 6. Options \u914d\u7f6e\\n\\n\u53c2\u8003\u6587\u6863 <https://babeljs.io/docs/en/options>","isLeaf":true},{"key":"/Babel/02-Babel API/02 @babel generator.md","path":"/Babel/02-Babel API/02 @babel generator.md","route":"/Babel/02-Babel API/02 @babel generator.md","leaf":true,"title":"02 @babel generator","depth":2,"content":"---\\ntitle: 02 @babel generator\\ntags: Babel\\n---\\n\\n```javascript\\nimport {parse} from \'@babel/parser\';\\nimport generate from \'@babel/generator\';\\n\\nconst code = \'class Example {}\';\\nconst ast = parse(code);\\n\\nconst output = generate(ast, { /* options */ }, code);\\n```\\n\\n## 1\u3001\u683c\u5f0f\u5316\u8f93\u51fa\u7684\u9009\u9879\\n\\n| \u9009\u9879\u540d | \u7c7b\u578b | \u9ed8\u8ba4\u503c | \u63cf\u8ff0 |\\n| :--- | :--- | :--- | :--- |\\n| auxiliaryCommentBefore | string |  | \u53ef\u9009\u5b57\u7b26\u4e32\uff0c\u5728\u8f93\u51fa\u6587\u4ef6\u7684\u5f00\u59cb\u6dfb\u52a0\u5757\u6ce8\u91ca |\\n| auxiliaryCommentAfter | string |  | \u53ef\u9009\u5b57\u7b26\u4e32\uff0c\u5728\u8f93\u51fa\u6587\u4ef6\u7684\u672b\u5c3e\u6dfb\u52a0\u5757\u6ce8\u91ca |\\n| shouldPrintComment | function | opts.comments | \u5982\u679c\u6ce8\u91ca\u9700\u8981\u5305\u542b\u5728\u8f93\u51fa\u4e2d\uff0c\u8be5\u51fd\u6570\u5219\u9700\u63a5\u53d7\u6ce8\u91ca\uff08\u4f5c\u4e3a\u5b57\u7b26\u4e32\uff09\u5e76\u8fd4\u56de true \u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5982\u679c opts.commoents \u4e3a true \u6216\u8005 opts.minifed \u4e3a false \u5e76\u4e14\u6ce8\u91ca\u4e2d\u5305\u542b @preserve \u6216 @license\uff0c\u5219\u5305\u542b\u6ce8\u91ca\u3002 |\\n| retainLines | boolean | false | \u5c1d\u8bd5\u5728\u8f93\u51fa\u7684\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e0e\u6e90\u4ee3\u7801\u76f8\u540c\u7684\u884c\u53f7(\u6709\u52a9\u4e8e\u4fdd\u7559\u6808\u4fe1\u606f\u8ddf\u8e2a) |\\n| retainFunctionParens | boolean | false | \u4fdd\u7559\u51fd\u6570\u8868\u8fbe\u5f0f\u7684\u4e0a\u4e0b\u7ea7 (\u53ef\u7528\u4e8e\u66f4\u6539\u5f15\u64ce\u89e3\u6790\u884c\u4e3a) |\\n| comments | boolean | true | \u8f93\u51fa\u4e2d\u662f\u5426\u5305\u542b\u6ce8\u91ca |\\n| compact | boolean or \'auto\' | opts.minified | \u8bbe\u7f6e\u4e3a true \u4ee5\u907f\u514d\u6dfb\u52a0\u7528\u4e8e\u683c\u5f0f\u5316\u7684\u7a7a\u683c |\\n| minified | boolean | false | \u8f93\u51fa\u662f\u5426\u88ab\u538b\u7f29 |\\n| concise | boolean | false | \u8bbe\u7f6e\u4e3a true \u4ee5\u51cf\u5c11\u7a7a\u683c (\u4f46\u6548\u679c\u4e0d\u5982 opts.compact ) |\\n| quotes | \'single\' or \'double\' | \u57fa\u4e8e ast.tokens \u7684\u81ea\u52a8\u68c0\u6d4b | \u8f93\u51fa\u4e2d\u5bf9\u5f15\u53f7\u7684\u7c7b\u578b\u8fdb\u884c\u4fdd\u7559 |\\n| filename | string |  | \u5728\u8b66\u544a\u4fe1\u606f\u4e2d\u4f7f\u7528 |\\n| flowCommaSeparator | boolean | false | \u8bbe\u7f6e\u4e3a true \u4ee5\u4f7f\u7528\u9017\u53f7\u800c\u4e0d\u662f\u5206\u53f7\u4f5c\u4e3a Flow \u5c5e\u6027\u7684\u5206\u9694\u7b26 |\\n| jsonCompatibleStrings | boolean | false | \u8bbe\u7f6e\u4e3a true\uff0c\u4f7f\u7528 \\"json\\" \u8fd0\u884c jsesc\uff1a\u6b63\u786e\u7684\u5c06 \\"\\\\u00A9\\" \u6253\u5370\u4e3a \\"\xa9\\" ; |\\n\\nsource maps \u7684\u9009\u9879:\\n\\n| \u9009\u9879\u540d | \u7c7b\u578b | \u9ed8\u8ba4\u503c | \u63cf\u8ff0 |\\n| :--- | :--- | :--- | :--- |\\n| sourceMaps | boolean | false | \u542f\u7528\u751f\u6210 source maps |\\n| sourceMapTarget | string |  | source map \u4f1a\u4e0e\u751f\u6210\u4ee3\u7801\u7684\u6587\u4ef6\u540d\u8fdb\u884c\u5173\u8054 |\\n| sourceRoot | string |  | source map \u4e2d\u6240\u6709\u5bf9\u5e94 URLs \u7684 root |\\n| sourceFileName | string |  | \u6e90\u4ee3\u7801\uff08\u4f8b\u5982\uff0c  code \u53c2\u6570\u4e2d\u7684\u4ee3\u7801\uff09\u7684\u6587\u4ef6\u540d\u3002\u53ea\u4f1a\u5728 code \u4e3a\u5b57\u7b26\u4e32\u65f6\u4f7f\u7528\u3002 |\\n\\n\\n## 2\u3001\u591a\u4e2a\u6765\u6e90\u6784\u5efa AST\\n\\n\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0cBabel \u4f1a\u5c06\u8f93\u5165\u6587\u4ef6\u4e0e\u8f93\u51fa\u6587\u4ef6\u8fdb\u884c 1:1 \u8f6c\u6362\u3002\u7136\u800c\uff0c\u4f60\u53ef\u80fd\u6b63\u5728\u5904\u7406\u4ece\u591a\u4e2a\u6765\u6e90\u6784\u5efa\u7684 AST - JS \u6587\u4ef6\uff0c\u6a21\u677f\u7b49\u3002\u5982\u679c\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u5e76\u4e14\u4f60\u8fd8\u5e0c\u671b source map \u4e3a\u4f60\u63d0\u4f9b\u6b63\u786e\u7684\u6765\u6e90\uff0c\u5219\u9700\u8981\u5c06\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a `code` \u53c2\u6570\u4f20\u9012\u7ed9 `generate`\u3002\u5176\u4e2d\u952e\u5e94\u8be5\u4e3a\u6e90\u6587\u4ef6\u540d\u79f0\uff0c\u503c\u5e94\u8be5\u4e3a\u6e90\u5185\u5bb9\u3002\\n\\n```javascript\\nconst { parse } = require(\'@babel/parser\');\\nconst generate = require(\'@babel/generator\').default;\\n\\nconst a = \'var a = 1;\';\\nconst b = \'var b = 2;\';\\n\\nconst astA = parse(a, { sourceFilename: \'a.js\' });\\nconst astB = parse(b, { sourceFilename: \'b.js\' });\\n\\nconst ast = {\\n  type: \'Program\',\\n  body: [].concat(astA.program.body, astB.program.body)\\n};\\n\\nconst { code, map } = generate(ast, { sourceMaps: true }, {\\n  \'a.js\': a,\\n  \'b.js\': b\\n});\\n\\nconsole.log(code)\\nconsole.log(map)\\n```\\n","isLeaf":true},{"key":"/Babel/02-Babel API/03 @babel helpers.md","path":"/Babel/02-Babel API/03 @babel helpers.md","route":"/Babel/02-Babel API/03 @babel helpers.md","leaf":true,"title":"03 @babel helpers","depth":2,"content":"---\\ntitle: 03 @babel helpers\\ntags: Babel\\n---\\n\\n\u8be5\u6a21\u5757\u7528\u4e8e\u63d0\u4f9b\u4e86\u7f16\u8bd1\u65f6\u7684\u4e00\u4e9b\u5e2e\u52a9\u51fd\u6570\u3002\\n\\n```javascript\\nimport * as helpers from \'@babel/helpers\';\\nimport * as t from \'@babel/types\';\\n\\nconst typeofHelper = helpers.get(\'typeof\');\\n\\nt.isExpressionStatement(typeofHelper);\\n// true\\n```","isLeaf":true},{"key":"/Babel/02-Babel API/04 @babel parser.md","path":"/Babel/02-Babel API/04 @babel parser.md","route":"/Babel/02-Babel API/04 @babel parser.md","leaf":true,"title":"04 @babel parser","depth":2,"content":"---\\ntitle: 04 @babel parser\\ntags: Babel\\n---\\n\\n## 1\u3001@babel/parser \u662f\u4ec0\u4e48\\n\\n@babel/parser \u4e3b\u8981\u7684\u4efb\u52a1\u662f\u5c06\u6e90\u4ee3\u7801\u751f\u6210AST\u62bd\u8c61\u8bed\u6cd5\u6811\u3002\u6309\u7167\u5b98\u7f51\u7684\u4ecb\u7ecd\uff0c@babel/parser \u5e94\u8be5\u5728 [acorn](https://github.com/marijnh/acorn)\xa0\u548c\xa0[acorn-jsx](https://github.com/RReverser/acorn-jsx) \u7684\u57fa\u7840\u4e0a\u5f00\u53d1\u7684\uff0c\u867d\u7136 @babel/parser \u7684\u6e90\u7801\u6ca1\u6709\u4f9d\u8d56 acorn \u6a21\u5757\uff0c\u5176\u4e2d acorn \u4e3b\u8981\u5305\u542b\u4ee5\u4e0b3\u4e2a\u6a21\u5757\uff1a\\n\\n> - [acorn](https://github.com/acornjs/acorn/blob/master/acorn/): The main parser \u4e3b\u8981\u7684\u89e3\u91ca\u5668\\n> - [acorn-loose](https://github.com/acornjs/acorn/blob/master/acorn-loose/): The error-tolerant parser \u9519\u8bef\u5904\u7406\\n> - [acorn-walk](https://github.com/acornjs/acorn/blob/master/acorn-walk/): The syntax tree walker \u8bed\u6cd5\u6811\u7684\u904d\u5386\\n\\n## 2\u3001@babel/parser \u6e90\u7801\u5b9a\u4e49\\n\\n\u5728 @babel/parser \u7684 d.ts \u6587\u4ef6\u53ef\u4ee5\u770b\u5230\uff0c\u5b83\u53ea\u63d0\u4f9b\u4e86\u4e24\u4e2a\u65b9\u6cd5\uff1a\\n![20230608023126](http://s3.airtlab.com/blog/20230608023126.png)\\n\\n```typescript\\n/**\\n * Parse the provided code as an entire ECMAScript program.\\n * \u89e3\u6790\u5b8c\u6574\u7684 ECMAScript \u7a0b\u5e8f\\n */\\nexport function parse(input: string, options?: ParserOptions): import(\'@babel/types\').File;\\n\\n/**\\n * Parse the provided code as a single expression.\\n * \u4ec5\u4ec5\u89e3\u6790 ECMAScript \u8868\u8fbe\u5f0f\\n */\\nexport function parseExpression(input: string, options?: ParserOptions): import(\'@babel/types\').Expression;\\n```\\n\\n\u9664\u6b64\u4e4b\u5916\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b type\uff1a\\n\\n- ParserOptions\\n- ParserPlugin\\n- ParserPluginWithOptions\\n- DecoratorsPluginOptions\\n- PipelineOperatorPluginOptions\\n- FlowPluginOptions <a name=\\"zJB8k\\"></a>\\n\\n## 3\u3001API\\n\\n### 3.1\u3001parse(code, \\\\[options])\\n\\n\u89e3\u6790\u5b8c\u6574\u7684 ECMAScript \u7a0b\u5e8f\\n\\n```typescript\\nconst parser = require(\'@babel/parser\');\\n// console.log(parser.parse(\'const name = 123\'))\\nconsole.log(JSON.stringify(parser.parse(\'const name = 123\')))\\n```\\n\\n\u89e3\u6790\u540e\u7684\u8bed\u6cd5\u6811\u4e3a\uff1a\\n\\n```javascript\\n{\\n\\t\\"type\\": \\"File\\",\\n\\t\\"start\\": 0,\\n\\t\\"end\\": 16,\\n\\t\\"loc\\": {\\n\\t\\t\\"start\\": {\\n\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\"column\\": 0\\n\\t\\t},\\n\\t\\t\\"end\\": {\\n\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\"column\\": 16\\n\\t\\t}\\n\\t},\\n\\t\\"errors\\": [],\\n\\t\\"program\\": {\\n\\t\\t\\"type\\": \\"Program\\",\\n\\t\\t\\"start\\": 0,\\n\\t\\t\\"end\\": 16,\\n\\t\\t\\"loc\\": {\\n\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\"column\\": 0\\n\\t\\t\\t},\\n\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\"column\\": 16\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t\\"sourceType\\": \\"script\\",\\n\\t\\t\\"interpreter\\": null,\\n\\t\\t\\"body\\": [{\\n\\t\\t\\t\\"type\\": \\"VariableDeclaration\\",\\n\\t\\t\\t\\"start\\": 0,\\n\\t\\t\\t\\"end\\": 16,\\n\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\"column\\": 0\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\"column\\": 16\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\t\\t\\t\\"declarations\\": [{\\n\\t\\t\\t\\t\\"type\\": \\"VariableDeclarator\\",\\n\\t\\t\\t\\t\\"start\\": 6,\\n\\t\\t\\t\\t\\"end\\": 16,\\n\\t\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\"column\\": 6\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\"column\\": 16\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\"id\\": {\\n\\t\\t\\t\\t\\t\\"type\\": \\"Identifier\\",\\n\\t\\t\\t\\t\\t\\"start\\": 6,\\n\\t\\t\\t\\t\\t\\"end\\": 10,\\n\\t\\t\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 6\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 10\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\"identifierName\\": \\"name\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"name\\": \\"name\\"\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\"init\\": {\\n\\t\\t\\t\\t\\t\\"type\\": \\"NumericLiteral\\",\\n\\t\\t\\t\\t\\t\\"start\\": 13,\\n\\t\\t\\t\\t\\t\\"end\\": 16,\\n\\t\\t\\t\\t\\t\\"loc\\": {\\n\\t\\t\\t\\t\\t\\t\\"start\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 13\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\"end\\": {\\n\\t\\t\\t\\t\\t\\t\\t\\"line\\": 1,\\n\\t\\t\\t\\t\\t\\t\\t\\"column\\": 16\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"extra\\": {\\n\\t\\t\\t\\t\\t\\t\\"rawValue\\": 123,\\n\\t\\t\\t\\t\\t\\t\\"raw\\": \\"123\\"\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\"value\\": 123\\n\\t\\t\\t\\t}\\n\\t\\t\\t}],\\n\\t\\t\\t\\"kind\\": \\"const\\"\\n\\t\\t}],\\n\\t\\t\\"directives\\": []\\n\\t},\\n\\t\\"comments\\": []\\n}\\n```\\n\\n### 3.2\u3001parseExpression(code, \\\\[options])\\n\\n\u4ec5\u4ec5\u89e3\u6790 ECMAScript \u8868\u8fbe\u5f0f\\n\\n### 3.3\u3001options\\n\\n- allowImportExportEverywhere\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cimport \u5e76 export \u58f0\u660e\u53ea\u80fd\u51fa\u73b0\u5728\u4e00\u4e2a\u7a0b\u5e8f\u7684 top level scope\u3002\u5c06\u6b64\u9009\u9879\u8bbe\u7f6e\u4e3atrue\u5141\u8bb8\u5728\u4efb\u4f55\u4f4d\u7f6e\u4f7f\u7528\u3002\\n- allowAwaitOutsideFunction\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cawait \u4ec5\u5141\u8bb8\u5728\u5f02\u6b65\u51fd\u6570\u5185\u90e8\u4f7f\u7528\uff0c\u6216\u8005\u5f53 topLevelAwait \u63d2\u4ef6\u88ab\u542f\u7528\u540e\uff0c\u5728\u6a21\u5757\u7684 top level scope \u5185\u4f7f\u7528\u3002\u5c06\u5176\u8bbe\u7f6e\u4e3a true\uff0c\u5219\u5728\u811a\u672c\u7684 top-level scope \u5185\u53ef\u4f7f\u7528\u3002\\n- allowReturnOutsideFunction\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u9876\u5c42\u7684 return \u8bed\u53e5\u4f1a\u5f15\u53d1\u9519\u8bef\u3002\u8bbe\u7f6e true \u4e3a\u63a5\u53d7\u8fd9\u6837\u7684\u4ee3\u7801\u3002\\n\\n\u4e0b\u9762\u7684\u4ee3\u7801\u5c06\u4f1a\u5f15\u53d1\u9519\u8bef\uff1a\\n\\n```typescript\\nconst parser = require(\'@babel/parser\');\\n// console.log(JSON.stringify(parser.parse(\'const name = 123\')))\\n\\nconsole.log(JSON.stringify(parser.parse(\'return 6\', {\\n  allowReturnOutsideFunction: false\\n})))\\n```\\n\\n![20230608023157](http://s3.airtlab.com/blog/20230608023157.png)\\n\\n\u8bbe\u7f6e allowReturnOutsideFunction \u4e3a true\uff0c\u5c06\u4e0d\u4f1a\u62a5\u9519\u3002\\n\\n- **allowSuperOutsideMethod**\\n\\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0csuper \u4e0d\u5141\u8bb8\u5728\u7c7b\u548c\u5bf9\u8c61\u65b9\u6cd5\u4e4b\u5916\u4f7f\u7528\uff0c\u8bbe\u7f6e true \u4e3a\u63a5\u53d7\u8fd9\u6837\u7684\u4ee3\u7801\\n\\n- **allowUndeclaredExports**\\n\\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5bfc\u51fa\u5728\u5f53\u524d\u6a21\u5757\u4f5c\u7528\u57df\u4e2d\u672a\u58f0\u660e\u7684\u6807\u8bc6\u7b26\u5c06\u5f15\u53d1\u9519\u8bef\u3002\u5c3d\u7ba1 ECMAScript \u6a21\u5757\u89c4\u8303\u8981\u6c42\u6b64\u884c\u4e3a\uff0c\u4f46Babel \u7684\u89e3\u6790\u5668\u65e0\u6cd5\u5728\u4ee5\u540e\u53ef\u80fd\u4f1a\u63d2\u5165\u9002\u5f53\u58f0\u660e\u7684\u63d2\u4ef6\u7ba1\u9053\u4e2d\u9884\u671f\u8f6c\u6362\uff0c\u56e0\u6b64\u6709\u65f6\u8bbe\u7f6e\u6b64\u9009\u9879`true`\u4ee5\u9632\u6b62\u89e3\u6790\u5668\u8fc7\u65e9\u5730\u629b\u51fa\u5f02\u5e38\u672a\u58f0\u660e\u7684\u5bfc\u51fa\u4f1a\u5f88\u91cd\u8981\u3002\\n\\n## 4\u3001Output\\n\\nBabel\u89e3\u6790\u5668\u6839\u636e [Babel AST\u683c\u5f0f](https://github.com/babel/babel/tree/master/packages/babel-parser/ast/spec.md) \u751f\u6210AST\xa0\u3002\u5b83\u57fa\u4e8e [ESTree\u89c4\u8303](https://github.com/estree/estree)\uff0c\u4f46\u5b58\u5728\u4ee5\u4e0b\u5dee\u5f02\uff1a\\n\\n![20230608023257](http://s3.airtlab.com/blog/20230608023257.png)\\n\\n## 5\u3001Plugins\\n### 5.1\u3001\u8bed\u8a00\u63d2\u4ef6\\n\\n| Name | Code Example |\\n| --- | --- |\\n| `flow`\\n&#x20;([repo](https://github.com/facebook/flow)) | `var a: string = \\"\\";` |\\n| `flowComments`\\n&#x20;([docs](https://flow.org/en/docs/types/comments/)) | `/*:: type Foo = {...}; */` |\\n| `jsx`\\n&#x20;([repo](https://facebook.github.io/jsx/)) | `<a attr=\\"b\\">{s}</a>` |\\n| `typescript`\\n&#x20;([repo](https://github.com/Microsoft/TypeScript)) | `var a: string = \\"\\";` |\\n| `v8intrinsic` | `%DebugPrint(foo);` |\\n\\n\\n### 5.2\u3001ECMAScript [proposals](https://github.com/babel/proposals)\\n\\n| Name | Code Example |\\n| --- | --- |\\n| `asyncGenerators`\\n&#x20;([proposal](https://github.com/tc39/proposal-async-iteration)) | `async function*() {}`\\n, `for await (let a of b) {}` |\\n| `bigInt`\\n&#x20;([proposal](https://github.com/tc39/proposal-bigint)) | `100n` |\\n| `classProperties`\\n&#x20;([proposal](https://github.com/tc39/proposal-class-public-fields)) | `class A { b = 1; }` |\\n| `classPrivateProperties`\\n&#x20;([proposal](https://github.com/tc39/proposal-private-fields)) | `class A { #b = 1; }` |\\n| `classPrivateMethods`\\n&#x20;([proposal](https://github.com/tc39/proposal-private-methods)) | `class A { #c() {} }` |\\n| `decorators`\\n&#x20;([proposal](https://github.com/tc39/proposal-decorators))\\n`decorators-legacy` | `@a class A {}` |\\n| `doExpressions`\\n&#x20;([proposal](https://github.com/tc39/proposal-do-expressions)) | `var a = do { if (true) { \'hi\'; } };` |\\n| `dynamicImport`\\n&#x20;([proposal](https://github.com/tc39/proposal-dynamic-import)) | `import(\'./guy\').then(a)` |\\n| `exportDefaultFrom`\\n&#x20;([proposal](https://github.com/leebyron/ecmascript-export-default-from)) | `export v from \\"mod\\"` |\\n| `exportNamespaceFrom`\\n&#x20;([proposal](https://github.com/leebyron/ecmascript-export-ns-from)) | `export * as ns from \\"mod\\"` |\\n| `functionBind`\\n&#x20;([proposal](https://github.com/zenparsing/es-function-bind)) | `a::b`\\n, `::console.log` |\\n| `functionSent` | `function.sent` |\\n| `importMeta`\\n&#x20;([proposal](https://github.com/tc39/proposal-import-meta)) | `import.meta.url` |\\n| `logicalAssignment`\\n&#x20;([proposal](https://github.com/tc39/proposal-logical-assignment)) | `a &&= b` |\\n| `nullishCoalescingOperator`\\n&#x20;([proposal](https://github.com/babel/proposals/issues/14)) | `a ?? b` |\\n| `numericSeparator`\\n&#x20;([proposal](https://github.com/samuelgoto/proposal-numeric-separator)) | `1_000_000` |\\n| `objectRestSpread`\\n&#x20;([proposal](https://github.com/tc39/proposal-object-rest-spread)) | `var a = { b, ...c };` |\\n| `optionalCatchBinding`\\n&#x20;([proposal](https://github.com/babel/proposals/issues/7)) | `try {throw 0;} catch{do();}` |\\n| `optionalChaining`\\n&#x20;([proposal](https://github.com/tc39/proposal-optional-chaining)) | `a?.b` |\\n| `partialApplication`\\n&#x20;([proposal](https://github.com/babel/proposals/issues/32)) | `f(?, a)` |\\n| `pipelineOperator`\\n&#x20;([proposal](https://github.com/babel/proposals/issues/29)) | `a &#124;> b` |\\n| `throwExpressions`\\n&#x20;([proposal](https://github.com/babel/proposals/issues/23)) | `() => throw new Error(\\"\\")` |\\n| `topLevelAwait`\\n&#x20;([proposal](https://github.com/tc39/proposal-top-level-await/)) | `await promise`\\n&#x20;in modules |\\n\\n## 6\u3001sourceType\\n\\nsourceType \u53ef\u4ee5\u662f \\"module\\" \u6216\u8005 \\"script\\"\uff0c\u5b83\u8868\u793a Babylon \u5e94\u8be5\u7528\u54ea\u79cd\u6a21\u5f0f\u6765\u89e3\u6790\u3002 \\"module\\" \u5c06\u4f1a\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\u89e3\u6790\u5e76\u4e14\u5141\u8bb8\u6a21\u5757\u5b9a\u4e49\uff0c\\"script\\" \u5219\u4e0d\u4f1a\u3002\\n\\n## 7\u3001Example\\n\\n```typescript\\nrequire(\\"@babel/parser\\").parse(\\"code\\", {\\n  // parse in strict mode and allow module declarations\\n  sourceType: \\"module\\",\\n\\n  plugins: [\\n    // enable jsx and flow syntax\\n    \\"jsx\\",\\n    \\"flow\\"\\n  ]\\n});\\n```\\n\\n## 8\u3001\u53c2\u8003\u6587\u6863\\n- [1] acorn github <https://github.com/acornjs/acorn>\\n- [2] estree \u89c4\u8303 <https://github.com/estree/estree>","isLeaf":true},{"key":"/Babel/02-Babel API/05 @babel runtime.md","path":"/Babel/02-Babel API/05 @babel runtime.md","route":"/Babel/02-Babel API/05 @babel runtime.md","leaf":true,"title":"05 @babel runtime","depth":2,"content":"---\\ntitle: 05 @babel runtime\\ntags: Babel\\n---\\n\\n5\u3001@babel/runtime\\n\\n\u8be5\u5e93\u63d0\u4f9b\u4e86\u4e00\u4e9b\u8fd0\u884c\u65f6\u7684\u5e2e\u52a9\u51fd\u6570\uff0c\u907f\u514d\u4e86\u5728\u6bcf\u4e2a\u6587\u4ef6\u4e2d\u90fd\u5b9a\u4e86\u4e00\u4efd\u5e2e\u52a9\u51fd\u6570\uff0c\u800c\u7edf\u4e00\u4ece @babel/runtime \u4e2d\u5f15\u5165\u3002@babel/runtime \u4e3b\u8981\u5305\u542b \u8fd0\u884c\u65f6\u7684 helpers \u51fd\u6570 \u4ee5\u53ca regenerator runtime\u3002\\n\\nbabel-plugin-transform-runtime \u548c babel-runtime \u7684\u533a\u522b\uff1a\\n\\n- babel-plugin-transform-runtime \u5185\u90e8\u4f9d\u8d56\u4e86 babel-runtime","isLeaf":true},{"key":"/Babel/02-Babel API/06 @babel traverse.md","path":"/Babel/02-Babel API/06 @babel traverse.md","route":"/Babel/02-Babel API/06 @babel traverse.md","leaf":true,"title":"06 @babel traverse","depth":2,"content":"---\\ntitle: 06 @babel traverse\\ntags: Babel\\n---\\n\\n## \u9884\u5907\u77e5\u8bc6\\n\\n### Paths\uff08\u8def\u5f84\uff09\\n\\nAST \u901a\u5e38\u4f1a\u6709\u8bb8\u591a\u8282\u70b9\uff0c\u90a3\u4e48\u8282\u70b9\u76f4\u63a5\u5982\u4f55\u76f8\u4e92\u5173\u8054\u5462\uff1f \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u53ef\u64cd\u4f5c\u548c\u8bbf\u95ee\u7684\u5de8\u5927\u53ef\u53d8\u5bf9\u8c61\u8868\u793a\u8282\u70b9\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb\uff0c\u6216\u8005\u4e5f\u53ef\u4ee5\u7528Paths\uff08\u8def\u5f84\uff09\u6765\u7b80\u5316\u8fd9\u4ef6\u4e8b\u60c5\u3002Path \u662f\u8868\u793a\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u8fde\u63a5\u7684\u5bf9\u8c61\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6709\u4e0b\u9762\u8fd9\u6837\u4e00\u4e2a\u8282\u70b9\u53ca\u5176\u5b50\u8282\u70b9\ufe30\\n\\n```json\\n{\\n  \\"parent\\": {\\n    \\"type\\": \\"FunctionDeclaration\\",\\n    \\"id\\": {...},\\n    ....\\n  },\\n  \\"node\\": {\\n    \\"type\\": \\"Identifier\\",\\n    \\"name\\": \\"square\\"\\n  }\\n}\\n```\\n\\n\u540c\u65f6\u5b83\u8fd8\u5305\u542b\u5173\u4e8e\u8be5\u8def\u5f84\u7684\u5176\u4ed6\u5143\u6570\u636e\uff1a\\n\\n```json\\n{\\n  \\"parent\\": {...},\\n  \\"node\\": {...},\\n  \\"hub\\": {...},\\n  \\"contexts\\": [],\\n  \\"data\\": {},\\n  \\"shouldSkip\\": false,\\n  \\"shouldStop\\": false,\\n  \\"removed\\": false,\\n  \\"state\\": null,\\n  \\"opts\\": null,\\n  \\"skipKeys\\": null,\\n  \\"parentPath\\": null,\\n  \\"context\\": null,\\n  \\"container\\": null,\\n  \\"listKey\\": null,\\n  \\"inList\\": false,\\n  \\"parentKey\\": null,\\n  \\"key\\": null,\\n  \\"scope\\": null,\\n  \\"type\\": null,\\n  \\"typeAnnotation\\": null\\n}\\n```\\n\\n\u5f53\u7136\u8def\u5f84\u5bf9\u8c61\u8fd8\u5305\u542b\u6dfb\u52a0\u3001\u66f4\u65b0\u3001\u79fb\u52a8\u548c\u5220\u9664\u8282\u70b9\u6709\u5173\u7684\u5176\u4ed6\u5f88\u591a\u65b9\u6cd5\uff0c\u7a0d\u540e\u6211\u4eec\u518d\u6765\u770b\u8fd9\u4e9b\u65b9\u6cd5\u3002\u5728\u67d0\u79cd\u610f\u4e49\u4e0a\uff0c\u8def\u5f84\u662f\u4e00\u4e2a\u8282\u70b9\u5728\u6811\u4e2d\u7684\u4f4d\u7f6e\u4ee5\u53ca\u5173\u4e8e\u8be5\u8282\u70b9\u5404\u79cd\u4fe1\u606f\u7684\u54cd\u5e94\u5f0f **Reactive** \u8868\u793a\u3002 \u5f53\u4f60\u8c03\u7528\u4e00\u4e2a\u4fee\u6539\u6811\u7684\u65b9\u6cd5\u540e\uff0c\u8def\u5f84\u4fe1\u606f\u4e5f\u4f1a\u88ab\u66f4\u65b0\u3002 Babel \u5e2e\u4f60\u7ba1\u7406\u8fd9\u4e00\u5207\uff0c\u4ece\u800c\u4f7f\u5f97\u8282\u70b9\u64cd\u4f5c\u7b80\u5355\uff0c\u5c3d\u53ef\u80fd\u505a\u5230\u65e0\u72b6\u6001\u3002\\n\\n### Paths in Visitors\uff08\u8bbf\u95ee\u8005\u4e2d\u7684\u8def\u5f84\uff09\\n\\n\u5f53\u4f60\u6709\u4e00\u4e2a\xa0`Identifier()`\xa0\u6210\u5458\u65b9\u6cd5\u7684\u8bbf\u95ee\u8005\u65f6\uff0c\u4f60\u5b9e\u9645\u4e0a\u662f\u5728\u8bbf\u95ee\u8def\u5f84\u800c\u975e\u8282\u70b9\u3002 \u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u4f60\u64cd\u4f5c\u7684\u5c31\u662f\u8282\u70b9\u7684\u54cd\u5e94\u5f0f\u8868\u793a\uff08\u8bd1\u6ce8\uff1a\u5373\u8def\u5f84\uff09\u800c\u975e\u8282\u70b9\u672c\u8eab\u3002\\n\\n```json\\nconst MyVisitor = {\\n  Identifier(path) {\\n    console.log(\\"Visiting: \\" + path.node.name);\\n  }\\n};\\n```\\n\\n## Visiting \u8bbf\u95ee\\n\\n### Get the Path of Sub-Node\\n\\n\u4e3a\u4e86\u5f97\u5230\u4e00\u4e2aAST\u8282\u70b9\u7684\u5c5e\u6027\u503c\uff0c\u6211\u4eec\u4e00\u822c\u5148\u8bbf\u95ee\u5230\u8be5\u8282\u70b9\uff0c\u7136\u540e\u5229\u7528\xa0path.node.property\xa0\u65b9\u6cd5\u5373\u53ef\uff1a <a name=\\"kxNY7\\"></a>\\n\\n## \u8f6c\u6362\u64cd\u4f5c\\n\\n### \u8bbf\u95ee\\n\\n#### \u83b7\u53d6\u5b50\u8282\u70b9\u7684Path\\n\\n\u4e3a\u4e86\u5f97\u5230\u4e00\u4e2aAST\u8282\u70b9\u7684\u5c5e\u6027\u503c\uff0c\u6211\u4eec\u4e00\u822c\u5148\u8bbf\u95ee\u5230\u8be5\u8282\u70b9\uff0c\u7136\u540e\u5229\u7528 `path.node.property` \u65b9\u6cd5\u5373\u53ef\uff1a\\n\\n```javascript\\n// \u83b7\u53d6\u5b50\u8282\u70b9\u7684Path\\n// \u4e0b\u9762\u7684\u4f8b\u5b50\u904d\u5386\u6240\u6709 BinaryExpression, \u8fd9\u91cc\u53ea\u6709\u4e00\u4e2a\\n\\nimport * as parser from \\"@babel/parser\\";\\nimport traverse from \\"@babel/traverse\\";\\nimport generate from \'@babel/generator\';\\n\\nconst code = `function square(n) {\\n  return n * n;\\n}`;\\n\\nconst ast = parser.parse(code);\\n\\ntraverse(ast, {\\n  BinaryExpression(path) {\\n    console.log(path.node.left) // Identifier Node\\n    console.log(path.node.right) // Identifier Node\\n    console.log(path.node.operator) // \\"*\\"\\n  }\\n});\\n```\\n\\n#### \u68c0\u67e5\u8282\u70b9\u7684\u7c7b\u578b\\n\\n```js\\n// \u6539\u53d8\u51fd\u6570\u53c2\u6570\u7684\u4f8b\u5b50\\n\\nimport * as parser from \\"@babel/parser\\";\\nimport traverse from \\"@babel/traverse\\";\\nimport generate from \'@babel/generator\';\\nimport helpers from \'@babel/helpers\';\\nimport * as t from \'@babel/types\';\\n\\nconst code = `function square(n) {\\n  return n * fn(n);\\n}`;\\n\\nconst ast = parser.parse(code);\\n\\ntraverse(ast, {\\n  BinaryExpression(path) {\\n    // path.node.left: Identifier \u6807\u8bc6\u7b26\\n    // path.node.right: CallExpression \u51fd\u6570\u8c03\u7528\u8868\u8fbe\u5f0f\\n    if(t.isIdentifier(path.node.left)) {\\n      console.log(path.node)\\n    }\\n  }\\n});\\n```\\n\\n#### \u68c0\u67e5\u8def\u5f84\uff08Path\uff09\u7c7b\u578b\\n\\n```javascript\\nBinaryExpression(path) {\\n  if (path.get(\'left\').isIdentifier({ name: \\"n\\" })) {\\n    // ...\\n  }\\n}\\n\\n// \u76f8\u5f53\u4e8e\\nBinaryExpression(path) {\\n  if (t.isIdentifier(path.node.left, { name: \\"n\\" })) {\\n    // ...\\n  }\\n}\\n```\\n\\n#### \u68c0\u67e5\u6807\u8bc6\u7b26\uff08Identifier\uff09\u662f\u5426\u88ab\u5f15\u7528\\n\\n```javascript\\n// \u6539\u53d8\u51fd\u6570\u53c2\u6570\u7684\u4f8b\u5b50\\n\\nimport * as parser from \\"@babel/parser\\";\\nimport traverse from \\"@babel/traverse\\";\\nimport generate from \'@babel/generator\';\\nimport * as t from \'@babel/types\';\\n\\nconst code = `function square(n) {\\n  return n * n;\\n}`;\\n\\nconst ast = parser.parse(code);\\n\\ntraverse(ast, {\\n  Identifier(path) {\\n    if (path.isReferencedIdentifier()) {\\n      // console.log(path.node)\\n    }\\n  }\\n});\\n```\\n\\n## \u6f14\u793a\u4f8b\u5b50\\n\\n### \u4fee\u6539\u51fd\u6570\u53c2\u6570\\n\\n```javascript\\n// \u6539\u53d8\u51fd\u6570\u53c2\u6570\u7684\u4f8b\u5b50\\n\\nimport * as parser from \\"@babel/parser\\";\\nimport traverse from \\"@babel/traverse\\";\\nimport generate from \'@babel/generator\';\\n\\nconst code = `function square(n) {\\n  return n * n;\\n}`;\\n\\nconst ast = parser.parse(code);\\n\\ntraverse(ast, {\\n  enter(path) {\\n    if (path.isIdentifier({ name: \\"n\\" })) {\\n      path.node.name = \\"x\\";\\n    }\\n  }\\n});\\n\\nconst output = generate(ast, { /* options */ }, code);\\n\\nconsole.log(output.code);\\n\\n// function square(x) {\\n//   return x * x;\\n// }\\n```\\n","isLeaf":true},{"key":"/Babel/02-Babel API/07 @babel types.md","path":"/Babel/02-Babel API/07 @babel types.md","route":"/Babel/02-Babel API/07 @babel types.md","leaf":true,"title":"07 @babel types","depth":2,"content":"---\\ntitle: 07 @babel types\\n---\\n\\n@babel/types \u662f Babel \u7f16\u8bd1\u5668\u7684\u4e00\u4e2a\u6a21\u5757\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u7ec4\u7528\u4e8e\u5904\u7406\u548c\u64cd\u4f5c AST\uff08\u62bd\u8c61\u8bed\u6cd5\u6811\uff09\u8282\u70b9\u7684\u5de5\u5177\u51fd\u6570\u548c\u5bf9\u8c61\u3002\u5b83\u7684\u4f5c\u7528\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a\\n\\n1. AST\u8282\u70b9\u521b\u5efa\uff1a@babel/types \u63d0\u4f9b\u4e86\u591a\u4e2a\u51fd\u6570\u6765\u521b\u5efa\u4e0d\u540c\u7c7b\u578b\u7684AST\u8282\u70b9\uff0c\u4f8b\u5982Identifier\u3001ExpressionStatement\u3001FunctionDeclaration\u7b49\u3002\u8fd9\u4e9b\u51fd\u6570\u53ef\u4ee5\u5e2e\u52a9\u4f60\u65b9\u4fbf\u5730\u6784\u5efaAST\u6811\u3002\\n\\n2. AST\u8282\u70b9\u5224\u65ad\uff1a@babel/types \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684\u5224\u65ad\u51fd\u6570\uff0c\u7528\u4e8e\u68c0\u67e5\u4e00\u4e2a\u8282\u70b9\u662f\u5426\u5c5e\u4e8e\u67d0\u4e2a\u7279\u5b9a\u7684AST\u7c7b\u578b\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528isIdentifier()\u51fd\u6570\u5224\u65ad\u4e00\u4e2a\u8282\u70b9\u662f\u5426\u662f\u6807\u8bc6\u7b26\u3002\\n\\n3. AST\u8282\u70b9\u64cd\u4f5c\uff1a@babel/types \u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u65b9\u6cd5\u6765\u64cd\u4f5c\u548c\u4fee\u6539AST\u8282\u70b9\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528cloneNode()\u65b9\u6cd5\u6765\u590d\u5236\u4e00\u4e2aAST\u8282\u70b9\uff0c\u4f7f\u7528isExpressionStatement() \u65b9\u6cd5\u6765\u5224\u65ad\u4e00\u4e2a\u8282\u70b9\u662f\u5426\u662f\u8868\u8fbe\u5f0f\u8bed\u53e5\u7b49\u3002\\n\\n4. AST\u8282\u70b9\u904d\u5386\uff1a@babel/types \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684\u904d\u5386\u51fd\u6570\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5bf9AST\u6811\u8fdb\u884c\u6df1\u5ea6\u4f18\u5148\u6216\u5e7f\u5ea6\u4f18\u5148\u7684\u904d\u5386\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528traverse()\u51fd\u6570\u6765\u904d\u5386\u6574\u4e2aAST\u6811\uff0c\u5e76\u5728\u6bcf\u4e2a\u8282\u70b9\u4e0a\u6267\u884c\u81ea\u5b9a\u4e49\u7684\u64cd\u4f5c\u3002\\n\\n\u603b\u7684\u6765\u8bf4\uff0c@babel/types\u4e3aBabel\u7f16\u8bd1\u5668\u63d0\u4f9b\u4e86\u4e00\u7ec4\u7528\u4e8e\u521b\u5efa\u3001\u64cd\u4f5c\u548c\u904d\u5386AST\u8282\u70b9\u7684\u5de5\u5177\u51fd\u6570\u548c\u5bf9\u8c61\u3002\u5b83\u4f7f\u5f97\u5f00\u53d1\u8005\u53ef\u4ee5\u66f4\u65b9\u4fbf\u5730\u5904\u7406AST\uff0c\u8fdb\u800c\u5b9e\u73b0\u4ee3\u7801\u8f6c\u6362\u3001\u5206\u6790\u548c\u751f\u6210\u7b49\u5404\u79cd\u529f\u80fd\u3002\\n\\n## Identify \u6807\u8bc6\u7b26\\n\\n## Expression \u8868\u8fbe\u5f0f\\n\\n## Statement \u8bed\u53e5\\n\\n## Literal \u5b57\u9762\u91cf\\n","isLeaf":true},{"key":"/Babel/02-Babel API/08 @babel template.md","path":"/Babel/02-Babel API/08 @babel template.md","route":"/Babel/02-Babel API/08 @babel template.md","leaf":true,"title":"08 @babel template","depth":2,"content":"---\\ntitle: 08 @babel template\\n---\\n\\n- https://babeljs.io/docs/babel-template#templatesmart\\n- https://en.wikipedia.org/wiki/Quasi-quotation\\n\\n@babel/template \u662f Babel \u5185\u7f6e\u5de5\u5177\uff0c\u7528\u4e8e\u5728 JS \u4ee3\u7801\u4e2d\u6784\u5efa\u548c\u751f\u6210 AST\uff08\u62bd\u8c61\u8bed\u6cd5\u6811\uff09\u8282\u70b9\u3002\\n@babel/template \u4e3a Babel \u7f16\u8bd1\u5668\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u6d01\u3001\u7075\u6d3b\u548c\u53ef\u5b9a\u5236\u5316\u7684\u65b9\u5f0f\u6765\u64cd\u4f5c\u548c\u751f\u6210 AST \u8282\u70b9\u3002\\n\\n\u5b83\u7684\u4f5c\u7528\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a\\n\\n1. \u81ea\u52a8\u751f\u6210AST\uff1a@babel/template \u53ef\u4ee5\u901a\u8fc7\u4f20\u5165\u6a21\u677f\u5b57\u7b26\u4e32\u548c\u9009\u9879\u53c2\u6570\uff0c\u81ea\u52a8\u89e3\u6790\u5e76\u751f\u6210\u5bf9\u5e94\u7684AST\u8282\u70b9\u3002\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u624b\u52a8\u6784\u5efa\u590d\u6742\u7684AST\u7ed3\u6784\uff0c\u63d0\u9ad8\u4e86\u5f00\u53d1\u6548\u7387\u3002\\n2. \u4ee3\u7801\u751f\u6210\uff1a\u901a\u8fc7\u8c03\u7528\u6a21\u677f\u51fd\u6570\u751f\u6210\u7684AST\uff0c\u53ef\u4ee5\u5c06\u5176\u8f6c\u6362\u56deJavaScript\u4ee3\u7801\u5b57\u7b26\u4e32\u3002\u8fd9\u5728\u7f16\u5199\u4ee3\u7801\u751f\u6210\u5668\u6216\u8f6c\u6362\u5668\u65f6\u975e\u5e38\u6709\u7528\u3002\\n3. AST\u8282\u70b9\u66ff\u6362\uff1a@babel/template \u8fd8\u5141\u8bb8\u4f60\u5728\u751f\u6210AST\u8282\u70b9\u65f6\uff0c\u6839\u636e\u53d8\u91cf\u6216\u6761\u4ef6\u60c5\u51b5\u52a8\u6001\u66ff\u6362\u5176\u4e2d\u7684\u67d0\u4e9b\u90e8\u5206\u3002\u8fd9\u4f7f\u5f97\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u8981\u751f\u6210\u4e0d\u540c\u7684AST\u8282\u70b9\uff0c\u4ece\u800c\u5b9e\u73b0\u66f4\u7075\u6d3b\u7684\u4ee3\u7801\u8f6c\u6362\u3002\\n\\n## 1\u3001\u51c6\u5f15\u7528\u4ecb\u7ecd\\n\\nquasiquotes \u662f\u4e00\u79cd\u5728\u7f16\u7a0b\u8bed\u8a00\u4e2d\u5f15\u7528\u4ee3\u7801\u7247\u6bb5\u7684\u6280\u672f\u3002\u5b83\u4eec\u5141\u8bb8\u7a0b\u5e8f\u5458\u4ee5\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u6a21\u5f0f\u5339\u914d\u7684\u65b9\u5f0f\u6765\u5904\u7406\u4ee3\u7801\uff0c\u5e76\u5728\u8fd0\u884c\u65f6\u6784\u9020\u548c\u751f\u6210\u4ee3\u7801\u3002\\n\\n\u5728\u5b9e\u73b0 quasiquotes \u7684\u8fc7\u7a0b\u4e2d\uff0c\u7f16\u7a0b\u8bed\u8a00\u4f1a\u63d0\u4f9b\u4e00\u4e9b\u7279\u6b8a\u7684\u8bed\u6cd5\u6216API\uff0c\u4f7f\u5f97\u4ee3\u7801\u53ef\u4ee5\u50cf\u6570\u636e\u4e00\u6837\u8fdb\u884c\u5f15\u7528\u548c\u64cd\u4f5c\u3002\u8fd9\u4e9b quasiquotes \u901a\u5e38\u5305\u542b\u4e00\u4e2a\u6a21\u677f\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u4e00\u4e9b\u5360\u4f4d\u7b26\uff0c\u7a0b\u5e8f\u5458\u53ef\u4ee5\u5728\u9700\u8981\u7684\u65f6\u5019\u586b\u5145\u5177\u4f53\u7684\u503c\u3002\\n\\nquasiquotes \u5e7f\u6cdb\u5e94\u7528\u4e8e\u5143\u7f16\u7a0b\u3001\u5b8f\u7cfb\u7edf\u548c\u6a21\u677f\u5f15\u64ce\u7b49\u9886\u57df\u3002\u5b83\u4eec\u53ef\u4ee5\u7b80\u5316\u4ee3\u7801\u7684\u751f\u6210\u548c\u8f6c\u6362\u8fc7\u7a0b\uff0c\u4f7f\u5f97\u4ee3\u7801\u66f4\u52a0\u7075\u6d3b\u548c\u6613\u4e8e\u7ef4\u62a4\u3002\\n\\n\u4e0d\u540c\u7684\u7f16\u7a0b\u8bed\u8a00\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u5b9e\u73b0\u65b9\u5f0f\u548c\u8bed\u6cd5\u89c4\u5219\uff0c\u4f46\u603b\u4f53\u4e0a\u90fd\u65e8\u5728\u63d0\u4f9b\u4e00\u79cd\u65b9\u4fbf\u7684\u65b9\u5f0f\u6765\u5904\u7406\u4ee3\u7801\u7247\u6bb5\uff0c\u5c06\u5176\u4f5c\u4e3a\u6570\u636e\u8fdb\u884c\u64cd\u7eb5\u548c\u751f\u6210\u3002\\n\\n## 2\u3001\u51c6\u5f15\u7528\u6f14\u793a\\n\\n```typescript\\nimport template from \\"@babel/template\\";\\nimport generate from \\"@babel/generator\\";\\nimport * as t from \\"@babel/types\\";\\n\\nconst buildRequire = template(`\\n  var %%importName%% = require(%%source%%);\\n`);\\n\\nconst ast = buildRequire({\\n  importName: t.identifier(\\"myModule\\"),\\n  source: t.stringLiteral(\\"my-module\\"),\\n});\\n\\nconsole.log(generate(ast as t.Statement).code)\\n// var myModule = require(\\"my-module\\");\\n```\\n\\n\\n\\n## 3\u3001API\\n\\n### 3.1 .ast\\n\u5982\u679c\u6ca1\u6709\u4f7f\u7528\u5360\u4f4d\u7b26\uff0c\u5e76\u4e14\u60a8\u53ea\u9700\u8981\u4e00\u79cd\u7b80\u5355\u7684\u65b9\u6cd5\u5c06\u5b57\u7b26\u4e32\u89e3\u6790\u4e3a AST\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u6a21\u677f\u7684 .ast \u7248\u672c\u3002\\n\\n```js\\nconst ast = template.ast(`\\n  var myModule = require(\\"my-module\\");\\n`);\\n```\\n\\n### 3.2\\n\\n```js\\nimport template from \\"@babel/template\\";\\nimport generate from \\"@babel/generator\\";\\nimport * as t from \\"@babel/types\\";\\n\\nconst source = \\"my-module\\";\\n\\nconst fn = template`\\n  var IMPORT_NAME = require(\'${source}\');\\n`;\\n\\nconst ast = fn({\\n  IMPORT_NAME: t.identifier(\\"myModule\\"),\\n});\\n\\n// var myModule = require(\\"my-module\\");\\nconsole.log(generate(ast as t.Statement).code);\\n```","isLeaf":true}]},{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1","leaf":false,"title":"03-Babel \u63d2\u4ef6\u5f00\u53d1","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/01 \u53c2\u8003\u6587\u6863.md","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/01 \u53c2\u8003\u6587\u6863.md","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/01 \u53c2\u8003\u6587\u6863.md","leaf":true,"title":"01 \u53c2\u8003\u6587\u6863","depth":2,"content":"---\\ntitle: 01 \u53c2\u8003\u6587\u6863\\nurl: https://www.yuque.com/gaollard/ubc1q5/kiltvy\\n---\\n\\n- [\u63d2\u4ef6\u5f00\u53d1\u624b\u518c](https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md#toc-get-the-path-of-a-sub-node)\\n","isLeaf":true},{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/02 AST \u904d\u5386.md","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/02 AST \u904d\u5386.md","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/02 AST \u904d\u5386.md","leaf":true,"title":"02 AST \u904d\u5386","depth":2,"content":"---\\ntitle: 02 AST \u904d\u5386\\nurl: https://www.yuque.com/gaollard/ubc1q5/mvu0v5\\n---\\n\\n### Visitors\uff08\u8bbf\u95ee\u8005\uff09\\n\\n![20230608092029](http://s3.airtlab.com/blog/20230608092029.png)\\n\\n***\\n\\n![20230608092045](http://s3.airtlab.com/blog/20230608092045.png)\\n\\n***\\n![20230608092113](http://s3.airtlab.com/blog/20230608092113.png)\\n\\n***\\n\\n![20230608092145](http://s3.airtlab.com/blog/20230608092145.png)\\n\\n***\\n\\n![20230608092200](http://s3.airtlab.com/blog/20230608092200.png)\\n","isLeaf":true},{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/03-node.md","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/03-node.md","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/03-node.md","leaf":true,"title":"03-node","depth":2,"content":"---\\ntitle: 03 Node \u8282\u70b9\\nurl: https://www.yuque.com/gaollard/ubc1q5/vqxtr7\\n---\\n\\n### 1\u3001Node \u4ecb\u7ecd\\n\\n![20230608092219](http://s3.airtlab.com/blog/20230608092219.png)\\n\\n![20230608092257](http://s3.airtlab.com/blog/20230608092257.png)\\n\\n### 2\u3001Node \u5b9a\u4e49\\n\\n```typescript\\ninterface BaseNode {\\n  type: Node[\\"type\\"];\\n  leadingComments?: Comment[] | null;\\n  innerComments?: Comment[] | null;\\n  trailingComments?: Comment[] | null;\\n  start?: number | null;\\n  end?: number | null;\\n  loc?: SourceLocation | null;\\n  range?: [number, number];\\n  extra?: Record<string, unknown>;\\n}\\n```\\n\\n```typescript\\ndeclare type Node = AnyTypeAnnotation | ArgumentPlaceholder | ArrayExpression | ArrayPattern | ArrayTypeAnnotation | ArrowFunctionExpression | AssignmentExpression | AssignmentPattern | AwaitExpression | BigIntLiteral | BinaryExpression | BindExpression | BlockStatement | BooleanLiteral | BooleanLiteralTypeAnnotation | BooleanTypeAnnotation | BreakStatement | CallExpression | CatchClause | ClassAccessorProperty | ClassBody | ClassDeclaration | ClassExpression | ClassImplements | ClassMethod | ClassPrivateMethod | ClassPrivateProperty | ClassProperty | ConditionalExpression | ContinueStatement | DebuggerStatement | DecimalLiteral | DeclareClass | DeclareExportAllDeclaration | DeclareExportDeclaration | DeclareFunction | DeclareInterface | DeclareModule | DeclareModuleExports | DeclareOpaqueType | DeclareTypeAlias | DeclareVariable | DeclaredPredicate | Decorator | Directive | DirectiveLiteral | DoExpression | DoWhileStatement | EmptyStatement | EmptyTypeAnnotation | EnumBooleanBody | EnumBooleanMember | EnumDeclaration | EnumDefaultedMember | EnumNumberBody | EnumNumberMember | EnumStringBody | EnumStringMember | EnumSymbolBody | ExistsTypeAnnotation | ExportAllDeclaration | ExportDefaultDeclaration | ExportDefaultSpecifier | ExportNamedDeclaration | ExportNamespaceSpecifier | ExportSpecifier | ExpressionStatement | File | ForInStatement | ForOfStatement | ForStatement | FunctionDeclaration | FunctionExpression | FunctionTypeAnnotation | FunctionTypeParam | GenericTypeAnnotation | Identifier | IfStatement | Import | ImportAttribute | ImportDeclaration | ImportDefaultSpecifier | ImportNamespaceSpecifier | ImportSpecifier | IndexedAccessType | InferredPredicate | InterfaceDeclaration | InterfaceExtends | InterfaceTypeAnnotation | InterpreterDirective | IntersectionTypeAnnotation | JSXAttribute | JSXClosingElement | JSXClosingFragment | JSXElement | JSXEmptyExpression | JSXExpressionContainer | JSXFragment | JSXIdentifier | JSXMemberExpression | JSXNamespacedName | JSXOpeningElement | JSXOpeningFragment | JSXSpreadAttribute | JSXSpreadChild | JSXText | LabeledStatement | LogicalExpression | MemberExpression | MetaProperty | MixedTypeAnnotation | ModuleExpression | NewExpression | Noop | NullLiteral | NullLiteralTypeAnnotation | NullableTypeAnnotation | NumberLiteral$1 | NumberLiteralTypeAnnotation | NumberTypeAnnotation | NumericLiteral | ObjectExpression | ObjectMethod | ObjectPattern | ObjectProperty | ObjectTypeAnnotation | ObjectTypeCallProperty | ObjectTypeIndexer | ObjectTypeInternalSlot | ObjectTypeProperty | ObjectTypeSpreadProperty | OpaqueType | OptionalCallExpression | OptionalIndexedAccessType | OptionalMemberExpression | ParenthesizedExpression | PipelineBareFunction | PipelinePrimaryTopicReference | PipelineTopicExpression | Placeholder | PrivateName | Program | QualifiedTypeIdentifier | RecordExpression | RegExpLiteral | RegexLiteral$1 | RestElement | RestProperty$1 | ReturnStatement | SequenceExpression | SpreadElement | SpreadProperty$1 | StaticBlock | StringLiteral | StringLiteralTypeAnnotation | StringTypeAnnotation | Super | SwitchCase | SwitchStatement | SymbolTypeAnnotation | TSAnyKeyword | TSArrayType | TSAsExpression | TSBigIntKeyword | TSBooleanKeyword | TSCallSignatureDeclaration | TSConditionalType | TSConstructSignatureDeclaration | TSConstructorType | TSDeclareFunction | TSDeclareMethod | TSEnumDeclaration | TSEnumMember | TSExportAssignment | TSExpressionWithTypeArguments | TSExternalModuleReference | TSFunctionType | TSImportEqualsDeclaration | TSImportType | TSIndexSignature | TSIndexedAccessType | TSInferType | TSInstantiationExpression | TSInterfaceBody | TSInterfaceDeclaration | TSIntersectionType | TSIntrinsicKeyword | TSLiteralType | TSMappedType | TSMethodSignature | TSModuleBlock | TSModuleDeclaration | TSNamedTupleMember | TSNamespaceExportDeclaration | TSNeverKeyword | TSNonNullExpression | TSNullKeyword | TSNumberKeyword | TSObjectKeyword | TSOptionalType | TSParameterProperty | TSParenthesizedType | TSPropertySignature | TSQualifiedName | TSRestType | TSStringKeyword | TSSymbolKeyword | TSThisType | TSTupleType | TSTypeAliasDeclaration | TSTypeAnnotation | TSTypeAssertion | TSTypeLiteral | TSTypeOperator | TSTypeParameter | TSTypeParameterDeclaration | TSTypeParameterInstantiation | TSTypePredicate | TSTypeQuery | TSTypeReference | TSUndefinedKeyword | TSUnionType | TSUnknownKeyword | TSVoidKeyword | TaggedTemplateExpression | TemplateElement | TemplateLiteral | ThisExpression | ThisTypeAnnotation | ThrowStatement | TopicReference | TryStatement | TupleExpression | TupleTypeAnnotation | TypeAlias | TypeAnnotation | TypeCastExpression | TypeParameter | TypeParameterDeclaration | TypeParameterInstantiation | TypeofTypeAnnotation | UnaryExpression | UnionTypeAnnotation | UpdateExpression | V8IntrinsicIdentifier | VariableDeclaration | VariableDeclarator | Variance | VoidTypeAnnotation | WhileStatement | WithStatement | YieldExpression;\\n```\\n","isLeaf":true},{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/04-path.md","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/04-path.md","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/04-path.md","leaf":true,"title":"04-path","depth":2,"content":"---\\ntitle: 04 Path \u8def\u5f84\\nurl: https://www.yuque.com/gaollard/ubc1q5/yhzw27\\n---\\n\\n<a name=\\"jNaIt\\"></a>\\n\\n### 1\u3001Path \u4ecb\u7ecd\\n\\n![20230608092337](http://s3.airtlab.com/blog/20230608092337.png)\\n\\n***\\n\\n![20230608092353](http://s3.airtlab.com/blog/20230608092353.png)\\n\\n### 2\u3001Paths in Visitors\uff08\u5b58\u5728\u4e8e\u8bbf\u95ee\u8005\u4e2d\u7684\u8def\u5f84\uff09\\n\\n![20230608092412](http://s3.airtlab.com/blog/20230608092412.png)\\n\\n### 3\u3001demo \u6f14\u793a\\n\\n```javascript\\nconst fs = require(\'fs\');\\nconst babel = require(\\"@babel/core\\");\\n\\nconst MyVisitor = {\\n  Identifier(path) {\\n    console.log(\\"Visiting: \\" + path.node.name);\\n  }\\n};\\n\\nfunction MyPlugin() {\\n  return {\\n    visitor: MyVisitor\\n  }\\n}\\n\\nvar res = babel.transformSync(\\"var code = 1; var fn = () => {}\\", {\\n  ast: true,\\n  plugins: [\\n    require(\'@babel/plugin-transform-arrow-functions\'),\\n    MyPlugin\\n  ]\\n});\\n\\nconsole.log(res.code);\\n```\\n","isLeaf":true},{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/05-binding.md","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/05-binding.md","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/05-binding.md","leaf":true,"title":"05-binding","depth":2,"content":"---\\ntitle: 05 Bindings\uff08\u7ed1\u5b9a\uff09\\nurl: https://www.yuque.com/gaollard/ubc1q5/rw3qxv\\n---\\n\\n\u4e00\u4e2a\u4f5c\u7528\u57df\u53ef\u4ee5\u521b\u5efa\u53d8\u91cf\uff0c\u8fd9\u79cd\u5173\u7cfb\u88ab\u79f0\u4e3a\u7ed1\u5b9a\u3002\\n\\n```typescript\\nfunction scopeOnce() {\\n  var ref = \\"This is a binding\\";\\n\\n  ref; // This is a reference to a binding\\n\\n  function scopeTwo() {\\n    ref; // This is a reference to a binding from a lower scope\\n  }\\n}\\n```\\n\\n## 1\u3001Binding \u7684\u5b9a\u4e49\\n\\n```typescript\\nexport type BindingKind = \'var\' | \'let\' | \'const\' | \'module\' | \'hoisted\' | \'param\' | \'local\' | \'unknown\';\\n\\nexport class Binding {\\n    constructor(opts: { identifier: t.Identifier; scope: Scope; path: NodePath; kind: BindingKind });\\n    identifier: t.Identifier;\\n    scope: Scope;\\n    path: NodePath;\\n    kind: BindingKind;\\n    referenced: boolean;            // \u662f\u5426\u88ab\u5f15\u7528\\n    references: number;             // \u88ab\u5f15\u7528\u6b21\u6570\\n    referencePaths: NodePath[];     // \u88ab\u5f15\u7528\u7684\u8def\u5f84\\n    constant: boolean;              // \u662f\u5426\u88ab\u4fee\u6539\\n    constantViolations: NodePath[];\\n    hasDeoptedValue?: boolean;\\n    hasValue?: boolean;\\n    value?: any;\\n\\n    deopValue(): void;\\n    setValue(value: any): void;\\n    clearValue(): void;\\n\\n    reassign(path: NodePath): void;\\n    reference(path: NodePath): void;\\n    dereference(): void;\\n}\\n```\\n\\n\u6709\u4e86\u8fd9\u4e9b\u4fe1\u606f\u4f60\u5c31\u53ef\u4ee5\u67e5\u627e\u4e00\u4e2a\u7ed1\u5b9a\u7684\u6240\u6709\u5f15\u7528\uff0c\u5e76\u4e14\u77e5\u9053\u8fd9\u662f\u4ec0\u4e48\u7c7b\u578b\u7684\u7ed1\u5b9a(\u53c2\u6570\uff0c\u5b9a\u4e49\u7b49\u7b49)\uff0c\u67e5\u627e\u5b83\u6240\u5c5e\u7684\u4f5c\u7528\u57df\uff0c\u6216\u8005\u62f7\u8d1d\u5b83\u7684\u6807\u8bc6\u7b26\u3002 \u4f60\u751a\u81f3\u53ef\u4ee5\u77e5\u9053\u5b83\u662f\u4e0d\u662f\u5e38\u91cf\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u4e48\u662f\u54ea\u4e2a\u8def\u5f84\u4fee\u6539\u4e86\u5b83\u3002 <a name=\\"I31IK\\"></a>\\n\\n## 2\u3001\u4ee3\u7801\u8f85\u52a9\u7406\u89e3\\n\\n### 1. \u5f15\u7528\u6b21\u6570 \\\\[references]\\n\\n```typescript\\nfunction test1() {\\n  var a = 10;\\n  console.log(a);\\n}\\n```\\n\\n```typescript\\nbindings: [Object: null prototype] {\\n  a: Binding {\\n    identifier: [Node],\\n    scope: [Circular],\\n    path: [NodePath],\\n    kind: \'var\',\\n    constantViolations: [],\\n    constant: true,\\n    referencePaths: [Array],\\n    referenced: true,\\n    references: 1,\\n    hasDeoptedValue: false,\\n    hasValue: false,\\n    value: null\\n  }\\n}\\n```\\n\\n### 2. \u7ed1\u5b9a\u662f\u5426\u662f\u5e38\u91cf \\\\[constant]\\n\\na \u6ca1\u6709\u4fee\u6539\uff1a\\n\\n```typescript\\nfunction test1() {\\n  var a = 10;\\n  console.log(a);\\n}\\n```\\n\\n```typescript\\nbindings: [Object: null prototype] {\\n  a: Binding {\\n    identifier: [Node],\\n    scope: [Circular],\\n    path: [NodePath],\\n    kind: \'var\',\\n    constantViolations: [],\\n    constant: true,\\n    referencePaths: [Array],\\n    referenced: true,\\n    references: 1,\\n    hasDeoptedValue: false,\\n    hasValue: false,\\n    value: null\\n  }\\n}\\n```\\n\\na \u6709\u88ab\u4fee\u6539\uff1a\\n\\n```typescript\\nfunction test1() {\\n  var a = 10;\\n  a = 20;\\n  console.log(a);\\n}\\n```\\n\\n```typescript\\nBinding {\\n  identifier: Node {\\n    type: \'Identifier\',\\n    start: 26,\\n    end: 27,\\n    loc: SourceLocation {\\n      start: [Position],\\n      end: [Position],\\n      filename: undefined,\\n      identifierName: \'a\'\\n    },\\n    name: \'a\'\\n  },\\n  scope: Scope {\\n    uid: 1,\\n    path: NodePath {\\n      contexts: [Array],\\n      state: undefined,\\n      opts: [Object],\\n      _traverseFlags: 0,\\n      skipKeys: null,\\n      parentPath: [NodePath],\\n      container: [Array],\\n      listKey: \'body\',\\n      key: 0,\\n      node: [Node],\\n      type: \'FunctionDeclaration\',\\n      parent: [Node],\\n      hub: undefined,\\n      data: null,\\n      context: [TraversalContext],\\n      scope: [Circular]\\n    },\\n    block: Node {\\n      type: \'FunctionDeclaration\',\\n      start: 1,\\n      end: 63,\\n      loc: [SourceLocation],\\n      id: [Node],\\n      generator: false,\\n      async: false,\\n      params: [],\\n      body: [Node]\\n    },\\n    labels: Map {},\\n    inited: true,\\n    bindings: [Object: null prototype] { a: [Circular] },\\n    references: [Object: null prototype] {},\\n    globals: [Object: null prototype] {},\\n    uids: [Object: null prototype] {},\\n    data: [Object: null prototype] {},\\n    crawling: undefined\\n  },\\n  path: NodePath {\\n    contexts: [],\\n    state: {\\n      references: [Array],\\n      constantViolations: [],\\n      assignments: [Array]\\n    },\\n    opts: {\\n      ForStatement: [Object],\\n      ImportDeclaration: [Object],\\n      LabeledStatement: [Object],\\n      AssignmentExpression: [Object],\\n      UpdateExpression: [Object],\\n      UnaryExpression: [Object],\\n      CatchClause: [Object],\\n      ClassExpression: [Object],\\n      _exploded: true,\\n      _verified: true,\\n      Identifier: [Object],\\n      JSXIdentifier: [Object],\\n      enter: [Array],\\n      FunctionDeclaration: [Object],\\n      VariableDeclaration: [Object],\\n      ClassDeclaration: [Object],\\n      ExportAllDeclaration: [Object],\\n      ExportDefaultDeclaration: [Object],\\n      ExportNamedDeclaration: [Object],\\n      DeclareClass: [Object],\\n      DeclareFunction: [Object],\\n      DeclareInterface: [Object],\\n      DeclareModule: [Object],\\n      DeclareModuleExports: [Object],\\n      DeclareTypeAlias: [Object],\\n      DeclareOpaqueType: [Object],\\n      DeclareVariable: [Object],\\n      DeclareExportDeclaration: [Object],\\n      DeclareExportAllDeclaration: [Object],\\n      InterfaceDeclaration: [Object],\\n      OpaqueType: [Object],\\n      TypeAlias: [Object],\\n      EnumDeclaration: [Object],\\n      TSDeclareFunction: [Object],\\n      TSInterfaceDeclaration: [Object],\\n      TSTypeAliasDeclaration: [Object],\\n      TSEnumDeclaration: [Object],\\n      TSModuleDeclaration: [Object],\\n      ForInStatement: [Object],\\n      ForOfStatement: [Object],\\n      FunctionExpression: [Object],\\n      ObjectMethod: [Object],\\n      ArrowFunctionExpression: [Object],\\n      ClassMethod: [Object],\\n      ClassPrivateMethod: [Object]\\n    },\\n    _traverseFlags: 0,\\n    skipKeys: null,\\n    parentPath: NodePath {\\n      contexts: [],\\n      state: [Object],\\n      opts: [Object],\\n      _traverseFlags: 0,\\n      skipKeys: null,\\n      parentPath: [NodePath],\\n      container: [Array],\\n      listKey: \'body\',\\n      key: 0,\\n      node: [Node],\\n      type: \'VariableDeclaration\',\\n      parent: [Node],\\n      hub: undefined,\\n      data: null,\\n      context: [TraversalContext],\\n      scope: [Scope]\\n    },\\n    container: [ [Node] ],\\n    listKey: \'declarations\',\\n    key: 0,\\n    node: Node {\\n      type: \'VariableDeclarator\',\\n      start: 26,\\n      end: 32,\\n      loc: [SourceLocation],\\n      id: [Node],\\n      init: [Node]\\n    },\\n    type: \'VariableDeclarator\',\\n    parent: Node {\\n      type: \'VariableDeclaration\',\\n      start: 22,\\n      end: 33,\\n      loc: [SourceLocation],\\n      declarations: [Array],\\n      kind: \'var\'\\n    },\\n    hub: undefined,\\n    data: null,\\n    context: TraversalContext {\\n      queue: null,\\n      priorityQueue: [],\\n      parentPath: [NodePath],\\n      scope: [Scope],\\n      state: [Object],\\n      opts: [Object]\\n    },\\n    scope: Scope {\\n      uid: 1,\\n      path: [NodePath],\\n      block: [Node],\\n      labels: Map {},\\n      inited: true,\\n      bindings: [Object: null prototype],\\n      references: [Object: null prototype] {},\\n      globals: [Object: null prototype] {},\\n      uids: [Object: null prototype] {},\\n      data: [Object: null prototype] {},\\n      crawling: undefined\\n    }\\n  },\\n  kind: \'var\',\\n  constantViolations: [\\n    NodePath {\\n      contexts: [],\\n      state: [Object],\\n      opts: [Object],\\n      _traverseFlags: 0,\\n      skipKeys: null,\\n      parentPath: [NodePath],\\n      container: [Node],\\n      listKey: undefined,\\n      key: \'expression\',\\n      node: [Node],\\n      type: \'AssignmentExpression\',\\n      parent: [Node],\\n      hub: undefined,\\n      data: null,\\n      context: [TraversalContext],\\n      scope: [Scope]\\n    }\\n  ],\\n  constant: false,\\n  referencePaths: [\\n    NodePath {\\n      contexts: [],\\n      state: [Object],\\n      opts: [Object],\\n      _traverseFlags: 0,\\n      skipKeys: null,\\n      parentPath: [NodePath],\\n      container: [Array],\\n      listKey: \'arguments\',\\n      key: 0,\\n      node: [Node],\\n      type: \'Identifier\',\\n      parent: [Node],\\n      hub: undefined,\\n      data: null,\\n      context: [TraversalContext],\\n      scope: [Scope]\\n    }\\n  ],\\n  referenced: true,\\n  references: 1,\\n  hasDeoptedValue: false,\\n  hasValue: false,\\n  value: null\\n}\\n\\n```\\n\\n### 3. \u53ea\u6709 \u53d8\u91cf\u5b9a\u4e49 \u548c \u51fd\u6570\u5b9a\u4e49 \u62e5\u6709 binding\\n\\n```typescript\\nlet binding = scope.getBinding(name);\\n// \u4f8b\u5982: var a = 123; \u8fd9\u91cc\u7684 a \u5c31\u62e5\u6709 binding\u3002\\n\\nfunction test(a,b,c) {};\\n// \u51fd\u6570\u540dtest\u4ee5\u53ca\u5f62\u53c2a\uff0cb\uff0cc\u5747\u62e5\u6709 binding\u3002\\n```\\n\\n### 4. binding.path\\n\\n\u7528\u4e8e\u5b9a\u4f4d\u521d\u59cb\u62e5\u6709binding\u7684path; <a name=\\"hn5qZ\\"></a>\\n\\n### 5. binding.referenced\\n\\n\u7528\u4e8e\u5224\u65ad\u5f53\u524d\u53d8\u91cf\u662f\u5426\u88ab\u5f15\u7528\uff0ctrue\u8868\u793a\u4ee3\u7801\u4e0b\u9762\u6709\u5f15\u7528\u8be5\u53d8\u91cf\u7684\u5730\u65b9\uff0cfalse\u8868\u793a\u6ca1\u6709\u5730\u65b9\u5f15\u7528\u8be5\u53d8\u91cf\u3002\u6ce8\u610f\uff0c\u5f15\u7528\u548c\u6539\u53d8\u662f\u5206\u5f00\u7684\u3002 <a name=\\"Y9Wns\\"></a>\\n\\n### 6. binding.referencePaths\\n\\n\u5b83\u662f\u4e00\u4e2aArray\u7c7b\u578b\uff0c\u5305\u542b\u6240\u6709\u5f15\u7528\u7684path\uff0c\u591a\u7528\u4e8e\u66ff\u6362\u3002\\n\\n### 7. binding.constantViolations\\n\\n\u5b83\u662f\u4e00\u4e2aArray\u7c7b\u578b\uff0c\u5305\u542b\u6240\u6709\u6539\u53d8\u7684path\uff0c\u591a\u7528\u4e8e\u5224\u65ad\u3002\\n","isLeaf":true},{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/06-scope.md","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/06-scope.md","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/06-scope.md","leaf":true,"title":"06-scope","depth":2,"content":"---\\ntitle: 06 Scopes\uff08\u4f5c\u7528\u57df\uff09\\nurl: https://www.yuque.com/gaollard/ubc1q5/wt5qg7\\n---\\n\\n## 1\u3001Scope \u4ecb\u7ecd\\n\\n\u63a5\u4e0b\u6765\u8ba9\u6211\u4eec\u4ecb\u7ecd [\u4f5c\u7528\u57df\uff08scope\uff09](https://en.wikipedia.org/wiki/Scope_\\\\(computer_science\\\\))\u7684\u6982\u5ff5\u3002 JavaScript \u652f\u6301[\u8bcd\u6cd5\u4f5c\u7528\u57df](https://en.wikipedia.org/wiki/Scope_\\\\(computer_science\\\\)#Lexical_scoping_vs._dynamic_scoping)\uff0c\u5728\u6811\u72b6\u5d4c\u5957\u7ed3\u6784\u4e2d\u4ee3\u7801\u5757\u521b\u5efa\u51fa\u65b0\u7684\u4f5c\u7528\u57df\u3002\\n\\n```javascript\\n// global scope\\n\\nfunction scopeOne() {\\n  // scope 1\\n  function scopeTwo() {\\n    // scope 2\\n  }\\n}\\n```\\n\\n\u5728 JavaScript \u4e2d\uff0c\u6bcf\u5f53\u4f60\u521b\u5efa\u4e86\u4e00\u4e2a\u5f15\u7528\uff0c\u4e0d\u7ba1\u662f\u901a\u8fc7\u53d8\u91cf\uff08variable\uff09\u3001\u51fd\u6570\uff08function\uff09\u3001\u7c7b\u578b\uff08class\uff09\u3001\u53c2\u6570\uff08params\uff09\u3001\u6a21\u5757\u5bfc\u5165\uff08import\uff09\u8fd8\u662f\u6807\u7b7e\uff08label\uff09\u7b49\uff0c\u5b83\u90fd\u5c5e\u4e8e\u5f53\u524d\u4f5c\u7528\u57df\u3002\\n\\n```javascript\\nvar global = \\"I am in the global scope\\";\\n\\nfunction scopeOne() {\\n  var one = \\"I am in the scope created by `scopeOne()`\\";\\n\\n  function scopeTwo() {\\n    var two = \\"I am in the scope created by `scopeTwo()`\\";\\n  }\\n}\\n```\\n\\n\u66f4\u6df1\u7684\u5185\u90e8\u4f5c\u7528\u57df\u4ee3\u7801\u53ef\u4ee5\u4f7f\u7528\u5916\u5c42\u4f5c\u7528\u57df\u4e2d\u7684\u5f15\u7528\u3002\\n\\n```javascript\\nfunction scopeOne() {\\n  var one = \\"I am in the scope created by `scopeOne()`\\";\\n\\n  function scopeTwo() {\\n    one = \\"I am updating the reference in `scopeOne` inside `scopeTwo`\\";\\n  }\\n}\\n```\\n\\n\u5185\u5c42\u4f5c\u7528\u57df\u4e5f\u53ef\u4ee5\u521b\u5efa\u548c\u5916\u5c42\u4f5c\u7528\u57df\u540c\u540d\u7684\u5f15\u7528\u3002\\n\\n```javascript\\nfunction scopeOne() {\\n  var one = \\"I am in the scope created by `scopeOne()`\\";\\n\\n  function scopeTwo() {\\n    var one = \\"I am creating a new `one` but leaving reference in `scopeOne()` alone.\\";\\n  }\\n}\\n```\\n\\n\u5f53\u7f16\u5199\u4e00\u4e2a\u8f6c\u6362\u65f6\uff0c\u5fc5\u987b\u5c0f\u5fc3\u4f5c\u7528\u57df\u3002\u6211\u4eec\u5f97\u786e\u4fdd\u5728\u6539\u53d8\u4ee3\u7801\u7684\u5404\u4e2a\u90e8\u5206\u65f6\u4e0d\u4f1a\u7834\u574f\u5df2\u7ecf\u5b58\u5728\u7684\u4ee3\u7801\u3002\\n\u6211\u4eec\u5728\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u5f15\u7528\u65f6\u9700\u8981\u786e\u4fdd\u65b0\u589e\u52a0\u7684\u5f15\u7528\u540d\u5b57\u548c\u5df2\u6709\u7684\u6240\u6709\u5f15\u7528\u4e0d\u51b2\u7a81\u3002 \u6216\u8005\u6211\u4eec\u4ec5\u4ec5\u60f3\u627e\u51fa\u4f7f\u7528\u4e00\u4e2a\u53d8\u91cf\u7684\u6240\u6709\u5f15\u7528\uff0c \u6211\u4eec\u53ea\u60f3\u5728\u7ed9\u5b9a\u7684\u4f5c\u7528\u57df\uff08Scope\uff09\u4e2d\u627e\u51fa\u8fd9\u4e9b\u5f15\u7528\u3002\\n\u4f5c\u7528\u57df\u53ef\u4ee5\u88ab\u8868\u793a\u4e3a\u5982\u4e0b\u5f62\u5f0f\uff1a\\n\\n```javascript\\n{\\n  path: path,\\n  block: path.node,\\n  parentBlock: path.parent,\\n  parent: parentScope,\\n  bindings: [...]\\n}\\n```\\n\\n\u5f53\u4f60\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4f5c\u7528\u57df\u65f6\uff0c\u9700\u8981\u7ed9\u51fa\u5b83\u7684\u8def\u5f84\u548c\u7236\u4f5c\u7528\u57df\uff0c\u4e4b\u540e\u5728\u904d\u5386\u8fc7\u7a0b\u4e2d\u5b83\u4f1a\u5728\u8be5\u4f5c\u7528\u57df\u5185\u6536\u96c6\u6240\u6709\u7684\u5f15\u7528(\u201c\u7ed1\u5b9a\u201d)\u3002\\n\u4e00\u65e6\u5f15\u7528\u6536\u96c6\u5b8c\u6bd5\uff0c\u4f60\u5c31\u53ef\u4ee5\u5728\u4f5c\u7528\u57df\uff08Scopes\uff09\u4e0a\u4f7f\u7528\u5404\u79cd\u65b9\u6cd5\uff0c\u7a0d\u540e\u6211\u4eec\u4f1a\u4e86\u89e3\u8fd9\u4e9b\u65b9\u6cd5\u3002\\n\\n## 2\u3001Scope \u5b9a\u4e49\\n\\nScope \u8868\u793a\u4f5c\u7528\u57df\\n\\n```typescript\\nexport class Scope {\\n    constructor(path: NodePath, parentScope?: Scope);\\n    path: NodePath;\\n    block: Node;\\n    parentBlock: Node;\\n    parent: Scope;\\n    hub: HubInterface;\\n    bindings: { [name: string]: Binding };\\n\\n    /** Traverse node with current scope and path. */\\n    traverse<S>(node: Node | Node[], opts: TraverseOptions<S>, state: S): void;\\n    traverse(node: Node | Node[], opts?: TraverseOptions, state?: any): void;\\n\\n    /** Generate a unique identifier and add it to the current scope. */\\n    generateDeclaredUidIdentifier(name?: string): t.Identifier;\\n\\n    /** Generate a unique identifier. */\\n    generateUidIdentifier(name?: string): t.Identifier;\\n\\n    /** Generate a unique `_id1` binding. */\\n    generateUid(name?: string): string;\\n\\n    /** Generate a unique identifier based on a node. */\\n    generateUidIdentifierBasedOnNode(parent: Node, defaultName?: string): t.Identifier;\\n\\n    /**\\n     * Determine whether evaluating the specific input `node` is a consequenceless reference. ie.\\n     * evaluating it wont result in potentially arbitrary code from being ran. The following are\\n     * whitelisted and determined not to cause side effects:\\n     *\\n     *  - `this` expressions\\n     *  - `super` expressions\\n     *  - Bound identifiers\\n     */\\n    isStatic(node: Node): boolean;\\n\\n    /** Possibly generate a memoised identifier if it is not static and has consequences. */\\n    maybeGenerateMemoised(node: Node, dontPush?: boolean): t.Identifier;\\n\\n    checkBlockScopedCollisions(local: Binding, kind: BindingKind, name: string, id: object): void;\\n\\n    rename(oldName: string, newName?: string, block?: Node): void;\\n\\n    dump(): void;\\n\\n    toArray(node: Node, i?: number): Node;\\n\\n    registerDeclaration(path: NodePath): void;\\n\\n    buildUndefinedNode(): Node;\\n\\n    registerConstantViolation(path: NodePath): void;\\n\\n    registerBinding(kind: string, path: NodePath, bindingPath?: NodePath): void;\\n\\n    addGlobal(node: Node): void;\\n\\n    hasUid(name: string): boolean;\\n\\n    hasGlobal(name: string): boolean;\\n\\n    hasReference(name: string): boolean;\\n\\n    isPure(node: Node, constantsOnly?: boolean): boolean;\\n\\n    setData(key: string, val: any): any;\\n\\n    getData(key: string): any;\\n\\n    removeData(key: string): void;\\n\\n    crawl(): void;\\n\\n    push(opts: {\\n        id: t.LVal;\\n        init?: t.Expression | undefined;\\n        unique?: boolean | undefined;\\n        kind?: \'var\' | \'let\' | \'const\' | undefined;\\n    }): void;\\n\\n    getProgramParent(): Scope;\\n\\n    getFunctionParent(): Scope | null;\\n\\n    getBlockParent(): Scope;\\n\\n    /** Walks the scope tree and gathers **all** bindings. */\\n    getAllBindings(...kinds: string[]): object;\\n\\n    bindingIdentifierEquals(name: string, node: Node): boolean;\\n\\n    getBinding(name: string): Binding | undefined;\\n\\n    getOwnBinding(name: string): Binding | undefined;\\n\\n    getBindingIdentifier(name: string): t.Identifier;\\n\\n    getOwnBindingIdentifier(name: string): t.Identifier;\\n\\n    hasOwnBinding(name: string): boolean;\\n\\n    hasBinding(name: string, noGlobals?: boolean): boolean;\\n\\n    parentHasBinding(name: string, noGlobals?: boolean): boolean;\\n\\n    /** Move a binding of `name` to another `scope`. */\\n    moveBindingTo(name: string, scope: Scope): void;\\n\\n    removeOwnBinding(name: string): void;\\n\\n    removeBinding(name: string): void;\\n}\\n\\n```\\n\\n## 3\u3001\u4ee3\u7801\u8f85\u52a9\u7406\u89e3\\n\\n### 1. \u67e5\u770b scope \u7ed3\u6784\\n\\n```typescript\\nimport * as fs from \\"fs\\";\\nimport * as path from \'path\';\\nimport * as babel from \\"@babel/core\\";\\n\\nconst code = `\\nfunction test1() {\\n  var a = 10;\\n}\\n`\\n\\nconst data = babel.parse(code, {\\n  presets: [\\"@babel/preset-typescript\\"],\\n  plugins: [\\n    [\\n      \\"@babel/plugin-proposal-decorators\\",\\n      {\\n        legacy: true,\\n      },\\n    ],\\n  ],\\n  filename: \'sss\',\\n});\\n\\n\\nbabel.traverse(data, {\\n  FunctionDeclaration(path) {\\n    console.log(path.scope)\\n  }\\n})\\n```\\n\\n```typescript\\nScope {\\n  uid: 1,\\n  path: NodePath {\\n    contexts: [ [TraversalContext] ],\\n    state: undefined,\\n    opts: { FunctionDeclaration: [Object], _exploded: true, _verified: true },\\n    _traverseFlags: 0,\\n    skipKeys: null,\\n    parentPath: NodePath {\\n      contexts: [Array],\\n      state: undefined,\\n      opts: [Object],\\n      _traverseFlags: 0,\\n      skipKeys: null,\\n      parentPath: null,\\n      container: [Node],\\n      listKey: undefined,\\n      key: \'program\',\\n      node: [Node],\\n      type: \'Program\',\\n      parent: [Node],\\n      hub: undefined,\\n      data: null,\\n      context: [TraversalContext],\\n      scope: [Scope]\\n    },\\n    container: [ [Node] ],\\n    listKey: \'body\',\\n    key: 0,\\n    node: Node {\\n      type: \'FunctionDeclaration\',\\n      start: 1,\\n      end: 35,\\n      loc: [SourceLocation],\\n      id: [Node],\\n      generator: false,\\n      async: false,\\n      params: [],\\n      body: [Node]\\n    },\\n    type: \'FunctionDeclaration\',\\n    parent: Node {\\n      type: \'Program\',\\n      start: 0,\\n      end: 36,\\n      loc: [SourceLocation],\\n      sourceType: \'module\',\\n      interpreter: null,\\n      body: [Array],\\n      directives: []\\n    },\\n    hub: undefined,\\n    data: null,\\n    context: TraversalContext {\\n      queue: [Array],\\n      priorityQueue: [],\\n      parentPath: [NodePath],\\n      scope: [Scope],\\n      state: undefined,\\n      opts: [Object]\\n    },\\n    scope: [Circular]\\n  },\\n  block: Node {\\n    type: \'FunctionDeclaration\',\\n    start: 1,\\n    end: 35,\\n    loc: SourceLocation {\\n      start: [Position],\\n      end: [Position],\\n      filename: undefined,\\n      identifierName: undefined\\n    },\\n    id: Node {\\n      type: \'Identifier\',\\n      start: 10,\\n      end: 15,\\n      loc: [SourceLocation],\\n      name: \'test1\'\\n    },\\n    generator: false,\\n    async: false,\\n    params: [],\\n    body: Node {\\n      type: \'BlockStatement\',\\n      start: 18,\\n      end: 35,\\n      loc: [SourceLocation],\\n      body: [Array],\\n      directives: []\\n    }\\n  },\\n  labels: Map {},\\n  inited: true,\\n  bindings: [Object: null prototype] {\\n    a: Binding {\\n      identifier: [Node],\\n      scope: [Circular],\\n      path: [NodePath],\\n      kind: \'var\',\\n      constantViolations: [],\\n      constant: true,\\n      referencePaths: [],\\n      referenced: false,\\n      references: 0,\\n      hasDeoptedValue: false,\\n      hasValue: false,\\n      value: null\\n    }\\n  },\\n  references: [Object: null prototype] {},\\n  globals: [Object: null prototype] {},\\n  uids: [Object: null prototype] {},\\n  data: [Object: null prototype] {},\\n  crawling: undefined\\n}\\n```\\n\\n- block  \u8be5\u4f5c\u7528\u57df\u6240\u5c5e\u7684 code block\\n- path   \u8be5\u4f5c\u7528\u57df\u6240\u5c5e\u7684 NodePath\\n- bindings  \u8be5\u4f5c\u7528\u57df\u80fd\u591f\u8bbf\u95ee\u53d8\u91cf <a name=\\"Bi4FK\\"></a>\\n\\n### 2. \u67e5\u770b binding\\n\\n```typescript\\nimport * as fs from \\"fs\\";\\nimport * as path from \'path\';\\nimport * as babel from \\"@babel/core\\";\\n\\nconst code = `\\nfunction test1() {\\n  var a = 10;\\n}\\n\\nfunction test2() {\\n  var b = 10;\\n}\\n`\\n\\nconst data = babel.parse(code, {\\n  presets: [\\"@babel/preset-typescript\\"],\\n  plugins: [\\n    [\\n      \\"@babel/plugin-proposal-decorators\\",\\n      {\\n        legacy: true,\\n      },\\n    ],\\n  ],\\n  filename: \'sss\',\\n});\\n\\n\\nbabel.traverse(data, {\\n  FunctionDeclaration(path) {\\n    if (babel.types.isIdentifier(path.node.id)) {\\n      console.log(path.node.id.name, path.scope.hasBinding(\\"a\\"))\\n    }\\n  }\\n})\\n\\n// test1 true\\n// test2 false\\n```","isLeaf":true},{"key":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/07-state.md","path":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/07-state.md","route":"/Babel/03-Babel \u63d2\u4ef6\u5f00\u53d1/07-state.md","leaf":true,"title":"07-state","depth":2,"content":"---\\ntitle: 07 State\uff08\u72b6\u6001\uff09\\nurl: https://www.yuque.com/gaollard/ubc1q5/prgac1\\n---\\n\\n\u72b6\u6001\u662f\u62bd\u8c61\u8bed\u6cd5\u6811AST\u8f6c\u6362\u7684\u654c\u4eba\uff0c\u72b6\u6001\u7ba1\u7406\u4f1a\u4e0d\u65ad\u7275\u626f\u4f60\u7684\u7cbe\u529b\uff0c\u800c\u4e14\u51e0\u4e4e\u6240\u6709\u4f60\u5bf9\u72b6\u6001\u7684\u5047\u8bbe\uff0c\u603b\u662f\u4f1a\u6709\u4e00\u4e9b\u672a\u8003\u8651\u5230\u7684\u8bed\u6cd5\u6700\u7ec8\u8bc1\u660e\u4f60\u7684\u5047\u8bbe\u662f\u9519\u8bef\u7684\u3002\\n\u8003\u8651\u4e0b\u5217\u4ee3\u7801\uff1a\\n\\n```javascript\\nfunction square(n) {\\n  return n * n;\\n}\\n```\\n\\n\u8ba9\u6211\u4eec\u5199\u4e00\u4e2a\u628a n \u91cd\u547d\u540d\u4e3a x \u7684\u8bbf\u95ee\u8005\u7684\u5feb\u901f\u5b9e\u73b0:\\n\\n```javascript\\nlet paramName;\\n\\nconst MyVisitor = {\\n  FunctionDeclaration(path) {\\n    const param = path.node.params[0];\\n    paramName = param.name;\\n    param.name = \\"x\\";\\n  },\\n\\n  Identifier(path) {\\n    if (path.node.name === paramName) {\\n      path.node.name = \\"x\\";\\n    }\\n  }\\n};\\n```\\n\\n\u5bf9\u4e0a\u9762\u7684\u4f8b\u5b50\u4ee3\u7801\u8fd9\u6bb5\u8bbf\u95ee\u8005\u4ee3\u7801\u4e5f\u8bb8\u80fd\u5de5\u4f5c\uff0c\u4f46\u5b83\u5f88\u5bb9\u6613\u88ab\u6253\u7834\uff1a\\n\\n```javascript\\nfunction square(n) {\\n  return n * n;\\n}\\nn;\\n```\\n\\n\u66f4\u597d\u7684\u5904\u7406\u65b9\u5f0f\u662f\u4f7f\u7528\u9012\u5f52\uff0c\u4e0b\u9762\u8ba9\u6211\u4eec\u6765\u50cf\u514b\u91cc\u65af\u6258\u4f5b\xb7\u8bfa\u5170\u7684\u7535\u5f71\u76d7\u68a6\u7a7a\u95f4\u90a3\u6837\u6765\u628a\u4e00\u4e2a\u8bbf\u95ee\u8005\u653e\u8fdb\u53e6\u5916\u4e00\u4e2a\u8bbf\u95ee\u8005\u91cc\u9762:\\n\\n```javascript\\nconst updateParamNameVisitor = {\\n  Identifier(path) {\\n    if (path.node.name === this.paramName) {\\n      path.node.name = \\"x\\";\\n    }\\n  }\\n};\\n\\nconst MyVisitor = {\\n  FunctionDeclaration(path) {\\n    const param = path.node.params[0];\\n    const paramName = param.name;\\n    param.name = \\"x\\";\\n\\n    path.traverse(updateParamNameVisitor, { paramName });\\n  }\\n};\\n\\npath.traverse(MyVisitor);\\n```\\n\\n\u6ce8\u610f\u4f8b\u5b50\u4e2d `path.traverse(updateParamNameVisitor, { paramName })` \u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5728 visitor \u4e2d\u901a\u8fc7 this \u53ef\u4ee5\u8bbf\u95ee\u3002\\n\\n\u8fd9\u4e2a\u4f8b\u5b50\u6f14\u793a\u4e86\u5982\u4f55\u4ece\u8bbf\u95ee\u8005\u4e2d\u6d88\u9664\u5168\u5c40\u72b6\u6001\u3002\\n","isLeaf":true}]},{"key":"/Babel/04-babel-shizhan","path":"/Babel/04-babel-shizhan","route":"/Babel/04-babel-shizhan","leaf":false,"title":"04-babel-shizhan","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Babel/04-babel-shizhan/01-how-to-traverse-jsx.md","path":"/Babel/04-babel-shizhan/01-how-to-traverse-jsx.md","route":"/Babel/04-babel-shizhan/01-how-to-traverse-jsx.md","leaf":true,"title":"01-how-to-traverse-jsx","depth":2,"content":"\u6211\u5728\u5199\u4e00\u4e2a babel \u63d2\u4ef6\uff0c\u7528\u4e8e\u7ed9\u6bcf\u4e00\u4e2a div \u6807\u7b7e\u90fd\u52a0\u4e00\u4e2a css class\u3002\u73b0\u5728\u51fa\u73b0\u4e86\u4e24\u79cd\u573a\u666f\u3002\\n\\n## 1\u3001`React.createElement(\'div\', {})`\\n\\n![20230511185255](http://s3.airtlab.com/blog/20230511185255.png)\\n\\n```js\\nmodule.exports = function (api) {\\n  api && api.cache(false);\\n  return {\\n    presets: [\\n      [\\"@babel/preset-react\\", { runtime: \\"classic\\" }],\\n    ],\\n    plugins: [\\n      // \u6ce8\u610f prefix \u4e2d\u7684\u7a7a\u683c\\n      [\\"./src/babel-plugin-change-jsx-className\\", {\\n        prefix: \'f6 \'\\n      }]\\n    ]\\n  };\\n};\\n\\n```\\n\\n```js\\nconst fs = require(\'fs\');\\nconst { Console } = require(\'console\');\\nconst logFile = process.cwd() + \'/\' + \'a.log\'\\n\\nconst std = fs.createWriteStream(logFile, { flags: \'a\' });\\nconst console = new Console(std);\\nconst types = require(\'@babel/types\');\\nlet config = {};\\n\\nmodule.exports = function (\\n  _,\\n  options = {\\n    prefix: \'\',\\n  },\\n) {\\n  config = options;\\n  return {\\n    visitor: {\\n      CallExpression,\\n      JSXElement(path) {\\n        const node = path.node;\\n        if (node.openingElement.name.name === \\"div\\") {\\n          console.log(\\"Found div:\\", node);\\n        }\\n      },\\n      BinaryExpression(path) {\\n        console.log(path.node.left); // Identifier Node\\n        console.log(path.node.right); // Identifier Node\\n        console.log(path.node.operator); // \\"*\\"\\n      },\\n    },\\n  };\\n};\\n\\nfunction CallExpression(path) {\\n  // debugger;\\n  const _this = this;\\n  const callee = path.node.callee;\\n  console.log(444, callee);\\n\\n  if (callee.type === \'MemberExpression\') {\\n    const callFn = callee.object.name + \'.\' + callee.property.name;\\n    if (callFn === \'React.createElement\') {\\n      path.skip();\\n\\n      const arg1 = path.get(\'arguments.1\');\\n\\n      if (arg1.node.type === \'NullLiteral\') {\\n        // null\\n        arg1.replaceWith(\\n          types.objectExpression([\\n            types.objectProperty(\\n              types.identifier(\'className\'),\\n              types.stringLiteral(config.prefix),\\n            ),\\n            types.objectProperty(\\n              types.identifier(\'data-code\'),\\n              types.stringLiteral(_this.filename),\\n            ),\\n          ]),\\n        );\\n      } else {\\n        // {}\\n        if (arg1.node.type === \'ObjectExpression\') {\\n          const index = arg1.node.properties.findIndex((it) => {\\n            return it.key.name === \'className\';\\n          });\\n          if (index !== -1) {\\n            const proPath = arg1.get(`properties.${index}`);\\n            proPath.node.value = types.binaryExpression(\\n              \'+\',\\n              types.StringLiteral(config.prefix),\\n              proPath.node.value,\\n            );\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n```\\n\\n```json\\n{\\n  \\"name\\": \\"f6\\",\\n  \\"version\\": \\"0.0.0\\",\\n  \\"description\\": \\"> TODO: description\\",\\n  \\"author\\": \\"gaollard <1056834607@qq.com>\\",\\n  \\"homepage\\": \\"\\",\\n  \\"license\\": \\"ISC\\",\\n  \\"main\\": \\"src/index.js\\",\\n  \\"directories\\": {\\n    \\"lib\\": \\"lib\\",\\n    \\"test\\": \\"__tests__\\"\\n  },\\n  \\"files\\": [\\n    \\"lib\\",\\n    \\"src\\"\\n  ],\\n  \\"scripts\\": {\\n    \\"test\\": \\"echo \\\\\\"Error: run tests from root\\\\\\" && exit 1\\",\\n    \\"build\\": \\"babel demo/index.js\\"\\n  },\\n  \\"dependencies\\": {\\n    \\"@babel/generator\\": \\"^7.16.5\\",\\n    \\"@babel/preset-react\\": \\"^7.16.5\\",\\n    \\"@babel/runtime\\": \\"^7.16.5\\",\\n    \\"@types/react-transition-group\\": \\"^4.4.4\\"\\n  },\\n  \\"devDependencies\\": {\\n    \\"@babel/cli\\": \\"^7.16.0\\",\\n    \\"@babel/core\\": \\"^7.16.5\\",\\n    \\"@babel/plugin-syntax-dynamic-import\\": \\"^7.0.0\\",\\n    \\"@babel/plugin-transform-modules-commonjs\\": \\"^7.16.5\\",\\n    \\"@babel/plugin-transform-object-assign\\": \\"^7.0.0\\",\\n    \\"@babel/plugin-transform-runtime\\": \\"^7.4.4\\",\\n    \\"@babel/polyfill\\": \\"^7.4.4\\",\\n    \\"@babel/preset-env\\": \\"^7.16.5\\",\\n    \\"@babel/preset-typescript\\": \\"^7.3.3\\",\\n    \\"@types/react\\": \\"^17.0.34\\",\\n    \\"@types/react-dom\\": \\"^17.0.11\\",\\n    \\"style-loader\\": \\"^3.3.1\\",\\n    \\"css-loader\\": \\"^6.5.1\\",\\n    \\"react\\": \\"^17.0.2\\",\\n    \\"react-dom\\": \\"^17.0.2\\",\\n    \\"rimraf\\": \\"^3.0.2\\",\\n    \\"typescript\\": \\"^4.4.4\\"\\n  },\\n  \\"peerDependencies\\": {\\n    \\"classnames\\": \\"^2.3.1\\",\\n    \\"react\\": \\"^17.0.2\\",\\n    \\"react-dom\\": \\"^17.0.2\\"\\n  }\\n}\\n```\\n\\n## 2\u3001_jsx(\'div\', {})\\n\\n![20230511190028](http://s3.airtlab.com/blog/20230511190028.png)\\n\\n## 3\u3001\u904d\u5386 JSXElement \u66f4\u5408\u7406\\n\\n![20230511191205](http://s3.airtlab.com/blog/20230511191205.png)","isLeaf":true},{"key":"/Babel/04-babel-shizhan/02-plugin-transform-react-jsx.md","path":"/Babel/04-babel-shizhan/02-plugin-transform-react-jsx.md","route":"/Babel/04-babel-shizhan/02-plugin-transform-react-jsx.md","leaf":true,"title":"02-plugin-transform-react-jsx","depth":2,"content":"- \u539f\u7406\\n- \u6e90\u7801\u5206\u6790","isLeaf":true},{"key":"/Babel/04-babel-shizhan/03-add-prop-to-jsx.md","path":"/Babel/04-babel-shizhan/03-add-prop-to-jsx.md","route":"/Babel/04-babel-shizhan/03-add-prop-to-jsx.md","leaf":true,"title":"03-add-prop-to-jsx","depth":2,"content":"https://www.johno.com/add-a-prop-to-jsx-elements-with-babel\\n\\n```js\\nexport default (api) => {\\n  const { types: t } = api;\\n\\n  return {\\n    visitor: {\\n      JSXOpeningElement(path) {\\n        const existingProp = path.node.attributes.find(\\n          (node) => node.name && node.name.name === \\"favoriteColor\\"\\n        );\\n\\n        if (existingProp) {\\n          existingProp.node.value.value === \\"tomato\\";\\n          return;\\n        }\\n\\n        const newProp = t.jSXAttribute(\\n          t.jSXIdentifier(\\"favoriteColor\\"),\\n          t.stringLiteral(\\"tomato\\")\\n        );\\n\\n        path.node.attributes.push(newProp);\\n      },\\n    },\\n  };\\n};\\n```\\n","isLeaf":true},{"key":"/Babel/04-babel-shizhan/04-change-jsx-className.md","path":"/Babel/04-babel-shizhan/04-change-jsx-className.md","route":"/Babel/04-babel-shizhan/04-change-jsx-className.md","leaf":true,"title":"04-change-jsx-className","depth":2,"content":"---\\ntitle: 01 change-jsx-className\\nurl: https://www.yuque.com/gaollard/ubc1q5/nafu7s\\n---\\n\\n<https://github.com/Webang/babel-plugin-change-jsx-className>\\n\\n```typescript\\nconst types = require(\\"@babel/types\\");\\nlet config = {};\\n\\nmodule.exports = function (\\n  _,\\n  options = {\\n    prefix: \\"\\",\\n  }\\n) {\\n  config = options;\\n  return {\\n    visitor: {\\n      CallExpression,\\n    },\\n  };\\n};\\n\\nfunction CallExpression(path) {\\n  const callee = path.node.callee;\\n  if (callee.type === \\"MemberExpression\\") {\\n    const callFn = callee.object.name + \\".\\" + callee.property.name;\\n    if (callFn === \\"React.createElement\\") {\\n      path.skip();\\n\\n      const arg1 = path.get(\\"arguments.1\\");\\n\\n      if (arg1.node.type === \'NullLiteral\') {\\n        // null\\n        arg1.replaceWith(types.objectExpression([\\n          types.objectProperty(types.identifier(\'className\'), types.stringLiteral(config.prefix))\\n        ]))\\n      } else {\\n        // {}\\n        if ((arg1.node.type) === \'ObjectExpression\') {\\n          const index = arg1.node.properties.findIndex(it => {\\n            return it.key.name === \'className\'\\n          });\\n          if (index !== -1) {\\n            const proPath = arg1.get(`properties.${index}`);\\n            proPath.node.value = types.binaryExpression(\\n              \\"+\\",\\n              types.StringLiteral(config.prefix),\\n              proPath.node.value\\n            );\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\\n```","isLeaf":true},{"key":"/Babel/04-babel-shizhan/05-how-comipler-typescript.md","path":"/Babel/04-babel-shizhan/05-how-comipler-typescript.md","route":"/Babel/04-babel-shizhan/05-how-comipler-typescript.md","leaf":true,"title":"05-how-comipler-typescript","depth":2,"content":"---\\ntitle: 05 \u5982\u4f55\u7f16\u8bd1 typescript\\n---\\n\\n- \u5982\u679c\u6ca1\u6709\u4f7f\u7528 Babel\uff0c\u9996\u9009 TypeScript \u81ea\u5e26\u7f16\u8bd1\u5668\uff08\u914d\u5408 ts-loader \u4f7f\u7528\uff09\\n- \u5982\u679c\u9879\u76ee\u4e2d\u6709 Babel\uff0c\u5b89\u88c5 @babel/preset-typescript\uff0c\u914d\u5408 tsc \u505a\u7c7b\u578b\u68c0\u67e5\u3002\\n\\n\u4e24\u79cd\u7f16\u8bd1\u5668\u4e0d\u8981\u6df7\u7528\u3002\u53c2\u8003 https://juejin.cn/post/6954304242093932557#heading-7","isLeaf":true},{"key":"/Babel/04-babel-shizhan/06-rename-function-param.md","path":"/Babel/04-babel-shizhan/06-rename-function-param.md","route":"/Babel/04-babel-shizhan/06-rename-function-param.md","leaf":true,"title":"06-rename-function-param","depth":2,"content":"---\\ntitle: 06 \u4fee\u6539\u51fd\u6570\u53c2\u6570\\n---\\n\\n```js\\nmodule.exports = function({ types: t }) {\\n  return {\\n    visitor: {\\n      FunctionDeclaration(path, state) {\\n        path.scope.rename(\'age\', path.scope.generateUidIdentifier(\\"age\\").name)\\n      }\\n    }\\n  }\\n}\\n```\\n\\n```js\\nmodule.exports = function({ types: t }) {\\n  return {\\n    visitor: {\\n      FunctionDeclaration(path, state) {\\n        const { replaceMap } = state.opts;\\n        const params = path.get(\'params\');\\n\\n        params.forEach((idPath) => {\\n          if (replaceMap[idPath.node.name]) {\\n            idPath.replaceWith(t.identifier(replaceMap[idPath.node.name]))\\n          }\\n        })\\n\\n        Object.keys(path.scope.bindings).forEach((name) => {\\n          const referencePaths = path.scope.bindings[name].referencePaths\\n          referencePaths.forEach((idPath) => {\\n            if (replaceMap[idPath.node.name]) {\\n              idPath.replaceWith(t.identifier(replaceMap[idPath.node.name]))\\n            }\\n          })\\n        })\\n      }\\n    }\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/Babel/04-babel-shizhan/07 \u751f\u6210 AST.md","path":"/Babel/04-babel-shizhan/07 \u751f\u6210 AST.md","route":"/Babel/04-babel-shizhan/07 \u751f\u6210 AST.md","leaf":true,"title":"07 \u751f\u6210 AST","depth":2,"content":"---\\ntitle: 07 \u751f\u6210 AST\\nurl: https://www.yuque.com/gaollard/ubc1q5/fzvnnp\\n---\\n\\n```javascript\\nconst fs = require(\'fs\');\\nconst babel = require(\\"@babel/core\\");\\n\\nvar res = babel.transformSync(\\"var code = 1; var fn = () => {}\\", {\\n  ast: true,\\n  plugins: [\\n    require(\'@babel/plugin-transform-arrow-functions\')\\n  ]\\n});\\n\\nconsole.log(res.code);\\n```","isLeaf":true},{"key":"/Babel/04-babel-shizhan/08 useBuiltIns.md","path":"/Babel/04-babel-shizhan/08 useBuiltIns.md","route":"/Babel/04-babel-shizhan/08 useBuiltIns.md","leaf":true,"title":"08 useBuiltIns","depth":2,"content":"---\\ntitle: 08 useBuiltIns \u7684\u7528\u6cd5\\nurl: https://www.yuque.com/gaollard/ubc1q5/xwfbok\\n---\\n\\n","isLeaf":true},{"key":"/Babel/04-babel-shizhan/09 \u63d2\u5165\u8282\u70b9.md","path":"/Babel/04-babel-shizhan/09 \u63d2\u5165\u8282\u70b9.md","route":"/Babel/04-babel-shizhan/09 \u63d2\u5165\u8282\u70b9.md","leaf":true,"title":"09 \u63d2\u5165\u8282\u70b9","depth":2,"content":"---\\ntitle: 09 \u63d2\u5165\u8282\u70b9\\nurl: https://www.yuque.com/gaollard/ubc1q5/sheq24\\n---\\n\\n### 1. \u63d2\u5165 Node\\n\\n### 2. \u63d2\u5165 \u5b57\u7b26\u4e32\u4ee3\u7801\\n","isLeaf":true}]},{"key":"/Babel/05-acorn","path":"/Babel/05-acorn","route":"/Babel/05-acorn","leaf":false,"title":"05-acorn","depth":1,"content":"","isLeaf":false,"children":[{"key":"/Babel/05-acorn/00.md","path":"/Babel/05-acorn/00.md","route":"/Babel/05-acorn/00.md","leaf":true,"title":"00","depth":2,"content":"---\\ntitle: acorn \u6e90\u7801\u5206\u6790\\ntags: acorn\\n---\\n\\n- AST \u5728\u7ebf <https://astexplorer.net/#/2uBU1BLuJ1>\\n","isLeaf":true},{"key":"/Babel/05-acorn/01-the-super-tiny-compiler.md","path":"/Babel/05-acorn/01-the-super-tiny-compiler.md","route":"/Babel/05-acorn/01-the-super-tiny-compiler.md","leaf":true,"title":"01-the-super-tiny-compiler","depth":2,"content":"---\\ntitle: 01 the-super-tiny-compiler \u6e90\u7801\u5206\u6790\\ntags: acornjs\\n---\\n\\n<https://github.com/jamiebuilds/the-super-tiny-compiler>\uff0c\u8fd9\u4e2a\u8bbe\u8ba1\u5e93\u5b9e\u5728\u592a\u8fc7\u7b80\u5355\uff08\u6bd4\u5982\uff1a\u4e0d\u652f\u6301\u53d6\u53cd\u64cd\u4f5c\uff09\uff0c\u53ea\u80fd\u7528\u4f5c\u5b66\u4e60 compiler \u7684\u6d41\u7a0b\u8bbe\u8ba1\u3002\\n\\n- tokenizer(\u8bcd\u6cd5\u5206\u6790\u5668)\uff1a\u5212\u5206 token\uff0c\u4ea7\u751f\u4e00\u4e2a token \u6570\u7ec4\\n- parser(\u8bed\u6cd5\u5206\u6790\u5668)\uff1a\u63a5\u53d7 token \u6570\u7ec4\uff0c\u7136\u540e\u628a\u5b83\u8f6c\u5316\u4e3a AST <a name=\\"bsEHt\\"></a>\\n\\n### 1. \u6d4b\u8bd5 the-super-tiny-compiler\\n\\n    (add 21 (subtract 4 2))\\n\\n- (op v1 v2) \u62ec\u53f7\u8868\u793a\u4e00\u4e2a CallExpression \u8c03\u7528\u8868\u8fbe\u5f0f\\n- add +\\n- subtract -\\n- token \u53ea\u5305\u542b\\n  - NumberLiteral \u6570\u5b57\u5b57\u9762\u91cf\\n  - StringLiteral \u5b57\u7b26\u4e32\u5b57\u9762\u91cf\\n  - CallExpression \u8c03\u7528\u8868\u8fbe\u5f0f\\n    - add\\n    - subtract\\n\\n#### 1.1 tokens\\n\\n```json\\n[\\n  {\\n    \\"type\\": \\"paren\\",\\n    \\"value\\": \\"(\\"\\n  },\\n  {\\n    \\"type\\": \\"name\\",\\n    \\"value\\": \\"add\\"\\n  },\\n  {\\n    \\"type\\": \\"number\\",\\n    \\"value\\": \\"21\\"\\n  },\\n  {\\n    \\"type\\": \\"paren\\",\\n    \\"value\\": \\"(\\"\\n  },\\n  {\\n    \\"type\\": \\"name\\",\\n    \\"value\\": \\"subtract\\"\\n  },\\n  {\\n    \\"type\\": \\"number\\",\\n    \\"value\\": \\"4\\"\\n  },\\n  {\\n    \\"type\\": \\"number\\",\\n    \\"value\\": \\"2\\"\\n  },\\n  {\\n    \\"type\\": \\"paren\\",\\n    \\"value\\": \\")\\"\\n  },\\n  {\\n    \\"type\\": \\"paren\\",\\n    \\"value\\": \\")\\"\\n  }\\n]\\n```\\n\\n#### 1.2 AST\\n\\n```json\\n{\\n  \\"type\\": \\"Program\\",\\n  \\"body\\": [\\n    {\\n      \\"type\\": \\"CallExpression\\",\\n      \\"name\\": \\"add\\",\\n      \\"params\\": [\\n        {\\n          \\"type\\": \\"NumberLiteral\\",\\n          \\"value\\": \\"21\\"\\n        },\\n        {\\n          \\"type\\": \\"CallExpression\\",\\n          \\"name\\": \\"subtract\\",\\n          \\"params\\": [\\n            {\\n              \\"type\\": \\"NumberLiteral\\",\\n              \\"value\\": \\"4\\"\\n            },\\n            {\\n              \\"type\\": \\"NumberLiteral\\",\\n              \\"value\\": \\"2\\"\\n            }\\n          ]\\n        }\\n      ]\\n    }\\n  ]\\n}\\n```\\n\\n<a name=\\"RKRFw\\"></a>\\n\\n### 2. \u81ea\u5df1\u5b9e\u73b0\\n\\n<a name=\\"fQ8XC\\"></a>\\n\\n#### 2.1 tokenizer\\n\\n```javascript\\n/**\\n * @param {string} input \\n */\\nfunction tokenizer(input) {\\n  let current = 0;\\n  let tokens = [];\\n\\n  const lt_parent_l = \'(\';\\n  const lt_parent_r = \')\';\\n\\n  const type_paren = \'paren\';\\n  const type_number = \'number\';\\n  const type_string = \'string\';\\n  const type_name = \'name\';\\n\\n  const reg_whitespcae = /\\\\s/;\\n  const reg_numbers = /[0-9]/;\\n  const reg_letters = /[a-z]/i;\\n\\n  const isEof = () => current >= input.length;\\n\\n  const genToken = (type, value, start) => {\\n    const token = {\\n      type,\\n      value\\n    }\\n    token.loc = {\\n      start,\\n      end: token.value.length + start\\n    }\\n    tokens.push(token)\\n  } \\n\\n  while(!isEof()) {\\n    let c_char = input[current];\\n\\n    if (c_char === lt_parent_l) {\\n      genToken(type_paren, c_char, current)\\n      current++;\\n      continue;\\n    }\\n\\n    if (c_char === lt_parent_r) {\\n      genToken(type_paren, c_char, current)\\n      current++;\\n      continue;\\n    }\\n\\n    if (reg_whitespcae.test(c_char)) {\\n      current++;\\n      continue;\\n    }\\n\\n    if (reg_numbers.test(c_char)) {\\n      // \u89e3\u6790\u51fa\u5f53\u524d\u7684\u6574\u578b\u5b57\u9762\u91cf\\n\\n      let value = \'\';\\n      let start = current;\\n\\n      while(reg_numbers.test(c_char)) {\\n        value += c_char;\\n        c_char = input[++current];\\n      }\\n\\n      genToken(type_number, value, start)\\n      continue;\\n    }\\n\\n    if (c_char === \'\\"\') {\\n      // \u627e\u51fa\u5b8c\u6574\u7684\u5b57\u7b26\u4e32\\n\\n      let start = current\\n      let value = \'\';\\n      c_char = input[current++]; \\n\\n      while(c_char !== \'\\"\') {\\n        value += c_char;\\n        c_char = input[++current];\\n      }\\n\\n      // \u8df3\u8fc7\u95ed\u5408\u7684\u53cc\u5f15\u53f7\\n      c_char = input[++current];\\n\\n      genToken(type_string, value, start)\\n      continue;\\n    }\\n\\n    if (reg_letters.test(c_char)) {\\n      // \u627e\u51fa\u5b8c\u6574\u7684\u5173\u952e\u5b57\\n      let start = current;\\n      let value = \'\';\\n      while(reg_letters.test(c_char)) {\\n        value += c_char;\\n        c_char = input[++current];\\n      }\\n\\n      genToken(type_name, value, start)\\n      continue;\\n    }\\n\\n    // \u5982\u679c\u8fd8\u5269\u4e00\u4e9b\u5b57\u7b26\uff0c\u8bf4\u660e\u8868\u8fbe\u5f0f\u8bed\u6cd5\u6709\u9519\u8bef\\n    throw new TypeError(\'I dont know what this character is: \' + char);\\n  }\\n\\n  return tokens;\\n}\\n```\\n\\n```javascript\\n// (add 21 (subtract 4 2))\\n[\\n  { type: \'paren\', value: \'(\', loc: { start: 0, end: 1 } },\\n  { type: \'name\', value: \'add\', loc: { start: 1, end: 4 } },\\n  { type: \'number\', value: \'21\', loc: { start: 5, end: 7 } },\\n  { type: \'paren\', value: \'(\', loc: { start: 8, end: 9 } },\\n  { type: \'name\', value: \'subtract\', loc: { start: 9, end: 17 } },\\n  { type: \'number\', value: \'4\', loc: { start: 18, end: 19 } },\\n  { type: \'number\', value: \'2\', loc: { start: 20, end: 21 } },\\n  { type: \'paren\', value: \')\', loc: { start: 21, end: 22 } },\\n  { type: \'paren\', value: \')\', loc: { start: 22, end: 23 } }\\n]\\n```\\n\\n#### 2.2 parser","isLeaf":true},{"key":"/Babel/05-acorn/01.md","path":"/Babel/05-acorn/01.md","route":"/Babel/05-acorn/01.md","leaf":true,"title":"01","depth":2,"content":"---\\ntitle: \u7b80\u6613\u8868\u8fbe\u5f0f\\ntags: acornjs\\n---\\n\\n### 1. \u6761\u4ef6\u8868\u8fbe\u5f0f Condition\\n\\n```javascript\\na = b ? 1 : 2 + 1  // =>  a = b ? 1 : (2 + 1)\\n```\\n\\n### 2. \u8d4b\u503c\u8868\u8fbe\u5f0f Assign\\n\\n```javascript\\na == b ? 1 : 2 + 1 // => (a == b) ? 1 : (2+1)\\na += b ? 1 : 0     // => a += (b ? 1 : 0 )\\n```\\n\\n### 3. \u66f4\u65b0\u8868\u8fbe\u5f0f Update\\n\\n```javascript\\na++\\na--\\n```\\n\\n### 4. \u903b\u8f91\u8fd0\u7b97\u7b26 Logical\\n\\n```javascript\\na || b\\na == b ? 1 : 2 + 1 // => (a == b) ? 1 : (2+1)\\n```\\n\\n### 5. \u4e00\u5143\u8fd0\u7b97\u7b26\\n\\n```javascript\\n-5\\n+5\\n```\\n\\n### 6. \u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7","isLeaf":true},{"key":"/Babel/05-acorn/02.md","path":"/Babel/05-acorn/02.md","route":"/Babel/05-acorn/02.md","leaf":true,"title":"02","depth":2,"content":"---\\ntitle: acorn \u89e3\u6790\\ntags: acornjs\\n---\\n\\n## 1. \u57fa\u7840\u7c7b\u548c\u63a5\u53e3\\n\\n### 1.1 Node\\n\\n\u6240\u6709\u8282\u70b9\u7c7b\u578b\u90fd\u5b9e\u73b0\u4ee5\u4e0b\u63a5\u53e3\uff1a\\n\\n```typescript\\ninterface Node {\\n  type: string; // AST\u53d8\u4f53\u7c7b\u578b\\n  start: number; // \u8d77\u59cb\u4f4d\u7f6e\\n  end: number; // \u7ed3\u675f\u4f4d\u7f6e\\n  range?: [number, number]; // [\u8d77\u59cb\u4f4d\u7f6e, \u7ed3\u675f\u4f4d\u7f6e]\\n  loc?: SourceLocation;\\n}\\n```\\n\\nloc\u5b57\u6bb5\u8868\u793a\u8282\u70b9\u7684\u4f4d\u7f6e\u4fe1\u606f\u3002\u5982\u679c\u89e3\u6790\u5668\u6ca1\u6709\u751f\u6210\u6709\u5173\u8282\u70b9\u6e90\u4f4d\u7f6e\u7684\u4fe1\u606f\uff0c\u5219\u8be5\u5b57\u6bb5\u4e3anull\u3002\u5426\u5219\u5b83\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u62ec\u4e00\u4e2a\u8d77\u59cb\u4f4d\u7f6e \u548c\u4e00\u4e2a\u7ed3\u675f\u4f4d\u7f6e\u3002\u6bcf\u4e2aPosition\u5bf9\u8c61\u7531\u4e00\u4e2aline\u6570\u5b57\uff081\u7d22\u5f15\uff09\u548c\u4e00\u4e2acolumn\u6570\u5b57\uff080\u7d22\u5f15\uff09\u7ec4\u6210\uff1a\\n\\n```typescript\\ninterface SourceLocation {\\n    start: Position;\\n    end: Position;\\n    source?: string | null;\\n}\\n```\\n\\n```typescript\\ninterface Position {\\n    line: number >= 1;\\n    column: number >= 0;\\n}\\n```\\n\\n### 1.2 Programs\\n\\n```typescript\\ninterface Program <: Node {\\n    type: \\"Program\\";\\n    sourceType: \'script\' | \'module\';\\n    body: StatementListItem[] | ModuleItem[];\\n}\\n```\\n\\n\u8868\u793a\u4e00\u4e2a\u5b8c\u6574\u7684\u6e90\u4ee3\u7801\u6811\u3002 <a name=\\"PB0xS\\"></a>\\n\\n## 2. \u811a\u672c\u548c\u6a21\u5757\\n\\n\u6e90\u4ee3\u7801\u6570\u7684\u6765\u6e90\u5305\u62ec\u4e24\u79cd\uff0c\u4e00\u79cd\u662fscript\u811a\u672c\uff0c\u4e00\u79cd\u662fmodules\u6a21\u5757\\n\\n- \u5f53\u4e3ascript\u65f6\uff0cbody\u4e3aStatementListItem\u3002\\n- \u5f53\u4e3amodules\u65f6\uff0cbody\u4e3aModuleItem\u3002\\n\\n\u7c7b\u578b StatementListItem \u548c ModuleItem \u7c7b\u578b\u5982\u4e0b\uff1a\\n\\n```typescript\\ntype StatementListItem = Declaration | Statement;\\ntype ModuleItem = ImportDeclaration | ExportDeclaration | StatementListItem;\\n```\\n\\n### 2.1 ImportDeclaration\\n\\nimport\u8bed\u6cd5\uff0c\u5bfc\u5165\u6a21\u5757\\n\\n```typescript\\ntype ImportDeclaration {\\n    type: \'ImportDeclaration\';\\n    specifiers: ImportSpecifier[];\\n    source: Literal;\\n}\\n```\\n\\nImportSpecifier\uff1a\\n\\n```typescript\\ninterface ImportSpecifier {\\n    type: \'ImportSpecifier\' | \'ImportDefaultSpecifier\' | \'ImportNamespaceSpecifier\';\\n    local: Identifier;\\n    imported?: Identifier;\\n}\\n```\\n\\n#### 2.1.1 ImportSpecifier\\n\\nimport \u90e8\u5206\u6a21\u5757\\n\\n```typescript\\nimport { foo } from \'./foo\';\\n```\\n\\n#### 2.1.2 ImportDefaultSpecifier\\n\\nimport default \u65b9\u5f0f\\n\\n```typescript\\nimport foo from \'./foo\';\\n```\\n\\n##### 2.1.3 ImportNamespaceSpecifier\\n\\n\u6a21\u5757\u91cd\u547d\u540d\\n\\n```typescript\\nimport * as foo from \'./foo\';\\n```\\n\\n### 2.2 ExportDeclaration\\n\\n```typescript\\ntype ExportDeclaration = ExportAllDeclaration | ExportDefaultDeclaration | ExportNamedDeclaration;\\n```\\n\\n#### 2.2.1 ExportAllDeclaration\\n\\n\u4ece\u6307\u5b9a\u6a21\u5757\u4e2d\u5bfc\u51fa\\n\\n```typescript\\ninterface ExportAllDeclaration {\\n    type: \'ExportAllDeclaration\';\\n    source: Literal;\\n}\\n```\\n\\n```typescript\\nexport * from \'./foo\';\\n```\\n\\n#### 2.2.2 ExportDefaultDeclaration\\n\\n\u5bfc\u51fa\u9ed8\u8ba4\u6a21\u5757\\n\\n```typescript\\ninterface ExportDefaultDeclaration {\\n    type: \'ExportDefaultDeclaration\';\\n    declaration: Identifier | BindingPattern | ClassDeclaration | Expression | FunctionDeclaration;\\n}\\n```\\n\\n```typescript\\nexport default \'foo\';\\n```\\n\\n#### 2.2.3 ExportNamedDeclaration\\n\\n\u5bfc\u51fa\u90e8\u5206\u6a21\u5757\\n\\n```typescript\\ninterface ExportNamedDeclaration {\\n    type: \'ExportNamedDeclaration\';\\n    declaration: ClassDeclaration | FunctionDeclaration | VariableDeclaration;\\n    specifiers: ExportSpecifier[];\\n    source: Literal;\\n}\\n```\\n\\n```typescript\\nexport const foo = \'foo\';\\n```\\n","isLeaf":true},{"key":"/Babel/05-acorn/03.md","path":"/Babel/05-acorn/03.md","route":"/Babel/05-acorn/03.md","leaf":true,"title":"03","depth":2,"content":"---\\ntitle: Declarations \u58f0\u660e\\ntags: acornjs\\nurl: https://www.yuque.com/gaollard/ubc1q5/wluqrk\\n---\\n\\n### 1. VariableDeclarator\\n\\n\u53d8\u91cf\u58f0\u660e\\n\\n```typescript\\ninterface VariableDeclaration <: Declaration {\\n    type: \\"VariableDeclaration\\";\\n    declarations: [ VariableDeclarator ];\\n    kind: \\"var\\" | \\"let\\" | \\"const\\";\\n}\\n```\\n\\nVariableDeclarator \u8868\u793a\u4e00\u4e2a\u53d8\u91cf\u58f0\u660e:\\n\\n```typescript\\ninterface VariableDeclarator {\\n  type: \\"VariableDeclarator\\";\\n  id: Identifier;\\n  init: Expression;\\n}\\n```\\n\\n```typescript\\nvar c = 30\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"VariableDeclarator\\",\\n  \\"start\\": 28,\\n  \\"end\\": 34,\\n  \\"id\\": {\\n    \\"type\\": \\"Identifier\\",\\n    \\"start\\": 28,\\n    \\"end\\": 29,\\n    \\"name\\": \\"c\\"\\n  },\\n  \\"init\\": {\\n    \\"type\\": \\"Literal\\",\\n    \\"start\\": 32,\\n    \\"end\\": 34,\\n    \\"value\\": 30,\\n    \\"raw\\": \\"30\\"\\n  }\\n}\\n```\\n\\n### 2. FunctionDeclaration\\n\\n\u51fd\u6570\u58f0\u660e\uff0c\u6ce8\u610f\u4e0e\u51fd\u6570\u8868\u8fbe\u5f0f\u7684\u533a\u522b\\n\\n```typescript\\ninterface FunctionDeclaration {\\n    type: \'FunctionDeclaration\';\\n    id: Identifier | null;\\n    params: FunctionParameter[];\\n    body: BlockStatement;\\n    generator: boolean;\\n    async: boolean;\\n    expression: false;\\n}\\n```\\n\\n```javascript\\n{\\n  \\"type\\": \\"Program\\",\\n  \\"start\\": 0,\\n  \\"end\\": 17,\\n  \\"body\\": [\\n    {\\n      \\"type\\": \\"ClassDeclaration\\",\\n      \\"start\\": 0,\\n      \\"end\\": 17,\\n      \\"id\\": {\\n        \\"type\\": \\"Identifier\\",\\n        \\"start\\": 6,\\n        \\"end\\": 12,\\n        \\"name\\": \\"Person\\"\\n      },\\n      \\"superClass\\": null,\\n      \\"body\\": {\\n        \\"type\\": \\"ClassBody\\",\\n        \\"start\\": 13,\\n        \\"end\\": 17,\\n        \\"body\\": []\\n      }\\n    }\\n  ],\\n  \\"sourceType\\": \\"module\\"\\n}\\n```\\n\\n####\\n\\n```javascript\\nclass Person extends Object {\\n\\tsleep() {}\\n}\\n```\\n\\n### 3. ClassDeclaration\\n\\n\u7c7b\u58f0\u660e\uff0c\u6ce8\u610f\u548c\u7c7b\u8868\u8fbe\u5f0f\u7684\u533a\u522b\\n\\n```typescript\\ninterface ClassDeclaration {\\n  type: \'ClassDeclaration\';\\n  id: Identifier | null;\\n  superClass: Identifier | null;\\n  body: ClassBody;\\n}\\n```\\n\\nClassBody \u7c7b\u4e3b\u4f53:\\n\\n```typescript\\ninterface ClassBody {\\n  type: \'ClassBody\';\\n  body: MethodDefinition[];\\n}\\n```\\n\\nMethodDefinition \u8868\u793a\u65b9\u6cd5\u5b9a\u4e49\uff1a\\n\\n```typescript\\ninterface MethodDefinition {\\n  type: \'MethodDefinition\';\\n  key: Expression | null;\\n  computed: boolean;\\n  value: FunctionExpression | null;\\n  kind: \'method\' | \'constructor\';\\n  static: boolean;\\n}\\n```\\n\\n```typescript\\nclass Fn {\\n  constructor() {}\\n  method() {}\\n};\\n```\\n","isLeaf":true},{"key":"/Babel/05-acorn/04.md","path":"/Babel/05-acorn/04.md","route":"/Babel/05-acorn/04.md","leaf":true,"title":"04","depth":2,"content":"---\\ntitle: Expressions \u8868\u8fbe\u5f0f\\ntags: acornjs\\nurl: https://www.yuque.com/gaollard/ubc1q5/slzv6w\\n---\\n\\nExpressions \u53ef\u7528\u7c7b\u578b\u5982\u4e0b\uff1a\\n\\n```typescript\\ntype Expression = ThisExpression | Identifier | Literal |\\n    ArrayExpression | ObjectExpression | FunctionExpression | ArrowFunctionExpression | ClassExpression |\\n    TaggedTemplateExpression | MemberExpression | Super | MetaProperty |\\n    NewExpression | CallExpression | UpdateExpression | AwaitExpression | UnaryExpression |\\n    BinaryExpression | LogicalExpression | ConditionalExpression |\\n    YieldExpression | AssignmentExpression | SequenceExpression;\\n```\\n\\nJS \u4e2d\u7684\u8868\u8fbe\u5f0f\u9664\u4e86\u5e38\u89c1\u7684\u8868\u8fbe\u5f0f\u5916\uff0c\u8fd8\u53ef\u4ee5\u662f\uff1a\\n\\n- Identifier \u6807\u8bc6\u7b26\\n- Literal \u5b57\u9762\u91cf\\n- Super\\n\\n### 1. ThisExpression\\n\\nthis \u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface ThisExpression {\\n  type: \\"ThisExpression\\";\\n}\\n```\\n\\n```typescript\\n(function(ctx){})(this);\\n```\\n\\n```typescript\\n{\\n  \\"type\\": \\"Program\\",\\n  \\"start\\": 0,\\n  \\"end\\": 29,\\n  \\"body\\": [\\n    {\\n      \\"type\\": \\"ExpressionStatement\\",\\n      \\"start\\": 0,\\n      \\"end\\": 29,\\n      \\"expression\\": {\\n        \\"type\\": \\"CallExpression\\",\\n        \\"start\\": 0,\\n        \\"end\\": 28,\\n        \\"callee\\": {\\n          \\"type\\": \\"FunctionExpression\\",\\n          \\"start\\": 5,\\n          \\"end\\": 20,\\n          \\"id\\": null,\\n          \\"expression\\": false,\\n          \\"generator\\": false,\\n          \\"async\\": false,\\n          \\"params\\": [\\n            {\\n              \\"type\\": \\"Identifier\\",\\n              \\"start\\": 14,\\n              \\"end\\": 17,\\n              \\"name\\": \\"ctx\\"\\n            }\\n          ],\\n          \\"body\\": {\\n            \\"type\\": \\"BlockStatement\\",\\n            \\"start\\": 18,\\n            \\"end\\": 20,\\n            \\"body\\": []\\n          }\\n        },\\n        \\"arguments\\": [\\n          {\\n            \\"type\\": \\"ThisExpression\\",\\n            \\"start\\": 23,\\n            \\"end\\": 27\\n          }\\n        ],\\n        \\"optional\\": false\\n      }\\n    }\\n  ],\\n  \\"sourceType\\": \\"module\\"\\n}\\n```\\n\\n### 2. Identifier\\n\\n\u6807\u8bc6\u7b26\uff0c\u6bd4\u5982\u53d8\u91cf\u540d\u3001\u51fd\u6570\u540d\\n\\n```typescript\\ninterface Identifier {\\n    type: \'Identifier\';\\n    name: string;\\n}\\n```\\n\\n### 3. Literal\\n\\n\u57fa\u7840\u7684\u5b57\u9762\u91cf\uff0c\u6bd4\u5982\\n\\n- \u5b57\u7b26\u4e32\\n- \u6570\u5b57\\n- \u5e03\u5c14\\n- \u6b63\u5219\\n\\n```typescript\\ninterface Literal {\\n    type: \'Literal\';\\n    value: boolean | number | string | RegExp | null;\\n    raw: string;\\n    regex?: { pattern: string, flags: string };\\n}\\n```\\n\\n```typescript\\nvar a = 10;\\nvar a = \'string\';\\nvar a = true;\\nvar a = /\\\\d/;\\n```\\n\\n\u6ce8\u610f\uff0c{} \u548c \\\\[] \u4e0d\u88ab\u5305\u62ec\u5728\u5185\uff0c\u4ed6\u4eec\u88ab\u5206\u522b\u62bd\u79bb\u4e3a ObjectExpression ArrayExpression <a name=\\"RL6b3\\"></a>\\n\\n### 4. ObjectExpression\\n\\n\u5bf9\u8c61\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface ObjectExpression {\\n    type: \'ObjectExpression\';\\n    properties: Property[];\\n}\\n```\\n\\nproperties\u4e3a\u5c5e\u6027\u5217\u8868\uff0cProperty \u8868\u793a\u4e3a\u5bf9\u8c61\u7684\u5c5e\u6027\u63cf\u8ff0\u3002\\n\\n```typescript\\ninterface Property {\\n    type: \'Property\';\\n    key: Expression;\\n    computed: boolean;\\n    value: Expression | null;\\n    kind: \'get\' | \'set\' | \'init\';\\n    method: false;\\n    shorthand: boolean;\\n}\\n```\\n\\n```typescript\\nvar a = {\\n\\tname: 1\\n}\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"ObjectExpression\\",\\n  \\"start\\": 8,\\n  \\"end\\": 20,\\n  \\"properties\\": [\\n    {\\n      \\"type\\": \\"Property\\",\\n      \\"start\\": 11,\\n      \\"end\\": 18,\\n      \\"method\\": false,\\n      \\"shorthand\\": false,\\n      \\"computed\\": false,\\n      \\"key\\": {\\n        \\"type\\": \\"Identifier\\",\\n        \\"start\\": 11,\\n        \\"end\\": 15,\\n        \\"name\\": \\"name\\"\\n      },\\n      \\"value\\": {\\n        \\"type\\": \\"Literal\\",\\n        \\"start\\": 17,\\n        \\"end\\": 18,\\n        \\"value\\": 1,\\n        \\"raw\\": \\"1\\"\\n      },\\n      \\"kind\\": \\"init\\"\\n    }\\n  ]\\n}\\n```\\n\\n\u6ce8\u610f\uff1a{} \u65e2\u53ef\u4ee5\u8868\u793a\u4e3a\u8868\u8fbe\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u8868\u793a\u4e3aStatement\u8bed\u53e5\uff0c\u9700\u8981\u7ed3\u5408\u8bed\u4e49\u3002 <a name=\\"H0ybq\\"></a>\\n\\n### 5. ArrayExpression\\n\\n\u6570\u7ec4\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface ArrayExpression {\\n    type: \'ArrayExpression\';\\n    elements: ArrayExpressionElement[];\\n}\\n```\\n\\nArrayExpressionElement:\\n\\n```typescript\\ntype ArrayExpressionElement = Expression | SpreadElement;\\n```\\n\\n### 6. SpreadElement\\n\\n\u6269\u5c55\u8fd0\u7b97\u7b26\\n\\n```typescript\\ninterface SpreadElement {\\n    type: \'SpreadElement\';\\n    argument: Expression;\\n}\\n```\\n\\n```typescript\\nvar a = [1, 2, ...list];\\nvar b = {foo: 2, ...obj};\\n```\\n\\n### 7. FunctionExpression\\n\\nFunctionExpress \u8868\u793a\u51fd\u6570\u8868\u8fbe\u5f0f\u3002\\n\\n```typescript\\ninterface FunctionExpression {\\n    type: \'FunctionExpression\';\\n    id: Identifier | null;\\n    params: FunctionParameter[];\\n    body: BlockStatement;\\n    generator: boolean;\\n    async: boolean;\\n    expression: boolean;\\n}\\n```\\n\\n\u5728\u4e0b\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u7b49\u53f7\u53f3\u8fb9\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u8868\u8fbe\u5f0f:\\n\\n```typescript\\nvar fn = function(){}\\nvar fn = function Person(){}\\n```\\n\\n\u8bf7\u6ce8\u610f\u51fd\u6570\u58f0\u660e\u548c\u51fd\u6570\u8868\u8fbe\u5f0f\u7684\u533a\u522b\u3002 <a name=\\"l647H\\"></a>\\n\\n### 8. ArrowFunctionExpression\\n\\n\u7bad\u5934\u51fd\u6570\u3002\\n\\n```typescript\\ninterface ArrowFunctionExpression {\\n    type: \'ArrowFunctionExpression\';\\n    id: Identifier | null;\\n    params: FunctionParameter[];\\n    body: BlockStatement | Expression;\\n    generator: boolean;\\n    async: boolean;\\n    expression: false;\\n}\\n```\\n\\n```typescript\\ntype FunctionParameter = AssignmentPattern | Identifier | BindingPattern;\\n```\\n\\n### 9. TaggedTemplateExpression\\n\\n### 10. MemberExpression\\n\\n\u5c5e\u6027\u6210\u5458\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface MemberExpression {\\n    type: \'MemberExpression\';\\n    computed: boolean;\\n    object: Expression;\\n    property: Expression;\\n}\\n```\\n\\n```typescript\\nconst foo = {bar: \'bar\'};\\nfoo.bar; // // computed \u4e3a false\\nfoo[\'bar\']; // computed \u4e3a true\\n```\\n\\n### 11. Super\\n\\n\u7236\u7c7b\u5173\u952e\u5b57\\n\\n```typescript\\ninterface Super {\\n    type: \'Super\';\\n}\\n```\\n\\n```typescript\\nclass Male extends Person {\\n    constructor() {\\n        super();\\n    }\\n}\\n```\\n\\n### 12. MetaProperty\\n\\nimport.meta \u662f\u4e00\u4e2a\u7ed9JavaScript\u6a21\u5757\u66b4\u9732\u7279\u5b9a\u4e0a\u4e0b\u6587\u7684\u5143\u6570\u636e\u5c5e\u6027\u7684\u5bf9\u8c61\u3002\u5b83\u5305\u542b\u4e86\u8fd9\u4e2a\u6a21\u5757\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\u8bf4\u8fd9\u4e2a\u6a21\u5757\u7684URL\u3002\\n\\n```typescript\\ninterface MetaProperty {\\n    type: \'MetaProperty\';\\n    meta: Identifier;\\n    property: Identifier;\\n}\\n```\\n\\n```typescript\\nimport.meta\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"Program\\",\\n  \\"start\\": 0,\\n  \\"end\\": 11,\\n  \\"body\\": [\\n    {\\n      \\"type\\": \\"ExpressionStatement\\",\\n      \\"start\\": 0,\\n      \\"end\\": 11,\\n      \\"expression\\": {\\n        \\"type\\": \\"MetaProperty\\",\\n        \\"start\\": 0,\\n        \\"end\\": 11,\\n        \\"meta\\": {\\n          \\"type\\": \\"Identifier\\",\\n          \\"start\\": 0,\\n          \\"end\\": 6,\\n          \\"name\\": \\"import\\"\\n        },\\n        \\"property\\": {\\n          \\"type\\": \\"Identifier\\",\\n          \\"start\\": 7,\\n          \\"end\\": 11,\\n          \\"name\\": \\"meta\\"\\n        }\\n      }\\n    }\\n  ],\\n  \\"sourceType\\": \\"module\\"\\n}\\n```\\n\\n### 13. ClassExpression\\n\\n\u7c7b\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface ClassExpression {\\n    type: \'ClassExpression\';\\n    id: Identifier | null;\\n    superClass: Identifier | null;\\n    body: ClassBody;\\n}\\n```\\n\\n```typescript\\nvar Fn = class {\\n    constructor() {}\\n    method() {}\\n};\\n```\\n\\n### 14. NewExpression\\n\\nnew \u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface NewExpression {\\n    type: \'NewExpression\';\\n    callee: Expression;\\n    arguments: ArgumentListElement[];\\n}\\n```\\n\\n```typescript\\nnew Person(name)\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"NewExpression\\",\\n  \\"start\\": 0,\\n  \\"end\\": 16,\\n  \\"callee\\": {\\n    \\"type\\": \\"Identifier\\",\\n    \\"start\\": 4,\\n    \\"end\\": 10,\\n    \\"name\\": \\"Person\\"\\n  },\\n  \\"arguments\\": [\\n    {\\n      \\"type\\": \\"Identifier\\",\\n      \\"start\\": 11,\\n      \\"end\\": 15,\\n      \\"name\\": \\"name\\"\\n    }\\n  ]\\n}\\n```\\n\\n### 15. CallExpression\\n\\n\u51fd\u6570\u8c03\u7528\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface CallExpression {\\n    type: \'CallExpression\';\\n    callee: Expression | Import;\\n    arguments: ArgumentListElement[];\\n}\\n```\\n\\nImport \u7684\u573a\u666f\uff1a\\n\\n```typescript\\n(import(\'\'))()\\n```\\n\\n```typescript\\ninterface Import {\\n    type: \'Import\'\\n}\\n```\\n\\nArgumentListElement \u7c7b\u578b:\\n\\n```typescript\\ntype ArgumentListElement = Expression | SpreadElement;\\n```\\n\\n### 15. UpdateExpression\\n\\n\u66f4\u65b0\u64cd\u4f5c\u7b26\u8868\u8fbe\u5f0f\uff0c\u5982 `++`\u3001`--`;\\n\\n```typescript\\ninterface UpdateExpression {\\n  type: \\"UpdateExpression\\";\\n  operator: \'++\' | \'--\';\\n  argument: Expression;\\n  prefix: boolean;\\n}\\n```\\n\\n```typescript\\nvar a = 0;\\na++;\\n++a; // prefix\u4e3atrue\\n```\\n\\n### 16. AwaitExpression\\n\\nawait\u8868\u8fbe\u5f0f\uff0c\u4e0e async \u4e00\u8d77\u4f7f\u7528\\n\\n```typescript\\ninterface AwaitExpression {\\n    type: \'AwaitExpression\';\\n    argument: Expression;\\n}\\n```\\n\\n```typescript\\nasync function slepp() {\\n\\tawait fn()\\n}\\n```\\n\\n```typescript\\n{\\n  \\"type\\": \\"AwaitExpression\\",\\n  \\"start\\": 26,\\n  \\"end\\": 36,\\n  \\"argument\\": {\\n    \\"type\\": \\"CallExpression\\",\\n    \\"start\\": 32,\\n    \\"end\\": 36,\\n    \\"callee\\": {\\n      \\"type\\": \\"Identifier\\",\\n      \\"start\\": 32,\\n      \\"end\\": 34,\\n      \\"name\\": \\"fn\\"\\n    },\\n    \\"arguments\\": [],\\n    \\"optional\\": false\\n  }\\n}\\n```\\n\\n### 17. UnaryExpression\\n\\n\u4e00\u5143\u64cd\u4f5c\u7b26\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface UnaryExpression {\\n  type: \\"UnaryExpression\\";\\n  operator: UnaryOperator;\\n  prefix: boolean;\\n  argument: Expression;\\n}\\n```\\n\\nUnaryOperator:\\n\\n```typescript\\nenum UnaryOperator {\\n  \\"-\\" | \\"+\\" | \\"!\\" | \\"~\\" | \\"typeof\\" | \\"void\\" | \\"delete\\" | \\"throw\\"\\n}\\n```\\n\\n### 18. BinaryExpression\\n\\n\u4e8c\u5143\u64cd\u4f5c\u7b26\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface BinaryExpression {\\n    type: \'BinaryExpression\';\\n    operator: BinaryOperator;\\n    left: Expression;\\n    right: Expression;\\n}\\n```\\n\\nBinaryOperator:\\n\\n```typescript\\nenum BinaryOperator {\\n  \\"==\\" | \\"!=\\" | \\"===\\" | \\"!==\\"\\n     | \\"<\\" | \\"<=\\" | \\">\\" | \\">=\\"\\n     | \\"<<\\" | \\">>\\" | \\">>>\\"\\n     | \\"+\\" | \\"-\\" | \\"*\\" | \\"/\\" | \\"%\\"\\n     | \\"**\\" | \\"|\\" | \\"^\\" | \\"&\\" | \\"in\\"\\n     | \\"instanceof\\"\\n     | \\"|>\\"\\n}\\n```\\n\\n### 19. LogicalExpression\\n\\n\u903b\u8f91\u8fd0\u7b97\u7b26\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface LogicalExpression {\\n    type: \'LogicalExpression\';\\n    operator: \'||\' | \'&&\';\\n    left: Expression;\\n    right: Expression;\\n}\\n```\\n\\n```typescript\\nvar a = \'-\';\\nvar b = a || \'-\';\\nvar c = a && b || 1\\n```\\n\\n### 20. ConditionalExpression\\n\\n\u6761\u4ef6\u8fd0\u7b97\u7b26\\n\\n```typescript\\ninterface ConditionalExpression {\\n    type: \'ConditionalExpression\';\\n    test: Expression;\\n    consequent: Expression;\\n    alternate: Expression;\\n}\\n```\\n\\n```typescript\\nvar a = 1 ? \'consequent\' : \'alternate\';\\n```\\n\\n### 21. YieldExpression\\n\\nyield\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface YieldExpression {\\n    type: \'YieldExpression\';\\n    argument: Expression | null;\\n    delegate: boolean;\\n}\\n```\\n\\n```typescript\\nfunction* gen(x) {\\n  return yield x + 1;\\n}\\n```\\n\\n### 22. AssignmentExpression\\n\\n\u8d4b\u503c\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface AssignmentExpression {\\n    type: \'AssignmentExpression\';\\n    operator: \'=\' | \'*=\' | \'**=\' | \'/=\' | \'%=\' | \'+=\' | \'-=\' |\\n        \'<<=\' | \'>>=\' | \'>>>=\' | \'&=\' | \'^=\' | \'|=\';\\n    left: Expression;\\n    right: Expression;\\n}\\n```\\n\\n### 23. SequenceExpression\\n\\n\u4f7f\u7528\u9017\u53f7\u7684\u5e8f\u5217\u8868\u8fbe\u5f0f\\n\\n```typescript\\ninterface SequenceExpression {\\n  type: \'SequenceExpression\';\\n  expressions: Expression[];\\n}\\n```\\n\\n```typescript\\na = 1, b = 2;\\n```\\n","isLeaf":true},{"key":"/Babel/05-acorn/05.md","path":"/Babel/05-acorn/05.md","route":"/Babel/05-acorn/05.md","leaf":true,"title":"05","depth":2,"content":"---\\ntitle: Statement \u8bed\u53e5\\ntags: acornjs\\n---\\n\\nJS \u89c4\u8303\u53ef\u4ee5\u53c2\u8003 <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference>\\nstatements\uff0c\u5373\u8bed\u53e5\uff0c\u7c7b\u578b\u5982\u4e0b\uff1a\\n\\n```typescript\\ntype Statement = BlockStatement | BreakStatement | ContinueStatement |\\n    DebuggerStatement | DoWhileStatement | EmptyStatement |\\n    ExpressionStatement | ForStatement | ForInStatement |\\n    ForOfStatement | FunctionDeclaration | IfStatement |\\n    LabeledStatement | ReturnStatement | SwitchStatement |\\n    ThrowStatement | TryStatement | VariableDeclaration |\\n    WhileStatement | WithStatement;\\n```\\n\\n### 1. BlockStatement\\n\\n\u8868\u793a\u4e00\u4e2a\u4f5c\u7528\u57df\u5757\u3002\\n\\n```typescript\\ninterface BlockStatement {\\n    type: \'BlockStatement\';\\n    body: Statement[];\\n}\\n```\\n\\n```typescript\\n{}\\n```\\n\\n```typescript\\n{\\n  \\"type\\": \\"BlockStatement\\",\\n  \\"start\\": 0,\\n  \\"end\\": 2,\\n  \\"body\\": []\\n}\\n```\\n\\n<a name=\\"ylwvh\\"></a>\\n\\n### 2. IfStatement\\n\\nIfStatement \u7528\u4e8e\u8868\u793a if \u8bed\u53e5\\n\\n```typescript\\ninterface IfStatement {\\n    type: \'IfStatement\';\\n    test: Expression;\\n    consequent: Statement;\\n    alternate?: Statement;\\n}\\n```\\n\\n```typescript\\nif (a > b) {}\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"IfStatement\\",\\n  \\"start\\": 0,\\n  \\"end\\": 13,\\n  \\"test\\": {\\n    \\"type\\": \\"BinaryExpression\\",\\n    \\"start\\": 4,\\n    \\"end\\": 9,\\n    \\"left\\": {\\n      \\"type\\": \\"Identifier\\",\\n      \\"start\\": 4,\\n      \\"end\\": 5,\\n      \\"name\\": \\"a\\"\\n    },\\n    \\"operator\\": \\">\\",\\n    \\"right\\": {\\n      \\"type\\": \\"Identifier\\",\\n      \\"start\\": 8,\\n      \\"end\\": 9,\\n      \\"name\\": \\"b\\"\\n    }\\n  },\\n  \\"consequent\\": {\\n    \\"type\\": \\"BlockStatement\\",\\n    \\"start\\": 11,\\n    \\"end\\": 13,\\n    \\"body\\": []\\n  },\\n  \\"alternate\\": null\\n}\\n```\\n\\n<a name=\\"lkIih\\"></a>\\n\\n### 3. ReturnStatement\\n\\nReturenStatement \u7528\u4e8e\u8868\u793a return \u8bed\u53e5\\n\\n```typescript\\ninterface ReturnStatement {\\n    type: \'ReturnStatement\';\\n    argument: Expression | null;\\n}\\n```\\n\\n```typescript\\nfunction sleep() {\\n\\treturn 10;\\n}\\n```\\n\\n```typescript\\n{\\n  \\"type\\": \\"ReturnStatement\\",\\n  \\"start\\": 20,\\n  \\"end\\": 30,\\n  \\"argument\\": {\\n    \\"type\\": \\"Literal\\",\\n    \\"start\\": 27,\\n    \\"end\\": 29,\\n    \\"value\\": 10,\\n    \\"raw\\": \\"10\\"\\n  }\\n}\\n```\\n\\n### 4. SwitchStatement\\n\\nSwitchStatement \u7528\u4e8e\u8868\u793a switch \u8bed\u53e5\u3002\\n\\n```typescript\\ninterface SwitchStatement {\\n    type: \'SwitchStatement\';\\n    discriminant: Expression;\\n    cases: SwitchCase[];\\n}\\n```\\n\\n```typescript\\nswitch(b) {\\n  case 10:\\n    console.log(10);\\n    break;\\n  case 20:\\n    console.log(20);\\n    break;\\n  default:\\n    console.log(\\"default\\")\\n}\\n```\\n\\n![20230608110506](http://s3.airtlab.com/blog/20230608110506.png)\\n\\n### 5. WhileStatement\\n\\nwhile \u8bed\u53e5\u3002\\n\\n```typescript\\ninterface WhileStatement {\\n    type: \'WhileStatement\';\\n    test: Expression;\\n    body: Statement;\\n}\\n```\\n\\n<a name=\\"zxenD\\"></a>\\n\\n### 6. BreakStatement\\n\\nbreak \u8bed\u53e5\u3002\\n\\n```typescript\\n{\\n   \\"type\\": \\"BreakStatement\\",\\n   \\"label\\": null | string\\n}\\n```\\n\\n```typescript\\nfor(;;){\\n\\tbreak;\\n}\\n```\\n\\n<a name=\\"pjLpI\\"></a>\\n\\n### 7. ContinueStatement\\n\\ncontinue \u8bed\u53e5\u3002\\n\\n```typescript\\n{\\n   \\"type\\": \\"ContinueStatement\\",\\n   \\"label\\": null | string\\n}\\n```\\n\\n```typescript\\nfor(;;){\\n\\tcontinue;\\n}\\n```\\n\\n<a name=\\"regOL\\"></a>\\n\\n### 8. DebuggerStatement\\n\\ndebugger \u8bed\u53e5\u3002\\n\\n```typescript\\n{\\n   \\"type\\": \\"DebuggerStatement\\"\\n}\\n```\\n\\n```typescript\\ndebugger;\\n```\\n\\n<a name=\\"i63zx\\"></a>\\n\\n### 9. DoWhileStatement\\n\\n```json\\ninterface DoWhileStatement {\\n    type: \'DoWhileStatement\';\\n    body: Statement;\\n    test: Expression;\\n}\\n```\\n\\n```typescript\\ndo {} while(1)\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"DoWhileStatement\\",\\n  \\"start\\": 0,\\n  \\"end\\": 14,\\n  \\"body\\": {\\n    \\"type\\": \\"BlockStatement\\",\\n    \\"start\\": 3,\\n    \\"end\\": 5,\\n    \\"body\\": []\\n  },\\n  \\"test\\": {\\n    \\"type\\": \\"Literal\\",\\n    \\"start\\": 12,\\n    \\"end\\": 13,\\n    \\"value\\": 1,\\n    \\"raw\\": \\"1\\"\\n  }\\n}\\n```\\n\\n<a name=\\"RK0TE\\"></a>\\n\\n### 10. EmptyStatement\\n\\n\u7a7a\u8bed\u53e5\u3002\\n\\n```typescript\\ninterface EmptyStatement {\\n  type: \\"EmptyStatement\\"\\n}\\n```\\n\\n```typescript\\n;\\n```\\n\\n<a name=\\"yuv0l\\"></a>\\n\\n### 11. ExpressionStatement\\n\\n\u8868\u8fbe\u5f0f\u8bed\u53e5\u3002\\n\\n```typescript\\ninterface ExpressionStatement {\\n  type: \\"ExpressionStatement\\";\\n  expression: Expression\\n}\\n```\\n\\n```typescript\\n(function() {})\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"ExpressionStatement\\",\\n  \\"start\\": 0,\\n  \\"end\\": 15,\\n  \\"expression\\": {\\n    \\"type\\": \\"FunctionExpression\\",\\n    \\"start\\": 1,\\n    \\"end\\": 14,\\n    \\"id\\": null,\\n    \\"expression\\": false,\\n    \\"generator\\": false,\\n    \\"async\\": false,\\n    \\"params\\": [],\\n    \\"body\\": {\\n      \\"type\\": \\"BlockStatement\\",\\n      \\"start\\": 12,\\n      \\"end\\": 14,\\n      \\"body\\": []\\n    }\\n  }\\n}\\n```\\n\\n<a name=\\"NzoXy\\"></a>\\n\\n### 12. ForStatement\\n\\n```typescript\\ninterface ForStatement {\\n    type: \'ForStatement\';\\n    init: Expression | VariableDeclaration | null; // \u521d\u59cb\u5316\\n    test: Expression | null; // \u4e2d\u95f4\u6761\u4ef6\\n    update: Expression | null; // \u8fed\u4ee3\u6b65\u9aa4\\n    body: Statement; // \u4e3b\u4f53\\n}\\n```\\n\\n<a name=\\"CtOnX\\"></a>\\n\\n### 13. ForInStatement\\n\\nfor...in.. \u8bed\u53e5\\n\\n```typescript\\ninterface ForInStatement {\\n    type: \'ForInStatement\';\\n    left: Expression;\\n    right: Expression;\\n    body: Statement;\\n}\\n```\\n\\n```typescript\\nfor(let i in a) {}\\n```\\n\\n```typescript\\n{\\n  \\"type\\": \\"ForInStatement\\",\\n  \\"start\\": 0,\\n  \\"end\\": 18,\\n  \\"left\\": {\\n    \\"type\\": \\"VariableDeclaration\\",\\n    \\"start\\": 4,\\n    \\"end\\": 9,\\n    \\"declarations\\": [\\n      {\\n        \\"type\\": \\"VariableDeclarator\\",\\n        \\"start\\": 8,\\n        \\"end\\": 9,\\n        \\"id\\": {\\n          \\"type\\": \\"Identifier\\",\\n          \\"start\\": 8,\\n          \\"end\\": 9,\\n          \\"name\\": \\"i\\"\\n        },\\n        \\"init\\": null\\n      }\\n    ],\\n    \\"kind\\": \\"let\\"\\n  },\\n  \\"right\\": {\\n    \\"type\\": \\"Identifier\\",\\n    \\"start\\": 13,\\n    \\"end\\": 14,\\n    \\"name\\": \\"a\\"\\n  },\\n  \\"body\\": {\\n    \\"type\\": \\"BlockStatement\\",\\n    \\"start\\": 16,\\n    \\"end\\": 18,\\n    \\"body\\": []\\n  }\\n}\\n```\\n\\n<a name=\\"RXXqj\\"></a>\\n\\n### 14. ForOfStatement\\n\\nfor...of \u8bed\u53e5\\n\\n```typescript\\ninterface ForOfStatement {\\n    type: \'ForOfStatement\';\\n    left: Expression;\\n    right: Expression;\\n    body: Statement;\\n}\\n```\\n\\n<a name=\\"z65t9\\"></a>\\n\\n### 15. ThrowStatement\\n\\nthrow \u8bed\u53e5\\n\\n```typescript\\ninterface ThrowStatement {\\n  type: \\"ThrowStatement\\",\\n  argument: S\\n}\\n```\\n\\n```typescript\\n// throw expression;\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"ThrowStatement\\",\\n  \\"start\\": 0,\\n  \\"end\\": 12,\\n  \\"argument\\": {\\n    \\"type\\": \\"Literal\\",\\n    \\"start\\": 6,\\n    \\"end\\": 11,\\n    \\"value\\": \\"err\\",\\n    \\"raw\\": \\"\\\\\\"err\\\\\\"\\"\\n  }\\n}\\n```\\n\\n<a name=\\"vttj4\\"></a>\\n\\n### 16. TryStatement\\n\\ntry...catch... \u8bed\u53e5\\n\\n```typescript\\ninterface TryStatement {\\n    type: \'TryStatement\';\\n    block: BlockStatement;\\n    handler: CatchClause | null;\\n    finalizer: BlockStatement | null;\\n}\\n```\\n\\n```typescript\\ntry {}catch (e) {}\\n```\\n\\n```json\\n{\\n  \\"type\\": \\"TryStatement\\",\\n  \\"start\\": 0,\\n  \\"end\\": 18,\\n  \\"block\\": {\\n    \\"type\\": \\"BlockStatement\\",\\n    \\"start\\": 4,\\n    \\"end\\": 6,\\n    \\"body\\": []\\n  },\\n  \\"handler\\": {\\n    \\"type\\": \\"CatchClause\\",\\n    \\"start\\": 6,\\n    \\"end\\": 18,\\n    \\"param\\": {\\n      \\"type\\": \\"Identifier\\",\\n      \\"start\\": 13,\\n      \\"end\\": 14,\\n      \\"name\\": \\"e\\"\\n    },\\n    \\"body\\": {\\n      \\"type\\": \\"BlockStatement\\",\\n      \\"start\\": 16,\\n      \\"end\\": 18,\\n      \\"body\\": []\\n    }\\n  },\\n  \\"finalizer\\": null\\n}\\n```\\n\\n<a name=\\"on7Fu\\"></a>\\n\\n### 17. WithStatement\\n\\nwith\u8bed\u53e5\uff08\u6307\u5b9a\u5757\u8bed\u53e5\u7684\u4f5c\u7528\u57df\uff09\\n\\n```typescript\\ninterface WithStatement {\\n    type: \'WithStatement\';\\n    object: Expression;\\n    body: Statement;\\n}\\n```\\n","isLeaf":true}]}]},{"key":"/achieve","path":"/achieve","route":"/achieve","leaf":false,"title":"achieve","depth":0,"content":"","isLeaf":false,"children":[{"key":"/achieve/h5-vue-template.md","path":"/achieve/h5-vue-template.md","route":"/achieve/h5-vue-template.md","leaf":true,"title":"h5-vue-template","depth":1,"content":"## 1\\n- https://sunniejs.github.io/vue-h5-template/guide/\\n\\n![20230630104041](http://s3.airtlab.com/blog/20230630104041.png)\\n\\n## 2\\n\\n- https://github.com/yulimchen/vue3-h5-template\\n\\n![20230630104710](http://s3.airtlab.com/blog/20230630104710.png)","isLeaf":true},{"key":"/achieve/nestjs-template.md","path":"/achieve/nestjs-template.md","route":"/achieve/nestjs-template.md","leaf":true,"title":"nestjs-template","depth":1,"content":"\u4e00\u4e2a C \u7aef API \u5feb\u901f\u5f00\u53d1\u6a21\u677f\uff0c\u6e90\u4ee3\u7801\u89c1 https://github.com/fiiai/nestjs-template\\n\\n## 1. \u9879\u76ee\u4ecb\u7ecd\\n\\n\u4f7f\u7528 NestJS \u8fdb\u884c API \u901a\u7528\u4e1a\u52a1\u6846\u67b6\u6700\u4f73\u5b9e\u8df5\u65b9\u6848\uff0c\u7b14\u8005\u4f1a\u5b9a\u671f\u7684\u66f4\u65b0\uff0c\u6b22\u8fce\u6307\u6b63\u3002API \u6587\u6863 \ud83d\udc49 https://www.apifox.cn/web/project/2299100\\n\u5305\u542b\u5982\u4e0b\u7279\u6027\uff1a\\n\\n- \u3010\u89c4\u8303\u3011\u5de5\u7a0b\u76ee\u5f55\\n- \u3010\u89c4\u8303\u3011\u4ee3\u7801\u98ce\u683c\\n- \u3010\u76d1\u63a7\u3011\u5f02\u5e38\u76d1\u63a7\\n- \u3010\u7279\u6027\u3011\u65e5\u5fd7\u6253\u5370\\n- \u3010\u7279\u6027\u3011\u914d\u7f6e\u7ba1\u7406\\n- \u3010\u7279\u6027\u3011\u552f\u4e00 ID\\n- \u3010\u7279\u6027\u3011socket.io \u96c6\u6210\\n- \u3010\u7279\u6027\u3011redis \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011mysql \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011mongoose \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011mailer \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011rabbitmq \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011qiniu \u96c6\u6210\\n- \u3010\u7279\u6027\u3011API \u6587\u6863\u65b9\u6848\\n- \u3010\u7279\u6027\u3011\u4ee3\u7801\u6587\u6863\u65b9\u6848\\n\\n## 2. \u5185\u7f6e\u6a21\u5757\\n\\n- [x] \u8d26\u6237\u6a21\u5757\\n- [x] \u56fe\u6587\u5217\u8868\\n- [x] \u8bc4\u8bba\u6a21\u5757\\n- [x] \u4e0a\u4f20\u6a21\u5757\\n- [x] \u6570\u636e\u91c7\u96c6\\n- [x] \u5730\u5740\u7ba1\u7406\\n- [x] \u94b1\u5305\u529f\u80fd\\n- [x] \u6388\u6743\u767b\u5f55\\n  - [x] \u5fae\u4fe1\u767b\u5f55\\n- [x] \u652f\u4ed8\u80fd\u529b\\n  - [x] \u652f\u4ed8\u5b9d\u652f\u4ed8\\n  - [x] \u5fae\u4fe1\u652f\u4ed8\\n- [x] \u6743\u9650\u7ba1\u7406\\n- [x] \u77ed\u4fe1\u63a8\u9001\\n- [ ] \u7ad9\u5185\u6d88\u606f\\n\\n\\n## 3. \u6280\u672f\u9009\u578b\\n\\n| \u540d\u79f0     | \u65b9\u6848                                                        |\\n| -------- | ----------------------------------------------------------- |\\n| \u6846\u67b6     | [nestjs](https://nestjs.com/)                               |\\n| \u65f6\u95f4\u5904\u7406 | [dayjs](https://day.js.org/docs/en/installation/typescript) |\\n| \u957f\u8fde\u63a5   | [socket.io](https://socket.io/) & nestjs platform           |\\n| \u65e5\u5fd7     | [pino](https://github.com/pinojs/pino)                      |\\n| \u5927\u6570\u5904\u7406 | [bignumber.js](https://mikemcl.github.io/bignumber.js/)     |\\n\\n## 4. \u6280\u672f\u65b9\u6848\\n\\n### 4.0 \u8bf7\u6c42\u751f\u547d\u5468\u671f\\n\\n![20230301191226](http://s3.airtlab.com/blog/20230301191226.png)\\n\\n### 4.1 \u5de5\u7a0b\u76ee\u5f55\\n\\n```text\\n\u251c\u2500\u2500 config\\n\u2502\xa0\xa0 \u251c\u2500\u2500 dev.config.yaml\\n\u2502\xa0\xa0 \u251c\u2500\u2500 live.config.yaml\\n\u2502\xa0\xa0 \u2514\u2500\u2500 local.config.yaml\\n\u251c\u2500\u2500 libs\\n\u2502\xa0\xa0 \u251c\u2500\u2500 common\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 filters\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 guard\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 interceptor\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 middleware\\n\u2502\xa0\xa0 \u251c\u2500\u2500 config\\n\u2502\xa0\xa0 \u251c\u2500\u2500 constant\\n\u2502\xa0\xa0 \u251c\u2500\u2500 logger\\n\u2502\xa0\xa0 \u251c\u2500\u2500 mailer\\n\u2502\xa0\xa0 \u251c\u2500\u2500 mongo\\n\u2502\xa0\xa0 \u251c\u2500\u2500 redis\\n\u2502\xa0\xa0 \u251c\u2500\u2500 request\\n\u2502\xa0\xa0 \u251c\u2500\u2500 s3\\n\u2502\xa0\xa0 \u2514\u2500\u2500 utils\\n\u251c\u2500\u2500 src\\n\u2502\xa0\xa0 \u251c\u2500\u2500 app.module.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 domain-admin\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 admin.module.ts\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 common\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 module\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 shared\\n\u2502\xa0\xa0 \u251c\u2500\u2500 domain-app\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 app.module.ts\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 common\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 module\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 shared\\n\u2502\xa0\xa0 \u251c\u2500\u2500 exception.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 global.d.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 main.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 modules\\n\u2502\xa0\xa0     \u251c\u2500\u2500 common\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 db\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 entity\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 filters\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 middleware\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 pipes\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 prom\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u2514\u2500\u2500 validate\\n\u2502\xa0\xa0     \u251c\u2500\u2500 enums\\n\u2502\xa0\xa0     \u251c\u2500\u2500 feature\\n\u2502\xa0\xa0     \u251c\u2500\u2500 mock\\n\u2502\xa0\xa0     \u251c\u2500\u2500 types\\n\u2502\xa0\xa0     \u251c\u2500\u2500 utils\\n\u2502\xa0\xa0     \u2514\u2500\u2500 vos\\n\u251c\u2500\u2500 tsconfig.build.json\\n\u251c\u2500\u2500 tsconfig.json\\n\u2514\u2500\u2500 yarn.lock\\n```\\n\\n### 4.2 \u4ee3\u7801\u98ce\u683c\\n\\n[Angular \u4ee3\u7801\u98ce\u683c\u6307\u5357](https://angular.io/guide/styleguide)\\n\\n### 4.3 \u5f02\u5e38\u76d1\u63a7\\n\\n\u6570\u636e\u91c7\u96c6 & \u5c55\u793a\u91c7\u7528 Prom + Grafana\uff0c\u76d1\u63a7\u6307\u6807\u8bbe\u8ba1 TODO\u3002\\n\\n### 4.4 \u65e5\u5fd7\u6253\u5370\\n\\n[winston](https://github.com/winstonjs/winston)\\n\\n\\n### 4.5 \u9879\u76ee\u6587\u6863\\n```shell\\nnpx @compodoc/compodoc -p tsconfig.json -s\\n```","isLeaf":true},{"key":"/achieve/react-native-template.md","path":"/achieve/react-native-template.md","route":"/achieve/react-native-template.md","leaf":true,"title":"react-native-template","depth":1,"content":"## 1. \u9879\u76ee\u4ecb\u7ecd\\nreact native \u5feb\u901f\u5f00\u53d1\u6a21\u677f\uff0c\u5e0c\u671b\u6709\u65f6\u95f4\u7684\u670b\u53cb\u4e00\u8d77\u6765\u5b8c\u5584\uff0c\u52a0\u5fae\u4fe1\u8fdb\u7fa4\uff1agaoxiong957\\n\\n## 2. \u6280\u672f\u9009\u578b\\n\\n### 2.1 \u6280\u672f\u9009\u578b\\n\\n| \u540d\u79f0     | \u65b9\u6848                                                                                                                    |\\n| -------- | ----------------------------------------------------------------------------------------------------------------------- |\\n| \u8def\u7531\u5e93   | [react navigation](https://reactnavigation.org)                                                                         |\\n| \u72b6\u6001\u7ba1\u7406 | mobx + context                                                                                                          |\\n| SVG \u56fe\u6807 | react-native-svg \u642d\u914d react-native-iconfont-cli                                                                         |\\n| \u672c\u5730\u5b58\u50a8 | @react-native-async-storage/async-storage                                                                               |\\n| \u65f6\u95f4\u5904\u7406 | [dayjs](https://day.js.org/docs/en/installation/typescript)                                                             |\\n| UI \u5e93    | [native-base](https://docs.nativebase.io/)                                                                              |\\n| \u552f\u4e00 ID  | uuid & react-native-get-random-values                                                                                   |\\n| \u6d88\u606f\u63a8\u9001 | [react-native-push-notification](https://github.com/zo0r/react-native-push-notification#readme)                         |\\n| \u65e5\u5fd7\u5de5\u5177 | [react-native-logs](https://github.com/onubo/react-native-logs)                                                         |\\n| \u52a8\u753b     | [lottie-react-native](https://github.com/lottie-react-native/lottie-react-native) [lottie](https://airbnb.io/lottie/#/) |\\n| \u6587\u4ef6\u7ba1\u7406 | [react-native-fs](https://github.com/itinance/react-native-fs) |\\n| \u626b\u4e8c\u7ef4\u7801 | [react-native-camera](https://react-native-camera.github.io/react-native-camera/) |\\n| \u9634\u5f71\u6548\u679c | [react-native-drop-shadow](https://www.npmjs.com/package/react-native-drop-shadow) |\\n| Table | [react-native-table-component](https://github.com/wiiai/react-native-table-component) |\\n| network-logger | [react-native-network-logger](https://www.npmjs.com/package/react-native-network-logger) |\\n| \u5206\u5305\u62c6\u5305 | TODO                                                                                                                    |\\n\\n### 2.2 \u5185\u90e8\u67b6\u6784\\n\\n```\\nsrc\\n\u251c\u2500\u2500 App.tsx\\n\u251c\u2500\u2500 assets\\n\u2502   \u251c\u2500\u2500 iconfont \u56fe\u6807\\n\u2502   \u2514\u2500\u2500 img \u56fe\u7247\\n\u251c\u2500\u2500 baseUI \u901a\u7528UI\\n\u251c\u2500\u2500 config \u914d\u7f6e\\n\u2502   \u251c\u2500\u2500 index.ts \u5e38\u91cf\u914d\u7f6e\\n\u2502   \u251c\u2500\u2500 theme.ts \u4e3b\u9898\u914d\u7f6e\\n\u2502   \u2514\u2500\u2500 request.ts http \u8bf7\u6c42\u914d\u7f6e\\n\u251c\u2500\u2500 global.d.ts \u5168\u5c40\u7c7b\u578b\u5b9a\u4e49\\n\u251c\u2500\u2500 models \u72b6\u6001\u7ba1\u7406\u76ee\u5f55\\n\u2502   \u251c\u2500\u2500 account.ts\\n\u2502   \u2514\u2500\u2500 index.ts\\n\u251c\u2500\u2500 navigator navigation \u914d\u7f6e\\n\u2502   \u251c\u2500\u2500 MainTab.tsx\\n\u2502   \u251c\u2500\u2500 MainTabBar.tsx\\n\u2502   \u2514\u2500\u2500 index.tsx\\n\u251c\u2500\u2500 pages \u9875\u9762\\n\u2502   \u251c\u2500\u2500 contact\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 detail\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 h5\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 home\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 login\\n\u2502   \u2502   \u251c\u2500\u2500 index.tsx\\n\u2502   \u2502   \u2514\u2500\u2500 style.ts\\n\u2502   \u2514\u2500\u2500 me\\n\u2502       \u2514\u2500\u2500 index.tsx\\n\u251c\u2500\u2500 services \u63a5\u53e3\\n\u2502   \u2514\u2500\u2500 account.ts\\n\u251c\u2500\u2500 types \u7c7b\u578b\u76ee\u5f55\\n\u2502   \u251c\u2500\u2500 ResData.ts\\n\u2502   \u2514\u2500\u2500 UserInfo.ts\\n\u251c\u2500\u2500 utils \u5de5\u5177\u51fd\u6570\\n\u2502   \u251c\u2500\u2500 auth.ts \u767b\u5f55\u76f8\u5173\\n\u2502   \u251c\u2500\u2500 screen.ts \u9875\u9762\u76f8\u5173\\n\u2502   \u251c\u2500\u2500 storage.ts \u672c\u5730\u5b58\u50a8\\n\u2514\u2500\u2500 wrappers\\n```\\n\\n### 2.3 \u542f\u52a8\u6d41\u7a0b\\n\\n```tsx\\nimport * as React from \'react\';\\nimport {rootStore, StoreContext} from \'./models\';\\nimport Navigator from \'./navigator\';\\nimport {NativeBaseProvider} from \'native-base\';\\nimport {loadCacheUInfo} from \'./utils/auth\';\\nimport {View, Text} from \'react-native\';\\n\\nexport default function App() {\\n  const [isLoaded, setIsLoaded] = React.useState(false);\\n\\n  React.useEffect(() => {\\n    beforeBootstrap().then(() => {\\n      setIsLoaded(true);\\n    });\\n  }, []);\\n\\n  // \u5728\u5e94\u7528\u4e3b\u6846\u67b6\u542f\u52a8\u4e4b\u524d\u8981\u5e72\u7684\u4e8b\u60c5\\n  // \u53ef\u4ee5\u5728\u8fd9\u91cc\u914d\u7f6e\u4f60\u60f3\u5e72\u7684\u4e8b\u60c5\\n  const beforeBootstrap = async () => {\\n    // \u4ece storage \u4e2d\u53d6\u51fa\u6570\u636e, \u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\\n    return await loadCacheUInfo();\\n  };\\n\\n  if (!isLoaded) {\\n    return (\\n      <View style={{flex: 1, justifyContent: \'center\', alignItems: \'center\'}}>\\n        <Text>\u52a0\u8f7d\u4e2d...</Text>\\n      </View>\\n    );\\n  }\\n\\n  return (\\n    <StoreContext.Provider value={rootStore}>\\n      <NativeBaseProvider>\\n        <Navigator />\\n      </NativeBaseProvider>\\n    </StoreContext.Provider>\\n  );\\n}\\n```\\n\\n### 2.4 \u90e8\u7f72\u6d41\u7a0b\\n\\n**Android**\\n```shell\\n# \u6784\u5efa\u751f\u4ea7\u5305\\ncd android && ./gradlew assembleRelease\\n```\\n\\n**IOS**\\n\\n## 3. \u6280\u672f\u65b9\u6848\\n\\n### 3.1 \u72b6\u6001\u7ba1\u7406\\n\\nmobx + context\\n\\n### 3.2 SVG \u56fe\u6807\u5904\u7406\\n\\n\u53c2\u8003 https://www.npmjs.com/package/react-native-iconfont-cli\\n\\n```shell\\n# \u521b\u5efa iconfont.json\\nnpx iconfont-init\\n\\n# \u5c06 SVG \u5904\u7406\u4e3a React Component\\nnpx iconfont-rn\\n```\\n\\n### 3.3 react-native-camera\\n\u4fee\u6539 `ViewPropTypes` \u7684\u5bfc\u5165\uff0cnode_modules/react-native-camera/src/RNCamera.js\\n![20230413141005](http://s3.airtlab.com/blog/20230413141005.png)\\n\\n## 4. \u57fa\u7840\u9875\u9762\\n\\n<table>\\n  <tr>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/home.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/full_bg.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/login_screen.png\\" style=\\"width: 240px\\" /></td>\\n  </tr>\\n  <tr>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/me_un_login.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/me_login.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/animate.gif\\" style=\\"width: 240px\\" /></td>\\n  </tr>\\n  <tr>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/fs.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/scan.png\\" style=\\"width: 240px\\" /></td>\\n  </tr>\\n</table>","isLeaf":true},{"key":"/achieve/sman.md","path":"/achieve/sman.md","route":"/achieve/sman.md","leaf":true,"title":"sman","depth":1,"content":"> git@github.com:Webang/sman.git\\n\\n## 1\u3001sman \u4ecb\u7ecd\\nsman \u662f\u4e00\u4e2a \u6027\u80fd\u76d1\u63a7 + \u5f02\u5e38\u76d1\u63a7 + \u6570\u636e\u57cb\u70b9 \u5de5\u5177\uff0c\u4f53\u9a8c\u5730\u5740\uff1ahttp://175.178.48.236:3000\\n\\n## 2\u3001\u6280\u672f\u67b6\u6784\\nmysql + redis + elasticsearch + kafka\\n\\n## 3\u3001\u6a21\u5757\u8bbe\u8ba1\\n- [x] \u7cfb\u7edf\u7ba1\u7406\\n  - [x] \u7528\u6237\u7ba1\u7406\\n  - [x] \u5e94\u7528\u7ba1\u7406 \\n- [x] \u7528\u6237\u5206\u6790\\n  - [x] \u8bbf\u95ee\u8f68\u8ff9\\n  - [x] \u7528\u6237\u5206\u5e03\\n- \u5f02\u5e38\u5206\u6790\\n  - \u6574\u4f53\u6982\u89c8\\n  - \u4ee3\u7801\u5f02\u5e38\\n  - \u63a5\u53e3\u5f02\u5e38\\n  - \u8d44\u6e90\u52a0\u8f7d\\n- \u6027\u80fd\u5206\u6790\\n  - \u63a5\u53e3\u6027\u80fd\\n  - \u9875\u9762\u6027\u80fd\\n- \u6f0f\u6597\u5206\u6790\\n- \u4e8b\u4ef6\u5206\u6790\\n- \u57cb\u70b9\u5206\u6790\\n  - \u57cb\u70b9\u7edf\u8ba1\\n- \u7559\u5b58\u5206\u6790\\n\\n## 4\u3001\u53c2\u8003\u8d44\u6599\\n- http://www.webfunny.cn/demo/home.html\\n- https://study.163.com/course/introduction.htm?courseId=1006304007&share=1&shareId=1025552318#/courseDetail?tab=1","isLeaf":true},{"key":"/achieve/wow-admin.md","path":"/achieve/wow-admin.md","route":"/achieve/wow-admin.md","leaf":true,"title":"wow-admin","depth":1,"content":"## 1\u3001admin \u57fa\u7840\u5f00\u53d1\u6a21\u677f\\n\\n- API https://github.com/fiiai/admin-basic-api\\n- UI  https://github.com/fiiai/admin-basic-umi","isLeaf":true},{"key":"/achieve/wow-im.md","path":"/achieve/wow-im.md","route":"/achieve/wow-im.md","leaf":true,"title":"wow-im","depth":1,"content":"> https://github.com/wiiai/wow-im\\n\\n## \u9879\u76ee\u4ecb\u7ecd\\n\\n`wow-im` \u662f\u4e00\u6b3e\u57fa\u4e8e\u7684\u5373\u65f6\u901a\u8baf\u4ea7\u54c1\uff0c\u652f\u6301\u7684\u7ec8\u7aef\u5305\u62ec: H5\u3001PC\u3001IOS & Android (ReactNative)\\n\\n\u6f14\u793a:\\n- H5 https://wow-im.airtlab.com/mobile\\n- PC https://wow-im.airtlab.com/web\\n- \u5b89\u5353 https://github.com/wiiai/wow-im-rn/release\\n- IOS https://github.com/wiiai/wow-im-rn/release\\n\\n\u6e90\u7801\uff1a\\n- \u670d\u52a1\u7aef https://github.com/wiiai/wow-im/server\\n- H5 https://github.com/wiiai/wow-im/ui\\n- ReactNative https://github.com/wiiai/wow-im-rn\\n\\n## \u5df2\u5b9e\u73b0\u529f\u80fd\\n- \u8d26\u6237\\n  - [x] \u767b\u5f55\\n- \u901a\u8baf\u5f55\\n  - [x] \u597d\u53cb\u5217\u8868\\n  - [x] \u7fa4\\n- \u804a\u5929\\n  - [x] \u5355\u804a\\n  - [x] \u7fa4\u804a\\n  - [x] \u89c6\u9891\u5355\u804a\\n  - [x] \u8bed\u97f3\u5355\u804a\\n- \u6d88\u606f\u5185\u5bb9\\n  - [x] \u6587\u5b57\\n- \u4f1a\u8bdd\\n  - [x] \u4f1a\u8bdd\u5217\u8868\\n  - [x] \u5386\u53f2\u6d88\u606f\\n\\n\\n## \u4f1a\u8bae\u6d41\u7a0b\\n1\u3001\u7ed9\u5728\u7ebf\u7528\u6237\u53d1\u8d77\u4f1a\u8bae\u9080\u8bf7\u63a8\u9001\uff0c\u88ab\u9080\u8bf7\u8005\u70b9\u51fb\u540c\u610f\u540e\u8fdb\u5165\u4f1a\u8bae\u8be6\u60c5\\n2\u3001\u4efb\u4f55\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u4f1a\u8bae URL \u8fdb\u5165\u4f1a\u8bae (DB\u91cc\u9762\u9700\u8981\u521b\u5efa\u4f1a\u8bae\u4fe1\u606f\uff0c\u4f1a\u8baeID \u6807\u8bc6\u4f1a\u8bae)\\n\\n## \u7528\u6237\u5728\u7ebf\u72b6\u6001\u7ef4\u62a4\\n---","isLeaf":true},{"key":"/achieve/wow-mall.md","path":"/achieve/wow-mall.md","route":"/achieve/wow-mall.md","leaf":true,"title":"wow-mall","depth":1,"content":"","isLeaf":true}]},{"key":"/android","path":"/android","route":"/android","leaf":false,"title":"android","depth":0,"content":"","isLeaf":false,"children":[{"key":"/android/01-basic","path":"/android/01-basic","route":"/android/01-basic","leaf":false,"title":"01-basic","depth":1,"content":"","isLeaf":false,"children":[{"key":"/android/01-basic/01.md","path":"/android/01-basic/01.md","route":"/android/01-basic/01.md","leaf":true,"title":"01","depth":2,"content":"---\\ntitle: 01 \u7ec8\u7aef\u542f\u52a8\u6a21\u62df\u5668\\n---\\n\\n```shell\\ncd ~/Library/Android/sdk/tools\\n\\n# \u8981\u5217\u51fa\u60a8\u7684AVD\\n./emulator -list-avds\\n\\n# \u8981\u76f4\u63a5\u8fd0\u884c\u67d0\u4e2aAVD\\n./emulator -avd {AVD_NAME}\\n```","isLeaf":true}]},{"key":"/android/01-use-javascriptcore.md","path":"/android/01-use-javascriptcore.md","route":"/android/01-use-javascriptcore.md","leaf":true,"title":"01-use-javascriptcore","depth":1,"content":"---\\ntitle: 01 \u4f7f\u7528 JavascriptCore\\ntags: Android\\n---\\n","isLeaf":true},{"key":"/android/02-react-native.md","path":"/android/02-react-native.md","route":"/android/02-react-native.md","leaf":true,"title":"02-react-native","depth":1,"content":"---\\ntitle: 02 React Native \u539f\u7406\\ntags: Android\\n---\\n\\nhttps://www.jianshu.com/p/7e067adaf270","isLeaf":true},{"key":"/android/03-use-quickjs.md","path":"/android/03-use-quickjs.md","route":"/android/03-use-quickjs.md","leaf":true,"title":"03-use-quickjs","depth":1,"content":"---\\ntitle: 03 \u4f7f\u7528 quickjs\\ntags: Android\\n---\\n\\n- https://github.com/taoweiji/quickjs-android\\n- https://www.jianshu.com/p/6fcc38f09281\\n- https://www.jianshu.com/p/6ffe30df4e30","isLeaf":true},{"key":"/android/04-use-yoga.md","path":"/android/04-use-yoga.md","route":"/android/04-use-yoga.md","leaf":true,"title":"04-use-yoga","depth":1,"content":"---\\ntitle: 04 use yoga\\ntags: Android\\n---\\n\\nYoga \u5e03\u5c40\u5f15\u64ce\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u6570\u503c\u8ba1\u7b97\u5f15\u64ce\uff0c\u5b83\u5b9e\u9645\u4e0a\u662f\u4e0e UI \u89c6\u56fe\u65e0\u5173\u7684\u3002\\n\\n\u5728 Yoga \u4e2d\uff0c\u5e03\u5c40\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u4e00\u4e2a\u8282\u70b9(YogaNode)\uff0c\u8fd9\u4e2a YogaNode \u4f1a\u4ee3\u8868\u754c\u9762\u4e0a\u7684\u67d0\u4e2a\u5143\u7d20\uff08\u6bd4\u5982\u4e00\u4e2a TextView\uff09\uff0c\u4f46\u662f\u4e24\u8005\u6ca1\u6709\u76f4\u63a5\u5173\u8054\u3002\\n\\n- https://cloud.tencent.com/developer/article/1006148?from=15425&areaSource=102001.2&traceId=dMKXhKr6CYMolCNoQIPPY\\n- https://maxiee.github.io/post/ReactNativeCode12md/\\n\\n```java\\n  FrameLayout container = new FrameLayout(this);\\n\\n  /**\\n   * \u5e03\u5c40\u7eaf\u6570\u503c\u8ba1\u7b97\\n   */\\n  float screenWidth = getWindowManager().getDefaultDisplay().getWidth();\\n  float screenHeight = getWindowManager().getDefaultDisplay().getHeight() - 56 - 24;\\n\\n  YogaNode root = new YogaNodeJNIFinalizer();\\n  root.setWidth(screenWidth);\\n  root.setHeight(screenHeight);\\n  root.setFlexDirection(YogaFlexDirection.ROW);\\n\\n  YogaNode rect1 = new YogaNodeJNIFinalizer();\\n    rect1.setFlex(1);\\n\\n  YogaNode rect2 = new YogaNodeJNIFinalizer();\\n    rect2.setFlex(2);\\n\\n  YogaNode rect3 = new YogaNodeJNIFinalizer();\\n    rect3.setFlex(1);\\n\\n  root.addChildAt(rect1, 0);\\n  root.addChildAt(rect2, 1);\\n  root.addChildAt(rect3, 2);\\n\\n  // \u7ed9\u5b9a\u5c4f\u5e55\u957f\u5bbd\uff0c\u6c42\u89e3\u5c4f\u5e55\u5143\u7d20\u4f4d\u7f6e\\n  root.calculateLayout(screenWidth, screenHeight);\\n\\n  View v1 = new View(this);\\n  v1.setBackgroundColor(Color.parseColor(\\"#d50000\\"));\\n  rect1.setData(v1);\\n\\n  View v2 = new View(this);\\n  v2.setBackgroundColor(Color.parseColor(\\"#ff1744\\"));\\n  rect2.setData(v2);\\n\\n  View v3 = new View(this);\\n  v3.setBackgroundColor(Color.parseColor(\\"#ff5252\\"));\\n  rect3.setData(v3);\\n\\n  container.addView(v1);\\n  container.addView(v2);\\n  container.addView(v3);\\n\\n  v1.setX(rect1.getLayoutX());\\n  v1.setY(rect1.getLayoutY());\\n  v1.setLayoutParams(new FrameLayout.LayoutParams((int)(rect1.getLayoutWidth()), (int)(rect1.getLayoutHeight())));\\n\\n  v2.setX(rect2.getLayoutX());\\n  v2.setY(rect2.getLayoutY());\\n  v2.setLayoutParams(new FrameLayout.LayoutParams((int)(rect2.getLayoutWidth()), (int)(rect2.getLayoutHeight())));\\n\\n  v3.setX(rect3.getLayoutX());\\n  v3.setY(rect3.getLayoutY());\\n  v3.setLayoutParams(new FrameLayout.LayoutParams((int)(rect3.getLayoutWidth()), (int)(rect3.getLayoutHeight())));\\n\\n  setContentView(container);\\n```","isLeaf":true},{"key":"/android/05-layout-inspector.md","path":"/android/05-layout-inspector.md","route":"/android/05-layout-inspector.md","leaf":true,"title":"05-layout-inspector","depth":1,"content":"---\\ntitle: 05 \u4f7f\u7528\u5e03\u5c40\u68c0\u67e5\u5668\\ntags: Android\\n---\\n\\nhttps://developer.android.com/studio/debug/layout-inspector?hl=zh-cn","isLeaf":true},{"key":"/android/06-Litho.md","path":"/android/06-Litho.md","route":"/android/06-Litho.md","leaf":true,"title":"06-Litho","depth":1,"content":"---\\ntags: Android\\n---\\n\\nhttps://fblitho.com/docs/mainconcepts/props/#combining-a-style-from-above-with-a-local-style","isLeaf":true}]},{"key":"/backend","path":"/backend","route":"/backend","leaf":false,"title":"backend","depth":0,"content":"","isLeaf":false,"children":[{"key":"/backend/elasticsearch","path":"/backend/elasticsearch","route":"/backend/elasticsearch","leaf":false,"title":"elasticsearch","depth":1,"content":"","isLeaf":false,"children":[{"key":"/backend/elasticsearch/01-diffrent-result-in-twice-query-if-not-set-sort.md","path":"/backend/elasticsearch/01-diffrent-result-in-twice-query-if-not-set-sort.md","route":"/backend/elasticsearch/01-diffrent-result-in-twice-query-if-not-set-sort.md","leaf":true,"title":"01-diffrent-result-in-twice-query-if-not-set-sort","depth":2,"content":"---\\ntags: elasticsearch\\n---\\n\\n\u4e00\u4e2a\u5947\u602a\u7684\u73b0\u8c61\uff0c\u5982\u679c ES \u67e5\u8be2\u65f6\u4e0d\u8bbe\u7f6e\u6392\u5e8f\u65f6\uff0c\u6d4b\u8bd5\u4e24\u6b21\u7684\u67e5\u8be2\u7ed3\u679c\u53ef\u80fd\u4e0d\u4e00\u81f4\uff0c\u4e3a\u4e86\u4fdd\u6301\u4e00\u81f4\uff0c\u6700\u597d\u8bbe\u7f6e\u6392\u5e8f\u89c4\u5219\u3002\\n\\n```json\\n{\\n  \\"sort\\": [\\n    { \\"create_time\\": { \\"order\\": \\"DESC\\" } },\\n  ],\\n  \\"from\\": 0,\\n  \\"size\\": 10\\n}\\n```","isLeaf":true},{"key":"/backend/elasticsearch/02-create-alias.md","path":"/backend/elasticsearch/02-create-alias.md","route":"/backend/elasticsearch/02-create-alias.md","leaf":true,"title":"02-create-alias","depth":2,"content":"![20230710171843](http://s3.airtlab.com/blog/20230710171843.png)\\n\\n\u522b\u540d\u64cd\u4f5c https://www.cnblogs.com/chenhuabin/p/13800715.html","isLeaf":true}]},{"key":"/backend/mysql","path":"/backend/mysql","route":"/backend/mysql","leaf":false,"title":"mysql","depth":1,"content":"","isLeaf":false,"children":[{"key":"/backend/mysql/01-query-on-tcp.md","path":"/backend/mysql/01-query-on-tcp.md","route":"/backend/mysql/01-query-on-tcp.md","leaf":true,"title":"01-query-on-tcp","depth":2,"content":"---\\ntags: Mysql\\n---\\n\\n## 1\u3001\u6267\u884c\u4e00\u6b21 mysql \u67e5\u8be2\uff0c\u4f1a\u8fdb\u884c\u51e0\u6b21 tcp \u901a\u8baf\\n\\n\u6267\u884c\u4e00\u6b21MySQL\u67e5\u8be2\u5927\u81f4\u4f1a\u8fdb\u884c\u4e24\u6b21TCP\u901a\u4fe1\uff1a\\n1. \u5efa\u7acb\u8fde\u63a5\uff1a\u5ba2\u6237\u7aef\u4e0eMySQL\u670d\u52a1\u5668\u901a\u8fc7TCP\u5efa\u7acb\u8fde\u63a5\u3002\\n\\n2. \u6267\u884c\u67e5\u8be2\uff1a\u5b8c\u6210\u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u5ba2\u6237\u7aef\u5411MySQL\u670d\u52a1\u5668\u53d1\u9001\u67e5\u8be2\u8bf7\u6c42\uff0cMySQL\u670d\u52a1\u5668\u8fd4\u56de\u67e5\u8be2\u7ed3\u679c\uff0c\u6b64\u8fc7\u7a0b\u4e2d\u4e5f\u662f\u4f7f\u7528TCP\u8fdb\u884c\u901a\u8baf\u3002\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u6267\u884c\u67e5\u8be2\u8fc7\u7a0b\u4e2d\uff0c\u901a\u4fe1\u6b21\u6570\u8fd8\u4f1a\u53d7\u5230\u4e00\u4e9b\u5176\u4ed6\u56e0\u7d20\u7684\u5f71\u54cd\uff0c\u5982\u67e5\u8be2\u7684\u590d\u6742\u7a0b\u5ea6\u3001\u8868\u7684\u5927\u5c0f\u3001\u7f51\u7edc\u72b6\u51b5\u7b49\u3002\u4f46\u662f\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\uff0cMySQL\u67e5\u8be2\u90fd\u4f1a\u8fdb\u884c\u81f3\u5c11\u4e24\u6b21TCP\u901a\u4fe1\u3002\\n\\n## 2\u3001\u6267\u884c\u67e5\u8be2\u7684\u8be6\u7ec6\u8fc7\u7a0b\\n\\nMySQL\u67e5\u8be2\u7684\u8be6\u7ec6\u8fc7\u7a0b\u5982\u4e0b\uff1a\\n1. \u5ba2\u6237\u7aef\u5411MySQL\u670d\u52a1\u5668\u53d1\u9001\u67e5\u8be2\u8bf7\u6c42\uff0c\u901a\u8fc7TCP\u5957\u63a5\u5b57\u53d1\u9001\u4e00\u4e2aSQL\u547d\u4ee4\u5b57\u7b26\u4e32\u5230MySQL\u670d\u52a1\u5668\u3002\\n\\n2. MySQL\u670d\u52a1\u5668\u6536\u5230\u67e5\u8be2\u8bf7\u6c42\u540e\uff0c\u89e3\u6790SQL\u547d\u4ee4\uff0c\u5982SELECT\u3001INSERT\u7b49\uff0c\u5e76\u5bf9\u547d\u4ee4\u8fdb\u884c\u5408\u6cd5\u6027\u9a8c\u8bc1\uff0c\u4f8b\u5982\u68c0\u67e5\u8bed\u6cd5\u9519\u8bef\u548c\u8bbf\u95ee\u6743\u9650\u3002\\n\\n3. \u5982\u679cSQL\u8bed\u53e5\u5408\u6cd5\uff0c\u5219\u670d\u52a1\u5668\u4f1a\u6267\u884cSQL\u67e5\u627e\u6570\u636e\u6216\u4fee\u6539\u6570\u636e\u7684\u64cd\u4f5c\u3002\u5bf9\u4e8e\u4e00\u4e2aSELECT\u67e5\u8be2\uff0c\u670d\u52a1\u5668\u4f1a\u5c06\u7ed3\u679c\u96c6\u62c6\u5206\u4e3a\u591a\u4e2a\u6570\u636e\u5305\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u3002\u5bf9\u4e8eINSERT\u3001UPDATE\u548cDELETE\u8bed\u53e5\uff0c\u670d\u52a1\u5668\u4f1a\u8fd4\u56de\u547d\u4ee4\u6267\u884c\u7684\u7ed3\u679c\u4fe1\u606f\u3002\\n\\n4. \u5ba2\u6237\u7aef\u63a5\u6536\u5230MySQL\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u65f6\uff0c\u901a\u8fc7TCP\u5957\u63a5\u5b57\u5c06\u7ed3\u679c\u96c6\u5b57\u8282\u6d41\u4f20\u8f93\u5230\u672c\u5730\u8ba1\u7b97\u673a\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u5c06\u7ed3\u679c\u96c6\u6570\u636e\u8f6c\u5316\u4e3a\u7a0b\u5e8f\u5185\u90e8\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5982\u4e8c\u7ef4\u6570\u7ec4\u3001\u54c8\u5e0c\u8868\u7b49\u3002\\n\\n5. \u5ba2\u6237\u7aef\u5904\u7406\u7ed3\u679c\u96c6\u6570\u636e\uff0c\u4f8b\u5982\u8fdb\u884c\u6570\u636e\u5206\u6790\u3001\u7edf\u8ba1\u548c\u5c55\u793a\u7b49\u64cd\u4f5c\u3002\\n\\n6. \u5ba2\u6237\u7aef\u91ca\u653e\u7ed3\u679c\u96c6\u5185\u5b58\u5e76\u5173\u95edTCP\u5957\u63a5\u5b57\u8fde\u63a5\u3002\\n\\n## 3\u3001\u6293\u5305\u5206\u6790\\n\\n![20230506165553](http://s3.airtlab.com/blog/20230506165553.png)\\n\\n![20230506165632](http://s3.airtlab.com/blog/20230506165632.png)\\n\\n![20230506165647](http://s3.airtlab.com/blog/20230506165647.png)\\n\\n## 4\u3001mysql \u901a\u8baf\u534f\u8bae","isLeaf":true},{"key":"/backend/mysql/02-mysql-utilities.md","path":"/backend/mysql/02-mysql-utilities.md","route":"/backend/mysql/02-mysql-utilities.md","leaf":true,"title":"02-mysql-utilities","depth":2,"content":"---\\ntags: Mysql\\n---\\n\\n## 1\u3001MySQL Utilities \u4ecb\u7ecd\\n\\nMySQL Utilities \u63d0\u4f9b\u4e00\u7ec4\u547d\u4ee4\u884c\u5de5\u5177\u7528\u4e8e\u7ef4\u62a4\u548c\u7ba1\u7406 MySQL \u670d\u52a1\u5668\uff0c\u5305\u62ec\uff1a\\n\\n- \u7ba1\u7406\u5de5\u5177 (\u514b\u9686\u3001\u590d\u5236\u3001\u6bd4\u8f83\u3001\u5dee\u5f02\u3001\u5bfc\u51fa\u3001\u5bfc\u5165)\\n- \u590d\u5236\u5de5\u5177 (\u5b89\u88c5\u3001\u914d\u7f6e)\\n- \u4e00\u822c\u5de5\u5177 (\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5\u3001\u5197\u4f59\u7d22\u5f15\u3001\u641c\u7d22\u5143\u6570\u636e)\\n\\nMySQL Utilities \u662f\u4e00\u7cfb\u5217\u7684\u547d\u4ee4\u884c\u5de5\u5177\u4ee5 \u53ca\u200b\xa0\u200bPython\u200b\u200b\u5e93\u66f4\u5bb9\u6613\u5b8c\u6210\u7ba1\u7406\u7684\u4efb\u52a1\\n\\n## 2\u3001\u901a\u8fc7 pip \u5b89\u88c5 \u3010\u5931\u8d25\u3011\\n\\n\u60a8\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u5728 macOS \u4e0a\u5b89\u88c5 mysql utilities\uff1a\\n\\n1. \u4f7f\u7528 Homebrew \u5b89\u88c5 MySQL\uff1a\\n\\n```\\nbrew install mysql\\n```\\n\\n2. \u5b89\u88c5 Python pip \u5de5\u5177\uff08\u5982\u679c\u60a8\u7684\u7cfb\u7edf\u5c1a\u672a\u5b89\u88c5\uff09\uff1a\\n\\n```\\nsudo easy_install pip\\n```\\n\\n\u8fd9\u91cc\u5b89\u88c5\u53ef\u80fd\u4f1a\u62a5\u9519 (https://stackoverflow.com/questions/72270592/syntaxerror-when-pip-install-pip-def-readrel-path-str) \\n\\n![20230515145909](http://s3.airtlab.com/blog/20230515145909.png)\\n\\n3. \u4f7f\u7528 pip \u5b89\u88c5 mysql-utilities\uff1a\\n\\n```\\nsudo pip install mysql-utilities\\n```\\n\\n\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u7ec8\u7aef\u4e2d\u8fd0\u884c mysql utilities \u547d\u4ee4\u3002\\n\\n## 3\u3001\u4e0b\u8f7d\u6e90\u7801\u5b89\u88c5 \u3010\u6210\u529f\u3011\\n\\nhttps://github.com/mysql/mysql-utilities/releases/tag/release-1.6.5\\n\\n```shell\\ncd mysql-utilities-release-1.6.5\\npython setup.py install\\n\\ncd /Library/Frameworks/Python.framework/Versions/2.7/bin\\n```\\n\\n![20230515160248](http://s3.airtlab.com/blog/20230515160248.png)\\n\\n## 4\u3001\u6d4b\u8bd5 mysqldiff\\n\\n```shell\\nmysqldiff --server1=root:123456@127.0.0.1:3306 --server2=root:123456@127.0.0.1:3306 --changes-for=server2 test:test2\\n```\\n\\n\u63d0\u793a\u7f3a\u5c11 MySQLConverter\\n\\n```shell\\nTraceback (most recent call last):\\n  File \\"/Library/Frameworks/Python.framework/Versions/2.7/bin/mysqldiff\\", line 30, in <module>\\n    from mysql.utilities.command.diff import object_diff, database_diff\\n  File \\"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/mysql/utilities/command/diff.py\\", line 25, in <module>\\n    from mysql.utilities.common.database import Database\\n  File \\"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/mysql/utilities/common/database.py\\", line 32, in <module>\\n    from mysql.utilities.common.options import obj2sql\\n  File \\"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/mysql/utilities/common/options.py\\", line 36, in <module>\\n    from mysql.connector.conversion import MySQLConverter\\nImportError: No module named connector.conversion\\n```\\n\\n\u5b89\u88c5\\n```shell\\npip install mysql-connector-python\\n```\\n\\n\u53c8\u63d0\u793a\\n```text\\nTraceback (most recent call last):\\n  File \\"/Library/Frameworks/Python.framework/Versions/2.7/bin/mysqldiff\\", line 28, in <module>\\n    from mysql.utilities.common.tools import check_python_version\\nImportError: No module named utilities.common.tools\\n```\\n\\n\u653e\u5f03\u4e86... \u5c31\u5f88\u65e0\u8bed \ud83d\ude2d\ud83d\ude2d\ud83d\ude2d","isLeaf":true},{"key":"/backend/mysql/03-mysql-workbench.md","path":"/backend/mysql/03-mysql-workbench.md","route":"/backend/mysql/03-mysql-workbench.md","leaf":true,"title":"03-mysql-workbench","depth":2,"content":"---\\ntags: Mysql\\n---\\n\\n## 1\u3001MySQL Workbench \u4ecb\u7ecd\\n\\nMySQL Workbench \u662f\u4e00\u4e2a\u53ef\u89c6\u5316\u6570\u636e\u5e93\u8bbe\u8ba1\u548c\u7ba1\u7406\u5de5\u5177\uff0c\u65e8\u5728\u7b80\u5316 MySQL \u6570\u636e\u5e93\u7684\u5f00\u53d1\u3001\u90e8\u7f72\u548c\u7ba1\u7406\u3002\\nMySQL Workbench \u63d0\u4f9b\u4e86\u4ee5\u4e0b\u529f\u80fd\uff1a\\n\\n1. \u6570\u636e\u5e93\u5efa\u6a21\u548c\u8bbe\u8ba1\uff1a\u5141\u8bb8\u7528\u6237\u901a\u8fc7\u53ef\u89c6\u5316\u5de5\u5177\u8fdb\u884c\u6570\u636e\u5e93\u8bbe\u8ba1\u548c\u5efa\u6a21\u3002\\n\\n2. SQL \u5f00\u53d1\uff1a\u5141\u8bb8\u7528\u6237\u521b\u5efa\u3001\u7f16\u8f91\u548c\u6267\u884c SQL \u67e5\u8be2\u3001\u8bed\u53e5\u548c\u811a\u672c\u3002\\n\\n3. \u6570\u636e\u5e93\u7ba1\u7406\uff1a\u5141\u8bb8\u7528\u6237\u521b\u5efa\u3001\u4fee\u6539\u3001\u5220\u9664\u6570\u636e\u5e93\u3001\u8868\u3001\u89c6\u56fe\u3001\u5b58\u50a8\u8fc7\u7a0b\u7b49\u3002\\n\\n4. \u6570\u636e\u8fde\u63a5\uff1aMySQL Workbench \u5141\u8bb8\u7528\u6237\u8fde\u63a5\u591a\u4e2a MySQL \u5b9e\u4f8b\uff0c\u5305\u62ec\u5728\u672c\u5730\u6216\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u7684 MySQL \u5b9e\u4f8b\u3002\\n\\n5. \u6570\u636e\u5e93\u5907\u4efd\u548c\u6062\u590d\uff1aMySQL Workbench \u5141\u8bb8\u7528\u6237\u5bf9 MySQL \u6570\u636e\u5e93\u8fdb\u884c\u5907\u4efd\u548c\u8fd8\u539f\uff0c\u4ee5\u53ca\u7ba1\u7406\u5907\u4efd\u6587\u4ef6\u3002\\n\\n6. \u6570\u636e\u5e93\u6027\u80fd\u5206\u6790\u548c\u4f18\u5316\uff1aMySQL Workbench \u5141\u8bb8\u7528\u6237\u67e5\u770b\u548c\u5206\u6790 MySQL \u6570\u636e\u5e93\u7684\u6027\u80fd\uff0c\u5e76\u751f\u6210\u53ef\u89c6\u5316\u56fe\u8868\u3002\u540c\u65f6\u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e9b\u4f18\u5316\u5de5\u5177\uff0c\u5982\u67e5\u8be2\u4f18\u5316\u5668\u7b49\u3002\\n\\n\u603b\u4e4b\uff0cMySQL Workbench \u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u548c DBA \u66f4\u9ad8\u6548\u5730\u8bbe\u8ba1\u3001\u5f00\u53d1\u548c\u7ba1\u7406 MySQL \u6570\u636e\u5e93\uff0c\u5e76\u63d0\u4f9b\u5168\u9762\u7684\u6570\u636e\u5e93\u7ba1\u7406\u548c\u6027\u80fd\u4f18\u5316\u5de5\u5177\u3002","isLeaf":true},{"key":"/backend/mysql/04-get-db-used-size.md","path":"/backend/mysql/04-get-db-used-size.md","route":"/backend/mysql/04-get-db-used-size.md","leaf":true,"title":"04-get-db-used-size","depth":2,"content":"---\\ntags: Mysql\\n---\\n\\n## 1\u3001\u67d0\u5f20\u8868\u5360\u7528\u78c1\u76d8\u5927\u5c0f\\n\\n\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u8be2MySQL\u6570\u636e\u5e93\u4e2d\u67d0\u5f20\u8868\u5360\u7528\u7684\u78c1\u76d8\u5927\u5c0f\uff1a\\n\\n```\\nSELECT table_name AS \\"Table\\",\\nROUND(((data_length + index_length) / 1024 / 1024), 2) AS \\"Size (MB)\\"\\nFROM information_schema.TABLES\\nWHERE table_schema = \\"<your_database_name>\\"\\nAND table_name = \\"<your_table_name>\\";\\n```\\n\\n\u8bf7\u5c06 `<your_database_name>` \u548c `<your_table_name>` \u66ff\u6362\u4e3a\u60a8\u60f3\u67e5\u8be2\u7684\u6570\u636e\u5e93\u540d\u79f0\u548c\u8868\u540d\u79f0\u3002\\n\\n\u6267\u884c\u8be5\u547d\u4ee4\u540e\uff0c\u60a8\u5c06\u770b\u5230\u8868\u683c\u540d\u79f0\u548c\u8868\u5360\u7528\u7684\u78c1\u76d8\u7a7a\u95f4\u5927\u5c0f\uff08\u4ee5MB\u4e3a\u5355\u4f4d\uff09\u3002\\n\\n## 2\u3001\u6570\u636e\u5e93\u5360\u7528\u78c1\u76d8\u5927\u5c0f\\n\\n\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0bMySQL\u67e5\u8be2\u6765\u68c0\u7d22\u6574\u4e2a\u6570\u636e\u5e93\u6240\u5360\u7528\u7684\u78c1\u76d8\u7a7a\u95f4\u5927\u5c0f\uff1a\\n\\n```\\nSELECT table_schema AS \\"Database\\",\\nSUM(data_length + index_length) / 1024 / 1024 AS \\"Size (MB)\\"\\nFROM information_schema.TABLES\\nGROUP BY table_schema;\\n```\\n\\n\u6267\u884c\u8be5\u547d\u4ee4\u540e\uff0c\u60a8\u5c06\u770b\u5230\u6bcf\u4e2a\u6570\u636e\u5e93\u7684\u540d\u79f0\u548c\u5b83\u6240\u5360\u7528\u7684\u78c1\u76d8\u7a7a\u95f4\u5927\u5c0f\uff08\u4ee5MB\u4e3a\u5355\u4f4d\uff09\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u5c06\u4e3a\u6240\u6709\u8868\u683c\u7684\u6570\u636e\u548c\u7d22\u5f15\u7a7a\u95f4\u603b\u548c\u63d0\u4f9b\u4e00\u4e2a\u4f30\u8ba1\u503c\u3002","isLeaf":true}]},{"key":"/backend/nginx","path":"/backend/nginx","route":"/backend/nginx","leaf":false,"title":"nginx","depth":1,"content":"","isLeaf":false,"children":[{"key":"/backend/nginx/01-introduce.md","path":"/backend/nginx/01-introduce.md","route":"/backend/nginx/01-introduce.md","leaf":true,"title":"01-introduce","depth":2,"content":"---\\ntitle: 01 nginx \u4ecb\u7ecd\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1\u3001nginx \u4ecb\u7ecd\\n\\nNginx \u662f\u4e00\u4e2a\u514d\u8d39\u5f00\u6e90\u7684\u3001\u9ad8\u6027\u80fd\u7684Web\u670d\u52a1\u5668\u8f6f\u4ef6\uff0c\u53ef\u7528\u505a\uff1a\\n- \u53cd\u5411\u4ee3\u7406\\n- \u8d1f\u8f7d\u5747\u8861\\n- HTTP\u7f13\u5b58\\n- \u52a8\u9759\u5206\u79bb\\n\\nNginx \u6700\u521d\u7531Igor Sysoev\u5f00\u53d1\uff0c\u73b0\u7531 NGINX INC. \u7ef4\u62a4\u3002\\n\\nNginx \u662f\u57fa\u4e8e**\u4e8b\u4ef6\u9a71\u52a8**\u7684\u65b9\u5f0f\u5b9e\u73b0\u7684\uff0c\u5b83\u91c7\u7528**\u5f02\u6b65\u975e\u963b\u585eI/O\u6a21\u578b**\uff0c\u5728\u5904\u7406\u9ad8\u5e76\u53d1\u8bf7\u6c42\u65f6\u6027\u80fd\u6bd4\u4f20\u7edf\u7684\u963b\u585e\u5f0fWeb\u670d\u52a1\u5668\u66f4\u4f18\u79c0\u3002Nginx\u53ef\u4ee5\u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u540c\u65f6\u5904\u7406\u6570\u4e07\u4e2a\u5e76\u53d1\u8bf7\u6c42\uff0c\u5bf9\u9ad8\u6d41\u91cf\u7f51\u7ad9\u6765\u8bf4\u662f\u975e\u5e38\u6709\u7528\u7684\u3002\\n\\n\u5728\u53cd\u5411\u4ee3\u7406\u4e2d\uff0cNginx\u53ef\u4ee5\u5c06\u5ba2\u6237\u7aef\u8bf7\u6c42\u8f6c\u53d1\u5230\u591a\u4e2a\u540e\u7aefWeb\u670d\u52a1\u5668\u8fdb\u884c\u5904\u7406\uff0c\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\uff0c\u4fdd\u8bc1\u670d\u52a1\u5668\u7684\u9ad8\u53ef\u7528\u6027\u548c\u6027\u80fd\u5f39\u6027\u3002\\n\\nNginx\u53ef\u4ee5\u901a\u8fc7\u6a21\u5757\u548c\u63d2\u4ef6\u6269\u5c55\u529f\u80fd\uff0c\u4f8b\u5982\u589e\u52a0HTTPS\u652f\u6301\uff0c\u5b9e\u73b0\u52a8\u6001\u5185\u5bb9\u7684FastCGI\u4ee3\u7406\uff0c\u7f13\u5b58\u548c\u538b\u7f29\u6570\u636e\u7b49\u7b49\u3002\\n\\nNginx\u6613\u4e8e\u914d\u7f6e\u548c\u4f7f\u7528\uff0c\u5177\u6709\u8f83\u9ad8\u7684\u53ef\u9760\u6027\u548c\u7a33\u5b9a\u6027\uff0c\u5728Linux\u548cUNIX\u7b49\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u5e7f\u6cdb\u5e94\u7528\u4e8e\u9ad8\u6027\u80fdWeb\u670d\u52a1\u5668\uff0c\u4e91\u8ba1\u7b97\u9886\u57df\u548c\u5927\u578b\u4f01\u4e1a\u7ea7\u5e94\u7528\u7cfb\u7edf\u4e2d\u3002\\n\\n## 2\u3001nginx \u67b6\u6784\\n\\n![20230609162440](http://s3.airtlab.com/blog/20230609162440.png)\\n\\nNginx\u670d\u52a1\u5668\u7684\u8fdb\u7a0b\u6a21\u578b\u6709\u4e24\u79cd\uff1a`Single\u6a21\u578b` \u548c `Master-Worker\u6a21\u578b`\u3002`Single\u6a21\u578b` \u4e3a\u5355\u8fdb\u7a0b\u65b9\u5f0f\uff0c\u6027\u80fd\u8f83\u5dee\uff0c\u4e00\u822c\u5728\u5b9e\u9645\u5de5\u4f5c\u4e2d\u4e0d\u4f7f\u7528\u3002`Master-Worker\u6a21\u578b` \u5b9e\u9645\u4e0a\u88ab\u66f4\u5e7f\u6cdb\u5730\u79f0\u4e3a `Master-Slave\u6a21\u578b`\u3002\u5728Nginx\u670d\u52a1\u5668\u4e2d\uff0c\u5145\u5f53Slave\u89d2\u8272\u7684\u662f\u5de5\u4f5c\u8fdb\u7a0b\u3002\\n\\n## 3\u3001\u5b66\u4e60\u8d44\u6e90\\n**(1) \u5b98\u65b9\u6587\u6863**\\n\\n\u5bf9\u6bcf\u4e2a\u6a21\u5757\u7684\u4f7f\u7528\u90fd\u4ecb\u7ecd\u7684\u975e\u5e38\u6e05\u695a\u3002http://nginx.org/en/docs\\n\\n**(2)\u300aNginx\u9ad8\u6027\u80fdWeb\u670d\u52a1\u5668\u8be6\u89e3 \u300b**\\n\\n\u6b64\u4e66\u5bf9\u65b0\u624b\u975e\u5e38\u53cb\u597d\uff0c\u80fd\u591f\u5feb\u901f\u4e0a\u624b \u4ee5\u53ca \u4e86\u89e3 Nginx \u7684\u5de5\u4f5c\u6a21\u5f0f\u3002https://weread.qq.com/web/bookDetail/e8d3200059fb19e8d3b2af6\\n","isLeaf":true},{"key":"/backend/nginx/02-root-vs-alias.md","path":"/backend/nginx/02-root-vs-alias.md","route":"/backend/nginx/02-root-vs-alias.md","leaf":true,"title":"02-root-vs-alias","depth":2,"content":"---\\ntitle: 02 root \u548c alias \u7684\u533a\u522b\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\nnginx \u6307\u5b9a\u6587\u4ef6\u8def\u5f84\u6709\u4e24\u79cd\u65b9\u5f0f root \u548c alias\uff0c\u4e24\u8005\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e nginx \u5982\u4f55\u89e3\u91ca location \u540e\u9762\u7684 uri\u3002\\n\\n## 1\u3001\u771f\u5b9e\u76ee\u5f55\u4e0e\u865a\u62df\u76ee\u5f55\\n\\n\u5b98\u65b9\u7684\u8bf4\uff0calias \u6307\u4ee4\u7528\u6765\u91cd\u7f6e\u5f53\u524d\u6587\u4ef6\u7684\u76ee\u5f55\uff0clacation \u540e\u9762\u7684uri \u662f\u865a\u62df\u76ee\u5f55\uff0c\u800c\u4f7f\u7528 root \u65f6\uff0clacation \u540e\u9762\u7684 uri \u662f\u771f\u5b9e\u76ee\u5f55\u3002\\n\\n\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5bf9\u4e8e\u76f8\u540c\u914d\u7f6e\uff0c\u8bbf\u95ee [http://localhost/test/index.html](http://localhost/test/index.html)\\n\\n```nginx\\nlocation ^~ /test/ {\\n  root /www/root/html/;\\n}\\n```\\n\\n\u5c06\u4f1a\u8bbf\u95ee\u670d\u52a1\u5668\u7684 /www/root/html/test/index.html \u8d44\u6e90\u3002\\n\\n```nginx\\nlocation ^~ /test/ {\\n  alias /www/root/html/;\\n}\\n```\\n\\n\u5c06\u4f1a\u8bbf\u95ee\u670d\u52a1\u5668\u7684 /www/root/html/index.html \u8d44\u6e90\u3002\\n\\n## 2\u3001\u4f7f\u7528\u5efa\u8bae\\n\\n\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5728 nginx \u914d\u7f6e\u4e2d\u7684\u826f\u597d\u4e60\u60ef\u662f\uff1a\\n\\n- 1\uff09\u5728location / \u4e2d\u914d\u7f6eroot\u76ee\u5f55\uff1b\\n- 2\uff09\u5728location /path \u4e2d\u914d\u7f6ealias\u865a\u62df\u76ee\u5f55\u3002\\n\\n\u5f53\u7136\uff0c\u4f7f\u7528 root + rewrite \u53ef\u4ee5 \u5b9e\u73b0\u865a\u62df\u76ee\u5f55\u7684\u529f\u80fd\u3002alias \u540e\u9762\u4e5f\u53ef\u4ee5\u4f7f\u7528 reweite \u529f\u80fd\uff0c\u6bd4\u5982\uff1a\\n\\n```nginx\\nlocation /web1 {\\n  # index index.html index;\\n  alias /Users/user/Desktop/html;\\n  rewrite /web1 /web2/web2;\\n}\\n\\nlocation /web2 {\\n  # index index.html index;\\n  alias /Users/user/Desktop/html;\\n}\\n```","isLeaf":true},{"key":"/backend/nginx/03-if-condition.md","path":"/backend/nginx/03-if-condition.md","route":"/backend/nginx/03-if-condition.md","leaf":true,"title":"03-if-condition","depth":2,"content":"---\\ntitle: 03 nginx \u6761\u4ef6\u5224\u65ad\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n\u521d\u7528 nginx \uff0c\u53d1\u73b0 nginx \u4e0d\u652f\u6301if\u5d4c\u5957\uff0c\u903b\u8f91\u4e0e\uff0c\u903b\u8f91\u6216\u3002\u4f46\u662f\u53ef\u4ee5\u91c7\u7528\u53d8\u91cf\u53e0\u52a0\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\uff0c\u4e3e\u4f8b\uff1a\\n\\n```nginx\\nlocation ~ / {\\n  root /Users/manba/Desktop/html;\\n\\n  set $talent_static_flag \\"0\\";\\n\\n  if ($request_uri ~* \\"\\\\.(gif|jpg|jpeg|bmp|png|ico|txt|json|svg|js|css)$\\") {\\n    # \u8bf7\u6c42\u8d44\u6e90\u7c7b\u578b\u4e3a\u9759\u6001\u8d44\u6e90\\n    set $talent_static_flag \\"1\\";\\n  }\\n\\n  if ($http_referer ~ \\".*\\\\/talent\\\\/?\\") {\\n    # \u8bf7\u6c42referer\u5305\u542b /talent\\n    set $talent_static_flag \\"{$talent_static_flag}1\\"; # \u8fd9\u91cc\u7684\u503c\u5305\u542b {}\uff0c\ud83d\ude02\u6682\u65f6\u4e0d\u77e5\u9053\u5982\u4f55\u53bb\u6389 \\n  }\\n\\n  if ($talent_static_flag = \\"{1}1\\") {\\n    rewrite /(.*) / break;\\n    proxy_pass http://demo.airtlab.com;\\n    break;\\n  }\\n}\\n```","isLeaf":true},{"key":"/backend/nginx/04-set-header.md","path":"/backend/nginx/04-set-header.md","route":"/backend/nginx/04-set-header.md","leaf":true,"title":"04-set-header","depth":2,"content":"---\\ntitle: 04 header \u64cd\u4f5c\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1. ngx_http_headers_module\\n\\n\u8fd9\u662f\u4e00\u4e2a\u81ea\u5e26\u6a21\u5757\uff0c\u5df2\u7ecf\u96c6\u6210\u5230\u4e86 nginx \u7684\u4e8c\u8fdb\u5236\u5b89\u88c5\u5305\u3002\\n\\n### 1) \u6dfb\u52a0 header \u5b57\u6bb5\\n\\n- \u8bed\u6cd5\uff1a`add_header name value [always];`\\n- \u4e0a\u4e0b\u6587\uff1a`http, server, location, if in location`\\n\\n```nginx\\nlocation = /test2 {\\n  add_header x-server nginx;\\n}\\n```\\n\\n> \u9ed8\u8ba4\u5f53\u54cd\u5e94\u72b6\u6001\u7801\u4e3a 200, 201 (1.3.10), 204, 206, 301, 302, 303, 304, 307 (1.1.16, 1.0.13), or 308 (1.13.0). add_header \u624d\u4f1a\u88ab\u4f7f\u7528\uff0c\u5982\u679c\u5e0c\u671b\u5ffd\u7565\u72b6\u6001\u7801\uff0c\u53ef\u4ee5\u4f7f\u7528\u662f 4 \u4e2a\u53c2\u6570 always\u3002\\n\\n> There could be several add_header directives. These directives are inherited from the previous configuration level if and only if there are no add_header directives defined on the current level. \u60a8\u53ef\u80fd\u4f1a\u914d\u7f6e\u591a\u4e2a add_header\uff0c\u4f46\u662f nginx \u53ea\u4f1a\u9075\u5faa\u5c31\u8fd1\u539f\u5219\uff0c\u6700\u7ec8\u53ea\u6709\u4e00\u4e2a\u4f1a\u751f\u6548\u3002\\n\\n\u53e6\u5916\uff0c\u5f53\u60a8\u4f7f\u7528\u4e86\u4ee3\u7406\u670d\u52a1\u5668\u65f6\uff0c\u5f53\u51fa\u73b0\u4e86\u540c\u540d\u7684\u5b57\u6bb5\uff0cadd_header \u4e0d\u80fd\u8986\u76d6\u539f\u6709\u7684 header \u5b57\u6bb5\uff0c\u53ea\u4f1a\u518d\u6b21\u589e\u52a0\uff0c\u8fd9\u4f1a\u5e26\u6765\u4e00\u4e9b BUG\u3002\\n\\n### 2) \u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4 expires\\n\\n```nginx\\nlocation / {\\n  expires    24h;\\n}\\n```\\n\\n\u76f4\u63a5\u770b\u6587\u6863\uff1a[http://nginx.org/en/docs/http/ngx_http_headers_module.html#expires](http://nginx.org/en/docs/http/ngx_http_headers_module.html#expires)\\n\\n## 2. headers_more \u6a21\u5757\\n\\n\u6e90\u7801\u5730\u5740\uff1ahttps://github.com/openresty/headers-more-nginx-module\u3002\u7528\u4e8e\u6dfb\u52a0\uff0c\u8bbe\u7f6e\uff0c\u6e05\u9664\u8f93\u5165\u548c\u8f93\u51fa\u7684\u5934\u4fe1\u606f\u3002nginx \u6e90\u7801\u6ca1\u6709\u5305\u542b\u8be5\u6a21\u5757\uff0c\u9700\u8981\u53e6\u884c\u6dfb\u52a0\u3002\\n\\n\u8be5\u6a21\u5757\u662f `ngx_http_headers_module` \u6a21\u5757\u7684\u589e\u5f3a\u7248\uff0c\u63d0\u4f9b\u4e86\u66f4\u591a\u7684\u5b9e\u7528\u5de5\u5177\uff0c\u6bd4\u5982\u590d\u4f4d\u6216\u6e05\u9664\u5185\u7f6e\u5934\u4fe1\u606f\uff0c\u5982 Content-Type, Content-Length, \u548c Server\u3002\\n\\n\u4e3b\u8981\u533a\u522b\uff1a\\n\\n1. \u8be5\u6a21\u5757\u7684\u6307\u793a\u9002\u7528\u4e8e\u6240\u6709\u7684\u72b6\u6001\u7801\uff0c\u5305\u62ec 4xx \u548c 5xx \u7684\u3002 add_header \u53ea\u9002\u7528\u4e8e 200\uff0c201\uff0c204\uff0c206\uff0c301\uff0c302\uff0c303\uff0c304\uff0c\u6216 307\u3002\\n2. \u53ef\u4ee5\u6dfb\u52a0\u6216\u8005\u66ff\u6362\u3002\\n\\n\u4e3b\u8981\u6307\u4ee4\uff1a\\n\\n- more_set_headers \u7528\u4e8e\u6dfb\u52a0\u3001\u4fee\u6539\u3001\u6e05\u9664\u54cd\u5e94\u5934\\n- more_clear_headers \u7528\u4e8e\u6e05\u9664\u54cd\u5e94\u5934\\n- more_set_input_headers \u7528\u4e8e\u6dfb\u52a0\u3001\u4fee\u6539\u3001\u6e05\u9664\u8bf7\u6c42\u5934\uff0c\u5e38\u5e38\u548c proxy_pass \u4e00\u8d77\u4f7f\u7528\u3002\\n- more_clear_input_headers \u7528\u4e8e\u6e05\u9664\u8bf7\u6c42\u5934\uff0c\u5e38\u5e38\u548c proxy_pass \u4e00\u8d77\u4f7f\u7528\u3002\\n\\n```nginx\\nlocation /bar {\\n  more_set_headers \'X-1: 1\' \'X-2: 1\';\\n  more_clear_headers \'Content-Type\';\\n  # proxy_pass ...\\n}\\n\\nlocation /foo {\\n  set $my_host \'my dog\';\\n  more_set_input_headers \'Host: $my_host\';\\n  # proxy_pass ...\\n}\\n```\\n\\n## 3. ngx_http_proxy_module\\n\u7528\u4e8e\u7ed9\u4ee3\u7406\u4e0b\u6e38\u670d\u52a1\u6dfb\u52a0\u8bf7\u6c42\u5934\\n\\n### 1) proxy_set_header\\n\\n\u8bed\u6cd5: `proxy_set_header field value;`\\n\u9ed8\u8ba4:\\n\\n```\\nproxy_set_header Host $proxy_host;\\nproxy_set_header Connection close;\\n```\\n\\n\u4e0a\u4e0b\u6587: http, server, location\\n\u4f7f\u7528\u8fd9\u4e2a\u6307\u4ee4\u7279\u522b\u6ce8\u610f\uff0c\u5982\u679c\u4f60\u7684\u4ee3\u7406\u670d\u52a1\u548c\u5ba2\u6237\u7aef\u662f\u540c\u4e00\u4e2a HOST\uff0c\u90a3\u4e48\u8f6c\u53d1\u8bbe\u7f6e\u662f\u8fd9\u6837\u7684\uff1a\\n\\n```nginx\\nproxy_set_header Host       $http_host\\n```\\n\\n\u5982\u679c\u4e0d\u662f\u540c\u4e00\u4e2a HOST\uff0c\u90a3\u4f60\u5e94\u8be5\u6539\u6210\u4f60\u9700\u8981\u7684\uff1a\\n\\n```nginx\\nproxy_set_header Host       $host;\\n```\\n\\n![](https://img2020.cnblogs.com/blog/2032346/202012/2032346-20201209090752688-1537133429.png#id=wqEca&originHeight=456&originWidth=2044&originalType=binary&ratio=1&status=done&style=none)\\n","isLeaf":true},{"key":"/backend/nginx/05-timeout-set.md","path":"/backend/nginx/05-timeout-set.md","route":"/backend/nginx/05-timeout-set.md","leaf":true,"title":"05-timeout-set","depth":2,"content":"---\\ntitle: 05 nginx \u8d85\u65f6\u8bbe\u7f6e\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1. \u957f\u94fe\u63a5\u8d85\u65f6 keepalive\\n- \u8bed\u6cd5: `keepalive_timeout timeout [ header_timeout ]`\\n- \u9ed8\u8ba4\u503c\uff1a75s\\n- \u4e0a\u4e0b\u6587: http server location\\n\\n\u8bf4\u660e\uff1a\\n\\n- \u7b2c\u4e00\u4e2a\u53c2\u6570\u6307\u5b9a\u4e86\u4e0e client \u7684 keep-alive \u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\u3002\u670d\u52a1\u5668\u5c06\u4f1a\u5728\u8fd9\u4e2a\u65f6\u95f4\u540e\u5173\u95ed\u8fde\u63a5\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a 60s\u3002\\n- \u53ef\u9009\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9a\u4e86\u5728\u54cd\u5e94\u5934 Keep-Alive: timeout=time\u4e2d\u7684time\u503c\u3002\u8fd9\u4e2a\u5934\u80fd\u591f\u8ba9\u4e00\u4e9b\u6d4f\u89c8\u5668\u4e3b\u52a8\u5173\u95ed\u8fde\u63a5\uff0c\u8fd9\u6837\u670d\u52a1\u5668\u5c31\u4e0d\u5fc5\u8981\u53bb\u5173\u95ed\u8fde\u63a5\u4e86\u3002\\n- keepalive_timeout \u7684\u503c\u5e94\u8be5\u5927\u4e8e client_body_timeout\\n\\n\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e0a\u901a\u8fc7 connectionId \u6d4b\u8bd5\u3002\\n\\n## 2. \u5ba2\u6237\u7aef header \u8d85\u65f6 client_header_timeout\\n\\n- \u8bed\u6cd5: `client_header_timeout 15s;`\\n- \u9ed8\u8ba4\u503c\uff1a60s\\n\\n\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u9001\u4e00\u4e2a\u5b8c\u6574\u7684 request header \u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5982\u679c60s\u5185\u6ca1\u6709\u6536\u5230\u5b8c\u6574\u7684 http request header\uff0c\u5219\u4e3a\u8d85\u65f6\u3002\u5982\u679c\u5ba2\u6237\u7aef\u8d85\u65f6\uff0cnginx \u8fd4\u56de HTTP 408\uff08Request Timed Out\uff09\u3002\\n\\n\u5f53 cookie \u5f88\u5927\u5f88\u5927\u65f6\uff0c\u5bb9\u6613\u51fa\u73b0\u3002\\n\\n## 3. \u5ba2\u6237\u7aef body \u8d85\u65f6 client_body_timeout\\n\\n- \u8bed\u6cd5\uff1a`client_body_timeout 15s;`\\n- \u9ed8\u8ba4\u503c\uff1a60s\\n\\n\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u9001 request body \u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5982\u679c\u8fde\u7eed\u768460s\u5185\u6ca1\u6709\u6536\u5230\u5ba2\u6237\u7aef\u76841\u4e2a\u5b57\u8282\uff0c\u5219\u8868\u793a\u8d85\u65f6\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u8d85\u65f6\uff0cnginx \u8fd4\u56de HTTP 408\uff08Request Timed Out\uff09\u3002\\n\\n## 4. \u5411\u5ba2\u6237\u7aef\u53d1\u9001\u6570\u636e\u8d85\u65f6 send_timeout\\n\\n- \u8bed\u6cd5\uff1a`send_timeout 15s;`\\n- \u9ed8\u8ba4\u503c: 60s\\n\\nsend_timeout \u6307\u5b9a\u5ba2\u6237\u7aef\u7684\u54cd\u5e94\u8d85\u65f6\u65f6\u95f4\u3002\u8fd9\u4e2a\u8bbe\u7f6e\u6307\u7684\u662f\u5728\u8fd9\u6bb5\u65f6\u95f4\u5185\uff0c\u5ba2\u6237\u7aef\u6ca1\u6709\u8bfb\u53d6\u4efb\u4f55\u6570\u636e\uff0cnginx\u5c31\u4f1a\u5173\u95ed\u8fde\u63a5\u3002\\n\\n## 5. \u5927\u6587\u4ef6\u4e0a\u4f20\\n\u6709\u5927\u6587\u4ef6\u4e0a\u4f20\u65f6\uff0c\u9700\u8981\u6307\u5b9abody\u7684\u6700\u5927\u503c:\\n```nginx\\nclient_max_body_size          50m;` # \u9ed8\u8ba41M\\n```\\n\\n\u8d85\u8fc7\u8fd9\u4e2a\u503c\u4f1a\u8fd4\u56de 413 \u72b6\u6001\u7801\u3002\\n\\n## 6. \u5927\u6587\u4ef6\u4e0b\u8f7d\\n\u5982\u679c\u6709\u5927\u6587\u4ef6\u4e0b\u8f7d\uff0c\u5efa\u8bae\u9650\u5236\u4e0b\u8f7d\u901f\u5ea6\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u7f51\u7ad9\u5954\u6e83\u3002\\n\\n## 7. nginx \u4f5c\u4e3a\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\\n\u901a\u5e38\u9700\u8981\u6ce8\u610f\u4ee5\u4e0b\u914d\u7f6e\uff1a\\n\\n- \u5b9a\u4e49\u4e0e\u88ab\u4ee3\u7406\u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5\u7684\u8d85\u65f6\uff0c\u5e94\u8be5\u6ce8\u610f\uff0c\u8fd9\u4e2a\u8d85\u65f6\u901a\u5e38\u4e0d\u80fd\u8d85\u8fc775\u79d2\u3002\\n```nginx\\nproxy_connect_timeout 60s;\\n```\\n\\n- \u8bbe\u7f6e\u5411\u88ab\u4ee3\u7406\u670d\u52a1\u5668\u4f20\u8f93\u8bf7\u6c42\u7684\u8d85\u65f6\u3002\u8d85\u65f6\u4ec5\u5728\u4e24\u4e2a\u8fde\u7eed\u7684\u5199\u64cd\u4f5c\u4e4b\u95f4\u8bbe\u7f6e\uff0c\u800c\u4e0d\u7528\u4e8e\u4f20\u8f93\u6574\u4e2a\u8bf7\u6c42\u3002\u5982\u679c\u4ee3\u7406\u670d\u52a1\u5668\u5728\u6b64\u671f\u95f4\u6ca1\u6709\u63a5\u6536\u5230\u4efb\u4f55\u5185\u5bb9\uff0c\u5219\u5173\u95ed\u8fde\u63a5\u3002\\n```nginx\\nproxy_send_timeout 60s;\\n```\\n\\n- \u5b9a\u4e49\u4ece\u88ab\u4ee3\u7406\u670d\u52a1\u5668\u8bfb\u53d6\u54cd\u5e94\u7684\u8d85\u65f6\u3002\u8d85\u65f6\u4ec5\u5728\u4e24\u4e2a\u8fde\u7eed\u7684\u8bfb\u53d6\u64cd\u4f5c\u4e4b\u95f4\u8bbe\u7f6e\uff0c\u800c\u4e0d\u7528\u4e8e\u4f20\u8f93\u6574\u4e2a\u54cd\u5e94\u3002\u5982\u679c\u4ee3\u7406\u670d\u52a1\u5668\u5728\u6b64\u671f\u95f4\u6ca1\u6709\u4f20\u8f93\u4efb\u4f55\u5185\u5bb9\uff0c\u5219\u5173\u95ed\u8fde\u63a5\u3002\\n```nginx\\nproxy_read_timeout 60s;\\n```\\n","isLeaf":true},{"key":"/backend/nginx/06-content-phase.md","path":"/backend/nginx/06-content-phase.md","route":"/backend/nginx/06-content-phase.md","leaf":true,"title":"06-content-phase","depth":2,"content":"---\\ntitle: 06 content \u9636\u6bb5\u7591\u60d1\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n```nginx\\nlocation /renwu/ {\\n  # 1\\n  rewrite /renwu(.*) /api/index.html break;\\n\\n  # 2\\n  proxy_pass http://renwu.airtlab.com;\\n}\\n```\\n\\n\u4e4b\u524d\u5bf9\u8fd9\u4e00\u5757\u4e0d\u4e86\u89e3\uff0c\u81ea\u5df1\u770b\u4e0d\u61c2\u4e0a\u9762\u7684\u914d\u7f6e\uff0c\u4ee5\u4e3a\u8fd9\u91cc\u7684 proxy_pass \u662f\u65e0\u6548\u7684\uff0c\u5f53\u8bbf\u95ee /renwu/ \u65f6\u6c38\u8fdc\u90fd\u662f\u8bbf\u95ee\\n`/api/index.html` \u8fd9\u4e2a\u8d44\u6e90\u3002\\n\\n\u4eca\u5929\u63a5\u624b\u4e86\u540c\u4e8b\u7684\u9879\u76ee\uff0c\u53d1\u73b0\u8fd9\u6837\u914d\u7f6e\u662f\u6709\u6548\u7684\uff0c\u4e8e\u662f\u67e5\u4e86\u76f8\u5173\u6587\u6863\u641e\u6e05\u695a\u4e86\uff0c\u8fd9\u91cc\u6d89\u53ca\u5230\u4e24\u4e2a\u77e5\u8bc6\u70b9\u3002\\n\\n\uff081\uff09rewrite \u6bd4 proxy_pass \u5148\u6267\u884c\uff0c\u800c\u4e14\u91cd\u5b9a\u5411\u540e\u7684 path \u4f1a\u66ff\u4ee3 proxy_pass \u7684 URI\\n\\n![20230512205118](http://s3.airtlab.com/blog/20230512205118.png)\\n\\n\uff082\uff09proxy_pass \u6709\u6548\u7684\u539f\u56e0\u662f\uff0cproxy_pass \u5728 conetnt \u9636\u6bb5\u6267\u884c\u3002\\n\\n> CONTENT \u9636\u6bb5\u6709\u4e9b\u7279\u6b8a\uff0c\u5b83\u4e0d\u50cf\u5176\u4ed6\u9636\u6bb5\u53ea\u80fd\u6267\u884c\u56fa\u5b9a\u7684 handler \u94fe\uff0c\u8fd8\u6709\u4e00\u4e2a\u7279\u6b8a\u7684 content_handler\uff0c\u6bcf\u4e2a location \u53ef\u4ee5\u6709\u81ea\u5df1\u72ec\u7acb\u7684 content handler\uff0c\u800c\u4e14\u5f53\u6709 content handler \u65f6\uff0cCONTENT \u9636\u6bb5\u53ea\u4f1a\u6267\u884c content handler\uff0c\u4e0d\u518d\u6267\u884c\u672c\u9636\u6bb5\u7684 handler \u94fe\u3002\\n\\n\\n> \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cnginx \u4f1a\u5728 CONTENT \u9636\u6bb5\u7684 handler\u94fe\u6302\u4e0aindex\u6a21\u5757\uff0c\u9759\u6001\u6587\u4ef6\u5904\u7406\u6a21\u5757\u7b49\u7684 handler\u3002\u53e6\u5916\u6a21\u5757\u8fd8\u53ef\u4ee5\u8bbe\u7f6e\u72ec\u7acb\u7684 content handler\uff0c\u6bd4\u5982ngx_http_proxy_module\u7684proxy_pass\u6307\u4ee4\u4f1a\u8bbe\u7f6e\u4e00\u4e2a\u540d\u4e3angx_http_proxy_handler\u7684content handler\u3002\\n\\n\u8fd9\u91cc\u89e3\u91ca\u4e86\u4e3a\u4ec0\u4e48\u8fd9\u91cc\u7684 proxy_pass \u6709\u6548\u7684\u539f\u56e0\uff0c\u53c2\u8003\u6587\u7ae0\u89c1\uff1a[http://tengine.taobao.org/book/chapter_12.html#content](http://tengine.taobao.org/book/chapter_12.html#content)","isLeaf":true},{"key":"/backend/nginx/07-rate-limit.md","path":"/backend/nginx/07-rate-limit.md","route":"/backend/nginx/07-rate-limit.md","leaf":true,"title":"07-rate-limit","depth":2,"content":"---\\ntitle: 07 \u8bbf\u95ee\u9650\u901f\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n- \u4f7f\u7528 nginx \u9650\u5236\u5355\u4e2a IP \u7684\u5e76\u53d1\u8fde\u63a5\u6570\u80fd\u591f\u51cf\u5c11\u4e00\u4e9b\u91c7\u96c6\u7a0b\u5e8f\u6216\u8005 DDOS \u7684\u653b\u51fb\\n- \u4f7f\u7528 nginx \u9650\u5236\u4e0b\u8f7d\u901f\u5ea6\uff0c\u53ef\u4ee5\u9632\u6b62\u4e0b\u8f7d\u5927\u6587\u4ef6\u65f6\uff0c\u5bfc\u81f4\u7f51\u7ad9\u4e0d\u53ef\u8bbf\u95ee\\n\\n```nginx\\nhttp {\\n  # ...\\n\\n  # \u9650\u5236\u5f53\u524d\u7ad9\u70b9\u6700\u5927\u5e76\u53d1\u6570 50\\n  limit_conn perserver 50;\\n\\n  # \u8bbe\u7f6e\u5355\u4e2a IP \u7684\u5e76\u53d1\u8fde\u63a5\u6570\u4e3a 10\\n  limit_conn perip 10;\\n\\n  # \u9650\u5236\u5ba2\u6237\u7aef\u4e0b\u8f7d\u901f\u5ea6100KB/\u79d2\uff0c\u6b64\u9650\u5236\u662f\u9488\u5bf9\u5355\u4e2a\u7ebf\u7a0b\\n  limit_rate       50k;\\n\\n  # 500k \u4ee5\u540e\u5f00\u59cb\u9650\u901f\\n  limit_rate_after 500k;\\n\\n  # ...\\n}\\n```","isLeaf":true},{"key":"/backend/nginx/08-log-setting.md","path":"/backend/nginx/08-log-setting.md","route":"/backend/nginx/08-log-setting.md","leaf":true,"title":"08-log-setting","depth":2,"content":"---\\ntitle: 08 \u65e5\u5fd7\u914d\u7f6e\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1. nginx \u65e5\u5fd7\u529f\u80fd\\n\\n\u5728 nginx \u4e2d\u6709\u4e24\u79cd\u65e5\u5fd7\uff1a\\n\\n- access_log\uff1a\u8bbf\u95ee\u65e5\u5fd7\uff0c\u901a\u8fc7\u8bbf\u95ee\u65e5\u5fd7\u53ef\u4ee5\u83b7\u53d6\u7528\u6237\u7684IP\u3001\u8bf7\u6c42\u5904\u7406\u7684\u65f6\u95f4\u3001\u6d4f\u89c8\u5668\u4fe1\u606f\u7b49\\n- error_log\uff1a\u9519\u8bef\u65e5\u5fd7\uff0c\u8bb0\u5f55\u4e86\u8bbf\u95ee\u51fa\u9519\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u7528\u4e8e\u5b9a\u4f4d\u9519\u8bef\u7684\u539f\u56e0\\n\\n## 2. \u8bbe\u7f6e access_log\\n\\n\u8bbf\u95ee\u65e5\u5fd7\u4e3b\u8981\u7528\u4e8e\u8bb0\u5f55\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u3002\u5ba2\u6237\u7aef\u5411 nginx \u670d\u52a1\u5668\u53d1\u8d77\u7684\u6bcf\u4e00\u6b21\u8bf7\u6c42\u90fd\u4f1a\u88ab\u8bb0\u5f55\u5230 access_log \u4e2d\u3002\\n\\n\u5305\u542b\u8bf7\u6c42 IP\u3001\u65f6\u95f4\u3001\u8bbf\u95ee url \u7b49\u7b49\uff0c\u5f53\u7136\u8bbf\u95ee\u65e5\u5fd7\u4e2d\u5177\u4f53\u8bb0\u5f55\u54ea\u4e9b\u65e5\u5fd7\u4fe1\u606f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 log_format \u8bbe\u7f6e\u3002\\n\\n### access_log \u6307\u4ee4\u8bed\u6cd5\\n\\n```bash\\naccess_log path [format [buffer=size] [gzip[=level]] [flush=time] [if=condition]]; # \u8bbe\u7f6e\u8bbf\u95ee\u65e5\u5fd7\\naccess_log off; # \u5173\u95ed\u8bbf\u95ee\u65e5\u5fd7\\n\\n- path \u8868\u793a\u6307\u5b9a\u65e5\u5fd7\u5b58\u653e\u4f4d\u7f6e\\n- format \u8868\u793a\u65e5\u5fd7\u683c\u5f0f\u5373\u65e5\u5fd7\u4e2d\u8bb0\u5f55\u7684\u5185\u5bb9\\n- buffer \u7528\u4e8e\u6307\u5b9a\u65e5\u5fd7\u5199\u5165\u65f6\u7684\u7f13\u5b58\u5927\u5c0f\uff0c\u9ed8\u8ba4 64k\\n- gzip \u65e5\u5fd7\u5199\u5165\u524d\u5148\u538b\u7f29\u3002\u538b\u7f29\u7387\u53ef\u4ee5\u6307\u5b9a\uff0c\u4ece1\u52309\u6570\u503c\u8d8a\u5927\u538b\u7f29\u6bd4\u8d8a\u9ad8\uff0c\u540c\u65f6\u538b\u7f29\u7684\u901f\u5ea6\u4e5f\u8d8a\u6162\uff0c\u9ed8\u8ba41\\n- flush \u8bbe\u7f6e\u7f13\u5b58\u7684\u65f6\u95f4\uff0c\u5982\u679c\u8d85\u8fc7flush\u6307\u5b9a\u7684\u65f6\u95f4\uff0c\u7f13\u5b58\u4e2d\u7684\u5185\u5bb9\u5c06\u88ab\u6e05\u7a7a\\n- if \u5224\u65ad\u6761\u4ef6\uff0c\u5982\u679c\u6307\u5b9a\u7684\u6761\u4ef6\u8ba1\u7b97\u4e3a0\u6216\u7a7a\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u8be5\u8bf7\u6c42\u4e0d\u4f1a\u88ab\u5199\u5165\u65e5\u5fd7\\n```\\n\\n\u8bbe\u7f6e buffer \u7684\u76ee\u7684\uff0c\u662f\u4e3a\u4e86\u907f\u514d\u9ad8\u9891\u5bf9\u78c1\u76d8\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\uff0c\u5373\u6682\u65f6\u5148\u4e0d\u5c06\u65e5\u5fd7\u5199\u5165\u78c1\u76d8\uff0c\u800c\u662f\u5b58\u5165\u5185\u5b58\u4e2d\uff0c\u7b49\u8fbe\u5230\u4e86\u8bbe\u7f6e\u7f13\u5b58\u5927\u5c0f\u4e4b\u540e\u518d\u4e00\u6b21\u6027\u5199\u5165\u3002\\n\\n\u6ce8\u610f flush \u6307\u4ee4\u662f\u548c buffer \u4e00\u8d77\u4f7f\u7528\u7684\uff0c\u5373\u6307\u5b9a buffer=size \u4e4b\u540e\uff0c\u5982\u679c\u8d85\u8fc7 flush \u6307\u4ee4\u8bbe\u5b9a\u7684\u65f6\u95f4\u4ecd\u7136\u672a\u8fbe\u5230\u7f13\u5b58\u533a\u5927\u5c0f\uff0c\u5219\u4e5f\u4f1a\u88ab\u5199\u5165\u5230\u78c1\u76d8\uff0c\u6ca1\u6709 buffer \u800c\u53ea\u6709 flush \u5219\u4f1a\u62a5\u9519\u3002\\n\\n### access_log \u914d\u7f6e\u793a\u4f8b\\n\\n```bash\\naccess_log /var/logs/nginx-access.log\\n```\\n\\n\u4e0a\u9762\u7684\u4f8b\u5b50\u6307\u5b9a\u65e5\u5fd7\u7684\u5199\u5165\u8def\u5f84\u4e3a /var/logs/nginx-access.log \u65e5\u5fd7\u683c\u5f0f\u9ed8\u8ba4\u4f7f\u7528 combined\uff1a\\n\\n```bash\\naccess_log /var/logs/nginx-access.log buffer=32k gzip flush=1m\\n```\\n\\n\u8be5\u4f8b\u5b50\u6307\u5b9a\u65e5\u5fd7\u5199\u5165\u8def\u5f84\u4e3a `/var/logs/nginx-access.log` \u65e5\u5fd7\u683c\u5f0f\u9ed8\u8ba4\u4f7f\u7528 combined \uff0c\u65e5\u5fd7\u7684\u7f13\u5b58\u5927\u5c0f\u4e3a 32k\uff0c\u65e5\u5fd7\u5199\u5165\u524d\u542f\u7528 gzip \u538b\u7f29\uff0c\u538b\u7f29\u6bd4\u503c 1\uff0c\u7f13\u5b58\u6570\u636e\u7684\u6709\u6548\u65f6\u95f4\u4e3a 1 \u5206\u949f\u3002\\n\\n\u9700\u8981\u6ce8\u610f\uff0c\u5728 nginx.conf \u6587\u4ef6\u4e2d access_log \u9ed8\u8ba4\u662f\u5173\u95ed\u7684\uff1a\\n![20230512205539](http://s3.airtlab.com/blog/20230512205539.png)\\n\\n\u53bb\u6389\u6ce8\u91ca\uff1a\\n![](http://c1.airtlab.com/15953369053114.jpg#id=yK5bl&originHeight=700&originWidth=2190&originalType=binary&ratio=1&status=done&style=none)\\n\\n### access_log \u65e5\u5fd7\u67e5\u770b\\n\\n\u901a\u8fc7 cat \u547d\u4ee4\u67e5\u770b\u65e5\u5fd7\uff1a\\n![](http://c1.airtlab.com/15953370482388.jpg#id=Atj9p&originHeight=490&originWidth=2878&originalType=binary&ratio=1&status=done&style=none)\\n\\n\u5b83\u7684\u683c\u5f0f\u4e3a\uff1a\\n![](http://c1.airtlab.com/15953374175706.jpg#id=lTOrp&originHeight=164&originWidth=1136&originalType=binary&ratio=1&status=done&style=none)\\n\\n```bash\\n127.0.0.1 - - [21/Jul/2020:21:10:27 +0800] \\"GET / HTTP/1.1\\" 304 0 \\"-\\" \\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36\\" \\"-\\"\\n\\n1. $remote_addr(\u5ba2\u6237\u7aef(\u7528\u6237) IP\u5730\u5740) 127.0.0.1\\n2. $remote_user(\u9700\u8981\u5728\u57fa\u4e8e\u8ba4\u8bc1\u89c4\u5219\u7684\u65f6\u5019\uff0c\u624d\u6709) \'\'\\n3. $time_local(\u8bbf\u95ee\u65f6\u95f4) 21/Jul/2020:21:10:27 +0800\\n4. $request(\u8bf7\u6c42\u7684 url \u5730\u5740) \\"GET / HTTP/1.1\\"\\n5. $body_bytes_sent(nginx\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u7684\u54cd\u5e94\u4f53\u7684\u5b57\u8282\u6570\uff0c\u5373\u4e0d\u542b\u54cd\u5e94\u5934) 0\\n6. $status(\u8bf7\u6c42\u72b6\u6001) 304 \\n7. $http_referer(\u8bf7\u6c42\u6765\u6e90) \\"-\\"\\n8. $http_user_agent(\u5ba2\u6237\u7aef\u4fe1\u606f) \\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36\\"\\n9. $http_x_forwarded_for(\u8868\u793a HTTP \u8bf7\u6c42\u7aef\u771f\u5b9e IP) \\"-\\"\\n```\\n\\n\u6211\u4eec\u4e5f\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u9700\u8981\u65e5\u5fd7\u4fe1\u606f\u5728 nginx \u914d\u7f6e\u6587\u4ef6\u4e2d\u4fee\u6539\u65e5\u5fd7\u683c\u5f0f\u3002\\n\\n## 3. \u8bbe\u7f6e error_log\\n\\nerror_log \u9519\u8bef\u65e5\u5fd7\uff0c\u8bb0\u5f55\u4e86\u8bbf\u95ee\u51fa\u9519\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u7528\u4e8e\u5b9a\u4f4d\u9519\u8bef\u7684\u539f\u56e0\u3002\\n\\n### error_log \u6307\u4ee4\u8bed\u6cd5\\n\\n```bash\\nerror_log file [level];\\n```\\n\\n\u7b2c\u4e00\u4e2a\u53c2\u6570\u6307\u5199\u5165\u9519\u8bef\u65e5\u5fd7\u7684\u8def\u5f84\\n\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u65e5\u5fd7\u7684\u7ea7\u522b\u3002level \u53ef\u4ee5\u662f\uff1adebug\u3001info\u3001notice\u3001warn\u3001error\u3001crit\u3001alert\u3001emerg \u4e2d\u7684\u4efb\u610f\u503c\u3002\u53ea\u6709\u65e5\u5fd7\u7684\u9519\u8bef\u7ea7\u522b\u5927\u4e8e\u7b49\u4e8elevel \u6307\u5b9a\u7684\u503c\u624d\u4f1a\u88ab\u5199\u5165\u9519\u8bef\u65e5\u5fd7\u4e2d\uff0c\u9ed8\u8ba4\u503c\u662f error\u3002\\n\\n### error_log \u914d\u7f6e\u793a\u4f8b\\n\\n```bash\\nerror_log logs/error.log error;\\n```\\n\\n### error_log \u65e5\u5fd7\u67e5\u770b\\n\\n![](http://c1.airtlab.com/15953384654024.jpg#id=XaDjw&originHeight=568&originWidth=2856&originalType=binary&ratio=1&status=done&style=none)\\n\\n```bash\\n2020/07/21 18:21:47 [emerg] 57325#0: bind() to 0.0.0.0:9000 failed (48: Address already in use)\\n\\n1. \u53d1\u751f\u9519\u8bef\u65f6\u95f4\uff1a2020/07/21 18:21:47 \\n2. \u65e5\u5fd7\u7ea7\u522b\uff1aemerg \\n3. \u8be6\u7ec6\u4fe1\u606f\uff1abind() to 0.0.0.0:9000 failed (48: Address already in use)\\n```\\n\\n## 4. \u53c2\u8003\u6587\u7ae0\\n1. [https://www.cnblogs.com/aoniboy/p/4866395.html](https://www.cnblogs.com/aoniboy/p/4866395.html)\\n2. [https://www.cnblogs.com/leeyongbard/p/10880356.html](https://www.cnblogs.com/leeyongbard/p/10880356.html)","isLeaf":true},{"key":"/backend/nginx/09-log-cutting.md","path":"/backend/nginx/09-log-cutting.md","route":"/backend/nginx/09-log-cutting.md","leaf":true,"title":"09-log-cutting","depth":2,"content":"---\\ntitle: 09 nginx \u65e5\u5fd7\u5207\u5272\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\nnginx web \u670d\u52a1\u5668\u4e2d access \u65e5\u5fd7\uff0c\u9ed8\u8ba4\u662f\u4e0d\u80fd\u6309\u65f6\u95f4\u5206\u9694\u7684\uff0c\u6bcf\u6b21\u65e5\u5fd7\u90fd\u662f\u6253\u5728access.log\u4e0a\uff0c\u8fd9\u6837\u4e45\u800c\u4e45\u4e4b\u8fd9\u4e2a\u65e5\u5fd7\u6587\u4ef6\u5c31\u7279\u522b\u7684\u5927\uff0c\u4e5f\u4e0d\u5229\u4e8e\u6e05\u7406\u548c\u7ba1\u7406\uff0c\u6545\u6b64\u6211\u4eec\u80af\u5b9a\u662f\u9700\u8981\u505a\u65f6\u95f4\u4e0a\u7684\u5207\u5272\u7684\uff0c\u90a3\u4e48\u5982\u4f55\u505a\u5230\u5b8c\u7f8e\u7684\u5207\u5272\u7684\u5462\uff1f\\n\\n\u6211\u4eec\u91c7\u53d6\u7684\u65b9\u6848\u662f\u5229\u7528shell\u811a\u672c\u548ccrontab\u5b9a\u65f6\u4efb\u52a1\u6765\u505a\uff1a\u6bcf\u5929 23:59:59 \u5c06\u65e5\u5fd7\u53d6\u51fa\u6765\u5e76\u65b0\u5efa\u6587\u4ef6\uff0c\u6bd4\u5982\uff1aerror-2020-07-20.log\u3002\\n\\n\u521b\u5efashell\u811a\u672c `cut_nginx_log.sh`\uff1a\\n\\n```shell\\n#!/bin/bash\\nyear=`date +%Y`\\nmonth=`date +%m`\\nday=`date +%d`\\nlogs_backup_path=\\"/usr/local/Cellar/nginx/1.15.8/logs\\"  \\n\\nlogs_path=\\"/usr/local/Cellar/nginx/1.15.8/logs/\\" \\nlogs_access=\\"access\\" \\nlogs_error=\\"error\\"\\npid_path=\\"/usr/local/etc/nginx/logs/nginx.pid\\"\\n\\n[ -d $logs_backup_path ]||mkdir -p $logs_backup_path\\nrq=`date +%Y_%m_%d`\\n\\nif [ -f \\"/usr/local/Cellar/nginx/1.15.8/logs/access.log\\" ];then\\nmv ${logs_path}${logs_error}.log ${logs_backup_path}/${logs_error}_${rq}.log\\nfi\\n\\nif [ -f \\"/usr/local/Cellar/nginx/1.15.8/logs/error.log\\" ];then\\nmv ${logs_path}${logs_access}.log ${logs_backup_path}/${logs_access}_${rq}.log\\nfi\\n\\n# \u5237\u65b0 nginx \u65e5\u5fd7\u6587\u4ef6\\nkill -USR1 $(cat /usr/local/etc/nginx/logs/nginx.pid)\\n```\\n\\n\u521b\u5efa\u5b9a\u65f6\u4efb\u52a1\uff1a\\n\\n```shell\\n# \u6bcf\u5929 23:59:\u5206\u5f00\u59cb\u6267\u884c\\ncrontab \u2013e 59 23 * * * bash cut_nginx_log.sh\\n```\\n\\n`kill -USR1 ...` \u7528\u4e8e\u5411nginx\u670d\u52a1\u4e3b\u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7, USR1\u4e3a\u4fe1\u53f7\u7c7b\u578b\uff0c\u5b83\u652f\u6301\u4ee5\u4e0b\u51e0\u79cd\uff1a\\n![](http://c1.airtlab.com/15954265846281.jpg#id=y1tYR&originHeight=602&originWidth=1964&originalType=binary&ratio=1&status=done&style=none)\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u4e0a\u9762\u7684\u811a\u672c\u4e2d\uff0c\u6211\u5c06 nginx \u7684\u5b89\u88c5\u8def\u5f84\u5199\u6b7b\u4e86\uff0c\u5e94\u8be5\u5c3d\u91cf\u907f\u514d\u8fd9\u79cd\u505a\u6cd5\uff0c\u901a\u7528\u6027\u4e0d\u5f3a\uff0c\u5e94\u8be5\u6539\u4e3a\u4f7f\u7528shell\u547d\u4ee4\u83b7\u53d6\u3002","isLeaf":true},{"key":"/backend/nginx/10-interview.md","path":"/backend/nginx/10-interview.md","route":"/backend/nginx/10-interview.md","leaf":true,"title":"10-interview","depth":2,"content":"---\\ntitle: 10 nginx \u5e38\u89c1\u95ee\u9898\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n- https://blog.csdn.net/weixin_43122090/article/details/105461971\\n- https://zhuanlan.zhihu.com/p/101907416?hmsr=toutiao.io\\n- https://www.zhihu.com/zvideo/1304102200206655488","isLeaf":true},{"key":"/backend/nginx/11-proxy.md","path":"/backend/nginx/11-proxy.md","route":"/backend/nginx/11-proxy.md","leaf":true,"title":"11-proxy","depth":2,"content":"---\\ntitle: 11 \u53cd\u5411\u4ee3\u7406\u914d\u7f6e\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n```nginx\\nserver {\\n  listen 80;\\n  server_name www.example.com example.com;\\n\\n  location /app {\\n    proxy_pass http://127.0.0.1:8080;\\n  }\\n}\\n```\\n\\n\u4e0a\u9762\u7684\u914d\u7f6e\u6307\u793a nginx \u5c06\u6240\u6709\u4ee5 `/app` \u5f00\u5934\u7684\u8bf7\u6c42\u4f20\u9012\u5230\u5230 `http://127.0.0.1:8080` \u670d\u52a1\\n\\n\u5c06\u8bf7\u6c42\u5934 Host \u5b57\u6bb5\u7684\u503c\u66f4\u6539\u4e3a $host\uff0c\u5e76\u5c06 Accept-Encoding \u503c\u8bbe\u7f6e\u4e3a\u7a7a\u5b57\u7b26\u4e32\u6765\u5220\u9664\u6807\u5934 Accept-Encoding \u8bf7\u6c42\u5934\u3002\\n\\n```nginx\\nlocation / {\\n  proxy_set_header Host $host;\\n  proxy_set_header Accept-Encoding \\"\\";\\n  proxy_pass http://localhost:3000;\\n}\\n```\\n\\n\u53c2\u8003 https://www.myfreax.com/nginx-reverse-proxy","isLeaf":true},{"key":"/backend/nginx/12-rewrite.md","path":"/backend/nginx/12-rewrite.md","route":"/backend/nginx/12-rewrite.md","leaf":true,"title":"12-rewrite","depth":2,"content":"---\\ntitle: 12 \u91cd\u5b9a\u5411\u529f\u80fd\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1. return \u6307\u4ee4\\n\\n(1) \u8bed\u6cd5\\n\\n![20230512210550](http://s3.airtlab.com/blog/20230512210550.png)\\n\\n(2) CODE\\n\\n-  301 \u6c38\u4e45\u91cd\u5b9a\u5411 \\n-  302 \u4e34\u65f6\u91cd\u5b9a\u5411\uff0c\u7981\u6b62\u7f13\u5b58 \\n-  303 \u4e34\u65f6\u91cd\u5b9a\u5411\uff0c\u5141\u8bb8\u6539\u53d8\u8bf7\u6c42\u65b9\u6cd5\uff0c\u4e34\u65f6\u91cd\u5b9a\u5411\uff0c\u7981\u6b62\u7f13\u5b58 \\n-  307 \u4e34\u65f6\u91cd\u5b9a\u5411\uff0c\u4e0d\u5141\u8bb8\u6539\u53d8\u8bf7\u6c42\u65b9\u6cd5\uff0c\u4e34\u65f6\u91cd\u5b9a\u5411\uff0c\u7981\u6b62\u7f13\u5b58 \\n-  308 \u6c38\u4e45\u91cd\u5b9a\u5411\uff0c\u4e0d\u5141\u8bb8\u6539\u53d8\u8bf7\u6c42\u65b9\u6cd5 \\n\\n(3) return \u5728\u5404\u4e0a\u4e0b\u6587\u7684\u6267\u884c\u987a\u5e8f\\nserver return > location return > error_page\\n\\n![20230512210612](http://s3.airtlab.com/blog/20230512210612.png)\\n\\n## 2. return \u4e0d\u4e0b\u8f7d\u6587\u4ef6\\n\\n![20230512211033](http://s3.airtlab.com/blog/20230512211033.png)\\n\\nnginx \u4f7f\u7528 return \u6307\u4ee4\uff0c\u4f1a\u4e0b\u8f7d\u6587\u4ef6\uff0c\u914d\u7f6e\u8fd4\u56de\u5185\u5bb9\u7684\u7f16\u7801\u683c\u5f0f\u5373\u53ef\uff1a\\n\\n```nginx\\nlocation /test {\\n  default_type text/html ;\\n  return 200 \\"hello $remote_addr\\";\\n}\\n```\\n\\n## 3. rewrite \u6307\u4ee4\\n\\n![20230512210642](http://s3.airtlab.com/blog/20230512210642.png)\\n\\n### 1. last \u548c break \u533a\u522b\u6f14\u793a\\n\\n\u5047\u8bbe html \u6839\u76ee\u5f55\u5982\u4e0b\uff1a\\n\\n![20230512210730](http://s3.airtlab.com/blog/20230512210730.png)\\n\\n```\\n\\n```nginx\\nlocation /first {\\n  rewrite /first(.*) /second$1 break;\\n  return 200 \\"first\\";\\n}\\n\\nlocation /second {\\n  rewrite /second(.*) /third$1 last;\\n  return 200 \\"second\\";\\n}\\n\\nlocation /test {\\n  rewrite /xxxtest(.*) /second$1 break;\\n  return 200 \\"test\\";\\n}\\n\\nlocation /third {\\n  return 200 \\"third\\";\\n}\\n```\\n\\n\u6f14\u793a last \u4e0e break \u533a\u522b\uff1a\\n\\n\uff081\uff09\u8bbf\u95ee /first/1.html\uff0c\u4f1a\u91cd\u5b9a\u5411\u5230 /second$1\uff0c\u6b64\u65f6\u4f7f\u7528\u4e86 break\uff0c\u5219\u505c\u6b62\u7ee7\u7eed\u5339\u914d\uff0c\u76f4\u63a5\u8bbf\u95ee /second/1.html\uff0c\u8fd9\u91cc\u8fd4\u56de 404\\n\\n\uff082\uff09\u8bbf\u95ee /second/3.html\uff0c\u4f1a\u91cd\u5b9a\u5411\u5230 /third$1\uff0c\u6b64\u65f6\u4f7f\u7528\u4e86 last\uff0c\u6240\u4ee5\u4e0d\u4f1a\u76f4\u63a5\u8f93\u51fa /third/3.html\uff0c\u800c\u662f\u7ee7\u7eed\u5339\u914d\uff0c\u8fdb\u5165 `location /third`\uff0c\u7136\u540e\u8fd4\u56de `third`\u3002\\n\\n\uff083\uff09\u8bbf\u95ee /test/1.html\uff0c\u6b64\u65f6 `location /test` \u4e0b\u7684 rewrite \u91cd\u5b9a\u5411\u5931\u8d25(\u5339\u914d\u5931\u8d25)\uff0c\u4f1a\u76f4\u63a5\u8d70\u540e\u9762\u7684 return \u8bed\u53e5\uff0c\u8fd4\u56de `test`\u3002\\n\\n### 2. rewrite 301/302 \u91cd\u5b9a\u5411\\n\\n![20230512210801](http://s3.airtlab.com/blog/20230512210801.png)\\n\\n### 3. \u5f00\u542f rewrite_log\\n\\nrewrite_log \u5f00\u542f\u540e\uff0c\u53ef\u4ee5\u770b\u5230\u91cd\u5b9a\u5411\u65e5\u5fd7\uff0c\u4ee5\u4fbf\u8c03\u8bd5\\n\\n![20230512210943](http://s3.airtlab.com/blog/20230512210943.png)","isLeaf":true},{"key":"/backend/nginx/13-try_file.md","path":"/backend/nginx/13-try_file.md","route":"/backend/nginx/13-try_file.md","leaf":true,"title":"13-try_file","depth":2,"content":"---\\ntitle: 13 try_file \u6307\u4ee4\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1\u3001\u6f14\u793a1\\n\\n```nginx\\nlocation / {\\n  root data;\\n  index index.html index.htm;\\n  try_files $uri $uri/ /index.html;\\n}\\n```\\n\\n**\u89e3\u91ca\u914d\u7f6e**\\n- root\uff1a\u8bbe\u7f6e\u9759\u6001\u6839\u76ee\u5f55\u4e3a data\\n- index\uff1a\u8bbe\u7f6e\u76ee\u5f55\u7684\u9ed8\u8ba4\u6587\u4ef6\u4e3a index.html \u3001index.htm\\n- try_files\uff1a\u8bbe\u7f6e\u6587\u4ef6\u67e5\u627e\u89c4\u5219\u4e3a $uri $uri/ /index.html\u3002\u53733\u4e2a\u89c4\u5219\uff0c\u5148\u4ece $uri \u67e5\u627e\uff0c\u518d\u4ece $uri/ \u76ee\u5f55\u4e2d\u67e5\u627e\uff0c\u6700\u540e\u67e5\u627e /index.html\u3002\\n\\n\u4f8b\u5b50\uff1a\u6839\u636e\u4e0a\u9762\u7684\u914d\u7f6e\uff0c\u5f53\u8bf7\u6c42 http://localhost:3004/api \u65f6\uff0c$uri \u4e3a /api\u3002\u5f53\u524dtry_file \u5177\u4f53\u4e3a\uff1a/api\u3001/api/\u3001/index.html\uff0c\u5176\u4e2d / \u8868\u793a\u6839\u76ee\u5f55\uff08\u6839\u636e root \u6216 alias \u6765\u6307\u5b9a\uff09\u3002\\n\\n**\u67e5\u627e\u903b\u8f91**\\n- \u9996\u5148\uff1a\u68c0\u67e5 data \u76ee\u5f55\u4e2d\u662f\u5426\u5b58\u5728 api \u6587\u4ef6\uff0c\u5982\u679c\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u6587\u4ef6\uff1b\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u8fdb\u884c\u4e0b\u4e00\u6b65\u3002\\n- \u5176\u6b21\uff1a\u68c0\u67e5 data \u76ee\u5f55\u4e2d\u662f\u5426\u5b58\u5728 api/ \u76ee\u5f55\uff0c\u5982\u679c\u5b58\u5728\uff0c\u5219\u5728\u68c0\u67e5 api/ \u76ee\u5f55\u4e2d\u662f\u5426\u5b58\u5728 index.html \u6216\u8005 index.htm \u6587\u4ef6\uff08\u7531 index \u6307\u5b9a\uff09\uff1b\u5982\u679c\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u8be5\u6587\u4ef6\u3002\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u8fdb\u884c\u4e0b\u4e00\u6b65\u3002\\n- \u6700\u540e\uff1a\u68c0\u67e5 data \u76ee\u5f55\u4e2d\u662f\u5426\u5b58\u5728 index.html \u6587\u4ef6\u3002\u5982\u679c\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u6587\u4ef6\uff1b\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de 404\u3002\\n\\n## 2\u3001\u6f14\u793a2\\n```nginx\\nlocation /pngs/ {\\n  root /data/user/;\\n  index index.html index.htm;\\n  try_files $uri   $uri/  /pngs/file.png; \\n}\\n```\\n\\n\u6839\u636e\u4e0a\u9762\u7684\u914d\u7f6e\uff0c\u5f53\u8bf7\u6c42 http://localhost:3003/pngs/rule.png \u65f6\uff0c $uri \u4e3a /pngs/rule.png\uff0c\u5f53\u524d try_file \u67e5\u627e\u987a\u5e8f\u4e3a\\n- \u9996\u5148\u662f\uff1a/data/user/pngs/rule.png\\n- \u5176\u6b21\u662f\uff1a/data/user/pngs/rule.png/ \u6587\u4ef6\u4e0b\u7684 index \u6240\u914d\u7f6e\u7684\u6587\u4ef6\uff0c\u5373\uff1a index.html\u3001index.htm\\n- \u6700\u540e\u662f\uff1a /data/user/pngs/file.png\u3002","isLeaf":true},{"key":"/backend/nginx/14-get-url-param.md","path":"/backend/nginx/14-get-url-param.md","route":"/backend/nginx/14-get-url-param.md","leaf":true,"title":"14-get-url-param","depth":2,"content":"---\\ntitle: 14 \u83b7\u53d6URL\u53c2\u6570\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## $args\\n\\n\u5728 nginx \u4e2d\u83b7\u53d6 URL \u53c2\u6570\u53ef\u4ee5\u4f7f\u7528 `ngx_http_core_module` \u6a21\u5757\u63d0\u4f9b\u7684 `$args` \u53d8\u91cf\uff0c\u8be5\u53d8\u91cf\u5305\u542b\u6574\u4e2a\u8bf7\u6c42\u4e2d\u7684 URL \u53c2\u6570\u5b57\u7b26\u4e32\u3002\\n\u8981\u83b7\u53d6\u7279\u5b9a\u53c2\u6570\u7684\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528 `ngx_http_set_misc_module` \u6a21\u5757\u63d0\u4f9b\u7684 `set` \u6307\u4ee4\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u793a\u4f8b\u914d\u7f6e\uff1a\\n\\n```nginx\\nlocation /example {\\n  set $param1 \'\';\\n  set $param2 \'\';\\n\\n  if ($args ~* \\"param1=([^&]+)\\") {\\n    set $param1 $1;\\n  }\\n\\n  if ($args ~* \\"param2=([^&]+)\\") {\\n    set $param2 $1;\\n  }\\n\\n  # do something with $param1 and $param2 here...\\n}\\n```\\n\\n\u5728\u4e0a\u9762\u7684\u914d\u7f6e\u4e2d\uff0c\u6211\u4eec\u9996\u5148\u5b9a\u4e49\u4e24\u4e2a\u53d8\u91cf `param1` \u548c `param2`\uff0c\u7136\u540e\u4f7f\u7528 `if` \u8bed\u53e5\u548c\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u63d0\u53d6\u53c2\u6570\u503c\u3002\u4f8b\u5982\uff0c\u5982\u679c URL \u5305\u542b\u53c2\u6570 `param1=foo`\uff0c\u90a3\u4e48 `$param1` \u53d8\u91cf\u5c06\u88ab\u8bbe\u7f6e\u4e3a `foo`\uff1b\u5982\u679c\u53c2\u6570\u4e0d\u5b58\u5728\uff0c\u5219 `$param1` \u5c06\u4fdd\u6301\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002\u6700\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 `$param1` \u548c `$param2` \u53d8\u91cf\u6267\u884c\u4efb\u4f55\u5fc5\u8981\u7684\u64cd\u4f5c\u3002\\n\\n## $arg_{name}\\n\\n\u901a\u8fc7 $arg_{name} \u83b7\u5f97\u5355\u4e2a\u53c2\u6570\u503c\uff0c\u6bd4\u5982 $arg_name \u7528\u4e8e\u83b7\u53d6 name \u7684\u503c\uff0c$arg_age \u7528\u4e8e\u83b7\u53d6 age \u7684\u503c","isLeaf":true},{"key":"/backend/nginx/15-match-question-mark.md","path":"/backend/nginx/15-match-question-mark.md","route":"/backend/nginx/15-match-question-mark.md","leaf":true,"title":"15-match-question-mark","depth":2,"content":"---\\ntitle: 15  normalized URI \u4e0d\u5305\u542b\u67e5\u8be2\u5b57\u7b26\u4e32\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n\u671f\u671b\u5f53\u8bbf\u95ee `localhost:5000/bill/detail/1234?a=1&b=2` \u65f6\u91cd\u5b9a\u5411\u5230 `http://localhost:5000/bill/detail/?a=1&b=2&term=123`\\n\\n## 1\u3001\u4ee3\u7801\u6d4b\u8bd5\\n\\n```conf\\n  location /bill/detail {\\n    # $1 \u5339\u914d \u6570\u5b57\u90e8\u5206\\n    # $2 \u5339\u914d query string\\n    rewrite  ^/bill/detail/([\\\\d]+)\\\\?(.*)$ https://www.baidu.com?$2&term=$1 redirect;\\n  }\\n```\\n\\n```\\n2023/06/03 20:20:38 [notice] 3128#0: *5 \\"^/bill/detail/([\\\\d]+)\\\\?(.*)$\\" does not match \\"/bill/detail/1234\\", client: 127.0.0.1, server: 127.0.0.1, request: \\"GET /bill/detail/1234?a=1&b=2 HTTP/1.1\\", host: \\"localhost:5000\\"\\n```\\n\\n## 2\u3001\u76f8\u5173\u95ee\u9898\\n\\n(1) https://stackoverflow.com/questions/58019632/how-to-rewrtite-in-nginx-uri-with-a-question-mark\\n\\n![20230603203523](http://s3.airtlab.com/blog/20230603203523.png)\\n  \\n(2) https://stackoverflow.com/questions/15713934/how-to-match-question-mark-as-regexp-on-nginx-conf-location\\n\\n![20230603204049](http://s3.airtlab.com/blog/20230603204049.png)\\n\\n\u8fd9\u91cc\u662f\u8bf4 `location ~ match` match \u4e0d\u80fd\u5339\u914d ? query string \u90e8\u5206\\n\\n(3) https://stackoverflow.com/questions/40551769/nginx-rewrite-rule-add-trailing-slash-before-question-mark\\n\\n\u8fd9\u662f\u4e00\u4e2a\u7c7b\u4f3c\u95ee\u9898\uff0c\u4f5c\u8005\u4e5f\u60f3\u5339\u914d `?`\\n\\n## 3\u3001\u53c2\u8003\u8d44\u6599\\n\\n- http://nginx.org/en/docs/http/ngx_http_rewrite_module.html#rewrite\\n\\n## 4\u3001\u539f\u56e0\\n\\n`The ? marks the start of the query string which is not part of the normalized URI used in location and rewrite directives.` \u53c2\u8003 https://stackoverflow.com/questions/40551769/nginx-rewrite-rule-add-trailing-slash-before-question-mark\\n\\n`The ? and anything following is the query string and is not part of the normalised URI used by nginx in location and rewrite directives.`\\n\\nhttps://stackoverflow.com/questions/44782411/nginx-rewrite-question-mark\\n\\n\\n\u95ee\u53f7\u548c\u95ee\u53f7\u540e\u9762\u7684\u5185\u5bb9\u662f\u67e5\u8be2\u5b57\u7b26\u4e32\uff0c\u4e0d\u662f\u7531nginx\u5728\u4f4d\u7f6e\u548c\u91cd\u5199\u6307\u793a\u4e2d\u4f7f\u7528\u7684\u6807\u51c6\u5316URI\u7684\u4e00\u90e8\u5206\u3002\u67e5\u8be2\u5b57\u7b26\u4e32\u662fHTTP\u8bf7\u6c42\u4e2d\u7528\u4e8e\u5c06\u989d\u5916\u7684\u53c2\u6570\u4f20\u9012\u7ed9\u670d\u52a1\u5668\u7684\u4e00\u90e8\u5206\uff0c\u800cURI\uff08\u7edf\u4e00\u8d44\u6e90\u6807\u8bc6\u7b26\uff09\u5219\u6307\u5b9a\u4e86\u8981\u8bbf\u95ee\u7684\u8d44\u6e90\u7684\u6807\u8bc6\u7b26\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e\u4f7f\u7528nginx\u7684\u4f4d\u7f6e\u548c\u91cd\u5199\u6307\u4ee4\u7684\u670d\u52a1\u5668\u6765\u8bf4\uff0c\u67e5\u8be2\u5b57\u7b26\u4e32\u9700\u8981\u5355\u72ec\u5904\u7406\u3002\\n\\n## 5\u3001\u6700\u7ec8\u65b9\u6848\\n\\n```nginx\\nlocation /bill/detail {\\n  rewrite ^/bill/detail/([\\\\d]+)(.*)$ https://www.baidu.com/?term=$1&$args? redirect;\\n}\\n```","isLeaf":true},{"key":"/backend/nginx/16-why-args-duplicate.md","path":"/backend/nginx/16-why-args-duplicate.md","route":"/backend/nginx/16-why-args-duplicate.md","leaf":true,"title":"16-why-args-duplicate","depth":2,"content":"---\\ntitle: 16 why-args-duplicate\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1\u3001\u6d4b\u8bd5 1\\n```nginx\\nlocation /bill/detail {\\n  rewrite ^/bill/detail/([\\\\d]+)(.*)$ https://www.baidu.com/?$args redirect;\\n}\\n```\\n\\n`http://localhost:5000/bill/detail/1234?a=1`\\n\\n=>\\n\\n`https://www.baidu.com/?a=1&a=1`\\n\\n## 2\u3001\u6d4b\u8bd5 2\\n\\n```nginx\\nlocation /bill/detail {\\n  rewrite ^/bill/detail/([\\\\d]+)(.*)$ https://www.baidu.com/?term=$1&$args redirect;\\n}\\n```\\n\\n`http://localhost:5000/bill/detail/1234?a=1&b=2`\\n\\n=>\\n\\n`https://www.baidu.com/?term=1234&a=1&b=2&a=1&b=2`\\n\\n## 3\u3001\u89e3\u91ca \\n\\n> Nginx appends the query string automatically if there are other get parameters in the rewritten URL. If you\'re adding $args yourself you should add a ? (question mark) at the end of the rewritten URL to avoid having duplicate parameters.\\n\\n```nginx\\nrewrite ^(...)$ /destination$is_args$args? [permanent|redirect];\\n```\\n\\nhttps://stackoverflow.com/questions/23635203/using-args-in-nginx-rewrite-causing-duplicate-url-parameters","isLeaf":true},{"key":"/backend/nginx/17-config-template.md","path":"/backend/nginx/17-config-template.md","route":"/backend/nginx/17-config-template.md","leaf":true,"title":"17-config-template","depth":2,"content":"---\\ntitle: 17 \u5e38\u7528\u914d\u7f6e\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1\u3001try_file\\n\\n```nginx\\nlocation / {\\n  index index.html index;\\n  try_files $uri $uri/ /index.html =404;\\n}\\n```\\n\\n## 2\u3001\u53cd\u5411\u4ee3\u7406\\n\\n```nginx\\nserver {\\n  listen 80;\\n  server_name www.example.com example.com;\\n\\n  location /api {\\n    proxy_set_header Host $host;\\n    proxy_set_header Accept-Encoding \\"\\";\\n    proxy_pass http://localhost:3000;\\n  }\\n}\\n```\\n\\n\u6ce8\u610f\u8fd9\u91cc `http://localhost:3000` \u548c `http://localhost:3000/` \u7684\u533a\u522b\\n\\n## 3\u3001\u91cd\u5b9a\u5411\\n\\n```nginx\\nlocation /bill/detail {\\n  rewrite ^/bill/detail/([\\\\d]+)(.*)$ https://www.baidu.com/?$args redirect;\\n}\\n```\\n\\n## 4\u3001\u5927\u6587\u4ef6\u4e0a\u4f20\\n\\n```nginx\\nserver {\\n  listen       80;\\n  server_name  localhost;\\n  \\n  client_max_body_size     50m;  # \u9650\u5236\u8bf7\u6c42\u4f53\u7684\u5927\u5c0f\uff0c\u82e5\u8d85\u8fc7\u6240\u8bbe\u5b9a\u7684\u5927\u5c0f\uff0c\u8fd4\u56de413\u9519\u8bef\uff0c\u9ed8\u8ba41m\\n  client_header_timeout    1m;  # \u8bfb\u53d6\u8bf7\u6c42\u5934\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u82e5\u8d85\u8fc7\u6240\u8bbe\u5b9a\u7684\u5927\u5c0f\uff0c\u8fd4\u56de408\u9519\u8bef\\n  client_body_timeout      1m; # \u8bfb\u53d6\u8bf7\u6c42\u5b9e\u4f53\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u82e5\u8d85\u8fc7\u6240\u8bbe\u5b9a\u7684\u5927\u5c0f\uff0c\u8fd4\u56de413\u9519\u8bef\\n  proxy_connect_timeout     60s; # http\u8bf7\u6c42\u65e0\u6cd5\u7acb\u5373\u88ab\u5bb9\u5668(tomcat, netty\u7b49)\u5904\u7406\uff0c\u88ab\u653e\u5728nginx\u7684\u5f85\u5904\u7406\u6c60\u4e2d\u7b49\u5f85\u88ab\u5904\u7406\u3002\u6b64\u53c2\u6570\u4e3a\u7b49\u5f85\u7684\u6700\u957f\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a60\u79d2\uff0c\u5b98\u65b9\u63a8\u8350\u6700\u957f\u4e0d\u8981\u8d85\u8fc775\u79d2\\n  proxy_read_timeout      1m;  # http\u8bf7\u6c42\u88ab\u5bb9\u5668(tomcat, netty\u7b49)\u5904\u7406\u540e\uff0cnginx\u4f1a\u7b49\u5f85\u5904\u7406\u7ed3\u679c\uff0c\u4e5f\u5c31\u662f\u5bb9\u5668\u8fd4\u56de\u7684response\u3002\u6b64\u53c2\u6570\u5373\u4e3a\u670d\u52a1\u5668\u54cd\u5e94\u65f6\u95f4\uff0c\u9ed8\u8ba460\u79d2\\n  proxy_send_timeout      1m; # http\u8bf7\u6c42\u88ab\u670d\u52a1\u5668\u5904\u7406\u5b8c\u540e\uff0c\u628a\u6570\u636e\u4f20\u8fd4\u56de\u7ed9Nginx\u7684\u7528\u65f6\uff0c\u9ed8\u8ba460\u79d2\\n\\n  location  / {\\n      # ...\\n  }\\n}   \\n```\\n\\n## 5\u3001\u865a\u62df\u76ee\u5f55\\n\\n```\\nlocation /web2 {\\n  # index index.html index;\\n  alias /Users/user/Desktop/html;\\n}\\n```\\n\\n\u4f7f\u7528 root + rewrite \u53ef\u4ee5 \u5b9e\u73b0\u865a\u62df\u76ee\u5f55\u7684\u529f\u80fd\\n","isLeaf":true},{"key":"/backend/nginx/18-nginx-single-process.md","path":"/backend/nginx/18-nginx-single-process.md","route":"/backend/nginx/18-nginx-single-process.md","leaf":true,"title":"18-nginx-single-process","depth":2,"content":"---\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\nnginx \u5728\u5904\u7406\u6bcf\u4e00\u4e2a\u7528\u6237\u8bf7\u6c42\u65f6\uff0c\u90fd\u662f\u6309\u7167\u82e5\u5e72\u4e2a\u4e0d\u540c\u7684\u9636\u6bb5\u4f9d\u6b21\u5904\u7406\u7684\uff0c\u4e0e\u914d\u7f6e\u6587\u4ef6\u4e0a\u7684\u987a\u5e8f\u6ca1\u6709\u5173\u7cfb\uff0c\u8be6\u7ec6\u5185\u5bb9\u53ef\u4ee5\u9605\u8bfb\u300a\u6df1\u5165\u7406\u89e3nginx:\u6a21\u5757\u5f00\u53d1\u4e0e\u67b6\u6784\u89e3\u6790\u300b\u8fd9\u672c\u4e66\uff0c\u8fd9\u91cc\u53ea\u505a\u7b80\u5355\u4ecb\u7ecd\uff1b\\n\\n\uff081\uff09post-read\\n\\n\u8bfb\u53d6\u8bf7\u6c42\u5185\u5bb9\u9636\u6bb5\uff0cnginx\u8bfb\u53d6\u5e76\u89e3\u6790\u5b8c\u8bf7\u6c42\u5934\u4e4b\u540e\u5c31\u7acb\u5373\u5f00\u59cb\u8fd0\u884c\uff1b\\n\\n\uff082\uff09server-rewrite\\n\\nserver\u8bf7\u6c42\u5730\u5740\u91cd\u5199\u9636\u6bb5\uff1b\\n\\n\uff083\uff09find-config\\n\\n\u914d\u7f6e\u67e5\u627e\u9636\u6bb5\uff0c\u7528\u6765\u5b8c\u6210\u5f53\u524d\u8bf7\u6c42\u4e0elocation\u914d\u91cd\u5757\u4e4b\u95f4\u7684\u914d\u5bf9\u5de5\u4f5c\uff1b\\n\\n\uff084\uff09rewrite\\n\\nlocation\u8bf7\u6c42\u5730\u5740\u91cd\u5199\u9636\u6bb5\uff0c\u5f53ngx_rewrite\u6307\u4ee4\u7528\u4e8elocation\u4e2d\uff0c\u5c31\u662f\u518d\u8fd9\u4e2a\u9636\u6bb5\u8fd0\u884c\u7684\uff1b\\n\\n\uff085\uff09post-rewrite\\n\\n\u8bf7\u6c42\u5730\u5740\u91cd\u5199\u63d0\u4ea4\u9636\u6bb5\uff0c\u5f53nginx\u5b8c\u6210rewrite\u9636\u6bb5\u6240\u8981\u6c42\u7684\u5185\u90e8\u8df3\u8f6c\u52a8\u4f5c\uff0c\u5982\u679crewrite\u9636\u6bb5\u6709\u8fd9\u4e2a\u8981\u6c42\u7684\u8bdd\uff1b\\n\\n\uff086\uff09preaccess\\n\\n\u8bbf\u95ee\u6743\u9650\u68c0\u67e5\u51c6\u5907\u9636\u6bb5\uff0cngx_limit_req\u548cngx_limit_zone\u5728\u8fd9\u4e2a\u9636\u6bb5\u8fd0\u884c\uff0cngx_limit_req\u53ef\u4ee5\u63a7\u5236\u8bf7\u6c42\u7684\u8bbf\u95ee\u9891\u7387\uff0cngx_limit_zone\u53ef\u4ee5\u63a7\u5236\u8bbf\u95ee\u7684\u5e76\u53d1\u5ea6\uff1b\\n\\n\uff087\uff09access\\n\\n\u6743\u9650\u68c0\u67e5\u9636\u6bb5\uff0cngx_access\u5728\u8fd9\u4e2a\u9636\u6bb5\u8fd0\u884c\uff0c\u914d\u7f6e\u6307\u4ee4\u591a\u662f\u6267\u884c\u8bbf\u95ee\u63a7\u5236\u76f8\u5173\u7684\u4efb\u52a1\uff0c\u5982\u68c0\u67e5\u7528\u6237\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u68c0\u67e5\u7528\u6237\u7684\u6765\u6e90IP\u662f\u5426\u5408\u6cd5\uff1b\\n\\n\uff088\uff09post-access\\n\\n\u8bbf\u95ee\u6743\u9650\u68c0\u67e5\u63d0\u4ea4\u9636\u6bb5\uff1b\\n\\n\uff089\uff09try-files\\n\\n\u914d\u7f6e\u9879try_files\u5904\u7406\u9636\u6bb5\uff1b\\n\\n\uff0810\uff09content\\n\\n\u5185\u5bb9\u4ea7\u751f\u9636\u6bb5\uff0c\u662f\u6240\u6709\u8bf7\u6c42\u5904\u7406\u9636\u6bb5\u4e2d\u6700\u4e3a\u91cd\u8981\u7684\u9636\u6bb5\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u9636\u6bb5\u7684\u6307\u4ee4\u901a\u5e38\u662f\u7528\u6765\u751f\u6210HTTP\u54cd\u5e94\u5185\u5bb9\u7684\uff1b\\n\\n\uff0811\uff09log\\n\\n\u65e5\u5fd7\u6a21\u5757\u5904\u7406\u9636\u6bb5\uff1b","isLeaf":true},{"key":"/backend/nginx/19-nginx-with-lua.md","path":"/backend/nginx/19-nginx-with-lua.md","route":"/backend/nginx/19-nginx-with-lua.md","leaf":true,"title":"19-nginx-with-lua","depth":2,"content":"---\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\nnginx \u4e2d\u5d4c\u5165 lua \u811a\u672c\u73af\u5883\u642d\u5efa\uff1a\\n\\n## 1. \u73af\u5883\u642d\u5efa\\n\\n### 1.1 \u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\\n\u53ef\u4ee5\u53c2\u8003 https://segmentfault.com/a/1190000018641801\\n\\n### nginx-mod-http-lua \u96c6\u6210\u73af\u5883\\n\\n\u5b89\u88c5\u8fd9\u4e2a\u5305\u540e\uff0c\u4f1a\u5b89\u88c5 nginx \u4ee5\u53ca lua \u76f8\u5173\u7684\u4f9d\u8d56\\n\\n```Dockerfile\\nFROM alpine:3.6\\n\\nRUN apk add --no-cache nginx-mod-http-lua\\n\\n# Delete default config\\nRUN rm -r /etc/nginx/conf.d && rm /etc/nginx/nginx.conf\\n\\n# Create folder for PID file\\nRUN mkdir -p /run/nginx\\n\\n# Add our nginx conf\\nCOPY ./nginx.conf /etc/nginx/nginx.conf\\n\\nRUN mkdir www\\nCOPY html/ www\\n\\nCMD [\\"nginx\\"]\\n\\nEXPOSE 80\\n```\\n\\n**\u4f7f\u7528\u6f14\u793a**\\n\\n```nginx\\nload_module /usr/lib/nginx/modules/ndk_http_module.so;\\nload_module /usr/lib/nginx/modules/ngx_http_lua_module.so;\\n\\npcre_jit on;\\n\\nevents {\\n  worker_connections 1024;\\n}\\n\\nhttp {\\n  include       mime.types;\\n  default_type  application/octet-stream;\\n\\n  gzip on;\\n  gzip_min_length 1k;\\n  gzip_comp_level 1;\\n  gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript;\\n  gzip_vary on;\\n  server_tokens       off;  # returns \\"Server: nginx\\"\\n\\n  log_format custom \'$host - $remote_addr - $remote_user [$time_local] \'\\n                          \'\\"$request\\" $status $body_bytes_sent \'\\n                          \'\\"$http_referer\\" \\"$http_user_agent\\" \\"$gzip_ratio\\"\';\\n\\n  gzip_disable \\"MSIE [1-6]\\\\.\\";\\n  sendfile        on;\\n\\n  server {\\n    listen 80;\\n\\n    location / {\\n      root /www;\\n      index  index.html index.htm;\\n    }\\n\\n    location /lua {\\n      # \u5b9a\u4e49MIME\u7c7b\u578b\\n      default_type \'text/plain\';\\n      content_by_lua_block {\\n        ngx.say(\'Hello,world!\')\\n      }\\n    }\\n  }\\n}\\n\\ndaemon off;\\n```\\n\\n## 2. \u52a0\u8f7d\u52a8\u6001\u6a21\u5757\\n\\n\u5728nginx\u4e2d\uff0cload_module\u6307\u4ee4\u7528\u4e8e\u52a0\u8f7d\u52a8\u6001\u6a21\u5757\uff0c\u4ee5\u6269\u5c55nginx\u7684\u529f\u80fd\u3002\\n\\n\u52a8\u6001\u6a21\u5757\u662f\u6307\u53ef\u4ee5\u5728nginx\u8fd0\u884c\u65f6\u52a8\u6001\u52a0\u8f7d\u548c\u5378\u8f7d\u7684\u4e00\u4e9b\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u901a\u8fc7\u52a0\u8f7d\u52a8\u6001\u6a21\u5757\uff0c\u53ef\u4ee5\u4e3anginx\u6dfb\u52a0\u5404\u79cd\u529f\u80fd\uff0c\u5982\u652f\u6301\u65b0\u7684\u534f\u8bae\u3001\u6587\u4ef6\u683c\u5f0f\u3001\u8ba4\u8bc1\u65b9\u5f0f\u7b49\u3002\\n\\n\u5728 nginx \u914d\u7f6e\u6587\u4ef6\u4e2d\uff0cload_module \u6307\u4ee4\u7528\u4e8e\u6307\u5b9a\u8981\u52a0\u8f7d\u7684\u52a8\u6001\u6a21\u5757\u6587\u4ef6\u7684\u8def\u5f84\u548c\u540d\u79f0\u3002\u5f53nginx\u542f\u52a8\u65f6\uff0c\u5b83\u4f1a\u81ea\u52a8\u52a0\u8f7d\u5e76\u521d\u59cb\u5316\u6307\u5b9a\u7684\u52a8\u6001\u6a21\u5757\uff0c\u4ece\u800c\u6269\u5c55\u5176\u529f\u80fd\u3002\\n\\n\u4f8b\u5982\uff0c\u8981\u52a0\u8f7d\u4e00\u4e2a\u540d\u4e3a mod_http_echo.so \u7684\u52a8\u6001\u6a21\u5757\uff0c\u53ea\u9700\u5728nginx\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5982\u4e0b\u6307\u4ee4\uff1a\\n\\n```nginx\\nload_module /path/to/mod_http_echo.so;\\n```\\n\\n\u8fd9\u5c06\u52a0\u8f7d mod_http_echo.so \u52a8\u6001\u6a21\u5757\uff0c\u5e76\u4f7f\u5176\u5728nginx\u4e2d\u53ef\u7528\u3002\\n\\n## 3. openrestry\\n\\nOpenResty \u662f\u4e00\u4e2a\u57fa\u4e8e nginx \u670d\u52a1\u5668\u7684 Web \u5e94\u7528\u5f00\u53d1\u6846\u67b6\u3002\u5b83\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684 Lua \u5e93\u548c\u7b2c\u4e09\u65b9\u6a21\u5757\uff0c\u5e76\u901a\u8fc7\u5185\u7f6e\u7684 Lua \u89e3\u91ca\u5668\u5c06 Lua \u8bed\u8a00\u5d4c\u5165 Nginx \u7684\u914d\u7f6e\u6587\u4ef6\u548c\u670d\u52a1\u5668\u4e2d\u3002\\nOpenResty \u5305\u542b\u4e86\u4e00\u7cfb\u5217\u7684\u7ec4\u4ef6\uff0c\u4f8b\u5982\uff1a\\n\\n- Nginx\uff1a\u4e3a HTTP/HTTPS \u670d\u52a1\u5668\u63d0\u4f9b\u5e73\u53f0\u3002\\n- LuaJIT\uff1a \u9ad8\u6027\u80fd Lua VM \u7684\u5feb\u901f JIT \u7f16\u8bd1\u5668\u3002\\n- ngx_lua\uff1a\u5c06 Lua \u811a\u672c\u7f16\u5199\u6210 Nginx \u7684\u6a21\u5757\u3002\\n- ngx_stream_lua\uff1a\u5c06 Lua \u811a\u672c\u7f16\u5199\u6210 Nginx \u7684 TCP \u6216 UDP \u7684\u6a21\u5757\u3002\\n- LuaRocks\uff1a\u5f00\u6e90\u7684 Lua \u5e93\u548c\u5de5\u5177\u7ba1\u7406\u7cfb\u7edf\u3002\\n\\nOpenResty \u901a\u8fc7\u5c06 Lua \u811a\u672c\u7f16\u5199\u6210 Nginx \u6a21\u5757\uff0c\u4f7f\u5f97\u8fd9\u4e9b\u6a21\u5757\u53ef\u4ee5\u901a\u8fc7 Nginx \u7684\u4e8b\u4ef6\u6a21\u578b\u5f02\u6b65\u5904\u7406\u8bf7\u6c42\uff0c\u5e76\u9ad8\u6548\u5730\u6267\u884c\u5404\u79cd\u64cd\u4f5c\uff0c\u5982\uff1a\u6570\u636e\u5904\u7406\u3001\u8bbf\u95ee\u6570\u636e\u5e93\u3001HTTP \u7f13\u5b58\u7b49\u7b49\uff0c\u5e76\u4e14\uff0c\u5728 Lua \u8bed\u8a00\u4e2d\u7f16\u5199\u4e1a\u52a1\u903b\u8f91\u66f4\u52a0\u7b80\u5355\u548c\u7075\u6d3b\u3002\\n\\nOpenResty \u5df2\u7ecf\u5728\u8bb8\u591a\u9ad8\u6027\u80fd Web \u5e94\u7528\u573a\u666f\u5f97\u5230\u5e94\u7528\uff0c\u4f8b\u5982\uff1aAPI Gateway\u3001\u53cd\u5411\u4ee3\u7406\u3001Web \u5e94\u7528\u9632\u706b\u5899\u3001\u5206\u5e03\u5f0f\u7f13\u5b58\u548c\u8d1f\u8f7d\u5747\u8861\u7b49\u7b49\u3002","isLeaf":true},{"key":"/backend/nginx/20-openrestry.md","path":"/backend/nginx/20-openrestry.md","route":"/backend/nginx/20-openrestry.md","leaf":true,"title":"20-openrestry","depth":2,"content":"---\\ntoc: true\\ntags: nginx\\ncategories: \u4e2d\u95f4\u4ef6\\ndate: 2018-05-01\\n---\\n\\n## 1. OpenResty \u4ecb\u7ecd\\n\\nOpenResty \u662f\u4e00\u4e2a\u57fa\u4e8e nginx \u670d\u52a1\u5668\u7684 Web \u5e94\u7528\u5f00\u53d1\u6846\u67b6\u3002\u5b83\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684 Lua \u5e93\u548c\u7b2c\u4e09\u65b9\u6a21\u5757\uff0c\u5e76\u901a\u8fc7\u5185\u7f6e\u7684 Lua \u89e3\u91ca\u5668\u5c06 Lua \u8bed\u8a00\u5d4c\u5165 Nginx \u7684\u914d\u7f6e\u6587\u4ef6\u548c\u670d\u52a1\u5668\u4e2d\u3002\\nOpenResty \u5305\u542b\u4e86\u4e00\u7cfb\u5217\u7684\u7ec4\u4ef6\uff0c\u4f8b\u5982\uff1a\\n\\n- Nginx\uff1a\u4e3a HTTP/HTTPS \u670d\u52a1\u5668\u63d0\u4f9b\u5e73\u53f0\u3002\\n- LuaJIT\uff1a \u9ad8\u6027\u80fd Lua VM \u7684\u5feb\u901f JIT \u7f16\u8bd1\u5668\u3002\\n- ngx_lua\uff1a\u5c06 Lua \u811a\u672c\u7f16\u5199\u6210 Nginx \u7684\u6a21\u5757\u3002\\n- ngx_stream_lua\uff1a\u5c06 Lua \u811a\u672c\u7f16\u5199\u6210 Nginx \u7684 TCP \u6216 UDP \u7684\u6a21\u5757\u3002\\n- LuaRocks\uff1a\u5f00\u6e90\u7684 Lua \u5e93\u548c\u5de5\u5177\u7ba1\u7406\u7cfb\u7edf\u3002\\n\\nOpenResty \u901a\u8fc7\u5c06 Lua \u811a\u672c\u7f16\u5199\u6210 Nginx \u6a21\u5757\uff0c\u4f7f\u5f97\u8fd9\u4e9b\u6a21\u5757\u53ef\u4ee5\u901a\u8fc7 Nginx \u7684\u4e8b\u4ef6\u6a21\u578b\u5f02\u6b65\u5904\u7406\u8bf7\u6c42\uff0c\u5e76\u9ad8\u6548\u5730\u6267\u884c\u5404\u79cd\u64cd\u4f5c\uff0c\u5982\uff1a\u6570\u636e\u5904\u7406\u3001\u8bbf\u95ee\u6570\u636e\u5e93\u3001HTTP \u7f13\u5b58\u7b49\u7b49\uff0c\u5e76\u4e14\uff0c\u5728 Lua \u8bed\u8a00\u4e2d\u7f16\u5199\u4e1a\u52a1\u903b\u8f91\u66f4\u52a0\u7b80\u5355\u548c\u7075\u6d3b\u3002\\n\\nOpenResty \u5df2\u7ecf\u5728\u8bb8\u591a\u9ad8\u6027\u80fd Web \u5e94\u7528\u573a\u666f\u5f97\u5230\u5e94\u7528\uff0c\u4f8b\u5982\uff1aAPI Gateway\u3001\u53cd\u5411\u4ee3\u7406\u3001Web \u5e94\u7528\u9632\u706b\u5899\u3001\u5206\u5e03\u5f0f\u7f13\u5b58\u548c\u8d1f\u8f7d\u5747\u8861\u7b49\u7b49\u3002\\n\\n## 2. \u914d\u7f6e \\n\\n![20230609174240](http://s3.airtlab.com/blog/20230609174240.png)\\n\\n**/usr/local/openresty/nginx/nginx.conf.default**\\n```nginx\\n#user  nobody;\\nworker_processes  1;\\n\\n#error_log  logs/error.log;\\n#error_log  logs/error.log  notice;\\n#error_log  logs/error.log  info;\\n\\n#pid        logs/nginx.pid;\\n\\n\\nevents {\\n    worker_connections  1024;\\n}\\n\\n\\nhttp {\\n    include       mime.types;\\n    default_type  application/octet-stream;\\n\\n    #log_format  main  \'$remote_addr - $remote_user [$time_local] \\"$request\\" \'\\n    #                  \'$status $body_bytes_sent \\"$http_referer\\" \'\\n    #                  \'\\"$http_user_agent\\" \\"$http_x_forwarded_for\\"\';\\n\\n    #access_log  logs/access.log  main;\\n\\n    sendfile        on;\\n    #tcp_nopush     on;\\n\\n    #keepalive_timeout  0;\\n    keepalive_timeout  65;\\n\\n    #gzip  on;\\n\\n    server {\\n        listen       80;\\n        server_name  localhost;\\n\\n        #charset koi8-r;\\n\\n        #access_log  logs/host.access.log  main;\\n\\n        location / {\\n            root   html;\\n            index  index.html index.htm;\\n        }\\n\\n        #error_page  404              /404.html;\\n\\n        # redirect server error pages to the static page /50x.html\\n        #\\n        error_page   500 502 503 504  /50x.html;\\n        location = /50x.html {\\n            root   html;\\n        }\\n\\n        # proxy the PHP scripts to Apache listening on 127.0.0.1:80\\n        #\\n        #location ~ \\\\.php$ {\\n        #    proxy_pass   http://127.0.0.1;\\n        #}\\n\\n        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\\n        #\\n        #location ~ \\\\.php$ {\\n        #    root           html;\\n        #    fastcgi_pass   127.0.0.1:9000;\\n        #    fastcgi_index  index.php;\\n        #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\\n        #    include        fastcgi_params;\\n        #}\\n\\n        # deny access to .htaccess files, if Apache\'s document root\\n        # concurs with nginx\'s one\\n        #\\n        #location ~ /\\\\.ht {\\n        #    deny  all;\\n        #}\\n    }\\n\\n\\n    # another virtual host using mix of IP-, name-, and port-based configuration\\n    #\\n    #server {\\n    #    listen       8000;\\n    #    listen       somename:8080;\\n    #    server_name  somename  alias  another.alias;\\n\\n    #    location / {\\n    #        root   html;\\n    #        index  index.html index.htm;\\n    #    }\\n    #}\\n\\n\\n    # HTTPS server\\n    #\\n    #server {\\n    #    listen       443 ssl;\\n    #    server_name  localhost;\\n\\n    #    ssl_certificate      cert.pem;\\n    #    ssl_certificate_key  cert.key;\\n\\n    #    ssl_session_cache    shared:SSL:1m;\\n    #    ssl_session_timeout  5m;\\n\\n    #    ssl_ciphers  HIGH:!aNULL:!MD5;\\n    #    ssl_prefer_server_ciphers  on;\\n\\n    #    location / {\\n    #        root   html;\\n    #        index  index.html index.htm;\\n    #    }\\n    #}\\n\\n}\\n```\\n\\n**/usr/local/openresty/nginx/conf/nginx.conf**\\n\\n```nginx\\n# nginx.conf  --  docker-openresty\\n#\\n# This file is installed to:\\n#   `/usr/local/openresty/nginx/conf/nginx.conf`\\n# and is the file loaded by nginx at startup,\\n# unless the user specifies otherwise.\\n#\\n# It tracks the upstream OpenResty\'s `nginx.conf`, but removes the `server`\\n# section and adds this directive:\\n#     `include /etc/nginx/conf.d/*.conf;`\\n#\\n# The `docker-openresty` file `nginx.vh.default.conf` is copied to\\n# `/etc/nginx/conf.d/default.conf`.  It contains the `server section\\n# of the upstream `nginx.conf`.\\n#\\n# See https://github.com/openresty/docker-openresty/blob/master/README.md#nginx-config-files\\n#\\n\\n#user  nobody;\\n#worker_processes 1;\\n\\n# Enables the use of JIT for regular expressions to speed-up their processing.\\npcre_jit on;\\n\\n\\n\\n#error_log  logs/error.log;\\n#error_log  logs/error.log  notice;\\n#error_log  logs/error.log  info;\\n\\n#pid        logs/nginx.pid;\\n\\n\\nevents {\\n    worker_connections  1024;\\n}\\n\\n\\nhttp {\\n    include       mime.types;\\n    default_type  application/octet-stream;\\n\\n    # Enables or disables the use of underscores in client request header fields.\\n    # When the use of underscores is disabled, request header fields whose names contain underscores are marked as invalid and become subject to the ignore_invalid_headers directive.\\n    # underscores_in_headers off;\\n\\n    #log_format  main  \'$remote_addr - $remote_user [$time_local] \\"$request\\" \'\\n    #                  \'$status $body_bytes_sent \\"$http_referer\\" \'\\n    #                  \'\\"$http_user_agent\\" \\"$http_x_forwarded_for\\"\';\\n\\n    #access_log  logs/access.log  main;\\n\\n        # Log in JSON Format\\n        # log_format nginxlog_json escape=json \'{ \\"timestamp\\": \\"$time_iso8601\\", \'\\n        # \'\\"remote_addr\\": \\"$remote_addr\\", \'\\n        #  \'\\"body_bytes_sent\\": $body_bytes_sent, \'\\n        #  \'\\"request_time\\": $request_time, \'\\n        #  \'\\"response_status\\": $status, \'\\n        #  \'\\"request\\": \\"$request\\", \'\\n        #  \'\\"request_method\\": \\"$request_method\\", \'\\n        #  \'\\"host\\": \\"$host\\",\'\\n        #  \'\\"upstream_addr\\": \\"$upstream_addr\\",\'\\n        #  \'\\"http_x_forwarded_for\\": \\"$http_x_forwarded_for\\",\'\\n        #  \'\\"http_referrer\\": \\"$http_referer\\", \'\\n        #  \'\\"http_user_agent\\": \\"$http_user_agent\\", \'\\n        #  \'\\"http_version\\": \\"$server_protocol\\", \'\\n        #  \'\\"nginx_access\\": true }\';\\n        # access_log /dev/stdout nginxlog_json;\\n\\n    # See Move default writable paths to a dedicated directory (#119)\\n    # https://github.com/openresty/docker-openresty/issues/119\\n    client_body_temp_path /var/run/openresty/nginx-client-body;\\n    proxy_temp_path       /var/run/openresty/nginx-proxy;\\n    fastcgi_temp_path     /var/run/openresty/nginx-fastcgi;\\n    uwsgi_temp_path       /var/run/openresty/nginx-uwsgi;\\n    scgi_temp_path        /var/run/openresty/nginx-scgi;\\n\\n    sendfile        on;\\n    #tcp_nopush     on;\\n\\n    #keepalive_timeout  0;\\n    keepalive_timeout  65;\\n\\n    #gzip  on;\\n\\n    include /etc/nginx/conf.d/*.conf;\\n\\n    # Don\'t reveal OpenResty version to clients.\\n    # server_tokens off;\\n}\\n```\\n\\n```nginx\\n# nginx.vh.default.conf  --  docker-openresty\\n#\\n# This file is installed to:\\n#   `/etc/nginx/conf.d/default.conf`\\n#\\n# It tracks the `server` section of the upstream OpenResty\'s `nginx.conf`.\\n#\\n# This config (and any other configs in `etc/nginx/conf.d/`) is loaded by\\n# default by the `include` directive in `/usr/local/openresty/nginx/conf/nginx.conf`.\\n#\\n# See https://github.com/openresty/docker-openresty/blob/master/README.md#nginx-config-files\\n#\\n\\n\\nserver {\\n    listen       80;\\n    server_name  localhost;\\n\\n    #charset koi8-r;\\n    #access_log  /var/log/nginx/host.access.log  main;\\n\\n    location / {\\n        root   /usr/local/openresty/nginx/html;\\n        index  index.html index.htm;\\n    }\\n\\n    #error_page  404              /404.html;\\n\\n    # redirect server error pages to the static page /50x.html\\n    #\\n    error_page   500 502 503 504  /50x.html;\\n    location = /50x.html {\\n        root   /usr/local/openresty/nginx/html;\\n    }\\n\\n    # proxy the PHP scripts to Apache listening on 127.0.0.1:80\\n    #\\n    #location ~ \\\\.php$ {\\n    #    proxy_pass   http://127.0.0.1;\\n    #}\\n\\n    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\\n    #\\n    #location ~ \\\\.php$ {\\n    #    root           /usr/local/openresty/nginx/html;\\n    #    fastcgi_pass   127.0.0.1:9000;\\n    #    fastcgi_index  index.php;\\n    #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\\n    #    include        fastcgi_params;\\n    #}\\n\\n    # deny access to .htaccess files, if Apache\'s document root\\n    # concurs with nginx\'s one\\n    #\\n    #location ~ /\\\\.ht {\\n    #    deny  all;\\n    #}\\n}\\n```","isLeaf":true}]},{"key":"/backend/redis","path":"/backend/redis","route":"/backend/redis","leaf":false,"title":"redis","depth":1,"content":"","isLeaf":false,"children":[{"key":"/backend/redis/01-Redis.md","path":"/backend/redis/01-Redis.md","route":"/backend/redis/01-Redis.md","leaf":true,"title":"01-Redis","depth":2,"content":"---\\ntags: Redis\\n---\\n\\n- Redis\u534f\u8bae\u8be6\u7ec6\u89c4\u8303 https://redis.com.cn/topics/protocol.html","isLeaf":true},{"key":"/backend/redis/02-Failed-to-refresh-slots-cache.md","path":"/backend/redis/02-Failed-to-refresh-slots-cache.md","route":"/backend/redis/02-Failed-to-refresh-slots-cache.md","leaf":true,"title":"02-Failed-to-refresh-slots-cache","depth":2,"content":"---\\ntags: Redis\\n---\\n\\n```text\\nClusterAllFailedError: Failed to refresh slots cache.\\n```\\n\\n\u53ef\u80fd\u662f\u5730\u5740\u4e0d\u6b63\u786e","isLeaf":true}]}]},{"key":"/cpp","path":"/cpp","route":"/cpp","leaf":false,"title":"cpp","depth":0,"content":"","isLeaf":false,"children":[{"key":"/cpp/01-cpp-basic","path":"/cpp/01-cpp-basic","route":"/cpp/01-cpp-basic","leaf":false,"title":"01-cpp-basic","depth":1,"content":"","isLeaf":false,"children":[{"key":"/cpp/01-cpp-basic/01-about-cpp.md","path":"/cpp/01-cpp-basic/01-about-cpp.md","route":"/cpp/01-cpp-basic/01-about-cpp.md","leaf":true,"title":"01-about-cpp","depth":2,"content":"---\\ntitle: 01 C++ \u778e\u804a\\ntags: CPP\\n---\\n\\n> \\"\u7528\u4e86C++\u5c31\u8981\u63a5\u53d7\u5b83\u7684\u9ebb\u70e6\\" \u8457\u540d\u524d\u540c\u4e8b\u738b\u5927\u7237\u5982\u662f\u8bf4\u9053","isLeaf":true},{"key":"/cpp/01-cpp-basic/02-diffrent-type-in-vector.md","path":"/cpp/01-cpp-basic/02-diffrent-type-in-vector.md","route":"/cpp/01-cpp-basic/02-diffrent-type-in-vector.md","leaf":true,"title":"02-diffrent-type-in-vector","depth":2,"content":"---\\ntitle: 02 C++ \u5bb9\u5668\u600e\u4e48\u5b58\u653e\u4e0d\u540c\u7c7b\u578b\u7684\u503c\uff1f\\ntags: CPP\\n---\\n\\n> https://www.zhihu.com/question/33594512\\n\\n```cpp\\ntypedef boost::variant<int, std::string> Value;\\n```","isLeaf":true}]},{"key":"/cpp/02-cpp-mysql","path":"/cpp/02-cpp-mysql","route":"/cpp/02-cpp-mysql","leaf":false,"title":"02-cpp-mysql","depth":1,"content":"","isLeaf":false,"children":[{"key":"/cpp/02-cpp-mysql/01-mysqlclient.md","path":"/cpp/02-cpp-mysql/01-mysqlclient.md","route":"/cpp/02-cpp-mysql/01-mysqlclient.md","leaf":true,"title":"01-mysqlclient","depth":2,"content":"---\\ntitle: 01 \u4f7f\u7528 mysqlclient-dev\\ntags: CPP\\n---\\n\\n# mysqlclient-dev\\n\\n- **[\u8fd9\u4e2a\u6559\u7a0b\u5199\u7684\u5f88\u8be6\u7ec6\uff0c\u4f7f\u7528 C \u64cd\u4f5c mysql](https://blog.csdn.net/qq_41453285/article/details/102640756)**\\n\\n## 1\u3001\u5b89\u88c5 mysqlclient-dev\\n\\n\u8fd9\u4e2a\u4f8b\u5b50\u5728 ubuntu \u4e0a\u8fdb\u884c\\n\\n```shell\\napt-get install libmysqlclient-dev\\nsudo ldconfig # \u5237\u65b0\u52a8\u6001\u94fe\u63a5\u5e93\\n```\\n\\n\u5934\u6587\u4ef6\u4f4d\u7f6e `/usr/include/mysql`\uff0c\u52a8\u6001\u5e93\u4f4d\u7f6e `/usr/lib/mysql`\\n\\n```shell\\ngcc -I/usr/include/mysql main.c -L/usr/lib/mysql -lmysqlclient -o main\\n```\\n\\n## 2\u3001\u589e\u5220\u6539\u67e5\u64cd\u4f5c\\n\\n### 1) \u8fde\u63a5 mysql \u670d\u52a1\u5668\\n\\n```c\\n#include <stdio.h>\\n#include <stdlib.h>\\n#include <mysql.h>\\n#include <mysqld_error.h>\\n#include <errmsg.h>\\n\\nint main(int argc, char *argv[])\\n{\\n    MYSQL mysql;\\n    mysql_init(&mysql);\\n\\n    if (mysql_real_connect(&mysql, \\"10.53.100.113\\", \\"root\\",\\n                           \\"123456\\", \\"test\\", 0, NULL, 0))\\n    {\\n        printf(\\"Connect success\\\\n\\");\\n\\n        // insert\\n        if (mysql_query(&mysql, \\"insert into user(name) values(\'Ann\')\\") != 0)\\n        {\\n            fprintf(stderr, \\"mysql_query failed:\\\\n\\\\tcode:%d\\\\n\\\\treason:%s\\\\n\\", mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n        else\\n        {\\n            printf(\\"Insert success, affect row are %lu\\\\n\\", mysql_affected_rows(&mysql));\\n        }\\n\\n        mysql_close(&mysql);\\n    }\\n    else\\n    {\\n        fprintf(stderr, \\"Connect failed:\\\\n\\");\\n        if (mysql_errno(&mysql))\\n        {\\n            printf(\\"\\\\terror code is %d\\\\n\\\\treason:%s\\\\n\\", mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n    }\\n\\n    return 0;\\n}\\n```\\n\\n### 2) \u4fee\u6539\u6570\u636e\\n\\n```c\\n#include <stdio.h>\\n#include <stdlib.h>\\n#include <mysql.h>\\n#include <mysqld_error.h>\\n#include <errmsg.h>\\n\\nint main(int argc, char *argv[])\\n{\\n    MYSQL mysql;\\n    mysql_init(&mysql);\\n\\n    if (mysql_real_connect(&mysql, \\"10.53.100.113\\", \\"root\\",\\n                           \\"123456\\", \\"test\\", 0, NULL, 0))\\n    {\\n        printf(\\"Connect success\\\\n\\");\\n\\n        // update\\n        if (mysql_query(&mysql, \\"update user set name=\'tony\' where id = 1\\") != 0)\\n        {\\n            fprintf(stderr, \\"mysql_query failed:\\\\n\\\\tcode:%d\\\\n\\\\treason:%s\\\\n\\",\\n                    mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n        else\\n        {\\n            printf(\\"Update success,affect row are %lu\\\\n\\",\\n                   mysql_affected_rows(&mysql));\\n        }\\n\\n        mysql_close(&mysql);\\n    }\\n    else\\n    {\\n        fprintf(stderr, \\"Connect failed:\\\\n\\");\\n        if (mysql_errno(&mysql))\\n        {\\n            printf(\\"\\\\terror code is %d\\\\n\\\\treason:%s\\\\n\\", mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n    }\\n\\n    return 0;\\n}\\n```\\n\\n### 3) \u67e5\u8be2\u64cd\u4f5c\\n```c\\n#include <stdio.h>\\n#include <stdlib.h>\\n#include <mysql.h>\\n#include <mysqld_error.h>\\n#include <errmsg.h>\\n\\nint main(int argc, char *argv[])\\n{\\n    MYSQL mysql;\\n    MYSQL_RES *res;\\n    MYSQL_ROW sqlrow;\\n\\n    mysql_init(&mysql);\\n\\n    if (mysql_real_connect(&mysql, \\"10.53.100.113\\", \\"root\\",\\n                           \\"123456\\", \\"test\\", 0, NULL, 0))\\n    {\\n        printf(\\"Connect success\\\\n\\");\\n\\n        // select\\n        if (mysql_query(&mysql, \\"select * from user\\") != 0)\\n        {\\n            fprintf(stderr, \\"mysql_query failed:\\\\n\\\\tcode:%d\\\\n\\\\treason:%s\\\\n\\",\\n                    mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n        else\\n        {\\n            // get result\\n            res = mysql_store_result(&mysql);\\n            if (res != NULL)\\n            {\\n                // show rows\\n                printf(\\"Retrived %lu rows:\\\\n\\", (unsigned long)mysql_num_rows(res));\\n                // Get one row at a time\\n                while (sqlrow = mysql_fetch_row(res))\\n                {\\n                    printf(\\"\\\\tFetch row...\\\\n\\");\\n                }\\n            }\\n            else\\n            {\\n                if (mysql_errno(&mysql))\\n                {\\n                    printf(\\"\\\\terror code is %d\\\\n\\\\treason:%s\\\\n\\",\\n                           mysql_errno(&mysql), mysql_error(&mysql));\\n                }\\n            }\\n        }\\n\\n        mysql_close(&mysql);\\n    }\\n    else\\n    {\\n        fprintf(stderr, \\"Connect failed:\\\\n\\");\\n        if (mysql_errno(&mysql))\\n        {\\n            printf(\\"\\\\terror code is %d\\\\n\\\\treason:%s\\\\n\\",\\n                   mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n    }\\n\\n    return 0;\\n}\\n```\\n\\n### 4) \u83b7\u53d6\u5b57\u6bb5\u4fe1\u606f\\n```c\\n#include <stdio.h>\\n#include <stdlib.h>\\n#include <mysql.h>\\n#include <mysqld_error.h>\\n#include <errmsg.h>\\n\\nvoid display_header(MYSQL_RES *result);\\nvoid display_show(MYSQL *mysql, MYSQL_ROW *sqlrow);\\n\\nint main(int argc, char *argv[])\\n{\\n    int isHeader;\\n    MYSQL mysql;\\n    MYSQL_RES *res;\\n    MYSQL_ROW sqlrow;\\n    isHeader = 1;\\n\\n    mysql_init(&mysql);\\n\\n    if (mysql_real_connect(&mysql, \\"10.53.100.113\\", \\"root\\",\\n                           \\"123456\\", \\"test\\", 0, NULL, 0))\\n    {\\n        printf(\\"Connect success\\\\n\\");\\n\\n        // select\\n        if (mysql_query(&mysql, \\"select * from user\\") != 0)\\n        {\\n            fprintf(stderr, \\"mysql_query failed:\\\\n\\\\tcode:%d\\\\n\\\\treason:%s\\\\n\\",\\n                    mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n        else\\n        {\\n            // get result\\n            res = mysql_use_result(&mysql);\\n            if (res != NULL)\\n            {\\n                // Get one row at a time\\n                while (sqlrow = mysql_fetch_row(res))\\n                {\\n                    if (isHeader)\\n                    {\\n                        display_header(res);\\n                        isHeader = 0;\\n                        printf(\\"Row Deails:\\\\n\\");\\n                    }\\n                    display_show(&mysql, &sqlrow);\\n                }\\n            }\\n            else\\n            {\\n                if (mysql_errno(&mysql))\\n                {\\n                    printf(\\"\\\\terror code is %d\\\\n\\\\treason:%s\\\\n\\",\\n                           mysql_errno(&mysql), mysql_error(&mysql));\\n                }\\n            }\\n        }\\n        mysql_close(&mysql);\\n    }\\n    else\\n    {\\n        fprintf(stderr, \\"Connect failed:\\\\n\\");\\n        if (mysql_errno(&mysql))\\n        {\\n            printf(\\"\\\\terror code is %d\\\\n\\\\treason:%s\\\\n\\",\\n                   mysql_errno(&mysql), mysql_error(&mysql));\\n        }\\n    }\\n\\n    return 0;\\n}\\n\\nvoid display_header(MYSQL_RES *result)\\n{\\n    printf(\\"Column Details:\\\\n\\");\\n    MYSQL_FIELD *field;\\n    // \u5faa\u73af\uff0c\u6bcf\u6b21\u8fd4\u56de\u4e00\u4e2a\u5b57\u6bb5\\n    while ((field = mysql_fetch_field(result)) != NULL)\\n    {\\n        // 1\\n        printf(\\"\\\\tcol_name:%s\\", field->name);\\n\\n        // 2\\n        if (IS_NUM(field->type))\\n        {\\n            printf(\\" ,type:%s\\", \\"Number\\");\\n        }\\n        else\\n        {\\n            switch (field->type)\\n            {\\n            case FIELD_TYPE_DECIMAL:\\n                printf(\\" ,type:%s\\", \\"Decimal\\");\\n                break;\\n            case FIELD_TYPE_LONG:\\n                printf(\\" ,type:%s\\", \\"Long\\");\\n                break;\\n            case FIELD_TYPE_STRING:\\n                printf(\\" ,type:%s\\", \\"String\\");\\n                break;\\n            case FIELD_TYPE_VAR_STRING:\\n                printf(\\" ,type:%s\\", \\"Var_String\\");\\n                break;\\n            }\\n        }\\n        // 3\\n        printf(\\" ,column width:%ld\\", field->length);\\n        // 4\\n        if (field->flags & AUTO_INCREMENT_FLAG)\\n        {\\n            printf(\\n                \\" ,column flags:%s\\", \\"AUTO_INCREMENT_ FLAG\\");\\n        }\\n        printf(\\"\\\\n\\");\\n    }\\n}\\n\\nvoid display_show(MYSQL *mysql, MYSQL_ROW *sqlrow)\\n{\\n    unsigned int count = 0;\\n    while (count < mysql_field_count(mysql))\\n    {\\n        if ((*sqlrow)[count])\\n        {\\n            printf(\\"\\\\t%s\\", (*sqlrow)[count]);\\n        }\\n        else\\n        {\\n            printf(\\"NULL\\");\\n        }\\n        count++;\\n    }\\n    printf(\\"\\\\n\\");\\n}\\n```","isLeaf":true},{"key":"/cpp/02-cpp-mysql/02-connector-for-cpp.md","path":"/cpp/02-cpp-mysql/02-connector-for-cpp.md","route":"/cpp/02-cpp-mysql/02-connector-for-cpp.md","leaf":true,"title":"02-connector-for-cpp","depth":2,"content":"---\\ntitle: 02 \u4f7f\u7528 connector/cpp\\ntags: CPP\\n---\\n\\n# connector/cpp\\n\\n## 1\u3001\u5b89\u88c5\\n\\n```shell\\napt-get -y install libmysqlcppconn-dev\\n```\\n\\n```shell\\ng++ -I/usr/include/mysql -std=c++11 01-select.cpp -lmysqlcppconn -o main && ./main\\n```\\n\\n- **[Mac os \u4e0a\u7528C++\u8fdb\u884cMYSQL\u5f00\u53d1\u914d\u7f6e](https://www.cnblogs.com/laohehexiaohe/p/5436295.html)**\\n- **https://github.com/mysql/mysql-connector-cpp**\\n\\n## 2\u3001\u64cd\u4f5c\\n\\n### 1) \u67e5\u8be2\u64cd\u4f5c\\n```cpp\\n#include <stdio.h>\\n#include <mysql_connection.h>\\n#include <mysql_driver.h>\\n#include <mysql_error.h>\\n#include <cppconn/driver.h>\\n#include <cppconn/exception.h>\\n#include <cppconn/resultset.h>\\n#include <cppconn/statement.h>\\n\\nusing namespace std;\\n\\nint main()\\n{\\n    sql::Driver *driver;\\n    sql::Connection *con;\\n    sql::Statement *stmt;\\n    sql::ResultSet *res;\\n\\n    driver = get_driver_instance();\\n    con = driver->connect(\\"tcp://10.53.100.113:3306\\", \\"root\\", \\"123456\\");\\n    con->setSchema(\\"test\\");\\n\\n    stmt = con->createStatement();\\n    res = stmt->executeQuery(\\"SELECT * FROM user\\");\\n\\n    while (res->next())\\n    {\\n        cout << \\"--------- row ---------\\\\n\\";\\n        cout << \\"\\\\tname: \\" << res->getString(\\"name\\") << endl;\\n        cout << \\"\\\\t  id: \\" << res->getString(\\"id\\") << endl;\\n    }\\n\\n    delete res;\\n    delete stmt;\\n    delete con;\\n}\\n```\\n\\n### 2) \u4fee\u6539\\n\\n```cpp\\n#include <stdio.h>\\n#include <mysql_connection.h>\\n#include <mysql_driver.h>\\n#include <mysql_error.h>\\n#include <cppconn/driver.h>\\n#include <cppconn/exception.h>\\n#include <cppconn/resultset.h>\\n#include <cppconn/statement.h>\\n\\nusing namespace std;\\n\\nint main()\\n{\\n    sql::Driver *driver;\\n    sql::Connection *con;\\n    sql::Statement *stmt;\\n    sql::ResultSet *res;\\n\\n    driver = get_driver_instance();\\n    con = driver->connect(\\"tcp://10.53.100.113:3306\\", \\"root\\", \\"123456\\");\\n    con->setSchema(\\"test\\");\\n\\n    stmt = con->createStatement();\\n    int  effectRows = stmt->executeUpdate(\\"UPDATE user SET name = \'frank\' WHERE id = 1\\");\\n\\n    cout << \\"\u4fee\u6539\u6570\u636e\u6210\u529f\\" << effectRows << \\"\u884c\u53d7\u5f71\u54cd\uff01\\" << endl; \\n\\n    delete res;\\n    delete stmt;\\n    delete con;\\n}\\n```\\n\\n### 3) \u63d2\u5165\\n```cpp\\n#include <stdio.h>\\n#include <mysql_connection.h>\\n#include <mysql_driver.h>\\n#include <mysql_error.h>\\n#include <cppconn/driver.h>\\n#include <cppconn/exception.h>\\n#include <cppconn/resultset.h>\\n#include <cppconn/statement.h>\\n\\nusing namespace std;\\n\\nint main()\\n{\\n    sql::Driver *driver;\\n    sql::Connection *con;\\n    sql::Statement *stmt;\\n    sql::ResultSet *res;\\n\\n    driver = get_driver_instance();\\n    con = driver->connect(\\"tcp://10.53.100.113:3306\\", \\"root\\", \\"123456\\");\\n    con->setSchema(\\"test\\");\\n\\n    stmt = con->createStatement();\\n    stmt->execute(\\"INSERT INTO user(name) VALUES(\'hello\')\\");\\n\\n    delete stmt;\\n    delete con;\\n\\n    return 0;\\n}\\n```","isLeaf":true},{"key":"/cpp/02-cpp-mysql/03-why-cpp-in-mysql-so-hard.md","path":"/cpp/02-cpp-mysql/03-why-cpp-in-mysql-so-hard.md","route":"/cpp/02-cpp-mysql/03-why-cpp-in-mysql-so-hard.md","leaf":true,"title":"03-why-cpp-in-mysql-so-hard","depth":2,"content":"---\\ntitle: 03 CPP + Mysql \u4e0d\u5bb9\u6613\\ntags: CPP\\n---\\n\\n\u6839\u636e Mysql \u7684\u67e5\u8be2\u534f\u8bae\uff0cfield packet \u8bb0\u5f55\u4e86\u5b57\u6bb5\u7684\u6240\u6709\u4fe1\u606f\u3002\u96be\u70b9\u5728\u4e8e\u54ea\u91cc\u5462\uff1f\u4e1a\u52a1\u7edf\u4e00\u67e5\u8be2\u5c42\u5f88\u8e69\u811a\u3002\u9996\u5148\u7edf\u4e00\u67e5\u8be2\u7684\u7ed3\u679c\u8fd4\u56de\u4e00\u4e2a\u5217\u8868`Vector<map<string, value>>`\uff0c\u6709\u4e9b\u5b57\u6bb5\u7684\u7c7b\u578b\u4e3a varchar, \u6709\u4e9b\u662f int\uff0c\u4f46\u662f map \u7684 value \u4e0d\u652f\u6301\u591a\u4e2a\u7c7b\u578b\u3002\\n\\n\u6240\u4ee5\u6709\u7684\u505a\u6cd5\u662f\u8fd4\u56de `Vector<map<string, string>>`\uff0c\u4e0a\u6e38\u53ef\u4ee5\u518d\u6839\u636e\u8fd9\u4e2a\u7ed3\u679c\u5e8f\u5217\u5316\u4e3a `Vector<CustomStruct>`","isLeaf":true}]},{"key":"/cpp/03-cpp-json","path":"/cpp/03-cpp-json","route":"/cpp/03-cpp-json","leaf":false,"title":"03-cpp-json","depth":1,"content":"","isLeaf":false,"children":[{"key":"/cpp/03-cpp-json/01-rapidjson.md","path":"/cpp/03-cpp-json/01-rapidjson.md","route":"/cpp/03-cpp-json/01-rapidjson.md","leaf":true,"title":"01-rapidjson","depth":2,"content":"---\\ntags: CPP\\n---","isLeaf":true},{"key":"/cpp/03-cpp-json/02-jsoncpp.md","path":"/cpp/03-cpp-json/02-jsoncpp.md","route":"/cpp/03-cpp-json/02-jsoncpp.md","leaf":true,"title":"02-jsoncpp","depth":2,"content":"---\\ntags: CPP\\n---\\n\\n\u5165\u95e8\u6559\u7a0b https://www.bilibili.com/video/BV1pb4y1W7ZZ/\\n\\n## 1\u3001\u5b89\u88c5\\n\\n- Mac \u4e2d\u4f7f\u7528\u53ef\u4ee5\u901a\u8fc7 brew \u5b89\u88c5 https://formulae.brew.sh/formula/jsoncpp\\n\\n\\n## 2\u3001\u4f7f\u7528\\n\\n### 1) \u6784\u5efa Json Value\\n\\n```cpp\\n#include \\"json/json.h\\"\\n#include <iostream>\\n\\n/** \\\\brief Write a Value object to a string.\\n * Example Usage:\\n * $g++ stringWrite.cpp -ljsoncpp -std=c++11 -o stringWrite\\n * $./stringWrite\\n * {\\n *     \\"action\\" : \\"run\\",\\n *     \\"data\\" :\\n *     {\\n *         \\"number\\" : 1\\n *     }\\n * }\\n */\\n\\nint main() {\\n  Json::Value root;\\n  Json::Value data;\\n  constexpr bool shouldUseOldWay = false;\\n\\n  root[\\"action\\"] = \\"run\\";\\n  data[\\"number\\"] = 1;\\n  root[\\"data\\"] = data;\\n\\n  if (shouldUseOldWay) {\\n    Json::FastWriter writer;\\n    const std::string json_file = writer.write(root);\\n    std::cout << json_file << std::endl;\\n  } else {\\n    Json::StreamWriterBuilder builder;\\n    // \u7f29\u8fdb\u9ed8\u8ba4\u4e3a \\\\t\\n    builder[\\"indentation\\"] = \\"\\";\\n    const std::string json_file = Json::writeString(builder, root);\\n    std::cout << json_file << std::endl;\\n  }\\n\\n  return EXIT_SUCCESS;\\n}\\n``` \\n\\n### 2\uff09\u6570\u7ec4\u7684\u6784\u5efa\\n\\n```cpp\\n#include \\"json/json.h\\"\\n#include <iostream>\\n#include <string>\\n#include <vector>\\n#include <algorithm>\\n\\nusing namespace std;\\n\\nclass Person\\n{\\npublic:\\n  string name;\\n  int age;\\n\\npublic:\\n  Person(string name, int age)\\n  {\\n    this->name = name;\\n    this->age = age;\\n  }\\n};\\n\\nvoid my_print(Person *it, Json::Value *value)\\n{\\n  (*value)[\'name\'] = (*it).name;\\n  (*value)[\'age\'] = (*it).age;\\n}\\n\\nint main() {\\n  vector<Person*> v;\\n\\n  Person *p1 = new Person(\\"h1\\", 10);\\n  Person *p2 = new Person(\\"h2\\", 12);\\n  Person *p3 = new Person(\\"h3\\", 8);\\n\\n  v.push_back(p1);\\n  v.push_back(p2);\\n  v.push_back(p3);\\n  \\n  Json::Value root;\\n  Json::Value data;\\n  Json::Value list;\\n  constexpr bool shouldUseOldWay = false;\\n\\n  for (vector<Person*>::iterator it = v.begin(); it != v.end(); it++)\\n  {\\n    Json::Value data;\\n    data[\\"name\\"] = (*it)->name;\\n    data[\\"age\\"] = (*it)->age;\\n    list.append(data);\\n  }\\n\\n  root[\\"action\\"] = \\"run\\";\\n  data[\\"number\\"] = 1;\\n  root[\\"data\\"] = data;\\n  root[\\"list\\"] = list;\\n\\n  Json::StreamWriterBuilder builder;\\n  builder[\\"indentation\\"] = \\"\\";\\n  const std::string json_file = Json::writeString(builder, root);\\n  std::cout << json_file << std::endl;\\n\\n  return EXIT_SUCCESS;\\n}\\n```\\n\\n```json\\n{\\"action\\":\\"run\\",\\"data\\":{\\"number\\":1},\\"list\\":[{\\"age\\":10,\\"name\\":\\"h1\\"},{\\"age\\":12,\\"name\\":\\"h2\\"},{\\"age\\":8,\\"name\\":\\"h3\\"}]}\\n```","isLeaf":true}]},{"key":"/cpp/04-cmake","path":"/cpp/04-cmake","route":"/cpp/04-cmake","leaf":false,"title":"04-cmake","depth":1,"content":"","isLeaf":false,"children":[{"key":"/cpp/04-cmake/01-add_executable.md","path":"/cpp/04-cmake/01-add_executable.md","route":"/cpp/04-cmake/01-add_executable.md","leaf":true,"title":"01-add_executable","depth":2,"content":"---\\ntags: CPP\\n---\\n\\n## 1\u3001add_executable \u7528\u6cd5\\n\\n\u5728 CMakeLists.txt \u6587\u4ef6\u4e2d\uff0cadd_executable() \u51fd\u6570\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5e76\u53ef\u4ee5\u5c06\u6e90\u6587\u4ef6\u6dfb\u52a0\u5230\u6b64\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\u3002\u5176\u8bed\u6cd5\u5982\u4e0b\uff1a\\n```\\nadd_executable(executable_name source1 [source2 ...])\\n```\\n\\n\u5176\u4e2d\uff0c`executable_name` \u662f\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u7684\u540d\u79f0\uff0c`source1` \u662f\u53ef\u6267\u884c\u6587\u4ef6\u7684\u4e3b\u6e90\u6587\u4ef6\uff0c`source2`\u3001`source3`\u3001\u2026\u2026\u5219\u662f\u53ef\u9009\u7684\u5176\u4ed6\u6e90\u6587\u4ef6\u3002\\n\\n\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\uff1a\\n\\n```\\ncmake_minimum_required(VERSION 3.10)\\n\\nproject(my_project)\\n\\nadd_executable(my_executable main.cpp helper.cpp)\\n```\\n\\n## 2\u3001add_executable \u53c2\u6570\u8fc7\u957f\\n\u6b64\u793a\u4f8b\u4e2d\uff0cCMakeLists.txt \u6587\u4ef6\u6307\u5b9a\u751f\u6210\u4e00\u4e2a\u540d\u79f0\u4e3a my_executable \u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5e76\u5c06\u4e3b\u6e90\u6587\u4ef6 main.cpp \u548c\u8f85\u52a9\u6e90\u6587\u4ef6 helper.cpp \u6dfb\u52a0\u5230\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\u3002\\n\\n\u5982\u679c\u6e90\u6587\u4ef6\u6bd4\u8f83\u591a\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u53d8\u91cf\uff0c\u5c06\u6e90\u6587\u4ef6\u540d\u5217\u8868\u63d0\u53d6\u51fa\u6765\uff0c\u4ee5\u4fbf\u4f7f CMakeLists.txt \u6587\u4ef6\u66f4\u52a0\u6e05\u6670\u7b80\u6d01\u3002\u53ef\u4ee5\u4f7f\u7528 `set()` \u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u6e90\u6587\u4ef6\u540d\u7684\u53d8\u91cf\uff0c\u7136\u540e\u628a\u8fd9\u4e2a\u53d8\u91cf\u4f20\u9012\u7ed9 `add_executable()` \u51fd\u6570\u3002\u793a\u4f8b\u5982\u4e0b\uff1a\\n```\\ncmake_minimum_required(VERSION 3.10)\\n\\nproject(my_project)\\n\\n# \u4f7f\u7528 set() \u51fd\u6570\u521b\u5efa\u5305\u542b\u6240\u6709\u6e90\u6587\u4ef6\u540d\u7684\u53d8\u91cf\\nset(SOURCES\\n    main.cpp\\n    helper.cpp\\n    some_other_file.cpp\\n    ... # \u66f4\u591a\u6587\u4ef6\u540d\\n)\\n\\n# \u5c06 SOURCES \u53d8\u91cf\u4f20\u9012\u7ed9 add_executable() \u51fd\u6570\\nadd_executable(my_executable ${SOURCES})\\n```\\n\\n\u8fd9\u6837\u53ef\u4ee5\u5c06\u6240\u6709\u6e90\u6587\u4ef6\u540d\u96c6\u4e2d\u5728\u4e00\u4e2a\u53d8\u91cf\u4e2d\uff0c\u66f4\u5bb9\u6613\u7ba1\u7406\u548c\u66f4\u65b0\uff0c\u4e5f\u53ef\u4ee5\u907f\u514d\u547d\u4ee4\u884c\u8fc7\u957f\u7684\u95ee\u9898\u3002\\n\\n## 3\u3001add_executable \u76ee\u5f55\u53c2\u6570\\n\\n\u53ef\u4ee5\u5c06\u6e90\u6587\u4ef6\u6307\u5b9a\u4e3a\u76ee\u5f55\u800c\u4e0d\u662f\u5355\u4e2a\u6587\u4ef6\u3002\u5728 CMake \u4e2d\uff0c\u5b83\u88ab\u79f0\u4e3a\u76ee\u5f55\u8303\u56f4\uff08directory scope\uff09\uff0c\u800c\u4e0d\u662f\u6587\u4ef6\u8303\u56f4\uff08file scope\uff09\u3002\\n\\n\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c`add_executable()` \u51fd\u6570\u5c06\u9012\u5f52\u5730\u641c\u7d22\u6307\u5b9a\u7684\u76ee\u5f55\uff0c\u627e\u5230\u6240\u6709\u53ef\u7f16\u8bd1\u7684\u6e90\u6587\u4ef6\uff0c\u5e76\u5c06\u5b83\u4eec\u6dfb\u52a0\u5230\u6267\u884c\u76ee\u6807\u4e2d\u3002\\n\\n\u53ef\u4ee5\u4f7f\u7528 `aux_source_directory()` \u51fd\u6570\u6307\u5b9a\u76ee\u5f55\uff0c\u5e76\u4ece\u76ee\u5f55\u4e2d\u6536\u96c6\u6e90\u6587\u4ef6\u3002\u5177\u4f53\u793a\u4f8b\u5982\u4e0b\uff1a\\n\\n```\\ncmake_minimum_required(VERSION 3.10)\\n\\nproject(my_project)\\n\\n# \u5c06\u6e90\u6587\u4ef6\u76ee\u5f55\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 aux_source_directory() \u51fd\u6570\\naux_source_directory(src SOURCES)\\n\\n# \u5c06 SOURCES \u53d8\u91cf\u4f20\u9012\u7ed9 add_executable() \u51fd\u6570\\nadd_executable(my_executable ${SOURCES})\\n```\\n\\n\u6b64\u793a\u4f8b\u4e2d\uff0c`src` \u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6e90\u6587\u4ef6\u90fd\u5c06\u88ab\u6dfb\u52a0\u5230 `SOURCES` \u53d8\u91cf\u4e2d\u3002`add_executable()` \u51fd\u6570\u5c06\u4f7f\u7528\u6b64\u53d8\u91cf\u521b\u5efa\u53ef\u6267\u884c\u6587\u4ef6\u3002\\n\\n## 4\u3001\u76ee\u5f55\u8303\u56f4\u4e0d\u5305\u542b\u5934\u6587\u4ef6\\n\\n\u4e0d\u5305\u62ec\u5934\u6587\u4ef6\u3002 `aux_source_directory()` \u51fd\u6570\u53ea\u4f1a\u67e5\u627e\u5e76\u6dfb\u52a0\u6e90\u6587\u4ef6\uff0c\u4f46\u4e0d\u4f1a\u5305\u542b\u5934\u6587\u4ef6\uff0c\u56e0\u4e3a\u5934\u6587\u4ef6\u901a\u5e38\u4e0d\u662f\u53ef\u7f16\u8bd1\u7684\u6e90\u4ee3\u7801\uff08\u9664\u975e\u5b83\u4eec\u662f `inline` \u6216\u8005 `template` \u5f62\u5f0f\u7684\uff09\uff0c\u5b83\u4eec\u4e0d\u4f1a\u88ab\u7f16\u8bd1\u6210\u76ee\u6807\u6587\u4ef6\uff0cheader \u6587\u4ef6\u66f4\u50cf\u662f\u5e93\u7684\u4e00\u90e8\u5206\u6216\u8005\u63a5\u53e3\u7684\u4e00\u90e8\u5206\uff0c\u7528\u4e8e\u5b9a\u4e49\u7c7b\u3001\u5b9a\u4e49\u51fd\u6570\u3001\u5b9a\u4e49\u5b8f\u7b49\u7b49\uff0c\u88ab\u7528\u4e8e\u5728\u8bb8\u591a\u4ee3\u7801\u6587\u4ef6\u4e2d\u8fdb\u884c #include \u5f15\u7528\u3002\\n\u5728\u4f7f\u7528 `aux_source_directory()` \u65f6\uff0c\u5e94\u8be5\u5c06\u6807\u5934\u6587\u4ef6\u5305\u542b\u5728\u4f7f\u7528\u8fd9\u4e9b\u6e90\u6587\u4ef6\u7684\u6587\u4ef6\u4e2d\uff0c\u5e76\u4e14\u5e94\u8be5\u4f7f\u7528 `target_include_directories()` \u51fd\u6570\u5c06\u76f8\u5e94\u76ee\u5f55\u6dfb\u52a0\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\u6216\u5e93\u7684\u5305\u542b\u76ee\u5f55\u3002 \u4f8b\u5982\uff1a\\n\\n```\\ncmake_minimum_required(VERSION 3.10)\\n\\nproject(my_project)\\n\\n# \u5c06\u6e90\u6587\u4ef6\u76ee\u5f55\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 aux_source_directory() \u51fd\u6570\\naux_source_directory(src SOURCES)\\n\\n# \u5c06\u5934\u6587\u4ef6\u76ee\u5f55\u6dfb\u52a0\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\u6216\u5e93\u7684\u5305\u542b\u76ee\u5f55\\ntarget_include_directories(my_executable PUBLIC include)\\n\\n# \u5c06 SOURCES \u53d8\u91cf\u4f20\u9012\u7ed9 add_executable() \u51fd\u6570\\nadd_executable(my_executable ${SOURCES})\\n```\\n\\n\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c`include` \u76ee\u5f55\u8def\u5f84\u88ab\u6dfb\u52a0\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\u6216\u5e93\u7684\u5305\u542b\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u4e2d\u5305\u542b\u6240\u6709\u5fc5\u8981\u7684\u5934\u6587\u4ef6\u3002 \u6dfb\u52a0 `target_include_directories()` \u51fd\u6570\u540e\uff0c\u4f7f\u7528\u53d8\u91cf `SOURCES` \u6dfb\u52a0\u6240\u6709\u6e90\u6587\u4ef6\u5373\u53ef\u3002","isLeaf":true},{"key":"/cpp/04-cmake/02-add_definitions.md","path":"/cpp/04-cmake/02-add_definitions.md","route":"/cpp/04-cmake/02-add_definitions.md","leaf":true,"title":"02-add_definitions","depth":2,"content":"---\\ntags: CPP\\n---\\n\\nadd_definitions \u662f CMake \u4e2d\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\u7528\u4e8e\u5411\u7f16\u8bd1\u5668\u6dfb\u52a0\u9884\u5b9a\u4e49\u7684\u7b26\u53f7\u3002\u5728 CMake \u4e2d\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728 CMakeLists.txt \u6587\u4ef6\u4e2d\u8c03\u7528 add_definitions \u51fd\u6570\u6765\u4e3a\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u6dfb\u52a0\u7b26\u53f7\u3002\\n\\n\u6dfb\u52a0\u7b26\u53f7\u7684\u57fa\u672c\u76ee\u7684\u662f\u4e3a\u4e86\u5728\u7f16\u8bd1\u65f6\u5b9a\u4e49\u4e00\u4e9b\u5b8f\uff0c\u8fd9\u4e9b\u5b8f\u5728\u6e90\u4ee3\u7801\u4e2d\u4f7f\u7528\uff0c\u53ef\u4ee5\u63a7\u5236\u5e94\u7528\u7a0b\u5e8f\u7684\u884c\u4e3a\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 add_definitions(-DDEBUG) \u6dfb\u52a0\u4e00\u4e2a\u540d\u4e3a DEBUG \u7684\u7b26\u53f7\uff0c\u5728\u6e90\u4ee3\u7801\u4e2d\u4f7f\u7528 #ifdef DEBUG \u548c #ifndef DEBUG \u5bf9\u7a0b\u5e8f\u8fdb\u884c\u8c03\u8bd5\u3002\\n\\n\u9664\u4e86\u63a7\u5236\u7a0b\u5e8f\u884c\u4e3a\u4e4b\u5916\uff0c\u4f7f\u7528 add_definitions \u8fd8\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7684\u5e73\u53f0\u914d\u7f6e\u4e0d\u540c\u7684\u7f16\u8bd1\u6807\u8bb0\u548c\u53c2\u6570\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 add_definitions(-DMY_LINUX_BUILD) \u6765\u6307\u5b9a\u5728 Linux \u7cfb\u7edf\u4e0a\u7f16\u8bd1\u3002\\n\\n\u603b\u7684\u6765\u8bf4\uff0cadd_definitions \u51fd\u6570\u5e2e\u52a9\u60a8\u5411\u7f16\u8bd1\u5668\u6dfb\u52a0\u9884\u5b9a\u4e49\u7684\u7b26\u53f7\uff0c\u5e76\u4e3a\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u66f4\u5927\u7684\u7075\u6d3b\u6027\u548c\u53ef\u914d\u7f6e\u6027\u3002","isLeaf":true}]},{"key":"/cpp/05-gcc","path":"/cpp/05-gcc","route":"/cpp/05-gcc","leaf":false,"title":"05-gcc","depth":1,"content":"","isLeaf":false,"children":[{"key":"/cpp/05-gcc/01-gcc.md","path":"/cpp/05-gcc/01-gcc.md","route":"/cpp/05-gcc/01-gcc.md","leaf":true,"title":"01-gcc","depth":2,"content":"---\\ntitle: 01 gcc \u7684\u4f7f\u7528\\ntags: CPP\\n---\\n\\n## 1\u3001\u901a\u8fc7 `-L` \u8bbe\u7f6e\u52a8\u6001\u5e93\u67e5\u627e\u8def\u5f84\\n\\n### 1) `-L` \u8bf4\u660e\\n\u5728C++\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u6307\u5b9a\u52a8\u6001\u5e93\u7684\u4f4d\u7f6e\uff1a\\n```\\n-L<path>\\n```\\n\\n\u5176\u4e2d\uff0c`<path>`\u662f\u6307\u52a8\u6001\u5e93\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u8def\u5f84\u3002\u8fd9\u6761\u547d\u4ee4\u544a\u8bc9\u7f16\u8bd1\u5668\u5728\u6307\u5b9a\u8def\u5f84\u4e0b\u67e5\u627e\u52a8\u6001\u5e93\u6587\u4ef6\u3002\\n\\n\u4f8b\u5982\uff0c\u5982\u679c\u8981\u5728Linux\u7cfb\u7edf\u4e2d\u4f7f\u7528`g++`\u7f16\u8bd1`example.cpp`\u6587\u4ef6\uff0c\u5e76\u94fe\u63a5\u540d\u4e3a`libexample.so`\u7684\u52a8\u6001\u5e93\u6587\u4ef6\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n\\n```\\ng++ example.cpp -L/path/to/dynamic/library -lexample\\n```\\n\\n\u5176\u4e2d\uff0c`/path/to/dynamic/library`\u662f\u6307\u52a8\u6001\u5e93\u6587\u4ef6`libexample.so`\u6240\u5728\u7684\u76ee\u5f55\u3002`-lexample`\u5219\u662f\u544a\u8bc9\u7f16\u8bd1\u5668\u94fe\u63a5`libexample.so`\u52a8\u6001\u5e93\u6587\u4ef6\u3002\\n\\n\u5728Windows\u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u6307\u5b9a\u52a8\u6001\u5e93\u7684\u4f4d\u7f6e\uff1a\\n\\n```\\n-L<path> -l<library_name>\\n```\\n\\n\u5176\u4e2d\uff0c`<path>`\u662f\u6307\u52a8\u6001\u5e93\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u8def\u5f84\uff0c`<library_name>`\u662f\u52a8\u6001\u5e93\u7684\u540d\u79f0\u3002\\n\\n\u4f8b\u5982\uff0c\u5982\u679c\u8981\u5728Windows\u7cfb\u7edf\u4e2d\u4f7f\u7528`g++`\u7f16\u8bd1`example.cpp`\u6587\u4ef6\uff0c\u5e76\u94fe\u63a5\u540d\u4e3a`example.dll`\u7684\u52a8\u6001\u5e93\u6587\u4ef6\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n\\n```\\ng++ example.cpp -L/path/to/dynamic/library -l example\\n```\\n\\n\u5176\u4e2d\uff0c`/path/to/dynamic/library`\u662f\u6307\u52a8\u6001\u5e93\u6587\u4ef6`example.dll`\u6240\u5728\u7684\u76ee\u5f55\u3002`-l example`\u5219\u662f\u544a\u8bc9\u7f16\u8bd1\u5668\u94fe\u63a5`example.dll`\u52a8\u6001\u5e93\u6587\u4ef6\u3002\u6ce8\u610f\uff0c\u5728Windows\u7cfb\u7edf\u4e2d\uff0c\u5728\u5e93\u540d\u79f0\u524d\u9700\u8981\u52a0\u4e0a`lib`\u524d\u7f00\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5e93\u540d\u79f0\u4e3a`example.dll`\uff0c\u5219\u9700\u8981\u5199\u6210`libexample.dll`\u3002\\n\\n### 2) \u53ef\u4ee5\u591a\u6b21\u4f7f\u7528 `-L`\\n\\n\u5728\u4e00\u6b21\u7f16\u8bd1\u4e2d\u53ef\u4ee5\u4f7f\u7528\u591a\u6b21`-L`\u6765\u6307\u5b9a\u591a\u4e2a\u52a8\u6001\u5e93\u7684\u8def\u5f84\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6709\u4e24\u4e2a\u4e0d\u540c\u7684\u52a8\u6001\u5e93\u8def\u5f84\u9700\u8981\u94fe\u63a5\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n\\n```\\ng++ example.cpp -L/path/to/first/dynamic/library -L/path/to/second/dynamic/library -lexample1 -lexample2\\n```\\n\\n\u8fd9\u4e2a\u547d\u4ee4\u5c06\u5728`/path/to/first/dynamic/library`\u548c`/path/to/second/dynamic/library`\u76ee\u5f55\u4e2d\u67e5\u627e`libexample1.so`\u548c`libexample2.so`\u3002\\n\\n\u8bf7\u6ce8\u610f\uff0c\u5728\u4f7f\u7528\u591a\u4e2a`-L`\u53c2\u6570\u65f6\uff0c\u7f16\u8bd1\u5668\u6309\u7167\u6307\u5b9a\u53c2\u6570\u7684\u987a\u5e8f\u641c\u7d22\u8def\u5f84\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u4e24\u4e2a\u8def\u5f84\u4e2d\u90fd\u6709\u540c\u540d\u7684\u5e93\uff0c\u5219\u53ef\u80fd\u4f1a\u53d1\u751f\u94fe\u63a5\u9519\u8bef\u3002\\n\\n### 3) `-L` \u6f14\u793a\\n\\n**\u521b\u5efa\u52a8\u6001\u94fe\u63a5\u5e93**\\n```c\\n#include<stdio.h>\\nvoid hello()\\n{\\n  printf(\\"hello world/n\\");\\n}\\n```\\n\\n```shell\\ng++ -std=c++11 -fPIC -shared hello.c -o libhello.so\\n```\\n\\n- `-shared`: \u8be5\u9009\u9879\u6307\u5b9a\u751f\u6210\u52a8\u6001\u8fde\u63a5\u5e93\uff08\u8ba9\u8fde\u63a5\u5668\u751f\u6210T\u7c7b\u578b\u7684\u5bfc\u51fa\u7b26\u53f7\u8868\uff0c\u6709\u65f6\u5019\u4e5f\u751f\u6210\u5f31\u8fde\u63a5W\u7c7b\u578b\u7684\u5bfc\u51fa\u7b26\u53f7\uff09\uff0c\u4e0d\u7528\u8be5\u6807\u5fd7\u5916\u90e8\u7a0b\u5e8f\u65e0\u6cd5\u8fde\u63a5\u3002\u76f8\u5f53\u4e8e\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\\n- `-fpic`: \u8868\u793a\u7f16\u8bd1\u4e3a\u4f4d\u7f6e\u72ec\u7acb\u7684\u4ee3\u7801\uff0c\u4e0d\u7528\u6b64\u9009\u9879\u7684\u8bdd\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u662f\u4f4d\u7f6e\u76f8\u5173\u7684\u6240\u4ee5\u52a8\u6001\u8f7d\u5165\u65f6\u662f\u901a\u8fc7\u4ee3\u7801\u62f7\u8d1d\u7684\u65b9\u5f0f\u6765\u6ee1\u8db3\u4e0d\u540c\u8fdb\u7a0b\u7684\u9700\u8981\uff0c\u800c\u4e0d\u80fd\u8fbe\u5230\u771f\u6b63\u4ee3\u7801\u6bb5\u5171\u4eab\u7684\u76ee\u7684\\n\\n**\u94fe\u63a5\u52a8\u6001\u5e93**\\n```c\\n#include<stdio.h>\\n\\nvoid: hello();\\n\\nint main()\\n{\\n  printf(\\"call hello()\\");\\n  hello();\\n}\\n```\\n\\n```shell\\n# \u9700\u8981\u4f7f\u7528-L\u9009\u9879\uff0c\u544a\u8bc9 hello \u5e93\u7684\u4f4d\u7f6e\\ng++ -std=c++11 main.c -o main -lhello -L.\\n```\\n\\n## 2\u3001`-I` \u6307\u5b9a\u5934\u6587\u4ef6\u7684\u5305\u542b\u8def\u5f84\\n\\n\u6bd4\u5982\u8fd9\u91cc\u6307\u5b9a mysql \u5934\u6587\u4ef6\u6240\u5728\u4f4d\u7f6e\\n\\n```shell\\ngcc -I/usr/include/mysql main.c -L/usr/lib/mysql -lmysqlclient -o main\\n```\\n\\n\u5e94\u8be5\u5c06`-L`\u653e\u5728`-l`\u4e4b\u524d\u3002","isLeaf":true},{"key":"/cpp/05-gcc/02-vcpkg.md","path":"/cpp/05-gcc/02-vcpkg.md","route":"/cpp/05-gcc/02-vcpkg.md","leaf":true,"title":"02-vcpkg","depth":2,"content":"---\\ntitle: 02 \u5305\u7ba1\u7406\u5668\\ntags: CPP\\n---\\n\\n## 1\u3001\u57fa\u672c\u4ecb\u7ecd\\n\\nC++ vcpkg \u662f\u4e00\u4e2a\u7528\u4e8e\u7ba1\u7406 C++ \u7b2c\u4e09\u65b9\u5e93\u7684\u8de8\u5e73\u53f0\u5305\u7ba1\u7406\u5668\u3002\u5b83\u80fd\u591f\u5728\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u5b89\u88c5\u5e93\u5e76\u5904\u7406\u5176\u4f9d\u8d56\u5173\u7cfb\uff0c\u80fd\u591f\u4e3a\u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u4e00\u4e2a\u65b9\u4fbf\u7684\u65b9\u5f0f\u6765\u83b7\u53d6\u548c\u4f7f\u7528 C++ \u7b2c\u4e09\u65b9\u5e93\u3002\\n\\nC++ vcpkg \u652f\u6301 Windows\u3001Linux \u548c MacOS \u7b49\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u3002\u5b83\u4f7f\u7528\u4e00\u4e2a\u547d\u4ee4\u884c\u754c\u9762\u6765\u7ba1\u7406\u5305\uff0c\u652f\u6301\u81ea\u52a8\u4e0b\u8f7d\u3001\u7f16\u8bd1\u548c\u5b89\u88c5 C++ \u5e93\uff0c\u4e5f\u53ef\u4ee5\u624b\u52a8\u914d\u7f6e\u5b89\u88c5\u5e93\u3002\\n\\n\u4f7f\u7528 C++ vcpkg\uff0c\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u901a\u8fc7\u7b80\u5355\u7684\u547d\u4ee4\u884c\u64cd\u4f5c\u5feb\u901f\u83b7\u53d6\u9700\u8981\u7684\u5e93\uff0c\u5e76\u5728\u9879\u76ee\u4e2d\u4f7f\u7528\u5b83\u4eec\u3002\u6b64\u5916\uff0cC++ vcpkg \u8fd8\u5177\u6709\u4e00\u4e9b\u9ad8\u7ea7\u529f\u80fd\uff0c\u5982\u7248\u672c\u63a7\u5236\u3001\u5e93\u5347\u7ea7\u3001\u6784\u5efa\u9009\u9879\u7b49\u3002\\n\\n\u603b\u4e4b\uff0cC++ vcpkg \u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u8f7b\u677e\u7ba1\u7406 C++ \u7b2c\u4e09\u65b9\u5e93\uff0c\u5e76\u5728\u4e0d\u540c\u7684\u5e73\u53f0\u4e0a\u8fdb\u884c\u5f00\u53d1\u3002\\n\\n## 2\u3001\u4f7f\u7528\u6b65\u9aa4\\n\\n\u4ee5\u4e0b\u662f\u4f7f\u7528 vcpkg \u8fdb\u884c C++ \u5305\u7ba1\u7406\u7684\u57fa\u672c\u6b65\u9aa4\uff1a\\n1. \u4e0b\u8f7d\u548c\u5b89\u88c5 vcpkg \u5de5\u5177\\n   - \u9996\u5148\u9700\u8981\u5728 GitHub \u4e0a\u4e0b\u8f7d vcpkg \u7684\u6700\u65b0\u7248\u672c\uff1ahttps://github.com/microsoft/vcpkg\\n   - \u63a8\u8350\u5c06 vcpkg \u6240\u5728\u76ee\u5f55\u6dfb\u52a0\u5230\u7cfb\u7edf\u73af\u5883\u53d8\u91cf PATH \u4e2d\u3002\\n\\n2. \u901a\u8fc7 vcpkg \u5b89\u88c5\u6240\u9700\u7684\u5e93\\n   - \u6253\u5f00\u547d\u4ee4\u884c\uff0c\u8fdb\u5165 vcpkg \u76ee\u5f55\u3002\\n   - \u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\u6240\u9700\u7684\u5e93\uff1a`vcpkg install <package-name>`\\n   - \u4f8b\u5982\uff0c\u5b89\u88c5 OpenSSL \u5e93\u53ef\u4ee5\u7528\u547d\u4ee4\uff1a`vcpkg install openssl` \\n\\n3. \u914d\u7f6e C++ \u9879\u76ee\u4ee5\u4f7f\u7528 vcpkg \u5b89\u88c5\u7684\u5e93\\n   - \u5728 C++ \u9879\u76ee\u4e2d\u6253\u5f00\u914d\u7f6e\u6587\u4ef6\uff08\u5982 Visual Studio \u4e2d\u7684 .vcxproj \u6587\u4ef6\uff09\u3002\\n   - \u5c06\u4ee5\u4e0b\u51e0\u884c\u4ee3\u7801\u6dfb\u52a0\u5230vcxproj\u4e2d\uff1a\\n    ```\\n    <ItemGroup>\\n        <PackageReference Include=\\"openssl\\" Version=\\"*\\" />\\n    </ItemGroup>\\n    ```\\n  - \u4e0a\u8ff0\u8bed\u53e5\u5c06 `<PackageReference>` \u5143\u7d20\u6dfb\u52a0\u5230\u9879\u76ee\u6587\u4ef6\u4e2d\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u5e93\u7684\u540d\u79f0\u4f5c\u4e3a\u5176\u4e2d\u7684\u5305\u5f15\u7528 \u3002\\n\\n4. \u6784\u5efa\u548c\u8fd0\u884c\u7a0b\u5e8f\\n   - \u4f7f\u7528 C++ \u7f16\u8bd1\u5668\u6784\u5efa\u548c\u7f16\u8bd1\u9879\u76ee\u3002\\n   - \u8fd0\u884c\u53ef\u6267\u884c\u7a0b\u5e8f\u4ee5\u786e\u4fdd\u5e93\u5df2\u88ab\u6210\u529f\u6dfb\u52a0\u4ee5\u53ca\u9879\u76ee\u4ee5\u6b63\u5e38\u5de5\u4f5c\u3002\\n\\n\u8fd9\u662f\u4f7f\u7528 vcpkg \u8fdb\u884c\u57fa\u672c C++ \u5305\u7ba1\u7406\u7684\u7b80\u5355\u6b65\u9aa4\u3002\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u60c5\u51b5\u8c03\u6574\u8fd9\u4e9b\u6b65\u9aa4\uff0c\u5982\u638c\u63e1\u66f4\u591a\u7684\u7f16\u8bd1\u9009\u9879\u3001\u901a\u8fc7 vcpkg \u67e5\u770b\u5305\u5217\u8868\u548c\u7248\u672c\u7b49\u3002","isLeaf":true}]},{"key":"/cpp/06-v8","path":"/cpp/06-v8","route":"/cpp/06-v8","leaf":false,"title":"06-v8","depth":1,"content":"","isLeaf":false,"children":[{"key":"/cpp/06-v8/01-build-v8.md","path":"/cpp/06-v8/01-build-v8.md","route":"/cpp/06-v8/01-build-v8.md","leaf":true,"title":"01-build-v8","depth":2,"content":"---\\ntitle: \u6e90\u7801\u6784\u5efa V8\\ntags: CPP\\n---\\n\\nhttps://v8.js.cn/docs/build/","isLeaf":true}]}]},{"key":"/docker","path":"/docker","route":"/docker","leaf":false,"title":"docker","depth":0,"content":"","isLeaf":false,"children":[{"key":"/docker/01-command.md","path":"/docker/01-command.md","route":"/docker/01-command.md","leaf":true,"title":"01-command","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n## 1\u3001docker \u7b80\u4ecb\\nDocker \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5e94\u7528\u5bb9\u5668\u5f15\u64ce\uff0c\u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u6253\u5305\u4ed6\u4eec\u7684\u5e94\u7528\u4ee5\u53ca\u4f9d\u8d56\u5305\u5230\u4e00\u4e2a\u53ef\u79fb\u690d\u7684\u5bb9\u5668\u4e2d\uff0c\u7136\u540e\u53d1\u5e03\u5230\u4efb\u4f55\u6d41\u884c\u7684Linux\u673a\u5668\u6216Windows \u673a\u5668\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u865a\u62df\u5316\uff0c\u5bb9\u5668\u662f\u5b8c\u5168\u4f7f\u7528\u6c99\u7bb1\u673a\u5236\uff0c\u76f8\u4e92\u4e4b\u95f4\u4e0d\u4f1a\u6709\u4efb\u4f55\u63a5\u53e3\u3002\\n\\n\u4e00\u4e2a\u5b8c\u6574\u7684Docker\u6709\u4ee5\u4e0b\u51e0\u4e2a\u90e8\u5206\u7ec4\u6210\uff1a\\n1. DockerClient \u5ba2\u6237\u7aef\\n2. Docker Daemon \u5b88\u62a4\u8fdb\u7a0b\\n3. Docker Image \u955c\u50cf\\n4. DockerContainer \u5bb9\u5668\\n\\n\\n## 2\u3001\u955c\u50cf\u64cd\u4f5c\\n\\n```shell\\n# \u5236\u4f5c\u955c\u50cf\\ndocker build -t gaollard/hello:v1 .\\n\\n# \u63a8\u9001\u955c\u50cf\\ndocker push gaollard/hello:v1 \\n\\n# \u5220\u9664\u955c\u50cf(\u5220\u9664\u4e4b\u524d\uff0c\u9700\u8981\u5148\u505c\u6b62\u76f8\u5173\u7684\u5bb9\u5668)\\ndocker rmi IMAGE_ID\\n\\n# \u5f3a\u5236\u5220\u9664\\ndocker rmi c7309a89f296 -f\\n\\n# \u4ece\u8fdc\u7a0b\u62c9\u53d6\u955c\u50cf\\ndocker pull nginx\\n\\n# \u641c\u7d22\u955c\u50cf\\ndocker search httpd\\n```\\n\\n## 3\u3001\u5bb9\u5668\u64cd\u4f5c\\n\\n```shell\\n# \u505c\u6b62\u5bb9\u5668\\ndocker stop CONTAINER_ID\\n\\n# \u5236\u4f5c\u5bb9\u5668\\ndocker run -p 7001:80 --name tnginx -d gaollard/hello:v1\\n\\n# \u6302\u8f7d\u6570\u636e\u5377\\ndocker run -p 7002:80 --name tnginx2 -v /Users/arraybuffer/Desktop/html:/usr/share/nginx/html -d nginx\\n\\n# \u67e5\u770b\u5bb9\u5668\\ndocker ps\\n```\\n\\n**\u5220\u9664\u5bb9\u5668**\\n\\n\u8bed\u6cd5\uff1a\\n\\n```shell\\ndocker rm [OPTIONS] \u5bb9\u5668\u540d\uff0c\u5176\u4e2doptions\u6709\u4e09\u79cd\u7c7b\u578b\uff1a\\n```\\n\\n- -f \uff1a\u901a\u8fc7SIGKILL\u4fe1\u53f7\u5f3a\u5236\u5220\u9664\u4e00\u4e2a\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\\n- -l \uff1a\u79fb\u9664\u5bb9\u5668\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\uff0c\u800c\u975e\u5bb9\u5668\u672c\u8eab-v \uff1a-v \u5220\u9664\u4e0e\u5bb9\u5668\u5173\u8054\u7684\u5377\\n\\n\u5bb9\u5668\u5220\u9664\u4e3e\u4f8b\uff1a\\n\\n```bash\\ndocker rm -v nginx \u8fd9\u53e5\u8bdd\u7684\u610f\u601d\u662f\u5220\u9664nginx\u5bb9\u5668\uff0c\u5e76\u89e3\u9664\u4e0enginx\u5bb9\u5668\u5173\u8054\u7684\u5377\\ndocker rm -l db \u8fd9\u53e5\u547d\u4ee4\u7684\u610f\u601d\u662f\uff1a\u79fb\u9664\u5bb9\u5668A\u5bf9\u5bb9\u5668B\u7684\u8fde\u63a5db\\ndocker rm -f db01 db02 \u8fd9\u53e5\u547d\u4ee4\u7684\u610f\u601d\u662f\u5220\u9664\u5bb9\u5668db01\u548cdb02\\n```\\n\\n\u5bb9\u5668\u7684\u5220\u9664\u53ef\u4ee5\u4e00\u6b21\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\uff0c\u5728\u4f7f\u7528\u65f6\u76f4\u63a5\u4ee5\u7a7a\u683c\u9694\u5f00\u5c31\u884c\u3002\\n\\n## 4\u3001docker \u5bb9\u5668\u5b89\u88c5 vim\\n\u5728\u4f7f\u7528docker\u5bb9\u5668\u65f6\uff0c\u6709\u65f6\u5019\u91cc\u8fb9\u6ca1\u6709\u5b89\u88c5vim\uff0c\u6572vim\u547d\u4ee4\u65f6\u63d0\u793a\u8bf4\uff1avim: command not found\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u5b89\u88c5vim\uff0c\u53ef\u662f\u5f53\u4f60\u6572apt-get install vim\u547d\u4ee4\u65f6\uff0c\u63d0\u793a\uff1a\\n\\n```text\\nReading package lists... Done\\nBuilding dependency tree       \\nReading state information... Done\\nE: Unable to locate package vim\\n```\\n \\n\u8fd9\u65f6\u5019\u9700\u8981\u6572\uff1aapt-get update\uff0c\u8fd9\u4e2a\u547d\u4ee4\u7684\u4f5c\u7528\u662f\uff1a\u540c\u6b65 /etc/apt/sources.list \u548c /etc/apt/sources.list.d \u4e2d\u5217\u51fa\u7684\u6e90\u7684\u7d22\u5f15\uff0c\u8fd9\u6837\u624d\u80fd\u83b7\u53d6\u5230\u6700\u65b0\u7684\u8f6f\u4ef6\u5305\u3002\\n\\n\u7b49\u66f4\u65b0\u5b8c\u6bd5\u4ee5\u540e\u518d\u6572\u547d\u4ee4\uff1aapt-get install vim\u547d\u4ee4\u5373\u53ef\u3002\\n\\n```shell\\n$ > apt-get update\\n$ > apt-get install vim\\n```\\n\\n## 5\u3001yaml \u8bed\u6cd5\\nhttps://www.jianshu.com/p/cea930923f3d","isLeaf":true},{"key":"/docker/02-deploy-nginx.md","path":"/docker/02-deploy-nginx.md","route":"/docker/02-deploy-nginx.md","leaf":true,"title":"02-deploy-nginx","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n## 1. \u7b80\u5355\u90e8\u7f72\\n\u7b2c\u4e00\u6b65\uff1a\u524d\u7aef\u6253\u5305\u751f\u6210 dist \u6587\u4ef6\\n```shell\\nnpm run build\\n```\\n\\n\u7b2c\u4e8c\u6b65\uff1a\u5728\u9879\u76ee\u6839\u76ee\u5f55\u521b\u5efa dockerfile \u6587\u4ef6\\n```shell\\n# \u8bbe\u7f6e\u57fa\u7840\u955c\u50cf\\nFROM nginx\\n\\n# \u5b9a\u4e49\u4f5c\u8005\\nMAINTAINER gaollard\\n\\n# \u5c06dist\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u590d\u5236\u5230 /usr/share/nginx/html/ \u8fd9\u4e2a\u76ee\u5f55\u4e0b\u9762\\nCOPY dist/  /usr/share/nginx/html/\\n```\\n\\n\u7b2c\u4e09\u6b65\uff1a\u6784\u5efa\u955c\u50cf\\n```shell\\n# \u5728\u9879\u76ee\u6839\u76ee\u5f55\u6267\u884c iname \u4e3a\u955c\u50cf\u540d\u79f0\\ndocker build -t iname .\\n\\n# \u67e5\u770b\u955c\u50cf\\ndocker ps\\n```\\n\\n\u7b2c\u56db\u6b65\uff1a\u542f\u52a8\u5bb9\u5668\\n```shell\\n# -p \uff1a\u914d\u7f6e\u7aef\u53e3\u6620\u5c04\uff0c\u683c\u5f0f\u662f\u5916\u90e8\u8bbf\u95ee\u7aef\u53e3\uff1a\u5bb9\u5668\u5185\u7aef\u53e3\\n# -d \uff1a\u540e\u53f0\u8fd0\u884c  \\n# --name : \u7ed9\u5bb9\u5668\u53d6\u540d\\n# cname: \u5bb9\u5668\u540d\u79f0\\n# iname: \u955c\u50cf\u540d\u79f0\\n\\ndocker run -p 3000:80 -d --name cname iname\\n```\\n\\n\u7b2c\u4e94\u6b65\uff1a\u67e5\u770b\u662f\u5426\u8fd0\u884c\u6210\u529f\\n```shell\\ndocker ps\\n```\\n\\n![20230512162713](http://s3.airtlab.com/blog/20230512162713.png)\\n\\n## 2. \u811a\u672c\u5316\u90e8\u7f72\\n```shell\\n# \u5907\u4efd\u539f\u4ee3\u7801\\ntar -zcvf gentle-vue.tar ./gentle-vue\\n \\n# \u5220\u9664\u539f\u4ee3\u7801\u6587\u4ef6\u5939\\nrm -rf gentle-vue\\n \\n# \u62c9\u53d6\u4ee3\u7801\\ngit clone https://gitee.com/FJ_WoMenDeShiJie/gentle-vue.git\\necho -e \\"\\\\033[32m\\\\n\u4ee3\u7801\u62c9\u53d6\\\\n\\\\033[0m\\"\\n \\n# \u62f7\u8d1d node_modules\\ncp ./node.tar ./gentle-vue\\n \\n# build \u6253\u5305 vue \u9879\u76ee\uff0c\u751f\u6210 dist \u6587\u4ef6\u5939\\ncd ./gentle-vue\\ntar -zxvf node.tar\\nnpm run build\\necho -e \\"\\\\033[32m\\\\nvue\u9879\u76ee\u6253\u5305\u5b8c\u6210\\\\n\\\\033[0m\\"\\n \\n# \u5220\u9664\u539f\u955c\u50cf\\ndocker rmi gentle-vue &> /dev/null\\necho  -e \\"\\\\033[32m\\\\n\u5220\u9664\u539f\u955c\u50cf\u6587\u4ef6\\\\n\\\\033[0m\\"\\n \\n# \u62f7\u8d1d dockerfile \u5230\u5de5\u7a0b\u76ee\u5f55\u4e0b\\ncp ../dockerfile ./\\n \\n# \u6784\u5efa\u955c\u50cf\\ndocker build -t gentle-vue .\\necho -e \\"\\\\033[32m\\\\n\u65b0\u955c\u50cf\u6784\u5efa\u6210\u529f\\\\n\\\\033[0m\\"\\n \\n# \u5220\u9664\u539f\u5bb9\u5668\\ndocker rm -f gentle-vue\\n \\n# \u542f\u52a8\u5bb9\u5668\\ndocker run -p 3000:80 -d --name gentle-vue gentle-vue\\necho -e \\"\\\\033[32m\\\\n\u524d\u7aef\u5de5\u7a0b\u90e8\u7f72\u5b8c\u6210\\\\n\\\\033[0m\\"\\n```\\n\\n## 3. \u53c2\u8003\u6587\u6863\\n[https://blog.csdn.net/jiangyu1013/article/details/84572582](https://blog.csdn.net/jiangyu1013/article/details/84572582)\\n","isLeaf":true},{"key":"/docker/03-deploy-sentry.md","path":"/docker/03-deploy-sentry.md","route":"/docker/03-deploy-sentry.md","leaf":true,"title":"03-deploy-sentry","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nhttps://blog.csdn.net/u014265398/article/details/105877084","isLeaf":true},{"key":"/docker/04-install-ssh.md","path":"/docker/04-install-ssh.md","route":"/docker/04-install-ssh.md","leaf":true,"title":"04-install-ssh","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n1. https://www.jianshu.com/p/426f0d8e6cbf\\n2. https://www.cnblogs.com/mengw/p/11413461.html","isLeaf":true},{"key":"/docker/05-docker-network.md","path":"/docker/05-docker-network.md","route":"/docker/05-docker-network.md","leaf":true,"title":"05-docker-network","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n### 1\u3001\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Docker \u7f51\u7edc\\n\\n```\\n$ docker network create -d bridge test-net\\n```\\n\\n![20230512163028](http://s3.airtlab.com/blog/20230512163028.png)\\n\\n\u53c2\u6570\u8bf4\u660e\uff1a\\n- -d\uff1a\u53c2\u6570\u6307\u5b9a Docker \u7f51\u7edc\u7c7b\u578b\uff0c\u6709 bridge\u3001overlay\u3002 \u5176\u4e2d overlay \u7f51\u7edc\u7c7b\u578b\u7528\u4e8e Swarm mode\uff0c\u5728\u672c\u5c0f\u8282\u4e2d\u4f60\u53ef\u4ee5\u5ffd\u7565\u5b83\u3002\\n\\n### 2\u3001\u8fde\u63a5\u5bb9\u5668\\n\u8fd0\u884c\u4e00\u4e2a\u5bb9\u5668\u5e76\u8fde\u63a5\u5230\u65b0\u5efa\u7684 test-net \u7f51\u7edc:\\n\\n```shell\\n$ docker run -itd --name test1 --network test-net ubuntu /bin/bash\\n```\\n\\n\u6253\u5f00\u65b0\u7684\u7ec8\u7aef\uff0c\u518d\u8fd0\u884c\u4e00\u4e2a\u5bb9\u5668\u5e76\u52a0\u5165\u5230 test-net \u7f51\u7edc:\\n\\n```shell\\n$ docker run -itd --name test2 --network test-net ubuntu /bin/bash\\n```\\n\\n\u70b9\u51fb\u56fe\u7247\u67e5\u770b\u5927\u56fe\uff1a\\n\\n![20230512163120](http://s3.airtlab.com/blog/20230512163120.png)\\n\\n\u4e0b\u9762\u901a\u8fc7 ping \u6765\u8bc1\u660e test1 \u5bb9\u5668\u548c test2 \u5bb9\u5668\u5efa\u7acb\u4e86\u4e92\u8054\u5173\u7cfb\u3002\\n\u5982\u679c test1\u3001test2 \u5bb9\u5668\u5185\u4e2d\u65e0 ping \u547d\u4ee4\uff0c\u5219\u5728\u5bb9\u5668\u5185\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 ping\uff08\u5373\u5b66\u5373\u7528\uff1a\u53ef\u4ee5\u5728\u4e00\u4e2a\u5bb9\u5668\u91cc\u5b89\u88c5\u597d\uff0c\u63d0\u4ea4\u5bb9\u5668\u5230\u955c\u50cf\uff0c\u5728\u4ee5\u65b0\u7684\u955c\u50cf\u91cd\u65b0\u8fd0\u884c\u4ee5\u4e0a\u4fe9\u4e2a\u5bb9\u5668\uff09\u3002\\n\\n```shell\\napt-get update\\napt install iputils-ping\\n```\\n\\n\u5728 test1 \u5bb9\u5668\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n\\n![20230512163154](http://s3.airtlab.com/blog/20230512163154.png)\\n\\n\\n\u540c\u7406\u5728 test2 \u5bb9\u5668\u4e5f\u4f1a\u6210\u529f\u8fde\u63a5\u5230:\\n\\n![20230512163213](http://s3.airtlab.com/blog/20230512163213.png)\\n\\n\u8fd9\u6837\uff0ctest1 \u5bb9\u5668\u548c test2 \u5bb9\u5668\u5efa\u7acb\u4e86\u4e92\u8054\u5173\u7cfb\u3002\\n\u5982\u679c\u4f60\u6709\u591a\u4e2a\u5bb9\u5668\u4e4b\u95f4\u9700\u8981\u4e92\u76f8\u8fde\u63a5\uff0c\u63a8\u8350\u4f7f\u7528 Docker Compose\uff0c\u540e\u9762\u4f1a\u4ecb\u7ecd\u3002\\n","isLeaf":true},{"key":"/docker/06-exec-vs-attach.md","path":"/docker/06-exec-vs-attach.md","route":"/docker/06-exec-vs-attach.md","leaf":true,"title":"06-exec-vs-attach","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n![20230512163246](http://s3.airtlab.com/blog/20230512163246.png)","isLeaf":true},{"key":"/docker/07-image-export-import.md","path":"/docker/07-image-export-import.md","route":"/docker/07-image-export-import.md","leaf":true,"title":"07-image-export-import","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n\u53c2\u8003\u6587\u6863\uff1a[https://blog.csdn.net/ncdx111/article/details/79878098](https://blog.csdn.net/ncdx111/article/details/79878098)\\n\\n> \u901a\u8fc7\u955c\u50cf\u540d\u79f0\u5bfc\u51fa\u65f6\uff0c\u5bfc\u5165\u955c\u50cf\u65f6\uff0c\u955c\u50cf\u540d\u79f0\u4e0d\u4f1a\u4e22\u5931\uff0c\u901a\u8fc7\u955c\u50cfID\u5bfc\u51fa\uff0c\u955c\u50cf\u540d\u79f0\u4f1a\u4e22\u5931\u3002\\n\\n\\n### 1\u3001\u955c\u50cf\u5bfc\u51fa\\n#### save\\n\\n```bash\\ndocker save -o nginx.tar nginx:latest\\ndocker save > nginx.tar nginx:latest\\n```\\n\\nnginx:latest \u53ef\u4ee5\u6539\u4e3a\u955c\u50cf ID\\n\\n#### export\\n\\n```bash\\ndocker export [options] container\\ndocker export -o nginx-test.tar nginx-test\\n```\\n\\n\u5176\u4e2d-o\u8868\u793a\u8f93\u51fa\u5230\u6587\u4ef6\uff0cnginx-test.tar\u4e3a\u76ee\u6807\u6587\u4ef6\uff0cnginx-test\u662f\u6e90\u5bb9\u5668\u540d\uff08name\uff09\\n\\n### 2\u3001\u955c\u50cf\u5bfc\u5165\\n#### load\\n\\n```bash\\ndocker load -i nginx.tar\\ndocker load < nginx.tar\\n```\\n\\n#### import\\n\\n```bash\\ndocker import [options] file|URL|- [REPOSITORY[:TAG]]\\n```\\n\\n```bash\\ndocker import nginx-test.tar nginx:imp\\n\\n# \u6216\\ncat nginx-test.tar | docker import - nginx:imp\\n```\\n","isLeaf":true},{"key":"/docker/08-host-and-container.md","path":"/docker/08-host-and-container.md","route":"/docker/08-host-and-container.md","leaf":true,"title":"08-host-and-container","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n\u5bb9\u5668\u548c\u5bbf\u4e3b\u673a\u6587\u4ef6\u4e92\u5bfc\\n\\n```shell\\n# \u4ece\u5bbf\u4e3b\u673a\u62f7\u8d1d\u5230\u5bb9\u5668\\ndocker cp [\u5bbf\u4e3b\u673a\u6587\u4ef6\u8def\u5f84] [\u5bb9\u5668\u540d]:[\u5bb9\u5668\u8def\u5f84]\\n\\n# \u4ece\u5bb9\u5668\u4e2d\u62f7\u8d1d\u6587\u4ef6\u5230\u5bbf\u4e3b\u673a\\ndocker cp [\u5bb9\u5668\u540d]:[\u5bb9\u5668\u8def\u5f84] [\u5bbf\u4e3b\u673a\u6587\u4ef6\u8def\u5f84]\\n```","isLeaf":true},{"key":"/docker/09-docker-logs.md","path":"/docker/09-docker-logs.md","route":"/docker/09-docker-logs.md","leaf":true,"title":"09-docker-logs","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nhttps://www.runoob.com/docker/docker-logs-command.html\\n\\ndocker logs : \u83b7\u53d6\u5bb9\u5668\u7684\u65e5\u5fd7\\n\\n```shell\\ndocker logs [OPTIONS] CONTAINER\\n```\\n\\nOPTIONS\u8bf4\u660e\uff1a\\n- -f : \u8ddf\u8e2a\u65e5\u5fd7\u8f93\u51fa\\n- --since :\u663e\u793a\u67d0\u4e2a\u5f00\u59cb\u65f6\u95f4\u7684\u6240\u6709\u65e5\u5fd7\\n- -t : \u663e\u793a\u65f6\u95f4\u6233\\n- --tail :\u4ec5\u5217\u51fa\u6700\u65b0N\u6761\u5bb9\u5668\u65e5\u5fd7","isLeaf":true},{"key":"/docker/10-enter-container.md","path":"/docker/10-enter-container.md","route":"/docker/10-enter-container.md","leaf":true,"title":"10-enter-container","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n### 1. exec\\n[https://www.cnblogs.com/xhyan/p/6593075.html](https://www.cnblogs.com/xhyan/p/6593075.html)\\n\\n\u5728\u4f7f\u7528 docker \u521b\u5efa\u5bb9\u5668\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 -it \u53c2\u6570\u6307\u5b9a\uff0c\u76f4\u63a5\u8fdb\u5165\u5bb9\u5668\uff1a\\n\\n```bash\\n# micro-web \u4e3a\u5bb9\u5668\u540d\u79f0, \u5176\u4ed6\u56fa\u5b9a\u5199\u6cd5\\ndocker exec -it micro-web /bin/bash\\n```\\n\\n### 2. attach\\n\\ndocker attach\u9000\u51fa\u5bb9\u5668\uff0c\u5bb9\u5668\u4f1a\u505c\u6b62\u8fd0\u884c\u7684\u89e3\u51b3\u65b9\u6cd5 [https://blog.csdn.net/enter89/article/details/89291691](https://blog.csdn.net/enter89/article/details/89291691)\\n\\n```shell\\ndocker attach [OPTIONS] CONTAINER\\n```\\n","isLeaf":true},{"key":"/docker/11-volume.md","path":"/docker/11-volume.md","route":"/docker/11-volume.md","leaf":true,"title":"11-volume","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n```shell\\ndocker run -it -v /host/path:/container/path centos /bin/bash\\n```\\n\\n1. https://www.jianshu.com/p/8c22cdfc0ffd\\n2. https://blog.csdn.net/hnmpf/article/details/80924494","isLeaf":true},{"key":"/docker/12-dockerfile.md","path":"/docker/12-dockerfile.md","route":"/docker/12-dockerfile.md","leaf":true,"title":"12-dockerfile","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nhttps://www.runoob.com/docker/docker-dockerfile.html\\n\\nARG & ENV \u6307\u4ee4\\nhttps://www.cnblogs.com/panpanwelcome/p/12604269.html\\nhttps://www.cntofu.com/book/139/image/dockerfile/arg.md","isLeaf":true},{"key":"/docker/13-docker-compose.md","path":"/docker/13-docker-compose.md","route":"/docker/13-docker-compose.md","leaf":true,"title":"13-docker-compose","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nCompose \u662f\u7528\u4e8e\u5b9a\u4e49\u548c\u8fd0\u884c\u591a\u5bb9\u5668 Docker \u5e94\u7528\u7a0b\u5e8f\u7684\u5de5\u5177\u3002\u901a\u8fc7 Compose\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 YML \u6587\u4ef6\u6765\u914d\u7f6e\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u7684\u6240\u6709\u670d\u52a1\u3002\u7136\u540e\uff0c\u4f7f\u7528\u4e00\u4e2a\u547d\u4ee4\uff0c\u5c31\u53ef\u4ee5\u4ece YML \u6587\u4ef6\u914d\u7f6e\u4e2d\u521b\u5efa\u5e76\u542f\u52a8\u6240\u6709\u670d\u52a1\u3002\\n\\nCompose \u4f7f\u7528\u7684\u4e09\u4e2a\u6b65\u9aa4\uff1a\\n\\n- \u4f7f\u7528 Dockerfile \u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u7684\u73af\u5883\u3002\\n- \u4f7f\u7528 docker-compose.yml \u5b9a\u4e49\u6784\u6210\u5e94\u7528\u7a0b\u5e8f\u7684\u670d\u52a1\uff0c\u8fd9\u6837\u5b83\u4eec\u53ef\u4ee5\u5728\u9694\u79bb\u73af\u5883\u4e2d\u4e00\u8d77\u8fd0\u884c\u3002\\n- \u6700\u540e\uff0c\u6267\u884c docker-compose up \u547d\u4ee4\u6765\u542f\u52a8\u5e76\u8fd0\u884c\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u3002\\n\\n### 1\u3001\u4e3a\u4ec0\u4e48\u9700\u8981 docker-compose\\n\u7ef4\u62a4\u4e00\u4e2a\u5bb9\u5668\u5f88\u7b80\u5355\uff0c\u901a\u5e38\u6709\u4ee5\u4e0b\u6b65\u9aa4\uff1a\\n\\n- \u83b7\u53d6\u955c\u50cf\uff1a\u4ece Dockerfile build image \u6216\u8005\u5728 dockerhub \u62c9\u53d6 image\\n- \u521b\u5efa\u5bb9\u5668\uff1a\u521b\u5efa\u591a\u4e2a container\\n- \u7ba1\u7406\u5bb9\u5668\uff1a\u7ba1\u7406\u8fd9\u4e9b container\uff08\u542f\u52a8\u505c\u6b62\u5220\u9664\uff09\\n\\n\u6709\u65f6\u5019\u4e00\u4e2a\u9879\u76ee\u5f88\u591a\u4e2a\u5bb9\u5668(10\u4e2a\u4ee5\u4e0a)\uff0c\u5982\u679c\u6bcf\u4e2a\u5bb9\u5668\u7684\u7ba1\u7406\u90fd\u8981\u91cd\u65b0\u64cd\u4f5c\u4e00\u904d\uff0c\u90a3\u5de5\u4f5c\u91cf\u5b9e\u5728\u662f\u592a\u5927\u4e86\u800c\u4e14\u5bb9\u6613\u51fa\u9519\uff0c\u90a3\u4e48\u5982\u4f55\u7ba1\u7406\u548c\u7ef4\u62a4\u8fd9\u4e9b\u5bb9\u5668\u5462\uff1f\\n\\n\u6211\u4eec\u9700\u8981\u4e00\u4e2a **\u6279\u5904\u7406** \u5de5\u5177\uff0cdocker-compose \u6b63\u662f\u8fd9\u6837\u7684\u5de5\u5177\u3002\\n\\n### 2\u3001docker-compose \u547d\u4ee4\\n```bash\\nDefine and run multi-container applications with Docker.\\n\\nUsage:\\n  docker-compose [-f <arg>...] [options] [COMMAND] [ARGS...]\\n  docker-compose -h|--help\\n\\nOptions:\\n  -f, --file FILE             Specify an alternate compose file\\n                              (default: docker-compose.yml)\\n  -p, --project-name NAME     Specify an alternate project name\\n                              (default: directory name)\\n  --verbose                   Show more output\\n  --log-level LEVEL           Set log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)\\n  --no-ansi                   Do not print ANSI control characters\\n  -v, --version               Print version and exit\\n  -H, --host HOST             Daemon socket to connect to\\n\\n  --tls                       Use TLS; implied by --tlsverify\\n  --tlscacert CA_PATH         Trust certs signed only by this CA\\n  --tlscert CLIENT_CERT_PATH  Path to TLS certificate file\\n  --tlskey TLS_KEY_PATH       Path to TLS key file\\n  --tlsverify                 Use TLS and verify the remote\\n  --skip-hostname-check       Don\'t check the daemon\'s hostname against the\\n                              name specified in the client certificate\\n  --project-directory PATH    Specify an alternate working directory\\n                              (default: the path of the Compose file)\\n  --compatibility             If set, Compose will attempt to convert keys\\n                              in v3 files to their non-Swarm equivalent\\n  --env-file PATH             Specify an alternate environment file\\n  \\n  \\n  Commands:\\n  build              Build or rebuild services\\n  config             Validate and view the Compose file\\n  create             Create services\\n  down               Stop and remove containers, networks, images, and volumes\\n  events             Receive real time events from containers\\n  exec               Execute a command in a running container\\n  help               Get help on a command\\n  images             List images\\n  kill               Kill containers\\n  logs               View output from containers\\n  pause              Pause services\\n  port               Print the public port for a port binding\\n  ps                 List containers\\n  pull               Pull service images\\n  push               Push service images\\n  restart            Restart services\\n  rm                 Remove stopped containers\\n  run                Run a one-off command\\n  scale              Set number of containers for a service\\n  start              Start services\\n  stop               Stop services\\n  top                Display the running processes\\n  unpause            Unpause services\\n  up                 Create and start containers\\n  version            Show the Docker-Compose version information\\n```\\n#### up  (Create and start containers)\\n```bash\\ndocker-compose -f docker-compose-prod.yml up\\n```\\n#### stop (Stop services)\\n```bash\\ndocker-compose -f docker-compose-prod.yml stop\\n```\\n### 3\u3001exmaple project\\n\\n![20230512163948](http://s3.airtlab.com/blog/20230512163948.png)","isLeaf":true},{"key":"/docker/14-cmd-entrypoint.md","path":"/docker/14-cmd-entrypoint.md","route":"/docker/14-cmd-entrypoint.md","leaf":true,"title":"14-cmd-entrypoint","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n> https://www.cnblogs.com/sparkdev/p/8461576.html \u8fd9\u7bc7\u6587\u7ae0\u8bb2\u7684\u5f88\u597d\\n\\n```\\nENTRYPOINT [\\"executable\\", \\"param1\\", \\"param2\\"]   // \u8fd9\u662f exec \u6a21\u5f0f\u7684\u5199\u6cd5\uff0c\u6ce8\u610f\u9700\u8981\u4f7f\u7528\u53cc\u5f15\u53f7\u3002\\nENTRYPOINT command param1 param2                // \u8fd9\u662f shell \u6a21\u5f0f\u7684\u5199\u6cd5\u3002\\n```","isLeaf":true}]},{"key":"/frontend","path":"/frontend","route":"/frontend","leaf":false,"title":"frontend","depth":0,"content":"","isLeaf":false,"children":[{"key":"/frontend/01-common","path":"/frontend/01-common","route":"/frontend/01-common","leaf":false,"title":"01-common","depth":1,"content":"","isLeaf":false,"children":[{"key":"/frontend/01-common/toc.md","path":"/frontend/01-common/toc.md","route":"/frontend/01-common/toc.md","leaf":true,"title":"toc","depth":2,"content":"---\\ntitle: \u951a\u70b9\u5b9a\u4f4d\u53cc\u5411\u66f4\u65b0 \u2b55\\ndate: 2020-12-02\\ntags: FE\\ndescription: \\n---\\n\\nTOC \u76ee\u5f55\u5728\u9875\u9762\u4e2d\u8d77\u5230\u4e00\u4e2a\u5f88\u597d\u7684\u7d22\u5f15\u4f5c\u7528\uff0c\u5f53\u9875\u9762\u6ed1\u52a8\u65f6\uff0cTOC \u4f1a\u968f\u7740\u9875\u9762\u6ed1\u52a8\u5bf9\u5e94\u66f4\u65b0\uff0c\u5982\u4e0b\u56fe\\n\\n![20230605150435](http://s3.airtlab.com/blog/20230605150435.png)\\n\\n\u4ea4\u4e92\u903b\u8f91\uff1a\\n\\n- \u9875\u9762\u6ed1\u52a8\u65f6\uff0c\u76ee\u5f55\u5bf9\u5e94\u6761\u76ee\u9ad8\u4eae\\n- \u70b9\u51fb\u76ee\u5f55\u5bf9\u5e94\u6761\u76ee\uff0c\u9875\u9762\u6ed1\u52a8\u5230\u5bf9\u5e94\u4f4d\u7f6e\\n\\n## 1\u3001\u70b9\u51fb\u76ee\u5f55\uff0c\u66f4\u65b0\u9875\u9762\u4f4d\u7f6e\\n\\n\u8fd9\u4e2a\u6bd4\u8f83\u597d\u5904\u7406\uff0c\u7ed9\u6bcf\u4e2a\u6807\u9898\u4e00\u4e2a\u94fe\u63a5\u951a\u70b9\uff0c\u951a\u70b9\u4e3a\\n\\n```js\\n`${window.location.hostname}${window.location.pathname}#${\u6807\u9898id}/`\\n```\\n\\n\u6bd4\u5982 `\u5b57\u7b26\u4e32\u5339\u914d`\u7684\u8def\u5f84\u53ef\u80fd\u4e3a `https://example.com/path/#\u5b57\u7b26\u4e32\u5339\u914d`\uff0c\u70b9\u51fb\u76ee\u5f55\u6eda\u52a8\u5230\u5bf9\u5e94\u951a\u70b9\u5373\u53ef\u3002\\n\\n1. \u901a\u8fc7`a`\u6807\u7b7e\uff0c`<a href=\\"https://example.com/path/#\u5b57\u7b26\u4e32\u5339\u914d\\">`\u8df3\u8f6c\\n\\n2. \u901a\u8fc7`scrollIntoView` \u6ed1\u52a8, id\u4e3a\u5bf9\u5e94\u7684\u6807\u9898id\\n\\n   ```js\\n    document\\n       .getElementById(id)\\n       .scrollIntoView({ inline: \'nearest\', behavior: \'smooth\' });\\n   ```\\n\\n## 2\u3001\u9875\u9762\u4f4d\u7f6e\u53d8\u66f4\uff0c\u76ee\u5f55\u5bf9\u5e94\u66f4\u65b0\\n\\n\u8fd9\u91cc\u6709\u4e24\u4e2a\u65b9\u6848\\n\\n1. \u76d1\u542c\u9875\u9762\u6eda\u52a8\u4f4d\u7f6e\uff0c\u5224\u65ad\u54ea\u4e2a\u6807\u9898\u5185\u5bb9\u8fdb\u5165\u5230\u89c6\u56fe\uff0c\u7136\u540e\u66f4\u65b0\u5bf9\u5e94\u7684\u76ee\u5f55\u6807\u9898\u6837\u5f0f\\n2. \u6d4f\u89c8\u5668\u63d0\u4f9b\u4e86\u539f\u751f\u7684API `IntersectionObserver`, \u7528\u4e8e\u89c2\u6d4bDOM\u5143\u7d20\u7684\u4ea4\u53c9\u60c5\u51b5\uff0c\u6211\u4eec\u4f7f\u7528 `IntersectionObserver` \u76d1\u542c\u5404\u4e2a\u6807\u9898\u533a\u5757\u5373\u53ef\\n\\n### 1. \u901a\u8fc7\u6eda\u52a8\u4f4d\u7f6e\u5224\u65ad\\n\\n```html\\n<!DOCTYPE html>\\n<html lang=\\"en\\">\\n\\n<head>\\n  <meta charset=\\"UTF-8\\">\\n  <meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=edge\\">\\n  <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\">\\n  <title>TOC</title>\\n  <style>\\n    .article {\\n      width: 1200px;\\n      margin: 0 auto;\\n      line-height: 30px;\\n    }\\n\\n    .toc {\\n      position: fixed;\\n      right: 600px;\\n      top: 30px;\\n      padding-right: 60px;\\n      padding-left: 20px;\\n      background-color: #f5f5f5;\\n    }\\n\\n    .toc ul {\\n      padding-left: 0;\\n    }\\n\\n    .toc a {\\n      color: #666;\\n      text-decoration: none;\\n    }\\n\\n    .toc .active a {\\n      color: #3c3ce7;\\n    }\\n  </style>\\n</head>\\n\\n<body>\\n  <div class=\\"article\\">\\n    <h2 id=\\"hash1\\">hash1</h2>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash2\\">hash2</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash3\\">hash3</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h2 id=\\"hash4\\">hash4</h2>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash5\\">hash5</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash6\\">hash6</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h2 id=\\"hash7\\">hash7</h2>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash8\\">hash8</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash9\\">hash9</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n  </div>\\n  <div class=\\"toc\\"></div>\\n</body>\\n\\n<script>\\n  var headings = document.querySelectorAll(\'h1, h2, h3, h4, h5, h6\')\\n  var toc = document.querySelector(\'.toc\');\\n  var html = \'<ul>\'\\n\\n  function init() {\\n    headings.forEach((heading, index) => {\\n      const title = heading.textContent\\n      const id = `heading-${index}`\\n      heading.setAttribute(\'id\', id)\\n      const level = parseInt(heading.tagName.replace(\'H\', \'\'), 10)\\n\\n      html += `\\n    <li style=\\"margin-left: ${(level - 1) * 16}px\\">\\n      <a href=\\"#${id}\\">\\n        ${title}\\n      </a>\\n    </li>\\n  `\\n    })\\n\\n    html += \'</ul>\'\\n\\n    toc.innerHTML = html;\\n\\n    const navList = document.querySelectorAll(\\".toc li\\");\\n\\n    navList[0].className = \\"active\\"\\n\\n    for (let i = 0; i < headings.length; i++) {\\n      console.log(`offset`, headings[i].offsetTop)\\n    }\\n\\n    window.addEventListener(\'scroll\', function () {\\n      var top = document.documentElement.scrollTop\\n      console.log(`current scroll top`, top)\\n\\n      for (let i = 0; i < headings.length; i++) {\\n        navList.forEach((it) => {\\n          it.className = \'\'\\n        })\\n      }\\n\\n      for (let i = 0; i < headings.length; i++) {\\n        if (headings[i].offsetTop > top) {\\n          navList[i].className = \\"active\\";\\n          break;\\n        }\\n      }\\n    })\\n  }\\n\\n  if (headings.length) {\\n    init()\\n  }\\n\\n<\/script>\\n\\n</html>\\n```\\n\\n### 2. \u4f7f\u7528 IntersectionObserver \u89c2\u6d4b\\n\\n```html\\n<!DOCTYPE html>\\n<html lang=\\"en\\">\\n\\n<head>\\n  <meta charset=\\"UTF-8\\">\\n  <meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=edge\\">\\n  <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\">\\n  <title>TOC</title>\\n  <style>\\n    .article {\\n      width: 1200px;\\n      margin: 0 auto;\\n      line-height: 30px;\\n    }\\n\\n    .toc {\\n      position: fixed;\\n      right: 600px;\\n      top: 30px;\\n      padding-right: 60px;\\n      padding-left: 20px;\\n      background-color: #f5f5f5;\\n    }\\n\\n    .toc ul {\\n      padding-left: 0;\\n    }\\n\\n    .toc a {\\n      color: #666;\\n      text-decoration: none;\\n    }\\n\\n    .toc .active a {\\n      color: #3c3ce7;\\n    }\\n  </style>\\n</head>\\n\\n<body>\\n  <div class=\\"article\\">\\n    <h2 id=\\"hash1\\">hash1</h2>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash2\\">hash2</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash3\\">hash3</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h2 id=\\"hash4\\">hash4</h2>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash5\\">hash5</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash6\\">hash6</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h2 id=\\"hash7\\">hash7</h2>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash8\\">hash8</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n    <h3 id=\\"hash9\\">hash9</h3>\\n    <div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n      <div>\u9996\u5148\uff0c\u6211\u4eec\u5bfc\u5165\u4e86\u5185\u7f6e\u7684fs\u6a21\u5757\uff0c\u7136\u540e\u5b9a\u4e49\u4e86\u8981\u68c0\u67e5\u7684\u76ee\u5f55\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u4f7f\u7528</div>\\n    </div>\\n  </div>\\n  <div class=\\"toc\\"></div>\\n</body>\\n\\n<script>\\n  var headings = document.querySelectorAll(\'h1, h2, h3, h4, h5, h6\')\\n  var toc = document.querySelector(\'.toc\');\\n  var html = \'<ul>\'\\n\\n  function init() {\\n    const anchorsId = [];\\n    headings.forEach((heading, index) => {\\n      const title = heading.textContent\\n      const id = `heading-${index}`\\n      anchorsId.push(id)\\n      heading.setAttribute(\'id\', id)\\n      const level = parseInt(heading.tagName.replace(\'H\', \'\'), 10)\\n\\n      html += `\\n    <li style=\\"margin-left: ${(level - 1) * 16}px\\">\\n      <a href=\\"#${id}\\">\\n        ${title}\\n      </a>\\n    </li>\\n  `\\n    })\\n\\n    html += \'</ul>\'\\n\\n    toc.innerHTML = html;\\n\\n    const navList = document.querySelectorAll(\\".toc li\\");\\n\\n    navList[0].className = \\"active\\"\\n\\n    // \u89c2\u6d4b\u8fdb\u5165\u5230\u89c6\u56fe\u7684\u5185\u5bb9\\n    const observer = new IntersectionObserver(entries => {\\n      entries.forEach(entry => {\\n        if (entry.isIntersecting) {\\n          console.log(entry.target.id)\\n          // setActiveAnchor(entry.target.id);\\n        }\\n      });\\n    });\\n\\n    forEach(anchorsId, id => observer.observe(document.getElementById(id)));\\n\\n    /**\\n     * \u5bf9\u4e00\u4e2a\u53ef\u904d\u5386\u5bf9\u8c61\u6bcf\u4e00\u4e2a\u5143\u7d20\u64cd\u4f5c\\n     * @param iterator \u53ef\u904d\u5386\u5bf9\u8c61\\n     * @param func \u64cd\u4f5c\u51fd\u6570\\n     */\\n    function forEach(iterator, func) {\\n      for (let val of iterator) {\\n        func(val);\\n      }\\n    }\\n  }\\n\\n  if (headings.length) {\\n    init()\\n  }\\n\\n<\/script>\\n\\n</html>\\n```\\n\\n## 3\u3001\u4ece HTML \u6216\u8005 Markdown \u4e2d\u89e3\u6790\u51fa TOC\\n\\n- markdown \u53ef\u501f\u52a9 `markdown-it-table-of-contents` \u4fee\u6539\u4e0b\u6e90\u7801 \u66b4\u9732 headings \\n- html \\n\\n## 4\u3001\u603b\u7ed3\\n\u4f7f\u7528\u6eda\u52a8\u8ddd\u79bb\u6bd4\u4f7f\u7528 IntersectionObserver \u7684\u65b9\u5f0f\u66f4\u7b26\u5408\u4e60\u60ef\\n\\n## 5\u3001\u53c2\u8003\\n- https://github.com/feikerwu/shan-hai-jing/blob/main/content/blog/toc.md\\n","isLeaf":true}]},{"key":"/frontend/02-javascript","path":"/frontend/02-javascript","route":"/frontend/02-javascript","leaf":false,"title":"02-javascript","depth":1,"content":"","isLeaf":false,"children":[{"key":"/frontend/02-javascript/01-integer-overflow.md","path":"/frontend/02-javascript/01-integer-overflow.md","route":"/frontend/02-javascript/01-integer-overflow.md","leaf":true,"title":"01-integer-overflow","depth":2,"content":"---\\ntags: Javascript\\n---\\n\\n\u6574\u6570\u6ea2\u51fa\u5728\u65e5\u5e38\u5f00\u53d1\u4e2d\u6bd4\u8f83\u5e38\u89c1\uff0c\u53ef\u4ee5\u5206\u4e3a\u51e0\u79cd\u573a\u666f\uff1a\\n- \u5728 JS \u4ee3\u7801\u4e2d\u8fdb\u884c\u6570\u503c\u8fd0\u7b97\\n- \u62ff\u5230 HTTP Response \u540e\u901a\u8fc7 JSON.parse \u5e8f\u5217\u5316\\n\\n## 1\u3001JSON.parse \u5e8f\u5217\u5316\\n\\n```js\\nconsole.log(Number.MAX_SAFE_INTEGER) // 9007199254740991\\n\\nvar a = \'{\\"an\\": 90071992547409912}\'\\nconsole.log(JSON.parse(a))\\n```\\n\\n\u6253\u5370\u7ed3\u679c\\n```js\\n{an: 90071992547409920}\\n```\\n\\n\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528 `JSON.parse` \uff0c\u53ef\u4ee5\u8003\u8651\u5c06\u6570\u503c\u8f6c\u4e3a\u5b57\u7b26\u4e32\uff0c\u4e5f\u5c31\u662f\uff1a\\n\\n```\\n\'{\\"an\\": \'90071992547409912\'}\'\\n```\\n\\n\u76f8\u5f53\u4e8e\u81ea\u5df1\u5199\u4e00\u4e2a JSON \u8bed\u6cd5\u89e3\u6790\u5668\uff0c\u5f53\u8bfb\u53d6 90071992547409912 \u65f6\uff0c\u53d1\u73b0\u4ed6\u662f\u4e00\u4e2a\u6570\u503c\uff0c\u4f46\u662f\u8d85\u8fc7\u4e86\u8303\u56f4\uff0c\u56e0\u6b64\u5e8f\u5217\u5316\u4e3a\u5b57\u7b26\u4e32\u3002\\n\\n## 1\u3001JSON.stringify\\n\\n```js\\nvar JSONbig = require(\'json-bigint\');\\n \\nvar json = \'{ \\"value\\" : 9223372036854775807, \\"v2\\": 123 }\';\\n\\nvar r1 = JSONbig.parse(json);\\nconsole.log(\'JSONbig.parse(input).value : \', r1.value.toString());\\nconsole.log(\'JSONbig.stringify(JSONbig.parse(input)):\', JSONbig.stringify(r1));\\n```","isLeaf":true}]},{"key":"/frontend/04-webpack","path":"/frontend/04-webpack","route":"/frontend/04-webpack","leaf":false,"title":"04-webpack","depth":1,"content":"","isLeaf":false,"children":[]},{"key":"/frontend/05-react","path":"/frontend/05-react","route":"/frontend/05-react","leaf":false,"title":"05-react","depth":1,"content":"","isLeaf":false,"children":[{"key":"/frontend/05-react/01-React.Element-and-React.ReactNode.md","path":"/frontend/05-react/01-React.Element-and-React.ReactNode.md","route":"/frontend/05-react/01-React.Element-and-React.ReactNode.md","leaf":true,"title":"01-React.Element-and-React.ReactNode","depth":2,"content":"\\n`React.Element` \u548c `React.ReactNode` \u90fd\u662f React \u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u5728\u4e8e `Element` \u4e3b\u8981\u7528\u4e8e\u63cf\u8ff0 `React` \u5143\u7d20\u7684\u7c7b\u578b\uff0c\u800c `Node` \u5219\u662f\u7528\u4e8e\u63cf\u8ff0\u4efb\u4f55\u53ef\u4ee5\u4f5c\u4e3a `React` \u5b50\u8282\u70b9\u7684\u7c7b\u578b\u3002\\n\\n\u4e3e\u4e2a\u4f8b\u5b50\u6765\u8bf4\uff0c\u5982\u679c\u4f60\u5b9a\u4e49\u4e00\u4e2a\u7ec4\u4ef6\u5e76\u8fd4\u56de\u4e00\u4e2a React \u5143\u7d20\uff0c\u8fd9\u4e2a\u5143\u7d20\u53ef\u4ee5\u662f\u4e00\u4e2adiv\u6807\u7b7e\uff1a\\n\\n```js\\nfunction MyComponent(): React.Element {\\n  return <div>Hello World!</div>;\\n}\\n```\\n\\n\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0cReact.Element\u7c7b\u578b\u7528\u4e8e\u63cf\u8ff0\u7531Hello World\u5b57\u7b26\u4e32\u7ec4\u6210\u7684React\u5143\u7d20\uff08div\u6807\u7b7e\uff09\u3002\\n\\n\u76f8\u53cd\uff0c\u5982\u679c\u4f60\u5b9a\u4e49\u4e00\u4e2a\u7ec4\u4ef6\u5e76\u5728\u5176props\u4e2d\u4f20\u9012\u4e00\u4e2aReact\u8282\u70b9\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528React.ReactNode\u7c7b\u578b\u6765\u63cf\u8ff0\u8be5\u8282\u70b9\u7684\u7c7b\u578b\u3002\u4f8b\u5982\uff1a\\n\\n```js\\ninterface MyProps {\\n  children: React.ReactNode;\\n}\\n\\nfunction MyComponent(props: MyProps): React.Element {\\n  return <div>{props.children}</div>;\\n}\\n```\\n\\n\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0cReact.ReactNode\u7c7b\u578b\u7528\u4e8e\u63cf\u8ff0MyComponent\u7684props\u4e2d\u7684children\u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u53ef\u4ee5\u662f\u4efb\u4f55\u5141\u8bb8\u4f5c\u4e3aReact\u8282\u70b9\u7684\u7c7b\u578b\u3002\u7531\u4e8eprops.children\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\u7684React\u8282\u70b9\uff08\u4f8b\u5982\u5143\u7d20\u3001\u5b57\u7b26\u4e32\u3001\u6570\u7ec4\u7b49\uff09\uff0c\u56e0\u6b64\u6211\u4eec\u5728\u8fd9\u91cc\u4f7f\u7528React.ReactNode\u800c\u4e0d\u662fReact.Element\u3002\\n\\n\u603b\u4e4b\uff0cReact.Element\u548cReact.ReactNode\u5728React\u4e2d\u5177\u6709\u4e0d\u540c\u7684\u89d2\u8272\u548c\u7528\u9014\u3002Element\u4e3b\u8981\u7528\u4e8e\u63cf\u8ff0React\u5143\u7d20\u7684\u7c7b\u578b\uff0c\u800cNode\u7528\u4e8e\u63cf\u8ff0\u53ef\u4ee5\u4f5c\u4e3aReact\u5b50\u8282\u70b9\u7684\u7c7b\u578b\u3002","isLeaf":true}]},{"key":"/frontend/cross-platform","path":"/frontend/cross-platform","route":"/frontend/cross-platform","leaf":false,"title":"cross-platform","depth":1,"content":"","isLeaf":false,"children":[{"key":"/frontend/cross-platform/01-uniapp.md","path":"/frontend/cross-platform/01-uniapp.md","route":"/frontend/cross-platform/01-uniapp.md","leaf":true,"title":"01-uniapp","depth":2,"content":"---\\ntitle: 01 uni-app \u6307\u5357\\n---\\n\\n> \u53c2\u8003\u6587\u6863\uff1ahttps://uniapp.dcloud.net.cn\\n\\n\u57fa\u4e8e uni-app + vue3 + typescript + uni-ui \u8fd9\u6837\u7684\u4e00\u4e2a\u6a21\u677f `https://github.com/fiiai/mall-uniapp`","isLeaf":true}]},{"key":"/frontend/nextjs","path":"/frontend/nextjs","route":"/frontend/nextjs","leaf":false,"title":"nextjs","depth":1,"content":"","isLeaf":false,"children":[{"key":"/frontend/nextjs/01-utf8-path-error.md","path":"/frontend/nextjs/01-utf8-path-error.md","route":"/frontend/nextjs/01-utf8-path-error.md","leaf":true,"title":"01-utf8-path-error","depth":2,"content":"\u5728 \u4f7f\u7528 next.js \u65f6\u53d1\u73b0\u6587\u4ef6\u540d\u5305\u542b\u4e2d\u6587\u5b57\u7b26\u65f6\uff0c\u8bbf\u95ee\u9875\u9762 404\uff0c\u5728 next.js github \u4e0a\u5df2\u7ecf\u6709\u4eba\u63d0\u4e86 issue: **Pages with utf-8 name don\'t work properly under SSR** https://github.com/vercel/next.js/issues/10084\\n\\n\u6bd4\u5982\u5f53 URL \u4e2d\u5305\u542b\u4e2d\u6587\u65f6 404 `http://localhost:5001/Javascript%E7%AD%89%E7%AD%89/01-oversize-number`\\n\\n![20230517173057](http://s3.airtlab.com/blog/20230517173057.png)\\n\\n![20230530222452](http://s3.airtlab.com/blog/20230530222452.png)","isLeaf":true}]}]},{"key":"/git","path":"/git","route":"/git","leaf":false,"title":"git","depth":0,"content":"","isLeaf":false,"children":[{"key":"/git/01-introduce.md","path":"/git/01-introduce.md","route":"/git/01-introduce.md","leaf":true,"title":"01-introduce","depth":1,"content":"---\\ntitle: 01 Git \u4ecb\u7ecd\\ntag: Git\\n---\\n\\n## 1. \u53ef\u89c6\u5316\u5ba2\u6237\u7aef\\n- mac sourcetree\\n- win tortoisegit\\n\\n## 2. \u8f85\u52a9\u8bb0\u5fc6\u5de5\u5177\\n![20230512161907](http://s3.airtlab.com/blog/20230512161907.png)","isLeaf":true},{"key":"/git/02-set-proxy.md","path":"/git/02-set-proxy.md","route":"/git/02-set-proxy.md","leaf":true,"title":"02-set-proxy","depth":1,"content":"---\\ntitle: 02 Git \u8bbe\u7f6e\u4ee3\u7406\\ntags: Git\\n---\\n\\nhttps://www.cnblogs.com/cscshi/p/15705045.html\\n\\n`git config http.proxy` \u8bbe\u7f6e HTTP \u534f\u8bae\u7684\u4ee3\u7406\u5730\u5740\uff0c\u5373\u6307\u5b9a Git \u5728\u901a\u8fc7 HTTP \u534f\u8bae\u8fdb\u884c\u7f51\u7edc\u8fde\u63a5\u65f6\u6240\u4f7f\u7528\u7684\u4ee3\u7406\u670d\u52a1\u5668\u3002\u6b64\u529f\u80fd\u901a\u5e38\u7528\u4e8e\u5728\u516c\u53f8\u6216\u7ec4\u7ec7\u7b49\u5185\u90e8\u7f51\u7edc\u73af\u5883\u4e2d\u8bbf\u95ee\u5916\u90e8Git\u4ed3\u5e93\u65f6\u7684\u9700\u8981\u3002\\n\\n\u5177\u4f53\u6765\u8bf4\uff0c\u5f53 Git \u901a\u8fc7 HTTP \u534f\u8bae\u8fdb\u884c\u7f51\u7edc\u8fde\u63a5\u65f6\uff0c\u5176\u4f1a\u5c1d\u8bd5\u76f4\u63a5\u8fde\u63a5\u76ee\u6807\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\u3002\u4f46\u5728\u4e00\u4e9b\u7f51\u7edc\u73af\u5883\u4e2d\uff0c\u76f4\u63a5\u8fde\u63a5\u53ef\u80fd\u88ab\u7981\u6b62\u6216\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u6b64\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e HTTP \u4ee3\u7406\u670d\u52a1\u5668\u6765\u8ba9 Git \u901a\u8fc7\u4ee3\u7406\u670d\u52a1\u5668\u8fdb\u884c\u7f51\u7edc\u8fde\u63a5\u3002\\n\\n\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u7f51\u7edc\u6d41\u91cf\u7684\u8fc7\u6ee4\u548c\u63a7\u5236\uff0c\u52a0\u5f3a\u5bf9\u7f51\u7edc\u5b89\u5168\u7684\u4fdd\u62a4\uff0c\u4e5f\u53ef\u4ee5\u63d0\u9ad8\u7f51\u7edc\u8fde\u63a5\u7684\u7a33\u5b9a\u6027\u548c\u6027\u80fd\u3002\\n\\n```shell\\n# \u53bb\u6389\u4ee3\u7406\u8bbe\u7f6e\\ngit config --global --unset http.proxy\\ngit config --global --unset https.proxy\\n\\n# \u8fd9\u91cc\u6211\u4f7f\u7528\u4e86\u4e30\u5de2\u5ba2\u6237\u7aef\\ngit config --global http.proxy http://127.0.0.1:7890\\ngit config --global https.proxy https://127.0.0.1:7890\\n```","isLeaf":true},{"key":"/git/03-use-submodule.md","path":"/git/03-use-submodule.md","route":"/git/03-use-submodule.md","leaf":true,"title":"03-use-submodule","depth":1,"content":"---\\ntitle: 03 Git \u4f7f\u7528 submodule\\ntags: Git\\n---\\n\\n> \u53c2\u8003\u6587\u6863 [https://git-scm.com/book/zh/v2/Git-\u5de5\u5177-\u5b50\u6a21\u5757](https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E5%AD%90%E6%A8%A1%E5%9D%97)\\n\\n```bash\\nusage: git submodule [--quiet] [--cached]\\n   or: git submodule [--quiet] add [-b <branch>] [-f|--force] [--name <name>] [--reference <repository>] [--] <repository> [<path>]\\n   or: git submodule [--quiet] status [--cached] [--recursive] [--] [<path>...]\\n   or: git submodule [--quiet] init [--] [<path>...]\\n   or: git submodule [--quiet] deinit [-f|--force] (--all| [--] <path>...)\\n   or: git submodule [--quiet] update [--init] [--remote] [-N|--no-fetch] [-f|--force] [--checkout|--merge|--rebase] [--[no-]recommend-shallow] [--reference <repository>] [--recursive] [--[no-]single-branch] [--] [<path>...]\\n   or: git submodule [--quiet] set-branch (--default|--branch <branch>) [--] <path>\\n   or: git submodule [--quiet] set-url [--] <path> <newurl>\\n   or: git submodule [--quiet] summary [--cached|--files] [--summary-limit <n>] [commit] [--] [<path>...]\\n   or: git submodule [--quiet] foreach [--recursive] <command>\\n   or: git submodule [--quiet] sync [--recursive] [--] [<path>...]\\n   or: git submodule [--quiet] absorbgitdirs [--] [<path>...]\\n```\\n\\n### 1\u3001\u6dfb\u52a0\u5b50\u6a21\u5757\\n\\n```shell\\n# \u6dfb\u52a0\u5b50\u6a21\u5757\\ngit submodule add git@github.com:gaollard/test_submodule_B.git  projectB\\n\\n# \u53ef\u8bbe\u7f6e\u5b50\u6a21\u5757\u5728\u5f53\u524d\u9879\u76ee\u7684\u76f8\u5bf9\u8def\u5f84\\ngit submodule add http://test.com/backend src/vendor/\\n```\\n\\n### 2\u3001\u68c0\u51fa\u9879\u76ee\u7684\u6307\u5b9a\u7248\u672c\\n\\n```shell\\n# \u68c0\u51fa\u9879\u76ee\u7684\u6307\u5b9a\u7248\u672c(HEAD), \u6ce8\u610f\u5b83\u5e76\u4e0d\u662f\u6307\u5411\u4e00\u4e2a\u5206\u652f\\ngit submodule update\\n```\\n\\n### 3\u3001\u62c9\u53d6\u9879\u76ee\u65f6\u62c9\u53d6\u5b50\u6a21\u5757\\n\\n```shell\\n# \u53ef\u5728\u62c9\u53d6\u9879\u76ee\u65f6\u628a\u4f9d\u8d56\u7684\u5b50\u6a21\u5757\u540c\u65f6\u62c9\u53d6\u4e0b\u6765\\ngit clone \u2013recursive\\n```\\n\\n### 4\u3001submodule ignore \u9009\u9879\\n\\n```\\nuntracked \uff1a\u5ffd\u7565\u5728\u5b50\u6a21\u5757B(projectB\u76ee\u5f55)\u65b0\u6dfb\u52a0\u7684\uff0c\u672a\u53d7\u7248\u672c\u63a7\u5236\u5185\u5bb9\\ndirty     \uff1a\u5ffd\u7565\u5bf9projectB\u76ee\u5f55\u4e0b\u53d7\u7248\u672c\u63a7\u5236\u7684\u5185\u5bb9\u8fdb\u884c\u4e86\u4fee\u6539\\nall       \uff1a\u540c\u65f6\u5ffd\u7565untracked\u548cdirty\\n```\\n\\n### 5\u3001modified: XXX (new commits)\\n\\n\u8bf4\u660e\u5f53\u524d\u4e3b\u4ed3\u5e93\u4f9d\u8d56\u7684 HEAD \u548c \u672c\u5730\u4ed3\u5e93\u63d0\u4ea4\u4e0d\u5339\u914d\u4e86\uff0c\u8fd9\u4e2a\u65f6\u5019\u8981\u7279\u522b\u6ce8\u610f\u3002\\n\\n- \u5982\u679c\u5e0c\u671b\u4f7f\u7528\u65e7\u7684 `HEAD`\uff0c\u4f7f\u7528 `git submodule update`\uff1b\\n- \u5982\u679c\u5e0c\u671b\u4f7f\u7528\u65b0\u7684 `HEAD`\uff0c\u90a3\u4e48\u5c31 `git add` \u63d0\u4ea4\u4ee3\u7801\uff1b\\n\\n### 6\u3001git submodule update --remote\\n\\n\u66f4\u65b0\u5b50\u6a21\u5757\u4e3a\u8fdc\u7a0b\u9879\u76ee\u7684\u6700\u65b0\u7248\u672c\\n\\n### 7\u3001init & update\\n\\n```shell\\ngit submodule init\\ngit submodule update\\n\\n# \u5408\u5e76\\ngit submodule update --init\\n```\\n\\n### 8\u3001git submodule update --remote\\n\u66f4\u65b0\u4e3a\u8fdc\u7a0b\\n\\n### 9\u3001submodule \u51b2\u7a81\u600e\u4e48\u529e\\nsubmodule \u51b2\u7a81\u65f6\uff0c\u5e94\u5148\u5408\u5e76 submodule, \u518d\u6765\u5408\u5e76\u4e3b\u4ed3\u5e93\\n\\n### 10\u3001\u67e5\u8be2 submodule \u72b6\u6001\\n![20230717185232](http://s3.airtlab.com/blog/20230717185232.png)","isLeaf":true},{"key":"/git/04-what-is-head.md","path":"/git/04-what-is-head.md","route":"/git/04-what-is-head.md","leaf":true,"title":"04-what-is-head","depth":1,"content":"---\\ntitle: 04 Git \u5bf9 head \u7684\u7406\u89e3\\ntags: Git\\n---\\n\\nhttps://www.zsythink.net/archives/3412/ \u8fd9\u7bc7\u6587\u7ae0\u8bb2\u7684\u975e\u5e38\u8be6\u7ec6\u3002\\n\\n1) \u901a\u5e38\u60c5\u51b5\u4e0b HEAD\u6307\u9488 \u2014\u2014\u2013> \u5206\u652f\u6307\u9488 \u2014\u2014\u2013> \u6700\u65b0\u63d0\u4ea4\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cHEAD \u6307\u9488\u603b\u662f\u901a\u8fc7\u5206\u652f\u6307\u9488\uff0c\u95f4\u63a5\u7684\u6307\u5411\u4e86\u5f53\u524d\u5206\u652f\u7684\u6700\u65b0\u63d0\u4ea4\u3002\\n2) \u6709\u4e9b\u60c5\u51b5\u4e0b\uff0cHEAD\u6307\u9488\u6ca1\u6709\u6307\u5411\u5206\u652f\u6307\u9488\uff0c\u800c\u662f\u76f4\u63a5\u6307\u5411\u4e86\u67d0\u4e2a\u63d0\u4ea4\uff0c\u8fd9\u88ab\u79f0\u4f5c detached head \u5206\u79bb\u5934\u3002","isLeaf":true},{"key":"/git/05-cherry-pick.md","path":"/git/05-cherry-pick.md","route":"/git/05-cherry-pick.md","leaf":true,"title":"05-cherry-pick","depth":1,"content":"---\\ntitle: 05 cherry-pick\\ntags: Git\\n---\\n\\n(1) \u62f7\u8d1d\u4f9d\u8d56\u7f3a\u5931\\ncherry-pick \u53ef\u4ee5\u62f7\u8d1d\u4e00\u6b21 commit \u4fe1\u606f\uff0c\u5982\u679c\u4f60\u5728\u5206\u652f A \u62f7\u8d1d\u6765\u81ea\u5206\u652f B \u7684 commit id m1, \u4f46\u662f\u5728\u4ee3\u7801\u4e0a m1 \u4f9d\u8d56\u4e86B\u5206\u652f\u7684 m2\uff0c\u90a3\u4e48\u8fd9\u4e2a\u64cd\u4f5c\u662f\u9519\u8bef\u7684\u3002","isLeaf":true},{"key":"/git/06-mege-commit.md","path":"/git/06-mege-commit.md","route":"/git/06-mege-commit.md","leaf":true,"title":"06-mege-commit","depth":1,"content":"---\\ntitle: 06 Git \u5408\u5e76\u591a\u4e2a commit\\ntags: Git\\n---\\n\\n## 1\u3001\u5408\u5e76\u65b9\u5f0f\\n- \u4f7f\u7528 git rebase -i head~{number} \u4e0d\u4f1a\u4ea7\u751f\u65b0\u7684 commit\\n- \u4f7f\u7528 git reset \u4f1a\u4ea7\u751f\u65b0\u7684 commit (\u66f4\u4e0d\u53cb\u597d\u7684\u505a\u6cd5)\\n\\n## 2\u3001\u574f\u5473\u9053\\n`git rebase` \u8fd9\u79cd\u65b9\u5f0f\u9700\u8981\u5f3a\u5236\u63a8\u9001\uff0c\u5b83\u662f\u4e00\u79cd\u574f\u5473\u9053\u505a\u6cd5\uff0c\u6700\u597d\u901a\u77e5\u5230\u9879\u76ee\u7684\u7ec4\u5458","isLeaf":true},{"key":"/git/07-merge-vs-rebase.md","path":"/git/07-merge-vs-rebase.md","route":"/git/07-merge-vs-rebase.md","leaf":true,"title":"07-merge-vs-rebase","depth":1,"content":"---\\ntags: Git\\ntitle: 07 merge-vs-rebase\\n---\\n\\n\u4f7f\u7528 rebase \u8fdb\u884c\u4ee3\u7801\u5408\u5e76\uff0c\u53ef\u4ee5\u8ba9 git log \u66f4\u6e05\u6670","isLeaf":true},{"key":"/git/08-diff.md","path":"/git/08-diff.md","route":"/git/08-diff.md","leaf":true,"title":"08-diff","depth":1,"content":"---\\ntags: Git\\ntitle: 08 \u8bfb\u61c2 diff\\n---\\n\\nGit diff \u53d8\u66f4\u7684\u539f\u56e0\u6709\uff1a\\n- \u65b0\u589e\u6587\u4ef6\\n- \u4fee\u6539\u6587\u4ef6\\n- \u5220\u9664\u6587\u4ef6\\n\\n## 1\u3001\u7528\u6cd5\\n```text\\nusage: git diff [<options>] [<commit>] [--] [<path>...]\\n   or: git diff [<options>] --cached [<commit>] [--] [<path>...]\\n   or: git diff [<options>] <commit> [--merge-base] [<commit>...] <commit> [--] [<path>...]\\n   or: git diff [<options>] <commit>...<commit>] [--] [<path>...]\\n   or: git diff [<options>] <blob> <blob>]\\n   or: git diff [<options>] --no-index [--] <path> <path>]\\n```\\n\\n- options \u8868\u793a\u53ef\u9009\u53c2\u6570\\n- commit \u8868\u793a commit id\\n- path \u8bbe\u7f6e\u6587\u4ef6\\n\\n### 1.1 --no-index\\n`--no-index` \u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u72ec\u7acb\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u7684\u5dee\u5f02\u3002\u5b83\u544a\u8bc9 Git diff \u547d\u4ee4\u8df3\u8fc7\u5bf9 Git \u5b58\u50a8\u5e93\u7684\u5904\u7406\uff0c\u5e76\u5c06\u5176\u7528\u4e8e\u975eGit\u6587\u4ef6\u3002\\n\u5f53\u60a8\u60f3\u8981\u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u800c\u4e0d\u5728Git\u5b58\u50a8\u5e93\u4e2d\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 `--no-index` \u9009\u9879\u3002\u8fd9\u5bf9\u4e8e\u8de8\u4e0d\u540cGit\u5b58\u50a8\u5e93\u6216\u5728\u6ca1\u6709Git\u5b58\u50a8\u5e93\u7684\u73af\u5883\u4e2d\u8fdb\u884c\u6bd4\u8f83\u5f88\u6709\u7528\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u6bd4\u8f83\u7684\u65b9\u5f0f\uff0c\u4e0d\u4f9d\u8d56\u4e8eGit\u5b58\u50a8\u5e93\u7684\u7248\u672c\u63a7\u5236\u4fe1\u606f\u3002\\n\\n\u4ee5\u4e0b\u662f\u4f7f\u7528`--no-index`\u9009\u9879\u7684\u793a\u4f8b\uff1a\\n\\n1. \u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff --no-index file1.txt file2.txt\\n   ```\\n\\n2. \u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u5939\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff --no-index dir1/ dir2/\\n   ```\\n\\n\u8bf7\u6ce8\u610f\uff0c`--no-index`\u9009\u9879\u4e0d\u4f1a\u5904\u7406Git\u5b58\u50a8\u5e93\u4e2d\u7684\u66f4\u6539\u5386\u53f2\u8bb0\u5f55\u6216\u7248\u672c\u63a7\u5236\u4fe1\u606f\u3002\u5b83\u53ea\u4f1a\u63d0\u4f9b\u4e00\u79cd\u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u4e4b\u95f4\u5dee\u5f02\u7684\u65b9\u5f0f\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4ea7\u751f\u4e0d\u540c\u7684\u8f93\u51fa\u7ed3\u679c\u3002\\n\\n### 1.2 \u5e38\u89c1\u7528\u6cd5\\n\\n1. \u6bd4\u8f83\u5de5\u4f5c\u76ee\u5f55\u548c\u6682\u5b58\u533a\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff\\n   ```\\n\\n2. \u6bd4\u8f83\u6682\u5b58\u533a\u548c\u6700\u540e\u4e00\u6b21\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff --staged\\n   ```\\n\\n3. \u6bd4\u8f83\u4e24\u4e2a\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff commit1 commit2\\n   ```\\n\\n4. \u6bd4\u8f83\u4e24\u4e2a\u5206\u652f\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff branch1 branch2\\n   ```\\n\\n5. \u663e\u793a\u6587\u4ef6\u4e2d\u5177\u4f53\u7684\u66f4\u6539\u5185\u5bb9\uff1a\\n   ```\\n   git diff --word-diff\\n   ```\\n\\n6. \u751f\u6210\u53ef\u4f9b\u6253\u5370\u7684\u7b80\u6d01\u5dee\u5f02\uff1a\\n   ```\\n   git diff --color-words\\n   ```\\n\\n\u8fd9\u53ea\u662f\u4e00\u4e9b\u57fa\u672c\u7684\u7528\u6cd5\u793a\u4f8b\u3002Git diff\u8fd8\u6709\u5f88\u591a\u5176\u4ed6\u53ef\u9009\u9879\u548c\u53c2\u6570\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u5b9a\u5236\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c`git diff --help`\u547d\u4ee4\u6765\u67e5\u770b\u6240\u6709\u53ef\u7528\u9009\u9879\u548c\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\\n\\n### 1.3 \u9ed8\u8ba4\u8f93\u51fa\u683c\u5f0f\\n\\n\u6267\u884c\\n```shell\\ngit diff 801aae133e70fe312223faccd97072e8afc07404\\n````\\n\\n\u5176\u8f93\u51fa\u662f\u4e0b\u9762\u8fd9\u6837\u7684\u4e00\u4e2a\u5217\u8868\uff0c\u6bcf\u4e00\u9879\u4ee3\u8868\u67d0\u4e2a\u6587\u4ef6\u524d\u540e\u5bf9\u6bd4\\n\\n```text\\ndiff --git a/libs/grpc/src/grpc.service.ts b/libs/grpc/src/grpc.service.ts\\nindex 3b551ff..33b5a94 100644\\n--- a/libs/grpc/src/grpc.service.ts\\n+++ b/libs/grpc/src/grpc.service.ts\\n@@ -12,6 +12,7 @@ import { dynamicProxyUrl, localService } from \'@app/config/local.service\';\\n import { migrationMap } from \'@app/shared/migrationMap\';\\n import { rpcMetrics } from \'@/prom/prom.client\';\\n import { CURRENT_ETCD } from \'@app/shared/etcd.config\';\\n+import { isThDGL } from \'@app/shared/utils/getFromContext\';\\n \\n @Injectable()\\n export class GrpcService {\\n@@ -41,6 +42,10 @@ export class GrpcService {\\n       );\\n     }\\n \\n+    if (region === \'th\') {\\n+      body = { ...body, licenseType: isThDGL() ? \'Digi\' : \'CCC\' };\\n+    }\\n+\\n     const rpcAction = getRpc(service, rpc, address as string);\\n     let makeParam =\\n       (body && body[\'migrationMap\']) || service === Service.LoanCoreDebt\\n```\\n\\n**1) diff \u683c\u5f0f**\\n\\n\u7b2c\u4e00\u884c\u8868\u793a\u7ed3\u679c\u4e3a git \u683c\u5f0f\u7684 diff:\\n```\\ndiff --git a/libs/grpc/src/grpc.service.ts b/libs/grpc/src/grpc.service.ts\\n```\\n\\n**2) diff \u5bf9\u8c61**\\n\\n\u7b2c\u4e8c\u884c\u8868\u793a\u4e24\u4e2a\u7248\u672c\u7684git\u54c8\u5e0c\u503c\\n```\\nindex 3b551ff..33b5a94 100644\\n```\\n\\nindex \u533a\u57df\u7684 3b551ff \u5bf9\u8c61 \u4e0e\u5de5\u4f5c\u76ee\u5f55\u533a\u57df\u7684 33b5a94 \u5bf9\u8c61\u8fdb\u884c\u6bd4\u8f83\uff0c\u6700\u540e\u7684\u516d\u4f4d\u6570\u5b57\u662f\u5bf9\u8c61\u7684\u6a21\u5f0f\uff08\u666e\u901a\u6587\u4ef6\uff0c644\u6743\u9650\uff09\\n\\n**3) \u53d8\u52a8\u8303\u56f4**\\n\\n\\"---\\"\u8868\u793a\u53d8\u52a8\u524d\u7684\u6587\u4ef6\uff0c\\"+++\\"\u8868\u793a\u53d8\u52a8\u540e\u7684\u6587\u4ef6\uff0c\u53d8\u52a8\u7684\u4f4d\u7f6e\u7528\u4e24\u4e2a@\u4f5c\u4e3a\u8d77\u9996\u548c\u7ed3\u675f\uff0c`@@ -12,6 +12,7 @@`\\n\\n\u524d\u9762\u7684\\"-12,6\\"\u5206\u6210\u4e09\u4e2a\u90e8\u5206\uff1a\u51cf\u53f7\u8868\u793a\u7b2c\u4e00\u4e2a\u6587\u4ef6\uff08\u5373f1\uff09\uff0c\\"12\\"\u8868\u793a\u7b2c12\u884c\uff0c\\"6\\"\u8868\u793a\u8fde\u7eed6\u884c\u3002\u5408\u5728\u4e00\u8d77\uff0c\u5c31\u8868\u793a\u4e0b\u9762\u662f\u7b2c\u4e00\u4e2a\u6587\u4ef6\u4ece\u7b2c16\u884c\u5f00\u59cb\u7684\u8fde\u7eed6\u884c\u3002\u540c\u6837\u7684\uff0c\\"+12,7\\"\u8868\u793a\u53d8\u52a8\u540e\uff0c\u6210\u4e3a\u7b2c\u4e8c\u4e2a\u6587\u4ef6\u4ece\u7b2c12\u884c\u5f00\u59cb\u7684\u8fde\u7eed7\u884c\u3002\\n\\n**4) \u53d8\u52a8\u7684\u5177\u4f53\u5185\u5bb9**\\n\\n```text\\nimport { dynamicProxyUrl, localService } from \'@app/config/local.service\';\\nimport { migrationMap } from \'@app/shared/migrationMap\';\\nimport { rpcMetrics } from \'@/prom/prom.client\';\\nimport { CURRENT_ETCD } from \'@app/shared/etcd.config\';\\n\\n@Injectable()\\nexport class GrpcService {\\n```\\n\\n```text\\n import { dynamicProxyUrl, localService } from \'@app/config/local.service\';\\n import { migrationMap } from \'@app/shared/migrationMap\';\\n import { rpcMetrics } from \'@/prom/prom.client\';\\n import { CURRENT_ETCD } from \'@app/shared/etcd.config\';\\n+import { isThDGL } from \'@app/shared/utils/getFromContext\';\\n \\n @Injectable()\\n export class GrpcService {\\n```\\n\\n### 1.4 diff \u53ef\u89c6\u5316\u5c55\u793a\\n\\n\u6839\u636e `@@` \u8fdb\u884c\u5206\u5272\uff0c\u8fdb\u884c\u9010\u884c\u5bf9\u6bd4\uff0c\u5373\u53ef\u627e\u5230\u67d0\u884c\u662f\u88ab\u5220\u9664\u3001\u8fd8\u662f\u589e\u52a0\u3002\\n\\n## 2\u3001\u53c2\u6570\\n\\n```text\\n  -z            output diff-raw with lines terminated with NUL.\\n  -p            output patch format.\\n  -u            synonym for -p.\\n  --patch-with-raw\\n                output both a patch and the diff-raw format.\\n  --stat        show diffstat instead of patch.\\n  --numstat     show numeric diffstat instead of patch.\\n  --patch-with-stat\\n                output a patch and prepend its diffstat.\\n  --name-only   show only names of changed files.\\n  --name-status show names and status of changed files.\\n  --full-index  show full object name on index lines.\\n  --abbrev=<n>  abbreviate object names in diff-tree header and diff-raw.\\n  -R            swap input file pairs.\\n  -B            detect complete rewrites.\\n  -M            detect renames.\\n  -C            detect copies.\\n  --find-copies-harder\\n                try unchanged files as candidate for copy detection.\\n  -l<n>         limit rename attempts up to <n> paths.\\n  -O<file>      reorder diffs according to the <file>.\\n  -S<string>    find filepair whose only one side contains the string.\\n  --pickaxe-all\\n                show all files diff when -S is used and hit is found.\\n  -a  --text    treat all files as text.\\n```\\n\\n### 2.1 name-only \u53ea\u5c55\u793a\u6587\u4ef6\u540d\\n```shell\\ngit diff --name-only  master\\n```\\n\\n```text\\nlibs/config/src/th/local.config.ts\\nlibs/config/src/th/test.config.ts\\nlibs/config/src/th/uat.config.ts\\nlibs/db/src/db.service.ts\\nlibs/elastic/src/elastic.interface.ts\\nlibs/elastic/src/elastic.service.ts\\nlibs/grpc/src/grpc.service.ts\\nlibs/grpc/src/proto/protobuf-uc\\n```\\n\\n\u770b\u4e0d\u51fa\u6587\u4ef6\u662f\u6539\u52a8\u3001\u5220\u9664\u6216\u8005\u65b0\u589e\\n\\n### 2.2 --stat \u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\\n\\n\u4f7f\u7528 `--stat` \u9009\u9879\u53ef\u4ee5\u5e2e\u52a9\u60a8\u5feb\u901f\u4e86\u89e3\u6587\u4ef6\u95f4\u7684\u5927\u81f4\u5dee\u5f02\uff0c\u4ee5\u4fbf\u66f4\u597d\u5730\u7406\u89e3Git\u5b58\u50a8\u5e93\u4e2d\u7684\u6539\u52a8\u60c5\u51b5\u3002\\n\\n```shell\\ngit diff --stat 801aae133e70fe312223faccd97072e8afc07404\\n```\\n\\n```text\\nlibs/grpc/src/grpc.service.ts     | 5 +++++ [\u589e\u52a05\u884c]\\nlibs/grpc/src/proto/protobuf-uc   | 2 +-    [\u589e\u52a01\u884c\uff0c\u5220\u96641\u884c]\\nlibs/grpc/src/services/BaseRpc.ts | 5 +++++ [\u589e\u52a05\u884c]\\n3 files changed, 11 insertions(+), 1 deletion(-)\\n```\\n\\n### 2.3 `--numstat` \u4ee5\u6570\u5b57\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\\n\\n\u7528\u4e8e\u4ee5\u6570\u5b57\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\u3002\u5b83\u4f1a\u663e\u793a\u51fa\u6bcf\u4e2a\u6587\u4ef6\u88ab\u6dfb\u52a0\u3001\u5220\u9664\u548c\u4fee\u6539\u7684\u884c\u6570\u3002\\n\\n```shell\\n$ git diff --numstat 801aae133e70fe312223faccd97072e8afc07404\\n5       0       libs/grpc/src/grpc.service.ts\\n1       1       libs/grpc/src/proto/protobuf-uc\\n5       0       libs/grpc/src/services/BaseRpc.ts\\n```\\n\\n### 2.4 --name-status \u5c55\u793a\u6587\u4ef6\u4fee\u6539\u7c7b\u578b\\n\\n```shell\\ngit diff --name-status  801aae133e70fe312223faccd97072e8afc07404\\nM       libs/grpc/src/grpc.service.ts\\nM       libs/grpc/src/proto/protobuf-uc\\nM       libs/grpc/src/services/BaseRpc.ts\\n```\\n\\n`--name-status` \u7528\u4e8e\u4ee5\u6587\u4ef6\u540d\u548c\u72b6\u6001\u7684\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\u3002\u5b83\u4f1a\u663e\u793a\u51fa\u6bcf\u4e2a\u6587\u4ef6\u7684\u72b6\u6001\uff0c\u5305\u62ec\u88ab\u6dfb\u52a0\u3001\u88ab\u4fee\u6539\u548c\u88ab\u5220\u9664\u3002\\n\u5f53\u60a8\u6267\u884cGit diff\u547d\u4ee4\uff0c\u5e76\u6dfb\u52a0\u4e86`--name-status`\u9009\u9879\uff0cGit\u4f1a\u4e3a\u6bcf\u4e2a\u6587\u4ef6\u4ea7\u751f\u4e00\u4e2a\u6458\u8981\uff0c\u4ee5\u6587\u4ef6\u540d\u548c\u5176\u72b6\u6001\u7684\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u7684\u5dee\u5f02\u7edf\u8ba1\u4fe1\u606f\u3002\u8f93\u51fa\u7ed3\u679c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5\uff1a\u6587\u4ef6\u7684\u72b6\u6001\u548c\u6587\u4ef6\u540d\u3002\\n\\n\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f7f\u7528`--name-status`\u9009\u9879\u7684\u793a\u4f8b\uff1a\\n\\n```\\ngit diff --name-status\\n```\\n\\n\u8fd9\u5c06\u663e\u793a\u51faGit\u5b58\u50a8\u5e93\u4e2d\u5f53\u524d\u5206\u652f\u548c\u4e0a\u4e00\u4e2a\u5206\u652f\u4e4b\u95f4\u7684\u6587\u4ef6\u5dee\u5f02\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\u8f93\u51fa\u7ed3\u679c\u53ef\u80fd\u7c7b\u4f3c\u4e8e\u4e0b\u9762\u7684\u6837\u5f0f\uff1a\\n\\n```\\nA       file1.txt\\nM       file2.txt\\nD       file3.txt\\n```\\n\\n\u8fd9\u4e2a\u793a\u4f8b\u544a\u8bc9\u6211\u4eec\uff0c`file1.txt` \u6587\u4ef6\u662f\u88ab\u6dfb\u52a0\u7684\uff08Added\uff09\uff0c`file2.txt` \u6587\u4ef6\u662f\u88ab\u4fee\u6539\u7684\uff08Modified\uff09\uff0c`file3.txt` \u6587\u4ef6\u662f\u88ab\u5220\u9664\u7684\uff08Deleted\uff09\u3002\\n\\n`--name-status` \u9009\u9879\u5bf9\u4e8e\u9700\u8981\u4ee5\u6587\u4ef6\u72b6\u6001\u5f62\u5f0f\u83b7\u53d6\u6587\u4ef6\u5dee\u5f02\u7edf\u8ba1\u4fe1\u606f\u7684\u60c5\u51b5\u5f88\u6709\u7528\u3002\u5b83\u53ef\u4ee5\u5e2e\u52a9\u60a8\u4e86\u89e3\u6bcf\u4e2a\u6587\u4ef6\u7684\u72b6\u6001\uff0c\u5305\u62ec\u6dfb\u52a0\u3001\u4fee\u6539\u548c\u5220\u9664\u7b49\u64cd\u4f5c\u3002\\n\\n## 3\u3001\u53c2\u8003\u6587\u6863\\n\\n- [\u8bfb\u61c2diff] https://www.ruanyifeng.com/blog/2012/08/how_to_read_diff.html","isLeaf":true},{"key":"/git/09-multile-github.md","path":"/git/09-multile-github.md","route":"/git/09-multile-github.md","leaf":true,"title":"09-multile-github","depth":1,"content":"---\\ntags: Git\\n---\\n\\n1\u53f0\u7535\u8111\u4e0a\u4f7f\u7528\u4e24\u4e2agithub\u8d26\u6237\uff0c\u53c2\u8003 https://juejin.cn/post/6844904086085582862 \u6216\u8005\u53ef\u4ee5\u901a\u8fc7 github token \u6765\u907f\u514d\u8fd9\u4e2a\u95ee\u9898","isLeaf":true},{"key":"/git/10-commit-rule.md","path":"/git/10-commit-rule.md","route":"/git/10-commit-rule.md","leaf":true,"title":"10-commit-rule","depth":1,"content":"---\\ntags: Git\\n---\\n\\n## 1\u3001\u63d0\u4ea4\u683c\u5f0f\\n```text\\ntype(scope): message\\n```\\n\\n## 2\u3001type\\n- feat\uff1a\u65b0\u529f\u80fd\u7684\u5f00\u53d1\\n- fix\uff1abug\u7684\u4fee\u590d\\n- docs\uff1a\u6587\u6863\u683c\u5f0f\u7684\u6539\u52a8\\n- style\uff1a\u4ee3\u7801\u683c\u5f0f\u6539\u53d8\\n- refactor\uff1a\u5bf9\u5df2\u6709\u7684\u529f\u80fd\u8fdb\u884c\u91cd\u6784\\n- perf\uff1a\u6027\u80fd\u4f18\u5316\\n- test\uff1a\u589e\u52a0\u6d4b\u8bd5\\n- build\uff1a\u6539\u53d8\u4e86build\u5de5\u5177\\n- revert\uff1a\u64a4\u9500\u4e0a\u4e00\u6b21\u7684commit\u63d0\u4ea4\\n- chore\uff1a\u65e5\u5e38\u7684\u4e00\u4e9b\u5c0f\u66f4\u6539\\n\\n## 3\u3001scope\\n\u7528\u4e8e\u8bf4\u660e commit \u5f71\u54cd\u7684\u8303\u56f4\uff0c\u6bd4\u5982\uff1a\u6743\u9650\u6a21\u5757\u3001\u8fd8\u662f\u9996\u9875","isLeaf":true},{"key":"/git/11-use-hooks.md","path":"/git/11-use-hooks.md","route":"/git/11-use-hooks.md","leaf":true,"title":"11-use-hooks","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u53c2\u8003 https://www.cnblogs.com/woai3c/p/15033530.html \u7279\u522b\u6ce8\u610f hooks \u6587\u4ef6\u7684\u6743\u9650\u95ee\u9898","isLeaf":true},{"key":"/git/12-file-timeline.md","path":"/git/12-file-timeline.md","route":"/git/12-file-timeline.md","leaf":true,"title":"12-file-timeline","depth":1,"content":"---\\ntags: Git\\n---\\n\\n## 1\u3001sourcetree\\n\u4f7f\u7528 git \u547d\u4ee4\u4e0d\u591f\u76f4\u89c2\uff0c\u53ef\u4ee5\u4f7f\u7528 sourcetree, \u70b9\u51fb\u6587\u4ef6 \u3010\u67e5\u770b\u9009\u4e2d\u7684\u4fee\u6539\u65e5\u5fd7\u3011\\n\\n## 2\u3001vscode\\n\u53ef\u4ee5\u67e5\u770b\u5f53\u524d\u7a97\u53e3\u6587\u4ef6\u7684\u65f6\u95f4\u7ebf","isLeaf":true},{"key":"/git/13-git-log.md","path":"/git/13-git-log.md","route":"/git/13-git-log.md","leaf":true,"title":"13-git-log","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u53c2\u8003 https://zhuanlan.zhihu.com/p/183131156\\n\\n```shell\\ngit log --oneline\\ngit log --stat\\n```","isLeaf":true},{"key":"/git/14-gen-ssh-key.md","path":"/git/14-gen-ssh-key.md","route":"/git/14-gen-ssh-key.md","leaf":true,"title":"14-gen-ssh-key","depth":1,"content":"---\\ntags: Git\\n---\\n\\n```shell\\n# make\\nssh-keygen -t rsa -C \\"2856116089@qq.com\\"\\n\\n# config\\ngit config --global user.name \\"waisai\\"\\ngit config --global user.email \\"2856116089@qq.com\\"\\n```","isLeaf":true},{"key":"/git/15-rm-cached.md","path":"/git/15-rm-cached.md","route":"/git/15-rm-cached.md","leaf":true,"title":"15-rm-cached","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u6709\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u5ffd\u7565\u6389\u4ee5\u524d\u63d0\u4ea4\u8fc7\u7684\u6587\u4ef6\uff0c\u56e0\u4e3agit\u5df2\u7ecf\u7d22\u5f15\u4e86\u8be5\u6587\u4ef6\uff0c\u6240\u4ee5\u6211\u4eec\u5148\u8981\u5220\u9664\u6389\u8be5\u6587\u4ef6\u7684\u7f13\u5b58\uff0c\u5982\u6587\u4ef6 main.ts \u5df2\u7ecf\u63d0\u4ea4\u8fc7\u4e86\uff0c\u73b0\u5728\u6211\u4eec\u60f3\u5ffd\u7565\uff0c\u8fd9\u662f\u6211\u4eec\u5148\u5728 .gitignore \u4e2d\u8bbe\u7f6e\u8be5\u6587\u4ef6\u4e3a\u5ffd\u7565\u3002\\n\\n- \u4f7f\u7528 git rm --cached \u4ece Git \u7684\u6570\u636e\u5e93\u4e2d\u5220\u9664\u5bf9\u4e8e\u8be5\u6587\u4ef6\u7684\u8ffd\u8e2a\\n- \u628a\u5bf9\u5e94\u7684\u89c4\u5219\u5199\u5165 .gitignore\uff0c\u8ba9\u5ffd\u7565\u771f\u6b63\u751f\u6548\\n\\n```shell\\ngit rm --cached main.ts\\n\\n# \u82e5\u662f\u6587\u4ef6\u5939\\ngit rm -r --cached folder/\\n```","isLeaf":true},{"key":"/git/16-reset-vs-revert.md","path":"/git/16-reset-vs-revert.md","route":"/git/16-reset-vs-revert.md","leaf":true,"title":"16-reset-vs-revert","depth":1,"content":"---\\ntags: Git\\n---\\n\\n- reset \u662f\u5f7b\u5e95\u56de\u9000\u5230\u6307\u5b9a\u7684commit\u7248\u672c\uff0c\u8be5commit\u540e\u7684\u6240\u6709commit\u90fd\u5c06\u88ab\u6e05\u9664\uff0c\u5305\u62ec\u63d0\u4ea4\u5386\u53f2\u8bb0\u5f55\uff1b\\n- revert \u4ec5\u4ec5\u662f\u64a4\u9500\u6307\u5b9acommit\u7684\u4fee\u6539\uff0c\u5e76\u4e0d\u5f71\u54cd\u540e\u7eed\u7684commit\uff0c\u4f46\u6240\u64a4\u9500\u7684commit\u88ab\u540e\u7eed\u7684commit\u4fee\u6539\u4e86\u540c\u4e00\u5730\u65b9\u5219\u4f1a\u4ea7\u751f\u51b2\u7a81\uff1b\\n- reset \u6267\u884c\u540e\u4e0d\u4f1a\u4ea7\u751f\u8bb0\u5f55\uff0crevert\u6267\u884c\u540e\u4f1a\u4ea7\u751f\u8bb0\u5f55\uff1b\\n- reset \u6267\u884c\u540e\u65e0\u6cd5\u518d\u6b21\u6062\u590d\uff0crevert\u6267\u884c\u540e\u56e0\u4e3a\u4e0d\u4f1a\u6e05\u9664\u8bb0\u5f55\uff0c\u5e76\u4e14\u4f1a\u4ea7\u751f\u65b0\u7eaa\u5f55\uff0c\u6240\u4ee5\u6587\u4ef6\u4e0d\u4f1a\u4e22\u5931\uff0c\u4f60\u53ef\u4ee5\u591a\u6b21\u6267\u884crevert\u6062\u590d\u5230\u67d0\u6b21\u6539\u53d8\u4e4b\u524d\u7684\u72b6\u6001\uff1b\\n- reset \u6267\u884c\u540eHEAD\u4f1a\u540e\u79fb\uff0c\u800crevert\u7684HEAD\u5219\u4e00\u76f4\u662f\u5411\u524d\u7684\uff1b\\n\\nhttps://blog.csdn.net/baiyuliang2013/article/details/120646835","isLeaf":true},{"key":"/git/17-case-sensitive.md","path":"/git/17-case-sensitive.md","route":"/git/17-case-sensitive.md","leaf":true,"title":"17-case-sensitive","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u6587\u4ef6\u7cfb\u7edf\u5927\u5c0f\u5199\u654f\u611f\u662f\u975e\u5e38\u91cd\u8981\uff0c\u4f1a\u5e26\u6765\u8bf8\u591a\u95ee\u9898\u3002\u6bd4\u5982\u4e0d\u654f\u611f\u65f6\uff0c\u5f53\u4f60\u5e0c\u671b\u4fee\u6539\u6587\u4ef6\u76ee\u5f55\u4ece\u5c0f\u5199\u5230\u5927\u5199\u65f6\uff0cgit \u72b6\u6001\u662f\u672a\u53d1\u751f\u53d8\u66f4\uff0c\u610f\u5473\u7740\u4f60\u65e0\u6cd5\u63d0\u4ea4\u3002","isLeaf":true}]},{"key":"/macos","path":"/macos","route":"/macos","leaf":false,"title":"macos","depth":0,"content":"","isLeaf":false,"children":[{"key":"/macos/homebrew.md","path":"/macos/homebrew.md","route":"/macos/homebrew.md","leaf":true,"title":"homebrew","depth":1,"content":"## 1\u3001Running Homebrew as root is extremely dangerous and no longer supported\\n\\n\u5728 macOS High Sierra(10.13.6) \u53ca\u4ee5\u4e0a\u7248\u672c\u7684 Mac \u4e0a\u9762\uff0c\u4f7f\u7528 brew install \u5b89\u88c5\u65f6\u8001\u662f\u62a5\u9519\uff0c\u56e0\u4e3a\u82f9\u679c\u5df2\u7ecf\u4e0d\u5141\u8bb8 Homebrew \u4f5c\u4e3a\u6839\u6765\u5b89\u88c5\u4e86\u3002\u5f53\u4f60\u6dfb\u52a0 `sudo brew install xxxx` \u65f6\u63d0\u793a\uff1a\u5371\u9669\u64cd\u4f5c\u3002\\n\\n\u7f51\u4e0a\u5f88\u591a\u505a\u6cd5\u662f\u628a `/usr/local` \u8def\u5f84\u6539\u6210\u5f53\u524d\u7528\u6237\u8def\u5f84\uff0c\u4f46\u662f\u5728\u9ad8\u7248\u672c\u7684Mac\u4e0a\u9762\u5df2\u7ecf\u4e0d\u5141\u8bb8\u4e86\uff1a\\n\\n```shell\\nsudo chown -R $(whoami) /usr/local\\nchown: /usr/local: Operation not permitted\\n```\\n\\n\u4fee\u590d\uff1a\\n\\n```shell\\nsudo chown -R `whoami` /usr/local/Homebrew/\\nsudo chown -R $(whoami) $(brew --prefix)/*\\nsudo mkdir /usr/local/Frameworks\\nsudo chown -R `whoami` /usr/local/Frameworks/\\n```\\n\\n**\u4e0b\u9762\u662f chatgtp \u7ed9\u51fa\u7684\u65b9\u6848**\\n\\n\u8981\u89e3\u51b3\u60a8\u5728\u4ee5root\u7528\u6237\u8eab\u4efd\u8fd0\u884cHomebrew\u7684\u95ee\u9898\uff0c\u60a8\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\u64cd\u4f5c\uff1a\\n1. \u5378\u8f7dHomebrew\uff1a\u5728\u7ec8\u7aef\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n```\\nsudo rm -rf /usr/local/Homebrew\\n```\\n\\n2. \u4fee\u6539\u76ee\u5f55\u6743\u9650\uff1a\u7ee7\u7eed\u5728\u7ec8\u7aef\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n```\\nsudo chown -R $(whoami) $(brew --prefix)/*\\n```\\n\\n3. \u79fb\u9664\u6b8b\u7559\u6587\u4ef6\uff1a\u8fd8\u5728\u7ec8\u7aef\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u4ee5\u5220\u9664\u53ef\u80fd\u6b8b\u7559\u7684\u914d\u7f6e\u6587\u4ef6\uff1a\\n```\\nrm -rf ~/Library/Caches/Homebrew\\n```\\n\\n4. \u91cd\u65b0\u5b89\u88c5Homebrew\uff1a\u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u6309\u7167\u5e38\u89c4\u7528\u6237\u7684\u65b9\u5f0f\u91cd\u65b0\u5b89\u88c5Homebrew\u3002 \u5728\u7ec8\u7aef\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n```\\n/bin/bash -c \\"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\\"\\n```\\n\\n\u4e0a\u8ff0\u6b65\u9aa4\u5c06\u5e2e\u52a9\u60a8\u5f7b\u5e95\u5378\u8f7d\u5e76\u91cd\u65b0\u5b89\u88c5 Homebrew\u3002\u8bb0\u5f97\u5728\u5b89\u88c5\u540e\uff0c\u6309\u7167\u5e38\u89c4\u7528\u6237\u7684\u65b9\u5f0f\uff0c\u800c\u4e0d\u662froot\u7528\u6237\uff0c\u6765\u4f7f\u7528Homebrew\u8fdb\u884c\u64cd\u4f5c\u548c\u5b89\u88c5\u8f6f\u4ef6\u5305\u3002\\n \\n\u8bf7\u6ce8\u610f\uff0c\u5bf9\u4e8e\u5177\u4f53\u7684\u64cd\u4f5c\uff0c\u6211\u5f3a\u70c8\u5efa\u8bae\u60a8\u67e5\u9605Homebrew\u7684\u5b98\u65b9\u6587\u6863\u4ee5\u83b7\u53d6\u6700\u65b0\u7684\u6307\u5f15\u548c\u8bf4\u660e\u3002","isLeaf":true}]},{"key":"/network","path":"/network","route":"/network","leaf":false,"title":"network","depth":0,"content":"","isLeaf":false,"children":[{"key":"/network/01-basic","path":"/network/01-basic","route":"/network/01-basic","leaf":false,"title":"01-basic","depth":1,"content":"","isLeaf":false,"children":[{"key":"/network/01-basic/01-Hierarchy-of-Network-Models.md","path":"/network/01-basic/01-Hierarchy-of-Network-Models.md","route":"/network/01-basic/01-Hierarchy-of-Network-Models.md","leaf":true,"title":"01-Hierarchy-of-Network-Models","depth":2,"content":"---\\ntags: network\\n---\\n\\n### 1. \u4e03\u5c42\u6a21\u578b\\n- \u5e94\u7528->\u8868\u793a->\u4f1a\u8bdd\\n- \u4f20\u8f93->\u7f51\u7edc->\u6570\u636e\\n- \u7269\u7406\\n\\n![20230619112439](http://s3.airtlab.com/blog/20230619112439.png)\\n\\n![20230619112446](http://s3.airtlab.com/blog/20230619112446.png)\\n\\n![20230619112455](http://s3.airtlab.com/blog/20230619112455.png)\\n\\n![20230619112501](http://s3.airtlab.com/blog/20230619112501.png)\\n\\n\\n### 2. \u4e94\u5c42\u6a21\u578b\\n\\n- \u5e94\u7528\u5c42\\n- \u4f20\u8f93\u5c42\uff08TCP/UDP\uff09\\n- \u7f51\u7edc\u5c42 \uff08IP ICMP ARP\uff09\\n- \u6570\u636e\u94fe\u8def\u5c42\\n- \u7269\u7406\u5c42","isLeaf":true},{"key":"/network/01-basic/02-http-authorization-basic.md","path":"/network/01-basic/02-http-authorization-basic.md","route":"/network/01-basic/02-http-authorization-basic.md","leaf":true,"title":"02-http-authorization-basic","depth":2,"content":"---\\ntags: network\\n---\\n\\n\u5728 http \u5934\u90e8\u52a0\u4e0a `authorization: value`\uff0c\u5176\u4e2d value \u7b49\u4e8e `Basic base64\u4e32`\uff0c\u5176\u4e2d `base64` \u4e32 \u4e3a \\"user:password\\" \u8fdb\u884c base64 \u7f16\u7801\u3002\\n\\n![20230511110151](http://s3.airtlab.com/blog/20230511110151.png)","isLeaf":true},{"key":"/network/01-basic/03-loopback-host.md","path":"/network/01-basic/03-loopback-host.md","route":"/network/01-basic/03-loopback-host.md","leaf":true,"title":"03-loopback-host","depth":2,"content":"---\\ntitle: 02 \u56de\u73af\u5730\u5740\\ntags: network\\n---\\n\\n\u7f51\u5361\u4e2d\u7684\u56de\u73af\u5730\u5740\u662f\u201c127.0.0.1\u201d\uff0c\u4e5f\u88ab\u79f0\u4e3a\u201c\u672c\u5730\u4e3b\u673a\u201d\u6216\u201c\u73af\u56de\u5730\u5740\u201d\u3002\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\uff0c\u56de\u73af\u5730\u5740\u662f\u6307\u8ba1\u7b97\u673a\u672c\u8eab\u4f7f\u7528\u7684\u4e00\u79cd\u865a\u62df\u7f51\u7edc\u63a5\u53e3\uff0c\u6570\u636e\u5305\u53d1\u9001\u5230\u56de\u73af\u5730\u5740\u65f6\u4f1a\u88ab\u672c\u673a\u63a5\u6536\u5e76\u5728\u672c\u673a\u4e0a\u8fdb\u884c\u5904\u7406\uff0c\u800c\u4e0d\u4f1a\u53d1\u9001\u5230\u7f51\u7edc\u4e0a\u3002\\n\\n\u56de\u73af\u5730\u5740\u88ab\u5e7f\u6cdb\u7528\u4e8e\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\u548c\u6d4b\u8bd5\u3002\u4f8b\u5982\uff0c\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u5728\u6ca1\u6709\u8fde\u63a5\u5230\u7f51\u7edc\u7684\u60c5\u51b5\u4e0b\u6d4b\u8bd5\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\u7684\u529f\u80fd\uff0c\u53ea\u9700\u8981\u5c06\u5730\u5740\u8bbe\u7f6e\u4e3a\u56de\u73af\u5730\u5740\u5373\u53ef\u6a21\u62df\u7f51\u7edc\u6570\u636e\u6d41\u3002\u540c\u65f6\uff0c\u56de\u73af\u5730\u5740\u4e5f\u7528\u4e8e\u9a8c\u8bc1\u7f51\u7edc\u63a5\u53e3\u548c\u8fd0\u884c\u8bca\u65ad\u7a0b\u5e8f\u3002","isLeaf":true},{"key":"/network/01-basic/04-Used-application-layer-protocol.md","path":"/network/01-basic/04-Used-application-layer-protocol.md","route":"/network/01-basic/04-Used-application-layer-protocol.md","leaf":true,"title":"04-Used-application-layer-protocol","depth":2,"content":"---\\ntags: network\\n---\\n\\n- HTTP \u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff08\u57fa\u4e8eTCP\uff09\\n- DNS \u57df\u540d\u7cfb\u7edf\u534f\u8bae\uff08\u57fa\u4e8eUDP\uff09\\n- FTP \u6587\u4ef6\u4f20\u8f93\u534f\u8bae\\n- SSH \u5b89\u5168\u5916\u58f3\u534f\u8bae\\n- TELENT TCP/IP \u7ec8\u7aef\u4eff\u771f\u534f\u8bae\\n- SMTP \u7b80\u5355\u90ae\u4ef6\u4f20\u8f93\u534f\u8bae\\n- POP3 \u90ae\u5c40\u534f\u8bae\u7b2c3\u7248","isLeaf":true},{"key":"/network/01-basic/05-curl-and-ping.md","path":"/network/01-basic/05-curl-and-ping.md","route":"/network/01-basic/05-curl-and-ping.md","leaf":true,"title":"05-curl-and-ping","depth":2,"content":"---\\ntags: network\\n---\\n\\n\u4f7f\u7528 curl \u53ef\u4ee5\u8bbf\u95ee http://blog.airtlab.com\uff0c\u4e3a\u4ec0\u4e48 ping blog.airtlab.com \u5374 Request timeout\\n\\n\u53ef\u80fd\u662f\u7531\u4e8e\u7f51\u7edc\u9632\u706b\u5899\u6216\u8def\u7531\u5668\u8bbe\u7f6e\u7684\u89c4\u5219\u5bfc\u81f4 ping \u8bf7\u6c42\u88ab\u963b\u6b62\u4e86\u3002curl \u7684\u5de5\u4f5c\u65b9\u5f0f\u4e0e ping \u4e0d\u540c\uff0ccurl \u53d1\u9001\u7684\u662f HTTP \u8bf7\u6c42\uff0c\u800c ping \u53d1\u9001\u7684\u662f ICMP \u8bf7\u6c42\uff0c\u7f51\u7edc\u8bbe\u5907\u53ef\u80fd\u4f1a\u9488\u5bf9\u4e0d\u540c\u7c7b\u578b\u7684\u8bf7\u6c42\u505a\u51fa\u4e0d\u540c\u7684\u54cd\u5e94\u3002 \\n\\n\u6b64\u5916\uff0chttp://blog.airtlab.com \u548c blog.airtlab.com \u53ef\u80fd\u662f\u4e0d\u540c\u7684\u57df\u540d\uff08\u6bd4\u5982\u524d\u8005\u53ef\u80fd\u8981\u8df3\u8f6c\u5230\u540e\u8005\uff09\uff0cping \u547d\u4ee4\u9ed8\u8ba4\u4f7f\u7528 DNS \u534f\u8bae\u89e3\u6790\u4e3b\u673a\u540d\uff0c\u800c curl \u9ed8\u8ba4\u4e0d\u4f1a\u89e3\u6790\u4e3b\u673a\u540d\u3002\u56e0\u6b64\uff0c\u53ef\u80fd\u9700\u8981\u5148\u4f7f\u7528 dig \u6216 nslookup \u7b49\u5de5\u5177\u6765\u67e5\u627e\u4e3b\u673a\u540d\u6240\u5bf9\u5e94\u7684 IP \u5730\u5740\uff0c\u7136\u540e\u4f7f\u7528 ping \u547d\u4ee4\u6307\u5b9a IP \u5730\u5740\u6765\u8fdb\u884c\u6d4b\u8bd5\u3002","isLeaf":true}]},{"key":"/network/10-protocol","path":"/network/10-protocol","route":"/network/10-protocol","leaf":false,"title":"10-protocol","depth":1,"content":"","isLeaf":false,"children":[{"key":"/network/10-protocol/01-dns.md","path":"/network/10-protocol/01-dns.md","route":"/network/10-protocol/01-dns.md","leaf":true,"title":"01-dns","depth":2,"content":"---\\ntags: network\\n---\\n\\n## 1\u3001\u57df\u540d\u7684\u6982\u5ff5\\n\\n\u57df\u540d\u662f\u5728 [\u4e92\u8054\u7f51](https://developer.mozilla.org/zh-CN/docs/Glossary/Internet) \u7684\u7f51\u7ad9\u7684\u5730\u5740\u3002\u57df\u540d\u88ab\u7528\u4e8e [URL](https://developer.mozilla.org/zh-CN/docs/Glossary/URL) \u8bc6\u522b\u4e00\u4e2a\u670d\u52a1\u5668\u5c5e\u4e8e\u54ea\u4e2a\u7279\u5b9a\u7684\u7f51\u7ad9\u3002\u57df\u540d\u5305\u542b\u7531\u53e5\u53f7\u70b9\uff08\u201d.\u201c\uff09\u5206\u9694\u7684\u540d\u79f0\u7684\u5206\u7ea7\u5e8f\u5217\u5e76\u4ee5 [\u6269\u5c55\u540d](https://developer.mozilla.org/en-US/docs/Glossary/TLD) \u4f5c\u4e3a\u7ed3\u5c3e\u3002\\n\\n1. \u6bd4\u5982 [www.baidu.com](https://link.zhihu.com/?target=https%3A//www.baidu.com) (www.baidu.com.)\uff08\u6ce8\u610f\u6700\u540e\u9762\u6709\u4e00\u4e2a\u70b9\u53f7\uff09\u5c31\u662f\u4e00\u4e2a\u57df\u540d\uff0c\u6bcf\u4e2a\u57df\u540d\u7684\u6700\u540e\u9762\u90fd\u6709\u4e00\u4e2a\u70b9\u53f7 \\".\\" \u8868\u793a\u6839\u57df\u540d\uff0c\u4e3a\u4e86\u65b9\u4fbf\u5728\u5b9e\u9645\u4f7f\u7528\u7684\u65f6\u5019\u88ab\u7701\u7565\u4e86\uff1b\\n2. \u9876\u7ea7\u57df\u540d\uff1a.com \u5c31\u662f\u9876\u7ea7\u57df\u540d\uff0c\u5e38\u89c1\u7684\u9876\u7ea7\u57df\u540d\u540e\u7f00\u6709 .com\u3001.cn\u3001.net\u3001.org \u7b49\u56fa\u5b9a\u503c\uff0c\u4e0d\u80fd\u81ea\u5df1\u4fee\u6539\uff1b\\n3. \u4e00\u7ea7\u57df\u540d\uff1a\u53c8\u79f0\u4e3b\u57df\u540d\uff0c\u9876\u7ea7\u57df\u540d\u7684\u4e0b\u4e00\u7ea7\u53c8\u662f\u6743\u5a01\u57df\u540d\uff0c\u5982 [baidu.com](https://link.zhihu.com/?target=http%3A//baidu.com) \u4e2d\u7684 .baidu\uff1b\\n4. \u9876\u7ea7\u57df\u540d\u4e0b\u5c31\u662f\u4e3b\u673a\u540d\uff0cwww.baidu.com \u4e2d\u7684 www \u662f\u6307\u4e3b\u673a\u540d;\\n5. \u4e8c\u7ea7\u57df\u540d\uff1abaidu.com \u53eb\u4e3b\u57df\u540d\uff0cwww.baidu.com \u53eb\u505a\u4e8c\u7ea7\u57df\u540d\uff1b\\n\\n![20230619111413](http://s3.airtlab.com/blog/20230619111413.png)\\n\\n![20230619111430](http://s3.airtlab.com/blog/20230619111430.png)\\n\\n## 2\u3001DNS\u7684\u4ecb\u7ecd\\n\\n![20230619111526](http://s3.airtlab.com/blog/20230619111526.png)\\n\\ndns \u5373\u662f domain name system \u57df\u540d\u7cfb\u7edf\u7684\u7f29\u5199\uff0c\u5c06 \u57df\u540d \u548c ip \u7684\u6620\u5c04\u5173\u7cfb\u4fdd\u5b58\u5728\u4e00\u4e2a\u5206\u5e03\u5f0f\u6570\u636e\u5e93\u4e2d\u3002DNS \u662f\u5206\u7ea7\u7684\u3002\\nDNS\u7684\u4e00\u79cd\u7b80\u5355\u8bbe\u8ba1\u6a21\u5f0f\u5c31\u662f\u53ea\u4f7f\u7528\u4e00\u4e2aDNS\u670d\u52a1\u5668\uff0c\u8be5\u670d\u52a1\u5668\u5305\u542b\u6240\u6709\u7684\u6620\u5c04\uff0c\u5ba2\u6237\u673a\u76f4\u63a5\u5c06\u6240\u6709\u67e5\u8be2\u8bf7\u6c42\u53d1\u5f80\u5355\u4e00\u7684DNS\u670d\u52a1\u5668\uff0c\u540c\u65f6\u8be5DNS\u670d\u52a1\u5668\u76f4\u63a5\u5bf9\u6240\u6709\u67e5\u8be2\u5ba2\u6237\u673a\u505a\u51fa\u54cd\u5e94\uff0c\u8fd9\u79cd\u96c6\u4e2d\u5f0f\u8bbe\u8ba1\u4f1a\u6709\u5355\u70b9\u6545\u969c\uff0c\u4e0d\u80fd\u652f\u6301\u5168\u7403\u7684DNS\u67e5\u8be2\uff0c\u6240\u4ee5DSN\u91c7\u7528\u4e0b\u9762\u7684\u6811\u72b6\u7ed3\u6784\uff1a\\n\\n\\n## 3\u3001DNS\u8d44\u6e90\u8bb0\u5f55\\n\\n\u5728 DNS \u670d\u52a1\u5668\u4e0a\uff0c\u4e00\u4e2a\u57df\u540d\u53ca\u5176\u4e0b\u7ea7\u57df\u540d\u7ec4\u6210\u4e00\u4e2a\u533a\u57df\u3002\u76f8\u5173\u7684 DNS \u4fe1\u606f\u6784\u6210\u4e00\u4e2a\u6570\u636e\u5e93\u6587\u4ef6\u3002\u6240\u4ee5\u6bcf\u4e2a\u533a\u57df\u6570\u636e\u5e93\u6587\u4ef6\u90fd\u662f\u7531\u8d44\u6e90\u8bb0\u5f55\u6784\u6210\u7684\uff0c\u4e00\u4e2a\u8d44\u6e90\u8bb0\u5f55\u5c31\u662f\u4e00\u884c\u6587\u672c\uff0c\u63d0\u4f9b\u4e86\u4e00\u7ec4\u6709\u7528\u7684 DNS \u914d\u7f6e\u4fe1\u606f\u3002\u5e38\u89c1\u7684\u8d44\u6e90\u8bb0\u5f55\u7c7b\u578b\u5982\u8868\u6240\u793a\uff1a\\n\\n| \u7c7b\u578b | \u7f16\u7801 | \u5185\u5bb9 |\\n| --- | --- | --- |\\n| A | 1 | \u5c06 DNS \u57df\u540d\u6620\u5c04\u5230 IPv4 \u5730\u5740\uff0c\u57fa\u672c\u4f5c\u7528\u662f\u8bf4\u660e\u4e00\u4e2a\u57df\u540d\u5bf9\u5e94\u4e86\u54ea\u4e9b IPv4 \u5730\u5740 |\\n| NS | 2 | \u6743\u5a01\u540d\u79f0\u670d\u52a1\u5668\u8bb0\u5f55\uff0c\u7528\u4e8e\u8bf4\u660e\u8fd9\u4e2a\u533a\u57df\u6709\u54ea\u4e9b DNS \u670d\u52a1\u5668\u8d1f\u8d23\u89e3\u6790 |\\n| CNAME | 5 | \u522b\u540d\u8bb0\u5f55\uff0c\u4e3b\u673a\u522b\u540d\u5bf9\u5e94\u7684\u89c4\u8303\u540d\u79f0 |\\n| SOA | 6 | \u8d77\u59cb\u6388\u6743\u673a\u6784\u8bb0\u5f55\uff0cNS \u8bb0\u5f55\u8bf4\u660e\u4e86\u6709\u591a\u53f0\u670d\u52a1\u5668\u5728\u8fdb\u884c\u89e3\u6790\uff0c\u4f46\u54ea\u4e00\u4e2a\u624d\u662f\u4e3b\u670d\u52a1\u5668\uff0cNS \u5e76\u6ca1\u6709\u8bf4\u660e\uff0cSOA \u8bb0\u5f55\u4e86\u8bf4\u660e\u5728\u4f17\u591a NS \u8bb0\u5f55\u91cc\u54ea\u4e00\u53f0\u624d\u662f\u4e3b\u8981\u7684\u670d\u52a1\u5668 |\\n| PTR | 12 | IP \u5730\u5740\u53cd\u5411\u89e3\u6790\uff0c\u662f A \u8bb0\u5f55\u7684\u9006\u5411\u8bb0\u5f55\uff0c\u4f5c\u7528\u662f\u628a IP \u5730\u5740\u89e3\u6790\u4e3a\u57df\u540d |\\n| MX | 15 | \u90ae\u4ef6\u4ea4\u6362\u8bb0\u5f55\uff0c\u6307\u5b9a\u8d1f\u8d23\u63a5\u6536\u548c\u53d1\u9001\u5230\u57df\u4e2d\u7684\u7535\u5b50\u90ae\u4ef6\u7684\u4e3b\u673a |\\n| TXT | 16 | \u6587\u672c\u8d44\u6e90\u8bb0\u5f55\uff0c\u7528\u6765\u4e3a\u67d0\u4e2a\u4e3b\u673a\u540d\u6216\u57df\u540d\u8bbe\u7f6e\u7684\u8bf4\u660e |\\n| AAAA | 28 | \u5c06 DNS \u57df\u540d\u6620\u5c04\u5230 IPv6 \u5730\u5740\uff0c\u57fa\u672c\u4f5c\u7528\u662f\u8bf4\u660e\u4e00\u4e2a\u57df\u540d\u5bf9\u5e94\u4e86\u54ea\u4e9b IPv6 \u5730\u5740 |\\n\\n\u5f53\u4f60\u5728\u4e91\u670d\u52a1\u5546\u8d2d\u4e70\u57df\u540d\u540e\uff0c\u5c06\u57df\u540d\u89e3\u6790\u5230\u4e3b\u673a\u662f\uff0c\u5c31\u9700\u8981\u6dfb\u52a0DNS\u89e3\u6790\u8bb0\u5f55\u3002\\n\\n## 4\u3001\u57df\u540d\u89e3\u6790\u8fc7\u7a0b\\n1\u3001\u5728\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165www.qq.com\u57df\u540d\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5148\u68c0\u67e5\u81ea\u5df1\u672c\u5730\u7684hosts\u6587\u4ef6\u662f\u5426\u6709\u8fd9\u4e2a\u7f51\u5740\u6620\u5c04\u5173\u7cfb\uff0c\u5982\u679c\u6709\uff0c\u5c31\u5148\u8c03\u7528\u8fd9\u4e2aIP\u5730\u5740\u6620\u5c04\uff0c\u5b8c\u6210\u57df\u540d\u89e3\u6790\u3002\\n\\n2\u3001\u5982\u679chosts\u91cc\u6ca1\u6709\u8fd9\u4e2a\u57df\u540d\u7684\u6620\u5c04\uff0c\u5219\u67e5\u627e\u672c\u5730DNS\u89e3\u6790\u5668\u7f13\u5b58\uff0c\u662f\u5426\u6709\u8fd9\u4e2a\u7f51\u5740\u6620\u5c04\u5173\u7cfb\uff0c\u5982\u679c\u6709\uff0c\u76f4\u63a5\u8fd4\u56de\uff0c\u5b8c\u6210\u57df\u540d\u89e3\u6790\u3002\\n\\n3\u3001\u5982\u679chosts\u4e0e\u672c\u5730DNS\u89e3\u6790\u5668\u7f13\u5b58\u90fd\u6ca1\u6709\u76f8\u5e94\u7684\u7f51\u5740\u6620\u5c04\u5173\u7cfb\uff0c\u9996\u5148\u4f1a\u627eTCP/IP\u53c2\u6570\u4e2d\u8bbe\u7f6e\u7684\u9996\u9009DNS\u670d\u52a1\u5668\uff0c\u5728\u6b64\u6211\u4eec\u53eb\u5b83\u672c\u5730DNS\u670d\u52a1\u5668\uff0c\u6b64\u670d\u52a1\u5668\u6536\u5230\u67e5\u8be2\u65f6\uff0c\u5982\u679c\u8981\u67e5\u8be2\u7684\u57df\u540d\uff0c\u5305\u542b\u5728\u672c\u5730\u914d\u7f6e\u533a\u57df\u8d44\u6e90\u4e2d\uff0c\u5219\u8fd4\u56de\u89e3\u6790\u7ed3\u679c\u7ed9\u5ba2\u6237\u673a\uff0c\u5b8c\u6210\u57df\u540d\u89e3\u6790\uff0c\u6b64\u89e3\u6790\u5177\u6709\u6743\u5a01\u6027\u3002\\n\\n4\u3001\u5982\u679c\u8981\u67e5\u8be2\u7684\u57df\u540d\uff0c\u4e0d\u7531\u672c\u5730DNS\u670d\u52a1\u5668\u533a\u57df\u89e3\u6790\uff0c\u4f46\u8be5\u670d\u52a1\u5668\u5df2\u7f13\u5b58\u4e86\u6b64\u7f51\u5740\u6620\u5c04\u5173\u7cfb\uff0c\u5219\u8c03\u7528\u8fd9\u4e2aIP\u5730\u5740\u6620\u5c04\uff0c\u5b8c\u6210\u57df\u540d\u89e3\u6790\uff0c\u6b64\u89e3\u6790\u4e0d\u5177\u6709\u6743\u5a01\u6027\u3002\\n\\n5\u3001\u5982\u679c\u672c\u5730DNS\u670d\u52a1\u5668\u672c\u5730\u533a\u57df\u6587\u4ef6\u4e0e\u7f13\u5b58\u89e3\u6790\u90fd\u5931\u6548\uff0c\u5219\u6839\u636e\u672c\u5730DNS\u670d\u52a1\u5668\u7684\u8bbe\u7f6e\uff08\u662f\u5426\u8bbe\u7f6e\u8f6c\u53d1\u5668\uff09\u8fdb\u884c\u67e5\u8be2\uff0c\u5982\u679c\u672a\u7528\u8f6c\u53d1\u6a21\u5f0f\uff0c\u672c\u5730DNS\u5c31\u628a\u8bf7\u6c42\u53d1\u81f3 \u201c\u6839DNS\u670d\u52a1\u5668\u201d\uff0c\u201c\u6839DNS\u670d\u52a1\u5668\u201d\u6536\u5230\u8bf7\u6c42\u540e\u4f1a\u5224\u65ad\u8fd9\u4e2a\u57df\u540d(.com)\u662f\u8c01\u6765\u6388\u6743\u7ba1\u7406\uff0c\u5e76\u4f1a\u8fd4\u56de\u4e00\u4e2a\u8d1f\u8d23\u8be5\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u7684\u4e00\u4e2aIP\u3002\\n\\n\u672c\u5730DNS\u670d\u52a1\u5668\u6536\u5230IP\u4fe1\u606f\u540e\uff0c\u5c06\u4f1a\u8054\u7cfb\u8d1f\u8d23.com\u57df\u7684\u8fd9\u53f0\u670d\u52a1\u5668\u3002\u8fd9\u53f0\u8d1f\u8d23.com\u57df\u7684\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u5982\u679c\u81ea\u5df1\u65e0\u6cd5\u89e3\u6790\uff0c\u5b83\u5c31\u4f1a\u627e\u4e00\u4e2a\u7ba1\u7406.com\u57df\u7684\u4e0b\u4e00\u7ea7DNS\u670d\u52a1\u5668\u5730\u5740(qq.com)\u7ed9\u672c\u5730DNS\u670d\u52a1\u5668\u3002\u5f53\u672c\u5730DNS\u670d\u52a1\u5668\u6536\u5230\u8fd9\u4e2a\u5730\u5740\u540e\uff0c\u5c31\u4f1a\u627eqq.com\u57df\u670d\u52a1\u5668\uff0c\u91cd\u590d\u4e0a\u9762\u7684\u52a8\u4f5c\uff0c\u8fdb\u884c\u67e5\u8be2\uff0c\u76f4\u81f3\u627e\u5230www.qq.com\u4e3b\u673a\u3002\\n\\n6\u3001\u5982\u679c\u7528\u7684\u662f\u8f6c\u53d1\u6a21\u5f0f\uff0c\u6b64DNS\u670d\u52a1\u5668\u5c31\u4f1a\u628a\u8bf7\u6c42\u8f6c\u53d1\u81f3\u4e0a\u4e00\u7ea7DNS\u670d\u52a1\u5668\uff0c\u7531\u4e0a\u4e00\u7ea7\u670d\u52a1\u5668\u8fdb\u884c\u89e3\u6790\uff0c\u4e0a\u4e00\u7ea7\u670d\u52a1\u5668\u5982\u679c\u4e0d\u80fd\u89e3\u6790\uff0c\u6216\u627e\u6839DNS\u6216\u628a\u8f6c\u8bf7\u6c42\u8f6c\u81f3\u4e0a\u4e0a\u7ea7\uff0c\u4ee5\u6b64\u5faa\u73af\u3002\\n\\n\u4e0d\u7ba1\u662f\u672c\u5730DNS\u670d\u52a1\u5668\u7528\u662f\u662f\u8f6c\u53d1\uff0c\u8fd8\u662f\u6839\u63d0\u793a\uff0c\u6700\u540e\u90fd\u662f\u628a\u7ed3\u679c\u8fd4\u56de\u7ed9\u672c\u5730DNS\u670d\u52a1\u5668\uff0c\u7531\u6b64DNS\u670d\u52a1\u5668\u518d\u8fd4\u56de\u7ed9\u5ba2\u6237\u673a\u3002\\n\\n## 5\u3001DNS \u7684\u8fed\u4ee3\u67e5\u8be2\\n\\n![20230619111623](http://s3.airtlab.com/blog/20230619111623.png)\\n\\n\u9012\u5f52\uff1a\u5ba2\u6237\u7aef\u53ea\u53d1\u4e00\u6b21\u8bf7\u6c42\uff0c\u8981\u6c42\u5bf9\u65b9\u7ed9\u51fa\u6700\u7ec8\u7ed3\u679c\u3002\\n\u8fed\u4ee3\uff1a\u5ba2\u6237\u7aef\u53d1\u51fa\u4e00\u6b21\u8bf7\u6c42\uff0c\u5bf9\u65b9\u5982\u679c\u6ca1\u6709\u6388\u6743\u56de\u7b54\uff0c\u5b83\u5c31\u4f1a\u8fd4\u56de\u4e00\u4e2a\u80fd\u89e3\u7b54\u8fd9\u4e2a\u67e5\u8be2\u7684\u5176\u5b83\u540d\u79f0\u670d\u52a1\u5668\u5217\u8868\uff0c\u5ba2\u6237\u7aef\u4f1a\u518d\u5411\u8fd4\u56de\u7684\u5217\u8868\u4e2d\u53d1\u51fa\u8bf7\u6c42\uff0c\u76f4\u5230\u627e\u5230\u6700\u7ec8\u8d1f\u8d23\u6240\u67e5\u57df\u540d\u7684\u540d\u79f0\u670d\u52a1\u5668\uff0c\u4ece\u5b83\u5f97\u5230\u6700\u7ec8\u7ed3\u679c\u3002\\n\\n## 6\u3001dig \u547d\u4ee4\\ndig \u662f\u4e00\u4e2a\u5e38\u7528\u7684 DNS \u5de5\u5177\uff0c\u53ef\u4ee5\u5728\u7ec8\u7aef\u4e2d\u901a\u8fc7\u57df\u540d\u67e5\u8be2 DNS \u76f8\u5173\u4fe1\u606f\uff0c\u5305\u62ec\u57df\u540d\u89e3\u6790\u5f97\u5230\u7684 IP \u5730\u5740\u3001DNS \u670d\u52a1\u5668\u7684\u76f8\u5173\u4fe1\u606f\u3001MX \u8bb0\u5f55\u7b49\u3002\u5176\u539f\u7406\u662f\u901a\u8fc7 DNS \u534f\u8bae\u4e0e\u76ee\u6807 DNS \u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\uff0c\u53d1\u9001\u67e5\u8be2\u8bf7\u6c42\u5e76\u63a5\u6536\u54cd\u5e94\uff0c\u6700\u7ec8\u5c06\u54cd\u5e94\u6570\u636e\u8fd4\u56de\u7ed9\u7528\u6237\u3002\\ndig \u547d\u4ee4\u7684\u5e38\u89c1\u7528\u6cd5\u5982\u4e0b\uff1a\\n\\n1. \u67e5\u8be2\u57df\u540d\u5bf9\u5e94\u7684 IP \u5730\u5740\\n\\n```bash\\ndig example.com\\n```\\n\\n\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u901a\u8fc7\u672c\u5730 DNS \u670d\u52a1\u5668\u53bb\u67e5\u8be2 example.com \u7684 IP \u5730\u5740\uff0c\u5e76\u8fd4\u56de\u67e5\u8be2\u7ed3\u679c\u3002\\n\\n2. \u67e5\u8be2 MX \u8bb0\u5f55\\n\\n```bash\\ndig example.com MX\\n```\\n\\n\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u67e5\u8be2 example.com \u7684 MX \u8bb0\u5f55\uff0cMX \u8bb0\u5f55\u7528\u4e8e\u6307\u5b9a\u8be5\u57df\u540d\u7684\u90ae\u4ef6\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u901a\u8fc7\u8be5\u8bb0\u5f55\u67e5\u8be2\u90ae\u4ef6\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u3002\\n\\n3. \u6307\u5b9a DNS \u670d\u52a1\u5668\\n\\n```bash\\ndig example.com @8.8.8.8\\n```\\n\\n\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u6307\u5b9a\u901a\u8fc7 8.8.8.8 \u8fd9\u4e2a DNS \u670d\u52a1\u5668\u53bb\u67e5\u8be2 example.com \u7684 IP \u5730\u5740\u3002\\n\\n4. \u67e5\u8be2\u8be6\u7ec6\u4fe1\u606f\\n\\n```bash\\ndig example.com +trace\\n```\\n\\n\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u663e\u793a\u4ece\u672c\u5730 DNS \u670d\u52a1\u5668\u5f00\u59cb\u5230\u76ee\u6807 DNS \u670d\u52a1\u5668\u7684\u67e5\u8be2\u8def\u5f84\uff0c\u5e76\u5c06\u6240\u6709\u76f8\u5173\u4fe1\u606f\u663e\u793a\u51fa\u6765\uff0c\u5305\u62ec TTL\u3001Authoritative\u3001ANSWER \u7b49\u7b49\u3002\\n\\n\u603b\u4e4b\uff0cdig \u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u4e14\u5f3a\u5927\u7684\u7f51\u7edc\u5de5\u5177\uff0c\u5c24\u5176\u662f\u5728\u8fdb\u884c\u7cfb\u7edf\u7ef4\u62a4\u3001\u7f51\u7edc\u6545\u969c\u6392\u9664\u7b49\u65b9\u9762\u6709\u5f88\u5927\u7684\u5e2e\u52a9\u3002\\n\\n## 7\u3001\u53c2\u8003\u6587\u7ae0\\n\\n1. \u6d45\u8c08dns\u57df\u540d\u89e3\u6790\u8fc7\u7a0b [https://zhuanlan.zhihu.com/p/58108010](https://zhuanlan.zhihu.com/p/58108010)\\n2. [DNS\u9012\u5f52\u67e5\u8be2\u4e0e\u8fed\u4ee3\u67e5\u8be2](https://www.cnblogs.com/qingdaofu/p/7399670.html) [https://www.cnblogs.com/qingdaofu/p/7399670.html](https://www.cnblogs.com/qingdaofu/p/7399670.html)","isLeaf":true},{"key":"/network/10-protocol/02-icmp.md","path":"/network/10-protocol/02-icmp.md","route":"/network/10-protocol/02-icmp.md","leaf":true,"title":"02-icmp","depth":2,"content":"---\\ntags: network\\n---\\n\\n## 1\u3001ICMP \u4ecb\u7ecd\\n\u56e0\u7279\u7f51\u63a7\u5236\u62a5\u6587\u534f\u8bae(ICMP) \u662fTCP/IP \u5957\u4ef6\u7684\u534f\u8bae\u4e4b\u4e00\u3002 \u5b83\u662f\u4e00\u79cd\u7f51\u7edc\u5c42\u534f\u8bae\uff0c\u7528\u4e8e\u5b9e\u73b0\u9519\u8bef\u62a5\u544a\u548c\u7f51\u7edc\u8def\u5f84\u8bca\u65ad\u529f\u80fd\u3002 ICMP \u56de\u4f20\u8bf7\u6c42\u548cICMP \u56de\u4f20\u5e94\u7b54\u6d88\u606f\u901a\u5e38\u79f0\u4e3aping \u6d88\u606f\u3002 ICMP Ping \u662f\u4e00\u4e2a\u6545\u969c\u8bca\u65ad\u5de5\u5177\uff0c\u7528\u4e8e\u6d4b\u8bd5\u7f51\u7edc\u8bbe\u5907\u4e4b\u95f4\u7684\u8fde\u63a5\u3002\\n\\n## 2\u3001Ping \u547d\u4ee4\\nPing\u4e0d\u4f7f\u7528\u7aef\u53e3\uff0c\u800c\u662f\u4f7f\u7528\u534f\u8bae\u3002Ping\u901a\u8fc7\u5c06Internet\u63a7\u5236\u6d88\u606f\u534f\u8bae\uff08ICMP\uff09\u56de\u663e\u8bf7\u6c42\u6570\u636e\u5305\u53d1\u9001\u5230\u76ee\u6807\u4e3b\u673a\u5e76\u7b49\u5f85ICMP\u56de\u663e\u5e94\u7b54\u6765\u8fdb\u884c\u64cd\u4f5c\u3002\u4f46\u662f\uff0c\u51fa\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u901a\u5e38\u4f60\u53ef\u4ee5\u7981\u7528ping\u529f\u80fd\u3002 \u8f6c\u8f7d\u5fc5\u987b\u4fdd\u7559\u672c\u6587\u5730\u5740:http://xiiie.com/html/1301016.html\\n\\n## 3\u3001\u68c0\u67e5 ping \u662f\u5426\u652f\u6301\\n\u901a\u5e38\u60c5\u51b5\u4e0b\uff0cLinux \u7cfb\u7edf\u9ed8\u8ba4\u662f\u5f00\u542f ping \u547d\u4ee4\u7684\uff0c\u9664\u975e\u88ab\u7cfb\u7edf\u7ba1\u7406\u5458\u6216\u8005\u5b89\u5168\u4eba\u5458\u5173\u95ed\u6216\u9650\u5236\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u6cd5\u6765\u68c0\u67e5 Linux \u670d\u52a1\u5668\u662f\u5426\u53ef\u4ee5 ping \u901a\u3002\\n\\n1. \u4f7f\u7528 ping \u547d\u4ee4\u6765\u5c1d\u8bd5 ping \u76ee\u6807\u5730\u5740\uff0c\u5982\u679c\u80fd\u591f ping \u901a\uff0c\u5219\u8bf4\u660e\u670d\u52a1\u5668\u53ef\u4ee5\u6b63\u5e38 ping \u901a\u76ee\u6807\u5730\u5740\uff0c\u5426\u5219\u5219\u8bf4\u660e\u670d\u52a1\u5668\u4e0a\u7684 ping \u547d\u4ee4\u88ab\u9650\u5236\u6216\u7981\u7528\u3002\\n\\n```bash\\nping 39.108.138.156\\n```\\n\\n\u5982\u679c\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\u5305\uff0c\u5219\u8bf4\u660e\u670d\u52a1\u5668\u652f\u6301 ping \u547d\u4ee4\uff0c\u5982\u679c\u65e0\u6cd5\u8fd4\u56de\u6570\u636e\u5305\uff0c\u5219\u8bf4\u660e\u670d\u52a1\u5668\u4e0a\u7684 ping \u547d\u4ee4\u88ab\u7981\u7528\u6216 ping \u76ee\u6807\u5730\u5740\u65f6\u88ab\u9632\u706b\u5899\u9650\u5236\u4e86\u3002\\n\\n2. \u68c0\u67e5\u9632\u706b\u5899\u89c4\u5219\uff0cping \u547d\u4ee4\u9700\u8981 ICMP \u534f\u8bae\u652f\u6301\uff0c\u56e0\u6b64\u5982\u679c\u670d\u52a1\u5668\u7684\u9632\u706b\u5899\u89c4\u5219\u4e2d\u7981\u7528\u4e86 ICMP \u534f\u8bae\uff0c\u5219 ping \u547d\u4ee4\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5 iptables \u9632\u706b\u5899\u89c4\u5219\u4e2d\u662f\u5426\u5b58\u5728 ICMP \u534f\u8bae\u9650\u5236\u89c4\u5219\uff1a\\n\\n```bash\\nsudo iptables -L -v | grep icmp\\n```\\n\\n\u5982\u679c\u8f93\u51fa\u7ed3\u679c\u4e2d\u5305\u542b DROP \u6216 REJECT \u89c4\u5219\uff0c\u5219\u8bf4\u660e ICMP \u534f\u8bae\u88ab\u7981\u7528\u3002\\n\\n3. \u68c0\u67e5 SELinux \u9009\u9879\uff0c\u5982\u679c SELinux \u5f00\u542f\u5e76\u8bbe\u7f6e\u4e3a enforcing \u6a21\u5f0f\uff0c\u5219\u53ef\u80fd\u4f1a\u9650\u5236 ping \u7684\u6267\u884c\u3002\u53ef\u4ee5\u67e5\u770b /etc/selinux/config \u6587\u4ef6\u4e2d\u7684 SELINUX \u9009\u9879\u662f\u5426\u4e3a enforcing\uff1a\\n\\n```bash\\ncat /etc/selinux/config | grep SELINUX\\n```\\n\\n\u5982\u679c\u8f93\u51fa\u7ed3\u679c\u4e2d SELINUX=enforcing\uff0c\u5219\u8bf4\u660e SELinux \u6a21\u5f0f\u4e3a enforcing \u6a21\u5f0f\uff0c\u9700\u8981\u7981\u7528\u6216\u4fee\u6539 SELinux \u914d\u7f6e\u3002\\n\\n\u6ce8\u610f\uff1a\u5982\u679c\u60a8\u6ca1\u6709 root \u6743\u9650\u6216\u8005\u65e0\u6cd5\u8bbf\u95ee\u670d\u52a1\u5668\uff0c\u5219\u53ef\u80fd\u65e0\u6cd5\u786e\u5b9a\u7cfb\u7edf\u662f\u5426\u5bf9 ping \u547d\u4ee4\u8fdb\u884c\u4e86\u9650\u5236\u3002\\n","isLeaf":true},{"key":"/network/10-protocol/03-ssh.md","path":"/network/10-protocol/03-ssh.md","route":"/network/10-protocol/03-ssh.md","leaf":true,"title":"03-ssh","depth":2,"content":"---\\ntags: network\\n---\\n\\nSSH \u4e3a [Secure Shell](https://baike.baidu.com/item/Secure%20Shell) \u7684\u7f29\u5199\uff0c\u5b89\u5168\u5916\u58f3\u534f\u8bae\uff0c\u4e13\u4e3a [\u8fdc\u7a0b\u767b\u5f55](https://baike.baidu.com/item/%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95/1071998) \u4f1a\u8bdd\u548c\u5176\u4ed6\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5b89\u5168\u6027\u7684\u534f\u8bae\u3002\\n### 1. SSH \u5b58\u5728\u7684\u610f\u4e49\\n\\n- \u6570\u636e\u538b\u7f29\\n- \u6570\u636e\u52a0\u5bc6\\n\\n\u4f20\u7edf\u7684\u7f51\u7edc\u670d\u52a1\u7a0b\u5e8f\uff0c\u5982\uff1a[ftp](https://baike.baidu.com/item/ftp)\u3001pop \u548c [telnet](https://baike.baidu.com/item/telnet) \u5728\u672c\u8d28\u4e0a\u90fd\u662f\u4e0d\u5b89\u5168\u7684\uff0c\u56e0\u4e3a\u5b83\u4eec\u5728\u7f51\u7edc\u4e0a\u7528[\u660e\u6587](https://baike.baidu.com/item/%E6%98%8E%E6%96%87)\u4f20\u9001\u53e3\u4ee4\u548c\u6570\u636e\uff0c\u522b\u6709\u7528\u5fc3\u7684\u4eba\u975e\u5e38\u5bb9\u6613\u5c31\u53ef\u4ee5\u622a\u83b7\u8fd9\u4e9b\u53e3\u4ee4\u548c\u6570\u636e\u3002\u5bb9\u6613\u53d7\u5230\u4e2d\u95f4\u4eba\u653b\u51fb\uff0c\u6240\u8c13\u201c\u4e2d\u95f4\u4eba\u201d\u7684\u653b\u51fb\u65b9\u5f0f\uff0c \u5c31\u662f\u201c\u4e2d\u95f4\u4eba\u201d\u5192\u5145\u771f\u6b63\u7684[\u670d\u52a1\u5668](https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8)\u63a5\u6536\u4f60\u4f20\u7ed9\u670d\u52a1\u5668\u7684\u6570\u636e\uff0c\u7136\u540e\u518d\u5192\u5145\u4f60\u628a\u6570\u636e\u4f20\u7ed9\u771f\u6b63\u7684\u670d\u52a1\u5668\u3002\\n\\n\u901a\u8fc7\u4f7f\u7528SSH\uff0c\u4f60\u53ef\u4ee5\u628a\u6240\u6709\u4f20\u8f93\u7684\u6570\u636e\u8fdb\u884c\u52a0\u5bc6\uff0c\u8fd9\u6837\\"\u4e2d\u95f4\u4eba\\"\u8fd9\u79cd\u653b\u51fb\u65b9\u5f0f\u5c31\u4e0d\u53ef\u80fd\u5b9e\u73b0\u4e86\uff0c\u800c\u4e14\u4e5f\u80fd\u591f\u9632\u6b62DNS\u6b3a\u9a97\u548cIP\u6b3a\u9a97\u3002\u4f7f\u7528SSH\uff0c\u8fd8\u6709\u4e00\u4e2a\u989d\u5916\u7684\u597d\u5904\u5c31\u662f\u4f20\u8f93\u7684\u6570\u636e\u662f\u7ecf\u8fc7\u538b\u7f29\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u52a0\u5feb\u4f20\u8f93\u7684[\u901f\u5ea6](https://baike.baidu.com/item/%E9%80%9F%E5%BA%A6/5456)\u3002SSH\u6709\u5f88\u591a\u529f\u80fd\uff0c\u5b83\u65e2\u53ef\u4ee5\u4ee3\u66ff [Telnet](https://baike.baidu.com/item/Telnet)\uff0c\u53c8\u53ef\u4ee5\u4e3a[FTP](https://baike.baidu.com/item/FTP)\u3001[PoP](https://baike.baidu.com/item/PoP)\u3001\u751a\u81f3\u4e3a[PPP](https://baike.baidu.com/item/PPP)\u63d0\u4f9b\u4e00\u4e2a\u5b89\u5168\u7684\\"\u901a\u9053\\" [1]  \u3002\\n\\n### 2. SSH \u7ec4\u6210\u7ed3\u6784\\n\\n- \u4f20\u8f93\u5c42\u534f\u8bae [SSH-TRANS]\uff1a\u901a\u5e38\u8fd0\u884c\u5728[TCP/IP](https://baike.baidu.com/item/TCP%2FIP)\u8fde\u63a5\u4e0a\\n- \u7528\u6237\u8ba4\u8bc1\u534f\u8bae [SSH-USERAUTH]\uff1a\u7528\u4e8e\u5411\u670d\u52a1\u5668\u63d0\u4f9b\u5ba2\u6237\u7aef\u7528\u6237\u9274\u522b\u529f\u80fd\u3002\\n- \u8fde\u63a5\u534f\u8bae [SSH-CONNECT]\uff1a\u5c06\u591a\u4e2a\u52a0\u5bc6\u96a7\u9053\u5206\u6210\u903b\u8f91\u901a\u9053\u3002\u5b83\u8fd0\u884c\u5728\u7528\u6237\u8ba4\u8bc1\u534f\u8bae\u4e0a\u3002\u5b83\u63d0\u4f9b\u4e86\u4ea4\u4e92\u5f0f\u767b\u5f55\u8bdd\u8def\u3001\u8fdc\u7a0b\u547d\u4ee4\u6267\u884c\u3001\u8f6c\u53d1 TCP/IP \u8fde\u63a5\u548c\u8f6c\u53d1 X11 \u8fde\u63a5\u3002\\n\\n### 3. \u7528\u6237\u8ba4\u8bc1\u65b9\u5f0f\\n\\n- \u7b2c\u4e00\u79cd\u7ea7\u522b\uff08\u57fa\u4e8e\u53e3\u4ee4\u7684\u5b89\u5168\u9a8c\u8bc1\uff09\\n- \u7b2c\u4e8c\u79cd\u7ea7\u522b\uff08\u57fa\u4e8e\u5bc6\u5319\u7684\u5b89\u5168\u9a8c\u8bc1\uff09","isLeaf":true},{"key":"/network/10-protocol/04-url.md","path":"/network/10-protocol/04-url.md","route":"/network/10-protocol/04-url.md","leaf":true,"title":"04-url","depth":2,"content":"---\\ntags: network\\n---\\n\\n```\\nfoo://example.com:8042/over/there?name=ferret#nose\\n\xa0 \xa0\\\\_/ \\\\______________/ \\\\________/\\\\_________/ \\\\__/\\n\xa0 \xa0\xa0|\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 |\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 |\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 |\xa0\xa0\xa0\xa0\xa0\xa0\xa0 |\\n\xa0 scheme\xa0\xa0\xa0\xa0 authority \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0path \xa0 \xa0 \xa0query\xa0\xa0 fragment\\n```\\n\\n\\nscheme \u4e5f\u53ef\u4ee5\u6210\u4e3a protocol\u3002example.com\u88ab\u79f0\u4e3a hostname\u3002\\n\\n## **\u54ea\u4e9b\u5b57\u7b26\u9700\u8981URL\u7f16\u7801**\\n\\n- `#`\\n- `&`","isLeaf":true},{"key":"/network/10-protocol/05-websocket.md","path":"/network/10-protocol/05-websocket.md","route":"/network/10-protocol/05-websocket.md","leaf":true,"title":"05-websocket","depth":2,"content":"---\\ntags: network\\n---\\n\\n\u901a\u8fc7 HTTP \u534f\u8bae\u6765\u5efa\u7acb\u8fde\u63a5\\n\\n### 1. WebSocket \u901a\u8fc7HTTP\u534f\u8bae\u8fde\u63a5\\nWebSocket\u534f\u8bae\u5728\u5efa\u7acb\u8fde\u63a5\u65f6\u4f1a\u4f7f\u7528HTTP\u534f\u8bae\uff0c\u610f\u5473\u7740 WebSocket \u534f\u8bae\u662f\u57fa\u4e8eHTTP\u534f\u8bae\u5b9e\u73b0\u7684\\n\\n### 2. WebSocket\u662f\u5e94\u7528\u5c42\u534f\u8bae\\nWebSocket\u662f\u57fa\u4e8eTCP\u7684\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u7528\u4e8e\u5728C/S\u67b6\u6784\u7684\u5e94\u7528\u4e2d\u5b9e\u73b0\u53cc\u5411\u901a\u4fe1\uff0c\u5173\u4e8eWebSocket\u534f\u8bae\u7684\u8be6\u7ec6\u89c4\u8303\u548c\u5b9a\u4e49\u53c2\u89c1 [rfc6455](https://tools.ietf.org/html/rfc6455)\u3002\\n\\n![20230619112051](http://s3.airtlab.com/blog/20230619112051.png)\\n\\n\\n### 3. \u8fde\u63a5\u8fc7\u7a0b\\n\\n![20230619112102](http://s3.airtlab.com/blog/20230619112102.png)\\n\\n- Connection: Connection \u5fc5\u987b\u8bbe\u7f6e\u4e3aUpgrade\uff0c\u8868\u793a\u5ba2\u6237\u7aef\u5e0c\u671b\u8fde\u63a5\u5347\u7ea7\\n- Upgrade: Upgrade \u5fc5\u987b\u8bbe\u7f6e\u4e3a WebSocket\uff0c\u8868\u793a\u5728\u53d6\u5f97\u670d\u52a1\u5668\u54cd\u5e94\u4e4b\u540e\uff0c\u4f7f\u7528HTTP\u5347\u7ea7\u5c06HTTP\u534f\u8bae\u8f6c\u6362(\u5347\u7ea7)\u4e3aWebSocket\u534f\u8bae\u3002\\n- Sec-WebSocket-key: \u968f\u673a\u5b57\u7b26\u4e32\uff0c\u7528\u4e8e\u9a8c\u8bc1\u534f\u8bae\u662f\u5426\u4e3aWebSocket\u534f\u8bae\u800c\u975eHTTP\u534f\u8bae\\n- Sec-WebSocket-Version: \u8868\u793a\u4f7f\u7528WebSocket\u7684\u54ea\u4e00\u4e2a\u7248\u672c\u3002\\n- Sec-WebSocket-Accept: \u6839\u636eSec-WebSocket-Accept\u548c\u7279\u6b8a\u5b57\u7b26\u4e32\u8ba1\u7b97\u3002\u9a8c\u8bc1\u534f\u8bae\u662f\u5426\u4e3aWebSocket\u534f\u8bae\u3002\\n- Sec-WebSocket-Location: \u4e0eHost\u5b57\u6bb5\u5bf9\u5e94\uff0c\u8868\u793a\u8bf7\u6c42WebSocket\u534f\u8bae\u7684\u5730\u5740\u3002\\n- HTTP/1.1 101 Switching Protocols:101 \u72b6\u6001\u7801\u8868\u793a\u5347\u7ea7\u534f\u8bae\uff0c\u5728\u8fd4\u56de101\u72b6\u6001\u7801\u540e\uff0cHTTP\u534f\u8bae\u5b8c\u6210\u5de5\u4f5c\uff0c\u8f6c\u6362\u4e3aWebSocket\u534f\u8bae\u3002\u6b64\u65f6\u5c31\u53ef\u4ee5\u8fdb\u884c\u5168\u53cc\u5de5\u53cc\u5411\u901a\u4fe1\u4e86\u3002","isLeaf":true},{"key":"/network/10-protocol/06-udp.md","path":"/network/10-protocol/06-udp.md","route":"/network/10-protocol/06-udp.md","leaf":true,"title":"06-udp","depth":2,"content":"---\\ntags: network\\n---\\n\\n### 1. UDP \u534f\u8bae\u7279\u70b9\\n1\u3001UDP\u662f\u65e0\u8fde\u63a5\u7684\uff0c\u53d1\u9001\u6570\u636e\u4e4b\u524d\u4e0d\u9700\u8981\u5efa\u7acb\u8fde\u63a5\uff08\u4e5f\u6ca1\u6709\u8fde\u63a5\u53ef\u91ca\u653e\uff09\uff0c\u51cf\u5c11\u4e86\u5f00\u9500\u548c\u53d1\u9001\u6570\u636e\u4e4b\u524d\u7684\u65f6\u5ef6\uff1b\\n2\u3001UDP\u4f7f\u7528\u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\uff0c\u5373\u4e0d\u4fdd\u8bc1\u53ef\u9760\u4ea4\u4ed8\uff0c\u56e0\u6b64\u4e3b\u673a\u4e0d\u9700\u8981\u7ef4\u6301\u590d\u6742\u7684\u8fde\u63a5\u72b6\u6001\u8868\uff1b\\n3\u3001UDP\u662f\u9762\u5411\u62a5\u6587\u7684\u3002\u53d1\u9001\u65b9\u7684UDP\u5bf9\u5e94\u7528\u7a0b\u5e8f\u4ea4\u4e0b\u6765\u7684\u62a5\u6587\uff0c\u5728\u6dfb\u52a0\u9996\u90e8\u540e\u5c31\u5411\u4e0b\u4ea4\u4ed8IP\u5c42\u3002UDP\u5bf9\u5e94\u7528\u5c42\u4ea4\u4e0b\u6765\u7684\u62a5\u6587\uff0c\u65e2\u4e0d\u5408\u5e76\uff0c\u4e5f\u4e0d\u62c6\u5206\uff0c\u800c\u662f\u4fdd\u7559\u8fd9\u4e9b\u62a5\u6587\u7684\u8fb9\u754c\uff1b\\n4\u3001UDP\u6ca1\u6709\u62e5\u585e\u63a7\u5236\uff0c\u56e0\u6b64\u7f51\u7edc\u51fa\u73b0\u7684\u62e5\u585e\u4e0d\u4f1a\u4f7f\u6e90\u4e3b\u673a\u7684\u53d1\u9001\u901f\u7387\u964d\u4f4e\uff1b\\n5\u3001UDP\u652f\u6301\u4e00\u5bf9\u4e00\u3001\u4e00\u5bf9\u591a\u3001\u591a\u5bf9\u4e00\u548c\u591a\u5bf9\u591a\u7684\u4ea4\u4e92\u901a\u4fe1\uff1b\\n6\u3001UDP\u7684\u9996\u90e8\u5f00\u9500\u5c0f\uff0c\u53ea\u67098\u4e2a\u5b57\u8282\uff0c\u6bd4TCP\u768420\u4e2a\u5b57\u8282\u7684\u9996\u90e8\u8981\u77ed\uff1b\\n### 2. UDP \u62a5\u6587\u683c\u5f0f\\n\\n![20230619112204](http://s3.airtlab.com/blog/20230619112204.png)\\n\\n![20230619112214](http://s3.airtlab.com/blog/20230619112214.png)\\n\\n![20230619112223](http://s3.airtlab.com/blog/20230619112223.png)\\n\\n### 3. \u6821\u9a8c\u548c\u7684\u8ba1\u7b97\\n\u4f2a\u9996\u90e8\u4e0d\u662f\u771f\u5b9e\u5b58\u5728\u7684\uff0c\u5b83\u4e3b\u8981\u7528\u6765\u8ba1\u7b97\u6821\u9a8c\u548c\uff1a\\n\\n![20230619112244](http://s3.airtlab.com/blog/20230619112244.png)\\n\\n![20230619112255](http://s3.airtlab.com/blog/20230619112255.png)","isLeaf":true}]},{"key":"/network/TCP-packet-fragmentation.md","path":"/network/TCP-packet-fragmentation.md","route":"/network/TCP-packet-fragmentation.md","leaf":true,"title":"TCP-packet-fragmentation","depth":1,"content":"---\\ntags: network\\n---\\n\\n> [\u5173\u4e8eTCP\u7c98\u5305\u95ee\u9898\u7684\u7ec8\u7ed3] https://zhuanlan.zhihu.com/p/157887818\\n\\n## 1\u3001TCP packet fragmentation\\n\\nTCP packet fragmentation \u662f\u6307\u5728TCP/IP \u534f\u8bae\u4e2d\uff0c\u7531\u4e8e\u7f51\u7edc\u4f20\u8f93\u7684\u5ef6\u8fdf\uff0c\u5bfc\u81f4\u591a\u4e2a\u6570\u636e\u5305\u7c98\u5728\u4e00\u8d77\uff0c\u88ab\u4e00\u6b21\u6027\u63a5\u6536\u3002 \u8fd9\u5c31\u4f1a\u5bfc\u81f4\u5e94\u7528\u5c42\u7a0b\u5e8f\u65e0\u6cd5\u6b63\u786e\u89e3\u6790\u6570\u636e\u5305\uff0c\u4ece\u800c\u51fa\u73b0\u95ee\u9898\u3002\u8fd9\u88ab\u56fd\u4eba\u53d1\u660e\u4e3a \u201cTCP \u7c98\u5305\u95ee\u9898\u201d\uff0c\u5b9e\u9645\u4e0a\u8fd9\u538b\u6839\u5c31\u4e0d\u662f\u95ee\u9898\uff0c\u53ea\u662f\u6709\u4e9b\u4eba\u4e0d\u6e05\u695a\u672c\u8d28\u7f62\u4e86\u3002\\n\\nTCP\u7c98\u5305\u6307\u7684\u662f\u5728TCP\u534f\u8bae\u901a\u4fe1\u8fc7\u7a0b\u4e2d\uff0c\u53d1\u9001\u7aef\u8fde\u7eed\u53d1\u9001\u7684\u591a\u4e2a\u6570\u636e\u5305\uff0c\u5728\u63a5\u6536\u7aef\u63a5\u6536\u65f6\u4f1a\u7c98\u5408\u5728\u4e00\u8d77\u5f62\u6210\u4e00\u4e2a\u5927\u6570\u636e\u5305\u7684\u73b0\u8c61\u3002\\n\\nTCP\u534f\u8bae\u662f\u9762\u5411\u6d41\u7684\u4f20\u8f93\u534f\u8bae\uff0c\u53d1\u9001\u7aef\u628a\u5f85\u53d1\u9001\u7684\u6570\u636e\u5212\u5206\u4e3a\u591a\u4e2a\u6570\u636e\u6bb5\u6765\u53d1\u9001\uff0c\u6bcf\u4e2a\u6570\u636e\u6bb5\u6709\u81ea\u5df1\u7684TCP\u5934\u90e8\u4fe1\u606f\u3002\u5f53\u53d1\u9001\u7aef\u5728\u77ed\u65f6\u95f4\u5185\u5411\u63a5\u6536\u7aef\u8fde\u7eed\u53d1\u9001\u591a\u4e2a\u5c0f\u6570\u636e\u5305\u65f6\uff0c\u7531\u4e8eTCP\u534f\u8bae\u662fIP\u5c42\u9762\u4e0a\u7684\u6570\u636e\u62a5\u6587\u670d\u52a1\uff0c\u5b83\u53ea\u8d1f\u8d23\u6570\u636e\u7684\u5206\u5305\u548c\u7ec4\u5305\uff0c\u4e0d\u505a\u5904\u7406\u3002\u8fd9\u4f1a\u5bfc\u81f4\u5728\u63a5\u6536\u7aef\uff0c\u591a\u4e2a\u5c0f\u6570\u636e\u5305\u5728\u63a5\u6536\u7f13\u51b2\u533a\u4e2d\u7d27\u5bc6\u7684\u6392\u5217\u5728\u4e00\u8d77\uff0c\u7531\u4e8e\u6ca1\u6709\u660e\u786e\u7684\u8fb9\u754c\u6807\u5fd7\u8868\u793a\u54ea\u4e9b\u6570\u636e\u5c5e\u4e8e\u4e00\u4e2a\u6d88\u606f\uff0c\u6240\u4ee5\u5728\u5e94\u7528\u5c42\u5bf9\u6570\u636e\u8fdb\u884c\u89e3\u6790\u65f6\uff0c\u53ef\u80fd\u5c06\u591a\u4e2a\u5c0f\u6570\u636e\u5305\u8bef\u89e3\u4e3a\u4e00\u4e2a\u5927\u7684\u6570\u636e\u5305\uff0c\u6b64\u73b0\u8c61\u5c31\u662fTCP\u7c98\u5305\u3002\\n\\nTCP\u7c98\u5305\u4f1a\u5bfc\u81f4\u4f20\u8f93\u7684\u6570\u636e\u5305\u51fa\u73b0\u6df7\u6dc6\uff0c\u7279\u522b\u662f\u5728\u6570\u636e\u5305\u4e2d\u5305\u542b\u4e86\u547d\u4ee4\u4fe1\u606f\u65f6\uff0c\u53ef\u80fd\u4f1a\u5f71\u54cd\u7cfb\u7edf\u7684\u6b63\u5e38\u8fd0\u884c\u3002\u89e3\u51b3TCP\u7c98\u5305\u95ee\u9898\u7684\u65b9\u5f0f\uff0c\u4e00\u822c\u90fd\u662f\u5728\u5e94\u7528\u5c42\u8fdb\u884c\u62c6\u5305\u548c\u5c01\u5305\u5904\u7406\uff0c\u4ee5\u4fbf\u5e94\u7528\u7a0b\u5e8f\u80fd\u6b63\u786e\u5904\u7406\u591a\u4e2a\u5c0f\u6570\u636e\u5305\u3002\\n\\n## 2\u3001\u7279\u6027\u6f14\u793a\\n\\n**client.js**\\n```js\\nconst net = require(\'net\');\\n\\nconst client = net.createConnection({ port: 8080 }, () => {\\n  console.log(\'connected to server!\');\\n});\\n\\nlet data = \'\';\\nclient.on(\'data\', (chunk) => {\\n  // \u8fd9\u91cc\u53ea\u89e6\u53d1\u4e86\u4e00\u6b21 hello_world\\n  console.log(\'data\', chunk.toString());\\n});\\n\\nclient.on(\'end\', () => {\\n  console.log(\'disconnected from server\');\\n});\\n```\\n\\n**server.js**\\n```javascript\\nconst net = require(\'net\');\\n\\nconst server = net.createServer((socket) => {\\n  console.log(\'client connected\');\\n  socket.write(\'hello_\');\\n  socket.write(\'world\');\\n});\\n\\nserver.listen(8080, () => {\\n  console.log(\'server started\');\\n});\\n```\\n\\n## 3\u3001\u89e3\u51b3\u65b9\u6848\\n\\n\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u65b9\u6cd5\u6709\u5f88\u591a, \u5305\u62ec\uff1a\\n- \u4f7f\u7528\u6d88\u606f\u5934\u6765\u6307\u793a\u6570\u636e\u5305\u7684\u957f\u5ea6\\n- \u5728\u670d\u52a1\u7aef\u5199\u5165\u5206\u9694\u7b26\u6765\u8868\u793a\u6570\u636e\u5305\u7684\u8fb9\u754c\\n\\n### 1. \u4f7f\u7528\u6d88\u606f\u5934\u6765\u6307\u793a\u6570\u636e\u5305\u7684\u957f\u5ea6\\n\\n### 2. \u5199\u5165\u5206\u9694\u7b26\u6765\u8868\u793a\u6570\u636e\u5305\u7684\u8fb9\u754c","isLeaf":true}]},{"key":"/nodejs","path":"/nodejs","route":"/nodejs","leaf":false,"title":"nodejs","depth":0,"content":"","isLeaf":false,"children":[{"key":"/nodejs/01-nodejs-basic","path":"/nodejs/01-nodejs-basic","route":"/nodejs/01-nodejs-basic","leaf":false,"title":"01-nodejs-basic","depth":1,"content":"","isLeaf":false,"children":[{"key":"/nodejs/01-nodejs-basic/01-npm-usage.md","path":"/nodejs/01-nodejs-basic/01-npm-usage.md","route":"/nodejs/01-nodejs-basic/01-npm-usage.md","leaf":true,"title":"01-npm-usage","depth":2,"content":"---\\ntitle: 01 npm \u7528\u6cd5\u7b14\u8bb0\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n## 1\u3001\u8bbe\u7f6e\u955c\u50cf\u5730\u5740\\n\\n\u7528\u6237\u7ea7\u522b `npm` \u914d\u7f6e\u6587\u4ef6\u4e00\u822c\u5728 `~/.npmrc`\uff0c\u53ef\u4ee5\u624b\u52a8\u6253\u5f00\u5e76\u4fee\u6539\uff1a\\n\\n```text\\n;;;;\\n; npm userconfig file: /Users/xxx/.npmrc\\n; this is a simple ini-formatted file\\n; lines that start with semi-colons are comments\\n; run `npm help 7 config` for documentation of the various options\\n;\\n; Configs like `@scope:registry` map a scope to a given registry url.\\n;\\n; Configs like `//<hostname>/:_authToken` are auth that is restricted\\n; to the registry host specified.\\n\\nhome=https://www.npmjs.org\\nregistry=https://npm.shopee.io/ # \u8bbe\u7f6e\u4ed3\u5e93\u5730\u5740\\n```\\n\\n\u6216\u8005\u901a\u8fc7 `npm config` \u547d\u4ee4\u6253\u5f00\u6587\u4ef6:\\n\\n```bash\\nnpm config edit\\n```\\n\\n\u6216\u8005\u76f4\u63a5\u4f7f\u7528 `npm config` \u547d\u4ee4\u8fdb\u884c\u4fee\u6539\uff1a\\n\\n```text\\nUsage:\\nnpm config set <key>=<value> [<key>=<value> ...]\\nnpm config get [<key> [<key> ...]]\\nnpm config delete <key> [<key> ...]\\nnpm config list [--json]\\nnpm config edit\\n```\\n\\n\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u65b0\u5efa `.npmrc` \u6587\u4ef6\u8fdb\u884c\u5c40\u90e8\u8986\u76d6\uff1a\\n\\n```text\\nregistry=https://registry.npmjs.org/\\n```\\n\\n## 2\u3001\u5b89\u88c5\u672c\u5730 npm \u5305\\n\\n```bash\\nnpm install [path]\\n```\\n\\n\u6bd4\u5982\u5b89\u88c5\u4e0b\u9762\u7684 sleep \u5305\uff0c\u53ef\u4ee5\u901a\u8fc7 `npm install ~/Desktop/sleep` \u8fdb\u884c\u5b89\u88c5\uff0c\u5176\u76ee\u5f55\u5730\u5740\u4e3a `~/Desktop/sleep`\u3002\\n\\n![20230404152959](http://s3.airtlab.com/blog/20230404152959.png)\\n\\n```js\\nconst sleep = () => {\\n  console.log(sleep);\\n};\\nmodule.exports = { sleep };\\n```\\n\\n\u5b89\u88c5\u5b8c\u6210\u540e\uff0c`dependencies` \u4e2d\u663e\u793a `sleep` \u662f\u4e00\u4e2a\u672c\u5730\u6587\u4ef6\uff1a\\n\\n```json\\n{\\n  \\"dependencies\\": {\\n    \\"sleep\\": \\"file:../sleep\\"\\n  }\\n}\\n```\\n\\n`package-lock.json` \u4e5f\u4f1a\u6807\u6ce8\u672c\u5730\u4f9d\u8d56\uff1a\\n\\n```json\\n{\\n  \\"packages\\": {\\n    \\"../sleep\\": {\\n      \\"version\\": \\"1.0.0\\",\\n      \\"license\\": \\"ISC\\"\\n    },\\n    \\"node_modules/sleep\\": {\\n      \\"resolved\\": \\"../sleep\\",\\n      \\"link\\": true\\n    }\\n  }\\n}\\n```\\n\\n## 3\u3001\u67e5\u770b npm \u5168\u5c40\u5305\\n\\n\u6267\u884c `npm -h` \u63d0\u793a\uff1a\\n\\n```shell\\nroot@host ~ %\\nroot@host ~ %\\nroot@host ~ %\\nroot@host ~ %\\nroot@host ~ %\\nroot@host ~ % npm -h\\nnpm <command>\\n\\nUsage:\\n\\nnpm install        install all the dependencies in your project\\nnpm install <foo>  add the <foo> dependency to your project\\nnpm test           run this project\'s tests\\nnpm run <foo>      run the script named <foo>\\nnpm <command> -h   quick help on <command>\\nnpm -l             display usage info for all commands\\nnpm help <term>    search for help on <term>\\nnpm help npm       more involved overview\\n\\nAll commands:\\n\\n    access, adduser, audit, bin, bugs, cache, ci, completion,\\n    config, dedupe, deprecate, diff, dist-tag, docs, doctor,\\n    edit, exec, explain, explore, find-dupes, fund, get, help,\\n    hook, init, install, install-ci-test, install-test, link,\\n    ll, login, logout, ls, org, outdated, owner, pack, ping,\\n    pkg, prefix, profile, prune, publish, query, rebuild, repo,\\n    restart, root, run-script, search, set, set-script,\\n    shrinkwrap, star, stars, start, stop, team, test, token,\\n    uninstall, unpublish, unstar, update, version, view, whoami\\n\\nSpecify configs in the ini-formatted file:\\n    /Users/xiong.gao/.npmrc\\nor on the command line via: npm <command> --key=value\\n\\nMore configuration info: npm help config\\nConfiguration fields: npm help 7 config\\n\\nnpm@8.19.3 /usr/local/lib/node_modules/npm\\n```\\n\\n\u5176\u4e2d\u6700\u5e95\u90e8 `/usr/local/lib/node_modules` \u5c31\u662f\u5168\u5c40\u5305\u7684\u5b89\u88c5\u8def\u5f84\\n\\n## 4\u3001npm link \u7528\u6cd5\\n\\n`npm link` \u5728\u5f00\u53d1 npm \u5305\u8fdb\u884c\u672c\u5730\u8c03\u8bd5\u7684\u65f6\u5019\u4f1a\u5f88\u6709\u7528\uff0c\u5047\u8bbe\u73b0\u5728\u6709\u4e24\u4e2a\u9879\u76ee\uff0cmain \u4e3a\u4e3b\u9879\u76ee\uff0csleep \u4e3a npm \u5305\u9879\u76ee\u3002\\n\\n- \u5728 sleep \u76ee\u5f55\u4e0b\u6267\u884c `npm link`\uff0c\u6b64\u64cd\u4f5c\u4f1a\u5728\u5168\u5c40\u5305\u4e2d\u521b\u5efa\u4e00\u4e2a\u8f6f\u8fde\u63a5\u6307\u5411\u771f\u5b9e\u76ee\u5f55\\n- \u5728 main \u76ee\u5f55\u4e0b\u6267\u884c `npm link sleep`\uff0c\u521b\u5efa\u8f6f\u8fde\u63a5\u5230 node_modules\\n\\n![20230404154920](http://s3.airtlab.com/blog/20230404154920.png)\\n\\n## 5\u3001npx \u7528\u6cd5\\n\\nnpx \u60f3\u8981\u89e3\u51b3\u7684\u4e3b\u8981\u95ee\u9898\uff0c\u5c31\u662f\u8c03\u7528\u9879\u76ee\u5185\u90e8\u5b89\u88c5\u7684\u6a21\u5757\u3002\u6bd4\u5982\uff0c\u9879\u76ee\u5185\u90e8\u5b89\u88c5\u4e86 xxx\uff0c\u5982\u679c\u60f3\u5728\u547d\u4ee4\u884c\u4e0b\u8c03\u7528\uff0c\u5fc5\u987b\u50cf\u4e0b\u9762\u8fd9\u6837\uff1a\\n\\n```shell\\n# \u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u6267\u884c\\n$ node-modules/.bin/xxx --version\\n```\\n\\n\u4f7f\u7528 npx \u53ea\u8981\u50cf\u4e0b\u9762\u8fd9\u6837\u8c03\u7528\u5c31\u884c\u4e86\\n\\n```shell\\nnpx xxx --version\\n```\\n\\n## 6\u3001npm ci \u548c npm install \u533a\u522b\\n\\n- \u5fc5\u987b\u5df2\u7ecf\u5b58\u5728 package-lock.json \u6216 npm-shrinkwrap.json\uff0c\u5426\u5219\u65e0\u6cd5\u4f7f\u7528 npm ci\\n- \u5982\u679c package-lock.json \u4e2d\u7684\u4f9d\u8d56\u9879\u4e0e package.json \u4e2d\u7684\u4f9d\u8d56\u9879\u4e0d\u5339\u914d\uff0c\u5219 npm ci \u5c06\u9000\u51fa\u5e76\u663e\u793a\u9519\u8bef\uff0c\u800c\u4e0d\u662f\u66f4\u65b0 package-lock.json\\n- npm ci \u4e00\u6b21\u53ea\u80fd\u5b89\u88c5\u6574\u4e2a\u9879\u76ee\uff0c\u65e0\u6cd5\u6dfb\u52a0\u5355\u4e2a\u4f9d\u8d56\u9879\\n- npm ci \u5f00\u59cb\u5b89\u88c5\u4e4b\u524d\u81ea\u52a8\u5220\u9664 node_modules \u6587\u4ef6\u5939\\n- npm ci \u4e0d\u4f1a\u66f4\u6539 package.json \u548c package-lock.json\\n\\n## 7\u3001npm prune \u7684\u4f5c\u7528\\n\\n\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u80fd\u4f7f\u7528\u4e86\u67d0\u4e9b\u6a21\u5757\uff0c\u800c\u540e\u6765\u7684\u67d0\u4e2a\u73af\u8282\u53ef\u80fd\u53c8\u4e0d\u518d\u4f7f\u7528\u3002\u4f46\u662f npm install \u4e00\u6b21\uff0c\u90fd\u4f1a\u5728 node_modules \u4e2d\u5b58\u7559\u6587\u4ef6\uff0cnode_modules \u76ee\u5f55\u5c31\u4f1a\u53d8\u7684\u81c3\u80bf\u8d77\u6765\uff0cnpm prune \u6b64\u547d\u4ee4\u7684\u529f\u80fd\u662f\u6839\u636e package.json \u91cc\u7684\u4f9d\u8d56\u9879\uff0c\u5220\u9664\u4e0d\u9700\u8981\u7684\u6a21\u5757\u6587\u4ef6\u3002\u5982\u679c --production \u6307\u5b9a\u4e86\u6807\u5fd7\u6216\u5c06 NODE_ENV \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u4e3a production\uff0c\u5219\u6b64\u547d\u4ee4\u5c06\u5220\u9664\u60a8\u7684\u5305\u4e2d\u6307\u5b9a\u7684\u8f6f\u4ef6\u5305 devDependencies\\n\\n```shell\\nnpm prune --production\\n```\\n\\n## 8\u3001peerDependencies \u4f5c\u7528\\n\\n\u5f53\u4e00\u4e2a\u5305\u88ab\u4f9d\u8d56\u65f6\uff0c\u5982\u679c\u5b83\u5728\u5176peer dependency\u4e2d\u58f0\u660e\u4e86\u53e6\u4e00\u4e2a\u4f9d\u8d56\u5305\uff0c\u90a3\u4e48\u8fd9\u4e2a\u4f9d\u8d56\u5305\u7684\u7248\u672c\u548c\u5b89\u88c5\u65b9\u5f0f\u5c06\u88ab\u5ffd\u7565\uff0c\u800c\u662f\u4f7f\u7528\u5f53\u524d\u9879\u76ee\u4e2d\u6216\u7236\u7ea7\u5305\u4e2d\u5df2\u7ecf\u5b89\u88c5\u7684\u76f8\u540c\u7248\u672c\u7684\u4f9d\u8d56\u5305\u3002\\n\\n\u9ed8\u8ba4\u5728\u5b89\u88c5\u4f9d\u8d56\u65f6 peerDependency \u7248\u672c\u4e0d\u4e00\u81f4\u4f1a\u62a5\u9519\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u5ffd\u7565\u3002\\n\\n## 9\u3001npm devDependencies\\n\\n\u6211\u7684\u9879\u76ee\u4f9d\u8d56\u4e86 npm \u5305 b\uff0c \u5f53\u6267\u884c npm install b \u65f6\uff0cb \u91cc\u9762\u7684 devDependencies \u4f1a\u88ab\u81ea\u52a8\u5b89\u88c5\u5417\uff1f\\n\\n\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5f53\u60a8\u8fd0\u884c `npm install b` \u65f6\uff0cnpm \u5c06\u4ec5\u5b89\u88c5\u4f9d\u8d56\u9879\u5217\u8868\u4e2d\u5217\u51fa\u7684\u751f\u4ea7\u73af\u5883\u4f9d\u8d56\u9879\uff0c\u800c\u4e0d\u4f1a\u81ea\u52a8\u5b89\u88c5 `b` \u5305\u4e2d `devDependencies` \u4e2d\u5217\u51fa\u7684\u5f00\u53d1\u73af\u5883\u4f9d\u8d56\u9879\u3002\\n\u5982\u679c\u4f60\u9700\u8981\u540c\u65f6\u5b89\u88c5\u5f00\u53d1\u73af\u5883\u4f9d\u8d56\u9879\uff0c\u4f60\u9700\u8981\u5728\u5b89\u88c5\u65f6\u52a0\u4e0a `--dev` \u6216 `-D` \u53c2\u6570\u6765\u5b89\u88c5\u6240\u6709\u751f\u4ea7\u548c\u5f00\u53d1\u73af\u5883\u4f9d\u8d56\u9879\u3002\\n\\n\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u6765\u540c\u65f6\u5b89\u88c5\u751f\u4ea7\u548c\u5f00\u53d1\u73af\u5883\u4f9d\u8d56\u9879\uff1a\\n\\n```\\nnpm install b --save-dev\\n```\\n\\n\u6216\u8005\u4e5f\u53ef\u4ee5\u7b80\u5199\u4e3a\uff1a\\n\\n```\\nnpm install b -D\\n```\\n\\n\u8fd9\u5c06\u5b89\u88c5 `b` \u4f9d\u8d56\u9879\u548c `b` \u7684\u6240\u6709 `devDependencies` \u4f9d\u8d56\u9879\u3002\\n","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/02-nodejs-version.md","path":"/nodejs/01-nodejs-basic/02-nodejs-version.md","route":"/nodejs/01-nodejs-basic/02-nodejs-version.md","leaf":true,"title":"02-nodejs-version","depth":2,"content":"---\\ntitle: 02 nodejs \u7248\u672c\u7ba1\u7406\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n\u63a8\u8350\u5728 windows \u4e0a\u4f7f\u7528 nvm\uff0c\u5728 mac \u4e0a\u5219\u4f7f\u7528 n\u3002\\n\u4e8c\u8005\u4e3b\u8981\u533a\u522b\u5982\u4e0b\uff1a\\n- n \u4f1a\u5c06 nodejs \u5b89\u88c5\u4e3a\u5168\u5c40\u7248\u672c\uff0c\u56e0\u6b64\u6709\u53ef\u80fd\u5728\u5207\u6362 node \u7248\u672c\u540e\uff0c\u53d1\u751f\u5168\u5c40\u6a21\u5757\u6267\u884c\u51fa\u9519\u7684\u95ee\u9898\uff1b\\n- nvm \u5219\u4f1a\u5c06\u5168\u5c40\u6a21\u5757\u5b58\u5728\u4e8e\u5404\u81ea\u7248\u672c\u7684\u6c99\u7bb1\u4e2d\uff0c\u5207\u6362\u7248\u672c\u540e\u9700\u8981\u91cd\u65b0\u5b89\u88c5\uff0c\u4e0d\u540c\u7248\u672c\u95f4\u4e5f\u4e0d\u5b58\u5728\u4efb\u4f55\u51b2\u7a81\uff1b\\n\\n\u5bf9\u4e8e `node` \u53ef\u6267\u884c\u6587\u4ef6\u7684\u4f4d\u7f6e:\\n- n \u5b58\u653e\u5230 `/usr/local/bin`\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u5c31\u80fd\u8bbf\u95ee\\n- nvm \u5219\u9700\u8981\u624b\u52a8\u6307\u5b9a\u8def\u5f84\u3002\\n\\n## 1. nvm\\nnvm \u5168\u540d Node.js Version Management\uff0c\u5728 macOS\u3001Linux\uff08\u5305\u62ec\u9002\u7528\u4e8e Linux \u7684 Windows \u5b50\u7cfb\u7edf\uff09\u548c\u5404\u79cd\u5176\u4ed6\u7c7b Unix \u7cfb\u7edf\u4e0a\u5747\u53d7\u652f\u6301\u3002\\n\u7531\u4e8e Windows \u652f\u6301\u7a0b\u5ea6\u4e0d\u4f73\uff0c\u793e\u533a\u5b75\u5316\u4e86 nvm-windows \u4f9b Windows \u4f7f\u7528\uff0c\u5b83\u4eec\u96b6\u5c5e\u4e8e\u4e0d\u540c\u7684\u9879\u76ee\uff0c\u76f8\u4e92\u5206\u5f00\u7684\u652f\u6301\u548c\u7ef4\u62a4\u3002\\n\\n- Linux\u3001Mac OS\uff1ahttps://github.com/nvm-sh/nvm\\n- Windows\uff1ahttps://github.com/coreybutler/nvm-windows\\n\\n### 1.1 \u5b89\u88c5\\n#### Mac\\n```shell\\n# \u65b9\u5f0f1 \u6d4f\u89c8\u5668\u6253\u5f00\u4e0b\u9762\u94fe\u63a5\u4e0b\u8f7d\\nhttps://github.com/nvm-sh/nvm/blob/v0.39.1/install.sh\\n# \u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u901a\u8fc7\u547d\u4ee4\u5b89\u88c5\\nsh install.sh\\n\\n# \u65b9\u5f0f2 \u63a8\u8350\\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash\\n\\n# \u65b9\u5f0f3\\nwget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash\\n```\\n\\n#### windows\\n\u53c2\u8003 https://www.freecodecamp.org/chinese/news/node-version-manager-nvm-install-guide/\\n\\n\u6ce8\u610f\uff0c\u5982\u679c\u5728\u5b89\u88c5 nvm \u4e4b\u524d\u5df2\u7ecf\u88c5\u4e86 nodejs\uff0c\u5efa\u8bae\u5148\u5378\u8f7d\u6389\u3002\\n\\n**nvm-setup \u5b89\u88c5**\\n\u8bf7\u8bb0\u4f4f\u5b89\u88c5\u4f4d\u7f6e\uff0c\u540e\u7eed\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u65f6\u65b9\u4fbf\u68c0\u67e5\\n![vnm\u5b89\u88c5\u8def\u5f84](http://s3.airtlab.com/blog/20230224224924.png)\\n\\n![\u94fe\u63a5\u8def\u5f84](http://s3.airtlab.com/blog/20230224224943.png)\\n\\n**\u67e5\u770b\u5b89\u88c5\u8def\u5f84**\\nC:\\\\Users\\\\Administrator\\\\AppData\\\\Roaming\\\\nvm\\n![20230224225211](http://s3.airtlab.com/blog/20230224225211.png)\\n\\n**\u4fee\u6539 setting \u914d\u7f6e\u955c\u50cf**\\n![20230224225244](http://s3.airtlab.com/blog/20230224225244.png)\\n\\n### 1.2 \u4f7f\u7528\\n```shell\\nnvm ls                # \u67e5\u770b\u7248\u672c\u5b89\u88c5\u6240\u6709\u7248\u672c\\nnvm ls-remote         # \u67e5\u770b\u8fdc\u7a0b\u6240\u6709\u7684 Node.js \u7248\u672c\\nnvm install 17.0.0    # \u5b89\u88c5\u6307\u5b9a\u7684 Node.js \u7248\u672c\\nnvm use 17.0.0        # \u4f7f\u7528\u6307\u5b9a\u7684 Node.js \u7248\u672c\\nnvm alias default 17.0.0  # \u8bbe\u7f6e\u9ed8\u8ba4 Node.js \u7248\u672c\\nnvm alias dev 17.0.0  # \u8bbe\u7f6e\u6307\u5b9a\u7248\u672c\u7684\u522b\u540d\uff0c\u5982\u5c06 17.0.0 \u7248\u672c\u522b\u540d\u8bbe\u7f6e\u4e3a dev\\n```\\n\\n## 2. n\\nn \u662f\u4e00\u6b3e\u4ea4\u4e92\u5f0f\u7684 Node.js \u7248\u672c\u7ba1\u7406\u5de5\u5177\uff0c\u6ca1\u6709\u5b50\u811a\u672c\uff0c\u6ca1\u6709\u914d\u7f6e\u6587\u4ef6\uff0c\u4e5f\u6ca1\u6709\u590d\u6742\u7684 API\uff0c\u4f7f\u7528\u8d77\u6765\u975e\u5e38\u7b80\u5355\u3002\\nn \u53ea\u9002\u7528\u4e8e macOS \u548c Linux \uff0c\u4e0d\u9002\u7528\u4e8e Windows\u3002\\n### 2.1 \u5b89\u88c5\\n\\n```shell\\nnpm install n -g\\n```\\n\\n### 2.2 \u4f7f\u7528\\n```shell\\nn          # \u663e\u793a\u6240\u6709\u5df2\u4e0b\u8f7d\u7248\u672c\\nn 10.16.0  # \u4e0b\u8f7d\u6307\u5b9a\u7248\u672c\\nn lts      # \u67e5\u770b\u8fdc\u7a0b\u6240\u6709 LTS Node.js \u7248\u672c\\nn run 10.16.0 # \u8fd0\u884c\u6307\u5b9a\u7684 Node.js \u7248\u672c\\n```","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/03-nodejs-debug.md","path":"/nodejs/01-nodejs-basic/03-nodejs-debug.md","route":"/nodejs/01-nodejs-basic/03-nodejs-debug.md","leaf":true,"title":"03-nodejs-debug","depth":2,"content":"---\\ntitle: 03 nodejs \u4ee3\u7801\u8c03\u8bd5\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n\u76ee\u6807\uff1a\u638c\u63e1\u7a0b\u5e8f\u7684\u8c03\u8bd5\u6280\u5de7\\n\\n## 1\u3001\u5f00\u542f\u8c03\u8bd5\u6a21\u5f0f\\n\\n\u5728\u8c03\u8bd5\u4e4b\u524d\u6211\u4eec\u5148\u521d\u59cb\u5316\u4e00\u4e2a\u5de5\u7a0b\uff1a\\n```shell\\n$ npm init -y\\n$ npm install --save koa koa-route\\n```\\n\\n```js\\n// app.js\\nconst Koa = require(\'koa\');\\nconst router = require(\'koa-route\');\\n\\nconst app = new Koa();\\n\\nconst main = ctx => {\\n  debugger\\n  ctx.response.body = \'Hello World\';\\n};\\n\\nconst welcome = (ctx, name) => {\\n  ctx.response.body = \'Hello \' + name;\\n};\\n\\napp.use(router.get(\'/\', main));\\napp.use(router.get(\'/:name\', welcome));\\n\\napp.listen(3000);\\nconsole.log(\'listening on port 3000\');\\n```\\n\\n### 1) 9229\\n\\n\u7aef\u53e3 9229 \u662f\u9ed8\u8ba4\u7684 NodeJS \u8c03\u8bd5\u7aef\u53e3\u3002\u5b83\u5141\u8bb8\u60a8\u5c06\u8bf8\u5982Chrome \u7684 Inspector\u6216 WebStorm \u7684\u8fdc\u7a0b\u8c03\u8bd5\u4e4b\u7c7b\u7684\u8c03\u8bd5\u5de5\u5177\u9644\u52a0\u5230\u4f7f\u7528\u7279\u6b8a\u6807\u5fd7\u8fd0\u884c\u7684 Node \u8fdb\u7a0b\\n\\n### 2) --inspect\\n\\n\u5728\u8fd0\u884c nodejs \u7a0b\u5e8f\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 `--inspect` \u5f00\u59cb\u8c03\u8bd5\u6a21\u5f0f\uff1a\\n```shell\\nnode --inspect app.js\\n```\\n\\n\u7136\u540e\u5c31\u53ef\u4ee5\u901a\u8fc7 `\u6d4f\u89c8\u5668` \u548c `vscode` \u4ee5\u53ca `webstorm` \u7b49UI\u754c\u9762\u8c03\u8bd5\u4e86\u3002 \\n\\n\u542f\u52a8\u540e\u63d0\u793a\uff1a\\n```shell\\n# \u8fd9\u91cc\u63d0\u793a\u8c03\u8bd5\u901a\u9053\u7684\u5730\u5740\u4e3a ws://127.0.0.1:9229/91a04b5e-67bd-4b1a-93c5-9260a75403d2\\nDebugger listening on ws://127.0.0.1:9229/91a04b5e-67bd-4b1a-93c5-9260a75403d2\\nFor help, see: https://nodejs.org/en/docs/inspector\\nlistening on port 3000\\n```\\n\\n### 3) inspect-brk\\n\\n`--inspect-brk` \u6307\u5b9a\u5728\u7b2c\u4e00\u884c\u5c31\u8bbe\u7f6e\u65ad\u70b9\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u5f00\u59cb\u8fd0\u884c\uff0c\u5c31\u662f\u6682\u505c\u7684\u72b6\u6001\u3002\u8fd9\u5bf9\u5728 chrome \u4e2d\u8c03\u8bd5\u975e\u670d\u52a1\u811a\u672c\u4f1a\u975e\u5e38\u6709\u7528\u3002\u5426\u5219\u5728\u4f60\u8bbe\u7f6e\u65ad\u70b9\u4e4b\u524d\u7a0b\u5e8f\u5c31\u7ed3\u675f\u4e86\u3002\\n\\n## 2\u3001\u4f7f\u7528\u6d4f\u89c8\u5668\u8c03\u8bd5\\n\\n\u4e00\u5171\u6709\u4e24\u79cd\u6253\u5f00\u8c03\u8bd5\u5de5\u5177\u7684\u65b9\u6cd5\uff0c\u7b2c\u4e00\u79cd\u662f\u5728 Chrome \u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\uff0c\u952e\u5165 `chrome://inspect` \u6216\u8005 `about:inspect`\uff0c\u56de\u8f66\u540e\u5c31\u53ef\u4ee5\u770b\u5230\u4e0b\u9762\u7684\u754c\u9762\uff1a\\n\\n![20230225085601](http://s3.airtlab.com/blog/20230225085601.png)\\n\\n\u70b9\u51fb inspect \u94fe\u63a5\uff0c\u5c31\u80fd\u8fdb\u5165\u8c03\u8bd5\u5de5\u5177\u4e86\u3002\\n\\n\u7b2c\u4e8c\u79cd\u65b9\u6cd5\uff0c\u662f\u5728 http://127.0.0.1:3000 \u7684\u7a97\u53e3\u6253\u5f00\\"\u5f00\u53d1\u8005\u5de5\u5177\\"\uff0c\u9876\u90e8\u5de6\u4e0a\u89d2\u6709\u4e00\u4e2a Node \u7684\u7eff\u8272\u6807\u5fd7\uff0c\u70b9\u51fb\u5c31\u53ef\u4ee5\u8fdb\u5165\u3002\\n\\n![20230225085741](http://s3.airtlab.com/blog/20230225085741.png)\\n\\n\u70b9\u51fb\u540e\u8fdb\u5165\uff1a\\n![20230225085820](http://s3.airtlab.com/blog/20230225085820.png)\\n\\n\u5f53\u6211\u4eec\u8bbf\u95ee `http://localhost:3000`\uff0c\u5c31\u4f1a\u8fdb\u5165\u6682\u505c\u5728\u65ad\u70b9\u5904\uff1a\\n![20230225090028](http://s3.airtlab.com/blog/20230225090028.png)\\n\\n### 1) url \u8c03\u8bd5\u5730\u5740\\n\\n\u5047\u82e5 ws \u5730\u5740\u4e3a\uff1aws://127.0.0.1:9229/8e951b59-b730-41dc-a4c0-15da52b71fd3\uff0c\u6709\u4e24\u4e2a\u5f88\u91cd\u8981\u7684\u9875\u9762\u5730\u5740\uff1a\\n\\n- **js_app.html**: `devtools://devtools/bundled/js_app.html?experiments=true&v8only=true&ws=127.0.0.1:9229/8e951b59-b730-41dc-a4c0-15da52b71fd3`\\n\\n- **inspector.html**: `devtools://devtools/bundled/inspector.html?experiments=true&v8only=true&ws=127.0.0.1:9229/8e951b59-b730-41dc-a4c0-15da52b71fd3` \u8bbf\u95ee\u8be5 url \u5373\u53ef\u8fdb\u5165\u8c03\u8bd5\u9875\u9762\\n\\n## 3\u3001\u4f7f\u7528 vscode \u8c03\u8bd5\\n\\n\u521b\u5efa `launch.json ` \u6587\u4ef6, \u683c\u5f0f\u5982\u4e0b\uff1a\\n\\n```json\\n{\\n  \\"version\\": \\"0.2.0\\",\\n  \\"configurations\\": [\\n    // \u914d\u7f6e1\\n    {},\\n    // \u914d\u7f6e2\\n    {}\\n  ]\\n}\\n```\\n\\n### 1) \u8c03\u8bd5 Node.js \u7a0b\u5e8f\\n```json\\n{\\n  \\"version\\": \\"0.2.0\\",\\n  \\"configurations\\": [\\n    {\\n      \\"type\\": \\"pwa-node\\",\\n      \\"request\\": \\"launch\\",\\n      \\"name\\": \\"Launch Javascript Program\\",\\n      \\"skipFiles\\": [\\"<node_internals>/**\\"],\\n      \\"program\\": \\"${workspaceFolder}/node_modules/@vue/cli-service/lib/Service.js\\"\\n    }\\n  ]\\n}\\n```\\n\\n- type: \u5fc5\u586b\u9879\uff0c\u8c03\u8bd5\u7c7b\u578b\uff0c\u5f53\u524d\u4e3a node\uff0c\u5982\u679c\u662f PHP \u8c03\u8bd5\uff0c\u5219\u5728\u5b89\u88c5 PHP \u8c03\u8bd5\u63d2\u4ef6\u540e\u5199 php\uff1b\\n- request: \u5fc5\u586b\u9879\uff0c\u6709\u4e24\u79cd\u7c7b\u578b\uff0c\u5206\u522b\u662f launch \u548c attach\uff0c\u524d\u8005\u7684\u610f\u601d\u5c31\u662f VSCode \u4f1a\u6253\u5f00\u8fd9\u4e2a\u7a0b\u5e8f\u7136\u540e\u8fdb\u5165\u8c03\u8bd5\uff0c\u540e\u8005\u7684\u610f\u601d\u662f\u4f60\u5df2\u7ecf\u6253\u5f00\u4e86\u7a0b\u5e8f\uff0c\u7136\u540e\u63a5\u901a Node.js \u7684\u5185\u90e8\u8c03\u8bd5\u534f\u8bae\u8fdb\u884c\u8c03\u8bd5\uff0c\u5982\u679c\u4f60\u770b\u8fc7\u201cNode.js \u7684\u8c03\u8bd5\u539f\u7406\u201d\u4e00\u6587\uff0c\u5e94\u8be5\u53ef\u4ee5\u5927\u81f4\u7406\u89e3\uff1b\\n- program: \u7a0b\u5e8f\u7684\u542f\u52a8\u5165\u53e3\uff1b\\n\\n\u8fd8\u53ef\u4ee5\u4f7f\u7528\u53e6\u5916\u7684\u914d\u7f6e\u65b9\u5f0f\uff0c\u6253\u5f00 launch.json \u627e\u5230 name \u4e3a \u8c03\u8bd5 Node.js \u7a0b\u5e8f - args \u7684\u6587\u4ef6\uff1a\\n```json\\n{\\n  \\"name\\": \\"\u8c03\u8bd5 Node.js \u7a0b\u5e8f - args\\",\\n  \\"type\\": \\"node\\",\\n  \\"request\\": \\"launch\\",\\n  \\"runtimeExecutable\\": \\"node\\",\\n  \\"args\\": [\\n    \\"${workspaceFolder}/src/index.js\\"\\n  ]\\n}\\n```\\n\\n\u8fd9\u91cc\u5e76\u6ca1\u6709\u91c7\u7528 program \u6765\u63cf\u8ff0\u7a0b\u5e8f\u5165\u53e3\uff0c\u800c\u662f\u901a\u8fc7 runtimeExecutable \u548c args \u7ec4\u5408\u7684\u65b9\u5f0f\u6765\u542f\u52a8\u7a0b\u5e8f:\\n\\n- runtimeExecutable: \u4f7f\u7528\u4ec0\u4e48\u547d\u4ee4\u542f\u52a8\\n- args: \u542f\u52a8\u65f6\u7684\u53c2\u6570\\n\\n\u76f8\u5f53\u4e8e\uff1a\\n```shell\\nnode ${workspaceFolder}/src/index.js\\n```\\n\\n### 2) \u901a\u8fc7npm\u811a\u672c\u542f\u52a8\\n\\n```json\\n{\\n  \\"version\\": \\"0.2.0\\",\\n  \\"configurations\\": [\\n    {\\n      \\"type\\": \\"pwa-node\\",\\n      \\"request\\": \\"launch\\",\\n      \\"name\\": \\"Npm Command\\",\\n      \\"skipFiles\\": [\\"<node_internals>/**\\"],\\n      \\"runtimeExecutable\\": \\"npm\\",\\n      \\"runtimeArgs\\": [\\"run-script\\", \\"build\\"]\\n    }\\n  ]\\n}\\n```\\n\\nruntimeArgs \u662f\u4e3a runtimeExecutable \u73af\u5883\u63d0\u4f9b\u7684\u914d\u7f6e\uff0c\u800c args \u662f\u4e3a\u7a0b\u5e8f\u63d0\u4f9b\u7684\u914d\u7f6e\u3002\u8fd9\u4e2a JSON \u7684\u610f\u601d\u662f\uff1a\\n```shell\\nnpm run build\\n```\\n\\n### 3) \u8c03\u8bd5\u4e00\u4e2a TS Node \u7a0b\u5e8f\\n\\n```json\\n{\\n  \\"version\\": \\"0.2.0\\",\\n  \\"configurations\\": [\\n    {\\n      \\"type\\": \\"node\\",\\n      \\"request\\": \\"launch\\",\\n      \\"name\\": \\"Launch Typescript Program\\",\\n      \\"runtimeArgs\\": [\\"-r\\", \\"ts-node/register\\"],\\n      \\"args\\": [\\"${workspaceFolder}/main.ts\\"]\\n    }\\n  ]\\n}\\n```\\n\\n\u7b49\u540c\u4e8e:\\n```shell\\nnode --inspect-brk=DEBUG_PORT -r ts-node/register $workspaceFolder/main.ts\\n```\\n\\n### 4) \u8c03\u8bd5\u5df2\u542f\u52a8\u7684\u7a0b\u5e8f\\n\\n```json\\n{\\n  \\"type\\": \\"pwa-node\\",\\n  \\"request\\": \\"attach\\",\\n  \\"name\\": \\"Attach\\",\\n  \\"port\\": 9229\\n}\\n```\\n\u4e0a\u9762\u5199\u6b7b\u4e86 9229\uff0c\u4f60\u53ef\u4ee5\u6362\u79cd\u5199\u6cd5\uff1a\\n\\n```json\\n{\\n  \\"type\\": \\"pwa-node\\",\\n  \\"request\\": \\"attach\\",\\n  \\"name\\": \\"Attach\\",\\n  \\"processId\\": \\"${command:PickProcess}\\"\\n}\\n```\\n\\n`${command:PickProcess}` \u4f5c\u4e3a processId \u7684\u503c\uff0cVSCode \u4f1a\u904d\u5386\u6240\u6709\u7684 Node PID \u5217\u51fa\u6765\u8ba9\u4f60\u9009\u62e9\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a\\n![20230225094847](http://s3.airtlab.com/blog/20230225094847.png)\\n\\n\\n### 5) \u8c03\u8bd5\u7f51\u9875\u7684 JS \u4ee3\u7801\\n\u5927\u5bb6\u5e94\u8be5\u5341\u5206\u719f\u6089\u5728 Chrome \u4e2d\u8c03\u8bd5 JS \u4ee3\u7801\uff0c\u4e0d\u8fc7 VSCode \u5141\u8bb8\u4f60\u5728\u5b89\u88c5\u4e86 Debugger for Chrome \u63d2\u4ef6\u540e\uff0c\u76f4\u63a5\u5728 VSCode \u8c03\u8bd5 JS \u4ee3\u7801\uff0c\u8ba9\u4f60\u7684\u4ee3\u7801\u548c\u8c03\u8bd5\u878d\u4e3a\u4e00\u4f53\uff0c\u63d0\u5347\u5f00\u53d1\u4f53\u9a8c\uff1a\\n\\n![20230225095030](http://s3.airtlab.com/blog/20230225095030.png)\\n\\n\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u7b80\u5355\u7684\u914d\u7f6e\u8fdb\u884c\u8c03\u8bd5\uff1a\\n```json\\n{\\n  \\"name\\": \\"\u8c03\u8bd5\u7f51\u9875\u7684 JS \u6587\u4ef6\\",\\n  \\"request\\": \\"launch\\",\\n  \\"type\\": \\"chrome\\",\\n  \\"file\\": \\"${workspaceFolder}/index.html\\"\\n}\\n```\\n\\n\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684 type \u662f chrome\uff0c\u9ed8\u8ba4\u4f1a\u542f\u52a8\u4e00\u4e2a Chrome \u6d4f\u89c8\u5668\uff08\u65b0\u7528\u6237\uff09\u52a0\u8f7d file \u5b57\u6bb5\u5bf9\u5e94\u7684\u6587\u4ef6\u5730\u5740\uff08\u901a\u8fc7 file:// \u534f\u8bae\u52a0\u8f7d\uff09\uff0c\u6587\u4ef6\u4e2d\u7528\u5230\u7684 JS \u90fd\u53ef\u4ee5\u65ad\u70b9\u8c03\u8bd5\u3002\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u8d77\u4e00\u4e2a Web Server \u6765\u8c03\u8bd5 http:// \u534f\u8bae\u7684\u6587\u4ef6\uff0c\u8fd9\u91cc\u5c31\u9700\u8981\u8bbe\u7f6e webRoot \u548c url \u53c2\u6570\u4e86\uff0c\u53ef\u81ea\u884c Google\u3002\\n\\n\\n## 3\u3001\u53c2\u8003\u6587\u6863\\n- [nodejs debugger](https://code.visualstudio.com/docs/nodejs/nodejs-debugging)\\n- [VSCode \u8c03\u8bd5\u4e2d launch.json \u914d\u7f6e\u4e0d\u5b8c\u5168\u6307\u5357](https://www.barretlee.com/blog/2019/03/18/debugging-in-vscode-tutorial/)\\n- [Node \u8c03\u8bd5\u5de5\u5177\u5165\u95e8\u6559\u7a0b](https://www.ruanyifeng.com/blog/2018/03/node-debugger.html)\\n- [\u8ba9\u4f60 nodejs \u6c34\u5e73\u66b4\u589e\u7684 debugger \u6280\u5de7](https://zhuanlan.zhihu.com/p/387270007?utm_source=wechat_session&utm_medium=social&utm_oi=635912988696121344)\\n- [\u5982\u4f55\u5728vscode\u91cc\u9762\u8c03\u8bd5js\u548cnode.js](https://www.cnblogs.com/both-eyes/p/10152142.html)\\n","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/04-nodejs-debug-why.md","path":"/nodejs/01-nodejs-basic/04-nodejs-debug-why.md","route":"/nodejs/01-nodejs-basic/04-nodejs-debug-why.md","leaf":true,"title":"04-nodejs-debug-why","depth":2,"content":"---\\ntitle: 04 nodejs \u8c03\u8bd5\u539f\u7406\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n> \u539f\u6587 \u795e\u5149\u300aJavaScript Debugger \u539f\u7406\u63ed\u79d8\u300b https://zhuanlan.zhihu.com/p/372135871\\n\\n> \u8fd9\u7bc7\u6587\u7ae0\u9996\u5148\u5bf9\u6211\u662f\u6709\u5e2e\u52a9\u7684\uff0c\u4e86\u89e3\u4e00\u4e9b\u6982\u5ff5\uff0c\u4f46\u662f\u4f5c\u8005\u5728\u4ecb\u7ecd \u201c\u89e3\u91ca\u578b\u8bed\u8a00\u7684 debugger\u201d \u539f\u7406\u65f6\u660e\u663e\u662f\u6709\u7eb0\u6f0f\u7684\uff0c\u6ca1\u6709\u8bb2\u5230\u89e3\u91ca\u5668\u662f\u5982\u4f55\u652f\u6301\u4e2d\u65ad\u7684\u3002\u6bd4\u5982\u6211\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a\u6b7b\u5faa\u73af\uff1f\u8fd9\u660e\u663e\u662f\u9519\u8bef\u7684\u3002\u5176\u4e2d\u53ef\u4ee5\u53c2\u8003\u96ea\u78a7\u5927\u4f6c\u7684\u56de\u7b54\uff1a\\n\\n> doodlewind: \u8fd9\u4e2a\u6709\u70b9\u8dd1\u504f\u4e86\u5427\u2026\u2026\u611f\u89c9\u8fd9\u65b9\u9762\u5185\u5bb9\u4e3b\u8981\u5e94\u8be5\u6d89\u53ca step over\u3001step in \u7684\u65f6\u5019\u4f1a\u53d1\u751f\u7684\u4e8b\uff1f\uff08\u6216\u8005\u8bf4\u5f15\u64ce\u662f\u5982\u4f55\u652f\u6301\u8c03\u8bd5\u534f\u8bae\u7684\u3002\uff09\u81f3\u4e8e\u7c7b\u4f3c INT3 \u4e2d\u65ad\u7684\u673a\u5236\uff0c\u8fd9\u5bf9\u89e3\u91ca\u5668\u6765\u8bf4\u786e\u5b9e\u662f\u5fc5\u8981\u7684\uff08\u6bd4\u5982\u5f15\u64ce\u8dd1\u8fdb\u6b7b\u5faa\u73af JS \u4ee3\u7801\u7684\u65f6\u5019\uff0c\u4e5f\u53ef\u4ee5\u54cd\u5e94 ctrl-c \u7684\u4fe1\u53f7\u8df3\u51fa main loop\uff09\uff0c\u4f46\u6211\u4e0d\u592a\u89c9\u5f97\u8fd9\u4e2a\u6982\u5ff5\u5c31\u662f\u8c03\u8bd5\u5668\u7684\u300c\u5e95\u5c42\u539f\u7406\u300d\u2026\u2026[\u6342\u8138]\\n\\n## 1\u3001CPU \u4e2d\u65ad\\n\\ncpu \u53ea\u4f1a\u4e0d\u65ad\u5730\u6267\u884c\u4e0b\u4e00\u6761\u6307\u4ee4\uff0c\u4f46\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u96be\u514d\u8981\u5904\u7406\u4e00\u4e9b\u5916\u90e8\u7684\u6d88\u606f\uff0c\u6bd4\u5982 io\u3001\u7f51\u7edc\u3001\u5f02\u5e38\u7b49\u7b49\uff0c\u6240\u4ee5\u8bbe\u8ba1\u4e86\u4e2d\u65ad\u7684\u673a\u5236\uff0ccpu \u6bcf\u6267\u884c\u5b8c\u4e00\u6761\u6307\u4ee4\uff0c\u5c31\u4f1a\u53bb\u770b\u4e0b\u4e2d\u65ad\u6807\u8bb0\uff0c\u662f\u5426\u9700\u8981\u4e2d\u65ad\u4e86\u3002\u5c31\u50cf event loop \u6bcf\u6b21 loop \u5b8c\u90fd\u8981\u68c0\u67e5\u4e0b\u662f\u5426\u9700\u8981\u6e32\u67d3\u4e00\u6837\u3002\\n\\n## 2\u3001INT \u6307\u4ee4\\n\\ncpu \u652f\u6301 INT \u6307\u4ee4\u6765\u89e6\u53d1\u4e2d\u65ad\uff0c\u4e2d\u65ad\u6709\u7f16\u53f7\uff0c\u4e0d\u540c\u7684\u7f16\u53f7\u6709\u4e0d\u540c\u7684\u5904\u7406\u7a0b\u5e8f\uff0c\u8bb0\u5f55\u7f16\u53f7\u548c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u7684\u8868\u53eb\u505a\u4e2d\u65ad\u5411\u91cf\u8868\u3002\u5176\u4e2d INT 3 (3 \u53f7\u4e2d\u65ad)\u53ef\u4ee5\u89e6\u53d1 debugger\uff0c\u8fd9\u662f\u4e00\u79cd\u7ea6\u5b9a\u3002\\n\\n\u90a3\u4e48\u53ef\u6267\u884c\u6587\u4ef6\u662f\u600e\u4e48\u5229\u7528\u8fd9\u4e2a 3 \u53f7\u4e2d\u65ad\u6765 debugger \u7684\u5462?\u5176\u5b9e\u5c31\u662f\u8fd0\u884c\u65f6\u66ff\u6362\u6267\u884c\u7684\u5185\u5bb9\uff0cdebugger \u7a0b\u5e8f\u4f1a\u5728\u9700\u8981\u8bbe\u7f6e\u65ad\u70b9\u7684\u4f4d\u7f6e\u628a\u6307\u4ee4\u5185\u5bb9\u6362\u6210 INT 3\uff0c\u4e5f\u5c31\u662f 0xCC\uff0c\u8fd9\u5c31\u65ad\u4f4f\u4e86\u3002\u5c31\u53ef\u4ee5\u83b7\u53d6\u8fd9\u65f6\u5019\u7684\u73af\u5883\u6570\u636e\u6765\u505a\u8c03\u8bd5\u3002\\n\\n![20230226204200](http://s3.airtlab.com/blog/20230226204200.png)\\n\\n\u901a\u8fc7\u673a\u5668\u7801\u66ff\u6362\u6210 0xcc (INT 3)\u662f\u628a\u7a0b\u5e8f\u65ad\u4f4f\u4e86\uff0c\u53ef\u662f\u600e\u4e48\u6062\u590d\u6267\u884c\u5462?\u5176\u5b9e\u4e5f\u6bd4\u8f83\u7b80\u5355\uff0c\u628a\u5f53\u65f6\u66ff\u6362\u7684\u673a\u5668\u7801\u8bb0\u5f55\u4e0b\u6765\uff0c\u9700\u8981\u91ca\u653e\u65ad\u70b9\u7684\u65f6\u5019\u518d\u6362\u56de\u53bb\u5c31\u884c\u4e86\u3002\\n\\n\u8fd9\u5c31\u662f\u53ef\u6267\u884c\u6587\u4ef6\u7684 debugger \u7684\u539f\u7406\u4e86\uff0c\u6700\u7ec8\u8fd8\u662f\u9760 cpu \u652f\u6301\u7684\u4e2d\u65ad\u673a\u5236\u6765\u5b9e\u73b0\u7684\u3002\\n\\n## 3\u3001\u4e2d\u65ad\u5bc4\u5b58\u5668\\n\\n\u4e0a\u9762\u8bf4\u7684 debugger \u5b9e\u73b0\u65b9\u5f0f\u662f\u4fee\u6539\u5185\u5b58\u4e2d\u7684\u673a\u5668\u7801\u7684\u65b9\u5f0f\uff0c\u4f46\u6709\u7684\u65f6\u5019\u4fee\u6539\u4e0d\u4e86\u4ee3\u7801\uff0c\u6bd4\u5982 ROM\uff0c\u8fd9\u79cd\u60c5\u51b5\u5c31\u8981\u901a\u8fc7 cpu \u63d0\u4f9b\u7684 4 \u4e2a\u4e2d\u65ad\u5bc4\u5b58\u5668(DR0 - DR3)\u6765\u505a\u4e86\u3002\u8fd9\u79cd\u53eb\u505a\u786c\u4e2d\u65ad\u3002\\n\\n\u603b\u4e4b\uff0cINT 3 \u7684\u8f6f\u4e2d\u65ad\uff0c\u8fd8\u6709\u4e2d\u65ad\u5bc4\u5b58\u5668\u7684\u786c\u4e2d\u65ad\uff0c\u662f\u53ef\u6267\u884c\u6587\u4ef6\u5b9e\u73b0 debugger \u7684\u4e24\u79cd\u65b9\u5f0f\u3002\\n\\n## 4\u3001\u89e3\u91ca\u578b\u8bed\u8a00\u7684 debugger\\n\\n\u7f16\u8bd1\u578b\u8bed\u8a00\u56e0\u4e3a\u76f4\u63a5\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u4e0a\u6267\u884c\uff0c\u6240\u4ee5\u8981\u5229\u7528 cpu \u548c\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e2d\u65ad\u673a\u5236\u548c\u7cfb\u7edf\u8c03\u7528\u6765\u5b9e\u73b0 debugger\u3002\u4f46\u662f\u89e3\u91ca\u578b\u8bed\u8a00\u662f\u81ea\u5df1\u5b9e\u73b0\u4ee3\u7801\u7684\u89e3\u91ca\u6267\u884c\u7684\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u90a3\u4e00\u5957\uff0c\u4f46\u662f\u5b9e\u73b0\u601d\u8def\u8fd8\u662f\u4e00\u6837\u7684\uff0c\u5c31\u662f\u63d2\u5165\u4e00\u6bb5\u4ee3\u7801\u6765\u65ad\u4f4f\uff0c\u652f\u6301\u73af\u5883\u6570\u636e\u7684\u67e5\u770b\u548c\u4ee3\u7801\u7684\u6267\u884c\uff0c\u5f53\u91ca\u653e\u65ad\u70b9\u7684\u65f6\u5019\u5c31\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c\u3002\\n\\n\u6bd4\u5982 javascript \u4e2d\u652f\u6301 debugger \u8bed\u53e5\uff0c\u5f53\u89e3\u91ca\u5668\u6267\u884c\u5230\u8fd9\u4e00\u6761\u8bed\u53e5\u7684\u65f6\u5019\u5c31\u4f1a\u65ad\u4f4f\u3002\\n\\n\u89e3\u91ca\u578b\u8bed\u8a00\u7684 debugger \u76f8\u5bf9\u7b80\u5355\u4e00\u4e9b\uff0c\u4e0d\u9700\u8981\u4e86\u89e3 cpu \u7684 INT 3 \u4e2d\u65ad\u3002\\n\\n> \u8fd9\u4e2a\u6709\u70b9\u8dd1\u504f\u4e86\u5427\u2026\u2026\u611f\u89c9\u8fd9\u65b9\u9762\u5185\u5bb9\u4e3b\u8981\u5e94\u8be5\u6d89\u53ca step over\u3001step in \u7684\u65f6\u5019\u4f1a\u53d1\u751f\u7684\u4e8b\uff1f\uff08\u6216\u8005\u8bf4\u5f15\u64ce\u662f\u5982\u4f55\u652f\u6301\u8c03\u8bd5\u534f\u8bae\u7684\u3002\uff09\u81f3\u4e8e\u7c7b\u4f3c INT3 \u4e2d\u65ad\u7684\u673a\u5236\uff0c\u8fd9\u5bf9\u89e3\u91ca\u5668\u6765\u8bf4\u786e\u5b9e\u662f\u5fc5\u8981\u7684\uff08\u6bd4\u5982\u5f15\u64ce\u8dd1\u8fdb\u6b7b\u5faa\u73af JS \u4ee3\u7801\u7684\u65f6\u5019\uff0c\u4e5f\u53ef\u4ee5\u54cd\u5e94 ctrl-c \u7684\u4fe1\u53f7\u8df3\u51fa main loop\uff09\uff0c\u4f46\u6211\u4e0d\u592a\u89c9\u5f97\u8fd9\u4e2a\u6982\u5ff5\u5c31\u662f\u8c03\u8bd5\u5668\u7684\u300c\u5e95\u5c42\u539f\u7406\u300d\u2026\u2026[\u6342\u8138]\\n\\n## 5\u3001debugger \u5ba2\u6237\u7aef\\n\\n\u4e0a\u9762\u6211\u4eec\u4e86\u89e3\u4e86\u76f4\u63a5\u6267\u884c\u548c\u89e3\u91ca\u6267\u884c\u7684\u4ee3\u7801\u7684 debugger \u5206\u522b\u662f\u600e\u4e48\u5b9e\u73b0\u7684\u3002\u6211\u4eec\u77e5\u9053\u4e86\u4ee3\u7801\u662f\u600e\u4e48\u65ad\u4f4f\u7684\uff0c\u90a3\u4e48\u65ad\u4f4f\u4e4b\u540e\u5462?\u600e\u4e48\u628a\u73af\u5883\u6570\u636e\u66b4\u9732\u51fa\u53bb\uff0c\u600e\u4e48\u6267\u884c\u5916\u90e8\u4ee3\u7801?\\n\\n\u8fd9\u5c31\u9700\u8981 debugger \u5ba2\u6237\u7aef\u4e86\u3002\u6bd4\u5982 v8 \u5f15\u64ce\u4f1a\u628a\u8bbe\u7f6e\u65ad\u70b9\u3001\u83b7\u53d6\u73af\u5883\u4fe1\u606f\u3001\u6267\u884c\u811a\u672c\u7684\u80fd\u529b\u901a\u8fc7 socket \u66b4\u9732\u51fa\u53bb\uff0csocket \u4f20\u9012\u7684\u4fe1\u606f\u683c\u5f0f\u5c31\u662f v8 debug protocol \u3002\\n\\n\u8bbe\u7f6e\u65ad\u70b9\uff1a\\n\\n```json\\n{\\n  \\"seq\\": 117,\\n  \\"type\\": \\"request\\",\\n  \\"command\\": \\"setbreakpoint\\",\\n  \\"arguments\\": {\\n    \\"type\\": \\"function\\",\\n    \\"target\\": \\"f\\"\\n  }\\n}\\n```\\n\\n\u53bb\u6389\u65ad\u70b9\uff1a\\n\\n```json\\n{\\n  \\"seq\\": 117,\\n  \\"type\\": \\"request\\",\\n  \\"command\\": \\"clearbreakpoint\\",\\n  \\"arguments\\": {\\n    \\"type\\": \\"function\\",\\n    \\"breakpoint\\": 1\\n  }\\n}\\n```\\n\\n\u7ee7\u7eed\uff1a\\n\\n```json\\n{\\n  \\"seq\\": 117,\\n  \\"type\\": \\"request\\",\\n  \\"command\\": \\"continue\\"\\n}\\n```\\n\\n\u6267\u884c\u4ee3\u7801\uff1a\\n\\n```json\\n{\\n  \\"seq\\": 117,\\n  \\"type\\": \\"request\\",\\n  \\"command\\": \\"evaluate\\",\\n  \\"arguments\\": { \\"expression\\": \\"1+2\\" }\\n}\\n```\\n\u611f\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u53bb v8 debug protocol \u7684\u6587\u6863\u4e2d\u53bb\u67e5\u770b\u5168\u90e8\u7684\u534f\u8bae\u3002\\n\\n\u57fa\u4e8e\u8fd9\u4e9b\u534f\u8bae\u5c31\u53ef\u4ee5\u63a7\u5236 v8 \u7684 debugger \u4e86\uff0c\u6240\u6709\u7684\u80fd\u591f\u5b9e\u73b0 debugger \u7684\u90fd\u662f\u5bf9\u63a5\u4e86\u8fd9\u4e2a\u534f\u8bae\uff0c\u6bd4\u5982 chrome devtools\u3001vscode debugger \u8fd8\u6709\u5176\u4ed6\u5404\u79cd ide \u7684 debugger\u3002\\n\\n## 6\u3001nodejs \u4ee3\u7801\u7684\u8c03\u8bd5\\n\\nnodejs \u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0 --inspect \u7684 option \u6765\u505a\u8c03\u8bd5(\u4e5f\u53ef\u4ee5\u662f --inspect-brk\uff0c\u8fd9\u4e2a\u4f1a\u5728\u9996\u884c\u5c31\u65ad\u4f4f)\u3002\\n\\n\u5b83\u4f1a\u8d77\u4e00\u4e2a debugger \u7684 websocket \u670d\u52a1\u7aef\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 vscode \u6765\u8c03\u8bd5 nodejs \u4ee3\u7801\uff0c\u4e5f\u53ef\u4ee5\u7528 chrome devtools \u6765\u8c03\u8bd5(\u89c1 nodejs debugger \u6587\u6863)\u3002\\n\\n```bash\\nnode --inspect test.js\\nDebugger listening on ws://127.0.0.1:9229/db309268-623a-4abe-b19a-c4407ed8998d\\nFor help see https://nodejs.org/en/docs/inspector\\n```\\n\\n\u539f\u7406\u5c31\u662f\u5b9e\u73b0\u4e86 v8 debug protocol\u3002\\n\u6211\u4eec\u5982\u679c\u81ea\u5df1\u505a\u8c03\u8bd5\u5de5\u5177\u3001\u505a ide\uff0c\u90a3\u5c31\u8981\u5bf9\u63a5\u8fd9\u4e2a\u534f\u8bae\u3002\\n\\n## 7\u3001debugger adaptor protocol\\n\u4e0a\u9762\u4ecb\u7ecd\u7684 v8 debug protocol \u53ef\u4ee5\u5b9e\u73b0 js \u4ee3\u7801\u7684\u8c03\u8bd5\uff0c\u90a3\u4e48 python\u3001c# \u7b49\u80af\u5b9a\u4e5f\u6709\u81ea\u5df1\u7684\u8c03\u8bd5\u534f\u8bae\uff0c\u5982\u679c\u8981\u5b9e\u73b0 ide\uff0c\u90fd\u8981\u5bf9\u63a5\u4e00\u904d\u592a\u8fc7\u9ebb\u70e6\u3002\u6240\u4ee5\u540e\u6765\u51fa\u73b0\u4e86\u4e00\u4e2a\u4e2d\u95f4\u5c42\u534f\u8bae\uff0cDAP(debugger adaptor protocol)\u3002\\n\\ndebugger adaptor protocol\uff0c \u987e\u540d\u601d\u4e49\uff0c\u5c31\u662f\u9002\u914d\u7684\uff0c\u4e00\u7aef\u9002\u914d\u5404\u79cd debugger \u534f\u8bae\uff0c\u4e00\u7aef\u63d0\u4f9b\u7ed9\u5ba2\u6237\u7aef\u7edf\u4e00\u7684\u534f\u8bae\u3002\u8fd9\u662f\u9002\u914d\u5668\u6a21\u5f0f\u7684\u4e00\u4e2a\u5f88\u597d\u7684\u5e94\u7528\u3002\\n\\n![20230226205040](http://s3.airtlab.com/blog/20230226205040.png)\\n\\n## 8\u3001\u603b\u7ed3\\n\\n\u672c\u6587\u6211\u4eec\u5b66\u4e60\u4e86 debugger \u7684\u5b9e\u73b0\u539f\u7406\u548c\u66b4\u9732\u51fa\u7684\u8c03\u8bd5\u534f\u8bae\u3002\\n\\n\u9996\u5148\u6211\u4eec\u4e86\u89e3\u4e86\u4ee3\u7801\u4e24\u79cd\u8fd0\u884c\u65b9\u5f0f\uff1a\u76f4\u63a5\u6267\u884c\u548c\u89e3\u91ca\u6267\u884c\uff0c\u7136\u540e\u5206\u6790\u4e86\u4e0b\u4e3a\u4ec0\u4e48\u9700\u8981 debugger\u3002\\n\\n\u4e4b\u540e\u63a2\u7d22\u4e86\u76f4\u63a5\u6267\u884c\u7684\u4ee3\u7801\u901a\u8fc7 INT 3 \u7684\u4e2d\u65ad\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0 debugger \u548c\u89e3\u91ca\u578b\u8bed\u8a00\u81ea\u5df1\u5b9e\u73b0\u7684 debugger\u3002\\n\\n\u7136\u540e debugger \u7684\u80fd\u529b\u4f1a\u901a\u8fc7 socket \u66b4\u9732\u7ed9\u5ba2\u6237\u7aef\uff0c\u63d0\u4f9b\u8c03\u8bd5\u534f\u8bae\uff0c\u6bd4\u5982 v8 debug protocol\uff0c\u5404\u79cd\u5ba2\u6237\u7aef\u5305\u62ec chrome devtools\u3001ide \u7b49\u90fd\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u534f\u8bae\u3002\\n\\n\u4f46\u662f\u6bcf\u79cd\u8bed\u8a00\u90fd\u8981\u5b9e\u73b0\u4e00\u6b21\u7684\u8bdd\u592a\u8fc7\u9ebb\u70e6\uff0c\u6240\u4ee5\u540e\u6765\u51fa\u73b0\u4e86\u4e00\u4e2a\u9002\u914d\u5c42\u534f\u8bae\uff0c\u5c4f\u853d\u4e86\u4e0d\u540c\u534f\u8bae\u7684\u533a\u522b\uff0c\u63d0\u4f9b\u7edf\u4e00\u7684\u534f\u8bae\u63a5\u53e3\u7ed9\u5ba2\u6237\u7aef\u7528\u3002\\n\\n\u5e0c\u671b\u8fd9\u7bc7\u6587\u7ae0\u80fd\u591f\u8ba9\u4f60\u7406\u89e3 debugger \u7684\u539f\u7406\uff0c\u5982\u679c\u8981\u5b9e\u73b0\u8c03\u8bd5\u5de5\u5177\u4e5f\u77e5\u9053\u600e\u4e48\u8be5\u600e\u4e48\u53bb\u5bf9\u63a5\u534f\u8bae\u3002\u80fd\u591f\u77e5\u9053 chrome devtools\u3001vscode \u4e3a\u5565\u90fd\u53ef\u4ee5\u8c03\u8bd5 nodejs \u4ee3\u7801\u3002\\n\\n## 9\u3001\u6587\u7ae0\u7ea0\u9519\\n\u5176\u4e2d\u6d89\u53ca\u4e00\u4e9b\u9519\u8bef\u53c2\u8003\u539f\u6587\u8bc4\u8bba -> https://zhuanlan.zhihu.com/p/372135871\xb7","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/05-Character-Encoding.md","path":"/nodejs/01-nodejs-basic/05-Character-Encoding.md","route":"/nodejs/01-nodejs-basic/05-Character-Encoding.md","leaf":true,"title":"05-Character-Encoding","depth":2,"content":"---\\ntitle: 05 \u7406\u89e3\u5b57\u7b26\u7f16\u7801\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n> - ASCII\u7f16\u7801\u8f6c\u6362 https://www.qqxiuzi.cn/bianma/ascii.htm\\n> - Unicode(UTF-8, UTF-16)\u4ee4\u4eba\u6df7\u6dc6\u7684\u6982\u5ff5 https://www.cnblogs.com/kingcat/archive/2012/10/16/2726334.html\\n\\n### 1\u3001ASCII\\nASCII\u7f16\u7801\u8303\u56f4 0x00-0x7F\uff0c\u5373\u5341\u8fdb\u5236\u76840-127\uff0c\u5b9a\u4e49\u4e86128\u4e2a\u5355\u5b57\u8282\u5b57\u7b26\uff0c\u5176\u4e2d\u5305\u542b95\u4e2a\u53ef\u6253\u5370\u5b57\u7b26\uff08\u6570\u5b57\u3001\u5b57\u6bcd\u3001\u7b26\u53f7\uff09\uff0c\u4ee5\u53ca33\u4e2a\u63a7\u5236\u5b57\u7b26\uff08\u4e0b\u8868\u4e2d\u6587\u63cf\u8ff0\u7684\u5b57\u7b26\uff09\u3002\u56fd\u6807\u7801GB18030\u3001\u56fd\u9645\u7801Unicode\u5747\u517c\u5bb9ASCII\u7f16\u7801\u3002\\n\\n### 2\u3001Unicode\\n\u7edf\u4e00\u7801\uff08Unicode\uff09\uff0c\u4e5f\u53eb\u4e07\u56fd\u7801\u3001Unicode\u7684\u6700\u521d\u76ee\u6807\uff0c\u662f\u75281\u4e2a16\u4f4d\u7684\u7f16\u7801\u6765\u4e3a\u8d85\u8fc765000\u5b57\u7b26\u63d0\u4f9b\u6620\u5c04\u3002\u4f46\u8fd9\u8fd8\u4e0d\u591f\uff0c\u5b83\u4e0d\u80fd\u8986\u76d6\u5168\u90e8\u5386\u53f2\u4e0a\u7684\u6587\u5b57\uff0c\u4e5f\u4e0d\u80fd\u89e3\u51b3\u4f20\u8f93\u7684\u95ee\u9898 (implantation head-ache\'s)\uff0c\u5c24\u5176\u5728\u90a3\u4e9b\u57fa\u4e8e\u7f51\u7edc\u7684\u5e94\u7528\u4e2d\u3002\u5df2\u6709\u7684\u8f6f\u4ef6\u5fc5\u987b\u505a\u5927\u91cf\u7684\u5de5\u4f5c\u6765\u7a0b\u5e8f16\u4f4d\u7684\u6570\u636e\u3002 \\n\\n\u56e0\u6b64\uff0cUnicode\u7528\u4e00\u4e9b\u57fa\u672c\u7684\u4fdd\u7559\u5b57\u7b26\u5236\u5b9a\u4e86\u4e09\u5957\u7f16\u7801\u65b9\u5f0f\u3002\u5b83\u4eec\u5206\u522b\u662f`UTF-8`, `UTF-16` \u548c `UTF-32`\u3002\\n\\n\u5728UTF\uff0d8\u4e2d\uff0c\u5b57\u7b26 \u662f\u4ee58\u4f4d\u5e8f\u5217\u6765\u7f16\u7801\u7684\uff0c\u7528\u4e00\u4e2a\u6216\u51e0\u4e2a\u5b57\u8282\u6765\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\u3002\u8fd9\u79cd\u65b9\u5f0f\u7684\u6700\u5927\u597d\u5904\uff0c\u662fUTF\uff0d8\u4fdd\u7559\u4e86ASCII\u5b57\u7b26\u7684\u7f16\u7801\u505a\u4e3a\u5b83\u7684\u4e00\u90e8\u5206\uff0c\u4f8b\u5982\uff0c\u5728 UTF\uff0d8\u548cASCII\u4e2d\uff0c\u201cA\u201d\u7684\u7f16\u7801\u90fd\u662f0x41\u3002\\n\\nUTF\uff0d16\u548cUTF\uff0d32\u5206\u522b\u662fUnicode\u768416\u4f4d\u548c32\u4f4d\u7f16\u7801\u65b9\u5f0f\u3002\u8003\u8651\u5230\u6700\u521d\u7684\u76ee\u7684\uff0c\u901a\u5e38\u8bf4\u7684Unicode\u5c31\u662f\u6307UTF-16\u3002\u5728\u8ba8\u8bbaUnicode\u65f6\uff0c\u641e\u6e05\u695a\u54ea\u79cd\u7f16\u7801\u65b9\u5f0f\u975e\u5e38\u91cd\u8981\u3002Unicdoe\u76f8\u5173\u7684\u6280\u672f\u4ecb\u7ecd\u53c2\u89c1http://www.unicode.org/unicode/standard/principles.html.\\n\\n### 3\u3001UTF8\\n\u53c2\u8003 https://www.zhihu.com/question/23374078\\n![20230226215929](http://s3.airtlab.com/blog/20230226215929.png)\\n\\n> UTF-8\u7684\u7f16\u7801\u65b9\u5f0f\u4e2d\uff0c\u5f53\u8ba1\u7b97\u673a\u8bfb\u52301110XXXX\uff0c\u5c31\u77e5\u9053\u76ee\u524d\u7684\u8fd9\u4e2a\u5b57\u7b26\u5360\u4e863\u4e2a\u5b57\u8282\uff0c\u5e94\u8be5\u7ee7\u7eed\u5f80\u540e\u8bfb\u53d6\u3002\\n\\n### 4\u3001UTF-8/UTF-16/UTF-32\\n\uff081\uff09UTF-8\u662f\u53d8\u957f\u7f16\u7801\uff0c\u6bcf\u4e2aUnicode\u4ee3\u7801\u70b9\u6309\u7167\u4e0d\u540c\u8303\u56f4\uff0c\u53ef\u4ee5\u67091-3\u5b57\u8282\u7684\u4e0d\u540c\u957f\u5ea6\u3002\\n\\n\uff082\uff09UTF-16\u957f\u5ea6\u76f8\u5bf9\u56fa\u5b9a\uff0c\u53ea\u8981\u4e0d\u5904\u7406\u5927\u4e8e\\\\U200000\u8303\u56f4\u7684\u5b57\u7b26\uff0c\u6bcf\u4e2aUnicode\u4ee3\u7801\u70b9\u4f7f\u752816\u4f4d\u53732\u5b57\u8282\u8868\u793a\uff0c\u8d85\u51fa\u90e8\u5206\u4f7f\u7528\u4e24\u4e2aUTF-16\u53734\u5b57\u8282\u8868\u793a\u3002\u6309\u7167\u9ad8\u4f4e\u4f4d\u5b57\u8282\u987a\u5e8f\uff0c\u53c8\u5206\u4e3aUTF-16BE/UTF-16LE\u3002\\n\\n\uff083\uff09UTF-32\u957f\u5ea6\u59cb\u7ec8\u56fa\u5b9a\uff0c\u6bcf\u4e2aUnicode\u4ee3\u7801\u70b9\u4f7f\u752832\u4f4d\u53734\u5b57\u8282\u8868\u793a\u3002\u6309\u7167\u9ad8\u4f4e\u4f4d\u5b57\u8282\u987a\u5e8f\uff0c\u53c8\u5206\u4e3aUTF-32BE/UTF-32LE\u3002\\n\\n**\u4e3e\u4e2a\u4f8b\u5b50**\\n\u5047\u5982\u4e2d\u6587\u5b57\\"\u6c49\\"\u5bf9\u5e94\u7684 unicode \u662f6C49(\u8fd9\u662f\u7528\u5341\u516d\u8fdb\u5236\u8868\u793a\uff0c\u7528\u5341\u8fdb\u5236\u8868\u793a\u662f 27721 \u4e3a\u5565\u4e0d\u7528\u5341\u8fdb\u5236\u8868\u793a\u5462\uff1f\u5f88\u660e\u663e\u7528\u5341\u516d\u8fdb\u5236\u8868\u793a\u8981\u77ed\u70b9\u3002\u5176\u5b9e\u90fd\u662f\u7b49\u4ef7\u7684\u6ca1\u5565\u4e0d\u4e00\u6837\uff0c\u5c31\u8ddf\u4f60\u8bf460\u5206\u949f\u548c1\u5c0f\u65f6\u4e00\u6837)\u3002\u4f60\u53ef\u80fd\u4f1a\u95ee\u5f53\u7528\u7a0b\u5e8f\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u65f6\u6211\u4eec\u600e\u4e48\u77e5\u9053\u90a3\u662f\u7528\u7684UTF-8\u8fd8\u662fUTF-16\u554a.\u81ea\u7136\u4f1a\u6709\u70b9\u5565\u6807\u5fd7,\u5728\u6587\u4ef6\u7684\u5f00\u5934\u51e0\u4e2a\u5b57\u8282\u5c31\u662f\u6807\u5fd7:\\n```\\nEF BB BF \u8868\u793aUTF-8\\nFE FF \u8868\u793aUTF-16.\\n```\\n\\n### 5\u3001base64\\nBase64\u662f\u7f51\u7edc\u4e0a\u6700\u5e38\u89c1\u7684\u7528\u4e8e\u4f20\u8f938Bit\u5b57\u8282\u7801\u7684\u7f16\u7801\u65b9\u5f0f\u4e4b\u4e00\uff0cBase64\u5c31\u662f\u4e00\u79cd`\u57fa\u4e8e64\u4e2a\u53ef\u6253\u5370\u5b57\u7b26\u6765\u8868\u793a\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u65b9\u6cd5`\u3002\u53ef\u67e5\u770bRFC2045\uff5eRFC2049\uff0c\u4e0a\u9762\u6709MIME\u7684\u8be6\u7ec6\u89c4\u8303\u3002base64 \u7f16\u7801\u662f\u53ef\u9006\u7684\u3002\\n","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/06-hexadecimal.md","path":"/nodejs/01-nodejs-basic/06-hexadecimal.md","route":"/nodejs/01-nodejs-basic/06-hexadecimal.md","leaf":true,"title":"06-hexadecimal","depth":2,"content":"---\\ntitle: 06 \u8fdb\u5236\u8868\u793a\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n> \u5728\u7ebf\u8fdb\u5236\u8f6c\u6362 https://www.sojson.com/hexconvert.html\\n\\n## 1. \u4e8c\u8fdb\u5236\\n\\n\u4e8c\u8fdb\u5236\u6570\uff08binaries\uff09\u662f\u90222\u8fdb\u4f4d\u7684\u8fdb\u4f4d\u5236\uff0c0\u30011 \u662f\u57fa\u672c\u7b97\u7b26\u3002\\n\\n**\u7279\u6027**: \u5982\u679c\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\uff08\u6574\u578b\uff09\u6570\u7684\u7b2c\u96f6\u4f4d\u7684\u503c\u662f1\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6570\u5c31\u662f\u5947\u6570\uff1b\u800c\u5982\u679c\u8be5\u4f4d\u662f0\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6570\u5c31\u662f\u5076\u6570\u3002\\n\\n## 2. N \u8fdb\u5236\\n\\n- \u5341\u8fdb\u5236\uff1a\u670910\u4e2a\u57fa\u6570\uff1a0\u30011\u30012\u30013\u30014\u30015\u30016\u30017\u30018\u30019\uff0c\u9022\u5341\u8fdb\u4e00\\n- \u4e8c\u8fdb\u5236\uff1a\u67092 \u4e2a\u57fa\u6570\uff1a0\u30011\uff0c\u9022\u4e8c\u8fdb\u4e00\\n- \u516b\u8fdb\u5236\uff1a\u67098\u4e2a\u57fa\u6570\uff1a0\u30011\u30012\u30013\u30014\u30015\u30016\u30017\uff0c\u9022\u516b\u8fdb\u4e00\\n- \u5341\u516d\u8fdb\u5236\uff1a\u670916\u4e2a\u57fa\u6570\uff1a0\u30011\u30012\u30013\u30014\u30015\u30016\u30017\u30018\u30019\u3001A\u3001B\u3001C\u3001D\u3001E\u3001F\uff0c\u9022\u5341\u516d\u8fdb\u4e00\\n\\n## 3. \u8fdb\u5236\u8f6c\u6362\\n\\n![20230227091616](http://s3.airtlab.com/blog/20230227091616.png)\\nhttps://zhuanlan.zhihu.com/p/459817484 \\n\\n## 4. \u8d1f\u6570\u7684\u8868\u793a\\n- \u6c42\u51fa\u539f\u7801\\n- \u6c42\u51fa\u53cd\u7801\\n- \u6c42\u51fa\u8865\u7801\\n\\n\u6f14\u793a -5 \u7684\u4e8c\u8fdb\u5236\u8ba1\u7b97\u8fc7\u7a0b\uff1a\\n- 5\u7684\u539f\u7801\uff1a 101 => 0000 0101\\n- \u6c42\u51fa\u53cd\u7801\uff1a    => 1111 1010\\n- \u6c42\u51fa\u8865\u7801\uff1a    => 1111 1011\\n\\n\u5982\u679c\u8981\u8868\u793a16\u4f4d\u7684-5\uff0c\u5728\u5de6\u8fb9\u6dfb\u4e0a8\u4e2a1\u5373\\n1111 1111 1111 1011\\n\\n**\u9006\u8fd0\u7b97**\\n\u6bd4\u5982\u77e5\u9053\u4e00\u4e2a\u8865\u7801: 1111 1011\\n- \u6839\u636e\u8865\u7801\u5f97\u5230\u53cd\u7801: 1111 1010\\n- \u6839\u636e\u53cd\u7801\u5f97\u5230\u539f\u7801\uff1a0000  0101 => 5\\n\\n### 4.1 \u6700\u9ad8\u4f4d\u4e0a\u76841\u548c0\u662f\u8868\u793a\u6b63\u8d1f\uff0c\u8fd8\u662f\u4e0d\u8868\u793a\u6b63\u8d1f\uff1f\\n\\n\u4e8c\u8fdb\u5236\u662f\u8868\u793a\u8ba1\u6570\u7684\u4e00\u79cd\u65b9\u6cd5\uff0c\u7528\u4e8c\u8fdb\u5236\u8ba1\u6570\u65f6\uff0c\u7528\u6700\u9ad8\u4f4d\u4e0a\u76841\u548c0\u6765\u4ee3\u8868\u8fd9\u4e2a\u6570\u7684\u6b63\u4e0e\u8d1f\uff0c\u8fd9\u6837\u7684\u6570\u5c31\u79f0\u4e3a\u201c\u6709\u7b26\u53f7\u6570\u201d\uff0c\u540c\u65f6\u4e5f\u5b58\u5728\u7740\u201c\u65e0\u7b26\u53f7\u6570\u201d\u3002\\n\\n\u90a3\u82e5\u7ed9\u51fa\u4e00\u4e2a\u7528\u4e8c\u8fdb\u5236\u8868\u793a\u51fa\u6765\u7684\u6570\uff0c\u5982\u4f55\u5206\u8fa8\u6700\u9ad8\u4f4d\u4e0a\u76841\u548c0\u662f\u8868\u793a\u6b63\u8d1f\uff0c\u8fd8\u662f\u4e0d\u8868\u793a\u6b63\u8d1f\uff1f\\n\\n\u6bd4\u5982 11010110:\\n- \u65e0\u7b26\u53f7\u6570\u8868\u793a\uff1a214\\n- \u6709\u7b26\u53f7\u6570\u8868\u793a\uff1a-42\\n  - \u6839\u636e\u8865\u7801\u5f97\u5230\u53cd\u7801\uff1a11010110 - 1 = 11010101\\n  - \u6839\u636e\u53cd\u7801\u5f97\u5230\u539f\u7801\uff1a00101010 => 42\\n\\n\u8fd9\u4e2a\u662f\u4eba\u4e3a\u5b9a\u4e49\u7684\uff0c\u5047\u5982 int \u5360\u75281\u4e2a\u5b57\u8282\uff0c\u90a3\u4e48:\\n```c\\n// \u5b9a\u4e49\u6709\u7b26\u53f7 -128 \u2014\u2014\u2014 0 \u2014\u2014\u2014- 127\\nint a\\n\\n// \u5b9a\u4e49\u65e0\u7b26\u53f7 0 \u2014\u2014\u2014\u2014\u2014\u2013 255\\nunsigned int b\\n```\\n\\n## 5. \u6d6e\u70b9\u6570\u7684\u8868\u793a\\n\\n![20230227232435](http://s3.airtlab.com/blog/20230227232435.png)\\n\\n\u5f88\u591a\u4eba\u90fd\u9047\u5230\u8fc7\u8fd9\u4e2a\u95ee\u9898 \u201c0.1 + 0.2 == 0.3?\u201d \u7b54\u6848\u662f\u4e0d\u4e00\u5b9a\uff1a\\n> \u8fd9\u4e3b\u8981\u662f\u56e0\u4e3a\u6709\u7684\u5c0f\u6570\u65e0\u6cd5\u53ef\u4ee5\u7528\u300c\u5b8c\u6574\u300d\u7684\u4e8c\u8fdb\u5236\u6765\u8868\u793a\uff0c\u6240\u4ee5\u8ba1\u7b97\u673a\u91cc\u53ea\u80fd\u91c7\u7528\u8fd1\u4f3c\u6570\u7684\u65b9\u5f0f\u6765\u4fdd\u5b58\uff0c\u90a3\u4e24\u4e2a\u8fd1\u4f3c\u6570\u76f8\u52a0\uff0c\u5f97\u5230\u7684\u5fc5\u7136\u4e5f\u662f\u4e00\u4e2a\u8fd1\u4f3c\u6570\u3002https://xiaolincoding.com/os/1_hardware/float.html\\n\\n- double \u7684\u6709\u6548\u6570\u5b57\u662f 15~16 \u4f4d\\n- float \u7684\u6709\u6548\u6570\u5b57\u662f 7~8 \u4f4d\\n\\n\u8fd9\u4e9b\u6709\u6548\u4f4d\u662f\u5305\u542b\u6574\u6570\u90e8\u5206\u548c\u5c0f\u6570\u90e8\u5206\uff1b","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/07-buffer.md","path":"/nodejs/01-nodejs-basic/07-buffer.md","route":"/nodejs/01-nodejs-basic/07-buffer.md","leaf":true,"title":"07-buffer","depth":2,"content":"---\\ntitle: 07 buffer\u64cd\u4f5c\u4e8c\u8fdb\u5236\u6570\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n> \u90e8\u5206\u5185\u5bb9\u53c2\u8003 \u300a\u9488\u5bf9 Node \u7684 Buffer \u6a21\u5757\u4e2d\u96be\u7406\u89e3\u7684 API \u505a\u4e00\u6b21\u5f7b\u5e95\u7684\u8bb2\u89e3\u300bhttps://www.bilibili.com/read/cv4881167?spm_id_from=333.999.0.0\\n\\nBuffer \u5bf9\u8c61\u7528\u4e8e\u8868\u793a\u56fa\u5b9a\u957f\u5ea6\u7684\u5b57\u8282\u5e8f\u5217\uff0c\u8bb8\u591a Node.js API \u90fd\u652f\u6301 Buffer\u3002\\n\\n## 1. \u9884\u5907\u77e5\u8bc6\\n\\n### 1.1 \u4ec0\u4e48\u662f\u7f13\u51b2\u533a Buffer\\n\\n\u5728 Node.js \u4e2d\uff0cBuffer \u7c7b\u662f\u968f Node \u5185\u6838\u4e00\u8d77\u53d1\u5e03\u7684\u6838\u5fc3\u5e93\u3002Buffer \u5e93\u4e3a Node.js \u5e26\u6765\u4e86\u4e00\u79cd\u5b58\u50a8\u539f\u59cb\u6570\u636e\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u8ba9 Node.js \u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u6bcf\u5f53\u9700\u8981\u5728 Node.js \u4e2d\u5904\u7406 I/O \u64cd\u4f5c\u4e2d\u79fb\u52a8\u7684\u6570\u636e\u65f6\uff0c\u5c31\u6709\u53ef\u80fd\u4f7f\u7528 Buffer \u5e93\u3002\u539f\u59cb\u6570\u636e\u5b58\u50a8\u5728 Buffer \u7c7b\u7684\u5b9e\u4f8b\u4e2d\u3002\u4e00\u4e2a Buffer \u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u6574\u6570\u6570\u7ec4\uff0c\u4f46\u5b83\u5bf9\u5e94\u4e8e V8 \u5806\u5185\u5b58\u4e4b\u5916\u7684\u4e00\u5757\u539f\u59cb\u5185\u5b58\u3002\\n\\n### 1.2 Buffer \u4e0e\u5b57\u7b26\u7f16\u7801\\n\\nBuffer \u5b9e\u4f8b\u4e00\u822c\u7528\u4e8e\u8868\u793a\u7f16\u7801\u5b57\u7b26\u7684\u5e8f\u5217\uff0c\u6bd4\u5982 UTF-8 \u3001 UCS2 \u3001 Base64 \u3001\u6216\u5341\u516d\u8fdb\u5236\u7f16\u7801\u7684\u6570\u636e\u3002 \u901a\u8fc7\u4f7f\u7528\u663e\u5f0f\u7684\u5b57\u7b26\u7f16\u7801\uff0c\u5c31\u53ef\u4ee5\u5728 Buffer \u5b9e\u4f8b\u4e0e\u666e\u901a\u7684 JavaScript \u5b57\u7b26\u4e32\u4e4b\u95f4\u8fdb\u884c\u76f8\u4e92\u8f6c\u6362\u3002\\n\\n```javascript\\nconst buf = Buffer.from(\\"r\\", \\"ascii\\");\\nconsole.log(buf); // <Buffer 72>\\n// \u8fd9\u91cc\u7684 72 \u5728 ascii \u7f16\u7801\u4e2d\u5bf9\u5e94\u7684\u5341\u516d\u8fdb\u5236\u503c\u4e3a72 => \u5176\u4e8c\u8fdb\u5236\u503c\u4e3a 0111 0010\\n```\\n\\n```javascript\\nconst buf = Buffer.from(\\"runoob\\", \\"ascii\\");\\n\\n// \u8f93\u51fa 72756e6f6f62\\nconsole.log(buf.toString(\\"hex\\"));\\n\\n// \u8f93\u51fa cnVub29i\\nconsole.log(buf.toString(\\"base64\\"));\\n```\\n\\nNode.js \u76ee\u524d\u652f\u6301\u7684\u5b57\u7b26\u7f16\u7801\u5305\u62ec\uff1a\\n\\n- ascii\xa0- \u4ec5\u652f\u6301 7 \u4f4d ASCII \u6570\u636e\u3002\u5982\u679c\u8bbe\u7f6e\u53bb\u6389\u9ad8\u4f4d\u7684\u8bdd\uff0c\u8fd9\u79cd\u7f16\u7801\u662f\u975e\u5e38\u5feb\u7684\u3002\\n- utf8\xa0- \u591a\u5b57\u8282\u7f16\u7801\u7684 Unicode \u5b57\u7b26\u3002\u8bb8\u591a\u7f51\u9875\u548c\u5176\u4ed6\u6587\u6863\u683c\u5f0f\u90fd\u4f7f\u7528 UTF-8 \u3002\\n- utf16le\xa0- 2 \u6216 4 \u4e2a\u5b57\u8282\uff0c\u5c0f\u5b57\u8282\u5e8f\u7f16\u7801\u7684 Unicode \u5b57\u7b26\u3002\u652f\u6301\u4ee3\u7406\u5bf9\uff08U+10000 \u81f3 U+10FFFF\uff09\u3002\\n- ucs2\xa0-\xa0utf16le\xa0 \u7684\u522b\u540d\u3002\\n- base64\xa0- Base64 \u7f16\u7801\u3002\\n- latin1\xa0- \u4e00\u79cd\u628a \xa0Buffer\xa0 \u7f16\u7801\u6210\u4e00\u5b57\u8282\u7f16\u7801\u7684\u5b57\u7b26\u4e32\u7684\u65b9\u5f0f\u3002\\n- binary\xa0-\xa0latin1\xa0 \u7684\u522b\u540d\u3002\\n- hex\xa0- \u5c06\u6bcf\u4e2a\u5b57\u8282\u7f16\u7801\u4e3a\u4e24\u4e2a\u5341\u516d\u8fdb\u5236\u5b57\u7b26\u3002\\n\\n### 1.3 Buffer \u4e0e Stream \u7684\u5173\u7cfb\\n\\n\u5728\u5e94\u7528\u4e2d\uff0c\u56e0\u4e3a\u5728\u540e\u7aef\u4e0e\u524d\u7aef\u3001\u540e\u7aef\u7684 IO \u4e2d\uff0c\u6bcf\u5f53\u9700\u8981\u5728 Node.js \u4e2d\u5904\u7406 I/O \u64cd\u4f5c\u4e2d\u79fb\u52a8\u7684\u6570\u636e\u65f6\uff0c\u5c31\u6709\u53ef\u80fd\u4f7f\u7528 Buffer \u5e93\uff0c\u5f88\u591a\u65f6\u5019\u4f1a\u51fa\u73b0\u6570\u636e\u8fc7\u5927\uff0c\u4e0d\u80fd\u4e00\u6b21\u6027\u8bfb\u53d6\u7684\u95ee\u9898\u3002\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u7684\u7b49\u5f85\u65f6\u95f4\u8fc7\u957f\uff0c\u56e0\u6b64\uff0c\u6d41\u64cd\u4f5c\uff08stream\uff09\u4fbf\u8425\u8fd0\u800c\u751f\u3002\\n\\n\u5728 readable \u548c writable \u7684 Stream \u4e4b\u95f4\u7b51\u8d77\u6c9f\u901a\uff0c\u5982\u679c\u4ec5\u4ec5\u4f7f\u7528\u4e8b\u4ef6\u65b9\u6cd5\u6765\u8fdb\u884c\u7684\u8bdd\uff0c\u4ee3\u7801\u4f1a\u663e\u5f97\u5f88\u5197\u6742\uff0c\u56e0\u6b64\u9700\u8981\u51fa\u73b0 pipe\uff08\u7ba1\u9053\uff09\u65b9\u6cd5\u6765\u8fdb\u884c\u3002\\n\\n```javascript\\nreadable.pipe(writable);\\n```\\n\\nStream \u5c31\u50cf\u53f8\u673a\uff0c\u5b83\u7684\u4f5c\u7528\u5c31\u662f\u5c06\u88c5\u7740\u6570\u636e\u7684 Buffer \u5f00\u5411\u7ec8\u70b9\uff0c\u5728 NodeJS \u4e2d\uff0c\u8bb8\u591a\u63a5\u53e3\u90fd\u96c6\u6210 Stream\u3002\u5047\u5982\u4f60\u4e0d\u61c2 Stream \u4e5f\u6ca1\u6709\u5173\u7cfb\uff0c\u5148\u8fd9\u6837\u4e86\u89e3\u5c31\u53ef\u4ee5\u4e86\u3002\\n\\n## 2.\xa0 \u521b\u5efa Buffer \u7c7b\\n\\nBuffer \u63d0\u4f9b\u4e24\u7c7b API \u6765\u521b\u5efa buffer\\n\\n### 2.1 \u4ece\u5b57\u7b26\u4e32\u521b\u5efa\\n\\n`Buffer.from(string[, encoding])`\\n\\n```javascript\\nconst buf = Buffer.from(\\"\u77e5\\", \\"utf-8\\");\\nconsole.log(buf); // <Buffer e7 9f a5>\\n```\\n\\n### 2.2 \u6307\u5b9a\u5b57\u8282\u5e8f\u5217\u521b\u5efa\\n\\n\u6307\u5b9a\u5b57\u8282\u5e8f\u5217\u521b\u5efa Buffer(\u4f7f\u7528 0 \u2013 255 \u8303\u56f4\u5185\u7684\u5b57\u8282 array \u5206\u914d)\uff0c\u8be5\u8303\u56f4\u4e4b\u5916\u7684\u6570\u7ec4\u6761\u76ee\u5c06\u88ab\u622a\u65ad\u4ee5\u7b26\u5408\u5b83\u3002\\n\\n`Buffer.from(array)`\\n\\n```javascript\\n// \u521b\u5efa\u5305\u542b\u5b57\u7b26\u4e32 \'buffer\' \u7684 UTF-8 \u5b57\u8282\u7684\u65b0\u7f13\u51b2\u533a\u3002\\nconst buf = Buffer.from([0x62, 0x75, 0x66, 0x66, 0x65, 0x72]);\\nconsole.log(buf);\\n```\\n\\n### 2.3 buffer \u62f7\u8d1d\u521b\u5efa\\n\\n`Buffer.from(buffer)`\\n\\n```javascript\\nconst buf1 = Buffer.from(\\"buffer\\");\\nconst buf2 = Buffer.from(buf1);\\n\\nbuf1[0] = 0x61; // a\\n\\nconsole.log(buf1.toString());\\n// \u6253\u5370: auffer\\nconsole.log(buf2.toString());\\n// \u6253\u5370: buffer\\n```\\n\\n```javascript\\nconst buf1 = Buffer.from(\\"\u77e5\\");\\nconst buf2 = Buffer.from(buf1);\\n\\n// \u6839\u636e utf-8 \u7f16\u7801\u89c4\u5219, \u540e\u9762\u4e24\u4e2a\u5b57\u8282\u663e\u7136\u65e0\u6548\u55bd\\n// \u56e0\u4e3a\u5b83\u5c5e\u4e8e 0~U+007F\\nbuf1[0] = 0x61;\\n\\nconsole.log(buf1.toString());\\n// \u6253\u5370: a\ufffd\ufffd\\nconsole.log(buf2.toString());\\n// \u6253\u5370: \u77e5\\n```\\n\\n### 2.4 Buffer.alloc\\n\\n```javascript\\nconst buf = Buffer.alloc(26);\\nfor (var i = 0; i < 26; i++) {\\n  buf[i] = i + 97;\\n}\\n\\nconsole.log(buf.toString(\\"ascii\\")); // \u8f93\u51fa: abcdefghijklmnopqrstuvwxyz\\nconsole.log(buf.toString(\\"ascii\\", 0, 5)); // \u8f93\u51fa: abcde\\nconsole.log(buf.toString(\\"utf8\\", 0, 5)); // \u8f93\u51fa: abcde\\nconsole.log(buf.toString(undefined, 0, 5)); // \u4f7f\u7528 \'utf8\' \u7f16\u7801, \u5e76\u8f93\u51fa: abcde\\n```\\n\\n#### Buffer.alloc(size[, fill[, encoding]])\\n\\n- size \u4ee3\u8868 Buffer \u7684\u957f\u5ea6\\n- fill \u521d\u59cb\u5316\u586b\u5145\u7684\u5185\u5bb9\\n- encoding \u4ee3\u8868\u7f16\u7801\\n\\n![20230228202308](http://s3.airtlab.com/blog/20230228202308.png)\\n\\n\u53ef\u4ee5\u770b\u51fa fil l \u548c encoding \u4e4b\u95f4\u7684\u5173\u7cfb\uff0cfill \u5148\u6309\u7167 encoding \u7f16\u7801\u6210\u4e8c\u8fdb\u5236\uff0c\u7136\u540e\u4e00\u4e2a\u5b57\u8282\u4e00\u4e2a\u5b57\u8282\u7684\u5411\u6b64\u65b9\u6cd5\u751f\u6210\u7684 Buffer \u4e2d\u586b\u5145\uff0c\u6839\u636e\u957f\u5ea6 size\uff0c\u4f9d\u6b21\u5faa\u73af\u3002\\n\\n### 2.5 Buffer.from \u5bf9\u6bd4\\n\\n(1) Buffer.from(array)\xa0 \u8fd4\u56de\u4e00\u4e2a\u88ab array \u7684\u503c\u521d\u59cb\u5316\u7684\u65b0\u7684 Buffer \u5b9e\u4f8b\uff08\u4f20\u5165\u7684 array \u7684\u5143\u7d20\u53ea\u80fd\u662f\u6570\u5b57\uff0c\u4e0d\u7136\u5c31\u4f1a\u81ea\u52a8\u88ab 0 \u8986\u76d6\uff09\u3002\\n(2) Buffer.from(arrayBuffer[, byteOffset[, length]])\xa0 \u8fd4\u56de\u4e00\u4e2a\u65b0\u5efa\u7684\u4e0e\u7ed9\u5b9a\u7684 ArrayBuffer \u5171\u4eab\u540c\u4e00\u5185\u5b58\u7684 Buffer\u3002\\n(3) Buffer.from(buffer)\xa0 \u590d\u5236\u4f20\u5165\u7684 Buffer \u5b9e\u4f8b\u7684\u6570\u636e\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 Buffer \u5b9e\u4f8b\u3002\\n(4) Buffer.from(string[, encoding])\uff1a \u8fd4\u56de\u4e00\u4e2a\u88ab string \u7684\u503c\u521d\u59cb\u5316\u7684\u65b0\u7684 Buffer \u5b9e\u4f8b\u3002\\n\\n```javascript\\n// \u521b\u5efa\u4e00\u4e2a\u5305\u542b [0x1, 0x2, 0x3] \u7684 Buffer\u3002\\nconst buf4 = Buffer.from([1, 2, 3]);\\n\\n// \u521b\u5efa\u4e00\u4e2a\u5305\u542b UTF-8 \u5b57\u8282 [0x74, 0xc3, 0xa9, 0x73, 0x74] \u7684 Buffer\u3002\\nconst buf5 = Buffer.from(\\"t\xe9st\\");\\n\\n// \u521b\u5efa\u4e00\u4e2a\u5305\u542b Latin-1 \u5b57\u8282 [0x74, 0xe9, 0x73, 0x74] \u7684 Buffer\u3002\\nconst buf6 = Buffer.from(\\"t\xe9st\\", \\"latin1\\");\\n```\\n\\n#### Buffer.from(arrayBuffer[, byteOffset[, length]])\\n\\n![20230228202419](http://s3.airtlab.com/blog/20230228202419.png)\\n\\n\u5c06\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\u7ec4`[5000, 4000]` \u653e\u5165 Buffer \u4e2d\u751f\u6210\u4e86 `<88 a0>`\uff0c\u56e0\u4e3a Buffer \u5b9e\u4f8b\u662f Uint8Array \u7684\u5b9e\u4f8b\uff0c\u6b64\u65f6\u76f8\u5f53\u4e8e\u628a arr \u653e\u5165 Uint8Array \u4e2d\uff0c\u5143\u7d20\u4e00\u4e00\u5bf9\u5e94\uff0c\u800c Uint8Array \u6bcf\u4e2a\u5143\u7d20\u90fd\u662f 8 \u4f4d\uff0c\u6700\u5927\u503c\u662f 256\uff0c\u6240\u4ee5\u53d1\u751f\u4e86\u6ea2\u51fa\uff0c\u6839\u636e\u6ea2\u51fa\u7684\u7b97\u6cd5\u6700\u7ec8\u53d8\u4e3a\u4e86<88 a0>\u3002\\n\\n\u5982\u679c\u4e0d\u60f3\u53d1\u751f\u6ea2\u51fa\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e8c\u8fdb\u5236\u6570\u7ec4\u7684 buffer \u5c5e\u6027\uff08\u6b64\u65f6\u4f1a\u5171\u4eab\u5185\u5b58\uff09\uff1a\\n\\n![20230228202649](http://s3.airtlab.com/blog/20230228202649.png)\\n\\n\u53ef\u9009\u7684 byteOffset \u548c length \u53c2\u6570\u6307\u5b9a arrayBuffer \u4e2d\u4e0e Buffer \u5171\u4eab\u7684\u5185\u5b58\u8303\u56f4\uff0c\u5982\u679c\u4e0d\u4f7f\u7528 buffer \u5c5e\u6027\uff0c\u8fd9\u4e24\u4e2a\u53c2\u6570\u5e76\u4e0d\u4f1a\u751f\u6548\u3002\\n\\n![20230228202659](http://s3.airtlab.com/blog/20230228202659.png)\\n\\n\u53ef\u9009\u7684 byteOffset \u548c length \u53c2\u6570\u6307\u5b9a arrayBuffer \u4e2d\u4e0e Buffer \u5171\u4eab\u7684\u5185\u5b58\u8303\u56f4\uff0c\u5982\u679c\u4e0d\u4f7f\u7528 buffer \u5c5e\u6027\uff0c\u8fd9\u4e24\u4e2a\u53c2\u6570\u5e76\u4e0d\u4f1a\u751f\u6548\uff1a\\n![20230228202715](http://s3.airtlab.com/blog/20230228202715.png)\\n\\n## 3\u3001\u8bfb\u5b57\u8282\u6d41\\n\\n### 3.1 readUInt8/readInt8\\n\\n\u8bfb\u53d6\u4e00\u4e2a\u5b57\u8282\u7684\u6709/\u65e0\u7b26\u53f7\u7684\u6574\u6570\\n\\n![20230228202626](http://s3.airtlab.com/blog/20230228202626.png)\\n\\n- readUInt8 \u76f4\u63a5\u8bfb\u53d6\u4e00\u4e2a\u5b57\u8282\u7684\u4e8c\u8fdb\u5236\\n- readInt8 \u8bfb\u53d6 8 \u4f4d\u6709\u7b26\u53f7\u7684\u4e8c\u8fdb\u5236\uff0c\u6240\u4ee5\u6709\u53ef\u80fd\u4f1a\u53d1\u751f\u6ea2\u51fa\uff0c\u6ea2\u51fa\u7684\u7b97\u6cd5\u4e4b\u524d\u5df2\u7ecf\u63d0\u5230\u4e86\\n\\n### 3.2 \u8bfb\u53d6 16 \u4f4d\\n\\n- readInt16BE\\n- readInt16LE\\n- readUInt16BE\\n- readUInt16LE\\n\\n\u8bfb\u53d6`\u4e24\u4e2a\u5b57\u8282`\u7684\u6709/\u65e0\u7b26\u53f7\u7684\u6574\u6570\\n\\n- BE \u4ee3\u8868\u5927\u7aef\u5b57\u8282\u5e8f\uff0c\u9ad8\u4f4d\u5728\u524d\uff0c\u7f51\u7edc\u5c31\u662f\u8fd9\u79cd\u5b57\u8282\u5e8f\\n- LE \u4ee3\u8868\u5c0f\u7aef\u5b57\u8282\u5e8f\uff0c\u4f4e\u4f4d\u5728\u524d\\n\\n![20230228202551](http://s3.airtlab.com/blog/20230228202551.png)\\n\\n```javascript\\nconst buf = Buffer.from([0xff, 0x01, 0x08, 0x05]);\\nconsole.log(buf);\\n\\nconsole.log(buf.readUInt16BE(0)); // 65281 = 15 * 16 * 16 * 16 + 15 * 16 * 16 + 1\\n\\n// \u6309\u7167\u5927\u7aef\u987a\u5e8f\u8bfb\u53d6\uff08\u6709\u7b26\u53f7\uff09\\n// => 1111 1111 0000 0001\\n// => 1111 1110\\n// => 1111 1111\\nconsole.log(buf.readInt16BE(0)); // -255\\n```\\n\\n```javascript\\n{\\n  const buf = Buffer.from([0x9f, 0xaf, 0x08, 0x05]);\\n  console.log(buf);\\n\\n  // 9 * 16 * 16 * 16 + 15 * 16 * 16 + 10 * 16 + 15 = 40879\\n  // \u800c16\u4f4d\u6709\u7b26\u53f7\u8303\u56f4 -32768\uff5e32767\\n  // 1001 1111 1010 1111 \u539f\u7801\\n  // 0110 0000 0101 0000 \u53cd\u7801\\n  // 0110 0000 0110 0001 \u8865\u7801\\n  // 6051 => 24657\\n  console.log(buf.readInt16BE(0)); // -24657  \u8fd9\u4e2a\u6570\u662f\u600e\u4e48\u6765\u7684\u5462\\n}\\n```\\n\\n## 4.\xa0 \u5199\u5165\u7f13\u51b2\u533a\\n\\n```javascript\\nbuf.write(string[, offset[, length]][, encoding])\\n// @param string - \u5199\u5165\u7f13\u51b2\u533a\u7684\u5b57\u7b26\u4e32\u3002\\n// @param offset - \u7f13\u51b2\u533a\u5f00\u59cb\u5199\u5165\u7684\u7d22\u5f15\u503c\uff0c\u9ed8\u8ba4\u4e3a 0 \u3002\\n// @param length - \u5199\u5165\u7684\u5b57\u8282\u6570\uff0c\u9ed8\u8ba4\u4e3a buffer.length\\n// @param encoding - \u4f7f\u7528\u7684\u7f16\u7801\u3002\u9ed8\u8ba4\u4e3a \'utf8\' \u3002\\n// @result \u8fd4\u56de\u5b9e\u9645\u5199\u5165\u7684\u5927\u5c0f\u3002\u5982\u679c buffer \u7a7a\u95f4\u4e0d\u8db3\uff0c \u5219\u53ea\u4f1a\u5199\u5165\u90e8\u5206\u5b57\u7b26\u4e32\u3002\\n```\\n\\n```javascript\\nconst buf = Buffer.alloc(256);\\nconst len = buf.write(\\"www.runoob.com\\");\\nconsole.log(\\"\u5199\u5165\u5b57\u8282\u6570 : \\" + len);\\nconsole.log(buf.toString(\\"ascii\\"));\\n```\\n\\n## 5.\xa0 \u4ece\u7f13\u51b2\u533a\u8bfb\u53d6\u6570\u636e\\n\\n```javascript\\nbuf.toString([encoding[, start[, end]]])\\n// @param encoding - \u4f7f\u7528\u7684\u7f16\u7801\u3002\u9ed8\u8ba4\u4e3a \'utf8\' \u3002\\n// @param start - \u6307\u5b9a\u5f00\u59cb\u8bfb\u53d6\u7684\u7d22\u5f15\u4f4d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a 0\u3002\\n// @param end - \u7ed3\u675f\u4f4d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a\u7f13\u51b2\u533a\u7684\u672b\u5c3e\u3002\\n// @result \u89e3\u7801\u7f13\u51b2\u533a\u6570\u636e\u5e76\u4f7f\u7528\u6307\u5b9a\u7684\u7f16\u7801\u8fd4\u56de\u5b57\u7b26\u4e32\\n```\\n\\n```javascript\\nbuf = Buffer.alloc(26);\\nfor (var i = 0; i < 26; i++) {\\n  buf[i] = i + 97;\\n}\\n\\nconsole.log(buf.toString(\\"ascii\\")); // \u8f93\u51fa: abcdefghijklmnopqrstuvwxyz\\nconsole.log(buf.toString(\\"ascii\\", 0, 5)); // \u8f93\u51fa: abcde\\nconsole.log(buf.toString(\\"utf8\\", 0, 5)); // \u8f93\u51fa: abcde\\nconsole.log(buf.toString(undefined, 0, 5)); // \u4f7f\u7528 \'utf8\' \u7f16\u7801, \u5e76\u8f93\u51fa: abcde\\n```\\n\\n## 6.\xa0 \u7f13\u51b2\u533a\u5408\u5e76\\n\\n```javascript\\nvar buffer1 = Buffer.from(\\"\u83dc\u9e1f\u6559\u7a0b\\");\\nvar buffer2 = Buffer.from(\\"www.runoob.com\\");\\n\\nvar buffer3 = Buffer.concat([buffer1, buffer2]);\\nconsole.log(\\"buffer3 \u5185\u5bb9: \\" + buffer3.toString());\\n```\\n\\n## 7. **TypedArray**\\n\\n> \u4e00\u4e2a **_TypedArray_** \u5bf9\u8c61\u63cf\u8ff0\u4e86\u5e95\u5c42[\u4e8c\u8fdb\u5236\u6570\u636e\u7f13\u51b2\u533a](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer)\u7684\u7c7b\u6570\u7ec4\u89c6\u56fe\uff0c\u662f\u6240\u6709 TypedArray \u5b50\u7c7b\u7684\u901a\u7528\u7236\u7c7b\u3002\u5c06 %TypedArray% \u4f5c\u4e3a\u4e00\u4e2a\u201c\u62bd\u8c61\u7c7b\u201d\uff0c\\n\\n```javascript\\n// Create a TypedArray with a size in bytes\\nconst typedArray1 = new Int8Array(8);\\ntypedArray1[0] = 32;\\n\\nconst typedArray2 = new Int8Array(typedArray1);\\ntypedArray2[1] = 42;\\n\\nconsole.log(typedArray1);\\n// Expected output: Int8Array [32, 0, 0, 0, 0, 0, 0, 0]\\n\\nconsole.log(typedArray2);\\n// Expected output: Int8Array [32, 42, 0, 0, 0, 0, 0, 0]\\n```\\n\\n### TypeArray \u5217\u8868\\n\\n| \u7c7b\u578b                                                                                                                    | \u503c\u8303\u56f4                                       | \u5b57\u8282\u5927\u5c0f | \u63cf\u8ff0                                                      | Web IDL \u7c7b\u578b        | \u7b49\u4ef7\u7684 C \u7c7b\u578b                 |\\n| ----------------------------------------------------------------------------------------------------------------------- | -------------------------------------------- | -------- | --------------------------------------------------------- | ------------------- | ----------------------------- |\\n| [Int8Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Int8Array)                 | -128 \u5230 127                                  | 1        | 8 \u4f4d\u6709\u7b26\u53f7\u6574\u578b\uff08\u8865\u7801\uff09                                    | byte                | int8_t                        |\\n| [Uint8Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)               | 0 \u5230 255                                     | 1        | 8 \u4f4d\u65e0\u7b26\u53f7\u6574\u578b                                            | octet               | uint8_t                       |\\n| [Uint8ClampedArray](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray) | 0 \u5230 255                                     | 1        | 8 \u4f4d\u65e0\u7b26\u53f7\u6574\u578b\uff08\u4e00\u5b9a\u5728 0 \u5230 255 \u4e4b\u95f4\uff09                    | octet               | uint8_t                       |\\n| [Int16Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Int16Array)               | -32768 \u5230 32767                              | 2        | 16 \u4f4d\u6709\u7b26\u53f7\u6574\u578b\uff08\u8865\u7801\uff09                                   | short               | int16_t                       |\\n| [Uint16Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array)             | 0 \u5230 65535                                   | 2        | 16 \u4f4d\u65e0\u7b26\u53f7\u6574\u578b                                           | unsigned short      | uint16_t                      |\\n| [Int32Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Int32Array)               | -2147483648 \u5230 2147483647                    | 4        | 32 \u4f4d\u6709\u7b26\u53f7\u6574\u578b\uff08\u8865\u7801\uff09                                   | long                | int32_t                       |\\n| [Uint32Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array)             | 0 \u5230 4294967295                              | 4        | 32 \u4f4d\u65e0\u7b26\u53f7\u6574\u578b                                           | unsigned long       | uint32_t                      |\\n| [Float32Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Float32Array)           | -3.4E38 \u5230 3.4E38 \u5e76\u4e14 1.2E-38 \u662f\u6700\u5c0f\u7684\u6b63\u6570  | 4        | 32 \u4f4d IEEE \u6d6e\u70b9\u6570\uff087 \u4f4d\u6709\u6548\u6570\u5b57\uff0c\u4f8b\u5982 1.234567\uff09          | unrestricted float  | float                         |\\n| [Float64Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Float64Array)           | -1.8E308 \u5230 1.8E308 \u5e76\u4e14 5E-324 \u662f\u6700\u5c0f\u7684\u6b63\u6570 | 8        | 64 \u4f4d IEEE \u6d6e\u70b9\u6570\uff0816 \u4f4d\u6709\u6548\u6570\u5b57\uff0c\u4f8b\u5982 1.23456789012345\uff09 | unrestricted double | double                        |\\n| [BigInt64Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/BigInt64Array)         | -263 \u5230 263 - 1                              | 8        | 64 \u4f4d\u6709\u7b26\u53f7\u6574\u578b\uff08\u8865\u7801\uff09                                   | bigint              | int64_t (signed long long)    |\\n| [BigUint64Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/BigUint64Array)       | 0 \u5230 264 - 1                                 | 8        | 64 \u4f4d\u65e0\u7b26\u53f7\u6574\u578b                                           | bigint              | uint64_t (unsigned long long) |\\n\\n### \u6ea2\u51fa\u89c4\u5219\\n\\n```javascript\\n{\\n  // -128 \u5230 127\\n  const typedArray1 = new Int8Array(8);\\n  typedArray1[0] = 128;\\n\\n  console.log(typedArray1); // ? \u4e3a\u4ec0\u4e48\u662f -128\\n  // Int8Array(8) [\\n  //     -128, 0, 0, 0,\\n  //        0, 0, 0, 0\\n  //   ]\\n}\\n\\n{\\n  // -128 \u5230 127\\n  const typedArray1 = new Int8Array(8);\\n  typedArray1[0] = 300;\\n\\n  console.log(typedArray1); // ? \u4e3a\u4ec0\u4e48\u662f44\\n  // Int8Array(8) [\\n  //     44, 0, 0, 0,\\n  //        0, 0, 0, 0\\n  //   ]\\n}\\n```\\n","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/08-buffer-array.md","path":"/nodejs/01-nodejs-basic/08-buffer-array.md","route":"/nodejs/01-nodejs-basic/08-buffer-array.md","leaf":true,"title":"08-buffer-array","depth":2,"content":"---\\ntitle: 08 Buffer \u6570\u7ec4\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n\u76ee\u524d\u7b14\u8005\u5f88\u5c11\u6709\u4f7f\u7528\u5230\u76f8\u5173API\uff0c\u4ec5\u505a\u4e86\u89e3\u3002\\n\\n## 1. \u4e8c\u8fdb\u5236\u6570\u7ec4\u7684\u7531\u6765\\n\u4e3a\u4e86\u6ee1\u8db3 JavaScript \u4e0e\u663e\u5361\u4e4b\u95f4\u5927\u91cf\u7684\u3001\u5b9e\u65f6\u7684\u6570\u636e\u4ea4\u6362\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u6570\u636e\u901a\u4fe1\u5fc5\u987b\u662f\u4e8c\u8fdb\u5236\u7684\uff0c\u800c\u4e0d\u80fd\u662f\u4f20\u7edf\u7684\u6587\u672c\u683c\u5f0f\u3002\u6587\u672c\u683c\u5f0f\u4f20\u9012\u4e00\u4e2a32\u4f4d\u6574\u6570\uff0c\u4e24\u7aef\u7684 JavaScript \u811a\u672c\u4e0e\u663e\u5361\u90fd\u8981\u8fdb\u884c\u683c\u5f0f\u8f6c\u5316\uff0c\u5c06\u975e\u5e38\u8017\u65f6\u3002\u8fd9\u65f6\u8981\u662f\u5b58\u5728\u4e00\u79cd\u673a\u5236\uff0c\u53ef\u4ee5\u50cf C \u8bed\u8a00\u90a3\u6837\uff0c\u76f4\u63a5\u64cd\u4f5c\u5b57\u8282\uff0c\u5c064\u4e2a\u5b57\u8282\u768432\u4f4d\u6574\u6570\uff0c\u4ee5\u4e8c\u8fdb\u5236\u5f62\u5f0f\u539f\u5c01\u4e0d\u52a8\u5730\u9001\u5165\u663e\u5361\uff0c\u811a\u672c\u7684\u6027\u80fd\u5c31\u4f1a\u5927\u5e45\u63d0\u5347\u3002\\n\\n\u6bd4\u5982 WebGL \u76f8\u5173\u63a5\u53e3\u7684\u8c03\u7528\u3002\\n\\n\u4e8c\u8fdb\u5236\u6570\u7ec4\u4e3b\u8981\u6709\u4e09\u4e2a\u5bf9\u8c61\uff1a\\n- ArrayBuffer\\n- TypedArray\\n- DataView\\n\\n\u53c2\u8003\u6587\u7ae0\uff1a\\n- [JS\u64cd\u4f5c\u5185\u5b58\uff1f\u4e8c\u8fdb\u5236\u6570\u7ec4\u4e86\u89e3\u4e00\u4e0b](https://www.bilibili.com/read/cv4386302/)\\n- [ArrayBuffer \u4ecb\u7ecd](https://wizardforcel.gitbooks.io/es6-tutorial-3e/content/docs/arraybuffer.html)","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/09-nodejs-tracing.md","path":"/nodejs/01-nodejs-basic/09-nodejs-tracing.md","route":"/nodejs/01-nodejs-basic/09-nodejs-tracing.md","leaf":true,"title":"09-nodejs-tracing","depth":2,"content":"---\\ntitle: 09 nodejs \u94fe\u8def\u8ffd\u8e2a\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n## 1\u3001\u7814\u7a76\u80cc\u666f\\n\u94fe\u8def\u8ffd\u8e2a\u662f\u540e\u53f0\u670d\u52a1\u5f00\u53d1\u7684\u4e00\u4e2a\u5f88\u91cd\u8981\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u5c06\u6240\u6709\u7684\u8c03\u7528\u4e32\u8054\u8d77\u6765\uff0c\u5f62\u6210\u4e00\u4e2a\u6709\u5148\u540e\u987a\u5e8f\u7684\u94fe\u8def\u56fe\u3002\u672c\u6587\u7814\u7a76\u5982\u4f55\u5728 nodejs \u4e2d\u5b9e\u73b0\u94fe\u8def\u8ffd\u8e2a\u3002\\n\\n## 2\u3001\u94fe\u8def\u4fe1\u606f\u83b7\u53d6\\n\u5bf9\u4e8e\u591a\u7ebf\u7a0b\u8bed\u8a00\u5982 Java \u3001 Python \u6765\u8bf4\uff0c\u505a\u5168\u94fe\u8def\u4fe1\u606f\u83b7\u53d6\u6709\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5982 ThreadLocal \u8fd9\u79cd\u5229\u5668\u76f8\u52a9\u3002\u800c\u5bf9\u4e8e Node.js \u6765\u8bf4\uff0c\u7531\u4e8e\u5355\u7ebf\u7a0b\u548c\u57fa\u4e8eIO\u56de\u8c03\u7684\u65b9\u5f0f\u6765\u5b8c\u6210\u5f02\u6b65\u64cd\u4f5c\uff0c\u6240\u4ee5\u5728\u5168\u94fe\u8def\u4fe1\u606f\u83b7\u53d6\u4e0a\u5b58\u5728\u5929\u7136\u83b7\u53d6\u96be\u5ea6\u5927\u7684\u95ee\u9898\u3002\u90a3\u4e48\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\\n\\n## 3\u3001\u4e1a\u754c\u65b9\u6848\\n\u7531\u4e8e Node.js \u5355\u7ebf\u7a0b\uff0c\u975e\u963b\u585e IO \u7684\u8bbe\u8ba1\u601d\u60f3\u3002\u5728\u5168\u94fe\u8def\u4fe1\u606f\u83b7\u53d6\u4e0a\uff0c\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b 2 \u79cd\u65b9\u6848\uff1a\\n\\n- \u663e\u5f0f\u4f20\u9012\uff1a\u624b\u52a8\u4f20\u9012\u3001\u4e2d\u95f4\u4ef6\u6302\u8f7d\uff1b\\n- Async Hooks\uff1anode api\uff1b\\n\\n\u65b9\u68481\u663e\u5f0f\u4f20\u9012\u8fc7\u4e8e\u7e41\u7410\u548c\u5177\u6709\u4fb5\u5165\u6027\u3002<br />\u6548\u679c\u6700\u597d\u7684\u65b9\u6848\u5c31\u662f\u7b2c2\u79cd\u65b9\u6848\uff0c\u8fd9\u79cd\u65b9\u6848\u6709\u5982\u4e0b\u4f18\u70b9\uff1a\\n\\n- nodejs \u539f\u751f\u652f\u6301\u7684\u6a21\u5757\uff0c\u5177\u6709\u53ef\u9760\u6027\u6027\u4fdd\u8bc1\\n- \u9690\u5f0f\u7684\u94fe\u8def\u8ddf\u8e2a\uff0c\u5165\u4fb5\u5c0f\uff0c\u76ee\u524d\u9690\u5f0f\u8ddf\u8e2a\u7684\u6700\u4f18\u89e3\uff1b\\n- \u63d0\u4f9b\u4e86 API \u6765\u8ffd\u8e2a node \u4e2d\u5f02\u6b65\u8d44\u6e90\u7684\u751f\u547d\u5468\u671f\uff1b\\n- \u501f\u52a9 async_hook \u5b9e\u73b0\u4e0a\u4e0b\u6587\u7684\u5173\u8054\u5173\u7cfb\uff1b\\n\\n## 4\u3001Async Hooks\\n### 4.1  Async Hooks \u6982\u5ff5\\nAsync Hooks \u662f Node.js v8.x \u7248\u672c\u65b0\u589e\u52a0\u7684\u4e00\u4e2a\u6838\u5fc3\u6a21\u5757\uff0c\u5b83\u63d0\u4f9b\u4e86 API \u7528\u6765\u8ffd\u8e2a Node.js \u4e2d\u5f02\u6b65\u8d44\u6e90\u7684\u751f\u547d\u5468\u671f\uff0c\u53ef\u5e2e\u52a9\u6211\u4eec\u6b63\u786e\u8ffd\u8e2a\u5f02\u6b65\u8c03\u7528\u7684\u5904\u7406\u903b\u8f91\u53ca\u5173\u7cfb\u3002\\n\\n### 4.2 Async Hooks \u6838\u5fc3\\n![image__1](http://s3.airtlab.com/blog/image__1.png)\\n```typescript\\nimport async_hooks from \'node:async_hooks\';\\n\\n// Return the ID of the current execution context.\\n// \u8fd4\u56de\u5f53\u524d\u5f02\u6b65\u8d44\u6e90\u7684\u6267\u884c\u4e0a\u4e0b\u6587 id\\nconst eid = async_hooks.executionAsyncId();\\n\\n// Return the ID of the handle responsible for triggering the callback of the\\n// current execution scope to call.\\n// \u8fd4\u56de\u5f53\u524d\u5f02\u6b65\u8d44\u6e90\u6267 execution scope \u7684 trigger ID\\nconst tid = async_hooks.triggerAsyncId();\\n\\n// Create a new AsyncHook instance. All of these callbacks are optional.\\n// \u521b\u5efa\u5b9e\u4f8b\\nconst asyncHook =\\n    async_hooks.createHook({ init, before, after, destroy, promiseResolve });\\n\\n// Allow callbacks of this AsyncHook instance to call. This is not an implicit\\n// action after running the constructor, and must be explicitly run to begin\\n// executing callbacks.\\n// \u542f\u7528\\nasyncHook.enable();\\n\\n// Disable listening for new asynchronous events.\\n// \u7981\u7528\\nasyncHook.disable();\\n\\n//\\n// The following are the callbacks that can be passed to createHook().\\n//\\n\\n// init() is called during object construction. The resource may not have\\n// completed construction when this callback runs. Therefore, all fields of the\\n// resource referenced by \\"asyncId\\" may not have been populated.\\n// \u521d\u59cb\u5316(\u4e0d\u4e00\u5b9a\u5b8c\u6210)\\nfunction init(asyncId, type, triggerAsyncId, resource) { }\\n\\n// before() is called just before the resource\'s callback is called. It can be\\n// called 0-N times for handles (such as TCPWrap), and will be called exactly 1\\n// time for requests (such as FSReqCallback).\\nfunction before(asyncId) { }\\n\\n// after() is called just after the resource\'s callback has finished.\\nfunction after(asyncId) { }\\n\\n// destroy() is called when the resource is destroyed.\\nfunction destroy(asyncId) { }\\n\\n// promiseResolve() is called only for promise resources, when the\\n// resolve() function passed to the Promise constructor is invoked\\n// (either directly or through other means of resolving a promise).\\nfunction promiseResolve(asyncId) { }\\n```\\n\u901a\u8fc7 async_hooks \u94a9\u5b50\uff0c\u6211\u4eec\u53ef\u4ee5\u63a2\u6d4b\u5f02\u6b65\u8d44\u6e90\u6267\u884c\u7684\u5168\u751f\u547d\u5468\u671f\uff0c\u4ece \u521b\u5efa -> \u6267\u884c\u524d -> \u6267\u884c\u540e -> \u9500\u6bc1\u3002\\n```javascript\\nconst asyncHooks = require(\'async_hooks\');\\nconst fs = require(\'fs\');\\n\\nconst hooks = asyncHooks.createHook({\\n  init(asyncId, type, triggerAsyncId, resource) {\\n    fs.writeFileSync(2, `init asyncId: ${asyncId}, type: ${type}, triggerAsyncId: ${triggerAsyncId}\\\\n`)\\n  },\\n  destroy (asyncId) {\\n    fs.writeFileSync(2, `destroy: ${asyncId}\\\\n`)\\n  },\\n  before (asyncId) {\\n    fs.writeFileSync(2, `before: ${asyncId}\\\\n`)\\n  },\\n  after (asyncId) {\\n    fs.writeFileSync(2, `after: ${asyncId}\\\\n`)\\n  }\\n});\\nhooks.enable();\\n\\nsetTimeout(() => {\\n  setTimeout(() => {\\n  })\\n})\\n```\\n\u6253\u5370\u987a\u5e8f\u5982\u4e0b\uff1a\\n```javascript\\ninit asyncId: 2, type: Timeout, triggerAsyncId: 1\\nbefore: 2\\ninit asyncId: 3, type: Timeout, triggerAsyncId: 2\\nafter: 2\\ndestroy: 2\\nbefore: 3\\nafter: 3\\ndestroy: 3\\n```\\n\\n### 4.3 AsyncResource \u5f02\u6b65\u8d44\u6e90\\nAsyncResource \u7528\u4e8e\u521b\u5efa\u5f02\u6b65\u8d44\u6e90 context\uff0c\u53ef\u4ee5\u8ba9\u5f88\u591a\u4e2a\u5f02\u6b65\u8d44\u6e90\u5171\u4eab\u4e0a\u4e0b\u6587\u3002\\n```typescript\\nconst asyncHook = require(\\"async_hooks\\");\\nconst fs = require(\\"fs\\");\\nconst list = []\\n\\nasyncHook\\n  .createHook({\\n    init(asyncId, type, triggerAsyncId) {\\n      const content = `asyncId: ${asyncId}, type: ${type}, triggerAsyncId: ${triggerAsyncId}`\\n      fs.writeSync(1, content);\\n      fs.writeSync(1, \\"\\\\n\\");\\n    },\\n  })\\n  .enable();\\n\\nconst asyncResource = new asyncHook.AsyncResource(\\"ZeroContext\\");\\nfs.writeSync(1, asyncResource.asyncId().toString());\\nfs.writeSync(1, \\"\\\\n\\");\\n\\n// \u5728\u6b64\u5f02\u6b65\u8d44\u6e90\u7684\u6267\u884c\u4e0a\u4e0b\u6587\u4e2d\u8c03\u7528\u7684\u51fd\u6570\\nasyncResource.runInAsyncScope(() => {\\n  setTimeout(() => {})\\n});\\n\\n// asyncId: 2, type: ZeroContext, triggerAsyncId: 1\\n// 2\\n// asyncId: 3, type: Timeout, triggerAsyncId: 2\\n```\\n```javascript\\nconst http = require(\'http\');\\nconst { AsyncLocalStorage } = require(\'async_hooks\');\\n\\nconst asyncLocalStorage = new AsyncLocalStorage();\\n\\nfunction logWithId(msg) {\\n  const id = asyncLocalStorage.getStore();\\n  console.log(`${id !== undefined ? id : \'-\'}:`, msg);\\n}\\n\\nlet idSeq = 0;\\n\\nhttp.createServer((req, res) => {\\n  // \u6bcf\u4e00\u4e2a\u8bf7\u6c42\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684id\\n  // \u6bcf\u4e00\u4e2a\u8bf7\u6c42\u7684\u5904\u7406\u903b\u8f91\u90fd\u653e\u5230 asyncLocalStorage.run \u4e2d\uff0c\u5e76\u4e14\u4f20\u5165 id\\n\\n  asyncLocalStorage.run(idSeq++, () => {\\n    logWithId(\'start\');\\n    setImmediate(() => {\\n      logWithId(\'processing...\');\\n      setTimeout(() => {\\n        logWithId(\'finish\');\\n        res.end(\\"hello\\");\\n      }, 2000)\\n    });\\n  });\\n}).listen(8080);\\n```\\n\\n## 5\u3001http-context \u7684\u5b9e\u73b0\\nhttp context \u662f\u6307\u8bf7\u6c42\u4e0a\u4e0b\u6587\uff0c\u5bf9\u4e8e server \u6765\u8bf4\uff0c\u6bcf\u4e00\u4e2a\u8bf7\u6c42\u90fd\u6709\u72ec\u7acb\u7684\u8bf7\u6c42\u4e0a\u4e0b\u6587\u3002\\n### 5.1 \u901a\u8fc7 hooks \u5b9e\u73b0\\n\u7b80\u5316\u540e\u7684\u4ee3\u7801\uff0cns \u5bf9\u8c61\u67093\u4e2a\u5173\u952e\u7684\u5c5e\u6027: \\n\\n- active \u5f53\u524d\u7684 context\\n- _contexts context \u548c asyncId \u7684\u6620\u5c04\\n- _set context \u6808\\n```javascript\\nfunction Context() {\\n  this._map = {};\\n}\\n\\nContext.prototype.set = function (key, val) {\\n  this._map[key] = val;\\n};\\n\\nContext.prototype.get = function (key, val) {\\n  return this._map[key];\\n};\\n\\nconst ns = new Namespace();\\nlet currentUid = -1;\\n\\nfunction createNamespace(name) {\\n  let namespace = new Namespace(name);\\n  namespace.id = currentUid;\\n}\\n\\nconst hooks = asyncHooks.createHook({\\n  // \u5f53 int \u88ab\u89e6\u53d1\u65f6\u8bf4\u660e\uff0c\u6b63\u5728\u521b\u5efa\u4e00\u4e2a\u5f02\u6b65\u8d44\u6e90\uff0c\\n  // \u6211\u4eec\u9700\u8981\u5c06\u8be5\u5f02\u6b65\u8d44\u6e90\u548c\u5f53\u524d\u7684 context \u5173\u8054\u8d77\u6765\\n  init(asyncId, type, triggerAsyncId, resource) {\\n    currentUid = async_hooks.executionAsyncId();\\n    if (namespace.active) {\\n      namespace._contexts.set(asyncId, namespace.active);\\n    } else if (currentUid === 0) {\\n      const triggerId = async_hooks.triggerAsyncId();\\n      const triggerIdContext = namespace._contexts.get(triggerId);\\n      if (triggerIdContext) {\\n        namespace._contexts.set(asyncId, triggerIdContext);\\n      }\\n    }\\n  },\\n  // \u5f53 before \u88ab\u8c03\u7528\u65f6\uff0c\u8bf4\u660e\u9a6c\u4e0a\u8981\u6267\u884c\u8be5\u5f02\u6b65\u8d44\u6e90\u7684\u56de\u8c03\\n  // \u6211\u4eec\u9700\u8981\u66f4\u65b0\u8be5 active \u4e3a _map[asyncId]\\n  // \u800c\u4e14 push \u5230 context stack \u4e2d\\n  before(asyncId) {\\n    const context = this._map[asyncId];\\n    ns.enter(context);\\n  },\\n  // \u5f53 after \u88ab\u8c03\u7528\u65f6\uff0c\u8bf4\u660e\u9a6c\u4e0a\u8981\u6267\u884c\u8be5\u5f02\u6b65\u8d44\u6e90\u7684\u56de\u8c03\u5df2\u7ecf\u6267\u884c\u5b8c\u6bd5\\n  // \u6211\u4eec\u9700\u8981\u66f4\u65b0\u8be5 active \u4e3a stack \u4e2d\u7684\u5012\u6570\u7b2c\u4e8c\u4e2a\\n  after(asyncId) {\\n    const context = this._map[asyncId];\\n    ns.exit(context);\\n  },\\n  // \u5f02\u6b65\u8d44\u6e90\u9500\u6bc1\uff0c\u91ca\u653e\u8d44\u6e90\\n  destroy(asyncId) {\\n    ns._contexts[asyncId] = null;\\n  },\\n});\\n\\nhooks.enabled();\\n\\nfunction Namespace() {\\n  this.active = null;\\n  this._set = [];\\n  this._contexts = new Map();\\n}\\n\\nNamespace.prototype.run = function (fn) {\\n  const context = new createContext();\\n  this.enter(context);\\n  fn(context);\\n};\\n\\nNamespace.prototype.runPromise = function (fn) {\\n  const context = new createContext();\\n  const promise = this.enter(context);\\n\\n  return promise\\n    .then((result) => {\\n      this.exit(context);\\n      return result;\\n    })\\n    .catch((err) => {\\n      this.exit(context);\\n      throw err;\\n    });\\n};\\n\\nNamespace.prototype.enter = function (context) {\\n  this.active = context;\\n  this.stack.push(this.active);\\n};\\n\\nNamespace.prototype.exit = function (context) {\\n  if (this.active === context) {\\n    this.active = this._set.pop();\\n    return;\\n  }\\n};\\n\\n// \u63d0\u4f9b express middleware\\nfunction contextMiddleware(req, res, next) {\\n  ns.run(() => next());\\n}\\n```\\n### 5.2 cls-hookd\\n[npm cls]([https://www.npmjs.com/package/cls](https://www.npmjs.com/package/cls)) \u7684\u5de5\u4f5c\u65b9\u5f0f\u7c7b\u4f3c\u4e8e tls\u3002[cls-hooked]([https://www.npmjs.com/package/cls-hooked](https://www.npmjs.com/package/cls-hooked)) \u8fd9\u4e2a\u5305\u4ece cls fork \u800c\u6765\uff0ccls-hooked \u91c7\u7528\u65b0\u7684 api [async_hooks](https://link.juejin.cn/?target=https%3A%2F%2Fnodejs.org%2Fapi%2Fasync_hooks.html) \u5bf9\u6838\u5fc3\u903b\u8f91\u8fdb\u884c\u4e86\u91cd\u5199\u3002\\n### 5.3 express-http-context\\n\u57fa\u4e8e cls-hookd \u5c01\u88c5\u4e3a express \u4e2d\u95f4\u4ef6\u7684\u5f62\u5f0f\\n## 6\u3001\u53c2\u8003\u8d44\u6599\\n\\n- VIVO \u6280\u672f\u56e2\u961f\u300a Node.js \u5e94\u7528\u5168\u94fe\u8def\u8ffd\u8e2a\u6280\u672f\u300b\u2014\u2014 [\u5168\u94fe\u8def\u4fe1\u606f\u83b7\u53d6](https://mp.weixin.qq.com/s/SpC50ZqbKnKjlGBTSPMd9w?scene=25#wechat_redirect)","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/10-how-to-crash-node.md","path":"/nodejs/01-nodejs-basic/10-how-to-crash-node.md","route":"/nodejs/01-nodejs-basic/10-how-to-crash-node.md","leaf":true,"title":"10-how-to-crash-node","depth":2,"content":"---\\ntitle: 10 \u5982\u4f55\u8ba9 nodejs \u7a0b\u5e8f crash\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n- \u5f02\u5e38\u672a\u88ab\u6355\u83b7\\n- \u5185\u5b58\u6ea2\u51fa\\n- \u53d1\u9001\u4e2d\u65ad\u4fe1\u53f7\uff08CTRL + C\uff09\u6216\u505c\u6b62\u8fdb\u7a0b\u6765\u505c\u6b62Node.js\u7a0b\u5e8f\\n- \u5728\u4ee3\u7801\u4e2d\u5f15\u5165\u4e0d\u5b58\u5728\u7684\u6a21\u5757\u6216\u6587\u4ef6","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/11-amazing-stream.md","path":"/nodejs/01-nodejs-basic/11-amazing-stream.md","route":"/nodejs/01-nodejs-basic/11-amazing-stream.md","leaf":true,"title":"11-amazing-stream","depth":2,"content":"---\\ntitle: 11 stream \u7684\u4f7f\u7528\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n## 1\u3001stream \u4ecb\u7ecd\\n\\nStream \u662f\u4e00\u4e2a\u62bd\u8c61\u63a5\u53e3\uff0cNode \u4e2d\u6709\u5f88\u591a\u5bf9\u8c61\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u63a5\u53e3\u3002\u4f8b\u5982\uff0c\u5bf9 http \u670d\u52a1\u5668\u53d1\u8d77\u8bf7\u6c42\u7684 request \u5bf9\u8c61\u5c31\u662f\u4e00\u4e2a Stream\uff0c\u8fd8\u6709 stdout\uff08\u6807\u51c6\u8f93\u51fa\uff09\u3002\\n\\n**Node.js Stream \u6709\u56db\u79cd\u6d41\u7c7b\u578b**:\\n- Readable - \u53ef\u8bfb\u64cd\u4f5c\u3002\\n- Writable - \u53ef\u5199\u64cd\u4f5c\u3002\\n- Duplex - \u53ef\u8bfb\u53ef\u5199\u64cd\u4f5c.\\n- Transform - \u64cd\u4f5c\u88ab\u5199\u5165\u6570\u636e\uff0c\u7136\u540e\u8bfb\u51fa\u7ed3\u679c\u3002\\n\\n\u6240\u6709\u7684 Stream \u5bf9\u8c61\u90fd\u662f EventEmitter \u7684\u5b9e\u4f8b\u3002\\n\\n**\u5e38\u7528\u7684\u4e8b\u4ef6\u6709**\uff1a\\n- data - \u5f53\u6709\u6570\u636e\u53ef\u8bfb\u65f6\u89e6\u53d1\u3002\\n- end - \u6ca1\u6709\u66f4\u591a\u7684\u6570\u636e\u53ef\u8bfb\u65f6\u89e6\u53d1\u3002\\n- error - \u5728\u63a5\u6536\u548c\u5199\u5165\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef\u65f6\u89e6\u53d1\u3002\\n- finish - \u6240\u6709\u6570\u636e\u5df2\u88ab\u5199\u5165\u5230\u5e95\u5c42\u7cfb\u7edf\u65f6\u89e6\u53d1\u3002\\n\\n## 2\u3001stream \u4f18\u52bf\\n\\n\u76f8\u5bf9\u4e8e\u4f7f\u7528\u5176\u4ed6\u7684\u6570\u636e\u5904\u7406\u65b9\u6cd5\uff0c\u6d41\u57fa\u672c\u4e0a\u63d0\u4f9b\u4e86\u4e24\u4e2a\u4e3b\u8981\u4f18\u70b9\uff1a\\n- \u5185\u5b58\u6548\u7387: \u65e0\u9700\u52a0\u8f7d\u5927\u91cf\u7684\u6570\u636e\u5230\u5185\u5b58\u4e2d\u5373\u53ef\u8fdb\u884c\u5904\u7406\u3002\\n- \u65f6\u95f4\u6548\u7387: \u5f53\u83b7\u5f97\u6570\u636e\u4e4b\u540e\u5373\u53ef\u7acb\u5373\u5f00\u59cb\u5904\u7406\u6570\u636e\uff0c\u8fd9\u6837\u6240\u9700\u7684\u65f6\u95f4\u66f4\u5c11\uff0c\u800c\u4e0d\u5fc5\u7b49\u5230\u6574\u4e2a\u6570\u636e\u6709\u6548\u8d1f\u8f7d\u53ef\u7528\u624d\u5f00\u59cb\\n\\n## 3\u3001\u5185\u5b58\u5360\u7528\u6d4b\u8bd5\\n\\n```js\\nconst fs = require(\\"fs\\");\\nconst v8 = require(\\"v8\\");\\n\\nconst getData = (start) => {\\n  const list = [];\\n  return new Promise((resolve) => {\\n    setTimeout(() => {\\n      const a = {};\\n      a;\\n      for (let i = 0; i < 50; i++) {\\n        const index = start + i;\\n        list.push({\\n          name: \\"\u59d3\u540d\\" + index,\\n          age: `${index}`,\\n          content: `\u8fd9\u662f\u4e00\u4e2a\u63a9\u6f14\u793a\uff0c\u54c8\u54c8\u54c8 ${index}`,\\n          name2: \\"\u59d3\u540d\\" + index,\\n          age2: `${index}`,\\n          content2: `\u8fd9\u662f\u4e00\u4e2a\u63a9\u6f14\u793a\uff0c\u54c8\u54c8\u54c8 ${index}`,\\n          id: `\u5927\u51b0\u54e5 ${index}`,\\n          address: `\u6df1\u5733\u5e02 ${index}`,\\n        });\\n      }\\n      resolve(list);\\n    });\\n  });\\n};\\n\\nasync function testNormal() {\\n  const list = [];\\n  let i = 0;\\n\\n  // setInterval(() => {\\n  //   console.log(v8.getHeapStatistics().used_heap_size);\\n  // }, 2000);\\n\\n  while (i < 100 * 10000) {\\n    const data = await getData(i);\\n    list.push(...data);\\n    i += 50;\\n  }\\n\\n  console.log(\\"case normal\\", v8.getHeapStatistics().used_heap_size);\\n\\n  setTimeout(() => {\\n    fs.writeFileSync(\\"out.json\\", JSON.stringify(list));\\n  });\\n}\\n\\nfunction write(stream, chunk) {\\n  return new Promise((resolve) => {\\n    stream.write(chunk, (err) => {\\n      if (!err) {\\n        resolve();\\n      }\\n    });\\n  });\\n}\\n\\nasync function testStream() {\\n  const stream = fs.createWriteStream(\\"stream.json\\");\\n\\n  stream.on(\'drain\', () => {\\n    console.log(`drain`)\\n  })\\n\\n  let i = 0;\\n\\n  setInterval(() => {\\n    console.log(v8.getHeapStatistics().used_heap_size);\\n  }, 2000);\\n\\n  while (i < 100 * 10000) {\\n    const data = await getData(i);\\n    await write(stream, JSON.stringify(data));\\n    i += 50;\\n  }\\n\\n  console.log(`case stream`);\\n  console.log(v8.getHeapStatistics().used_heap_size);\\n\\n  setTimeout(() => {\\n    stream.close();\\n  });\\n}\\n\\nasync function start() {\\n  console.log(process.pid);\\n  await testStream()\\n  // setTimeout(() => {\\n  //   testNormal();\\n  // }, 1000)\\n}\\n\\nstart()\\n```\\n\\n\u901a\u8fc7\u5bf9\u6bd4\u53d1\u73b0\uff0c\u4f7f\u7528 stream \u65b9\u5f0f\u8fdb\u884c\u5199\u6587\u4ef6\u65f6\uff0c\u5185\u5b58\u5360\u7528\u6bd4\u8f83\u7a33\u5b9a\uff0c\u800c\u4ee4\u53e6\u4e00\u79cd\u65b9\u5f0f\uff0c\u5185\u5b58\u4f1a\u6301\u7eed\u4e0a\u5347\uff0c\u76f4\u5230\u6587\u4ef6\u5199\u5165\u5b8c\u6210\u3002\\n\\n## 5\u3001\u5e38\u89c1\u95ee\u9898\\n\\n### 5.1 \u4ec0\u4e48\u662f stream\\n\\nstream \u662f\u57fa\u4e8e\u4e8b\u4ef6EventEmitter\u7684\u6570\u636e\u7ba1\u7406\u6a21\u5f0f\uff0e\u7531\u5404\u79cd\u4e0d\u540c\u7684\u62bd\u8c61\u63a5\u53e3\u7ec4\u6210\uff0c\u4e3b\u8981\u5305\u62ec\u53ef\u5199\uff0c\u53ef\u8bfb\uff0c\u53ef\u8bfb\u5199\uff0c\u53ef\u8f6c\u6362\u7b49\u51e0\u79cd\u7c7b\u578b\uff0e\\n\\n### 5.2 stream \u597d\u5904\\n\\n\u975e\u963b\u585e\u5f0f\u6570\u636e\u5904\u7406\u63d0\u5347\u6548\u7387\uff0c\u7247\u65ad\u5904\u7406\u8282\u7701\u5185\u5b58\uff0c\u7ba1\u9053\u5904\u7406\u65b9\u4fbf\u53ef\u6269\u5c55\u7b49.\\n\\n### 5.3 stream \u5178\u578b\u5e94\u7528\\n\\n\u6587\u4ef6\uff0c\u7f51\u7edc\uff0c\u6570\u636e\u8f6c\u6362\uff0c\u97f3\u9891\u89c6\u9891\u7b49.\\n\\n### 5.4 \u600e\u4e48\u6355\u83b7 stream \u9519\u8bef\\n\\n\u76d1\u542c error \u4e8b\u4ef6\uff0c\u65b9\u6cd5\u540c EventEmitter.\\n\\n### 5.5 \u6709\u54ea\u4e9b\u5e38\u7528 stream\\n- Readable \u4e3a\u53ef\u88ab\u8bfb\u6d41\uff0c\u5728\u4f5c\u4e3a\u8f93\u5165\u6570\u636e\u6e90\u65f6\u4f7f\u7528\uff1b\\n- Writable \u4e3a\u53ef\u88ab\u5199\u6d41,\u5728\u4f5c\u4e3a\u8f93\u51fa\u6e90\u65f6\u4f7f\u7528\uff1b\\n- Duplex \u4e3a\u53ef\u8bfb\u5199\u6d41,\u5b83\u4f5c\u4e3a\u8f93\u51fa\u6e90\u63a5\u53d7\u88ab\u5199\u5165\uff0c\u540c\u65f6\u53c8\u4f5c\u4e3a\u8f93\u5165\u6e90\u88ab\u540e\u9762\u7684\u6d41\u8bfb\u51fa\uff0e\\n- Transform \u673a\u5236\u548c Duplex \u4e00\u6837\uff0c\u90fd\u662f\u53cc\u5411\u6d41\uff0c\u533a\u522b\u662f Transform \u53ea\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570 `_transfrom(chunk, encoding, callback)` \u800c Duplex \u9700\u8981\u5206\u522b\u5b9e\u73b0`_read(size)` \u51fd\u6570\u548c `_write(chunk, encoding, callback)` \u51fd\u6570\u3002\\n\\n### 5.6 \u5b9e\u73b0\u4e00\u4e2a writable stream\\n\\n\u4e09\u6b65\u8d70:\\n- 1) \u6784\u9020\u51fd\u6570 call Writable \\n- 2) \u7ee7\u627f Writable\\n- 3) \u5b9e\u73b0 `_write(chunk, encoding, callback)` \u51fd\u6570\\n\\n```js\\nvar Writable = require(\'stream\').Writable;\\nvar util = require(\'util\');\\n\\nfunction MyWritable(options) {\\n\\tWritable.call(this, options);\\n}\\n\\nutil.inherits(MyWritable, Writable); // \u7ee7\u627f\u81eaWritable\\n\\nMyWritable.prototype._write = function(chunk, encoding, callback) {\\n\\tconsole.log(\\"\u88ab\u5199\u5165\u7684\u6570\u636e\u662f:\\", chunk.toString()); // \u6b64\u5904\u53ef\u5bf9\u5199\u5165\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\\n\\tcallback();\\n};\\n\\nprocess.stdin.pipe(new MyWritable()); // stdin\u4f5c\u4e3a\u8f93\u5165\u6e90\uff0cMyWritable\u4f5c\u4e3a\u8f93\u51fa\u6e90   \\n```\\n\\n## 6\u3001\u53c2\u8003\u6587\u6863\\n\\n- [\u6df1\u5165\u7406\u89e3 Node Stream \u5185\u90e8\u673a\u5236](https://www.barretlee.com/blog/2017/06/06/dive-to-nodejs-at-stream-module/)\\n- [\u60f3\u5b66Node.js\uff0cstream\u5148\u6709\u5fc5\u8981\u641e\u6e05\u695a](https://juejin.cn/post/6844903891083984910)\\n- [\u53ef\u5199\u6d41 - nodejs stream\u603b\u7ed3](https://www.cnblogs.com/walkermag/p/13579990.html)","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/12-event-loop.md","path":"/nodejs/01-nodejs-basic/12-event-loop.md","route":"/nodejs/01-nodejs-basic/12-event-loop.md","leaf":true,"title":"12-event-loop","depth":2,"content":"---\\ntitle: 12 \u4e8b\u4ef6\u5faa\u73af\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n- \u5927\u5faa\u73af\u5b8f\u4efb\u52a1\\n- \u5c0f\u5faa\u73af\u5fae\u4efb\u52a1","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/13-settimeout.md","path":"/nodejs/01-nodejs-basic/13-settimeout.md","route":"/nodejs/01-nodejs-basic/13-settimeout.md","leaf":true,"title":"13-settimeout","depth":2,"content":"---\\ntitle: 13 setTimeout \u5b9e\u73b0\u539f\u7406\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n\u4e0d\u540c\u7684 Runtime \u5b9e\u73b0\u673a\u5236\u4e0d\u4e00\u6837\uff0c`setTimeout` \u5e76\u4e0d\u662f ECMA \u7684 API\uff0c\u800c\u662f Web API\uff0c\u6240\u4ee5 V8 \u8fd9\u7c7b JavaScript \u5f15\u64ce\u662f\u4e0d\u4f1a\u5e2e\u4f60\u5b9e\u73b0\u7684\uff0c\u9700\u8981\u5728 Runtime \u4e2d\u81ea\u884c\u5b9e\u73b0\u3002 \\n\\n- [`\u6b7b\u6708` \u548c `\u738b\u8bd1\u950b` \u56de\u7b54](https://www.zhihu.com/question/463446982/answer/1927497540)\\n- [\u6df1\u5165Linux C/C++ Timer\u5b9a\u65f6\u5668\u7684\u5b9e\u73b0\u6838\u5fc3\u539f\u7406](https://cloud.tencent.com/developer/article/1763594)","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/14-max-old-space-size.md","path":"/nodejs/01-nodejs-basic/14-max-old-space-size.md","route":"/nodejs/01-nodejs-basic/14-max-old-space-size.md","leaf":true,"title":"14-max-old-space-size","depth":2,"content":"---\\ntitle: 14 \u8bbe\u7f6e max-old-space-size\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n\u8bbe\u7f6e V8 \u65e7\u751f\u4ee3\u5185\u5b58\u90e8\u5206\u7684\u6700\u5927\u5185\u5b58\u5927\u5c0f\u3002 \u968f\u7740\u5185\u5b58\u6d88\u8017\u63a5\u8fd1\u6781\u9650\uff0cV8 \u4f1a\u82b1\u66f4\u591a\u7684\u65f6\u95f4\u5728\u5783\u573e\u56de\u6536\u4e0a\uff0c\u4ee5\u91ca\u653e\u672a\u4f7f\u7528\u7684\u5185\u5b58\u3002\\n\\ntest.js\\n```js\\nconst v8 = require(\'v8\');\\nconsole.log(v8.getHeapStatistics())\\n```\\n\\n\u5f53\u524d\u7684\u6d4b\u8bd5\u5bbf\u4e3b\u673a\u4e3a MacPro 2019 16G \u5185\u5b58\u3002\\n\\n\u5f53\u6267\u884c `node test.js`\\n```json\\n{\\n  total_heap_size: 4984832,\\n  total_heap_size_executable: 524288,\\n  total_physical_size: 3947728,\\n  total_available_size: 4342033176,\\n  used_heap_size: 4170336,\\n  heap_size_limit: 4345298944,\\n  malloced_memory: 254120,\\n  peak_malloced_memory: 90624,\\n  does_zap_garbage: 0,\\n  number_of_native_contexts: 1,\\n  number_of_detached_contexts: 0,\\n  total_global_handles_size: 8192,\\n  used_global_handles_size: 3200,\\n  external_memory: 321551\\n}\\n```\\n\\n\u5f53\u6267\u884c `NODE_OPTIONS=--max-old-space-size=6144 node ./test.js`\\n```json\\n{\\n  total_heap_size: 4984832,\\n  total_heap_size_executable: 524288,\\n  total_physical_size: 3913440,\\n  total_available_size: 6489516800,\\n  used_heap_size: 4170368,\\n  heap_size_limit: 6492782592,\\n  malloced_memory: 254120,\\n  peak_malloced_memory: 221520,\\n  does_zap_garbage: 0,\\n  number_of_native_contexts: 1,\\n  number_of_detached_contexts: 0,\\n  total_global_handles_size: 8192,\\n  used_global_handles_size: 3200,\\n  external_memory: 321551\\n}\\n```\\n\\n\u5176\u4e2d total_available_size \u5df2\u7ecf\u88ab\u4fee\u6539\u3002","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/15-heapsnapshot.md","path":"/nodejs/01-nodejs-basic/15-heapsnapshot.md","route":"/nodejs/01-nodejs-basic/15-heapsnapshot.md","leaf":true,"title":"15-heapsnapshot","depth":2,"content":"---\\ntitle: 15 v8 \u5185\u5b58\u5feb\u7167\u6587\u4ef6\u5206\u6790\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n- https://segmentfault.com/a/1190000039650874?sort=newest\\n- https://zhengrenzhe.com/posts/v8-snapshot/","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/16-node-monitor.md","path":"/nodejs/01-nodejs-basic/16-node-monitor.md","route":"/nodejs/01-nodejs-basic/16-node-monitor.md","leaf":true,"title":"16-node-monitor","depth":2,"content":"---\\ntitle: 16 nodejs \u5e94\u7528\u76d1\u63a7\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n- [alinode](https://www.aliyun.com/product/nodejs)","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/17-watch-file-change.md","path":"/nodejs/01-nodejs-basic/17-watch-file-change.md","route":"/nodejs/01-nodejs-basic/17-watch-file-change.md","leaf":true,"title":"17-watch-file-change","depth":2,"content":"---\\ntitle: 17 \u76d1\u542c\u6587\u4ef6\u53d8\u5316\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n- [node.js\u76d1\u542c\u6587\u4ef6\u53d8\u5316](https://juejin.cn/post/6844903824738500622)\\n- chokidar \u7684\u4f7f\u7528\\n- nodemon \u539f\u7406\u7b49\\n- watchdog \u7684\u4f7f\u7528\\n","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/18-restart-node-app.md","path":"/nodejs/01-nodejs-basic/18-restart-node-app.md","route":"/nodejs/01-nodejs-basic/18-restart-node-app.md","leaf":true,"title":"18-restart-node-app","depth":2,"content":"---\\ntitle: 18 \u5982\u4f55\u91cd\u542f\u670d\u52a1\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n\u5f53 node \u8fdb\u7a0b\u6302\u4e86\uff0c\u5982\u4f55\u81ea\u52a8\u91cd\u542f\uff1fsupervisor nodemon \u7b49\u91cd\u542f\u539f\u7406\u3002\u3002\\n\\n\u5728 Node.js \u5e94\u7528\u8fd0\u884c\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u7b2c\u4e09\u65b9\u7684 Node.js \u6a21\u5757\u6216\u8005\u5de5\u5177\u6765\u5b9e\u73b0\u5e94\u7528\u6302\u4e86\u4e4b\u540e\u81ea\u52a8\u91cd\u3002\\n\\n## 1. PM2\\nPM2\uff08process manager 2\uff09\u662f\u4e00\u4e2a\u5f00\u6e90\u7684 Node.js \u8fdb\u7a0b\u7ba1\u7406\u5668\uff0c\u5b83\u53ef\u4ee5\u542f\u52a8\u3001\u505c\u6b62\u3001\u91cd\u542f\u548c\u76d1\u89c6 Node.js \u5e94\u7528\u3002PM2 \u53ef\u4ee5\u81ea\u52a8\u76d1\u63a7\u5e94\u7528\u7a0b\u5e8f\u7684\u8fd0\u884c\u72b6\u6001\uff0c\u5e76\u4e14\u5728\u5e94\u7528\u7a0b\u5e8f\u9000\u51fa\u6216\u5954\u6e83\u65f6\u81ea\u52a8\u91cd\u542f\u3002\u4f7f\u7528 PM2 \u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u57fa\u672c\u7684\u547d\u4ee4\u6765\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f8b\u5982\uff1a\\n\\n```\\npm2 start /path/to/app.js       // \u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\\npm2 stop app                    // \u505c\u6b62\u5e94\u7528\u7a0b\u5e8f\\npm2 restart app                 // \u91cd\u542f\u5e94\u7528\u7a0b\u5e8f\\npm2 list                        // \u5217\u51fa\u5f53\u524d\u8fd0\u884c\u7684\u6240\u6709\u5e94\u7528\u7a0b\u5e8f\\n```\\n\\n## 2. Forever\\nForever \u662f\u4e00\u4e2a\u7b80\u5355\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u542f\u52a8\u548c\u7ba1\u7406 Node.js \u5e94\u7528\u7a0b\u5e8f\uff0c\u7c7b\u4f3c\u4e8e PM2\u3002\u4f7f\u7528 Forever \u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\u540e\uff0cForever \u4f1a\u76d1\u89c6\u5e94\u7528\u7a0b\u5e8f\u7684\u8fd0\u884c\u72b6\u6001\uff0c\u5f53\u5e94\u7528\u7a0b\u5e8f\u5954\u6e83\u65f6\u4f1a\u81ea\u52a8\u91cd\u542f\u5e94\u7528\u7a0b\u5e8f\u3002Forever \u7684\u547d\u4ee4\u884c\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a\\n\\n```\\nforever start /path/to/app.js   // \u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\\nforever stop app                // \u505c\u6b62\u5e94\u7528\u7a0b\u5e8f\\nforever restart app             // \u91cd\u542f\u5e94\u7528\u7a0b\u5e8f\\nforever list                    // \u5217\u51fa\u5f53\u524d\u8fd0\u884c\u7684\u6240\u6709\u5e94\u7528\u7a0b\u5e8f\\n```\\n\\n\u603b\u4e4b\uff0c\u4f7f\u7528\u8fd9\u4e9b\u5de5\u5177\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u5b9e\u73b0\u5e94\u7528\u6302\u4e86\u4e4b\u540e\u81ea\u52a8\u91cd\u542f\u7684\u529f\u80fd\uff0c\u51cf\u5c11\u5e94\u7528\u7a0b\u5e8f\u5954\u6e83\u5bf9\u4e1a\u52a1\u9020\u6210\u7684\u5f71\u54cd\u3002\\n\\n\u5982\u679c\u60a8\u4e0d\u60f3\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\uff0c\u4e5f\u53ef\u4ee5\u7f16\u5199\u4e00\u4e9b\u4ee3\u7801\u6765\u5b9e\u73b0\u81ea\u52a8\u91cd\u542f\u7684\u529f\u80fd\u3002\u4e0b\u9762\u4ecb\u7ecd\u4e24\u79cd\u65b9\u6cd5\u3002\\n\\n## 3. \u589e\u52a0\u76d1\u63a7\u7a0b\u5e8f\\n1. \u4f7f\u7528 child_process \u6a21\u5757\u542f\u52a8\u5b50\u8fdb\u7a0b\uff0c\u5e76\u76d1\u542c\u5176 exit \u4e8b\u4ef6\u3002\u5982\u679c\u5b50\u8fdb\u7a0b\u9000\u51fa\uff0c\u5c31\u91cd\u65b0\u542f\u52a8\u65b0\u7684\u5b50\u8fdb\u7a0b\u3002\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a\\n\\n```\\nconst { spawn } = require(\'child_process\');\\n\\nfunction startApp() {\\n  const app = spawn(\'node\', [\'/path/to/app.js\']);\\n\\n  app.stdout.on(\'data\', (data) => {\\n    console.log(`stdout: ${data}`);\\n  });\\n\\n  app.stderr.on(\'data\', (data) => {\\n    console.error(`stderr: ${data}`);\\n  });\\n\\n  app.on(\'exit\', (code) => {\\n    console.log(`child process exited with code ${code}`);\\n    setTimeout(startApp, 5000); // \u91cd\u65b0\u542f\u52a8\u5b50\u8fdb\u7a0b\\n  });\\n}\\n\\nstartApp();\\n```\\n\\n2. \u4f7f\u7528 try-catch \u88c5\u9970\u5668\u6765\u6355\u83b7\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u5f02\u5e38\uff0c\u5e76\u8fdb\u884c\u91cd\u542f\u64cd\u4f5c\u3002\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a\\n\\n```\\nfunction restartOnCrash(target) {\\n  const originalMethod = target.prototype.run;\\n\\n  target.prototype.run = function() {\\n    try {\\n      originalMethod.apply(this, arguments);\\n    } catch (err) {\\n      console.error(`application crashed: ${err}`);\\n      setTimeout(() => {\\n        console.log(`restarting application...`);\\n        this.run();\\n      }, 5000);\\n    }\\n  };\\n}\\n\\nclass MyApp {\\n  run() {\\n    // your application code goes here\\n  }\\n}\\n\\nrestartOnCrash(MyApp);\\nconst app = new MyApp();\\napp.run();\\n```\\n\\n\u8fd9\u91cc\u4f7f\u7528\u4e86\u88c5\u9970\u5668 `restartOnCrash` \u5bf9 `MyApp` \u7c7b\u4e2d\u7684 `run` \u65b9\u6cd5\u8fdb\u884c\u88c5\u9970\uff0c\u5f53 `run` \u65b9\u6cd5\u4e2d\u629b\u51fa\u5f02\u5e38\u65f6\uff0c\u4f1a\u5728 5 \u79d2\u949f\u540e\u91cd\u65b0\u8c03\u7528 `run` \u65b9\u6cd5\u3002\\n","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/19-cross-spawn.md","path":"/nodejs/01-nodejs-basic/19-cross-spawn.md","route":"/nodejs/01-nodejs-basic/19-cross-spawn.md","leaf":true,"title":"19-cross-spawn","depth":2,"content":"---\\ntitle: 19 cross-spawn \u8de8\u5e73\u53f0\u8fdb\u7a0b\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\nnpm cross-spawn \u662f\u4e00\u4e2a Node.js \u6a21\u5757\uff0c\u4e3b\u8981\u7528\u4e8e\u5728\u8de8\u5e73\u53f0\u73af\u5883\u4e2d\uff0c\u5b89\u5168\u5730\u8fd0\u884c shell \u547d\u4ee4\u548c\u5b50\u8fdb\u7a0b\u3002\\n\u5728 Windows \u548c Linux \u7b49\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0cshell \u547d\u4ee4\u548c\u5b50\u8fdb\u7a0b\u7684\u5b9e\u73b0\u65b9\u5f0f\u53ef\u80fd\u5b58\u5728\u5dee\u5f02\uff0c\u4f8b\u5982 Windows \u4e0b\u7684\u5b50\u8fdb\u7a0b\u53ef\u80fd\u9700\u8981\u4f7f\u7528 cmd.exe \u6765\u6267\u884c\uff0c\u800c Linux \u4e0b\u7684\u5b50\u8fdb\u7a0b\u5219\u9700\u8981\u4f7f\u7528 sh\u3002\\n\\n\u8fd9\u5c31\u4f1a\u5bfc\u81f4\u5728\u8de8\u5e73\u53f0\u5f00\u53d1\u4e2d\uff0c\u4f7f\u7528 child_process \u6a21\u5757\u6267\u884c shell \u547d\u4ee4\u548c\u5b50\u8fdb\u7a0b\u65f6\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e00\u4e9b\u517c\u5bb9\u6027\u95ee\u9898\u3002\\n\\n\u800c npm cross-spawn \u5229\u7528\u4e86 Node.js \u7684 child_process \u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u8de8\u5e73\u53f0\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u5e73\u53f0\u4e0a\u5b89\u5168\u5730\u6267\u884c shell \u547d\u4ee4\u548c\u5b50\u8fdb\u7a0b\uff0c\u5e76\u4e14\u80fd\u591f\u81ea\u52a8\u8bc6\u522b\u5f53\u524d\u6240\u5904\u7684\u64cd\u4f5c\u7cfb\u7edf\u73af\u5883\uff0c\u4ece\u800c\u9009\u62e9\u6b63\u786e\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002\u8fd9\u6837\u53ef\u4ee5\u6709\u6548\u907f\u514d\u56e0\u4e0d\u540c\u5e73\u53f0\u5b9e\u73b0\u65b9\u5f0f\u5dee\u5f02\u800c\u5bfc\u81f4\u7684\u95ee\u9898\uff0c\u63d0\u9ad8\u8de8\u5e73\u53f0\u5f00\u53d1\u7684\u6548\u7387\u548c\u53ef\u9760\u6027\u3002\\n\\n\\n```js\\nconst args = process.argv.slice(2);\\n\\nconst scriptIndex = args.findIndex(\\n  (x) => x === \\"build\\" || x === \\"eject\\" || x === \\"start\\" || x === \\"test\\"\\n);\\nconst script = scriptIndex === -1 ? args[0] : args[scriptIndex];\\nconst nodeArgs = scriptIndex > 0 ? args.slice(0, scriptIndex) : [];\\n\\nconst result = spawn.sync(\\n    process.execPath, // node path\\n    nodeArgs\\n      .concat(require.resolve(\\"../lib/\\" + script))\\n      .concat(args.slice(scriptIndex + 1)),\\n    { stdio: \\"inherit\\" }\\n  );\\nconsole.log(result)\\n```\\n\\n```js\\n// work\\nprocess.exit(10)\\n```\\n\\n\\n```json\\n{\\n  status: 10,\\n  signal: null,\\n  output: [ null, null, null ],\\n  pid: 43229,\\n  stdout: null,\\n  stderr: null,\\n  error: null\\n}\\n```\\n","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/20-linux-signal.md","path":"/nodejs/01-nodejs-basic/20-linux-signal.md","route":"/nodejs/01-nodejs-basic/20-linux-signal.md","leaf":true,"title":"20-linux-signal","depth":2,"content":"---\\ntitle: 20 linux \u8fdb\u7a0b\u4fe1\u53f7\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n- \u53c2\u8003 http://gityuan.com/2015/12/20/signal/\\n- https://blog.csdn.net/xiaobai_hellow/article/details/124673131\\n\\n\\n## 1\u3001linux \u4fe1\u53f7\\n```bash\\n[root@localhost test6]# kill -l\\n```\\n\\n```text\\n\\n 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL\\n\\n 5) SIGTRAP      6) SIGABRT      7) SIGBUS       8) SIGFPE\\n\\n 9) SIGKILL     10) SIGUSR1     11) SIGSEGV     12) SIGUSR2\\n\\n13) SIGPIPE     14) SIGALRM     15) SIGTERM     16) SIGSTKFLT\\n\\n17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP\\n\\n21) SIGTTIN     22) SIGTTOU     23) SIGURG      24) SIGXCPU\\n\\n25) SIGXFSZ     26) SIGVTALRM   27) SIGPROF     28) SIGWINCH\\n\\n29) SIGIO       30) SIGPWR      31) SIGSYS      34) SIGRTMIN\\n\\n35) SIGRTMIN+1  36) SIGRTMIN+2  37) SIGRTMIN+3  38) SIGRTMIN+4\\n\\n39) SIGRTMIN+5  40) SIGRTMIN+6  41) SIGRTMIN+7  42) SIGRTMIN+8\\n\\n43) SIGRTMIN+9  44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12\\n\\n47) SIGRTMIN+13 48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14\\n\\n51) SIGRTMAX-13 52) SIGRTMAX-12 53) SIGRTMAX-11 54) SIGRTMAX-10\\n\\n55) SIGRTMAX-9  56) SIGRTMAX-8  57) SIGRTMAX-7  58) SIGRTMAX-6\\n\\n59) SIGRTMAX-5  60) SIGRTMAX-4  61) SIGRTMAX-3  62) SIGRTMAX-2\\n\\n63) SIGRTMAX-1  64) SIGRTMAX\\n```\\n\\n\u53ea\u6709\u7b2c9\u79cd\u4fe1\u53f7 (SIGKILL) \u624d\u53ef\u4ee5\u65e0\u6761\u4ef6\u7ec8\u6b62\u8fdb\u7a0b\uff0c\u5176\u4ed6\u4fe1\u53f7\u8fdb\u7a0b\u90fd\u6709\u6743\u5229\u5ffd\u7565\u3002\u4e0b\u9762\u662f\u5e38\u7528\u7684\u4fe1\u53f7\uff1a\\n\\n```text\\nHUP\u3000\u30001    \u7ec8\u7aef\u65ad\u7ebf\\n\\nINT\u3000\u30002    \u4e2d\u65ad\uff08\u540c Ctrl+C\uff09\\n\\nQUIT\u3000 3    \u9000\u51fa\uff08\u540c Ctrl+\\\\\uff09\\n\\nTERM   15   \u7ec8\u6b62\\n\\nKILL   9    \u5f3a\u5236\u7ec8\u6b62\\n\\nCONT   18   \u7ee7\u7eed\uff08\u4e0eSTOP\u76f8\u53cd\uff0c fg/bg\u547d\u4ee4\uff09\\n\\nSTOP   19   \u6682\u505c\uff08\u540c Ctrl+Z\uff09\\n```\\n\\n## 2\u3001\u6f14\u793a\u7ed9 node \u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7\\n\\n```js\\nconst http = require(\\"http\\");\\nconsole.log(process.pid)\\n\\nconst server = http.createServer((req, res) => {\\n  res.end(\'hello\')\\n});\\n\\nserver.listen(3002, () => {\\n  console.log(\\"\u670d\u52a1\u542f\u52a8\u6210\u529f\\");\\n});\\n\\nprocess.on(\'exit\', function (code) {\\n  // TODO \u8fd9\u91cc\u53ef\u4ee5\u4e3b\u52a8\u91ca\u653e\u5176\u4ed6\u8d44\u6e90 \u5982zookeeper\u8fde\u63a5\u7b49\\n  console.log(`exit-------------------------`);\\n\\n  if (code === 1000) {\\n    console.error(\'process:uncaughtException\');\\n  } else if (code === 1001) {\\n    console.error(\'process:SIGINT\');\\n  } else if (code === 1002) {\\n    console.error(\'process:SIGTERM\');\\n  } else {\\n    console.error(\'process:unknown\');\\n  }\\n});\\n\\nprocess.on(\'uncaughtException\', function (e) {\\n  console.log(`uncaughtException`, e);\\n  // \u5f02\u5e38\u53ef\u4ee5\u9009\u62e9\u4e0d\u9000\u51fa\\n  process.exit(1000);\\n});\\n\\nprocess.on(\'SIGINT\', function () {\\n  console.log(`SIGINT`);\\n  process.exit(1001);\\n});\\n\\nprocess.on(\'SIGTERM\', function () {\\n  console.log(`SIGTERM`);\\n  process.exit(1002);\\n});\\n\\nprocess.on(\'SIGHUP\', () => {\\n  console.log(`SIGHUP`);\\n  console.log(\'\u63a5\u6536\u5230\u9000\u51fa\u6307\u4ee4\');\\n});\\n```\\n\\n\u5047\u8bbe\u8fdb\u7a0b id \u4e3a 44525\uff0c\u6267\u884c\uff1a\\n\\n```shell\\nkill -s SIGINTS 44525\\n```\\n\\n\u4f1a\u6253\u5370\\n\\n```text\\nSIGINT\\nexit-------------------------\\nprocess:SIGINT\\n```\\n\\n## 3\u3001Node.js \u6355\u83b7 Ctrl+C\\nNode \u652f\u6301\u4fe1\u53f7\u4e8b\u4ef6\uff0c\u8981\u6355\u83b7 Ctrl+C \uff0c\u53ea\u8981\u6ce8\u518cSIGINT\u4fe1\u53f7\u4e8b\u4ef6\u5c31\u53ef\u4ee5\u6355\u83b7 Ctrl+C\u3002\u9700\u8981\u6ce8\u610f\u7684\u662fSIGINT\u4fe1\u53f7\u4e8b\u4ef6\u88ab\u6ce8\u518c\u540e\uff0c\u5728\u7ec8\u7aef\u6309\u4e0b Ctrl+C \u5c31\u6ca1\u6cd5\u7ec8\u6b62\u7a0b\u5e8f\u4e86\uff0c\u6240\u4ee5\u5728\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u5185\u5fc5\u987b\u8c03\u7528process.exit() \u51fd\u6570\u7ec8\u6b62\u7a0b\u5e8f\u3002\\n\\n```js\\nprocess.on(\'SIGINT\', function () {\\n    console.log(\'Exit now!\');\\n    process.exit();\\n});\\n```\\n\\n\u5982\u679c\u5728\u9000\u51fa\u4e4b\u524d\u9700\u8981\u505a\u4e00\u4e9b\u540e\u7eed\u7684\u5904\u7406\uff0c\u90a3\u4e48\u53ef\u4ee5\u5c06 process.exit() \u653e\u5728\u5176\u5b83\u56de\u8c03\u51fd\u6570\u5185\u8c03\u7528\u3002\\n\\n```js\\nprocess.on(\'SIGINT\', function () {\\n    console.log(\'Exit now!\');\\n    port.write(\'ddd\', function (){\\n        process.exit();\\n    });\\n});\\n```\\n\\n## 4\u3001\u5173\u4e8e kill \u547d\u4ee4\\nhttps://www.cnblogs.com/heracles-lau/articles/3392029.html\\n","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/21-nodejs-module.md","path":"/nodejs/01-nodejs-basic/21-nodejs-module.md","route":"/nodejs/01-nodejs-basic/21-nodejs-module.md","leaf":true,"title":"21-nodejs-module","depth":2,"content":"---\\ntitle: 21 nodejs \u6a21\u5757\u673a\u5236\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n- nodejs \u6a21\u5757\u673a\u5236 https://juejin.cn/post/6844903951742025736\\n","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/22-crypto.md","path":"/nodejs/01-nodejs-basic/22-crypto.md","route":"/nodejs/01-nodejs-basic/22-crypto.md","leaf":true,"title":"22-crypto","depth":2,"content":"---\\ntitle: 22 \u52a0\u5bc6\u76f8\u5173\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n## aes \u6f14\u793a\\n\\nNode.js\u5185\u7f6e\u4e86\u52a0\u5bc6\u6a21\u5757\uff0c\u8be5\u6a21\u5757\u63d0\u4f9b\u4e86\u5404\u79cd\u52a0\u5bc6\u548c\u89e3\u5bc6\u7b97\u6cd5\uff0c\u5982AES\uff08\u9ad8\u7ea7\u52a0\u5bc6\u6807\u51c6\uff09\u548cDES\uff08\u6570\u636e\u52a0\u5bc6\u6807\u51c6\uff09\u7b49\u3002\\n\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u7528\u7684\u52a0\u5bc6\u548c\u89e3\u5bc6\u65b9\u6cd5\uff1a\\n\\n- crypto.createHash(algorithm): \u521b\u5efa\u4e00\u4e2a\u6563\u5217\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u53ef\u7528\u4e8e\u751f\u6210\u4e00\u4e2a\u52a0\u5bc6\u7684\u54c8\u5e0c\u503c\uff0c\u5176\u4e2d\u7684\u201calgorithm\u201d\u53c2\u6570\u662f\u6563\u5217\u7b97\u6cd5\u7684\u540d\u79f0\uff0c\u5982\u201csha256\u201d\uff0c\u201csha512\u201d\u7b49\u3002\\n\\n- crypto.createCipheriv(algorithm, key, iv): \u521b\u5efa\u4e00\u4e2a\u52a0\u5bc6\u7b97\u6cd5\u7684\u5bf9\u8c61\uff0c\u5176\u4e2d\u7684\u201calgorithm\u201d\u53c2\u6570\u662f\u52a0\u5bc6\u7b97\u6cd5\u7684\u540d\u79f0\uff0c\u5982\u201cAES-128-CBC\u201d\u6216\u201cDES-EDE3-CBC\u201d\uff0c\u201ckey\u201d\u53c2\u6570\u662f\u52a0\u5bc6\u5bc6\u94a5\uff0civ\u53c2\u6570\u662f\u521d\u59cb\u5316\u5411\u91cf\u3002\\n\\n- cipher.update(data, input_encoding, output_encoding): \u4f7f\u7528\u8f93\u5165\u7f16\u7801\uff08\u5982\u679c\u7ed9\u51fa\uff09\u548c\u8f93\u51fa\u7f16\u7801\uff08\u5982\u679c\u7ed9\u51fa\uff09\u66f4\u65b0\u52a0\u5bc6\u3002\\n\\n- cipher.final(output_encoding): \u8fd4\u56de\u52a0\u5bc6\u7684\u7ed3\u679c\uff0c\u5e76\u4e14\u5173\u95ed\u52a0\u5bc6\u5668\u3002\\n\\n\\n\u4f8b\u5982\uff0cAES\u52a0\u5bc6\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\uff1a\\n\\n```javascript\\nconst crypto = require(\'crypto\');\\n\\nconst algorithm = \'aes-256-cbc\';\\nconst key = \'mysecretkey\';\\nconst iv = crypto.randomBytes(16);\\nconst message = \'secret message\';\\n\\nconst cipher = crypto.createCipheriv(algorithm, key, iv);\\nlet encrypted = cipher.update(message, \'utf8\', \'hex\');\\nencrypted += cipher.final(\'hex\');\\n\\nconsole.log(\'Encrypted message:\', encrypted);\\n```\\n\\n\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528AES-256-CBC\u52a0\u5bc6\u7b97\u6cd5\uff0c\u5c06\u5bc6\u94a5\u8bbe\u7f6e\u4e3a\u201cmysecretkey\u201d\uff0c\u4f7f\u7528\u968f\u673a\u751f\u6210\u768416\u5b57\u8282IV\uff0c\u5e76\u4e14\u6211\u4eec\u5c06\u660e\u6587\u6d88\u606f\u8bbe\u7f6e\u4e3a\u201csecret message\u201d\u3002\u901a\u8fc7 `crypto.createCipheriv()` \u65b9\u6cd5\u521b\u5efa\u52a0\u5bc6\u7b97\u6cd5\u5bf9\u8c61\uff0c\u7136\u540e\u4f7f\u7528 `cipher.update()` \u6765\u52a0\u5bc6\u6d88\u606f\uff0c\u5e76\u4f7f\u7528 `cipher.final()`\u6765\u5bf9\u6d88\u606f\u8fdb\u884c\u6700\u7ec8\u52a0\u5bc6\u3002\\n\\n## md5 \u6f14\u793a\\n\\n\u5728Node.js\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528`crypto`\u6a21\u5757\u6765\u8ba1\u7b97MD5\u6563\u5217\u503c\u3002\u4e0b\u9762\u662f\u4f7f\u7528Node.js\u7684\u4ee3\u7801\u793a\u4f8b\uff0c\u6f14\u793a\u5982\u4f55\u4f7f\u7528`crypto`\u6a21\u5757\u8ba1\u7b97\u5b57\u7b26\u4e32\u7684MD5\u6563\u5217\u503c\uff1a\\n```javascript\\nconst crypto = require(\'crypto\');\\n\\nconst message = \'\u9700\u8981\u52a0\u5bc6\u7684\u5b57\u7b26\u4e32\';\\nconst hash = crypto.createHash(\'md5\').update(message).digest(\'hex\');\\n\\nconsole.log(\'MD5\u52a0\u5bc6\u540e\u7684\u5b57\u7b26\u4e32\u4e3a\uff1a\', hash);\\n```\\n\\n\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u9996\u5148\u5c06\u8981\u52a0\u5bc6\u7684\u5b57\u7b26\u4e32\u5b58\u50a8\u5728\u53d8\u91cf`message`\u4e2d\u3002\u7136\u540e\uff0c\u6211\u4eec\u4f7f\u7528`createHash()`\u65b9\u6cd5\u521b\u5efa\u4e00\u4e2aMD5 hash\u5bf9\u8c61\uff0c\u5e76\u4f7f\u7528`update()`\u65b9\u6cd5\u5c06\u8f93\u5165\u5b57\u7b26\u4e32\u6dfb\u52a0\u5230\u5bf9\u8c61\u4e2d\u3002\u6700\u540e\uff0c\u6211\u4eec\u4f7f\u7528`digest()`\u65b9\u6cd5\u83b7\u5f97\u8ba1\u7b97\u51fa\u768416\u8fdb\u5236\u5b57\u7b26\u4e32\uff0c\u5b83\u8868\u793a\u4e86\u8f93\u5165\u5b57\u7b26\u4e32\u7684MD5\u6563\u5217\u503c\u3002\u6700\u540e\uff0c\u4f7f\u7528`console.log()`\u8bed\u53e5\u8f93\u51fa\u8ba1\u7b97\u540e\u7684\u6563\u5217\u503c\u3002\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cMD5\u867d\u7136\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u6563\u5217\u51fd\u6570\uff0c\u4f46\u5176\u5b89\u5168\u6027\u5df2\u7ecf\u88ab\u653b\u51fb\uff0c\u56e0\u6b64\u5efa\u8bae\u4f7f\u7528\u66f4\u5b89\u5168\u7684\u6563\u5217\u51fd\u6570\uff0c\u4f8b\u5982SHA-2\u7cfb\u5217\u7684\u51fd\u6570\u3002\\n","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/23-V8-GC.md","path":"/nodejs/01-nodejs-basic/23-V8-GC.md","route":"/nodejs/01-nodejs-basic/23-V8-GC.md","leaf":true,"title":"23-V8-GC","depth":2,"content":"---\\ntitle: 23 V8 \u5783\u573e\u56de\u6536\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/24-libuv.md","path":"/nodejs/01-nodejs-basic/24-libuv.md","route":"/nodejs/01-nodejs-basic/24-libuv.md","leaf":true,"title":"24-libuv","depth":2,"content":"---\\ntitle: 24 libuv\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n- https://musicfe.com/libuv/\\n- https://zhuanlan.zhihu.com/p/50497450\\n\\n## libuv \u7684\u6838\u5fc3\\n\\nlibuv\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u8fd9\u4e48\u9ad8\u6548\u5462\uff1f\u5b9e\u9645\u4ed6\u4f7f\u7528\u4e86\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u9ad8\u5e76\u53d1\u5f02\u6b65\u6a21\u578b\uff1a\\n- linux: epoll\\n- freebsd: kqueue\\n- windows: iocp\\n\\n\u6bcf\u4e2a\u6211\u4eec\u5e38\u89c1\u7684\u64cd\u4f5c\u7cfb\u7edf\u90fd\u4e3a\u6211\u4eec\u5c01\u88c5\u4e86\u7c7b\u4f3c\u7684\u9ad8\u5e76\u53d1\u5f02\u6b65\u6a21\u578b\uff0c\u90a3libuv\u5176\u5b9e\u5c31\u662f\u5bf9\u5404\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u5c01\u88c5\uff0c\u6700\u540e\u66b4\u9732\u51fa\u7edf\u4e00\u7684api\u4f9b\u5f00\u53d1\u8005\u8c03\u7528\uff0c\u5f00\u53d1\u8005\u4e0d\u9700\u8981\u5173\u7cfb\u5e95\u5c42\u662f\u4ec0\u4e48\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4ec0\u4e48API\u4e86\u3002 \u6211\u4eec\u6765\u770b\u4e00\u4e0b\u540c\u6b65\u6a21\u578b\u548c\u5f02\u6b65\u6a21\u578b\u7684\u533a\u522b\\n\\n\\n![image](https://user-images.githubusercontent.com/34447750/230695916-e4c2dcef-62ce-432d-9fa0-d3ed667eabbd.png)\\n","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/25-mvc.md","path":"/nodejs/01-nodejs-basic/25-mvc.md","route":"/nodejs/01-nodejs-basic/25-mvc.md","leaf":true,"title":"25-mvc","depth":2,"content":"---\\ntitle: 25 nodejs mvc \u5b9e\u73b0\\ntoc: true\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n## 1\u3001mvc \u4ecb\u7ecd\\n\\nMVC\u662f\u4e00\u79cd\u8f6f\u4ef6\u8bbe\u8ba1\u67b6\u6784\uff0c\u5b83\u5c06\u5e94\u7528\u7a0b\u5e8f\u6309\u7167\u6a21\u578b\uff08Model\uff09\u3001\u89c6\u56fe\uff08View\uff09\u548c\u63a7\u5236\u5668\uff08Controller\uff09\u7684\u89d2\u8272\u5206\u6210\u4e09\u4e2a\u90e8\u5206\u3002\\nMVC\u6846\u67b6\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u66f4\u8f7b\u677e\u5730\u6784\u5efa\u548c\u7ef4\u62a4Web\u5e94\u7528\u7a0b\u5e8f\uff0c\u5e76\u63d0\u9ad8\u5e94\u7528\u7a0b\u5e8f\u7684\u53ef\u6269\u5c55\u6027\u548c\u53ef\u91cd\u7528\u6027\u3002\u4e0b\u9762\u662fMVC\u6846\u67b6\u7684\u4e00\u4e9b\u5173\u952e\u7279\u5f81\uff1a\\n- \u6a21\u578b\uff08Model\uff09\u5904\u7406\u6570\u636e\u548c\u6570\u636e\u64cd\u4f5c\uff0c\u5305\u62ec\u6570\u636e\u7684\u83b7\u53d6\u3001\u5b58\u50a8\u548c\u9a8c\u8bc1\u7b49\u3002\\n- \u89c6\u56fe\uff08View\uff09\u663e\u793a\u6570\u636e\uff0c\u901a\u5e38\u662fHTML\u9875\u9762\u6216\u8005\u662f\u5176\u4ed6UI\u7ec4\u4ef6\u3002\\n- \u63a7\u5236\u5668\uff08Controller\uff09\u5904\u7406\u4e1a\u52a1\u903b\u8f91\u548c\u7528\u6237\u8f93\u5165\uff0c\u4f8b\u5982\u54cd\u5e94\u7528\u6237\u7684\u8bf7\u6c42\u5e76\u5c06\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u5408\u9002\u7684\u6a21\u578b\u548c\u89c6\u56fe\u3002\\n\\nMVC\u6846\u67b6\u5c06\u5e94\u7528\u7a0b\u5e8f\u5206\u4e3a\u4e09\u4e2a\u72ec\u7acb\u7684\u6a21\u5757\uff0c\u4f7f\u5f00\u53d1\u66f4\u52a0\u6a21\u5757\u5316\u548c\u6613\u4e8e\u7ec4\u7ec7\u3002MVC\u8fd8\u53ef\u4ee5\u63d0\u9ad8\u4ee3\u7801\u7684\u590d\u7528\u7a0b\u5ea6\uff0c\u56e0\u4e3a\u6a21\u578b\u548c\u89c6\u56fe\u901a\u5e38\u53ef\u4ee5\u5728\u591a\u4e2a\u63a7\u5236\u5668\u4e4b\u95f4\u5171\u4eab\u3002\u56e0\u6b64\uff0cMVC\u662fWeb\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u4e2d\u5e7f\u6cdb\u4f7f\u7528\u7684\u4e00\u79cd\u67b6\u6784\u3002\u5e38\u89c1\u7684MVC\u6846\u67b6\u5305\u62ecSpring MVC\u3001ASP.NET MVC\u3001Ruby on Rails\u7b49\u3002\\n\\n## 2\u3001mvc \u4e0d\u662f\u5b8c\u6574\u7684\u6846\u67b6\\n\\nMVC\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u8f6f\u4ef6\u67b6\u6784\u6a21\u5f0f\uff0c\u4f46\u662f\u5b83\u4e0d\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u5e94\u7528\u7a0b\u5e8f\u8bbe\u8ba1\u6216\u6846\u67b6\uff0c\u800c\u53ea\u662f\u4e00\u79cd\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7ec4\u7ec7\u4ee3\u7801\u7684\u65b9\u6cd5\u3002MVC\u4e2d\u7684\u67b6\u6784\u6a21\u5f0f\u662f\u6a21\u578b\uff08Model\uff09\u3001\u89c6\u56fe\uff08View\uff09\u548c\u63a7\u5236\u5668\uff08Controller\uff09\u7684\u7f29\u5199\uff0c\u5176\u4e2d\u89c6\u56fe\u548c\u63a7\u5236\u5668\u90fd\u662f\u5c5e\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u754c\u9762\u548c\u4ea4\u4e92\u5c42\u3002\\n\u5728MVC\u7684\u8bbe\u8ba1\u4e2d\uff0c\u901a\u5e38\u4e0d\u9700\u8981\u670d\u52a1\u5c42\u6765\u5904\u7406\u5177\u4f53\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u800c\u5e94\u8be5\u5c06\u4e1a\u52a1\u903b\u8f91\u653e\u5728\u63a7\u5236\u5668\u4e2d\u5904\u7406\u3002\u63a7\u5236\u5668\u4f5c\u4e3a\u8fde\u63a5\u6a21\u578b\u548c\u89c6\u56fe\u7684\u4e2d\u4ecb\uff0c\u53ef\u4ee5\u5904\u7406\u7528\u6237\u7684\u8bf7\u6c42\u5e76\u6839\u636e\u9700\u8981\u4ece\u6a21\u578b\u4e2d\u83b7\u53d6\u6570\u636e\uff0c\u518d\u628a\u6570\u636e\u4f20\u9012\u7ed9\u89c6\u56fe\u8fdb\u884c\u5448\u73b0\u3002\u5982\u679c\u9700\u8981\u5bf9\u6570\u636e\u8fdb\u884c\u4e00\u4e9b\u903b\u8f91\u64cd\u4f5c\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u63a7\u5236\u5668\u5c42\u9762\u8fdb\u884c\u5904\u7406\uff0c\u800c\u4e0d\u9700\u8981\u5f15\u5165\u989d\u5916\u7684\u670d\u52a1\u5c42\u3002\\n\\n\u5f53\u7136\uff0c\u5728\u67d0\u4e9bMVC\u5b9e\u73b0\u4e2d\uff0c\u670d\u52a1\u5c42\u6216\u4e1a\u52a1\u5c42\u53ef\u80fd\u4f1a\u88ab\u7528\u6765\u5904\u7406\u66f4\u590d\u6742\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u7279\u522b\u662f\u5f53\u63a7\u5236\u5668\u548c\u6a21\u578b\u975e\u5e38\u5e9e\u5927\u65f6\u3002\u4f46\u662f\uff0c\u8fd9\u5e76\u4e0d\u662fMVC\u7684\u5f3a\u5236\u6027\u8981\u6c42\uff0c\u800c\u662f\u4e00\u79cd\u8bbe\u8ba1\u9009\u62e9\u3002\\n\\n\u76f8\u6bd4\u4e4b\u4e0b\uff0cNestJS \u662f\u4e00\u4e2a\u540e\u7aef\u5f00\u53d1\u6846\u67b6\uff0c\u5b83\u5728MVC\u8bbe\u8ba1\u4e4b\u4e0a\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4e86\u4fbf\u6377\u7684\u6a21\u5757\u5316\u548c\u670d\u52a1\u5316\u3002\u5728 NestJS\u7684\u8bbe\u8ba1\u4e2d\uff0c\u670d\u52a1\u5c42\u662f\u7528\u6765\u5904\u7406\u4e1a\u52a1\u903b\u8f91\u7684\uff0c\u63a7\u5236\u5668\u5c42\u53ea\u8d1f\u8d23\u5904\u7406HTTP\u8bf7\u6c42\u5e76\u5c06\u8bf7\u6c42\u4f20\u9012\u7ed9\u670d\u52a1\u5c42\u5904\u7406\u5e76\u8fd4\u56de\u8bf7\u6c42\u7684\u54cd\u5e94\u3002\u56e0\u6b64\uff0cNestJS\u7684\u8bbe\u8ba1\u9700\u8981\u5f15\u5165\u670d\u52a1\u5c42\u6765\u5206\u79bb\u4e1a\u52a1\u903b\u8f91\u548c\u63a7\u5236\u5668\uff0c\u5b9e\u73b0\u4e1a\u52a1\u903b\u8f91\u7684\u53ef\u91cd\u7528\u6027\u5e76\u4f7f\u4ee3\u7801\u66f4\u52a0\u6e05\u6670\u6613\u61c2\u3002\\n\\n## 3\u3001nodejs mvc\\n\\n\u4f7f\u7528Node.js\u548cExpress\u6846\u67b6\u7684\u7b80\u5355MVC\u6846\u67b6\u3002\u4e0b\u9762\u662f\u4e3b\u8981\u7684\u4ee3\u7801\u548c\u6587\u4ef6\uff1a\\n\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u5728\u9879\u76ee\u4e2d\u5b89\u88c5 Express\uff1a\\n\\n```\\nnpm install express\\n```\\n\\n\u7136\u540e\uff0c\u521b\u5efa\u4e00\u4e2aserver.js\u6587\u4ef6\uff0c\u7528\u6765\u542f\u52a8\u670d\u52a1\u5668\u5e76\u8bbe\u7f6e\u8def\u7531\uff1a\\n\\n```javascript\\nconst express = require(\'express\');\\nconst app = express();\\n\\n// \u8bbe\u7f6e\u8def\u7531\\napp.get(\'/\', function(req, res){\\n  res.send(\'Hello World!\');\\n});\\n\\napp.listen(3000, function(){\\n  console.log(\'Server started on port 3000...\');\\n});\\n```\\n\\n\u8fd9\u6bb5\u4ee3\u7801\u542f\u52a8\u4e00\u4e2a\u670d\u52a1\u5668\uff0c\u5e76\u5728\u6839URL\u4e0a\u8fd4\u56de \\"Hello World!\\" \u5b57\u7b26\u4e32\u3002\\n\\n\u63a5\u4e0b\u6765\uff0c\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55\u7ed3\u6784\uff0c\u7528\u6765\u5bb9\u7eb3\u6211\u4eec\u7684MVC\u6846\u67b6\uff1a\\n\\n```\\n- app/\\n  - controllers/\\n    - homeController.js\\n  - models/\\n    - homeModel.js\\n  - views/\\n    - homeView.ejs\\n  - routes.js\\n- server.js\\n```\\n\\n\u5728MVC\u6846\u67b6\u4e2d\uff0c\u4ee3\u7801\u88ab\u5206\u6210\u4e09\u5c42\uff1a\u6a21\u578b\u3001\u89c6\u56fe\u548c\u63a7\u5236\u5668\u3002\\n\\n- \u6a21\u578b\u5c42\u8d1f\u8d23\u5904\u7406\u6570\u636e\u548c\u6570\u636e\u64cd\u4f5c\uff08CRUD\uff09\u3002\\n- \u89c6\u56fe\u5c42\u8d1f\u8d23\u663e\u793a\u6570\u636e\u3002\\n- \u63a7\u5236\u5668\u5c42\u8d1f\u8d23\u63a5\u6536\u548c\u5904\u7406\u7528\u6237\u8bf7\u6c42\uff0c\u5e76\u5c06\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u9002\u5f53\u7684\u6a21\u578b\u548c\u89c6\u56fe\u3002\\n\\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6765\u5b9e\u73b0\u8fd9\u4e09\u4e2a\u5c42\u7684\u4ee3\u7801\uff1a\\n\\n### \u6a21\u578b\u5c42\\n\\n\u6253\u5f00homeModel.js\u6587\u4ef6\uff0c\u52a0\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a\\n\\n```javascript\\nclass HomeModel {\\n  constructor() {\\n    this.data = {\\n      name: \\"John\\",\\n      age: 30,\\n      email: \\"john@example.com\\"\\n    };\\n  }\\n\\n  getData() {\\n    return this.data;\\n  }\\n}\\n\\nmodule.exports = HomeModel;\\n```\\n\\n\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6a21\u578b\u7c7b\uff0c\u5b83\u53ea\u662f\u8fd4\u56de\u4e00\u4e9b\u786c\u7f16\u7801\u7684\u6570\u636e\u3002\\n\\n### \u89c6\u56fe\u5c42\\n\\n\u6211\u4eec\u4f7f\u7528EJS\uff08Embedded JavaScript\uff09\u6a21\u677f\u5f15\u64ce\u6765\u5b9e\u73b0\u6211\u4eec\u7684\u89c6\u56fe\u3002\\n\\n\u6253\u5f00homeView.ejs\u6587\u4ef6\uff0c\u5e76\u52a0\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a\\n\\n```html\\n<!DOCTYPE html>\\n<html>\\n<head>\\n  <meta charset=\\"utf-8\\">\\n  <title>Home Page</title>\\n</head>\\n<body>\\n  <h1>Welcome <%= name %>!</h1>\\n  <p>You are <%= age %> years old.</p>\\n  <p>Your email address is <%= email %>.</p>\\n</body>\\n</html>\\n```\\n\\n\u8fd9\u4e2a\u6a21\u677f\u4f7f\u7528\u4e86EJS\u7684\u5d4c\u5165\u5f0fJavascript\u8bed\u6cd5\uff0c\u5b83\u5c06\u5728\u6e32\u67d3\u89c6\u56fe\u65f6\u88ab\u52a8\u6001\u66ff\u6362\u4e3a\u6570\u636e\u3002\\n\\n### \u63a7\u5236\u5668\u5c42\\n\\n\u6253\u5f00homeController.js\u6587\u4ef6\uff0c\u5e76\u52a0\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a\\n\\n```javascript\\nconst HomeModel = require(\'../models/homeModel\');\\n\\nclass HomeController {\\n  constructor() {\\n    this.homeModel = new HomeModel();\\n  }\\n\\n  index(req, res) {\\n    let data = this.homeModel.getData();\\n    res.render(\'homeView\', data);\\n  }\\n}\\n\\nmodule.exports = HomeController;\\n```\\n\\n\u8fd9\u4e2a\u63a7\u5236\u5668\u5c06\u63a5\u6536\u8bf7\u6c42\u5e76\u8c03\u7528\u6a21\u578b\u5bf9\u8c61\uff0c\u7136\u540e\u5c06\u6a21\u578b\u6570\u636e\u4f20\u9012\u7ed9\u89c6\u56fe\u8fdb\u884c\u5448\u73b0\u3002\\n\\n### service\\n\u589e\u52a0 service \u6587\u4ef6\u5939\uff0c\u589e\u52a0\uff1a\\n- home.service.js\\n- user.service.js\\n\\n\u7b80\u5316 Controller \u4ee3\u7801\uff0c\u62bd\u79bb\u5230 Service \u4e2d \\n\\n### \u8def\u7531\\n\\n\u6253\u5f00routes.js\u6587\u4ef6\uff0c\u5e76\u52a0\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a\\n\\n```javascript\\nconst express = require(\'express\');\\nconst router = express.Router();\\nconst HomeController = require(\'./controllers/homeController\');\\n\\nconst homeController = new HomeController();\\n\\nrouter.get(\'/\', homeController.index.bind(homeController));\\n\\nmodule.exports = router;\\n```\\n\\n\u8fd9\u4e2a\u8def\u7531\u6587\u4ef6\u5efa\u7acb\u8def\u7531\uff0c\u5e76\u5c06\u8bf7\u6c42\u4f20\u9012\u5230HomeController\u7684index\u65b9\u6cd5\u3002\\n\\n### \u542f\u52a8\u670d\u52a1\u5668\\n\\n\u6700\u540e\uff0c\u5728server.js\u6587\u4ef6\u4e2d\u52a0\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a\\n\\n```javascript\\nconst express = require(\'express\');\\nconst app = express();\\nconst router = require(\'./app/routes\');\\n\\n// \u8bbe\u7f6e\u8def\u7531\\napp.use(\'/\', router);\\n\\napp.set(\'view engine\', \'ejs\');\\napp.set(\'views\', __dirname + \'/app/views\');\\n\\napp.listen(3000, function(){\\n  console.log(\'Server started on port 3000...\');\\n});\\n```\\n\\n\u8fd9\u4e2a\u6587\u4ef6\u542f\u52a8\u670d\u52a1\u5668\u5e76\u8bbe\u7f6e\u8def\u7531\uff0c\u540c\u65f6\u6307\u5b9a\u89c6\u56fe\u6e32\u67d3\u5f15\u64ce\u4e3aEJS\u3002\\n\\n\u73b0\u5728\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u542f\u52a8\u670d\u52a1\u5668\uff1a\\n\\n```\\nnode server.js\\n```\\n\\n\u73b0\u5728\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee http://localhost:3000/\uff0c\u4f60\u5e94\u8be5\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a\u7b80\u5355\u7684\u6b22\u8fce\u9875\u9762\u3002\u606d\u559c\uff0c\u4f60\u5df2\u7ecf\u5199\u4e86\u4e00\u4e2a\u4f7f\u7528 Node.js \u548c Express \u7684\u7b80\u5355\u7684 MVC \u6846\u67b6\uff01\\n\\n### \u7ea6\u5b9a\u5f0f\u81ea\u52a8\u52a0\u8f7d\\n\u6309\u7167\u7ea6\u5b9a\\n- service \u76ee\u5f55\u4e0b\u6bcf\u4e2a\u6587\u4ef6\u5bfc\u51fa\u4e00\u4e2a Service\\n- controller \u76ee\u5f55\u4e0b\u6bcf\u4e2a\u6587\u4ef6\u5bfc\u51fa\u4e00\u4e2a Controller\\n- model \u76ee\u5f55\u4e0b\u6bcf\u4e2a\u6587\u4ef6\u5bfc\u51fa\u4e00\u4e2a Model\\n\\n\u5047\u8bbe\u7a0b\u5e8f\u5165\u53e3\u4e3a main.js\uff0c\u5728 main.js \u4e2d\uff0c\u4f7f\u7528 fs \u904d\u5386\u6587\u4ef6\u5939\uff0c\u518d require \u6bcf\u4e2a\u6587\u4ef6\uff0c\u6302\u8f7d\u5230\u5bf9\u5e94\u7684 `ctx.controller` `ctx.service`  `ctx.model`\uff0c\u4f7f\u7528\u65f6\u4e0d\u9700\u8981\u518d\u5bfc\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u5f15\u7528 ctx\u3002 \\n\\n## 4\u3001\u8f6f\u4ef6\u67b6\u6784\u7684\u5c42\u7ea7\u5212\u5206\\n- \u7c97\u5212\u5206\\n  - Model\\n  - View\\n  - Controller\\n- \u7ec6\u5212\u5206\\n  - Model\\n  - View\\n  - Controller\\n  - Service\\n  - Validation","isLeaf":true},{"key":"/nodejs/01-nodejs-basic/26-ejs.md","path":"/nodejs/01-nodejs-basic/26-ejs.md","route":"/nodejs/01-nodejs-basic/26-ejs.md","leaf":true,"title":"26-ejs","depth":2,"content":"---\\ntitle: 26 ejs \u6a21\u677f\u5f15\u64ce\\ntags: NodeJS \u57fa\u7840\\ncategories: NodeJS\\n---\\n\\n- \u5b98\u65b9\u6587\u6863 https://ejs.co/#install\\n\\n## 1\u3001ejs \u6a21\u677f\u51fd\u6570\\n\\n\u53ef\u4ee5\u5728 EJS \u6a21\u677f\u4e2d\u7f16\u5199 JavaScript \u51fd\u6570\u3002 \u5728 EJS \u4e2d\uff0c\u53ef\u4ee5\u50cf\u5728 JavaScript \u4ee3\u7801\u4e2d\u4e00\u6837\u5b9a\u4e49\u5e76\u6267\u884c\u51fd\u6570\u3002 \u53ef\u4ee5\u5728 EJS \u6a21\u677f\u7684\u4ee3\u7801\u5757\u4e2d\u5b9a\u4e49\u51fd\u6570\uff0c\u7136\u540e\u5728\u6a21\u677f\u4e2d\u4f7f\u7528\u5b83\u4eec\u3002\\n\u4ee5\u4e0b\u662f\u4f7f\u7528 EJS \u7f16\u5199\u51fd\u6570\u7684\u793a\u4f8b\uff1a\\n\\n```html\\n<% function greet(name) {\\n    return \\"Hello \\" + name;\\n} %>\\n\\n<p><%= greet(\\"John\\") %></p>\\n```\\n\\n\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a\u201cgreet\u201d\u7684\u51fd\u6570\uff0c\u5b83\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\u201cname\u201d\u5e76\u8fd4\u56de\u201cHello\u201d\u52a0\u4e0a\u7ed9\u5b9a\u540d\u79f0\u7684\u5b57\u7b26\u4e32\u3002 \u7136\u540e\uff0c\u6211\u4eec\u5728\u6a21\u677f\u4e2d\u4f7f\u7528\u4e86 greet \u51fd\u6570\uff0c\u5e76\u4f20\u9012\u201cJohn\u201d\u4f5c\u4e3a\u53c2\u6570\u3002 \u6211\u4eec\u4f7f\u7528<%= %>\u6807\u8bb0\u6765\u5448\u73b0\u51fd\u6570\u8fd4\u56de\u7684\u503c\u3002\\n\\n\u8bf7\u6ce8\u610f\uff0c\u51fd\u6570\u5e94\u8be5\u5728\u5bf9\u5b83\u4eec\u8fdb\u884c\u8c03\u7528\u4e4b\u524d\u5b9a\u4e49\uff0c\u4ee5\u4fbf EJS \u80fd\u591f\u6b63\u786e\u89e3\u6790\u5b83\u4eec\u3002\\n\\n## 2\u3001\u6a21\u677f\u5f15\u7528\\n\\n```\\n- views\\n  - header.ejs\\n  - footer.ejs\\n- main.js\\n```\\n\\n```js\\nlet ejs = require(\\"ejs\\");\\nlet path = require(\\"path\\");\\n\\nconst tpl = `\\n<%- include(\\"/views/header\\"); %>\\n\\n<%- include(\\"/views/footer\\"); %>\\n`;\\n\\nvar html = ejs.render(tpl, null, {\\n  root: path.resolve(__dirname),\\n});\\n\\nconsole.log(html);\\n\\n```\\n\\n## 3\u3001ejs \u9012\u5f52\u6e32\u67d3\\n\\n### \u5b9e\u73b0\u65b9\u5f0f 1\\n\\n`./user/item`\\n\\n```html\\n<li class=\\"item\\">\\n  <div class=\\"title\\"><%= user.title %></div>\\n  <% if (user.children && user.children.length) { %> <%- include(\'/user/list\',\\n  {users: user.children}); %> <% } %>\\n</li>\\n```\\n\\n`./user/list`\\n\\n```html\\n<ul class=\\"list\\">\\n  <% users.forEach(function(user){ %> <%- include(\'/user/item\', {user: user});\\n  %> <% }); %>\\n</ul>\\n```\\n\\n`./entry.js`\\n\\n```js\\nlet ejs = require(\\"ejs\\");\\nlet path = require(\\"path\\");\\nlet fs = require(\\"fs\\");\\n\\nvar html = ejs.render(\\n  fs.readFileSync(\\"./user/list.ejs\\", \\"utf8\\"),\\n  {\\n    users: [\\n      {\\n        title: \\"B\\",\\n        children: [\\n          {\\n            title: \\"B1\\",\\n          },\\n          {\\n            title: \\"B2\\",\\n          },\\n        ],\\n      },\\n      {\\n        title: \\"CC\\",\\n      },\\n    ],\\n  },\\n  {\\n    root: path.resolve(__dirname),\\n  }\\n);\\n\\nfs.writeFileSync(\\"out/03.html\\", html);\\n```\\n\\n### \u5b9e\u73b0\u65b9\u5f0f 2\\n\\n```js\\nlet ejs = require(\\"ejs\\");\\nlet path = require(\\"path\\");\\nlet fs = require(\\"fs\\");\\n\\nconst tpl = `\\n<% function renderTree(node) {\\n  %>\\n  <ul>\\n      <li><%= node.name %></li>\\n      <% if(node.children && node.children.length) {\\n          node.children.forEach(child => {\\n              %> \\n              <li><%= renderTree(child) %></li>\\n              <%})\\n          }\\n      %>\\n  </ul>\\n  <%\\n} %>\\n\\n<%= renderTree(rootNode) %>\\n`;\\n\\nvar html = ejs.render(\\n  tpl,\\n  {\\n    rootNode: {\\n      name: \\"AA\\",\\n      children: [\\n        {\\n          name: \\"BB\\",\\n        },\\n        {\\n          name: \\"CC\\",\\n        },\\n      ],\\n    },\\n  },\\n  {\\n    root: path.resolve(__dirname),\\n  }\\n);\\n\\nfs.writeFileSync(\\"out/04.html\\", html);\\n```\\n","isLeaf":true}]},{"key":"/nodejs/02-nodejs-expressjs","path":"/nodejs/02-nodejs-expressjs","route":"/nodejs/02-nodejs-expressjs","leaf":false,"title":"02-nodejs-expressjs","depth":1,"content":"","isLeaf":false,"children":[{"key":"/nodejs/02-nodejs-expressjs/01-design.md","path":"/nodejs/02-nodejs-expressjs/01-design.md","route":"/nodejs/02-nodejs-expressjs/01-design.md","leaf":true,"title":"01-design","depth":2,"content":"---\\ntitle: 01 \u6574\u4f53\u4ecb\u7ecd\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---\\n\\n## 1\u3001\u521d\u8bc6 express\\n[express.js](https://link.juejin.cn/?target=https%3A%2F%2Fwww.expressjs.com.cn%2F) \u662f\u4e00\u6b3e\u57fa\u4e8e Node.js \u5e73\u53f0\uff0c\u6781\u7b80\u7684 Web \u5f00\u53d1\u6846\u67b6\u3002\u672c\u6587\u5c06\u57fa\u4e8e 4.18.2 \u7248\u672c\uff0c\u8be6\u7ec6\u8bb2\u89e3 Express \u6838\u5fc3\u539f\u7406\u7684\u5b9e\u73b0\uff0c\u5305\u62ec\u4e3b\u4f53\u67b6\u6784 \u4ee5\u53ca \u6838\u5fc3\u7684\u4e2d\u95f4\u4ef6\u67b6\u6784\u6a21\u578b\u8bb2\u89e3\u3002\\n\\nExpress \u5728\u4f7f\u7528\u4e0a\u975e\u5e38\u8f83\u7b80\u5355\uff1a\\n\\n- \uff081\uff09\u521d\u59cb\u5316\u4e00\u4e2a\u5e94\u7528\\n- \uff082\uff09\u6ce8\u518c\u4e2d\u95f4\u4ef6\u8c03\u7528\\n- \uff083\uff09\u6700\u540e\u76d1\u542c\u7aef\u53e3\u542f\u52a8\u670d\u52a1\\n\\n```typescript\\nconst express = require(\'express\')\\n\\n// \u521d\u59cb\u5316\u4e00\u4e2a\u5e94\u7528\\nconst app = express()\\nconst port = 3000\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6\u8c03\u7528\\napp.get(\'/\', (req, res) => {\\n  res.send(\'Hello World!\')\\n})\\n\\n// \u76d1\u542c\u7aef\u53e3\u542f\u52a8\u670d\u52a1\\napp.listen(port, () => {\\n  console.log(`Example app listening on port ${port}`)\\n})\\n```\\n \\n\u8fd9\u4e2a\u4f8b\u5b50\u5f88\u7b80\u5355\uff0c\u5728\u66f4\u8fdb\u4e00\u6b65\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u7406\u89e3 express.js \u7684\u4e2d\u95f4\u4ef6\u6a21\u578b\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u7406\u89e3\u6e90\u7801\u3002\\n\\n## 2\u3001\u4e2d\u95f4\u4ef6\u6a21\u578b\\nexpress.js \u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u6a21\u578b\uff0c\u6bd4\u5982\u5bf9\u4e8e\u5982\u4e0b\u4ee3\u7801\uff1a\\n```cpp\\nconst express = require(\'express\')\\nconst app = express()\\nconst port = 3000\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6: \u54cd\u5e94\u8bf7\u6c42\uff0c\u6253\u53701\uff0c\u5e76\u4e14\u8c03\u7528 next() \u8fdb\u5165\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\napp.get(\'/\', (req, res, next) => {\\n  console.log(1)\\n  res.send(\'Hello World!\')\\n  next()\\n})\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6: \u6253\u53702\uff0c\u5e76\u4e14\u8c03\u7528 next() \u8fdb\u5165\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\napp.get(\'/\', (req, res, next) => {\\n  console.log(2)\\n  next()\\n})\\n\\n// \u6ce8\u518c\u4e2d\u95f4: \u6253\u53703\\napp.get(\'/\', (req, res, next) => {\\n  console.log(3)\\n  next()\\n})\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6: \u6253\u53704\\napp.get(\'/hello\', (req, res) => {\\n  console.log(4)\\n})\\n\\napp.listen(port, () => {\\n  console.log(`Example app listening on port ${port}`)\\n})\\n```\\n\u5728\u8fd9\u91cc\u6211\u4eec\u6ce8\u518c\u4e864\u4e2a\u4e2d\u95f4\u4ef6\uff0c\u5f53\u8bbf\u95ee [http://localhost:3000/](http://localhost:3000/) \u4f1a\u547d\u4e2d\u524d3\u4e2a\u4e2d\u95f4\u4ef6\uff0c\u4ece\u800c\u6253\u5370 1 2 3\uff0c\u5176\u547d\u4e2d\u89c4\u5219\u4e3b\u8981\u4f9d\u9760 HTTP \u8bf7\u6c42\u65b9\u6cd5 \u548c \u8bf7\u6c42\u8def\u5f84\u6765\u5224\u65ad\u3002\\n\\n![\u56fe1](http://s3.airtlab.com/blog/20230228221626.png)\\n\\n\u5728 express.js \u5185\u90e8\uff0c\u5f53\u76d1\u542c\u5230\u4e00\u4e2a\u8bf7\u6c42\u65f6\uff0c\u4f1a\u904d\u5386\u6240\u6709\u4e2d\u95f4\u4ef6\uff0c\u5982\u679c\u67d0\u4e2a\u4e2d\u95f4\u4ef6\u547d\u4e2d\uff0c\u5219\u4f1a\u8fdb\u5165\u8be5\u4e2d\u95f4\u4ef6\uff0c\u5426\u5219\u8df3\u8fc7\uff0c\u76f4\u5230\u6240\u6709\u4e2d\u95f4\u4ef6\u904d\u5386\u7ed3\u675f\u3002 \\n\\n## 3\u3001\u6838\u5fc3\u6982\u5ff5\u4ecb\u7ecd\\n\u4ee5\u4e0b\u7684\u5185\u5bb9\uff0c\u53ea\u9700\u8981\u5927\u4f53\u6e05\u695a\u7559\u4e2a\u5370\u8c61\u5373\u53ef\uff0c\u5728\u540e\u9762\u7684\u7ae0\u8282\u4e2d\uff0c\u6211\u4eec\u4f1a\u8be6\u7ec6\u7684\u4ecb\u7ecd\u3002\\n\\n### 3.1 application \u5bf9\u8c61\\n\u8be5\u5bf9\u8c61\u7531 express() \u521b\u5efa\uff0capp \u672c\u8d28\u662f\u4e00\u4e2a\u51fd\u6570(\u4e5f\u662f\u4e2d\u95f4\u4ef6)\uff0c\u7528\u4e8e\u63a5\u53d7\u8bf7\u6c42\u5e76\u4e0b\u53d1\uff0c\u540c\u65f6\u6302\u8f7d\u4e86\u5f88\u591a\u65b9\u6cd5\u3002\\n```typescript\\nvar app = function(req, res, nest) {}\\n\\n/**\\n * Initialize the server.\\n *\\n *   - setup default configuration\\n *   - setup default middleware\\n *   - setup route reflection methods\\n *\\n * @private\\n */\\n// \u5165\u53e3\\napp.init = function init() {}\\n\\n/**\\n * Initialize application configuration.\\n * @private\\n */\\n// \u521d\u59cb\u5316\u914d\u7f6e\\napp.defaultConfiguration = function defaultConfiguration() {}\\n\\n// \u521b\u5efa router\\napp.lazyrouter = function lazyrouter() {}\\n```\\n### 3.2 middleware \u4e2d\u95f4\u4ef6\\nmiddleware \u672c\u8d28\u4e0a\u662f\u4e00\u4e2a Function\uff0c\u5b58\u57283\u79cd\u5b9a\u4e49\uff1a\\n```cpp\\n// \u6b63\u5e38\u4e2d\u95f4\u4ef6\uff1a\u4f60\u5bf9\u6570\u636e\u8fdb\u884c\u5904\u7406\uff0c\u7136\u540e\u8c03\u7528 next \u8c03\u7528\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\nfn1(req, res, next) {}\\n\\n// \u5f02\u5e38\u4e2d\u95f4\u4ef6: \u4f60\u51fa\u9519\u53e3\u624d\u8c03\u7528\u5b83\uff0c\u800c\u4e14\u5fc5\u987b\u662f\u56db\u4e2a\u53c2\u6570\uff0c\u4e0d\u80fd\u591a\u4e5f\u4e0d\u80fd\u5c11\\nfn2(err, req, res, next) {}\\n\\n// \u7ec8\u6b62\u4e2d\u95f4\u4ef6\uff1a\u6ca1\u6709 next \u8bf4\u660e\u6570\u636e\u5230\u91cc\u7ed3\u675f\\nfn3(req, res) {}\\n```\\n\u4e2d\u95f4\u4ef6\u53ef\u4ee5\u7ed1\u5b9a\u8def\u7531\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u7528\u7ed1\u5b9a\u8def\u7531\uff1a\\n```cpp\\n// \u5168\u5c40, \u4e0d\u7ed1\u5b9a\u8def\u7531\\napp.use(function(req, res, next){});\\n\\n// \u8def\u7531\u4e2d\u95f4\u4ef6, \u7ed1\u5b9a\u8def\u7531 get \u65b9\u6cd5\\napp.get(\\"/ping\\", function(req, res, next){})\\n\\n// \u8def\u7531\u4e2d\u95f4\u4ef6, \u7ed1\u5b9a\u8def\u7531 \u6240\u6709\u65b9\u6cd5\\napp.all(\\"/ping\\", function(req, res, next){})\\n```\\n\u4e2d\u95f4\u4ef6\u7684\u66f4\u591a\u6f14\u793a [Middleware callback function examples]([https://expressjs.com/en/4x/api.html#app.use](https://expressjs.com/en/4x/api.html#app.use))\\n\\n### 3.3 Router \u5bf9\u8c61\\n\u6bcf\u4e00\u4e2a application \u4e2d\u90fd\u53ea\u6709\u4e00\u4e2a router \u8def\u7531\u5bf9\u50cf\uff0c\u8fd9\u4e2a\u5bf9\u50cf\u7ba1\u7406\u8fd9\u4e2a application \u4e0b\u9762\u6709\u6240\u6709\u7684 subApplication, middleware \u548c route\u3002\\n\\n### 3.4 Route \u5bf9\u8c61\\n```cpp\\nfunction Route(path) {\\n  this.path = path;\\n  this.stack = [];\\n\\n  debug(\'new %o\', path)\\n\\n  // route handlers for various http methods\\n  this.methods = {};\\n}\\n```\\n\u7528\u4e8e\u7ba1\u7406\u8def\u7531\u5bf9\u8c61\uff0c\u6bd4\u5982\uff1a\\n```cpp\\napp.get(\\"/ping\\", function fn1(req, res, next){})\\n```\\n\u8fd9\u65f6\uff0c\u5c31\u4f1a\u521b\u5efa\u4e00\u4e2a Route \u5b9e\u4f8b:\\n```cpp\\n{\\n\\t\\"path\\": \\"/ping\\", // \u8bf7\u6c42\u8def\u5f84\\n    \\"stack\\": [fn1],  // \u56de\u6389\u51fd\u6570\\n    \\"methods\\": {     // \u8be5 route \u7ed1\u5b9a\u4e86\u7684\u8bf7\u6c42\u65b9\u6cd5\\n        \\"get\\": true\\n    }\\n}\\n```\\n\\n### 3.5 Layer \u5bf9\u8c61\\nLayer \u662f\u4e00\u4e2a\u8fde\u63a5\u5668\uff0c\u7528\u4e8e\u4e32\u8054 router route \u4ee5\u53ca middleware\uff0c\u4e5f\u662f express.js \u4e2d\u95f4\u4ef6\u7684\u6838\u5fc3\\n\\n### 3.6 sub application \u5b50\u5e94\u7528\\napplication \u6307\u4e00\u4e2a express \u5b9e\u4f8b\uff0c\u8fd9\u4e2a\u5b9e\u4f8b\u53ef\u4ee5\u6709\u81ea\u5df1\u73af\u5883\u53d8\u91cf\u7b49\uff0c\u800c subApplication \u662f\u6307\u7684 application \u4e0b\u9762\u53c8\u4f1a\u5d4c\u5957 \u4e00\u4e2a express \u5b9e\u4f8b\u5bf9\u50cf\u3002\\n```cpp\\n// An Express app is valid middleware.\\nvar subApp = express()\\nsubApp.get(\'/\', function (req, res, next) {\\n  next()\\n})\\napp.use(subApp)\\n```","isLeaf":true},{"key":"/nodejs/02-nodejs-expressjs/02-create-app.md","path":"/nodejs/02-nodejs-expressjs/02-create-app.md","route":"/nodejs/02-nodejs-expressjs/02-create-app.md","leaf":true,"title":"02-create-app","depth":2,"content":"---\\ntitle: 02 \u521b\u5efa application\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---\\n\\nexpress.js \u7b2c\u4e00\u6b65\u662f\u521b\u5efa application \u5b9e\u4f8b\\n\\n```js\\nconst express = require(\'express\')\\n\\n// \u521b\u5efa application \u5b9e\u4f8b\\nconst app = express()\\nconst port = 3000\\n\\napp.get(\'/\', (req, res) => {\\n  res.send(\'Hello World!\')\\n})\\n\\napp.listen(port, () => {\\n  console.log(`Example app listening on port ${port}`)\\n})\\n```\\n\\n\u6211\u4eec\u6765\u770b\u770b \u8c03\u7528 express \u51fd\u6570\u540e\uff0c\u80cc\u540e\u7684\u903b\u8f91\u662f\u4ec0\u4e48\u3002\\n\\n## 1. createApplication()\\n\\n\u6e90\u7801\uff1alib/express.js<br />express \u51fd\u6570\u5c31\u662f createApplication:\\n\\n```js\\n/**\\n* Create an express application.\\n*\\n* @return {Function}\\n* @api public\\n*/\\n\\nfunction createApplication() {\\n  // app \u4ec5\u4ec5\u662f\u4e00\u4e2a\u51fd\u6570\\n  // app \u4e3a\u4ec0\u4e48\u8fd9\u4e48\u5b9a\u4e49\uff0c\u540e\u7eed\u4f1a\u8bb2\u5230\\n  var app = function (req, res, next) {\\n    app.handle(req, res, next);\\n  };\\n\\n  // \u7ed9 app \u6269\u5c55 \u53d1\u5e03\u8ba2\u9605\\n  mixin(app, EventEmitter.prototype, false);\\n\\n  // \u7ed9 app \u6269\u5c55 application \u91cc\u9762\u6240\u5b9a\u4e49\u5bf9\u8c61\\n  // \u6bd4\u5982 app.init \u5c31\u5728 proto \u4e2d\u5b9a\u4e49\u7684\\n  mixin(app, proto, false);\\n\\n  // \u5c06 request \u6302\u8f7d\u5230 app.request\\n  // \u5e76\u4e14 app \u6302\u8f7d\u5230   request.app\\n  // expose the prototype that will get set on requests\\n  app.request = Object.create(req, {\\n    app: { configurable: true, enumerable: true, writable: true, value: app },\\n\\t});\\n\\n  // \u5c06 response \u6302\u8f7d\u5230  app.response\\n  // \u5e76\u4e14 app \u6302\u8f7d\u5230 response.app\\n  // expose the prototype that will get set on responses\\n  app.response = Object.create(res, {\\n    app: { configurable: true, enumerable: true, writable: true, value: app },\\n  });\\n\\n  // \u521d\u59cb\u5316\\n  app.init();\\n\\n  return app;\\n}\\n```\\n\\n## 2. app.init()\\n\\n\u6e90\u7801\uff1alib/application.js\\n\\n```js\\n/**\\n* Initialize the server.\\n*\\n*   - setup default configuration\\n*   - setup default middleware\\n*   - setup route reflection methods\\n*\\n* @private\\n*/\\n\\napp.init = function init() {\\n  this.cache = {};\\n  this.engines = {};\\n  this.settings = {};\\n\\n  // \u521d\u59cb\u5316 setting\\n  // setting \u7528\u4e8e\u5b58\u50a8\u4e00\u4e9b\u914d\u7f6e\u9879\\n  this.defaultConfiguration();\\n};\\n```\\n\\n## 3. app.defaultConfiguration()\\n\\n\u6e90\u7801\uff1alib/application.js\\n\\n```js\\n/**\\n* Initialize application configuration.\\n* @private\\n*/\\n\\napp.defaultConfiguration = function defaultConfiguration() {\\n  var env = process.env.NODE_ENV || \'development\';\\n\\n  // default settings\\n  // this.set(key, value) \u8bbe\u7f6e settings\\n  this.enable(\'x-powered-by\');\\n  this.set(\'etag\', \'weak\');\\n  this.set(\'env\', env);\\n  this.set(\'query parser\', \'extended\');\\n  this.set(\'subdomain offset\', 2);\\n  this.set(\'trust proxy\', false);\\n\\n  // trust proxy inherit back-compat\\n  Object.defineProperty(this.settings, trustProxyDefaultSymbol, {\\n    configurable: true,\\n    value: true\\n    });\\n\\n  debug(\'booting in %s mode\', env);\\n\\n  // MARK TODO mount \u4e8b\u4ef6\u4ec0\u4e48\u65f6\u5019 emit\\n  this.on(\'mount\', function onmount(parent) {\\n    // inherit trust proxy\\n    if (this.settings[trustProxyDefaultSymbol] === true\\n    && typeof parent.settings[\'trust proxy fn\'] === \'function\') {\\n    delete this.settings[\'trust proxy\'];\\n    delete this.settings[\'trust proxy fn\'];\\n  }\\n\\n  // inherit protos\\n  setPrototypeOf(this.request, parent.request)\\n    setPrototypeOf(this.response, parent.response)\\n    setPrototypeOf(this.engines, parent.engines)\\n    setPrototypeOf(this.settings, parent.settings)\\n  });\\n\\n  // setup locals\\n  this.locals = Object.create(null);\\n\\n  // top-most app is mounted at /\\n  this.mountpath = \'/\';\\n\\n  // default locals\\n  this.locals.settings = this.settings;\\n\\n  // default configuration\\n  this.set(\'view\', View);\\n  this.set(\'views\', resolve(\'views\'));\\n  this.set(\'jsonp callback name\', \'callback\');\\n\\n  if (env === \'production\') {\\n    this.enable(\'view cache\');\\n  }\\n\\n  Object.defineProperty(this, \'router\', {\\n    get: function() {\\n      throw new Error(\'\\\\\'app.router\\\\\' is deprecated!\\\\nPlease see the 3.x to 4.x migration guide for details on how to update your app.\');\\n    }\\n  });\\n};\\n```\\n\\n## 4. \u76d1\u542c mount \u4e8b\u4ef6\\n\\n\u5f53 express \u5b9e\u4f8b\u662f\u4e00\u4e2a\u5b50\u5e94\u7528\u65f6\uff0c\u8be5\u5b50\u5e94\u7528\u6ce8\u518c\u6210\u529f\u540e\uff0c\u5c31\u4f1a\u6536\u5230 mount \u4e8b\u4ef6\\n\\n```js\\n  app.on(\'mount\', function onmount(parent) {\\n    // inherit trust proxy\\n    if (this.settings[trustProxyDefaultSymbol] === true\\n      && typeof parent.settings[\'trust proxy fn\'] === \'function\') {\\n      delete this.settings[\'trust proxy\'];\\n      delete this.settings[\'trust proxy fn\'];\\n    }\\n\\n    // inherit protos\\n    setPrototypeOf(this.request, parent.request)\\n    setPrototypeOf(this.response, parent.response)\\n    setPrototypeOf(this.engines, parent.engines)\\n    setPrototypeOf(this.settings, parent.settings)\\n  });\\n```\\n\\n```js\\n// An Express app is valid middleware.\\nvar subApp = express()\\nsubApp.get(\'/\', function (req, res, next) {\\n  next()\\n})\\napp.use(subApp)\\n```\\n\\napp.use \u6e90\u7801\\n\\n```js\\napp.use = function use(fn) {\\n  var offset = 0;\\n  var path = \'/\';\\n\\n  // default path to \'/\'\\n  // disambiguate app.use([fn])\\n  if (typeof fn !== \'function\') {\\n    var arg = fn;\\n\\n    while (Array.isArray(arg) && arg.length !== 0) {\\n      arg = arg[0];\\n    }\\n\\n    // first arg is the path\\n    if (typeof arg !== \'function\') {\\n      offset = 1;\\n      path = fn;\\n    }\\n  }\\n\\n  var fns = flatten(slice.call(arguments, offset));\\n\\n  if (fns.length === 0) {\\n    throw new TypeError(\'app.use() requires a middleware function\')\\n  }\\n\\n  // setup router\\n  this.lazyrouter();\\n  var router = this._router;\\n\\n  fns.forEach(function (fn) {\\n    // non-express app\\n    if (!fn || !fn.handle || !fn.set) {\\n      return router.use(path, fn);\\n    }\\n\\n    debug(\'.use app under %s\', path);\\n    fn.mountpath = path;\\n    fn.parent = this;\\n\\n    // restore .app property on req and res\\n    router.use(path, function mounted_app(req, res, next) {\\n      var orig = req.app;\\n      fn.handle(req, res, function (err) {\\n        setPrototypeOf(req, orig.request)\\n        setPrototypeOf(res, orig.response)\\n        next(err);\\n      });\\n    });\\n\\n    // mounted an app\\n    fn.emit(\'mount\', this);\\n  }, this);\\n\\n  return this;\\n};\\n```\\n","isLeaf":true},{"key":"/nodejs/02-nodejs-expressjs/03-app-receive-request.md","path":"/nodejs/02-nodejs-expressjs/03-app-receive-request.md","route":"/nodejs/02-nodejs-expressjs/03-app-receive-request.md","leaf":true,"title":"03-app-receive-request","depth":2,"content":"---\\ntitle: 03 app \u63a5\u6536\u8bf7\u6c42\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---\\n\\n```js\\nconst express = require(\'express\')\\n\\n// \u521d\u59cb\u5316\u4e00\u4e2a\u5e94\u7528\\nconst app = express()\\nconst port = 3000\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6\u8c03\u7528\\napp.get(\'/\', (req, res) => {\\n  res.send(\'Hello World!\')\\n})\\n\\n// \u76d1\u542c\u7aef\u53e3\u542f\u52a8\u670d\u52a1\\napp.listen(port, () => {\\n  console.log(`Example app listening on port ${port}`)\\n})\\n```\\n\u7136\u540e app.listen \u5185\u90e8\u5c01\u88c5 http.createServer\uff0c\u6240\u4ee5\u5148\u770b\u770b app.listen\\n\\n## 1. app.listen()\\n```js\\n// lib/application.js\\napp.listen = function listen() {\\n  // this \u5c31\u662f\\n  // var app = function (req, res, next) {\\n  //   next \u4e3a undefined  \\n  //   app.handle(req, res, next);\\n  // };\\n\\n  var server = http.createServer(this);\\n\\n  return server.listen.apply(server, arguments);\\n};\\n```\\n\u6240\u4ee5\u5f53\u76d1\u542c\u5230\u8bf7\u6c42\u65f6\u4f1a\u8fdb\u5165 app.handle\\n\\n## 2. app.handle()\\n```cpp\\n// lib/application.js\\n\\n// Dispatch a req, res pair into the application. Starts pipeline processing.\\n// If no callback is provided, then default error handlers will respond\\n// in the event of an error bubbling through the stack.\\napp.handle = function handle(req, res, callback) {\\n  var router = this._router;\\n\\n  // final handler\\n  var done = callback || finalhandler(req, res, {\\n    env: this.get(\'env\'),\\n    onerror: logerror.bind(this)\\n  });\\n\\n  // no routes\\n  if (!router) {\\n    debug(\'no routes defined on app\');\\n    done();\\n    // \u5982\u679c\u6ca1\u6709\u6ce8\u518c\u4efb\u4f55\u7684\u4e2d\u95f4\u4ef6\uff0c\u5219 done()\\n    return;\\n  }\\n\\n  router.handle(req, res, done);\\n};\\n```\\n app.handle  \u7528\u4e8e\u4e0b\u53d1\u8bf7\u6c42\u5230 router \u8fdb\u884c\u5904\u7406\uff0c\u9996\u5148\u5b9a\u4e49\u4e86 done Function\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u5728\u6240\u6709\u4e2d\u95f4\u4ef6\u90fd\u6267\u884c\u5b8c\u4e86\u540e\u6267\u884c\u3002\u8c03\u7528 router.handle \u540e\uff0c\u4f1a\u8fdb\u4eba\u6d41\u6c34\u7ebf\u5904\u7406\u6d41\u7a0b\uff0c\u6211\u4eec\u5148\u770b\u770b finalhandler \u7684\u5b9a\u4e49\\n```cpp\\nfunction finalhandler (req, res, options) {\\n  var opts = options || {}\\n\\n  // get environment\\n  var env = opts.env || process.env.NODE_ENV || \'development\'\\n\\n  // get error callback\\n  var onerror = opts.onerror\\n\\n  // \u5982\u679c\u6267\u884c\u6d41\u6c34\u7ebf\u6267\u884c\u5b8c\u6210\uff0c\u6216\u8005\u4e2d\u9014\u51fa\u73b0\u4e86\u9519\u8bef\\n  // \u5219\u4f1a\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\uff0c\u5e76\u4e14\u4f20\u5165\u9519\u8bef\u4fe1\u606f\\n  return function (err) {\\n    var headers\\n    var msg\\n    var status\\n\\n    // ignore 404 on in-flight response\\n    // \u5982\u679c\u6ca1\u9519\u8bef\uff0c\u4f46\u662f\u5df2\u7ecf\u54cd\u5e94\u8bf7\u6c42\u4e86\uff0c\u5219\u8bf7\u6c42\u5904\u7406\u5b8c\u6210\\n    if (!err && headersSent(res)) {\\n      debug(\'cannot 404 after headers sent\')\\n      return\\n    }\\n\\n    // unhandled error\\n    if (err) {\\n      // respect status code from error\\n      status = getErrorStatusCode(err)\\n\\n      if (status === undefined) {\\n        // fallback to status code on response\\n        status = getResponseStatusCode(res)\\n      } else {\\n        // respect headers from error\\n        headers = getErrorHeaders(err)\\n      }\\n\\n      // get error message\\n      msg = getErrorMessage(err, status, env)\\n    } else {\\n      // not found\\n      status = 404\\n      msg = \'Cannot \' + req.method + \' \' + encodeUrl(getResourceName(req))\\n    }\\n\\n    debug(\'default %s\', status)\\n\\n    // schedule onerror callback\\n    if (err && onerror) {\\n      defer(onerror, err, req, res)\\n    }\\n\\n    // cannot actually respond\\n    if (headersSent(res)) {\\n      debug(\'cannot %d after headers sent\', status)\\n      req.socket.destroy()\\n      return\\n    }\\n\\n    // send response\\n    send(req, res, status, headers, msg)\\n  }\\n}\\n```\\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u770b\u770b router.handle \u7684\u903b\u8f91\\n\\n## 3. router.handle()\\nrouter.handle \u662f\u4e2d\u95f4\u4ef6\u6267\u884c\u8c03\u5ea6\u7684\u6838\u5fc3\uff0c\u6211\u4eec\u540e\u7eed\u4f1a\u7528\u5355\u72ec\u7684\u7ae0\u8282\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u8fd9\u91cc\u53ea\u505a\u5927\u6982\u7684\u9610\u8ff0\u3002<br />\u5b9e\u9645\u4e0a\uff0c\u6240\u6709\u6ce8\u518c\u7684\u4e2d\u95f4\u4ef6\u90fd\u4f1a\u88ab router \u5bf9\u8c61\u6240\u7ba1\u7406\uff0c\u5728 router.handle \u5185\u90e8\u5c01\u88c5\u4e86\u5173\u952e\u7684 next \u65b9\u6cd5 \u4ee5\u53ca \u5173\u952e\u6307\u9488 idx\uff0cnext \u65b9\u6cd5 + idx \u6307\u9488\u6765\u4e32\u8054\u6240\u6709\u7684\u4e2d\u95f4\u4ef6\uff1a\\n\\n- \u4ece idx = 0 \u5f00\u59cb\uff0c\u8fdb\u5165 next \u65b9\u6cd5\uff0c\u53d6\u4e00\u4e2a matched \u7684\u4e2d\u95f4\u4ef6\\n- \u5f53\u7b2c\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u6267\u884c\u5b8c\u6210\u540e\uff0c\u5e76\u4e14 next \u88ab\u8c03\u7528\\n- \u5219\u53d6\u4e0b\u4e00\u4e2a matched\uff0c\u8fd9\u6837\u76f4\u5230\u6240\u6709 middleware \u90fd\u88ab\u5904\u7406\\n- \u6700\u540e\u6267\u884c done() \\n\\n\u4e0b\u9762\u662f\u6781\u7b80\u7684\u4ee3\u7801\uff08\u4ec5\u4ec5\u63d0\u4f9b\u5e2e\u52a9\u7406\u89e3\uff0c\u540e\u7eed\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\uff09\\n```js\\nproto.handle = function handle(req, res, out) {\\n  var self = this;\\n\\n  var idx = 0;\\n\\n  // middleware and routes\\n  var stack = self.stack;\\n\\n  var done = restore(out, req, \'baseUrl\', \'next\', \'params\');\\n\\n  // setup basic req values\\n  req.baseUrl = parentUrl;\\n  req.originalUrl = req.originalUrl || req.url;\\n\\n  next();\\n\\n  function next(err) {\\n    var layerError = err === \'route\'\\n      ? null\\n      : err;\\n\\n    if (idx >= stack.length) {\\n      setImmediate(done, layerError);\\n      return;\\n    }\\n\\n    // max sync stack\\n    if (++sync > 100) {\\n      return setImmediate(next, err)\\n    }\\n\\n    // find next matching layer\\n    var layer;\\n    var match;\\n    var route;\\n\\n    // while \u5faa\u73af\u8d1f\u8d23\u83b7\u53d6\u4e00\u4e2a matched \u7684\u4e2d\u95f4\u4ef6\\n    while (match !== true && idx < stack.length) {\\n      layer = stack[idx++];\\n      match = matchLayer(layer);\\n      if (match !== true) {\\n        continue;\\n      }\\n    }\\n\\n    // \u6267\u884c\u8be5\u4e2d\u95f4\u4ef6\\n\\thandle_request(req, res, next)\\n  }\\n};\\n```\\n\u7136\u540e\u6574\u4e2a\u8bf7\u6c42\u5c31\u5904\u7406\u5b8c\u6210\u4e86\\n","isLeaf":true},{"key":"/nodejs/02-nodejs-expressjs/04-middleware-register.md","path":"/nodejs/02-nodejs-expressjs/04-middleware-register.md","route":"/nodejs/02-nodejs-expressjs/04-middleware-register.md","leaf":true,"title":"04-middleware-register","depth":2,"content":"---\\ntitle: 04 \u4e2d\u95f4\u4ef6\u6ce8\u518c\u6d41\u7a0b\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---\\n\\n\u521b\u5efa app \u4ee5\u53ca app \u63a5\u6536\u8bf7\u6c42 \u6211\u4eec\u5df2\u7ecf\u9610\u8ff0\u8fc7\u4e86\uff0c\u5e76\u4e14\u5728\u300aapp \u63a5\u6536\u8bf7\u6c42\u300b\u8fd9\u4e00\u5c0f\u8282\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86 router.handle \u4e2d\u95f4\u4ef6\u5b8f\u89c2\u7684\u6267\u884c\u6d41\u7a0b\u3002\u73b0\u5728\u6211\u4eec\u9700\u8981\u8be6\u7ec6\u7684\u7406\u89e3 \u4e2d\u95f4\u4ef6\u7684\u6ce8\u518c\u6d41\u7a0b \u4ee5\u53ca \u4e2d\u95f4\u4ef6\u7684\u6267\u884c\u6d41\u7a0b\u3002\\n\\n\u8fd9\u4e00\u5c0f\u8282\u5148\u4ecb\u7ecd\u6ce8\u518c\u6d41\u7a0b\uff08\u5982\u679c\u4f60\u5e0c\u671b\u5feb\u901f\u4e86\u89e3 middleware \u7684\u6a21\u578b\uff0c\u8bf7\u770b\u6587\u7ae0\u672b\u5c3e\u7684 layer \u6a21\u578b\u56fe\uff09\\n\\n## 1. \u4ece `app[method]()` \u5f00\u59cb\\n`app[method](path, fn)` \u6ce8\u518c\u4e2d\u95f4\u4ef6:\\n```js\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6: \u54cd\u5e94\u8bf7\u6c42\uff0c\u6253\u53701\uff0c\u5e76\u4e14\u8c03\u7528 next() \u8fdb\u5165\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\napp.get(\'/\', (req, res, next) => {\\n  console.log(1)\\n  res.send(\'Hello World!\')\\n  next()\\n})\\n```\\n\\n\u6211\u4eec\u9700\u8981\u77e5\u9053 `app.get` \u662f\u5982\u4f55\u5b9a\u4e49\u7684\uff1a\\n```js\\n// lib/application.js\\n// \u904d\u5386\u6240\u6709 http method\\nmethods.forEach(function(method){\\n  app[method] = function(path){\\n    if (method === \'get\' && arguments.length === 1) {\\n      // app.get(setting)\\n      return this.set(path);\\n    }\\n\\n    // \u521b\u5efa router, \u5185\u90e8\u6709\u5224\u65ad\uff0c\u53ea\u4f1a\u5168\u5c40\u521b\u5efa\u4e00\u4e2a router\\n    this.lazyrouter();\\n      \\n    // \u521b\u5efa Route \u5b9e\u4f8b\\n    var route = this._router.route(path);\\n\\n    // \u8fd9\u4e2a\u8c03\u7528\u4e86 route.method \u65b9\u6cd5\\n    // \u672c\u8d28\u4e0a\u7ed9\u8be5 route \u521b\u5efa\u4e86\u4e00\u4e2a layer\\n    // route \u7ed1\u5b9a\u4e86 handle\\n    route[method].apply(route, slice.call(arguments, 1));\\n\\n    return this;\\n  };\\n});\\n```\\n\u5904\u7406\u903b\u8f91\u5305\u62ec\uff1a\\n\\n- \u521b\u5efa Router \u5b9e\u4f8b (\u5185\u90e8\u6709\u5224\u65ad\uff0c\u53ea\u4f1a\u5168\u5c40\u521b\u5efa\u4e00\u4e2a router)\\n- \u521b\u5efa Route \u5b9e\u4f8b\uff0c\u6bcf\u6b21\u8c03\u7528 app[method] \u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a Route\\n  - \u521b\u5efa route\\n  - \u521b\u5efa router layer\\n- \u6267\u884c route[method] \u65b9\u6cd5\uff0c\u53c2\u6570\u4e3a handle\\n  - \u521b\u5efa route layer\\n\\n\u4e0b\u9762\u5206\u522b\u8be6\u7ec6\u4ecb\u7ecd\u3002\\n\\n## 2. new Router\\n### app.lazyrouter [\u521b\u5efa router]\\n```js\\napp.lazyrouter = function lazyrouter() {\\n  if (!this._router) {\\n    this._router = new Router({\\n      caseSensitive: this.enabled(\'case sensitive routing\'),\\n      strict: this.enabled(\'strict routing\')\\n    });\\n\\n    // query parser: \u89e3\u6790 url \u53c2\u6570\\n    this._router.use(query(this.get(\'query parser fn\')));\\n\\n    // \u5b8c\u6210 req \u548c res \u4e92\u76f8\u5f15\u7528\uff0c\u4ee5\u53ca\u6309\u7167\u56fd\u9645\u60ef\u4f8b\u589e\u52a0 \\"X-Powered-By\\" \ud83d\ude01\\n    this._router.use(middleware.init(this));\\n  }\\n};\\n```\\nlazyrouter \u5185\u90e8\u51b3\u5b9a\u662f\u5426\u6267\u884c new Router\uff0c\u53ea\u4f1a\u521b\u5efa\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u8fd9\u91cc\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e24\u6b65\uff1a\\n\\n- \u521b\u5efa Router \u5b9e\u4f8b\\n- \u6ce8\u518c\u4e24\u4e2a\u5185\u7f6e\u7684 middleware\\n\\n### Router \u7684\u5b9a\u4e49\\nlib/router/index.js\\n```js\\nvar proto = module.exports = function(options) {\\n  var opts = options || {};\\n\\n  // \u6709\u8da3\u7684\u662f router \u672c\u8eab\u4e5f\u662f\u4e00\u4e2a\u5145\u5f53 middlewaren handle \u7684\u51fd\u6570\\n  // \u8fd9\u4e2a\u4f1a\u5f88\u6709\u7528, \u6bd4\u5982\u8def\u7531\u5206\u7ec4  \\n  function router(req, res, next) {\\n    router.handle(req, res, next);\\n  }\\n\\n  // mixin Router class functions\\n  setPrototypeOf(router, proto)\\n\\n  router.params = {};\\n  router._params = [];\\n  router.caseSensitive = opts.caseSensitive;\\n  router.mergeParams = opts.mergeParams;\\n  router.strict = opts.strict;\\n\\n  // \u7528\u4e8e\u4fdd\u5b58\u6240\u6709\u7684 middleware\\n  router.stack = [];\\n\\n  return router;\\n};\\n```\\n\\n## 3. new Route\\n### router.route() [\u521b\u5efa Route & router layer]\\n\u6ce8\u518c\u4e2d\u95f4\u4ef6\u65f6:\\n\\n- (1) \u521b\u5efa\u4e00\u4e2a route\\n- (2) \u521b\u5efa\u4e00\u4e2a layer\\n- (3) layer.route = route\\n- (4) \u5c06 layer \u6dfb\u52a0\u5230 router.stack \u4e2d\\n\\n```js\\n/**\\n * Create a new Route for the given path.\\n *\\n * Each route contains a separate middleware stack and VERB handlers.\\n *\\n * See the Route api documentation for details on adding handlers\\n * and middleware to routes.\\n *\\n * @param {String} path\\n * @return {Route}\\n * @public\\n */\\nproto.route = function route(path) {\\n  var route = new Route(path);\\n\\n  // layer \u7684 handle \u4e3a route.dispatch \u8fd9\u4e2a\u5f88\u91cd\u8981\\n  var layer = new Layer(path, {\\n    sensitive: this.caseSensitive,\\n    strict: this.strict,\\n    end: true\\n  }, route.dispatch.bind(route));\\n\\n  layer.route = route;\\n\\n  this.stack.push(layer);\\n  return route;\\n};\\n```\\n\\n### route[method] [\u521b\u5efa route layer]\\nlib/router/route.js\\n```js\\nmethods.forEach(function(method){\\n  Route.prototype[method] = function(){\\n      // handles \u5c31\u662f app.method(path, fn1, fn2) \u4e2d\u7684 [fn1, fn2]\\n    var handles = flatten(slice.call(arguments));\\n\\n    for (var i = 0; i < handles.length; i++) {\\n      var handle = handles[i];\\n\\n      if (typeof handle !== \'function\') {\\n        var type = toString.call(handle);\\n        var msg = \'Route.\' + method + \'() requires a callback function but got a \' + type\\n        throw new Error(msg);\\n      }\\n\\n      debug(\'%s %o\', method, this.path)\\n\\n      // \u521b\u5efa Layer\\n      // \u5c06 layer \u6dfb\u52a0\u5230 layer.stack \u4e2d\\n      var layer = Layer(\'/\', {}, handle);\\n      layer.method = method;\\n\\n      this.methods[method] = true;\\n      this.stack.push(layer);\\n    }\\n\\n    return this;\\n  };\\n});\\n\\n```\\n\\n## 4. new Layer\\nLayer \u662f\u5bf9 middleware \u7684\u5c01\u88c5\uff0c\u5148\u770b Layer \u7684\u5b9a\u4e49\u3002\\n\\n### Layer \u7684\u5b9a\u4e49\\n```js\\n\\nvar pathRegexp = require(\'path-to-regexp\');\\nvar debug = require(\'debug\')(\'express:router:layer\');\\n\\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\\n\\nmodule.exports = Layer;\\n\\nfunction Layer(path, options, fn) {\\n  if (!(this instanceof Layer)) {\\n    return new Layer(path, options, fn);\\n  }\\n\\n  debug(\'new %o\', path)\\n  var opts = options || {};\\n\\n  // \u5173\u952e\u5c5e\u6027\\n  this.handle = fn;\\n\\n  this.name = fn.name || \'<anonymous>\';\\n  this.params = undefined;\\n  this.path = undefined;\\n  this.regexp = pathRegexp(path, this.keys = [], opts);\\n\\n  // set fast path flags\\n  this.regexp.fast_star = path === \'*\'\\n  this.regexp.fast_slash = path === \'/\' && opts.end === false\\n}\\n\\n/**\\n * Handle the error for the layer.\\n *\\n * @param {Error} error\\n * @param {Request} req\\n * @param {Response} res\\n * @param {function} next\\n * @api private\\n */\\nLayer.prototype.handle_error = function handle_error(error, req, res, next) {\\n  var fn = this.handle;\\n\\n  if (fn.length !== 4) {\\n    // not a standard error handler\\n    return next(error);\\n  }\\n\\n  try {\\n    fn(error, req, res, next);\\n  } catch (err) {\\n    next(err);\\n  }\\n};\\n\\n/**\\n * Handle the request for the layer.\\n *\\n * @param {Request} req\\n * @param {Response} res\\n * @param {function} next\\n * @api private\\n */\\nLayer.prototype.handle_request = function handle(req, res, next) {\\n  var fn = this.handle;\\n\\n    // \u5982\u679c handle \u53c2\u6570\u53ea\u67092\u4e2a\u65f6\\n    // \u5185\u90e8\u4f1a\u5e2e\u52a9 next() \u907f\u514d pipe \u4e2d\u65ad\\n  if (fn.length > 3) {\\n    // not a standard request handler\\n    return next();\\n  }\\n\\n  try {\\n    fn(req, res, next);\\n  } catch (err) {\\n    next(err);\\n  }\\n};\\n\\n/**\\n * Check if this route matches `path`, if so\\n * populate `.params`.\\n *\\n * @param {String} path\\n * @return {Boolean}\\n * @api private\\n */\\nLayer.prototype.match = function match(path) {\\n  var match\\n\\n  if (path != null) {\\n    // fast path non-ending match for / (any path matches)\\n    if (this.regexp.fast_slash) {\\n      this.params = {}\\n      this.path = \'\'\\n      return true\\n    }\\n\\n    // fast path for * (everything matched in a param)\\n    if (this.regexp.fast_star) {\\n      this.params = {\'0\': decode_param(path)}\\n      this.path = path\\n      return true\\n    }\\n\\n    // match the path\\n    match = this.regexp.exec(path)\\n  }\\n\\n  if (!match) {\\n    this.params = undefined;\\n    this.path = undefined;\\n    return false;\\n  }\\n\\n  // store values\\n  this.params = {};\\n  this.path = match[0]\\n\\n  var keys = this.keys;\\n  var params = this.params;\\n\\n  for (var i = 1; i < match.length; i++) {\\n    var key = keys[i - 1];\\n    var prop = key.name;\\n    var val = decode_param(match[i])\\n\\n    if (val !== undefined || !(hasOwnProperty.call(params, prop))) {\\n      params[prop] = val;\\n    }\\n  }\\n\\n  return true;\\n};\\n\\n/**\\n * Decode param value.\\n *\\n * @param {string} val\\n * @return {string}\\n * @private\\n */\\n\\nfunction decode_param(val) {\\n  if (typeof val !== \'string\' || val.length === 0) {\\n    return val;\\n  }\\n\\n  try {\\n    return decodeURIComponent(val);\\n  } catch (err) {\\n    if (err instanceof URIError) {\\n      err.message = \'Failed to decode param \\\\\'\' + val + \'\\\\\'\';\\n      err.status = err.statusCode = 400;\\n    }\\n\\n    throw err;\\n  }\\n}\\n\\n```\\n\\n\u4ece 2 \u548c 3 \u4e2d\u53ef\u4ee5\u770b\u5230, route \u548c router \u5b9e\u4f8b\u90fd\u6709 stack \u5c5e\u6027\uff0c\u90fd\u7528\u4e8e\u4fdd\u5b58 Layer \u5b9e\u4f8b\uff0c\u5b83\u4eec\u4e4b\u95f4\u6709\u4ec0\u4e48\u533a\u522b\u5462\uff1f\u4e3b\u8981 handle function \u7684\u5dee\u5f02\u3002\\n\\n### route layer \u548c route layer\\n\u524d\u9762\u6211\u4eec\u5df2\u7ecf\u8bb2\u8fc7\uff0crouter layer \u662f\u5728\u8c03\u7528 router.route \u65b9\u6cd5\u65f6\u521b\u5efa\u7684\uff1a\\n```js\\nrouter.route = function route(path) {\\n  var route = new Route(path);\\n\\n  var layer = new Layer(path, {\\n    sensitive: this.caseSensitive,\\n    strict: this.strict,\\n    end: true\\n  }, route.dispatch.bind(route));\\n\\n  layer.route = route;\\n\\n  this.stack.push(layer);\\n  return route;\\n};\\n```\\n\u6ce8\u610f router layer \u7684 handle \u5b9e\u9645\u4e0a\u662f  route.dispatch\uff0c\u800c route layer \u662f\u5728\u8c03\u7528 route[method]() \u521b\u5efa\u7684:\\n```js\\nmethods.forEach(function(method){\\n  Route.prototype[method] = function(){\\n    var handles = flatten(slice.call(arguments));\\n\\n    for (var i = 0; i < handles.length; i++) {\\n      var handle = handles[i];\\n\\n      if (typeof handle !== \'function\') {\\n        var type = toString.call(handle);\\n        var msg = \'Route.\' + method + \'() requires a callback function but got a \' + type\\n        throw new Error(msg);\\n      }\\n\\n      debug(\'%s %o\', method, this.path)\\n\\n      var layer = Layer(\'/\', {}, handle);\\n      layer.method = method;\\n      // route layer \u5fc5\u987b\u7ed1\u5b9a method, \u56e0\u4e3a\u4e00\u4e2a route \u65e2\u53ef\u4ee5\u7ed1\u5b9a post \u4e5f\u53ef\u4ee5\u7ed1\u5b9a get...\\n      // post \u5bf9\u5e94 post layer, get \u5bf9\u5e94 get layer\\n\\n      this.methods[method] = true;\\n      this.stack.push(layer);\\n    }\\n\\n    return this;\\n  };\\n});\\n```\\n\u5bf9\u6bd4\u5dee\u5f02\uff1a\\n```js\\n// router layer\\nnew Layer(path, {\\n    sensitive: this.caseSensitive,\\n    strict: this.strict,\\n    end: true\\n  }, route.dispatch.bind(route));\\nlayer.route = route;\\n\\n// route layer\\nvar layer = Layer(\'/\', {}, handle);\\nlayer.method = method;\\n```\\n\\n### user handle \u548c dispatch handle\\n\u6982\u5ff5\u533a\u5206\uff0c\u4f53\u73b0\u5dee\u5f02\\n\\n### layer \u6d4b\u8bd5\\n```js\\nconst express = require(\'express\')\\nconst app = express()\\nconst port = 3000\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6\\n// \u529f\u80fd\u5305\u542b\uff1a\u54cd\u5e94\u8bf7\u6c42\uff0c\u6253\u53701\uff0c\u5e76\u4e14\u8c03\u7528 next() \u8fdb\u5165\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\napp.get(\'/\', (req, res, next) => {\\n  console.log(1)\\n  res.send(\'Hello World!\')\\n  next()\\n})\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6\\n// \u529f\u80fd\u5305\u542b\uff1a\u6253\u53702\uff0c\u5e76\u4e14\u8c03\u7528 next() \u8fdb\u5165\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\napp.get(\'/\', (req, res, next) => {\\n  console.log(2)\\n  next()\\n})\\n\\napp.listen(port, () => {\\n  console.log(`Example app listening on port ${port}`)\\n})\\ndebugger\\n```\\n\u9488\u5bf9\u4e0a\u9762\u4ee3\u7801\uff0c\u5f53\u6267\u884c\u5230 debugger \u65f6, app._router.stack \u957f\u5ea6\u4e3a 4:\\n\\n![20230228234147](http://s3.airtlab.com/blog/20230228234147.png)\\n\\n\u524d\u4e24\u4e2a\u662f\u5185\u7f6e\u4e2d\u95f4\u4ef6\uff0c\u540e\u97622\u4e2a\u662f\u81ea\u5b9a\u4e49\u6ce8\u518c\u7684\u3002\u6211\u4eec\u770b\u770b\u7b2c\u4e09\u4e2a layer:\\n\\n![20230228234130](http://s3.airtlab.com/blog/20230228234130.png)\\n\\n\u8be5 layer \u7684 handle \u662f route.dispatch \u65b9\u6cd5\uff0c\u800c\u4e14\u8be5 layer \u6709\u4e00\u4e2a route \u5c5e\u6027\u3002route \u4e5f\u6709 \u4e00\u4e2a layer, \u5176 handle \u5c31\u662f\u6211\u4eec\u6ce8\u518c\u7684 callback function\u3002route.stack \u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u8fd9\u8868\u793a\u4e00\u4e2aroute\u53ef\u4ee5\u62e5\u6709\u591alayer\uff0c\u6bd4\u5982\uff1a\\n```js\\n// route.all \u6216\u8005 route.get \u652f\u6301\u94fe\u5f0f\u5199\u6cd5\\n// \u7ed9\u4e00\u4e2a route \u6ce8\u518c\u4e86\u4e24\u4e2alayer\\nrouter.route(\'/users/:user_id\')\\n  .all(function (req, res, next) {\\n    // runs for all HTTP verbs first\\n    // think of it as route specific middleware!\\n    next()\\n  })\\n  .get(function (req, res, next) {\\n    res.json(req.user)\\n  })\\n```\\n\\n### layer \u6a21\u578b\u56fe\\n\u5230\u6b64\u4e3a\u6b62\u6211\u4eec\u753b\u51fa Layer \u7684\u6a21\u578b\u56fe:\\n\\n![20230228234105](http://s3.airtlab.com/blog/20230228234105.png)\\n\\n### route \u591a layer\\n```js\\napp.route(\'/user\') \\n.get((req, res, next) => { \\n    res.send(\'GET request called\'); \\n}) \\n.post((req, res, next) => { \\n\\tres.send(\'POST request called\'); \\n}) \\n.all((req, res, next) => { \\n\\tres.send(\'Other requests called\'); \\n}) \\n  \\n```","isLeaf":true},{"key":"/nodejs/02-nodejs-expressjs/05-middleware-runtime.md","path":"/nodejs/02-nodejs-expressjs/05-middleware-runtime.md","route":"/nodejs/02-nodejs-expressjs/05-middleware-runtime.md","leaf":true,"title":"05-middleware-runtime","depth":2,"content":"---\\ntitle: 05 \u4e2d\u95f4\u4ef6\u6267\u884c\u6d41\u7a0b\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---\\n\\n\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u8fdb\u884c\u8c03\u8bd5:\\n```cpp\\nconst express = require(\'express\')\\nconst app = express()\\nconst port = 3000\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6\\n// \u529f\u80fd\u5305\u542b\uff1a\u54cd\u5e94\u8bf7\u6c42\uff0c\u6253\u53701\uff0c\u5e76\u4e14\u8c03\u7528 next() \u8fdb\u5165\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\napp.get(\'/\', (req, res, next) => {\\n  console.log(1)\\n  res.send(\'Hello World!\')\\n  next()\\n})\\n\\n// \u6ce8\u518c\u4e2d\u95f4\u4ef6\\n// \u529f\u80fd\u5305\u542b\uff1a\u6253\u53702\uff0c\u5e76\u4e14\u8c03\u7528 next() \u8fdb\u5165\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\\napp.get(\'/\', (req, res, next) => {\\n  console.log(2)\\n  next()\\n})\\n\\napp.listen(port, () => {\\n  debugger\\n  console.log(`Example app listening on port ${port}`)\\n})\\n```\\n\\n### 1. layer \u6267\u884c\u6d41\u7a0b\\n\u5148\u4e86\u89e3 express.js \u4e2d layer \u7684\u6267\u884c\u6d41\u7a0b\uff0c\u518d\u770b\u4ee3\u7801\u4f1a\u53d8\u5f97\u975e\u5e38\u7b80\u5355\u3002<br />\\n![image](http://s3.airtlab.com/blog/image.png)\\n\\n- \u7406\u89e3 router layer \u9012\u5f52\\n- \u7406\u89e3 route layer \u9012\u5f52\\n\\n### 2. router.handle \u63a5\u7ba1\u8bf7\u6c42\\n```cpp\\n/**\\n * Dispatch a req, res into the router.\\n * @private\\n */\\nrouter.handle = function handle(req, res, out) {\\n  var self = this;\\n\\n  debug(\'dispatching %s %s\', req.method, req.url);\\n\\n  var idx = 0;\\n  var protohost = getProtohost(req.url) || \'\'\\n  var removed = \'\';\\n  var slashAdded = false;\\n  var sync = 0\\n  var paramcalled = {};\\n\\n  // store options for OPTIONS request\\n  // only used if OPTIONS request\\n  var options = [];\\n\\n  // middleware and routes\\n  var stack = self.stack;\\n\\n  // manage inter-router variables\\n  var parentParams = req.params;\\n  var parentUrl = req.baseUrl || \'\';\\n  var done = restore(out, req, \'baseUrl\', \'next\', \'params\');\\n\\n  // setup next layer\\n  req.next = next;\\n\\n  // for options requests, respond with a default if nothing else responds\\n  if (req.method === \'OPTIONS\') {\\n    done = wrap(done, function(old, err) {\\n      if (err || options.length === 0) return old(err);\\n      sendOptionsResponse(res, options, old);\\n    });\\n  }\\n\\n  // setup basic req values\\n  req.baseUrl = parentUrl;\\n  req.originalUrl = req.originalUrl || req.url;\\n\\n  next();\\n\\n  function next(err) {}\\n}\\n```\\n#### next() \u9012\u5f52\u51fd\u6570\\n\u6211\u4eec\u53ea\u770b next \u7684\u6838\u5fc3\u903b\u8f91\uff0c\u5c31\u662f\u9012\u5f52\u7684\u5339\u914d layer \u5e76\u6267\u884c handle\uff0c\u5176\u4ed6\u7684\u53ef\u4ee5\u5148\u5ffd\u7565\u3002\\n```cpp\\n  function next(err) {\\n    var layerError = err === \'route\'\\n      ? null\\n      : err;\\n\\n    // remove added slash\\n    if (slashAdded) {\\n      req.url = req.url.slice(1)\\n      slashAdded = false;\\n    }\\n\\n    // restore altered req.url\\n    if (removed.length !== 0) {\\n      req.baseUrl = parentUrl;\\n      req.url = protohost + removed + req.url.slice(protohost.length)\\n      removed = \'\';\\n    }\\n\\n    // signal to exit router\\n    if (layerError === \'router\') {\\n      setImmediate(done, null)\\n      return\\n    }\\n\\n    // no more matching layers\\n    if (idx >= stack.length) {\\n      setImmediate(done, layerError);\\n      return;\\n    }\\n\\n    // max sync stack\\n    if (++sync > 100) {\\n      return setImmediate(next, err)\\n    }\\n\\n    // get pathname of request\\n    var path = getPathname(req);\\n\\n    if (path == null) {\\n      return done(layerError);\\n    }\\n\\n    // find next matching layer\\n    var layer;\\n    var match;\\n    var route;\\n\\n    while (match !== true && idx < stack.length) {\\n      layer = stack[idx++];\\n      match = matchLayer(layer, path);\\n      route = layer.route;\\n\\n      if (typeof match !== \'boolean\') {\\n        // hold on to layerError\\n        layerError = layerError || match;\\n      }\\n\\n      if (match !== true) {\\n        continue;\\n      }\\n\\n      if (!route) {\\n        // process non-route handlers normally\\n        continue;\\n      }\\n\\n      if (layerError) {\\n        // routes do not match with a pending error\\n        match = false;\\n        continue;\\n      }\\n\\n      var method = req.method;\\n      var has_method = route._handles_method(method);\\n\\n      // build up automatic options response\\n      if (!has_method && method === \'OPTIONS\') {\\n        appendMethods(options, route._options());\\n      }\\n\\n      // don\'t even bother matching route\\n      if (!has_method && method !== \'HEAD\') {\\n        match = false;\\n      }\\n    }\\n\\n    // no match\\n    if (match !== true) {\\n      return done(layerError);\\n    }\\n\\n    // store route for dispatch on change\\n    if (route) {\\n      req.route = route;\\n    }\\n\\n    // Capture one-time layer values\\n    req.params = self.mergeParams\\n      ? mergeParams(layer.params, parentParams)\\n      : layer.params;\\n\\n    // layerPath \u548c path \u7684\u533a\u522b\\n    var layerPath = layer.path;\\n\\n    // this should be done for the layer\\n    self.process_params(layer, paramcalled, req, res, function (err) {\\n      if (err) {\\n        next(layerError || err)\\n      } else if (route) {\\n          // \u5982\u679c\u662f\u4e00\u4e2a route layer, \u5219\u6267\u884c layer.handle, \u4e5f\u5c31\u662f route.dispatch\\n        layer.handle_request(req, res, next)\\n      } else {\\n          // \u5982\u679c\u4e0d\u662f route layer, \u5219\u8981 trim_prefix\\n          // \u540e\u7eed\u5728\u8bb2 trim_prefix \u662f\u5e72\u4ec0\u4e48\\n        trim_prefix(layer, layerError, layerPath, path)\\n      }\\n\\n      sync = 0\\n    });\\n  }\\n\\n```\\n```cpp\\nLayer.prototype.handle_request = function handle(req, res, next) {\\n  var fn = this.handle;\\n\\n  if (fn.length > 3) {\\n    // not a standard request handler\\n    return next();\\n  }\\n\\n  try {\\n    fn(req, res, next);\\n  } catch (err) {\\n    next(err);\\n  }\\n};\\n\\n// app.get(\'/\', (req, res, next) => {\\n//   console.log(2)\\n//   next() => router next()\\n// })\\n```\\n#### trim_prefix \u51fd\u6570\\n```cpp\\n  function trim_prefix(layer, layerError, layerPath, path) {\\n    if (layerPath.length !== 0) {\\n      // Validate path is a prefix match\\n      if (layerPath !== path.slice(0, layerPath.length)) {\\n        next(layerError)\\n        return\\n      }\\n\\n      // Validate path breaks on a path separator\\n      var c = path[layerPath.length]\\n      if (c && c !== \'/\' && c !== \'.\') return next(layerError)\\n\\n      // Trim off the part of the url that matches the route\\n      // middleware (.use stuff) needs to have the path stripped\\n      debug(\'trim prefix (%s) from url %s\', layerPath, req.url);\\n      removed = layerPath;\\n      req.url = protohost + req.url.slice(protohost.length + removed.length)\\n\\n      // Ensure leading slash\\n      if (!protohost && req.url[0] !== \'/\') {\\n        req.url = \'/\' + req.url;\\n        slashAdded = true;\\n      }\\n\\n      // Setup base URL (no trailing slash)\\n      req.baseUrl = parentUrl + (removed[removed.length - 1] === \'/\'\\n        ? removed.substring(0, removed.length - 1)\\n        : removed);\\n    }\\n\\n    debug(\'%s %s : %s\', layer.name, layerPath, req.originalUrl);\\n\\n    if (layerError) {\\n      layer.handle_error(layerError, req, res, next);\\n    } else {\\n      layer.handle_request(req, res, next);\\n    }\\n  }\\n```\\n#### layerPath \u548c path \u7684\u533a\u522b\\n#### req.baseUrl & req.url \u7ef4\u62a4\\n`req.baseUrl` \u8868\u793a\u5f53\u524d router instance \u6240\u6302\u8f7d\u7684\u8def\u5f84\\n```cpp\\nconst app = express()\\nconst port = 3000\\n\\n// \u6f14\u793a1\\napp.get(\'/test\', function (req, res) {\\n  console.log(req.baseUrl) // \'\'\\n  console.log(req.path) // /test\\n\\n  res.send(\'Konichiwa!\')\\n})\\n\\n\\n// \u6f14\u793a2\\nvar greet = express.Router()\\n\\ngreet.get(\'/jp\', function (req, res) {\\n  console.log(req.baseUrl) // /greet\\n  console.log(req.path) // jp\\n  res.send(\'Konichiwa!\')\\n})\\n\\napp.use(\'/greet\', greet) // load the router on \'/greet\'\\n\\n// \u6f14\u793a3\\ngreet.get(\'/:id\', function (req, res) {\\n  console.log(req.baseUrl) // /greet\\n  console.log(req.path) // 12\\n  res.send(\'Konichiwa!\')\\n})\\n\\napp.use(\'/greet\', greet) // load the router on \'/greet\'\\n// visit /greet/12\\n```\\n### 3. route.dispatch\\n```cpp\\n// \u5f53 route \u91cc\u9762\u7684 layer \u6267\u884c\u5b8c\u6210\u4e4b\u540e\uff0c\u4f1a\u6267\u884c done\\n// \u8fd9\u4e2a done \u5b9e\u9645\u5c31\u662f router layer next\\nRoute.prototype.dispatch = function dispatch(req, res, done) {}\\n```\\n```cpp\\nRoute.prototype.dispatch = function dispatch(req, res, done) {\\n  var idx = 0;\\n  var stack = this.stack;\\n  var sync = 0\\n\\n  if (stack.length === 0) {\\n    return done();\\n  }\\n\\n  var method = req.method.toLowerCase();\\n  if (method === \'head\' && !this.methods[\'head\']) {\\n    method = \'get\';\\n  }\\n\\n  req.route = this;\\n\\n  next();\\n\\n  function next(err) {\\n    // signal to exit route\\n    if (err && err === \'route\') {\\n      return done();\\n    }\\n\\n    // signal to exit router\\n    if (err && err === \'router\') {\\n      return done(err)\\n    }\\n\\n    // max sync stack\\n    if (++sync > 100) {\\n      return setImmediate(next, err)\\n    }\\n\\n    var layer = stack[idx++]\\n\\n    // end of layers\\n    if (!layer) {\\n      return done(err)\\n    }\\n\\n    // layer \u4e5f\u7ed1\u5b9a\u4e86 method  \\n    if (layer.method && layer.method !== method) {\\n      next(err)\\n    } else if (err) {\\n      layer.handle_error(err, req, res, next);\\n    } else {\\n      layer.handle_request(req, res, next);\\n    }\\n\\n    sync = 0\\n  }\\n};\\n```","isLeaf":true},{"key":"/nodejs/02-nodejs-expressjs/06-router-group.md","path":"/nodejs/02-nodejs-expressjs/06-router-group.md","route":"/nodejs/02-nodejs-expressjs/06-router-group.md","leaf":true,"title":"06-router-group","depth":2,"content":"---\\ntitle: 06 \u8def\u7531\u5206\u7ec4\u539f\u7406\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---\\n\\n`app[http method]` \u7528\u4e8e\u6302\u8f7d\u4e00\u4e2a\u8def\u7531\u5230\u9ed8\u8ba4\u7684 router\uff0c\u800c `app.use` \u53ef\u4ee5\u6302\u8f7d\u5b50 router, \u56e0\u4e3a router instance \u672c\u8eab\u4e5f\u662f\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u3002<br />\u8c03\u8bd5\u4ee3\u7801\uff1a\\n\\n```js\\nconst express = require(\'express\')\\nconst app = express()\\nconst port = 3000\\n\\nvar greet = express.Router()\\ngreet.get(\'/jp\', function (req, res) {\\n  res.send(\'Konichiwa!\')\\n})\\n\\napp.use(\'/greet\', greet) // load the router on \'/greet\'\\n\\ndebugger\\napp.listen(port, () => {\\n  console.log(`Example app listening on port ${port}`)\\n})\\n\\n```\\n\\n![image](http://s3.airtlab.com/blog/image.png)\\n\\n### 1. app.use()\\n\\n```cpp\\napp.use = function use(fn) {\\n  var offset = 0;\\n  var path = \'/\';\\n\\n  // default path to \'/\'\\n  // disambiguate app.use([fn])\\n  if (typeof fn !== \'function\') {\\n    var arg = fn;\\n\\n    while (Array.isArray(arg) && arg.length !== 0) {\\n      arg = arg[0];\\n    }\\n\\n    // first arg is the path\\n    if (typeof arg !== \'function\') {\\n      offset = 1;\\n      path = fn;\\n    }\\n  }\\n\\n  var fns = flatten(slice.call(arguments, offset));\\n\\n  if (fns.length === 0) {\\n    throw new TypeError(\'app.use() requires a middleware function\')\\n  }\\n\\n  // setup router\\n  this.lazyrouter();\\n  var router = this._router;\\n\\n  fns.forEach(function (fn) {\\n    // non-express app\\n    if (!fn || !fn.handle || !fn.set) {\\n        // entered\\n      return router.use(path, fn);\\n    }\\n\\n    debug(\'.use app under %s\', path);\\n    fn.mountpath = path;\\n    fn.parent = this;\\n\\n    // restore .app property on req and res\\n    router.use(path, function mounted_app(req, res, next) {\\n      var orig = req.app;\\n      fn.handle(req, res, function (err) {\\n        setPrototypeOf(req, orig.request)\\n        setPrototypeOf(res, orig.response)\\n        next(err);\\n      });\\n    });\\n\\n    // mounted an app\\n    fn.emit(\'mount\', this);\\n  }, this);\\n\\n  return this;\\n};\\n\\n```\\n![image_1](http://s3.airtlab.com/blog/image_1.png)\\n\\n### 2. router.use()\\n\\n\u5728 router \u4e2d\u6ce8\u518c\u4e2d\u95f4\u4ef6\u6709\u4e24\u79cd\u65b9\u5f0f\uff0c\u7b2c\u4e00\u79cd\u662f router[method](), \u53e6\u4e00\u79cd\u662f router.use(), \u540e\u8005\u6ce8\u518c\u7684\u65b9\u5f0f\u548c HTTP Method \u65e0\u5173\uff0c\u53ea\u6709 path \u6709\u5173\uff1a\\n\\n```cpp\\n// all requests to this router will first hit this middleware\\nrouter.use(function (req, res, next) {\\n  console.log(\'%s %s %s\', req.method, req.url, req.path)\\n  next()\\n})\\n\\n// this will only be invoked if the path starts with /bar from the mount point\\nrouter.use(\'/bar\', function (req, res, next) {\\n  // ... maybe some additional /bar logging ...\\n  next()\\n})\\n```\\n\\n\u6e90\u7801\uff1a\\n\\n```cpp\\nrouter.use = function use(fn) {\\n  var offset = 0;\\n  var path = \'/\';\\n\\n  // default path to \'/\'\\n  // disambiguate router.use([fn])\\n  if (typeof fn !== \'function\') {\\n    var arg = fn;\\n\\n    while (Array.isArray(arg) && arg.length !== 0) {\\n      arg = arg[0];\\n    }\\n\\n    // first arg is the path\\n    if (typeof arg !== \'function\') {\\n      offset = 1;\\n      path = fn;\\n    }\\n  }\\n\\n  var callbacks = flatten(slice.call(arguments, offset));\\n\\n  if (callbacks.length === 0) {\\n    throw new TypeError(\'Router.use() requires a middleware function\')\\n  }\\n\\n  for (var i = 0; i < callbacks.length; i++) {\\n    var fn = callbacks[i];\\n\\n    if (typeof fn !== \'function\') {\\n      throw new TypeError(\'Router.use() requires a middleware function but got a \' + gettype(fn))\\n    }\\n\\n    // add the middleware\\n    debug(\'use %o %s\', path, fn.name || \'<anonymous>\')\\n\\n    var layer = new Layer(path, {\\n      sensitive: this.caseSensitive,\\n      strict: false,\\n      end: false\\n    }, fn);\\n\\n    // \u901a\u8fc7\\n    layer.route = undefined;\\n\\n    this.stack.push(layer);\\n  }\\n\\n  return this;\\n};\\n```\\n\\n### 3. trim_prefix() \u5265\u6389\u5206\u7ec4\u524d\u7f00\\n\u5f53\u6267\u884c\u5230 greet \u4e2d\u95f4\u4ef6\u65f6:\\n![image_](http://s3.airtlab.com/blog/image_.png)\\n\\n```cpp\\nfunction trim_prefix(layer, layerError, layerPath, path) {\\n    if (layerPath.length !== 0) {\\n      // Validate path is a prefix match\\n      // \u6821\u9a8c\u524d\u7f00\u662f\u5426\u76f8\u7b49\\n      if (layerPath !== path.slice(0, layerPath.length)) {\\n        next(layerError)\\n        return\\n      }\\n\\n      // Validate path breaks on a path separator\\n      // \u6821\u9a8c\u5206\u5272\u7b26\\n      var c = path[layerPath.length]\\n      if (c && c !== \'/\' && c !== \'.\') return next(layerError)\\n\\n      // Trim off the part of the url that matches the route\\n      // middleware (.use stuff) needs to have the path stripped\\n      debug(\'trim prefix (%s) from url %s\', layerPath, req.url);\\n      removed = layerPath;\\n\\n      // /greeting/test => /test\\n      req.url = protohost + req.url.slice(protohost.length + removed.length)\\n\\n      // Ensure leading slash\\n      // \u4fdd\u8bc1 / \u5f00\u5934\\n      if (!protohost && req.url[0] !== \'/\') {\\n        req.url = \'/\' + req.url;\\n        slashAdded = true;\\n      }\\n\\n      // Setup base URL (no trailing slash)\\n      req.baseUrl = parentUrl + (removed[removed.length - 1] === \'/\'\\n        ? removed.substring(0, removed.length - 1)\\n        : removed);\\n    }\\n\\n    debug(\'%s %s : %s\', layer.name, layerPath, req.originalUrl);\\n\\n    if (layerError) {\\n      layer.handle_error(layerError, req, res, next);\\n    } else {\\n      layer.handle_request(req, res, next);\\n    }\\n  }\\n```\\n","isLeaf":true},{"key":"/nodejs/02-nodejs-expressjs/07-express-session.md","path":"/nodejs/02-nodejs-expressjs/07-express-session.md","route":"/nodejs/02-nodejs-expressjs/07-express-session.md","leaf":true,"title":"07-express-session","depth":2,"content":"---\\ntitle: 07 express-session \u2b55\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---","isLeaf":true},{"key":"/nodejs/02-nodejs-expressjs/08-express-http-context.md","path":"/nodejs/02-nodejs-expressjs/08-express-http-context.md","route":"/nodejs/02-nodejs-expressjs/08-express-http-context.md","leaf":true,"title":"08-express-http-context","depth":2,"content":"---\\ntitle: 08 express-http-context \u2b55\\ntoc: true\\ntags: ExpressJS\\ncategories: NodeJS\\n---\\n\\nTODO","isLeaf":true}]},{"key":"/nodejs/03-nodejs-koa","path":"/nodejs/03-nodejs-koa","route":"/nodejs/03-nodejs-koa","leaf":false,"title":"03-nodejs-koa","depth":1,"content":"","isLeaf":false,"children":[{"key":"/nodejs/03-nodejs-koa/01-design.md","path":"/nodejs/03-nodejs-koa/01-design.md","route":"/nodejs/03-nodejs-koa/01-design.md","leaf":true,"title":"01-design","depth":2,"content":"---\\ntitle: 01 \u67b6\u6784\u8bbe\u8ba1\\ntags: KoaJS\\ncategories: NodeJS\\n---\\n\\nTODO","isLeaf":true}]},{"key":"/nodejs/04-nodejs-nestjs","path":"/nodejs/04-nodejs-nestjs","route":"/nodejs/04-nodejs-nestjs","leaf":false,"title":"04-nodejs-nestjs","depth":1,"content":"","isLeaf":false,"children":[{"key":"/nodejs/04-nodejs-nestjs/00-introduce.md","path":"/nodejs/04-nodejs-nestjs/00-introduce.md","route":"/nodejs/04-nodejs-nestjs/00-introduce.md","leaf":true,"title":"00-introduce","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n![20230606151927](http://s3.airtlab.com/blog/20230606151927.png)\\n\\n![20230606151934](http://s3.airtlab.com/blog/20230606151934.png)\\n\\n## \u4ecb\u7ecd\\nNest\u662f\u6784\u5efa\u9ad8\u6548\uff0c\u53ef\u6269\u5c55\u7684 Node.js Web \u5e94\u7528\u7a0b\u5e8f\u7684\u6846\u67b6\u3002 \u5b83\u4f7f\u7528\u73b0\u4ee3\u7684 JavaScript \u6216 TypeScript\uff08\u4fdd\u7559\u4e0e\u7eaf JavaScript \u7684\u517c\u5bb9\u6027\uff09\uff0c\u5e76\u7ed3\u5408 OOP\uff08\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff09\uff0cFP\uff08\u51fd\u6570\u5f0f\u7f16\u7a0b\uff09\u548cFRP\uff08\u51fd\u6570\u54cd\u5e94\u5f0f\u7f16\u7a0b\uff09\u7684\u5143\u7d20\u3002\u3002\\n\\n## \u8bbe\u8ba1\u54f2\u5b66\\n\u8fd1\u51e0\u5e74\uff0c\u7531\u4e8e Node.js\uff0cJavaScript \u5df2\u7ecf\u6210\u4e3a Web \u524d\u7aef\u548c\u540e\u7aef\u5e94\u7528\u7a0b\u5e8f\u7684\u201c\u901a\u7528\u8bed\u8a00\u201d\uff0c\u5e76\u4e14\u6709\u4e86 Angular\uff0cReact \u548c Vue \u7b49\u4ee4\u4eba\u8033\u76ee\u4e00\u65b0\u7684\u9879\u76ee\uff0c\u63d0\u9ad8\u4e86\u5f00\u53d1\u4eba\u5458\u7684\u751f\u4ea7\u529b\uff0c\u4f7f\u5f97\u53ef\u4ee5\u5feb\u901f\u6784\u5efa\u53ef\u6d4b\u8bd5\u7684\u4e14\u53ef\u6269\u5c55\u7684\u524d\u7aef\u5e94\u7528\u7a0b\u5e8f\u3002 \u7136\u800c\uff0c\u5728\u670d\u52a1\u5668\u7aef\uff0c\u867d\u7136\u6709\u5f88\u591a\u4f18\u79c0\u7684\u5e93\u3001helper \u548c Node \u5de5\u5177\uff0c\u4f46\u662f\u5b83\u4eec\u90fd\u6ca1\u6709\u6709\u6548\u5730\u89e3\u51b3\u4e3b\u8981\u95ee\u9898 - \u67b6\u6784\u3002\\n\\nNest \u65e8\u5728\u63d0\u4f9b\u4e00\u4e2a\u5f00\u7bb1\u5373\u7528\u7684\u5e94\u7528\u7a0b\u5e8f\u4f53\u7cfb\u7ed3\u6784\uff0c\u5141\u8bb8\u8f7b\u677e\u521b\u5efa\u9ad8\u5ea6\u53ef\u6d4b\u8bd5\uff0c\u53ef\u6269\u5c55\uff0c\u677e\u6563\u8026\u5408\u4e14\u6613\u4e8e\u7ef4\u62a4\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\\n\\n## \u5b66\u4e60\u8d44\u6599\\n\\n- nestJS \u4e2d\u6587\u6587\u6863 [https://docs.nestjs.cn/7/controllers?id=headers](https://docs.nestjs.cn/7/controllers?id=headers)\\n- nestJS \u5b98\u65b9\u6587\u6863 [https://docs.nestjs.com/first-steps](https://docs.nestjs.com/first-steps) \\n- [https://gitee.com/gaollard/zhufeng-nestjs](https://gitee.com/gaollard/zhufeng-nestjs)  \u73e0\u5cf0 nestjs \u6559\u7a0b\\n\\n- \u300anestjs\u642d\u5efa\u901a\u7528\u4e1a\u52a1\u6846\u67b6\u300b\\n  - [Coding World](https://www.toimc.com/categories/nestjs%E6%90%AD%E5%BB%BA%E9%80%9A%E7%94%A8%E4%B8%9A%E5%8A%A1%E6%A1%86%E6%9E%B6/)\\n\\n- \u300anestjs-mysql-api\u4f01\u4e1a\u7ea7\u6743\u9650\u7cfb\u7edf\u300b\\n  - [https://github.com/kuangshp/nestjs-mysql-api](https://github.com/kuangshp/nestjs-mysql-api)\\n  - [https://juejin.cn/post/6877421936356360200](https://juejin.cn/post/6877421936356360200)","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/01-basic.md","path":"/nodejs/04-nodejs-nestjs/01-basic.md","route":"/nodejs/04-nodejs-nestjs/01-basic.md","leaf":true,"title":"01-basic","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n\u53c2\u8003\u6587\u6863\uff1a[https://docs.nestjs.cn/7/controllers?id=request](https://docs.nestjs.cn/7/controllers?id=request)\\n\\n- \u8def\u7531\uff1a\u5e38\u7528\u662f\u6307 uri\\n- \u63a7\u5236\u5668\uff1a\u7528\u4e8e\u5904\u7406\u7279\u5b9a\u8def\u7531\\n- \\n\\n## 1\u3001\u8bf7\u6c42\u65b9\u6cd5\\n\\n### @GET\\n```typescript\\nimport { Controller, Get } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get()\\n  getHello(): string {\\n    return this.appService.getHello();\\n  }\\n\\n  @Get(\'/home\')\\n  getHome(): string {\\n    return \'hello home\';\\n  }\\n}\\n\\n```\\n\\n### @Post\\n\\n```typescript\\nimport { Controller, Get, Query, Request, Response, Post } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Post(\'test\')\\n  getTest(@Request() req): string {\\n    console.log(req.body)\\n    return \'test\'\\n  }\\n}\\n```\\n\\n## 2\u3001\u8bf7\u6c42\u53c2\u6570\\n\\n### @Query \u83b7\u53d6 query \u53c2\u6570\\n\\n```typescript\\nimport { Controller, Get, Query } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get()\\n  getHello(): string {\\n    return this.appService.getHello();\\n  }\\n\\n  @Get(\'/home\')\\n  getHome(@Query() query): string {\\n    console.log(query)\\n    return \'hello home\';\\n  }\\n}\\n```\\n```typescript\\nimport { Controller, Get, Query } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get(\'/home\')\\n  getHome(@Query(\'name\') query): string {\\n    console.log(query)\\n    return \'hello home\';\\n  }\\n}\\n\\n```\\n\\n### @Params \u83b7\u53d6 path \u53c2\u6570\\n\\n```typescript\\nimport { Controller, Header, Headers, Get, Query, Request, Response, Post, Body, Param } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get(\':id\')\\n  getTest(@Headers() headers, @Param() params): string {\\n    console.log(params)\\n    return \'test\'\\n  }\\n}\\n```\\n\\n### @Body \u83b7\u53d6 body \u53c2\u6570\\n\\n```typescript\\nimport { Controller, Get, Query, Request, Response, Post, Body } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Post(\'test\')\\n  getTest(@Body() body): string {\\n    console.log(body)\\n    return \'test\'\\n  }\\n}\\n```\\n\\n## 3\u3001\u8bf7\u6c42\u5bf9\u8c61&\u54cd\u5e94\u5bf9\u8c61\\n\\n### @Request \u8bf7\u6c42\u5bf9\u8c61\\n\\n```typescript\\nimport { Controller, Get, Query, Request } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get(\'test\')\\n  getTest(@Request() req): string {\\n    console.log(req.query)\\n    return \'test\'\\n  }\\n}\\n```\\n\\n### @Response \u54cd\u5e94\u5bf9\u8c61\\n\\n## 4\u3001\u8bf7\u6c42\u5934\u83b7\u53d6\u548c\u8bbe\u7f6e\\n\\n### @Headers \u83b7\u53d6\u8bf7\u6c42\u5934\\n```typescript\\nimport { Controller, Header, Headers, Get, Query, Request, Response, Post, Body } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Post(\'test\')\\n  getTest(@Headers() headers): string {\\n    console.log(headers)\\n    return \'test\'\\n  }\\n}\\n```\\n\\n### @Header \u8bbe\u7f6e\u5934\\n```typescript\\nimport { Controller, Header, Headers, Get, Query, Request, Response, Post, Body } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Post(\'test\')\\n  @Header(\'x-s\', \'ddd\')\\n  getTest(@Headers() headers): string {\\n    console.log(headers)\\n    return \'test\'\\n  }\\n}\\n```\\n\\n## 5\u3001\u8def\u7531\u5206\u7ec4\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { RouterModule, Routes } from \'nest-router\';\\nimport { AppController } from \'./app.controller\';\\nimport { AppService } from \'./app.service\';\\nimport { UserModule } from \'./user.module\';\\n\\nconst routes: Routes = [\\n  {\\n    path: \'/v1\',\\n    module: UserModule,\\n  },\\n];\\n\\n@Module({\\n  imports: [\\n    UserModule,\\n    RouterModule.forRoutes(routes),\\n  ],\\n  controllers: [AppController],\\n  providers: [AppService],\\n})\\nexport class AppModule {}\\n\\n```\\n## 6\u3001\u8def\u7531\u91cd\u5b9a\u5411\\n```typescript\\nimport { Controller, Get, Res } from \'@nestjs/common\';\\nimport { Response } from \'supertest\';\\nimport { PingService } from \'./ping.service\';\\n\\n@Controller(\'ping\')\\nexport class PingController {\\n  constructor(private service: PingService) {}\\n\\n  @Get(\'test\')\\n  test(): string {\\n    return this.service.getHello();\\n  }\\n\\n  @Get()\\n  getHello(): string {\\n    return this.service.getHello();\\n  }\\n\\n  @Get(\'redirect\')\\n  redirect(\\n    @Res() res: Response & { redirect: (uri: string, status?: number) => void },\\n  ) {\\n    // (1) \u91cd\u5b9a\u5411\u5230 http \u534f\u8bae\u7684\u7ad9\u70b9\\n    // res.redirect(\'https://nestjs.com\', 301)\\n    // (2) \u91cd\u5b9a\u5411\u5230\u7ad9\u70b9\\n    // (property) request.Response.redirect: boolean\\n    // redirect \u5c45\u7136\u662f\u4e2a boolean \u7c7b\u578b\uff0c\u597d\u5947\u602a\\n    res.redirect(\'/ping/test\', 302)\\n  }\\n}\\n\\n```\\n","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/02-view.md","path":"/nodejs/04-nodejs-nestjs/02-view.md","route":"/nodejs/04-nodejs-nestjs/02-view.md","leaf":true,"title":"02-view","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n## 1\u3001\u4f7f\u7528\u6a21\u7248\u5f15\u64ce\\n\\n```typescript\\nimport { NestFactory } from \'@nestjs/core\';\\nimport { NestExpressApplication } from \'@nestjs/platform-express\';\\nimport { AppModule } from \'./app.module\';\\n\\nimport { join } from \'path\';\\n\\nasync function bootstrap() {\\n  const app = await NestFactory.create<NestExpressApplication>(AppModule);\\n  \\n  // \u914d\u7f6e\u6a21\u677f\u5f15\u64ce(\u5b89\u88c5ejs: yarn add ejs)\\n  app.setBaseViewsDir(\'views\');\\n  app.setViewEngine(\'ejs\');\\n\\n  await app.listen(7000);\\n}\\n\\nbootstrap();\\n```\\n\\n```typescript\\nimport { Controller, Header, Headers, Get, Render, Param } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get(\':id\')\\n  @Render(\'home\')\\n  getTest(@Headers() headers, @Param() params) {\\n    console.log(headers)\\n    return {\\n      name: \\"XManba\\",\\n      headers: headers\\n    }\\n  }\\n}\\n```\\n\\n![20230606150205](http://s3.airtlab.com/blog/20230606150205.png)\\n\\n## 2\u3001\u9759\u6001\u8d44\u6e90\u670d\u52a1\u8bbe\u7f6e\\n```typescript\\nimport { NestFactory } from \'@nestjs/core\';\\nimport { NestExpressApplication } from \'@nestjs/platform-express\';\\nimport { AppModule } from \'./app.module\';\\n\\nimport { join } from \'path\';\\n\\nasync function bootstrap() {\\n  const app = await NestFactory.create<NestExpressApplication>(AppModule);\\n\\n  // \u914d\u7f6e\u9759\u6001\u8d44\u6e90(\u8bbe\u7f6e\u865a\u62df\u76ee\u5f55\u662f\u66f4\u597d\u7684\u505a\u6cd5)\\n  // app.useStaticAssets(join(__dirname, \'..\', \'public\'));\\n  app.useStaticAssets(join(__dirname, \'..\', \'public\'), {\\n    prefix: \'/static/\', // \u8bbe\u7f6e\u865a\u62df\u8def\u5f84\\n  });\\n\\n  await app.listen(7000);\\n}\\n\\nbootstrap();\\n```","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/03-cookie-session.md","path":"/nodejs/04-nodejs-nestjs/03-cookie-session.md","route":"/nodejs/04-nodejs-nestjs/03-cookie-session.md","leaf":true,"title":"03-cookie-session","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n## 1\u3001\u4f7f\u7528 cookie\\n\\n### cookie-parser(express\u5e73\u53f0)\\n\\n```typescript\\nimport { NestFactory } from \'@nestjs/core\';\\nimport { NestExpressApplication } from \'@nestjs/platform-express\';\\nimport { AppModule } from \'./app.module\';\\nimport * as cookieParser from \'cookie-parser\';\\n\\nimport { join } from \'path\';\\n\\nasync function bootstrap() {\\n  const app = await NestFactory.create<NestExpressApplication>(AppModule);\\n\\n  app.use(cookieParser());\\n\\n  await app.listen(7000);\\n}\\n\\n\\nbootstrap();\\n```\\n\\n**\u8bbe\u7f6ecookie**\\n\\n```typescript\\nimport {Controller, Get, Response } from \'@nestjs/common\';\\nimport { NewsService } from \'./news.service\';\\n\\n@Controller(\'news\')\\nexport class NewsController {\\n  constructor(private newsService: NewsService) {}\\n\\n  @Get()\\n  getNewsList(@Response() res) {\\n    res.cookie(\'username\', \'XManba\', {\\n      maxAge: 24 * 60 * 60\\n    })\\n    // \u8fd9\u91cc\u53ea\u80fd\u7528 res.send\\n    res.send(this.newsService.findAll())\\n    // return this.newsService.findAll()\\n  }\\n}\\n```\\n\\n**\u83b7\u53d6cookie**\\n\\n```typescript\\nimport { Controller, Get, Request, Response } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get()\\n  getTest(@Request() req) {\\n    return req.cookies;\\n  }\\n}\\n```\\n\\n### cookie \u914d\u7f6e\u53c2\u6570\\n\\n![20230606150407](http://s3.airtlab.com/blog/20230606150407.png)\\n\\n\\n### cookie \u52a0\u5bc6\\n\\n![20230606150419](http://s3.airtlab.com/blog/20230606150419.png)\\n\\n**\u8bbe\u7f6e**\\n```typescript\\nimport {Controller, Get, Response } from \'@nestjs/common\';\\nimport { NewsService } from \'./news.service\';\\n\\n@Controller(\'news\')\\nexport class NewsController {\\n  constructor(private newsService: NewsService) {}\\n\\n  @Get()\\n  getNewsList(@Response() res) {\\n    res.cookie(\'username\', \'1XManba\', {\\n      maxAge: 24 * 60 * 60 * 1000,\\n      httpOnly: false,\\n      signed: true\\n    })\\n    // \u8fd9\u91cc\u53ea\u80fd\u7528 res.send\\n    res.send(this.newsService.findAll())\\n    // return this.newsService.findAll()\\n  }\\n}\\n```\\n\\n**\u83b7\u53d6**\\n\\n```typescript\\nimport { Controller, Get, Request, Response } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get()\\n  getTest(@Request() req) {\\n    return {\\n      ...req.signedCookies,\\n      ...req.cookies\\n    }\\n  }\\n}\\n```\\n\\n## 2\u3001\u4f7f\u7528 session\\n\\n![20230606150519](http://s3.airtlab.com/blog/20230606150519.png)\\n\\n![20230606150532](http://s3.airtlab.com/blog/20230606150532.png)\\n\\n**\u914d\u7f6e**\\n```typescript\\nimport { NestFactory } from \'@nestjs/core\';\\nimport { NestExpressApplication } from \'@nestjs/platform-express\';\\nimport { AppModule } from \'./app.module\';\\n\\nimport * as cookieParser from \'cookie-parser\';\\nimport * as session from \'express-session\';\\n\\nimport { join } from \'path\';\\n\\nasync function bootstrap() {\\n  const app = await NestFactory.create<NestExpressApplication>(AppModule);\\n\\n  // cookie\\n  app.use(cookieParser(\'user123.\'));\\n\\n  // session\\n  app.use(session({\\n    secret: \'user123.\',\\n    cookie: {\\n      maxAge: 1000 * 10\\n    }\\n  }))\\n\\n  await app.listen(7000);\\n}\\n\\n\\nbootstrap();\\n```\\n\\n**\u4f7f\u7528**\\n```typescript\\nimport { Controller, Get, Response, Request } from \'@nestjs/common\';\\n\\n@Controller(\'session\')\\nexport class SessionController {\\n  @Get(\'set\')\\n  getSession(@Request() req) {\\n    console.log(req.session)\\n    req.session.token = \\"zxczxcxzc\\"\\n    return req.session.token\\n  }\\n\\n  @Get(\'get\')\\n  setSession(@Request() req) {\\n    return req.session.token ? req.session.token : \'none\';\\n  }\\n}\\n```\\n\\n### \u5e38\u7528\u53c2\u6570\\n\\n![20230606150628](http://s3.airtlab.com/blog/20230606150628.png)\\n\\n![20230606150635](http://s3.airtlab.com/blog/20230606150635.png)\\t\\t\\t\\t\\t\\n\\n### \u5e38\u7528\u65b9\u6cd5\\n\\n![20230606150646](http://s3.airtlab.com/blog/20230606150646.png)","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/04-file-upload.md","path":"/nodejs/04-nodejs-nestjs/04-file-upload.md","route":"/nodejs/04-nodejs-nestjs/04-file-upload.md","leaf":true,"title":"04-file-upload","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n---\\ntitle: 04 \u6587\u4ef6\u4e0a\u4f20\\n---\\n\\n## 1\u3001\u57fa\u672c\u7528\u6cd5\\n\\n```typescript\\nimport { Controller, Post, UseInterceptors, UploadedFile, Body, Get, Render, UploadedFiles } from \'@nestjs/common\';\\nimport { FileInterceptor, FilesInterceptor, FileFieldsInterceptor } from \'@nestjs/platform-express\';\\n\\nimport { join } from \'path\';\\nimport { createWriteStream } from \'fs\';\\n\\n@Controller(\'upload\')\\nexport class UploadController {\\n  // \u4e0a\u4f20\u5355\u4e2a\u6587\u4ef6\\n  @Post(\'single\')\\n  @UseInterceptors(FileInterceptor(\'avatar\'))\\n  uploadFile(@UploadedFile() file, @Body() body) {\\n    console.log(file)\\n    console.log(body)\\n    const rstream = createWriteStream(\\n      join(__dirname, \'../../public/upload\', `${Date.now()}-${file.originalname}`)\\n    )\\n    rstream.write(file.buffer)\\n    return file.size\\n  }\\n\\n  // \u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\\n  @Post(\'array\')\\n  @UseInterceptors(FilesInterceptor(\'avatars\'))\\n  uploadFileList(@UploadedFiles() files, @Body() body) {\\n    console.log(files)\\n    return files.map(elment => elment.originalname)\\n  }\\n\\n  // \u4e0a\u4f20\u591a\u4e2a\u6587\u4ef6\\n  @Post(\'many\')\\n  @UseInterceptors(FileFieldsInterceptor([\\n    { name: \'avatar\', maxCount: 2 },\\n    { name: \'background\', maxCount: 1 },\\n  ]))\\n  uploadFiles(@UploadedFiles() files) {\\n    console.log(files.avatar)\\n    console.log(files.background)\\n    return files.size\\n  }\\n}\\n```\\n\\n## 2\u3001\u914d\u7f6e\u8def\u5f84 & \u53c2\u6570\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { MulterModule } from \'@nestjs/platform-express\';\\nimport { UploadController } from \'./upload.controller\';\\nimport { UploadService } from \'./upload.service\';\\n\\n@Module({\\n  imports: [\\n    MulterModule.register({\\n      dest: \'./upload\',\\n    }),\\n  ],\\n  providers: [UploadService],\\n  controllers: [UploadController],\\n})\\nexport class UploadModule {}\\n\\n```\\n```typescript\\nimport {\\n  Controller,\\n  Post,\\n  UploadedFile,\\n  UseInterceptors,\\n} from \'@nestjs/common\';\\nimport { FileInterceptor } from \'@nestjs/platform-express\';\\nimport { diskStorage } from \'multer\';\\nimport { UploadService } from \'./upload.service\';\\n\\n// export const imageFileFilter = (req, file, callback) => {\\n//   if (!file.originalname.match(/\\\\.(jpg|jpeg|png|gif)$/)) {\\n//     return callback(new Error(\'Only image files are allowed!\'), false);\\n//   }\\n//   callback(null, true);\\n// };\\n\\n// export const editFileName = (req, file, callback) => {\\n//   const name = file.originalname.split(\'.\')[0];\\n//   const fileExtName = extname(file.originalname);\\n//   const randomName = Array(4)\\n//     .fill(null)\\n//     .map(() => Math.round(Math.random() * 16).toString(16))\\n//     .join(\'\');\\n//   callback(null, `${name}-${randomName}${fileExtName}`);\\n// };\\n\\n@Controller(\'upload\')\\nexport class UploadController {\\n  constructor(\\n    private uploadService: UploadService\\n  ) {}\\n\\n  @Post()\\n  @UseInterceptors(\\n    FileInterceptor(\'file\', {\\n      storage: diskStorage({\\n        destination: \'./upload\',\\n      }),\\n    }),\\n  )\\n  async upload(@UploadedFile() file: Express.Multer.File) {\\n    return this.uploadService.upload(file.path, file.originalname)\\n  }\\n}\\n\\n```","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/05-decorator.md","path":"/nodejs/04-nodejs-nestjs/05-decorator.md","route":"/nodejs/04-nodejs-nestjs/05-decorator.md","leaf":true,"title":"05-decorator","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n---\\ntitle: 05 \u81ea\u5b9a\u4e49\u88c5\u9970\u5668\\n---\\n\\n## 1\u3001\u5185\u7f6e\u53c2\u6570\u88c5\u9970\u5668\\nNest \u63d0\u4f9b\u4e86\u4e00\u7ec4\u6709\u7528\u7684 **\u53c2\u6570\u88c5\u9970\u5668**\uff0c\u60a8\u53ef\u4ee5\u5c06\u5b83\u4eec\u4e0e HTTP \u8def\u7531\u5904\u7406\u7a0b\u5e8f\u4e00\u8d77\u4f7f\u7528\u3002\u4e0b\u9762\u662f\u63d0\u4f9b\u7684\u88c5\u9970\u5668\u548c\u5b83\u4eec\u4ee3\u8868\u7684\u666e\u901a Express\uff08\u6216 Fastify\uff09\u5bf9\u8c61\u7684\u5217\u8868\\n\\n| @Request(), @Req() | req |\\n| --- | --- |\\n| @Response(), @Res() | res |\\n| @Next() | next |\\n| @Session() | req.session |\\n| @Param(param?: string) | req.params/req.params[param] |\\n| @Body(param?: string) | req.body/req.body[param] |\\n| @Query(param?: string) | req.query/req.query[param] |\\n| @Headers(param?: string) | req.headers/req.headers[param] |\\n| @Ip() | req.ip |\\n| @HostParam() | req.hosts |\\n\\n## 2\u3001\u81ea\u5b9a\u4e49\u53c2\u6570\u88c5\u9970\u5668\\n\\n\u5728 node.js \u4e16\u754c\u4e2d\uff0c\u5c06\u5c5e\u6027\u9644\u52a0\u5230 **\u8bf7\u6c42** \u5bf9\u8c61\u662f\u5e38\u89c1\u7684\u505a\u6cd5\u3002\u7136\u540e\u5728\u6bcf\u4e2a\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u4e2d\u624b\u52a8\u63d0\u53d6\u5b83\u4eec\uff0c\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a\\n\\n```typescript\\nconst user = req.user;\\n```\\n\\n\u4e3a\u4e86\u4f7f\u60a8\u7684\u4ee3\u7801\u66f4\u5177\u53ef\u8bfb\u6027\u548c\u900f\u660e\u6027\uff0c\u60a8\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a@User()\u88c5\u9970\u5668\u5e76\u5728\u6240\u6709\u63a7\u5236\u5668\u4e2d\u91cd\u7528\u5b83\u3002\\n\\n```typescript\\nimport { createParamDecorator, ExecutionContext } from \'@nestjs/common\';\\n\\nexport const User = createParamDecorator(\\n  (data: unknown, ctx: ExecutionContext) => {\\n    const request = ctx.switchToHttp().getRequest();\\n    return request.user;\\n  },\\n);\\n```\\n\\n\u7136\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u9002\u5408\u60a8\u8981\u6c42\u7684\u4efb\u4f55\u5730\u65b9\u7b80\u5355\u5730\u4f7f\u7528\u5b83\\n\\n```typescript\\n@Get()\\nasync findOne(@User() user: UserEntity) {\\n  console.log(user);\\n}\\n```\\n\\n### \u8fd4\u56de\u503c\u53ef\u4ee5\u662f Promise\\n\\n```typescript\\nimport { createParamDecorator, ExecutionContext } from \'@nestjs/common\';\\n\\nexport const User = createParamDecorator(\\n  (data: unknown, ctx: ExecutionContext) => {\\n    const request = ctx.switchToHttp().getRequest();\\n    return new Promise((resolve) => {\\n      resolve(1);\\n    });\\n  },\\n);\\n```\\n\\n## 3\u3001\u88c5\u9970\u5668\u7684\u53c2\u6570\\n\\n```typescript\\nimport { createParamDecorator, ExecutionContext } from \'@nestjs/common\';\\n\\nexport const User = createParamDecorator(\\n  (data: string, ctx: ExecutionContext) => {\\n    const request = ctx.switchToHttp().getRequest();\\n    return new Promise((resolve) => {\\n      resolve(`${data}_1`);\\n    });\\n  },\\n);\\n```\\n\\n## 4\u3001\u4f7f\u7528\u7ba1\u9053\\n\\n\u5728 @Query \u548c @Body \u7b49\u88c5\u9970\u5668\u4e2d\uff0c\u6211\u4eec\u662f\u53ef\u4ee5\u4f7f\u7528 ValidationPipe \u529f\u80fd\u7684\uff0c\u5982\u4f55\u8ba9\u4f60\u7684\u88c5\u9970\u5668\u5177\u6709\u540c\u6837\u7684\u529f\u80fd\u5462\uff1f\\n\\n```typescript\\n@Get()\\nasync findOne(\\n  @User(new ValidationPipe({ validateCustomDecorators: true }))\\n  user: UserEntity,\\n) {\\n  console.log(user);\\n}\\n```\\n\\n> \u8bf7\u6ce8\u610f\uff0cvalidateCustomDecorators \u9009\u9879\u5fc5\u987b\u8bbe\u7f6e\u4e3a true\u3002ValidationPipe \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4e0d\u9a8c\u8bc1\u4f7f\u7528\u81ea\u5b9a\u4e49\u88c5\u9970\u5668\u6ce8\u91ca\u7684\u53c2\u6570\u3002\\n\\n## 5\u3001\u88c5\u9970\u5668\u7ec4\u5408\\nNest \u63d0\u4f9b\u4e86\u4e00\u4e2a\u8f85\u52a9\u65b9\u6cd5\u6765\u7ec4\u5408\u591a\u4e2a\u88c5\u9970\u5668\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u60a8\u60f3\u5c06\u6240\u6709\u4e0e\u8eab\u4efd\u9a8c\u8bc1\u76f8\u5173\u7684\u88c5\u9970\u5668\u7ec4\u5408\u6210\u4e00\u4e2a\u88c5\u9970\u5668\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u7ed3\u6784\u6765\u5b8c\u6210\uff1a\\n\\n```typescript\\nimport { applyDecorators } from \'@nestjs/common\';\\n\\nexport function Auth(...roles: Role[]) {\\n  return applyDecorators(\\n    SetMetadata(\'roles\', roles),\\n    UseGuards(AuthGuard, RolesGuard),\\n    ApiBearerAuth(),\\n    ApiUnauthorizedResponse({ description: \'Unauthorized\' }),\\n  );\\n}\\n```\\n\\n\u7136\u540e\uff0c\u60a8\u53ef\u4ee5@Auth()\u6309\u5982\u4e0b\u65b9\u5f0f\u4f7f\u7528\u6b64\u81ea\u5b9a\u4e49\u88c5\u9970\u5668\uff1a\\n\\n```typescript\\nclass MyController {\\n  @Get(\'users\')\\n  @Auth(\'admin\')\\n  findAllUsers() {}\\n}\\n```","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/06-param-validate.md","path":"/nodejs/04-nodejs-nestjs/06-param-validate.md","route":"/nodejs/04-nodejs-nestjs/06-param-validate.md","leaf":true,"title":"06-param-validate","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n---\\ntitle: 06 \u53c2\u6570\u9a8c\u8bc1\\n---\\n\\n\u53c2\u6570\u9a8c\u8bc1\u4e3b\u8981\u662f\u7ed3\u5408 NestJS pipe \u6765\u505a\\n\\n**\u5b89\u88c5**\\n```shell\\nyarn add class-transformer class-validator\\n```\\n\\n**\u914d\u7f6e\u5168\u5c40\u9a8c\u8bc1 pipe**\\n\\n```typescript\\nimport { appLogger } from \'@libs/logger\';\\nimport { ValidationPipe, BadRequestException } from \'@nestjs/common\';\\n\\nconst app = await NestFactory.create<NestExpressApplication>(AppModule);\\n\\nconst exceptionFactory: ValidationPipe[\'exceptionFactory\'] = (errors) => {\\n  appLogger.error(`validator error`, errors);\\n  const error = errors[0];\\n  return new BadRequestException(\\n    error.constraints[Object.keys(error.constraints)[0]],\\n  );\\n};\\n\\nexport const ParamsValidationPipe = new ValidationPipe({\\n  // transform: true,\\n  // whitelist: true, \u5f00\u542f whitelist \u4f1a\u5c06\u4e0d\u9700\u8981\u7684\u5b57\u6bb5\u90fd\u4e22\u53bb\\n  // skipMissingProperties: true,\\n  exceptionFactory,\\n  // transformOptions: {\\n  //   excludeExtraneousValues: false,\\n  // },\\n});\\n\\napp.useGlobalPipes(ParamsValidationPipe);\\t\\n```\\n\\n**\u4f7f\u7528**\\n```typescript\\nimport { ApiProperty } from \'@nestjs/swagger\';\\nimport { IsOptional, IsString } from \'class-validator\';\\nimport { UserEntity } from \'../entity/user.entity\';\\nimport { CodeTypeEnum } from \'../enums/CodeTypeEnum\';\\nimport { LoginTypeEnum } from \'../enums/LoginTypeEnum\';\\n\\nexport class RegisterDto {\\n  @ApiProperty({ description: \'\u8d26\u53f7\'  })\\n  @IsOptional()\\n  @IsString()\\n  account?: string;\\n\\n  @ApiProperty({ description: \'\u5bc6\u7801\', required: false })\\n  @IsOptional()\\n  @IsString()\\n  password?: string;\\n\\n  @ApiProperty({ description: \'\u9a8c\u8bc1\u7801\', required: false })\\n  @IsOptional()\\n  @IsString()\\n  code?: string;\\n\\n  @ApiProperty({ description: \'\u8d26\u53f7\u7c7b\u578b\', enum:  RegisterType })\\n  @IsString()\\n  registerType: RegisterType;\\n}\\n```\\n\\n```typescript\\n@ApiTags(\'\u8d26\u6237\')\\n@Controller(\'account\')\\nexport class AccountController {\\n  constructor(\\n    private authService: AuthService,\\n    private accountService: AccountService,\\n  ) {}\\n\\n  // \u6ce8\u518c\\n  @Post(\'register\')\\n  register(@Body() body: RegisterDto) {\\n    return this.accountService.register(body);\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/07-response-pip.md","path":"/nodejs/04-nodejs-nestjs/07-response-pip.md","route":"/nodejs/04-nodejs-nestjs/07-response-pip.md","leaf":true,"title":"07-response-pip","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n```typescript\\n@Controller(\'file\')\\nexport class FileController {\\n  @Get()\\n  getFile(@Res() res: Response) {\\n    const file = createReadStream(join(process.cwd(), \'package.json\'));\\n    file.pipe(res);\\n  }\\n}\\n```","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/08-typeorm-auto-load-entity.md","path":"/nodejs/04-nodejs-nestjs/08-typeorm-auto-load-entity.md","route":"/nodejs/04-nodejs-nestjs/08-typeorm-auto-load-entity.md","leaf":true,"title":"08-typeorm-auto-load-entity","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n## 1\u3001\u81ea\u52a8\u52a0\u8f7d\u5b9e\u4f53\\n\\n\u6307\u5b9a\u8be5\u9009\u9879\u540e\uff0c\u901a\u8fc7\u8be5 forFeature() \u65b9\u6cd5\u6ce8\u518c\u7684\u6bcf\u4e2a\u5b9e\u4f53\u90fd\u5c06\u81ea\u52a8\u6dfb\u52a0\u5230 entities \u914d\u7f6e\u5bf9\u8c61\u7684\u6570\u7ec4\u4e2d\u3002\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { TypeOrmModule } from \'@nestjs/typeorm\';\\nimport { User } from \'./user.entity\';\\n\\n@Module({\\n  imports: [TypeOrmModule.forFeature([User])],\\n  exports: [TypeOrmModule]\\n})\\nexport class UsersModule {}\\n```\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { TypeOrmModule } from \'@nestjs/typeorm\';\\n\\n@Module({\\n  imports: [\\n    TypeOrmModule.forRoot({\\n      ...\\n      autoLoadEntities: true,\\n    }),\\n  ],\\n})\\nexport class AppModule {}\\n```","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/09-SetMetadata.md","path":"/nodejs/04-nodejs-nestjs/09-SetMetadata.md","route":"/nodejs/04-nodejs-nestjs/09-SetMetadata.md","leaf":true,"title":"09-SetMetadata","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n**\u8bbe\u7f6e\u5143\u6570\u636e**\\n\\n```typescript\\nimport { Controller, Get, SetMetadata, UseGuards } from \'@nestjs/common\';\\nimport { RolesGuard } from \'./auth.guard\';\\nimport { CatsService } from \'./cats.service\';\\n\\n@SetMetadata(\'roles\', [\'admin\'])\\n@Controller()\\nexport class AppController {\\n  constructor(\\n    private catService: CatsService\\n  ) {}\\n\\n  @UseGuards(RolesGuard)\\n  @Get()\\n  async findOne() {\\n    this.catService.test()\\n  }\\n}\\n```\\n\\n**\u83b7\u53d6\u5143\u6570\u636e**\\n\\n```typescript\\nimport { Injectable, CanActivate, ExecutionContext } from \'@nestjs/common\';\\nimport { Reflector } from \'@nestjs/core\';\\n\\n@Injectable()\\nexport class RolesGuard implements CanActivate {\\n  constructor(private reflector: Reflector) {}\\n\\n  canActivate(context: ExecutionContext): boolean {\\n    const request = context.switchToHttp().getRequest();\\n    const roles = this.reflector.get<string[]>(\'roles\', context.getHandler());\\n    console.log(roles)\\n    return true;\\n  }\\n}\\n```\\n\\n**\u5143\u6570\u636e\u5408\u5e76\u7b56\u7565**\\n\\n- getAllAndOverride\\n```typescript\\nconst roles = this.reflector.getAllAndOverride<string[]>(\'roles\', [\\n  context.getHandler(),\\n  context.getClass(),\\n]);\\n```\\n\\n- getAllAndMerge\\n```typescript\\nconst roles = this.reflector.getAllAndMerge<string[]>(\'roles\', [\\n  context.getHandler(),\\n  context.getClass(),\\n]);\\n```\\n","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/10-core-module.md","path":"/nodejs/04-nodejs-nestjs/10-core-module.md","route":"/nodejs/04-nodejs-nestjs/10-core-module.md","leaf":true,"title":"10-core-module","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n---\\ntitle: 10 \u6a21\u5757 Module\\n---\\n\\n\u6a21\u5757\u662f\u5177\u6709 `@Module()` \u88c5\u9970\u5668\u7684\u7c7b\u3002 `@Module()` \u88c5\u9970\u5668\u63d0\u4f9b\u4e86\u5143\u6570\u636e\uff0cNest \u7528\u5b83\u6765\u7ec4\u7ec7\u5e94\u7528\u7a0b\u5e8f\u7ed3\u6784\u3002\\n\\n![20230606152347](http://s3.airtlab.com/blog/20230606152347.png)\\n\\n\u6bcf\u4e2a Nest \u5e94\u7528\u7a0b\u5e8f\u81f3\u5c11\u6709\u4e00\u4e2a\u6a21\u5757\uff0c\u5373\u6839\u6a21\u5757\u3002\u6839\u6a21\u5757\u662f Nest \u5f00\u59cb\u5b89\u6392\u5e94\u7528\u7a0b\u5e8f\u6811\u7684\u5730\u65b9\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6839\u6a21\u5757\u53ef\u80fd\u662f\u5e94\u7528\u7a0b\u5e8f\u4e2d\u552f\u4e00\u7684\u6a21\u5757\uff0c\u7279\u522b\u662f\u5f53\u5e94\u7528\u7a0b\u5e8f\u5f88\u5c0f\u65f6\uff0c\u4f46\u662f\u5bf9\u4e8e\u5927\u578b\u7a0b\u5e8f\u6765\u8bf4\u8fd9\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u60a8\u5c06\u62e5\u6709\u591a\u4e2a\u6a21\u5757\uff0c\u6bcf\u4e2a\u6a21\u5757\u90fd\u6709\u4e00\u7ec4\u7d27\u5bc6\u76f8\u5173\u7684\u529f\u80fd\u3002\\n\\n`@module()` \u88c5\u9970\u5668\u63a5\u53d7\u4e00\u4e2a\u63cf\u8ff0\u6a21\u5757\u5c5e\u6027\u7684\u5bf9\u8c61\uff1a\\n\\n| \u5b57\u6bb5 | \u4ecb\u7ecd |\\n| --- | --- |\\n| providers | \u7531 Nest \u6ce8\u5165\u5668\u5b9e\u4f8b\u5316\u7684\u63d0\u4f9b\u8005\uff0c\u5e76\u4e14\u53ef\u4ee5\u81f3\u5c11\u5728\u6574\u4e2a\u6a21\u5757\u4e2d\u5171\u4eab |\\n| controllers | \u5fc5\u987b\u521b\u5efa\u7684\u4e00\u7ec4\u63a7\u5236\u5668 |\\n| imports | \u5bfc\u5165\u6a21\u5757\u7684\u5217\u8868\uff0c\u8fd9\u4e9b\u6a21\u5757\u5bfc\u51fa\u4e86\u6b64\u6a21\u5757\u4e2d\u6240\u9700\u63d0\u4f9b\u8005 |\\n| exports | \u7531\u672c\u6a21\u5757\u63d0\u4f9b\u5e76\u5e94\u5728\u5176\u4ed6\u6a21\u5757\u4e2d\u53ef\u7528\u7684\u63d0\u4f9b\u8005\u7684\u5b50\u96c6\u3002 |\\n\\n> \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8be5\u6a21\u5757\u5c01\u88c5\u63d0\u4f9b\u7a0b\u5e8f\u3002\u8fd9\u610f\u5473\u7740\u65e0\u6cd5\u6ce8\u5165\u65e2\u4e0d\u662f\u5f53\u524d\u6a21\u5757\u7684\u76f4\u63a5\u7ec4\u6210\u90e8\u5206\uff0c\u4e5f\u4e0d\u662f\u4ece\u5bfc\u5165\u7684\u6a21\u5757\u5bfc\u51fa\u7684\u63d0\u4f9b\u7a0b\u5e8f\u3002\u56e0\u6b64\uff0c\u60a8\u53ef\u4ee5\u5c06\u4ece\u6a21\u5757\u5bfc\u51fa\u7684\u63d0\u4f9b\u7a0b\u5e8f\u89c6\u4e3a\u6a21\u5757\u7684\u516c\u5171\u63a5\u53e3\u6216API\u3002\\n\\n## 1\u3001\u6309\u529f\u80fd\u7ec4\u7ec7\u6a21\u5757\\n\\n\u4e00\u4e2a\u529f\u80fd\u6a21\u5757\u4ec5\u4ec5\u662f\u5c06\u5177\u6709\u76f8\u540c\u529f\u80fd\u7684 Service\u3001Controller \u5df2\u7ecf\u5176\u4ed6\u4fe1\u606f\u5c01\u88c5\u5728\u4e00\u4e2a\u6a21\u5757\u4e2d\uff0c\u6bd4\u5982\uff1a\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { CatsModule } from \'./cats/cats.module\';\\n\\n@Module({\\n  imports: [CatsModule],\\n})\\nexport class AppModule {}\\n```\\n\\n## 2\u3001\u6a21\u5757\u662f\u5355\u4f8b\u7684\\n\u5728 Nest \u4e2d\uff0c\u6a21\u5757\u9ed8\u8ba4\u662f\u5355\u4f8b\u7684\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u8f7b\u677e\u5730\u5728\u591a\u4e2a\u6a21\u5757\u4e4b\u95f4\u5171\u4eab\u4efb\u4f55\u63d0\u4f9b\u7a0b\u5e8f\u7684\u76f8\u540c\u5b9e\u4f8b\u3002\\n\\n![20230606152549](http://s3.airtlab.com/blog/20230606152549.png)\\n\\n\u6bcf\u4e2a\u6a21\u5757\u4e00\u65e6\u521b\u5efa\uff0c\u5b83\u5c31\u53ef\u4ee5\u88ab\u4efb\u4f55\u6a21\u5757\u91cd\u7528\u3002\u5047\u8bbe\u6211\u4eec\u60f3 CatsService \u5728\u5176\u4ed6\u51e0\u4e2a\u6a21\u5757\u4e4b\u95f4\u5171\u4eab\u4e00\u4e2a\u5b9e\u4f8b\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u9996\u5148\u9700\u8981\u901a\u8fc7\u5c06\u63d0\u4f9b\u7a0b\u5e8f\u6dfb\u52a0\u5230\u6a21\u5757\u7684\u6570\u7ec4\u4e2d\u6765\u5bfc\u51fa\u63d0\u4f9b\u7a0b\u5e8f\uff0c\u5982\u4e0b\u6240\u793a\uff1aCatsService exports\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { CatsController } from \'./cats.controller\';\\nimport { CatsService } from \'./cats.service\';\\n\\n@Module({\\n  controllers: [CatsController],\\n  providers: [CatsService],\\n  exports: [CatsService]\\n})\\nexport class CatsModule {}\\n```\\n\\n\u73b0\u5728\u4efb\u4f55\u5bfc\u5165 \u7684\u6a21\u5757 CatsModule \u90fd\u53ef\u4ee5\u8bbf\u95ee CatsService \u5e76\u4e14\u5c06\u4e0e\u5bfc\u5165\u5b83\u7684\u6240\u6709\u5176\u4ed6\u6a21\u5757\u5171\u4eab\u76f8\u540c\u7684\u5b9e\u4f8b\u3002\\n\\n## 3\u3001\u6a21\u5757\u91cd\u65b0\u5bfc\u51fa\\n\\n\u5982\u4e0a\u6240\u793a\uff0c\u6a21\u5757\u53ef\u4ee5\u5bfc\u51fa\u5176\u5185\u90e8\u63d0\u4f9b\u8005\u3002\u6b64\u5916\uff0c\u4ed6\u4eec\u53ef\u4ee5\u91cd\u65b0\u5bfc\u51fa\u4ed6\u4eec\u5bfc\u5165\u7684\u6a21\u5757\u3002\u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0cCommonModule \u65e2\u53ef\u4ee5\u5bfc\u5165\u4e5f\u53ef\u4ee5\u4ece \u5bfc\u51fa CoreModule\uff0c\u4f7f\u5176\u53ef\u7528\u4e8e\u5bfc\u5165\u8be5\u6a21\u5757\u7684\u5176\u4ed6\u6a21\u5757\u3002\\n\\n```typescript\\n@Module({\\n  imports: [CommonModule],\\n  exports: [CommonModule],\\n})\\nexport class CoreModule {}\\n```\\n\\n## 4\u3001\u6a21\u5757\u7c7b\u4e5f\u53ef\u4ee5\u6ce8\u5165\u63d0\u4f9b\u8005\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { CatsController } from \'./cats.controller\';\\nimport { CatsService } from \'./cats.service\';\\n\\n@Module({\\n  controllers: [CatsController],\\n  providers: [CatsService],\\n})\\nexport class CatsModule {\\n  constructor(private catsService: CatsService) {}\\n}\\n```\\n\\n[\u4f46\u662f\uff0c\u7531\u4e8e\u5faa\u73af\u4f9d\u8d56](https://docs.nestjs.com/fundamentals/circular-dependency)\uff0c\u6a21\u5757\u7c7b\u672c\u8eab\u4e0d\u80fd\u4f5c\u4e3a\u63d0\u4f9b\u8005\u6ce8\u5165\u3002\\n\\n## 5\u3001\u5168\u5c40\u6a21\u5757\\n\\n\u5982\u679c\u60a8\u5fc5\u987b\u5728\u4efb\u4f55\u5730\u65b9\u5bfc\u5165\u76f8\u540c\u7684\u6a21\u5757\u96c6\uff0c\u8fd9\u53ef\u80fd\u4f1a\u53d8\u5f97\u4e4f\u5473\u3002\u4e0e Nest \u4e0d\u540c\uff0c[Angular](https://angular.io/) providers \u662f\u5728\u5168\u5c40\u8303\u56f4\u5185\u6ce8\u518c\u7684\u3002\u4e00\u65e6\u5b9a\u4e49\uff0c\u5b83\u4eec\u5728\u4efb\u4f55\u5730\u65b9\u90fd\u53ef\u7528\u3002\u7136\u800c\uff0cNest \u5c06\u63d0\u4f9b\u7a0b\u5e8f\u5c01\u88c5\u5728\u6a21\u5757\u8303\u56f4\u5185\u3002\u5982\u679c\u4e0d\u9996\u5148\u5bfc\u5165\u5c01\u88c5\u6a21\u5757\uff0c\u60a8\u5c06\u65e0\u6cd5\u5728\u5176\u4ed6\u5730\u65b9\u4f7f\u7528\u6a21\u5757\u7684\u63d0\u4f9b\u7a0b\u5e8f\u3002\\n\u5f53\u60a8\u60f3\u63d0\u4f9b\u4e00\u7ec4\u5f00\u7bb1\u5373\u7528\u7684\u63d0\u4f9b\u7a0b\u5e8f\u65f6\uff08\u4f8b\u5982\uff0c\u5e2e\u52a9\u7a0b\u5e8f\u3001\u6570\u636e\u5e93\u8fde\u63a5\u7b49\uff09\uff0c\u8bf7\u4f7f\u7528\u88c5\u9970\u5668\u4f7f\u6a21\u5757\u6210\u4e3a\u5168\u5c40\u7684\uff0c\u5373 `@Global()`\\n\\n```typescript\\nimport { Module, Global } from \'@nestjs/common\';\\nimport { CatsController } from \'./cats.controller\';\\nimport { CatsService } from \'./cats.service\';\\n\\n@Global()\\n@Module({\\n  controllers: [CatsController],\\n  providers: [CatsService],\\n  exports: [CatsService],\\n})\\nexport class CatsModule {}\\n```\\n\\n@Global() \u88c5\u9970\u5668\u4f7f\u6a21\u5757\u5177\u6709\u5168\u5c40\u8303\u56f4\u3002\u5168\u5c40\u6a21\u5757\u5e94\u8be5\u53ea\u6ce8\u518c **\u4e00\u6b21**\uff0c\u901a\u5e38\u7531\u6839\u6a21\u5757\u6216\u6838\u5fc3\u6a21\u5757\u6ce8\u518c\u3002\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0cCatsService \u63d0\u4f9b\u8005\u5c06\u65e0\u5904\u4e0d\u5728\uff0c\u5e0c\u671b\u6ce8\u5165\u670d\u52a1\u7684\u6a21\u5757\u4e0d\u9700\u8981 CatsModule \u5728\u5176\u5bfc\u5165\u6570\u7ec4\u4e2d\u5bfc\u5165\u3002\\n\\n\u8ba9\u4e00\u5207\u90fd\u5168\u7403\u5316\u5e76\u4e0d\u662f\u4e00\u4e2a\u597d\u7684\u8bbe\u8ba1\u51b3\u7b56\u3002`\u5168\u5c40\u6a21\u5757\u53ef\u7528\u4e8e\u51cf\u5c11\u5fc5\u8981\u7684\u6837\u677f\u6570\u91cf`\u3002imports\u6570\u7ec4\u901a\u5e38\u662f\u4f7f\u6a21\u5757\u7684 API \u53ef\u4f9b\u6d88\u8d39\u8005\u4f7f\u7528\u7684\u9996\u9009\u65b9\u5f0f \u3002\\n\\n## 6\u3001\u52a8\u6001\u6a21\u5757\\n\\nNest \u6a21\u5757\u7cfb\u7edf\u5305\u62ec\u4e00\u4e2a\u79f0\u4e3a **\u52a8\u6001\u6a21\u5757** \u7684\u5f3a\u5927\u529f\u80fd\u3002\u6b64\u529f\u80fd\u4f7f\u60a8\u80fd\u591f\u8f7b\u677e\u521b\u5efa\u53ef\u52a8\u6001\u6ce8\u518c\u548c\u914d\u7f6e\u63d0\u4f9b\u7a0b\u5e8f\u7684\u53ef\u5b9a\u5236\u6a21\u5757\u3002[\u52a8\u6001\u6a21\u5757\u5728\u8fd9\u91cc](https://docs.nestjs.com/fundamentals/dynamic-modules) \u5f97\u5230\u4e86\u5e7f\u6cdb\u7684\u4ecb\u7ecd\u3002\u5728\u672c\u7ae0\u4e2d\uff0c\u6211\u4eec\u5c06\u7b80\u8981\u6982\u8ff0\u4ee5\u5b8c\u6210\u5bf9\u6a21\u5757\u7684\u4ecb\u7ecd\u3002\\n\\n\u4ee5\u4e0b\u662f a \u7684\u52a8\u6001\u6a21\u5757\u5b9a\u4e49\u793a\u4f8b DatabaseModule\uff1a\\n\\n```typescript\\nimport { Module, DynamicModule } from \'@nestjs/common\';\\nimport { createDatabaseProviders } from \'./database.providers\';\\nimport { Connection } from \'./connection.provider\';\\n\\n@Module({\\n  providers: [Connection],\\n})\\nexport class DatabaseModule {\\n  static forRoot(entities = [], options?): DynamicModule {\\n    const providers = createDatabaseProviders(options, entities);\\n    return {\\n      module: DatabaseModule,\\n      providers: providers,\\n      exports: providers,\\n    };\\n  }\\n}\\n```\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { DatabaseModule } from \'./database/database.module\';\\nimport { User } from \'./users/entities/user.entity\';\\n\\n@Module({\\n  imports: [DatabaseModule.forRoot([User])],\\n})\\nexport class AppModule {}\\n```\\n\\n### \u52a8\u6001\u6a21\u5757\u7684\u610f\u4e49\\n\u4e3b\u8981\u7528\u4e8e\u63d0\u4f9b\u53ef\u5b9a\u5236\u529f\u80fd\\n\\n### forRoot() \u65b9\u6cd5\u53ef\u4ee5\u662f\u5f02\u6b65\\nforRoot \u8fd4\u56de\u52a8\u6001\u6a21\u5757\uff0c\u5373\u4e00\u4e2a Promise\u3002\\n\\n### \u5168\u5c40\u8303\u56f4\u5185\u6ce8\u518c\u52a8\u6001\u6a21\u5757\\n\u5982\u679c\u8981\u5728\u5168\u5c40\u8303\u56f4\u5185\u6ce8\u518c\u52a8\u6001\u6a21\u5757\uff0c\u8bf7\u5c06 global \u5c5e\u6027\u8bbe\u7f6e\u4e3a true\\n```typescript\\n{\\n  global: true,\\n  module: DatabaseModule,\\n  providers: providers,\\n  exports: providers,\\n}\\n```","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/11-core-provider.md","path":"/nodejs/04-nodejs-nestjs/11-core-provider.md","route":"/nodejs/04-nodejs-nestjs/11-core-provider.md","leaf":true,"title":"11-core-provider","depth":2,"content":"---\\ntitle: 11 \u63d0\u4f9b\u8005 Provider\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n## 1\u3001@Injectable() \u6807\u8bb0\\n\\n\u4f9d\u8d56\u6ce8\u5165\u662f\u4e00\u79cd [\u63a7\u5236\u53cd\u8f6c (IoC)](https://en.wikipedia.org/wiki/Inversion_of_control) \u6280\u672f\uff0c\u60a8\u53ef\u4ee5\u5c06\u4f9d\u8d56\u9879\u7684\u5b9e\u4f8b\u5316\u59d4\u6258\u7ed9 IoC \u5bb9\u5668\uff08\u5728\u6211\u4eec\u7684\u4f8b\u5b50\u4e2d\u662f NestJS \u8fd0\u884c\u65f6\u7cfb\u7edf\uff09\uff0c\u800c\u4e0d\u662f\u5728\u60a8\u81ea\u5df1\u7684\u4ee3\u7801\u4e2d\u5f3a\u5236\u6267\u884c\u3002`@Injectable() \u88c5\u9970\u5668\u5c06\u7c7b\u6807\u8bb0\u4e3a Provider`\\n\\n```typescript\\nimport { Injectable } from \'@nestjs/common\';\\nimport { Cat } from \'./interfaces/cat.interface\';\\n\\n@Injectable()\\nexport class CatsService {\\n  private readonly cats: Cat[] = [];\\n\\n  findAll(): Cat[] {\\n    return this.cats;\\n  }\\n}\\n```\\n\\n```typescript\\nimport { Controller, Get } from \'@nestjs/common\';\\nimport { CatsService } from \'./cats.service\';\\nimport { Cat } from \'./interfaces/cat.interface\';\\n\\n@Controller(\'cats\')\\nexport class CatsController {\\n  constructor(private catsService: CatsService) {}\\n\\n  @Get()\\n  async findAll(): Promise<Cat[]> {\\n    return this.catsService.findAll();\\n  }\\n}\\n```\\n\\n```typescript\\nimport { Module } from \'@nestjs/common\';\\nimport { CatsController } from \'./cats/cats.controller\';\\nimport { CatsService } from \'./cats/cats.service\';\\n\\n@Module({\\n  controllers: [CatsController],\\n  providers: [CatsService],\\n})\\nexport class AppModule {}\\n```\\n\\n## 2\u3001\u7b80\u5199\u6a21\u5f0f (useClass)\\n\\n```typescript\\n@Module({\\n  controllers: [CatsController],\\n  providers: [CatsService],\\n})\\nclass MyModule {}\\n```\\n\\n\u8be5 providers \u5c5e\u6027\u9700\u8981\u4e00\u4e2a\u6570\u7ec4 providers\uff0c\u4ed6\u662f\u66f4\u5b8c\u6574\u8bed\u6cd5\u7684\u7b80\u5199\uff1a\\n```typescript\\n@Module({\\n  controllers: [CatsController],\\n  providers: [\\n    {\\n      provide: CatsService,\\n      useClass: CatsService,\\n    },\\n  ],\\n})\\nclass MyModule {}\\n```\\n\\n\u7b80\u5199\u7b26\u53f7\u53ea\u662f\u4e3a\u4e86\u7b80\u5316\u6700\u5e38\u89c1\u7684\u7528\u4f8b\uff0c\u5176\u4e2d\u4ee4\u724c\u7528\u4e8e\u8bf7\u6c42\u5177\u6709\u76f8\u540c\u540d\u79f0\u7684\u7c7b\u7684\u5b9e\u4f8b\u3002\\n\\n## 3\u3001\u7406\u89e3 useValue\\n\u8be5 useValue \u8bed\u6cd5\u5bf9\u4e8e\u6ce8\u5165\u5e38\u91cf\u503c\u3001\u5c06\u5916\u90e8\u5e93\u653e\u5165 Nest \u5bb9\u5668\u6216\u7528\u6a21\u62df\u5bf9\u8c61\u66ff\u6362\u771f\u5b9e\u5b9e\u73b0\u5f88\u6709\u7528\u3002\u5047\u8bbe\u60a8\u60f3\u5f3a\u5236 Nest \u4f7f\u7528\u6a21\u62df CatsService \u6765\u8fdb\u884c\u6d4b\u8bd5\\n\\n```typescript\\nimport { CatsService } from \'./cats.service\';\\n\\nconst mockCatsService = {\\n  /* mock implementation\\n  ...\\n  */\\n};\\n\\n@Module({\\n  imports: [CatsModule],\\n  providers: [\\n    {\\n      provide: CatsService,\\n      useValue: mockCatsService,\\n    },\\n  ],\\n})\\nexport class AppModule {}\\n```\\n\\n\u5728\u6b64\u793a\u4f8b\u4e2d\uff0cCatsService \u4ee4\u724c\u5c06\u89e3\u6790\u4e3a mockCatsService \u6a21\u62df\u5bf9\u8c61\u3002\u9700\u8981\u4e00\u4e2a\u503c - \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a\u6587\u5b57\u5bf9\u8c61\u4e0e\u5b83\u6b63\u5728\u66ff\u6362 useValue \u7684\u7c7b\u5177\u6709\u76f8\u540c\u7684\u63a5\u53e3\u3002CatsService \u7531\u4e8e TypeScript \u7684[\u7ed3\u6784\u7c7b\u578b](https://www.typescriptlang.org/docs/handbook/type-compatibility.html)\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u5177\u6709\u517c\u5bb9\u63a5\u53e3\u7684\u5bf9\u8c61\uff0c\u5305\u62ec\u6587\u5b57\u5bf9\u8c61\u6216\u7528 \u5b9e\u4f8b\u5316\u7684\u7c7b\u5b9e\u4f8b new\u3002\\n\\n## 4\u3001\u975e\u57fa\u4e8e\u7c7b\u7684\u63d0\u4f9b\u8005\u4ee4\u724c\\n\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u6211\u4eec\u4f7f\u7528\u7c7b\u540d\u4f5c\u4e3a\u6211\u4eec\u7684\u63d0\u4f9b\u8005\u6807\u8bb0\uff08\u6570\u7ec4provide\u4e2d\u5217\u51fa\u7684\u63d0\u4f9b\u8005\u4e2d\u7684\u5c5e\u6027\u503c\uff09\u3002[\u8fd9\u4e0e\u57fa\u4e8e\u6784\u9020\u51fd\u6570\u7684\u6ce8\u5165](https://docs.nestjs.com/providers#dependency-injection)providers \u4f7f\u7528\u7684\u6807\u51c6\u6a21\u5f0f\u76f8\u5339\u914d\uff0c\u5176\u4e2d\u6807\u8bb0\u4e5f\u662f\u7c7b\u540d\u3002\\n\\n```typescript\\nimport { connection } from \'./connection\';\\n\\n@Module({\\n  providers: [\\n    {\\n      provide: \'CONNECTION\',\\n      useValue: connection,\\n    },\\n  ],\\n})\\nexport class AppModule {}\\n```\\n\\n```typescript\\n@Injectable()\\nexport class CatsRepository {\\n  constructor(@Inject(\'CONNECTION\') connection: Connection) {}\\n}\\n```\\n\\n\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5c06\u5b57\u7b26\u4e32\u503c\u6807\u8bb0 ( ) \u4e0e\u6211\u4eec\u4ece\u5916\u90e8\u6587\u4ef6\u5bfc\u5165\'CONNECTION\'\u7684\u9884\u5148\u5b58\u5728\u7684\u5bf9\u8c61\u76f8\u5173\u8054\u3002connection\u3002\u9664\u4e86\u4f7f\u7528\u5b57\u7b26\u4e32\u4f5c\u4e3a\u6807\u8bb0\u503c\u4e4b\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528 JavaScript [\u7b26\u53f7](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol) \u6216 TypeScript[\u679a\u4e3e](https://www.typescriptlang.org/docs/handbook/enums.html)\u3002\\n\\n## 5\u3001class provider: useClass\\n\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u62bd\u8c61\u7684 ConfigService \u7c7b\u3002\u6839\u636e\u5f53\u524d\u73af\u5883\uff0c\u6211\u4eec\u5e0c\u671b Nest \u63d0\u4f9b\u4e0d\u540c\u7684\u914d\u7f6e\u670d\u52a1\u5b9e\u73b0\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u5b9e\u73b0\u4e86\u8fd9\u6837\u7684\u7b56\u7565\u3002\\n\\n```typescript\\nconst configServiceProvider = {\\n  provide: ConfigService,\\n  useClass:\\n    process.env.NODE_ENV === \'development\'\\n      ? DevelopmentConfigService\\n      : ProductionConfigService,\\n};\\n\\n@Module({\\n  providers: [configServiceProvider],\\n})\\nexport class AppModule {}\\n```\\n\\n## 6\u3001factory provider: useFactory\\n\u8be5\u8bed\u6cd5\u5141\u8bb8**\u52a8\u6001**\u521b\u5efa\u63d0\u4f9b\u7a0b\u5e8f\u3002\u5b9e\u9645\u7684\u63d0\u4f9b\u8005\u5c06\u7531\u5de5\u5382\u51fd\u6570\u8fd4\u56de\u7684\u503c\u63d0\u4f9b\uff0c\u5de5\u5382\u672c\u8eab\u53ef\u4ee5\u6ce8\u5165\u5176\u4ed6\u63d0\u4f9b\u7a0b\u5e8f\u3002\u5bf9\u4e8e\u540e\u4e00\u79cd\u60c5\u51b5\uff0c\u5de5\u5382\u63d0\u4f9b\u8005\u8bed\u6cd5\u6709\u4e00\u5bf9\u76f8\u5173\u7684\u673a\u5236\uff1a\\n\\n1. \u5de5\u5382\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\uff08\u53ef\u9009\uff09\u53c2\u6570\u3002\\n2. inject \u5c5e\u6027\u63a5\u53d7\u4e00\u7ec4\u63d0\u4f9b\u8005\uff0cNest \u5c06\u5728\u5b9e\u4f8b\u5316\u8fc7\u7a0b\u4e2d\u89e3\u6790\u5e76\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u5de5\u5382\u51fd\u6570\u3002\u6b64\u5916\uff0c\u8fd9\u4e9b\u63d0\u4f9b\u7a0b\u5e8f\u53ef\u4ee5\u6807\u8bb0\u4e3a\u53ef\u9009\u3002\u8fd9\u4e24\u4e2a\u5217\u8868\u5e94\u8be5\u662f\u76f8\u5173\u7684\uff1aNest \u4f1a\u5c06inject\u5217\u8868\u4e2d\u7684\u5b9e\u4f8b\u4f5c\u4e3a\u53c2\u6570\u4ee5\u76f8\u540c\u7684\u987a\u5e8f\u4f20\u9012\u7ed9\u5de5\u5382\u51fd\u6570\u3002\u4e0b\u9762\u7684\u793a\u4f8b\u6f14\u793a\u4e86\u8fd9\u4e00\u70b9\u3002\\n```typescript\\nconst connectionFactory = {\\n  provide: \'CONNECTION\',\\n  useFactory: (optionsProvider: OptionsProvider, optionalProvider?: string) => {\\n    const options = optionsProvider.get();\\n    return new DatabaseConnection(options);\\n  },\\n  inject: [OptionsProvider, { token: \'SomeOptionalProvider\', optional: true }],\\n  //       \\\\_____________/            \\\\__________________/\\n  //        This provider              The provider with this\\n  //        is mandatory.              token can resolves to `undefined`.\\n};\\n\\n@Module({\\n  providers: [\\n    connectionFactory,\\n    OptionsProvider,\\n    // { provide: \'SomeOptionalProvider\', useValue: \'anything\' },\\n  ],\\n})\\nexport class AppModule {}\\n```\\n\\n## 7\u3001alias provider\uff1auseExisting\\n\u8be5useExisting\u8bed\u6cd5\u5141\u8bb8\u60a8\u4e3a\u73b0\u6709\u63d0\u4f9b\u7a0b\u5e8f\u521b\u5efa\u522b\u540d\u3002\u8fd9\u521b\u5efa\u4e86\u4e24\u79cd\u8bbf\u95ee\u540c\u4e00\u63d0\u4f9b\u7a0b\u5e8f\u7684\u65b9\u6cd5\u3002\u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\uff08\u57fa\u4e8e\u5b57\u7b26\u4e32\u7684\uff09\u6807\u8bb0\'AliasedLoggerService\'\u662f\uff08\u57fa\u4e8e\u7c7b\u7684\uff09\u6807\u8bb0\u7684\u522b\u540dLoggerService\u3002\u5047\u8bbe\u6211\u4eec\u6709\u4e24\u4e2a\u4e0d\u540c\u7684\u4f9d\u8d56\u9879\uff0c\u4e00\u4e2a for\'AliasedLoggerService\'\u548c\u4e00\u4e2a for LoggerService\u3002\u5982\u679c\u4e24\u4e2a\u4f9d\u8d56\u9879\u90fd\u6307\u5b9a\u4e86SINGLETON\u8303\u56f4\uff0c\u5b83\u4eec\u90fd\u5c06\u89e3\u6790\u4e3a\u540c\u4e00\u4e2a\u5b9e\u4f8b\u3002\\n\\n```typescript\\n@Injectable()\\nclass LoggerService {\\n  /* implementation details */\\n}\\n\\nconst loggerAliasProvider = {\\n  provide: \'AliasedLoggerService\',\\n  useExisting: LoggerService,\\n};\\n\\n@Module({\\n  providers: [LoggerService, loggerAliasProvider],\\n})\\nexport class AppModule {}\\n```\\n\\n## 8\u3001\u975e\u670d\u52a1\u63d0\u4f9b\u5546\\n\u867d\u7136\u4f9b\u5e94\u5546\u7ecf\u5e38\u63d0\u4f9b\u670d\u52a1\uff0c\u4f46\u4ed6\u4eec\u5e76\u4e0d\u5c40\u9650\u4e8e\u8fd9\u79cd\u7528\u9014\u3002\u63d0\u4f9b\u8005\u53ef\u4ee5\u63d0\u4f9b**\u4efb\u4f55**\u4ef7\u503c\u3002\u4f8b\u5982\uff0c\u63d0\u4f9b\u8005\u53ef\u80fd\u4f1a\u6839\u636e\u5f53\u524d\u73af\u5883\u63d0\u4f9b\u4e00\u7ec4\u914d\u7f6e\u5bf9\u8c61\uff0c\u5982\u4e0b\u6240\u793a\uff1a\\n\\n```typescript\\nconst configFactory = {\\n  provide: \'CONFIG\',\\n  useFactory: () => {\\n    return process.env.NODE_ENV === \'development\' ? devConfig : prodConfig;\\n  },\\n};\\n\\n@Module({\\n  providers: [configFactory],\\n})\\nexport class AppModule {}\\n```\\n\\n## 9\u3001\u5bfc\u51fa\u81ea\u5b9a\u4e49\u63d0\u4f9b\u7a0b\u5e8f\\n\u4e0e\u4efb\u4f55\u63d0\u4f9b\u8005\u4e00\u6837\uff0c\u81ea\u5b9a\u4e49\u63d0\u4f9b\u8005\u7684\u8303\u56f4\u4ec5\u9650\u4e8e\u5176\u58f0\u660e\u6a21\u5757\u3002\u8981\u4f7f\u5176\u5bf9\u5176\u4ed6\u6a21\u5757\u53ef\u89c1\uff0c\u5fc5\u987b\u5c06\u5176\u5bfc\u51fa\u3002\u8981\u5bfc\u51fa\u81ea\u5b9a\u4e49\u63d0\u4f9b\u8005\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5176\u4ee4\u724c\u6216\u5b8c\u6574\u7684\u63d0\u4f9b\u8005\u5bf9\u8c61\u3002\u4ee5\u4e0b\u793a\u4f8b\u663e\u793a\u4f7f\u7528\u4ee4\u724c\u5bfc\u51fa\uff1a\\n```typescript\\nconst connectionFactory = {\\n  provide: \'CONNECTION\',\\n  useFactory: (optionsProvider: OptionsProvider) => {\\n    const options = optionsProvider.get();\\n    return new DatabaseConnection(options);\\n  },\\n  inject: [OptionsProvider],\\n};\\n\\n@Module({\\n  providers: [connectionFactory],\\n  exports: [\'CONNECTION\'],\\n})\\nexport class AppModule {}\\n```\\n\\n\u6216\u8005\uff0c\u4f7f\u7528\u5b8c\u6574\u7684\u63d0\u4f9b\u8005\u5bf9\u8c61\u5bfc\u51fa\uff1a\\n```typescript\\nconst connectionFactory = {\\n  provide: \'CONNECTION\',\\n  useFactory: (optionsProvider: OptionsProvider) => {\\n    const options = optionsProvider.get();\\n    return new DatabaseConnection(options);\\n  },\\n  inject: [OptionsProvider],\\n};\\n\\n@Module({\\n  providers: [connectionFactory],\\n  exports: [connectionFactory],\\n})\\nexport class AppModule {}\\n```\\n\\n## 10\u3001\u5f02\u6b65\u63d0\u4f9b\u8005\\n\u6709\u65f6\uff0c\u5e94\u5ef6\u8fdf\u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\uff0c\u76f4\u5230\u5b8c\u6210\u4e00\u4e2a\u6216\u591a\u4e2a**\u5f02\u6b65\u4efb\u52a1**\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u80fd\u4e0d\u60f3\u5728\u4e0e\u6570\u636e\u5e93\u7684\u8fde\u63a5\u5efa\u7acb\u4e4b\u524d\u5f00\u59cb\u63a5\u53d7\u8bf7\u6c42\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u5f02\u6b65\u63d0\u4f9b\u7a0b\u5e8f\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002\\n```typescript\\n{\\n  provide: \'ASYNC_CONNECTION\',\\n  useFactory: async () => {\\n    const connection = await createConnection(options);\\n    return connection;\\n  },\\n}\\n```\\n","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/12-core-middleware.md","path":"/nodejs/04-nodejs-nestjs/12-core-middleware.md","route":"/nodejs/04-nodejs-nestjs/12-core-middleware.md","leaf":true,"title":"12-core-middleware","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\ntitle: 12 \u4e2d\u95f4\u4ef6 Middleware\\n---\\n\\n\u4e2d\u95f4\u4ef6\u662f\u5728\u8def\u7531\u5904\u7406\u7a0b\u5e8f **\u4e4b\u524d** \u8c03\u7528\u7684\u51fd\u6570\u3002 \u4e2d\u95f4\u4ef6\u51fd\u6570\u53ef\u4ee5\u8bbf\u95ee\u8bf7\u6c42\u548c\u54cd\u5e94\u5bf9\u8c61\uff0c\u4ee5\u53ca\u5e94\u7528\u7a0b\u5e8f\u8bf7\u6c42\u54cd\u5e94\u5468\u671f\u4e2d\u7684 `next()` \u4e2d\u95f4\u4ef6\u51fd\u6570\u3002 `next()` \u4e2d\u95f4\u4ef6\u51fd\u6570\u901a\u5e38\u7531\u540d\u4e3a `next` \u7684\u53d8\u91cf\u8868\u793a\u3002\\n\\n![20230606154242](http://s3.airtlab.com/blog/20230606154242.png)\\n\\nNest \u4e2d\u95f4\u4ef6\u5b9e\u9645\u4e0a\u7b49\u4ef7\u4e8e [express](http://expressjs.com/en/guide/using-middleware.html) \u4e2d\u95f4\u4ef6\u3002 \u4e0b\u9762\u662fExpress\u5b98\u65b9\u6587\u6863\u4e2d\u6240\u8ff0\u7684\u4e2d\u95f4\u4ef6\u529f\u80fd\uff1a\\n\u4e2d\u95f4\u4ef6\u51fd\u6570\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u4efb\u52a1:\\n\\n- \u6267\u884c\u4efb\u4f55\u4ee3\u7801\u3002\\n- \u5bf9\u8bf7\u6c42\u548c\u54cd\u5e94\u5bf9\u8c61\u8fdb\u884c\u66f4\u6539\u3002\\n- \u7ed3\u675f\u8bf7\u6c42-\u54cd\u5e94\u5468\u671f\u3002\\n- \u8c03\u7528\u5806\u6808\u4e2d\u7684\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u51fd\u6570\u3002\\n- \u5982\u679c\u5f53\u524d\u7684\u4e2d\u95f4\u4ef6\u51fd\u6570\u6ca1\u6709\u7ed3\u675f\u8bf7\u6c42-\u54cd\u5e94\u5468\u671f, \u5b83\u5fc5\u987b\u8c03\u7528 `next()` \u5c06\u63a7\u5236\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u51fd\u6570\u3002\u5426\u5219, \u8bf7\u6c42\u5c06\u88ab\u6302\u8d77\u3002\\n\\n## \u7c7b\u4e2d\u95f4\u4ef6\\n\\n```typescript\\nimport { Module, NestModule, MiddlewareConsumer } from \'@nestjs/common\';\\nimport { AppController } from \'./app.controller\';\\nimport { AppService } from \'./app.service\';\\nimport { ProductController } from \'./product/product.controller\';\\nimport { NewsController } from \'./news/news.controller\';\\nimport { NewsService } from \'./news/news.service\';\\nimport { SessionController } from \'./session/session.controller\';\\nimport { UploadController } from \'./upload/upload.controller\';\\n\\nimport { LoggerMiddleware } from \'./middleware/logger.middleware\';\\nimport { UserMiddleware } from \'./middleware/user.middleware\';\\n\\n@Module({\\n  imports: [],\\n  controllers: [AppController, ProductController, NewsController, SessionController, UploadController],\\n  providers: [AppService, NewsService],\\n})\\nexport class AppModule implements NestModule {\\n  configure(consumer: MiddlewareConsumer) {\\n    consumer\\n      .apply(LoggerMiddleware)\\n      .forRoutes(\'*\')\\n      .apply(UserMiddleware)\\n      .forRoutes(\'product\')\\n  }\\n}\\n```\\n\\n**\u4e2d\u95f4\u4ef6\u4ee3\u7801**\\n\\n```typescript\\nimport { Injectable, NestMiddleware } from \'@nestjs/common\';\\nimport { Request, Response } from \'express\';\\n\\n@Injectable()\\nexport class LoggerMiddleware implements NestMiddleware {\\n  async use(req: Request, res: Response, next: Function) {\\n    console.log(\'logger start \' + Date.now());\\n    await next();\\n    console.log(\'logger end \' + Date.now());\\n  }\\n}\\n```\\n\\n## \u51fd\u6570\u5f0f\u4e2d\u95f4\u4ef6\\n```typescript\\nexport function logger(req, res, next) {\\n  console.log(`Request...`);\\n  next();\\n};\\n```\\n\\n## \u5168\u5c40\u4e2d\u95f4\u4ef6 (\u53ea\u80fd\u662f\u51fd\u6570\u4e2d\u95f4\u4ef6)\\n\u5168\u5c40\u4e2d\u95f4\u4ef6\u53ea\u80fd\u662f\u51fd\u6570\u4e2d\u95f4\u4ef6\uff0c\u4e0d\u80fd\u662f\u7c7b\u4e2d\u95f4\u4ef6\u3002\u5982\u679c\u6211\u4eec\u60f3\u4e00\u6b21\u6027\u5c06\u4e2d\u95f4\u4ef6\u7ed1\u5b9a\u5230\u6bcf\u4e2a\u6ce8\u518c\u8def\u7531\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7531`INestApplication`\u5b9e\u4f8b\u63d0\u4f9b\u7684 `use()`\u65b9\u6cd5\uff1a\\n\\n```typescript\\nconst app = await NestFactory.create(AppModule);\\napp.use(logger);\\nawait app.listen(3000);\\n```\\n","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/13-ExceptionFilters.md","path":"/nodejs/04-nodejs-nestjs/13-ExceptionFilters.md","route":"/nodejs/04-nodejs-nestjs/13-ExceptionFilters.md","leaf":true,"title":"13-ExceptionFilters","depth":2,"content":"---\\ntitle: 13 \u5f02\u5e38\u8fc7\u6ee4\u5668 ExceptionFilter\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n\u5185\u7f6e\u7684\u5f02\u5e38\u5c42\u8d1f\u8d23\u5904\u7406\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u6240\u6709\u629b\u51fa\u7684\u5f02\u5e38\u3002\u5f53\u6355\u83b7\u5230\u672a\u5904\u7406\u7684\u5f02\u5e38\u65f6\uff0c\u6700\u7ec8\u7528\u6237\u5c06\u6536\u5230\u53cb\u597d\u7684\u54cd\u5e94\u3002\\n```typescript\\nlogger1-middleware before...\\nlogger2-middleware before...\\nAuthGuard\\nlogger2-middleware after...\\nlogger1-middleware after...\\n\\nLoggingInterceptor Before...\\nValidationPipe\\nAllExceptionsFilter\\n\\n# LoggingInterceptor After... \u672a\u6267\u884c\\n```\\n\\n## 1\u3001\u9ed8\u8ba4\u5f02\u5e38\u8fc7\u6ee4\u5668 \\n\u5f00\u7bb1\u5373\u7528\uff0c\u6b64\u64cd\u4f5c\u7531\u5185\u7f6e\u7684\u5168\u5c40\u5f02\u5e38\u8fc7\u6ee4\u5668\u6267\u884c\uff0c\u8be5\u8fc7\u6ee4\u5668\u5904\u7406\u7c7b\u578b HttpException\uff08\u53ca\u5176\u5b50\u7c7b\uff09\u7684\u5f02\u5e38\u3002\u6bcf\u4e2a\u53d1\u751f\u7684\u5f02\u5e38\u90fd\u7531\u5168\u5c40\u5f02\u5e38\u8fc7\u6ee4\u5668\u5904\u7406, \u5f53\u8fd9\u4e2a\u5f02\u5e38\u65e0\u6cd5\u88ab\u8bc6\u522b\u65f6 (\u65e2\u4e0d\u662f HttpException \u4e5f\u4e0d\u662f\u7ee7\u627f\u7684\u7c7b HttpException ) , \u7528\u6237\u5c06\u6536\u5230\u4ee5\u4e0b JSON \u54cd\u5e94:\\n```typescript\\n{\\n    \\"statusCode\\": 500,\\n    \\"message\\": \\"Internal server error\\"\\n}\\n```\\n\\n## 2\u3001\u5185\u7f6eHTTP\u5f02\u5e38\\n\u4e3a\u4e86\u51cf\u5c11\u6837\u677f\u4ee3\u7801\uff0cNest \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7ee7\u627f\u81ea\u6838\u5fc3\u5f02\u5e38 HttpException \u7684\u53ef\u7528\u5f02\u5e38\u3002\u6240\u6709\u8fd9\u4e9b\u90fd\u53ef\u4ee5\u5728 @nestjs/common\u5305\u4e2d\u627e\u5230\uff1a\\n\\n- BadRequestException\\n- UnauthorizedException\\n- NotFoundException\\n- ForbiddenException\\n- NotAcceptableException\\n- RequestTimeoutException\\n- ConflictException\\n- GoneException\\n- PayloadTooLargeException\\n- UnsupportedMediaTypeException\\n- UnprocessableException\\n- InternalServerErrorException\\n- NotImplementedException\\n- BadGatewayException\\n- ServiceUnavailableException\\n- GatewayTimeoutException\\n  \\n## 3\u3001\u81ea\u5b9a\u4e49\u5f02\u5e38\u8fc7\u6ee4\u5668\\n\u867d\u7136\u57fa\u672c\uff08\u5185\u7f6e\uff09\u5f02\u5e38\u8fc7\u6ee4\u5668\u53ef\u4ee5\u4e3a\u60a8\u81ea\u52a8\u5904\u7406\u8bb8\u591a\u60c5\u51b5\uff0c\u4f46\u6709\u65f6\u60a8\u53ef\u80fd\u5e0c\u671b\u5bf9\u5f02\u5e38\u5c42\u62e5\u6709**\u5b8c\u5168\u63a7\u5236\u6743**\uff0c\u4f8b\u5982\uff0c\u60a8\u53ef\u80fd\u8981\u6dfb\u52a0\u65e5\u5fd7\u8bb0\u5f55\u6216\u57fa\u4e8e\u4e00\u4e9b\u52a8\u6001\u56e0\u7d20\u4f7f\u7528\u5176\u4ed6 JSON\u6a21\u5f0f\u3002 **\u5f02\u5e38\u8fc7\u6ee4\u5668**\u6b63\u662f\u4e3a\u6b64\u76ee\u7684\u800c\u8bbe\u8ba1\u7684\u3002 \u5b83\u4eec\u4f7f\u60a8\u53ef\u4ee5\u63a7\u5236\u7cbe\u786e\u7684\u63a7\u5236\u6d41\u4ee5\u53ca\u5c06\u54cd\u5e94\u7684\u5185\u5bb9\u53d1\u9001\u56de\u5ba2\u6237\u7aef\u3002\\n\\n\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u5f02\u5e38\u8fc7\u6ee4\u5668\uff0c\u5b83\u8d1f\u8d23\u6355\u83b7\u4f5c\u4e3aHttpException\u7c7b\u5b9e\u4f8b\u7684\u5f02\u5e38\uff0c\u5e76\u4e3a\u5b83\u4eec\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u54cd\u5e94\u903b\u8f91\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u9700\u8981\u8bbf\u95ee\u5e95\u5c42\u5e73\u53f0 Request\u548c Response\u3002\u6211\u4eec\u5c06\u8bbf\u95eeRequest\u5bf9\u8c61\uff0c\u4ee5\u4fbf\u63d0\u53d6\u539f\u59cb url\u5e76\u5c06\u5176\u5305\u542b\u5728\u65e5\u5fd7\u4fe1\u606f\u4e2d\u3002\u6211\u4eec\u5c06\u4f7f\u7528 Response.json()\u65b9\u6cd5\uff0c\u4f7f\u7528 Response\u5bf9\u8c61\u76f4\u63a5\u63a7\u5236\u53d1\u9001\u7684\u54cd\u5e94\u3002\\n\\n```typescript\\nimport { ExceptionFilter, Catch, ArgumentsHost, HttpException } from \'@nestjs/common\';\\nimport { Request, Response } from \'express\';\\n\\n@Catch(HttpException)\\nexport class HttpExceptionFilter implements ExceptionFilter {\\n  catch(exception: HttpException, host: ArgumentsHost) {\\n    const ctx = host.switchToHttp();\\n    const response = ctx.getResponse<Response>();\\n    const request = ctx.getRequest<Request>();\\n    const status = exception.getStatus();\\n\\n    response\\n      .status(status)\\n      .json({\\n        statusCode: status,\\n        timestamp: new Date().toISOString(),\\n        path: request.url,\\n      });\\n  }\\n}\\n```\\n@Catch() \u88c5\u9970\u5668\u7ed1\u5b9a\u6240\u9700\u7684\u5143\u6570\u636e\u5230\u5f02\u5e38\u8fc7\u6ee4\u5668\u4e0a\u3002\u5b83\u544a\u8bc9 Nest\u8fd9\u4e2a\u7279\u5b9a\u7684\u8fc7\u6ee4\u5668\u6b63\u5728\u5bfb\u627e HttpException \u800c\u4e0d\u662f\u5176\u4ed6\u7684\u3002\u5728\u5b9e\u8df5\u4e2d\uff0c@Catch() \u53ef\u4ee5\u4f20\u9012\u591a\u4e2a\u53c2\u6570\uff0c\u6240\u4ee5\u4f60\u53ef\u4ee5\u901a\u8fc7\u9017\u53f7\u5206\u9694\u6765\u4e3a\u591a\u4e2a\u7c7b\u578b\u7684\u5f02\u5e38\u8bbe\u7f6e\u8fc7\u6ee4\u5668\u3002\\n\\n## 4\u3001\u6355\u83b7\u4efb\u610f\u5f02\u5e38\\n```typescript\\nimport {\\n  ExceptionFilter,\\n  Catch,\\n  ArgumentsHost,\\n  HttpException,\\n  HttpStatus,\\n} from \'@nestjs/common\';\\n\\n@Catch()\\nexport class AllExceptionsFilter implements ExceptionFilter {\\n  catch(exception: unknown, host: ArgumentsHost) {\\n    const ctx = host.switchToHttp();\\n    const response = ctx.getResponse();\\n    const request = ctx.getRequest();\\n\\n    const status =\\n      exception instanceof HttpException\\n        ? exception.getStatus()\\n        : HttpStatus.INTERNAL_SERVER_ERROR;\\n\\n    response.status(status).json({\\n      statusCode: status,\\n      timestamp: new Date().toISOString(),\\n      path: request.url,\\n    });\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/14-NestInterceptor.md","path":"/nodejs/04-nodejs-nestjs/14-NestInterceptor.md","route":"/nodejs/04-nodejs-nestjs/14-NestInterceptor.md","leaf":true,"title":"14-NestInterceptor","depth":2,"content":"---\\ntitle: 14 \u62e6\u622a\u5668 (NestInterceptor)\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n\u62e6\u622a\u5668\u662f\u4e00\u4e2a\u7528 @Injectable() \u88c5\u9970\u5668\u6ce8\u89e3\u5e76\u5b9e\u73b0 NestInterceptor \u63a5\u53e3\u7684\u7c7b\u3002\\n\\n![20230606154845](http://s3.airtlab.com/blog/20230606154845.png)\\n\\n```typescript\\nlogger1-middleware before...\\nlogger2-middleware before...\\nAuthGuard\\nlogger2-middleware after...\\nlogger1-middleware after...\\n\\nLoggingInterceptor Before...\\nValidationPipe\\nLoggingInterceptor After... 1ms\\n```\\n\\n[\u62e6\u622a\u5668\u5177\u6709\u4e00\u7ec4\u53d7\u9762\u5411\u65b9\u9762\u7f16\u7a0b](https://en.wikipedia.org/wiki/Aspect-oriented_programming)(AOP) \u6280\u672f\u542f\u53d1\u7684\u6709\u7528\u529f\u80fd\u3002\u5b83\u4eec\u53ef\u4ee5\uff1a\\n\\n- \u5728\u65b9\u6cd5\u6267\u884c\u4e4b\u524d/\u4e4b\u540e\u7ed1\u5b9a\u989d\u5916\u7684\u903b\u8f91\\n- \u8f6c\u6362\u4ece\u51fd\u6570\u8fd4\u56de\u7684\u7ed3\u679c\\n- \u8f6c\u6362\u51fd\u6570\u629b\u51fa\u7684\u5f02\u5e38\\n- \u6269\u5c55\u57fa\u672c\u529f\u80fd\u884c\u4e3a\\n- \u6839\u636e\u7279\u5b9a\u6761\u4ef6\u5b8c\u5168\u8986\u76d6\u51fd\u6570\uff08\u4f8b\u5982\uff0c\u51fa\u4e8e\u7f13\u5b58\u76ee\u7684\uff09\\n\\n## 1\u3001\u62e6\u622a\u5668\u4e09\u90e8\u5206\\n### intercept \u65b9\u6cd5\\n\u6bcf\u4e2a\u62e6\u622a\u5668\u90fd\u5b9e\u73b0\u8be5intercept()\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u662f\u5b9e\u4f8b\uff08\u4e0e[guards](https://docs.nestjs.com/guards)ExecutionContext\u5b8c\u5168\u76f8\u540c\u7684\u5bf9\u8c61\uff09\u3002\u7ee7\u627f\u81ea. \u6211\u4eec\u4e4b\u524d\u5728\u5f02\u5e38\u8fc7\u6ee4\u5668\u7ae0\u8282\u4e2d\u770b\u5230\u8fc7\u3002\u5728\u90a3\u91cc\uff0c\u6211\u4eec\u770b\u5230\u5b83\u662f\u4f20\u9012\u7ed9\u539f\u59cb\u5904\u7406\u7a0b\u5e8f\u7684\u53c2\u6570\u7684\u5305\u88c5\u5668\uff0c\u5e76\u4e14\u5305\u542b\u57fa\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7c7b\u578b\u7684\u4e0d\u540c\u53c2\u6570\u6570\u7ec4\u3002\u60a8\u53ef\u4ee5\u53c2\u8003[\u5f02\u5e38\u8fc7\u6ee4\u5668](https://docs.nestjs.com/exception-filters#arguments-host)\u4ee5\u83b7\u53d6\u6709\u5173\u6b64\u4e3b\u9898\u7684\u66f4\u591a\u4fe1\u606f\u3002ExecutionContextArgumentsHostArgumentsHost\\n\\n### \u6267\u884c\u4e0a\u4e0b\u6587\\n\u901a\u8fc7\u6269\u5c55ArgumentsHost\uff0cExecutionContext\u8fd8\u6dfb\u52a0\u4e86\u51e0\u4e2a\u65b0\u7684\u8f85\u52a9\u65b9\u6cd5\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u63d0\u4f9b\u4e86\u6709\u5173\u5f53\u524d\u6267\u884c\u8fc7\u7a0b\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u3002\u8fd9\u4e9b\u7ec6\u8282\u6709\u52a9\u4e8e\u6784\u5efa\u66f4\u901a\u7528\u7684\u62e6\u622a\u5668\uff0c\u8fd9\u4e9b\u62e6\u622a\u5668\u53ef\u4ee5\u8de8\u5e7f\u6cdb\u7684\u63a7\u5236\u5668\u3001\u65b9\u6cd5\u548c\u6267\u884c\u4e0a\u4e0b\u6587\u5de5\u4f5c\u3002ExecutionContext[\u5728\u6b64\u5904](https://docs.nestjs.com/fundamentals/execution-context)\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002\\n\\n### \u8c03\u7528\u5904\u7406\u7a0b\u5e8f\\n\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2aCallHandler\u3002\u8be5CallHandler\u63a5\u53e3\u5b9e\u73b0\u4e86\u8be5handle()\u65b9\u6cd5\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u8be5\u65b9\u6cd5\u5728\u62e6\u622a\u5668\u4e2d\u7684\u67d0\u4e2a\u4f4d\u7f6e\u8c03\u7528\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u65b9\u6cd5\u3002handle()\u5982\u679c\u60a8\u5728\u65b9\u6cd5\u7684\u5b9e\u73b0\u4e2d\u4e0d\u8c03\u7528\u8be5\u65b9\u6cd5intercept()\uff0c\u5219\u6839\u672c\u4e0d\u4f1a\u6267\u884c\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u65b9\u6cd5\u3002\\n```typescript\\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from \'@nestjs/common\';\\nimport { Observable } from \'rxjs\';\\nimport { tap } from \'rxjs/operators\';\\n\\n@Injectable()\\nexport class LoggingInterceptor implements NestInterceptor {\\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\\n    console.log(\'Before...\');\\n\\n    const now = Date.now();\\n    return next\\n      .handle()\\n      .pipe(\\n        tap(() => console.log(`After... ${Date.now() - now}ms`)),\\n      );\\n  }\\n}\\n```\\n\\n### \u7ed1\u5b9a\u62e6\u622a\u5668\\n\u4e3a\u4e86\u8bbe\u7f6e\u62e6\u622a\u5668\uff0c\u6211\u4eec\u4f7f\u7528\u4ece\u5305\u4e2d@UseInterceptors()\u5bfc\u5165\u7684\u88c5\u9970\u5668\u3002@nestjs/common\u50cf[\u7ba1\u9053](https://docs.nestjs.com/pipes)\u548c[\u5b88\u536b](https://docs.nestjs.com/guards)\u4e00\u6837\uff0c\u62e6\u622a\u5668\u53ef\u4ee5\u662f\u63a7\u5236\u5668\u8303\u56f4\u7684\u3001\u65b9\u6cd5\u8303\u56f4\u7684\u6216\u5168\u5c40\u8303\u56f4\u7684\u3002\\n\\n```typescript\\n@UseInterceptors(LoggingInterceptor)\\nexport class CatsController {}\\n```\\n\\n```typescript\\nconst app = await NestFactory.create(AppModule);\\napp.useGlobalInterceptors(new LoggingInterceptor());\\n```\\n\\n## 2\u3001\u4f7f\u7528\u573a\u666f\\n### Response mapping\\n```typescript\\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from \'@nestjs/common\';\\nimport { Observable } from \'rxjs\';\\nimport { map } from \'rxjs/operators\';\\n\\nexport interface Response<T> {\\n  data: T;\\n}\\n\\n@Injectable()\\nexport class TransformInterceptor<T> implements NestInterceptor<T, Response<T>> {\\n  intercept(context: ExecutionContext, next: CallHandler): Observable<Response<T>> {\\n    return next.handle().pipe(map(data => ({ data })));\\n  }\\n}\\n```\\n### Exception mapping\\n```typescript\\nimport {\\n  Injectable,\\n  NestInterceptor,\\n  ExecutionContext,\\n  BadGatewayException,\\n  CallHandler,\\n} from \'@nestjs/common\';\\nimport { Observable, throwError } from \'rxjs\';\\nimport { catchError } from \'rxjs/operators\';\\n\\n@Injectable()\\nexport class ErrorsInterceptor implements NestInterceptor {\\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\\n    return next\\n      .handle()\\n      .pipe(\\n        catchError(err => throwError(() => new BadGatewayException())),\\n      );\\n  }\\n}\\n```\\n\\n### More operators\\n```typescript\\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler, RequestTimeoutException } from \'@nestjs/common\';\\nimport { Observable, throwError, TimeoutError } from \'rxjs\';\\nimport { catchError, timeout } from \'rxjs/operators\';\\n\\n@Injectable()\\nexport class TimeoutInterceptor implements NestInterceptor {\\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\\n    return next.handle().pipe(\\n      timeout(5000),\\n      catchError(err => {\\n        if (err instanceof TimeoutError) {\\n          return throwError(() => new RequestTimeoutException());\\n        }\\n        return throwError(() => err);\\n      }),\\n    );\\n  };\\n};\\n```\\n","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/15-Guard.md","path":"/nodejs/04-nodejs-nestjs/15-Guard.md","route":"/nodejs/04-nodejs-nestjs/15-Guard.md","leaf":true,"title":"15-Guard","depth":2,"content":"---\\ntitle: 15 \u5b88\u536b Guard\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n\u5b88\u536b\u662f\u4e00\u4e2a\u4f7f\u7528 `@Injectable()` \u88c5\u9970\u5668\u7684\u7c7b\u3002 \u5b88\u536b\u5e94\u8be5\u5b9e\u73b0 `CanActivate` \u63a5\u53e3\u3002\\n\\n![20230606155201](http://s3.airtlab.com/blog/20230606155201.png)\\n\\n\u5b88\u536b\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u8d23\u4efb\u3002\u5b83\u4eec\u6839\u636e\u8fd0\u884c\u65f6\u51fa\u73b0\u7684\u67d0\u4e9b\u6761\u4ef6\uff08\u4f8b\u5982\u6743\u9650\uff0c\u89d2\u8272\uff0c\u8bbf\u95ee\u63a7\u5236\u5217\u8868\u7b49\uff09\u6765\u786e\u5b9a\u7ed9\u5b9a\u7684\u8bf7\u6c42\u662f\u5426\u7531\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u5904\u7406\u3002 \u8fd9\u901a\u5e38\u79f0\u4e3a\u6388\u6743\u3002\u5728\u4f20\u7edf\u7684 `Express` \u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u901a\u5e38\u7531\u4e2d\u95f4\u4ef6\u5904\u7406\u6388\u6743\u3002\u4e2d\u95f4\u4ef6\u662f\u8eab\u4efd\u9a8c\u8bc1\u7684\u826f\u597d\u9009\u62e9\u3002\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u8bbf\u95ee\u9650\u5236\u903b\u8f91\u5927\u591a\u5728\u4e2d\u95f4\u4ef6\u5185\u3002\u8fd9\u6837\u5f88\u597d\uff0c\u56e0\u4e3a\u8bf8\u5982 `token` \u9a8c\u8bc1\u6216\u5c06 `request` \u5bf9\u8c61\u9644\u52a0\u5c5e\u6027\u4e0e\u7279\u5b9a\u8def\u7531\u6ca1\u6709\u5f3a\u5173\u8054\u3002\\n\\n\u4e2d\u95f4\u4ef6\u4e0d\u77e5\u9053\u8c03\u7528 `next()` \u51fd\u6570\u540e\u4f1a\u6267\u884c\u54ea\u4e2a\u5904\u7406\u7a0b\u5e8f\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u8b66\u536b\u53ef\u4ee5\u8bbf\u95ee `ExecutionContext` \u5b9e\u4f8b\uff0c\u56e0\u6b64\u786e\u5207\u5730\u77e5\u9053\u63a5\u4e0b\u6765\u8981\u6267\u884c\u4ec0\u4e48\u3002\u5b83\u4eec\u7684\u8bbe\u8ba1\u4e0e\u5f02\u5e38\u8fc7\u6ee4\u5668\u3001\u7ba1\u9053\u548c\u62e6\u622a\u5668\u975e\u5e38\u76f8\u4f3c\uff0c\u76ee\u7684\u662f\u8ba9\u60a8\u5728\u8bf7\u6c42/\u54cd\u5e94\u5468\u671f\u7684\u6b63\u786e\u4f4d\u7f6e\u63d2\u5165\u5904\u7406\u903b\u8f91\uff0c\u5e76\u4ee5\u58f0\u660e\u7684\u65b9\u5f0f\u8fdb\u884c\u63d2\u5165\u3002\u8fd9\u6709\u52a9\u4e8e\u4fdd\u6301\u4ee3\u7801\u7684\u7b80\u6d01\u548c\u58f0\u660e\u6027\u3002\\n\\n## 1\u3001\u6267\u884c\u65f6\u673a\\n\u5b88\u536b\u5728\u6240\u6709\u4e2d\u95f4\u4ef6\u4e4b\u540e\u6267\u884c\uff0c\u4f46\u5728\u4efb\u4f55\u62e6\u622a\u5668\u6216\u7ba1\u9053\u4e4b\u524d\u3002\\n```\\nlogger1-middleware before...\\nlogger2-middleware before...\\nAuthGuard\\nlogger2-middleware after...\\nlogger1-middleware after...\\nValidationPipe \\n```\\n\\n## 2\u3001\u6267\u884c\u4e0a\u4e0b\u6587\\n\u8be5canActivate()\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u5373ExecutionContext\u5b9e\u4f8b\u3002ExecutionContext\u7ee7\u627f\u81eaArgumentsHost. ArgumentsHost\u6211\u4eec\u4e4b\u524d\u5728\u5f02\u5e38\u8fc7\u6ee4\u5668\u7ae0\u8282\u4e2d\u770b\u5230\u8fc7\u3002\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u53ea\u662f\u4f7f\u7528ArgumentsHost\u4e4b\u524d\u5b9a\u4e49\u7684\u76f8\u540c\u5e2e\u52a9\u65b9\u6cd5\u6765\u83b7\u53d6\u5bf9Request\u5bf9\u8c61\u7684\u5f15\u7528\u3002\u6709\u5173\u6b64\u4e3b\u9898\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003[\u5f02\u5e38\u8fc7\u6ee4\u5668\u4e00\u7ae0\u7684](https://docs.nestjs.com/exception-filters#arguments-host)\u53c2\u6570\u4e3b\u673a\u90e8\u5206\u3002\\n\\n\u901a\u8fc7\u6269\u5c55ArgumentsHost\uff0cExecutionContext\u8fd8\u6dfb\u52a0\u4e86\u51e0\u4e2a\u65b0\u7684\u8f85\u52a9\u65b9\u6cd5\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u63d0\u4f9b\u4e86\u6709\u5173\u5f53\u524d\u6267\u884c\u8fc7\u7a0b\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u3002\u8fd9\u4e9b\u7ec6\u8282\u6709\u52a9\u4e8e\u6784\u5efa\u66f4\u901a\u7528\u7684\u9632\u62a4\uff0c\u8fd9\u4e9b\u9632\u62a4\u53ef\u4ee5\u5728\u5e7f\u6cdb\u7684\u63a7\u5236\u5668\u3001\u65b9\u6cd5\u548c\u6267\u884c\u4e0a\u4e0b\u6587\u4e2d\u5de5\u4f5c\u3002ExecutionContext[\u5728\u6b64\u5904](https://docs.nestjs.com/fundamentals/execution-context)\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002\\n\\n## 3\u3001\u7ed1\u5b9a\u5b88\u536b\\n\u50cf\u7ba1\u9053\u548c\u5f02\u5e38\u8fc7\u6ee4\u5668\u4e00\u6837\uff0c\u5b88\u536b\u53ef\u4ee5\u662f**\u63a7\u5236\u5668\u8303\u56f4\u7684**\u3001\u65b9\u6cd5\u8303\u56f4\u7684\u6216\u5168\u5c40\u8303\u56f4\u7684\u3002\\n\\n## 4\u3001\u57fa\u4e8e\u89d2\u8272\u7684\u8eab\u4efd\u9a8c\u8bc1\\n```typescript\\nimport { SetMetadata } from \'@nestjs/common\';\\nexport const Roles = (...roles: string[]) => SetMetadata(\'roles\', roles);\\n```\\n\\n```typescript\\n@Post()\\n@Roles(\'admin\')\\nasync create(@Body() createCatDto: CreateCatDto) {\\n  this.catsService.create(createCatDto);\\n}\\n```\\n\\n```typescript\\nimport { Injectable, CanActivate, ExecutionContext } from \'@nestjs/common\';\\nimport { Reflector } from \'@nestjs/core\';\\n\\n@Injectable()\\nexport class RolesGuard implements CanActivate {\\n  constructor(private reflector: Reflector) {}\\n\\n  canActivate(context: ExecutionContext): boolean {\\n    const roles = this.reflector.get<string[]>(\'roles\', context.getHandler());\\n    if (!roles) {\\n      return true;\\n    }\\n    const request = context.switchToHttp().getRequest();\\n    const user = request.user;\\n    return matchRoles(roles, user.roles);\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/16-PipeTransform.md","path":"/nodejs/04-nodejs-nestjs/16-PipeTransform.md","route":"/nodejs/04-nodejs-nestjs/16-PipeTransform.md","leaf":true,"title":"16-PipeTransform","depth":2,"content":"---\\ntitle: 16 \u6570\u636e\u8f6c\u6362\u7ba1\u9053 PipeTransform\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n\u7ba1\u9053\u662f\u5177\u6709 `@Injectable()` \u88c5\u9970\u5668\u7684\u7c7b\u3002\u7ba1\u9053\u5e94\u5b9e\u73b0 `PipeTransform` \u63a5\u53e3\uff0c\u7ba1\u9053\u6709\u4e24\u4e2a\u7c7b\u578b:\\n\\n- \u8f6c\u6362\uff1a\u7ba1\u9053\u5c06\u8f93\u5165\u6570\u636e\u8f6c\u6362\u4e3a\u6240\u9700\u7684\u6570\u636e\u8f93\u51fa\\n- \u9a8c\u8bc1\uff1a\u5bf9\u8f93\u5165\u6570\u636e\u8fdb\u884c\u9a8c\u8bc1\uff0c\u5982\u679c\u9a8c\u8bc1\u6210\u529f\u7ee7\u7eed\u4f20\u9012; \u9a8c\u8bc1\u5931\u8d25\u5219\u629b\u51fa\u5f02\u5e38;\\n\\n\u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b, \u7ba1\u9053 `\u53c2\u6570(arguments)` \u4f1a\u7531 [\u63a7\u5236\u5668(controllers)\u7684\u8def\u7531\u5904\u7406\u7a0b\u5e8f](https://docs.nestjs.cn/7/controllers?id=%e8%b7%af%e7%94%b1%e5%8f%82%e6%95%b0) \u8fdb\u884c\u5904\u7406. Nest \u4f1a\u5728\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4e4b\u524d\u63d2\u5165\u4e00\u4e2a\u7ba1\u9053\uff0c\u7ba1\u9053\u4f1a\u5148\u62e6\u622a\u65b9\u6cd5\u7684\u8c03\u7528\u53c2\u6570\uff0c\u8fdb\u884c\u8f6c\u6362\u6216\u662f\u9a8c\u8bc1\u5904\u7406\uff0c\u7136\u540e\u7528\u8f6c\u6362\u597d\u6216\u662f\u9a8c\u8bc1\u597d\u7684\u53c2\u6570\u8c03\u7528\u539f\u65b9\u6cd5\u3002\\n\\n> \u7ba1\u9053\u5728\u5f02\u5e38\u533a\u57df\u5185\u8fd0\u884c\u3002\u8fd9\u610f\u5473\u7740\u5f53\u629b\u51fa\u5f02\u5e38\u65f6\uff0c\u5b83\u4eec\u7531\u6838\u5fc3\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u548c\u5e94\u7528\u4e8e\u5f53\u524d\u4e0a\u4e0b\u6587\u7684 [\u5f02\u5e38\u8fc7\u6ee4\u5668](https://docs.nestjs.cn/7/exceptionfilters) \u5904\u7406\u3002\u5f53\u5728 Pipe \u4e2d\u53d1\u751f\u5f02\u5e38\uff0ccontroller \u4e0d\u4f1a\u7ee7\u7eed\u6267\u884c\u4efb\u4f55\u65b9\u6cd5\u3002\\n\\n```typescript\\nimport { Type } from \'../type.interface\';\\nimport { Paramtype } from \'./paramtype.interface\';\\nexport declare type Transform<T = any> = (value: T, metadata: ArgumentMetadata) => any;\\n/**\\n * Interface describing a pipe implementation\'s `transform()` method metadata argument.\\n *\\n * @see [Pipes](https://docs.nestjs.com/pipes)\\n *\\n * @publicApi\\n */\\nexport interface ArgumentMetadata {\\n    /**\\n     * Indicates whether argument is a body, query, param, or custom parameter\\n     */\\n    readonly type: Paramtype;\\n    /**\\n     * Underlying base type (e.g., `String`) of the parameter, based on the type\\n     * definition in the route handler.\\n     */\\n    readonly metatype?: Type<any> | undefined;\\n    /**\\n     * String passed as an argument to the decorator.\\n     * Example: `@Body(\'userId\')` would yield `userId`\\n     */\\n    readonly data?: string | undefined;\\n}\\n\\n/**\\n * Interface describing implementation of a pipe.\\n *\\n * @see [Pipes](https://docs.nestjs.com/pipes)\\n *\\n * @publicApi\\n */\\nexport interface PipeTransform<T = any, R = any> {\\n  /**\\n   * Method to implement a custom pipe.  Called with two parameters\\n   *\\n   * @param value argument before it is received by route handler method\\n   * @param metadata contains metadata about the value\\n   */\\n  transform(value: T, metadata: ArgumentMetadata): R;\\n}\\n```\\n\\n## 1\u3001\u5185\u7f6e\u7ba1\u9053\\nNest \u6709\u4e5d\u4e2a\u5f00\u7bb1\u5373\u7528\u7684\u7ba1\u9053\uff1a\\n- ValidationPipe\\n- ParseIntPipe\\n- ParseFloatPipe\\n- ParseBoolPipe\\n- ParseArrayPipe\\n- ParseUUIDPipe\\n- ParseEnumPipe\\n- DefaultValuePipe\\n- ParseFilePipe\\n\\n\u5b83\u4eec\u662f\u4ece@nestjs/common\u5305\u4e2d\u5bfc\u51fa\u7684\u3002\u8ba9\u6211\u4eec\u5feb\u901f\u6d4f\u89c8\u4e00\u4e0b\u4f7f\u7528 ParseIntPipe. \u8fd9\u662f\u8f6c\u6362\u7528\u4f8b\u7684\u793a\u4f8b\uff0c\u5176\u4e2d\u7ba1\u9053\u786e\u4fdd\u5c06\u65b9\u6cd5\u5904\u7406\u7a0b\u5e8f\u53c2\u6570\u8f6c\u6362\u4e3a JavaScript \u6574\u6570\uff08\u6216\u5728\u8f6c\u6362\u5931\u8d25\u65f6\u5f15\u53d1\u5f02\u5e38\uff09\u3002\\n\\n## 2\u3001\u7ed1\u5b9a\u7ba1\u9053\\n\u8981\u4f7f\u7528\u7ba1\u9053\uff0c\u6211\u4eec\u9700\u8981\u5c06\u7ba1\u9053\u7c7b\u7684\u5b9e\u4f8b\u7ed1\u5b9a\u5230\u9002\u5f53\u7684\u4e0a\u4e0b\u6587\u3002\u5728\u6211\u4eec\u7684 ParseIntPipe \u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5e0c\u671b\u5c06\u7ba1\u9053\u4e0e\u7279\u5b9a\u7684\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u65b9\u6cd5\u76f8\u5173\u8054\uff0c\u5e76\u786e\u4fdd\u5b83\u5728\u8c03\u7528\u8be5\u65b9\u6cd5\u4e4b\u524d\u8fd0\u884c\u3002\\n\\n### 2.1 \u65b9\u6cd5\u53c2\u6570\u7ea7\u522b\u7ed1\u5b9a\u7ba1\u9053\\n```typescript\\n@Get()\\nasync findOne(@Query(\'id\', ParseIntPipe) id: number) {\\n  return this.catsService.findOne(id);\\n}\\n```\\n\\n### 2.2 \u65b9\u6cd5\u8c03\u7528\u7ea7\u522b\u7ed1\u5b9a\u7ba1\u9053\\n\u8fd9\u6837\u4f1a\u6821\u9a8c\u6bcf\u4e2a\u53c2\u6570\\n```typescript\\n@Get()\\n@UsePipes(ParseIntPipe)\\nasync findOne(@Query(\'id\') id: number, @Query(\'age\') age: number) {\\n  return this.catsService.findOne(id);\\n}\\n```\\n\\n## 3\u3001\u540c\u6b65\u548c\u5f02\u6b65\u7ba1\u9053\\nNest \u540c\u65f6\u652f\u6301\u540c\u6b65\u548c\u5f02\u6b65\u7ba1\u9053\uff0c\u63d0\u5347\u7a0b\u5e8f\u7684\u7075\u6d3b\u6027\u3002\\n\\n## 4\u3001\u81ea\u5b9a\u4e49\u7ba1\u9053\\n```typescript\\nimport { PipeTransform, Injectable, ArgumentMetadata } from \'@nestjs/common\';\\n\\n@Injectable()\\nexport class ValidationPipe implements PipeTransform {\\n  transform(value: any, metadata: ArgumentMetadata) {\\n    console.log(222)\\n    return value;\\n  }\\n}\\n```\\n\\n```typescript\\n@Get(\':id\')\\nasync findOne(@Param(\'id\', ValidationPipe) id: number) {\\n  console.log(id)\\n}\\n```\\n\\n## 5\u3001\u6a21\u5f0f\u9a8c\u8bc1\\n```typescript\\nimport { PipeTransform, Injectable, ArgumentMetadata, BadRequestException } from \'@nestjs/common\';\\nimport { ObjectSchema } from \'joi\';\\n\\n@Injectable()\\nexport class JoiValidationPipe implements PipeTransform {\\n  constructor(private schema: ObjectSchema) {}\\n\\n  transform(value: any, metadata: ArgumentMetadata) {\\n    const { error } = this.schema.validate(value);\\n    if (error) {\\n      throw new BadRequestException(\'Validation failed\');\\n    }\\n    return value;\\n  }\\n}\\n```\\n\\n```typescript\\n@Get(\'user\')\\n@UsePipes(new JoiValidationPipe(createCatSchema))\\nasync queryUser(@Query() query: any) {\\n  console.log(query)\\n}\\n```\\n\\n## 6\u3001class-validator\\n```typescript\\nimport { PipeTransform, Injectable, ArgumentMetadata, BadRequestException } from \'@nestjs/common\';\\nimport { validate } from \'class-validator\';\\nimport { plainToInstance } from \'class-transformer\';\\n\\n@Injectable()\\nexport class ValidationPipe implements PipeTransform<any> {\\n  async transform(value: any, { metatype }: ArgumentMetadata) {\\n    console.log(value, metatype)\\n    if (!metatype || !this.toValidate(metatype)) {\\n      return value;\\n    }\\n    const object = plainToInstance(metatype, value);\\n    console.log(object)\\n    const errors = await validate(object);\\n    if (errors.length > 0) {\\n      throw new BadRequestException(\'Validation failed\');\\n    }\\n    return value;\\n  }\\n\\n  private toValidate(metatype: Function): boolean {\\n    const types: Function[] = [String, Boolean, Number, Array, Object];\\n    return !types.includes(metatype);\\n  }\\n}\\n```\\n\\n```typescript\\nimport {\\n  Controller,\\n  Get,\\n  Query,\\n} from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\nimport { ValidationPipe } from \'./ValidationPipe\';\\nimport { IsString, IsInt } from \'class-validator\';\\n\\nclass CreateCatDto {\\n  @IsString()\\n  name: string;\\n\\n  @IsInt()\\n  age: number;\\n}\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get()\\n  async create(@Query(new ValidationPipe()) createCatDto: CreateCatDto) {\\n    console.log(createCatDto)\\n  }\\n}\\n```\\n\\n## 7\u3001\u5168\u5c40\u8303\u56f4\u7684\u7ba1\u9053\\n\u7531\u4e8e ValidationPipe \u521b\u5efa\u7684\u5c3d\u53ef\u80fd\u901a\u7528\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5c06\u5176\u8bbe\u7f6e\u4e3a **\u5168\u5c40\u8303\u56f4\u7684** \u7ba1\u9053\u6765\u5b9e\u73b0\u5b83\u7684\u5b8c\u6574\u5b9e\u7528\u7a0b\u5e8f\uff0c\u4ee5\u4fbf\u5c06\u5176\u5e94\u7528\u4e8e\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u6bcf\u4e2a\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u3002\\n```typescript\\nasync function bootstrap() {\\n  const app = await NestFactory.create(AppModule);\\n  app.useGlobalPipes(new ValidationPipe());\\n  await app.listen(3000);\\n}\\n\\nbootstrap();\\n```\\n\\n## 8\u3001\u5185\u7f6e\u7684 ValidationPipe\\n\u63d0\u9192\u4e00\u4e0b\uff0c\u60a8\u4e0d\u5fc5\u81ea\u5df1\u6784\u5efa\u901a\u7528\u9a8c\u8bc1\u7ba1\u9053\uff0c\u56e0\u4e3a\u5b83 ValidationPipe \u662f\u7531 Nest \u5f00\u7bb1\u5373\u7528\u63d0\u4f9b\u7684\u3002\u5185\u7f6e ValidationPipe \u63d0\u4f9b\u4e86\u6bd4\u6211\u4eec\u5728\u672c\u7ae0\u4e2d\u6784\u5efa\u7684\u793a\u4f8b\u66f4\u591a\u7684\u9009\u9879\uff0c\u4e3a\u4e86\u8bf4\u660e\u5b9a\u5236\u7ba1\u9053\u7684\u673a\u5236\uff0c\u6211\u4eec\u4e00\u76f4\u4fdd\u6301\u57fa\u672c\u3002[\u60a8\u53ef\u4ee5\u5728\u6b64\u5904](https://docs.nestjs.com/techniques/validation)\u627e\u5230\u5b8c\u6574\u7684\u8be6\u7ec6\u4fe1\u606f\u4ee5\u53ca\u5927\u91cf\u793a\u4f8b\u3002","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/17-Circular-dependency.md","path":"/nodejs/04-nodejs-nestjs/17-Circular-dependency.md","route":"/nodejs/04-nodejs-nestjs/17-Circular-dependency.md","leaf":true,"title":"17-Circular-dependency","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\nforwardRef\\n\\n```typescript\\n@Injectable()\\nexport class CatsService {\\n  constructor(\\n    @Inject(forwardRef(() => CommonService))\\n    private commonService: CommonService,\\n  ) {}\\n}\\n```\\n\\n```typescript\\n@Injectable()\\nexport class CommonService {\\n  constructor(\\n    @Inject(forwardRef(() => CatsService))\\n    private catsService: CatsService,\\n  ) {}\\n}\\n```\\n","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/18-ModuleRef.md","path":"/nodejs/04-nodejs-nestjs/18-ModuleRef.md","route":"/nodejs/04-nodejs-nestjs/18-ModuleRef.md","leaf":true,"title":"18-ModuleRef","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n\u901a\u8fc7 ModuleRef \u6765\u67e5\u627e provider \u800c\u4e0d\u9700\u8981\u5728\u6784\u9020\u51fd\u6570\u4e2d\u4f9d\u8d56\u6ce8\u5165\\n\\n```typescript\\nimport { forwardRef, Inject, Injectable } from \\"@nestjs/common\\";\\nimport { ModuleRef } from \\"@nestjs/core\\";\\nimport { CommonService } from \\"./common.service\\";\\n\\n@Injectable()\\nexport class CatsService {\\n  constructor(\\n    // @Inject(forwardRef(() => CommonService))\\n    // private commonService: CommonService,\\n\\n    private moduleRef: ModuleRef,\\n  ) {\\n    \\n  }\\n\\n  test () {\\n    const s = this.moduleRef.get(CommonService)\\n    s.test()\\n  }\\n}\\n```\\n\\n```typescript\\nimport { forwardRef, Inject, Injectable } from \\"@nestjs/common\\";\\nimport { CatsService } from \\"./cats.service\\";\\n\\n@Injectable()\\nexport class CommonService {\\n  constructor(\\n    @Inject(forwardRef(() => CatsService))\\n    private catsService: CatsService,\\n  ) {}\\n\\n  test () {\\n    console.log(\'common\')\\n  }\\n}\\n```\\n","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/19-Context.md","path":"/nodejs/04-nodejs-nestjs/19-Context.md","route":"/nodejs/04-nodejs-nestjs/19-Context.md","leaf":true,"title":"19-Context","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n## 1\u3001ArgumentsHost\\n```typescript\\nexport interface ArgumentsHost {\\n  /**\\n   * Returns the array of arguments being passed to the handler.\\n   */\\n  getArgs<T extends Array<any> = any[]>(): T;\\n  /**\\n   * Returns a particular argument by index.\\n   * @param index index of argument to retrieve\\n   */\\n  getArgByIndex<T = any>(index: number): T;\\n  /**\\n   * Switch context to RPC.\\n   * @returns interface with methods to retrieve RPC arguments\\n   */\\n  switchToRpc(): RpcArgumentsHost;\\n  /**\\n   * Switch context to HTTP.\\n   * @returns interface with methods to retrieve HTTP arguments\\n   */\\n  switchToHttp(): HttpArgumentsHost;\\n  /**\\n   * Switch context to WebSockets.\\n   * @returns interface with methods to retrieve WebSockets arguments\\n   */\\n  switchToWs(): WsArgumentsHost;\\n  /**\\n   * Returns the current execution context type (string)\\n   */\\n  getType<TContext extends string = ContextType>(): TContext;\\n}\\n```\\n\\n```typescript\\nexport interface RpcArgumentsHost {\\n  /**\\n   * Returns the data object.\\n   */\\n  getData<T = any>(): T;\\n  /**\\n   * Returns the context object.\\n   */\\n  getContext<T = any>(): T;\\n}\\n```\\n\\n```typescript\\nexport interface HttpArgumentsHost {\\n  /**\\n   * Returns the in-flight `request` object.\\n   */\\n  getRequest<T = any>(): T;\\n  /**\\n   * Returns the in-flight `response` object.\\n   */\\n  getResponse<T = any>(): T;\\n  getNext<T = any>(): T;\\n}\\n```\\n\\n```typescript\\nexport interface WsArgumentsHost {\\n    /**\\n     * Returns the data object.\\n     */\\n    getData<T = any>(): T;\\n    /**\\n     * Returns the client object.\\n     */\\n    getClient<T = any>(): T;\\n}\\n```\\n\\n## 2\u3001ExecutionContext\\n```typescript\\nconst ctx = host.switchToHttp();\\nconst request = ctx.getRequest<Request>();\\nconst response = ctx.getResponse<Response>();\\n```\\n\\n### \u83b7\u53d6\u5f53\u524d controller\\n```typescript\\nexport interface ExecutionContext extends ArgumentsHost {\\n  /**\\n   * Returns the *type* of the controller class which the current handler belongs to.\\n   */\\n  getClass<T = any>(): Type<T>;\\n  /**\\n   * Returns a reference to the handler (method) that will be invoked next in the\\n   * request pipeline.\\n   */\\n  getHandler(): Function;\\n}\\n```\\n\\n### \u83b7\u53d6\u5f53\u524d getHandler\\n```typescript\\nexport interface ExecutionContext extends ArgumentsHost {\\n  /**\\n   * Returns the *type* of the controller class which the current handler belongs to.\\n   */\\n  getClass<T = any>(): Type<T>;\\n  /**\\n   * Returns a reference to the handler (method) that will be invoked next in the\\n   * request pipeline.\\n   */\\n  getHandler(): Function;\\n}\\n```\\n","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/20-bootstrap.md","path":"/nodejs/04-nodejs-nestjs/20-bootstrap.md","route":"/nodejs/04-nodejs-nestjs/20-bootstrap.md","leaf":true,"title":"20-bootstrap","depth":2,"content":"---\\ntags: nodejs-nestjs\\ncategories: NodeJS\\n---\\n\\n## 1\u3001\u6267\u884c\u987a\u5e8f\\n\u4e0b\u56fe\u63cf\u8ff0\u4e86\u5173\u952e\u5e94\u7528\u7a0b\u5e8f\u751f\u547d\u5468\u671f\u4e8b\u4ef6\u7684\u987a\u5e8f\uff0c\u4ece\u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\u5230\u8282\u70b9\u8fdb\u7a0b\u9000\u51fa\u3002\u6211\u4eec\u53ef\u4ee5\u5c06\u6574\u4e2a\u751f\u547d\u5468\u671f\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff1a\u521d\u59cb\u5316\u3001\u8fd0\u884c\u548c\u7ec8\u6b62\u3002\u4f7f\u7528\u6b64\u751f\u547d\u5468\u671f\uff0c\u60a8\u53ef\u4ee5\u8ba1\u5212\u6a21\u5757\u548c\u670d\u52a1\u7684\u9002\u5f53\u521d\u59cb\u5316\uff0c\u7ba1\u7406\u6d3b\u52a8\u8fde\u63a5\uff0c\u5e76\u5728\u6536\u5230\u7ec8\u6b62\u4fe1\u53f7\u65f6\u6b63\u5e38\u5173\u95ed\u5e94\u7528\u7a0b\u5e8f\u3002\\n\\n![20230606160440](http://s3.airtlab.com/blog/20230606160440.png)\\n\\n## 2\u3001\u94a9\u5b50\u51fd\u6570\\n\\n\u5728\u4e0b\u8868\u4e2d onModuleDestroy\uff0cbeforeApplicationShutdown \u548c onApplicationShutdown \u4ec5\u5728\u60a8\u663e\u5f0f\u8c03\u7528app.close() \u6216 \u8fdb\u7a0b\u63a5\u6536\u5230\u7279\u6b8a\u7cfb\u7edf\u4fe1\u53f7\uff08\u4f8b\u5982 SIGTERM\uff09\u5e76\u4e14\u60a8 enableShutdownHooks \u5728\u5e94\u7528\u7a0b\u5e8f\u5f15\u5bfc\u65f6\u6b63\u786e\u8c03\u7528\u65f6\u624d\u4f1a\u89e6\u53d1\\n\\n| \u751f\u547d\u5468\u671f\u94a9\u5b50\u65b9\u6cd5 | \u89e6\u53d1\u94a9\u5b50\u65b9\u6cd5\u8c03\u7528\u7684\u751f\u547d\u5468\u671f\u4e8b\u4ef6 |\\n| --- | --- |\\n| onModuleInit() | \u89e3\u6790\u4e3b\u673a\u6a21\u5757\u7684\u4f9d\u8d56\u5173\u7cfb\u540e\u8c03\u7528\u3002 |\\n| onApplicationBootstrap() | \u4e00\u65e6\u6240\u6709\u6a21\u5757\u90fd\u88ab\u521d\u59cb\u5316\uff0c\u4f46\u5728\u76d1\u542c\u8fde\u63a5\u4e4b\u524d\u8c03\u7528\u3002 |\\n| onModuleDestroy()* | \u5728\u63a5\u6536\u5230\u7ec8\u6b62\u4fe1\u53f7\uff08\u4f8b\u5982 \uff09\u540e\u8c03\u7528SIGTERM\u3002 |\\n| beforeApplicationShutdown()* | onModuleDestroy()\u5728\u6240\u6709\u5904\u7406\u7a0b\u5e8f\u5b8c\u6210\u540e\u8c03\u7528\uff08\u627f\u8bfa\u5df2\u89e3\u51b3\u6216\u88ab\u62d2\u7edd\uff09\uff1b\\n\u4e00\u65e6\u5b8c\u6210\uff08\u627f\u8bfa\u89e3\u51b3\u6216\u62d2\u7edd\uff09\uff0c\u6240\u6709\u73b0\u6709\u8fde\u63a5\u5c06\u88ab\u5173\u95ed\uff08app.close()\u8c03\u7528\uff09\u3002 |\\n| onApplicationShutdown()* | \u5728\u8fde\u63a5\u5173\u95ed\uff08app.close()\u89e3\u6790\uff09\u540e\u8c03\u7528\u3002 |\\n\\n### \u4f7f\u7528\u94a9\u5b50\\n```typescript\\nimport { Injectable, OnModuleInit } from \'@nestjs/common\';\\n\\n@Injectable()\\nexport class UsersService implements OnModuleInit {\\n  onModuleInit() {\\n    console.log(`The module has been initialized.`);\\n  }\\n}\\n```\\n\\n### \u5f02\u6b65\u903b\u8f91\\nOnModuleInit\u548c\u94a9\u5b50\u90fdOnApplicationBootstrap\u5141\u8bb8\u60a8\u5ef6\u8fdf\u5e94\u7528\u7a0b\u5e8f\u521d\u59cb\u5316\u8fc7\u7a0b\uff08\u5728\u65b9\u6cd5\u4e3b\u4f53\u4e2d\u8fd4\u56dePromise\u6216\u6807\u8bb0\u65b9\u6cd5async\u548cawait\u5f02\u6b65\u65b9\u6cd5\u5b8c\u6210\uff09\u3002\\n\\n```typescript\\nasync onModuleInit(): Promise<void> {\\n  await this.fetch();\\n}\\n```","isLeaf":true},{"key":"/nodejs/04-nodejs-nestjs/21-\u6d45\u8c08NestJS\u8bbe\u8ba1\u601d\u60f3.md","path":"/nodejs/04-nodejs-nestjs/21-\u6d45\u8c08NestJS\u8bbe\u8ba1\u601d\u60f3.md","route":"/nodejs/04-nodejs-nestjs/21-\u6d45\u8c08NestJS\u8bbe\u8ba1\u601d\u60f3.md","leaf":true,"title":"21-\u6d45\u8c08NestJS\u8bbe\u8ba1\u601d\u60f3","depth":2,"content":"https://justin3go.com/%E5%8D%9A%E5%AE%A2/2023/01/25%E6%B5%85%E8%B0%88NestJS%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3.html","isLeaf":true}]},{"key":"/nodejs/05-nodejs-prisma","path":"/nodejs/05-nodejs-prisma","route":"/nodejs/05-nodejs-prisma","leaf":false,"title":"05-nodejs-prisma","depth":1,"content":"","isLeaf":false,"children":[{"key":"/nodejs/05-nodejs-prisma/01-prisma-usage.md","path":"/nodejs/05-nodejs-prisma/01-prisma-usage.md","route":"/nodejs/05-nodejs-prisma/01-prisma-usage.md","leaf":true,"title":"01-prisma-usage","depth":2,"content":"## 1\u3001prisma \u7528\u6cd5\\n\\n- quick-start https://www.prisma.io/docs/getting-started/quickstart\\n- https://dev.to/inezabonte/setting-up-a-mysql-database-using-prisma-2869\\n- \u300a\u9762\u5411 Node.js \u548c TypeScript \u7684\u4e0b\u4e00\u4ee3 ORM \u5de5\u5177 Prisma\u300b https://www.justsoso.tech/default/prisma-without-foreignKey.html\\n\\n## 2\u3001prisma \u5de5\u7a0b\u521d\u59cb\u5316\\n\\n\u5047\u8bbe\u5df2\u7ecf\u5b58\u5728\u4e00\u4e2a\u76ee\u5f55\uff0c\u786e\u4fdd\u5b89\u88c5\u4e86 `typescript ts-node @types/node prisma`\\n\\n**\u521d\u59cb\u5316**\\n\\n```\\nnpx prisma init --datasource-provider mysql\\n```\\n\\n## 3\u3001prisma schema\\n\\n```prisma\\ngenerator client {\\n  provider = \\"prisma-client-js\\"\\n}\\n\\ndatasource db {\\n  provider = \\"mysql\\"\\n  url      = env(\\"DATABASE_URL\\")\\n}\\n\\nmodel user {\\n  id   Int     @id @default(autoincrement()) @db.UnsignedInt\\n  name String? @default(\\"\\") @db.VarChar(255)\\n}\\n\\nmodel post {\\n  id        Int     @id @default(autoincrement())\\n  title     String\\n  content   String?\\n  published Boolean @default(false)\\n  uid       Int\\n}\\n```\\n\\n## 4\u3001\u589e\u5220\u6539\u67e5\\n\\n### 1) create\\n\\n```ts\\nimport { PrismaClient } from \\"@prisma/client\\";\\n\\nconst prisma = new PrismaClient();\\n\\nasync function main() {\\n  const user = await prisma.user.create({\\n    data: {\\n      name: \\"Alice\\",\\n    },\\n  });\\n  console.log(user);\\n}\\n\\nmain()\\n  .then(async () => {\\n    await prisma.$disconnect();\\n  })\\n  .catch(async (e) => {\\n    console.error(e);\\n    await prisma.$disconnect();\\n    process.exit(1);\\n  });\\n```\\n\\n### 2) findMany\\n```ts\\nimport { PrismaClient } from \'@prisma/client\';\\n\\nconst prisma = new PrismaClient();\\n\\n// query\\nasync function main() {\\n  const users = await prisma.user.findMany({})\\n  console.log(users)\\n}\\n\\nmain()\\n  .then(async () => {\\n    await prisma.$disconnect();\\n  })\\n  .catch(async (e) => {\\n    console.error(e);\\n    await prisma.$disconnect();\\n    process.exit(1);\\n  });\\n\\n```\\n\\n### 3) create  with relation\\n\\n```ts\\nimport { PrismaClient } from \'@prisma/client\';\\n\\nconst prisma = new PrismaClient();\\n\\nasync function main() {\\n  const user = await prisma.user.create({\\n    data: {\\n      name: \'Bob\',\\n      post: {\\n        create: {\\n          title: \'Hello World\',\\n        },\\n      },\\n    },\\n  });\\n  console.log(user);\\n}\\n\\nmain()\\n  .then(async () => {\\n    await prisma.$disconnect();\\n  })\\n  .catch(async (e) => {\\n    console.error(e);\\n    await prisma.$disconnect();\\n    process.exit(1);\\n  });\\n\\n```\\n\\n### 4) query with relation\\n```ts\\nimport { PrismaClient } from \'@prisma/client\';\\n\\nconst prisma = new PrismaClient();\\n\\n// query\\nasync function main() {\\n  const users = await prisma.user.findMany({\\n    take: 10,\\n    skip: 1,\\n    include: {\\n      post: true\\n    },\\n  })\\n  console.dir(users, { depth: null })\\n}\\n\\nmain()\\n  .then(async () => {\\n    await prisma.$disconnect();\\n  })\\n  .catch(async (e) => {\\n    console.error(e);\\n    await prisma.$disconnect();\\n    process.exit(1);\\n  });\\n```\\n\\n### 5) logger\\n\\n```ts\\nimport { Prisma, PrismaClient } from \'@prisma/client\';\\n\\nconst prisma = new PrismaClient({\\n  log: [\'query\', \'error\', \'info\', \'warn\']\\n});\\n\\n\\n// query\\nasync function main() {\\n  const res = await prisma.$queryRaw(Prisma.sql`select * from user`);\\n  console.log(res)\\n\\n  const users = await prisma.user.findMany({\\n    take: 10,\\n    skip: 1,\\n    include: {\\n      post: true\\n    },\\n  })\\n  console.dir(users, { depth: null })\\n}\\n\\nmain()\\n  .then(async () => {\\n    await prisma.$disconnect();\\n  })\\n  .catch(async (e) => {\\n    console.error(e);\\n    await prisma.$disconnect();\\n    process.exit(1);\\n  });\\n\\n```\\n\\n### 6) $queryRaw\\n\\n```ts\\nimport { Prisma, PrismaClient } from \'@prisma/client\';\\n\\nconst prisma = new PrismaClient({\\n  log: [\'query\', \'error\', \'info\', \'warn\']\\n});\\n\\n// query\\nasync function main() {\\n  const res = await prisma.$queryRaw(Prisma.sql`select * from user`);\\n  console.log(res)\\n}\\n\\nmain()\\n  .then(async () => {\\n    await prisma.$disconnect();\\n  })\\n  .catch(async (e) => {\\n    console.error(e);\\n    await prisma.$disconnect();\\n    process.exit(1);\\n  });\\n```\\n\\n## 5\u3001prisma \u547d\u4ee4\\n\\n**\u521b\u5efa diff \u5e76\u4e14\u540c\u6b65\u5230\u8fdc\u7a0b db**\\n\\n```\\nnpx prisma migrate dev\\n```\\n\\n**\u5c06\u8fdc\u7a0b db \u7684\u7ed3\u6784\u540c\u6b65\u5230\u672c\u5730\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u672c\u5730\u4e00\u4e9b relation \u4e22\u5931**\\n\\n```\\nnpx prisma db pull\\n```\\n\\n**ddl diff**\\n\\n```\\nnpx prisma migrate diff \\\\\\n  --from-url \\"mysql://root:123456@localhost:3306/test\\"  \\\\\\n  --to-url \\"mysql://root:123456@localhost:3306/test_2\\" \\\\\\n  --script\\n```","isLeaf":true}]},{"key":"/nodejs/06-nodejs-scripts","path":"/nodejs/06-nodejs-scripts","route":"/nodejs/06-nodejs-scripts","leaf":false,"title":"06-nodejs-scripts","depth":1,"content":"","isLeaf":false,"children":[{"key":"/nodejs/06-nodejs-scripts/01-gen-dic-tree.md","path":"/nodejs/06-nodejs-scripts/01-gen-dic-tree.md","route":"/nodejs/06-nodejs-scripts/01-gen-dic-tree.md","leaf":true,"title":"01-gen-dic-tree","depth":2,"content":"---\\ntitle: 01 \u76ee\u5f55\u6811\u8f6c JSON\\ntoc: true\\ntags: nodejs-scripts\\ncategories: NodeJS\\n---\\n\\n```js\\nconst fs = require(\\"fs\\");\\nconst path = require(\\"path\\");\\n\\nconst rootPath = path.resolve(\\"/Users/user/Desktop/gaollard-blog/docs/pages\\");\\nconst rootNode = new Node(rootPath, rootPath, false);\\n\\nfunction Node(path, route, title, depth, leaf) {\\n  this.path = path;\\n  this.route = route;\\n  this.leaf = leaf;\\n  this.title = title;\\n  this.depth = depth;\\n  if (!this.leaf) {\\n    this.children = [];\\n  }\\n}\\n\\nfunction read(sPath, parent, depth) {\\n  const files = fs.readdirSync(sPath);\\n  files.forEach((file) => {\\n    const cPath = sPath + \\"/\\" + file;\\n    const stats = fs.statSync(cPath);\\n    const { name, ext } = path.parse(file);\\n\\n    if (stats.isDirectory()) {\\n      const node = new Node(\\n        cPath,\\n        cPath.replace(rootPath, \\"\\"),\\n        name,\\n        depth,\\n        false\\n      );\\n      parent.children.push(node);\\n      read(cPath, node, depth + 1);\\n    } else {\\n      if (ext == \'.md\') {\\n        const node = new Node(\\n          cPath,\\n          cPath.replace(rootPath, \\"\\"),\\n          name,\\n          depth,\\n          true\\n        );\\n        parent.children.push(node);\\n      }\\n    }\\n  });\\n}\\n\\nread(rootPath, rootNode, 0);\\n\\nfs.writeFileSync(\\"src/routes.json\\", JSON.stringify(rootNode.children));\\n\\nconsole.dir(rootNode, { depth: 6 });\\n```\\n\\n```json\\n[\\n   {\\n    \\"path\\": \\"docs/pages/android\\",\\n    \\"route\\": \\"/android\\",\\n    \\"leaf\\": false,\\n    \\"title\\": \\"android\\",\\n    \\"depth\\": 0,\\n    \\"children\\": [\\n      {\\n        \\"path\\": \\"docs/pages/android/01-use-javascriptcore.md\\",\\n        \\"route\\": \\"/android/01-use-javascriptcore.md\\",\\n        \\"leaf\\": true,\\n        \\"title\\": \\"01-use-javascriptcore\\",\\n        \\"depth\\": 1\\n      },\\n      {\\n        \\"path\\": \\"docs/pages/android/02-react-native.md\\",\\n        \\"route\\": \\"/android/02-react-native.md\\",\\n        \\"leaf\\": true,\\n        \\"title\\": \\"02-react-native\\",\\n        \\"depth\\": 1\\n      },\\n      {\\n        \\"path\\": \\"docs/pages/android/03-use-quickjs.md\\",\\n        \\"route\\": \\"/android/03-use-quickjs.md\\",\\n        \\"leaf\\": true,\\n        \\"title\\": \\"03-use-quickjs\\",\\n        \\"depth\\": 1\\n      }\\n    ]\\n  },\\n  {\\n    \\"path\\": \\"docs/pages/backend\\",\\n    \\"route\\": \\"/backend\\",\\n    \\"leaf\\": false,\\n    \\"title\\": \\"backend\\",\\n    \\"depth\\": 0,\\n    \\"children\\": [\\n      {\\n        \\"path\\": \\"docs/pages/backend/01-mysql\\",\\n        \\"route\\": \\"/backend/01-mysql\\",\\n        \\"leaf\\": false,\\n        \\"title\\": \\"01-mysql\\",\\n        \\"depth\\": 1,\\n        \\"children\\": [\\n          {\\n            \\"path\\": \\"docs/pages/backend/01-mysql/01-query-on-tcp.md\\",\\n            \\"route\\": \\"/backend/01-mysql/01-query-on-tcp.md\\",\\n            \\"leaf\\": true,\\n            \\"title\\": \\"01-query-on-tcp\\",\\n            \\"depth\\": 2\\n          },\\n          {\\n            \\"path\\": \\"docs/pages/backend/01-mysql/02-mysql-utilities.md\\",\\n            \\"route\\": \\"/backend/01-mysql/02-mysql-utilities.md\\",\\n            \\"leaf\\": true,\\n            \\"title\\": \\"02-mysql-utilities\\",\\n            \\"depth\\": 2\\n          },\\n          {\\n            \\"path\\": \\"docs/pages/backend/01-mysql/03-mysql-workbench.md\\",\\n            \\"route\\": \\"/backend/01-mysql/03-mysql-workbench.md\\",\\n            \\"leaf\\": true,\\n            \\"title\\": \\"03-mysql-workbench\\",\\n            \\"depth\\": 2\\n          },\\n          {\\n            \\"path\\": \\"docs/pages/backend/01-mysql/04-get-db-used-size.md\\",\\n            \\"route\\": \\"/backend/01-mysql/04-get-db-used-size.md\\",\\n            \\"leaf\\": true,\\n            \\"title\\": \\"04-get-db-used-size\\",\\n            \\"depth\\": 2\\n          },\\n          {\\n            \\"path\\": \\"docs/pages/backend/01-mysql/\u662f\u591a\u5927.md\\",\\n            \\"route\\": \\"/backend/01-mysql/\u662f\u591a\u5927.md\\",\\n            \\"leaf\\": true,\\n            \\"title\\": \\"\u662f\u591a\u5927\\",\\n            \\"depth\\": 2\\n          }\\n        ]\\n      },\\n      {\\n        \\"path\\": \\"docs/pages/backend/02-redis\\",\\n        \\"route\\": \\"/backend/02-redis\\",\\n        \\"leaf\\": false,\\n        \\"title\\": \\"02-redis\\",\\n        \\"depth\\": 1,\\n        \\"children\\": [\\n          {\\n            \\"path\\": \\"docs/pages/backend/02-redis/01-Failed-to-refresh-slots-cache.md\\",\\n            \\"route\\": \\"/backend/02-redis/01-Failed-to-refresh-slots-cache.md\\",\\n            \\"leaf\\": true,\\n            \\"title\\": \\"01-Failed-to-refresh-slots-cache\\",\\n            \\"depth\\": 2\\n          }\\n        ]\\n      }\\n    ]\\n  },\\n]\\n```","isLeaf":true},{"key":"/nodejs/06-nodejs-scripts/02-gen-dict-recursive.md","path":"/nodejs/06-nodejs-scripts/02-gen-dict-recursive.md","route":"/nodejs/06-nodejs-scripts/02-gen-dict-recursive.md","leaf":true,"title":"02-gen-dict-recursive","depth":2,"content":"---\\ntitle: 02 \u521b\u5efa\u591a\u5c42\u76ee\u5f55\\ntoc: true\\ntags: nodejs-scripts\\ncategories: NodeJS\\n---\\n\\n```js\\nconst fs = require(\\"fs\\");\\n\\nvar dir = \\"/Users/user/Desktop/gaollard-blog/t1/t2/t3.md\\";\\n\\nfunction createDir(dir, prev) {\\n  const list = dir.split(\\"/\\").filter((el) => el);\\n  const [first, ...arg] = list;\\n  const _dir = `${prev || \\"\\"}/${first}`;\\n\\n  try {\\n    const stat = fs.statSync(_dir);\\n  } catch (e) {\\n    fs.mkdirSync(_dir);\\n  }\\n\\n  if (arg.length) {\\n    createDir(arg.join(\\"/\\"), _dir);\\n  }\\n}\\n\\ncreateDir(dir);\\n```","isLeaf":true},{"key":"/nodejs/06-nodejs-scripts/03-check-dic-exist.md","path":"/nodejs/06-nodejs-scripts/03-check-dic-exist.md","route":"/nodejs/06-nodejs-scripts/03-check-dic-exist.md","leaf":true,"title":"03-check-dic-exist","depth":2,"content":"---\\ntitle: 03 \u68c0\u6d4b\u76ee\u5f55\u662f\u5426\u5b58\u5728\\ntoc: true\\ntags: nodejs-scripts\\ncategories: NodeJS\\n---\\n\\n```js\\nconst fs = require(\'fs\')\\nconst path = require(\'path\')\\nconst os = require(\'os\')\\n\\ntry {\\n  const rootPath = path.resolve(os.homedir(), \'yunqu1/docs\')\\n  const stat1 = fs.statSync(rootPath)\\n  console.log(stat1)\\n} catch (e) {\\n  // \u4e0d\u5b58\u5728\u4f1a\u62a5\u9519\\n  console.log(e)\\n}\\n```\\n\\n\u6216\u8005 \\n\\n```javascript\\nconst fs = require(\'fs\');\\nconst path = \'./my-directory\';\\n\\nif (fs.existsSync(path)) {\\n  console.log(\'\u76ee\u5f55\u5b58\u5728\');\\n} else {\\n  console.log(\'\u76ee\u5f55\u4e0d\u5b58\u5728\');\\n}\\n```","isLeaf":true}]},{"key":"/nodejs/07-nodejs-pm2","path":"/nodejs/07-nodejs-pm2","route":"/nodejs/07-nodejs-pm2","leaf":false,"title":"07-nodejs-pm2","depth":1,"content":"","isLeaf":false,"children":[{"key":"/nodejs/07-nodejs-pm2/pm2.md","path":"/nodejs/07-nodejs-pm2/pm2.md","route":"/nodejs/07-nodejs-pm2/pm2.md","leaf":true,"title":"pm2","depth":2,"content":"","isLeaf":true}]},{"key":"/nodejs/08-nodejs-graphql","path":"/nodejs/08-nodejs-graphql","route":"/nodejs/08-nodejs-graphql","leaf":false,"title":"08-nodejs-graphql","depth":1,"content":"","isLeaf":false,"children":[{"key":"/nodejs/08-nodejs-graphql/index.md","path":"/nodejs/08-nodejs-graphql/index.md","route":"/nodejs/08-nodejs-graphql/index.md","leaf":true,"title":"index","depth":2,"content":"## \u5b66\u4e60\u8d44\u6599\\n\u300a \u62c9\u94a9\u6559\u80b2  GraphQL \u6559\u7a0b\u300bhttps://www.bilibili.com/video/BV1fb4y117ya","isLeaf":true}]},{"key":"/nodejs/09-nodejs-grpc","path":"/nodejs/09-nodejs-grpc","route":"/nodejs/09-nodejs-grpc","leaf":false,"title":"09-nodejs-grpc","depth":1,"content":"","isLeaf":false,"children":[{"key":"/nodejs/09-nodejs-grpc/index.md","path":"/nodejs/09-nodejs-grpc/index.md","route":"/nodejs/09-nodejs-grpc/index.md","leaf":true,"title":"index","depth":2,"content":"## \u5b66\u4e60\u8d44\u6599\\nhttps://grpc.io/docs/languages/node/quickstart/","isLeaf":true}]},{"key":"/nodejs/10-nodejs-middleware","path":"/nodejs/10-nodejs-middleware","route":"/nodejs/10-nodejs-middleware","leaf":false,"title":"10-nodejs-middleware","depth":1,"content":"","isLeaf":false,"children":[{"key":"/nodejs/10-nodejs-middleware/01-body-parser.md","path":"/nodejs/10-nodejs-middleware/01-body-parser.md","route":"/nodejs/10-nodejs-middleware/01-body-parser.md","leaf":true,"title":"01-body-parser","depth":2,"content":"- \u9884\u5907\u77e5\u8bc6\uff1a\u719f\u6089 express \u7684\u4e2d\u95f4\u4ef6\u903b\u8f91\\n- \u9605\u8bfb\u65f6\u95f4\uff1a30min\\n\\n## 1. body-parser \u89e3\u51b3\u4ec0\u4e48\u95ee\u9898\\n\u5728 node http \u6a21\u5757\u4e2d\uff0c\u60a8\u53ea\u80fd\u901a\u8fc7 data \u4e8b\u4ef6\uff0c\u4ee5 buffer \u7684\u5f62\u5f0f\u6765\u83b7\u53d6\u8bf7\u6c42\u4f53\u5185\u5bb9\uff0cnode \u6ca1\u6709\u63d0\u4f9b\u5982\u4f55\u89e3\u6790\u8bf7\u6c42 body \u7684API\uff0c[body-parser](https://www.npmjs.com/package/body-parser) \u63d0\u4f9b\u4e86\u8fd9\u4e2a\u529f\u80fd\u3002\\n\\nbody-parser \u672c\u8d28\u662f\u4e00\u4e2a\u5904\u7406\u8bf7\u6c42 body \u7684\u4e2d\u95f4\u4ef6\u51fd\u6570\uff0c\u4ed6\u8d1f\u8d23\u6309\u7167\u60a8\u7ed9\u7684\u89c4\u5219\u89e3\u6790\u8bf7\u6c42body\uff0c\u5e76\u4e14\u5c06\u7ed3\u679c\u8d4b\u503c\u5230 req.body \u5c5e\u6027\u4e0a\u3002\\n\\n## 2. \u7b80\u5355\u7684\u4f7f\u7528 body-parser\\n```javascript\\nvar express = require(\'express\')\\nvar bodyParser = require(\'body-parser\')\\n \\nvar app = express()\\n \\n// parse application/x-www-form-urlencoded\\napp.use(bodyParser.urlencoded({ extended: false }))\\n \\n// parse application/json\\napp.use(bodyParser.json())\\n \\napp.use(function (req, res) {\\n  res.setHeader(\'Content-Type\', \'text/plain\')\\n  res.write(\'you posted:\\\\n\')\\n  \\n  // \u60a8\u53ef\u4ee5\u901a\u8fc7req.body \u6765\u8bbf\u95ee\u8bf7\u6c42\u4f53\u5185\u5bb9\\n  res.end(JSON.stringify(req.body, null, 2))\\n})\\n```\\n\\n\u901a\u8fc7\u8fd9\u4e2a\u4f8b\u5b50\u60a8\u53ef\u4ee5\u4e86\u89e3\u5230\u5982\u4f55\u7b80\u5355\u7684\u4f7f\u7528 body-parser\u3002\\n\\n## 3. \u6e90\u7801\u5206\u6790\\n\\n\u9996\u5148 bodyParser \u7684\u6e90\u7801\u7ed3\u6784\u5982\u4e0b\uff1a\\n\\n![20230605002602](http://s3.airtlab.com/blog/20230605002602.png)\\n\\n- index.js\uff1a\u5165\u53e3\u6587\u4ef6\\n- lib\uff1a\u6838\u5fc3\u65b9\u6cd5\\n   - types\uff1a\u8be5\u6587\u4ef6\u4e0b\u76844\u4e2a\u6587\u4ef6\uff0c\u5206\u522b\u7528\u4e8e\u89e3\u6790\u5bf9\u5e94\u76844\u4e2a\u7c7b\u578b\\n      - json.js\uff1a\u5c06body\u89e3\u6790\u4e3aJSON\u5bf9\u8c61\\n      - raw.js\\n      - text.js\uff1a\u5c06body\u89e3\u6790\u4e3a\u5b57\u7b26\u4e32\\n      - urlencoded.js\uff1a\u5c06\u8868\u5355\u6570\u636e(urlencoded\u7f16\u7801)\u89e3\u6790\u4e3aJSON\u5bf9\u8c61\\n   - read.js\uff1a\u8bfb\u53d6 body \u5185\u5bb9\\n\\n### 1. bodyParser\u7684\u5bfc\u51fa\u5f62\u5f0f\\n\\nbodyParser \u7684\u5b9a\u4e49\u5728 index.js\uff0c\u8fd9\u91cc\u7684\u903b\u8f91\u975e\u5e38\u6e05\u6670\uff1a\\n\\n- \u521b\u5efa\u4e00\u4e2a\u7528\u4e8e\u89e3\u6790 json \u548c urlencoded \u683c\u5f0f\u7684\u4e2d\u95f4\u4ef6\uff1abodyParser \u5e76\u5bfc\u51fa\\n- \u7ed9 bodyParser \u6dfb\u52a0 json/text/raw/urlencoded \u65b9\u6cd5\\n```javascript\\n\'use strict\'\\n\\nvar deprecate = require(\'depd\')(\'body-parser\')\\n\\n// \u7f13\u5b58 parser \\nvar parsers = Object.create(null)\\n\\n// \u5bfc\u51fa\u4e00\u4e2aFunction\\nexports = module.exports = deprecate.function(bodyParser,\\n  \'bodyParser: use individual json/urlencoded middlewares\')\\n\\n// JSON parser.\\nObject.defineProperty(exports, \'json\', {\\n  configurable: true,\\n  enumerable: true,\\n  get: createParserGetter(\'json\')\\n})\\n\\n// Raw parser.\\nObject.defineProperty(exports, \'raw\', {\\n  configurable: true,\\n  enumerable: true,\\n  get: createParserGetter(\'raw\')\\n})\\n\\n// Text parser.\\nObject.defineProperty(exports, \'text\', {\\n  configurable: true,\\n  enumerable: true,\\n  get: createParserGetter(\'text\')\\n})\\n\\n// URL-encoded parser.\\nObject.defineProperty(exports, \'urlencoded\', {\\n  configurable: true,\\n  enumerable: true,\\n  get: createParserGetter(\'urlencoded\')\\n})\\n\\n// \u521b\u5efa\u4e00\u4e2a\u7528\u4e8e\u89e3\u6790 json \u548c urlencoded \u683c\u5f0f\u7684\u4e2d\u95f4\u4ef6\\nfunction bodyParser (options) {\\n  var opts = {}\\n\\n  // exclude type option\\n  if (options) {\\n    for (var prop in options) {\\n      if (prop !== \'type\') {\\n        opts[prop] = options[prop]\\n      }\\n    }\\n  }\\n\\n  var _urlencoded = exports.urlencoded(opts)\\n  var _json = exports.json(opts)\\n\\n  return function bodyParser (req, res, next) {\\n    _json(req, res, function (err) {\\n      if (err) return next(err)\\n      _urlencoded(req, res, next)\\n    })\\n  }\\n}\\n\\n// Create a getter for loading a parser.\\nfunction createParserGetter (name) {\\n  return function get () {\\n    return loadParser(name)\\n  }\\n}\\n\\n// Load a parser module.\\nfunction loadParser (parserName) {\\n  var parser = parsers[parserName]\\n\\n  if (parser !== undefined) {\\n    return parser\\n  }\\n\\n  // this uses a switch for static require analysis\\n  switch (parserName) {\\n    case \'json\':\\n      parser = require(\'./lib/types/json\')\\n      break\\n    case \'raw\':\\n      parser = require(\'./lib/types/raw\')\\n      break\\n    case \'text\':\\n      parser = require(\'./lib/types/text\')\\n      break\\n    case \'urlencoded\':\\n      parser = require(\'./lib/types/urlencoded\')\\n      break\\n  }\\n\\n  // store to prevent invoking require()\\n  return (parsers[parserName] = parser)\\n}\\n\\n```\\n### 2. text \u89e3\u6790\u6d41\u7a0b\\n\\n\u5c06 body \u89e3\u6790\u975e\u5e38\u7b80\u5355\uff0c\u8fd9\u53ea\u9700\u8981\u5c06 buffer \u8f6c\u6362\u4e3a string \u5373\u53ef\u3002 \u6240\u4ee5\u4ece\u6700\u7b80\u5355 text parser \u5f00\u59cb\uff0c\u5176\u4ed6\u89e3\u6790\u5927\u4f53\u4e5f\u662f\u7c7b\u4f3c\u7684\uff0c\u4e3b\u8981\u533a\u522b\u5728\u4e8e\u5c06\u5b57\u7b26\u4e32\u89e3\u6790\u5230\u7279\u5b9a\u683c\u5f0f\u7684\u65b9\u6cd5\u3002\u6bd4\u5982\u5c06\u8868\u5355\u6570\u636e(urlencoded form) \u89e3\u6790\u4e3aJSON\u5bf9\u8c61\u3002\\n\\n\u73b0\u5728\u60a8\u5e0c\u671b\u5c06 text/plain \u7684\u8bf7\u6c42\u4f53\u89e3\u6790\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6e90\u7801\u662f\u8fd9\u6837\u7684\uff1a\\n\\n```javascript\\n// \u9ed8\u8ba4\u5c06 type \u4e3a text/plain \u89e3\u6790\u4e3a\u5b57\u7b26\u4e32\\nvar express = require(\'express\')\\nvar bodyParser = require(\'body-parser\')\\n \\nvar app = express()\\nvar port = 3000;\\n \\napp.use(bodyParser.text())\\n\\napp.post(\'/text\', (req, res) => res.send(req.body))\\n\\napp.listen(port, () => console.log(`\\\\nExample app listening on port ${port}!`))\\n```\\n\\n\u5f53\u6211\u4eec curl \u8fdb\u884c\u5982\u4e0b\u8bbf\u64cd\u4f5c\uff1a\\n\\n```bash\\n$ curl -d \\"hello\\" http://localhost:3000/text\\nhello\\n```\\n\\n\u8fd9\u80cc\u540e\u7684\u6d41\u7a0b\u662f\u600e\u6837\u7684\u5462\uff1f\\n\\n#### 1. bodyParser.text() \u4e2d\u95f4\u4ef6\\n\\n\u7531\u4e8e\u6211\u4eec\u4f7f\u7528 bodyParser.text() \u4e2d\u95f4\u4ef6\uff0c\u6240\u4ee5\u5f53\u8fdb\u884c\u4e0a\u8ff0\u8bbf\u95ee\u65f6\uff0c\u4f1a\u8bbf\u95ee\u5230 lib/types/text\uff0c\u6e90\u7801\u5982\u4e0b\uff1a\\n```javascript\\n\'use strict\'\\n\\nvar bytes = require(\'bytes\')\\nvar contentType = require(\'content-type\')\\nvar debug = require(\'debug\')(\'body-parser:text\')\\nvar read = require(\'../read\')\\nvar typeis = require(\'type-is\')\\n\\n// \u5bfc\u51fa text \u4e2d\u95f4\u4ef6\\nmodule.exports = text\\n\\n// text \u4e2d\u95f4\u4ef6 \u5b9a\u4e49\\nfunction text (options) {\\n  // option \u662f\u4f7f\u7528\u8be5\u4e2d\u95f4\u4ef6\u4f20\u5165\u7684\u9009\u9879\\n  var opts = options || {}\\n\\n\\t// \u83b7\u53d6\u5b57\u7b26\u96c6\\n  var defaultCharset = opts.defaultCharset || \'utf-8\'\\n \\n  // \u662f\u5426\u5904\u7406\u538b\u7f29\u7684body, true\u65f6body\u4f1a\u88ab\u89e3\u538b\uff0cfalse\u65f6body\u4e0d\u4f1a\u88ab\u5904\u7406\\n  var inflate = opts.inflate !== false\\n  \\n  // body\u5927\u5c0f\u9650\u5236\\n  var limit = typeof opts.limit !== \'number\'\\n    ? bytes.parse(opts.limit || \'100kb\')\\n    : opts.limit\\n  \\n  // \u9700\u8981\u5904\u7406\u7684 content-type \u7c7b\u578b\\n  var type = opts.type || \'text/plain\'\\n  \\n  // \u7528\u6237\u81ea\u5b9a\u4e49\u7684\u6821\u9a8c\u51fd\u6570\uff0c\u82e5\u63d0\u4f9b\u5219\u4f1a\u88ab\u8c03\u7528verify(req, res, buf, encoding)\\n  var verify = opts.verify || false\\n\\n  if (verify !== false && typeof verify !== \'function\') {\\n    throw new TypeError(\'option verify must be function\')\\n  }\\n\\n  // create the appropriate type checking function\\n  var shouldParse = typeof type !== \'function\'\\n    ? typeChecker(type)\\n    : type\\n\\t\\n  // \u8fd9\u91cc\u662f\u6838\u5fc3, \u4e0d\u540c\u7684\u89e3\u6790\u5668\u6709\u4e0d\u540c\u7684\u5904\u7406\u65b9\u5f0f\\n  // text parse \u5f88\u7b80\u5355\u662f\u56e0\u4e3a\u5b83\u5565\u4e5f\u4e0d\u9700\u8981\u5e72\\n  function parse (buf) {\\n    return buf\\n  }\\n\\n  return function textParser (req, res, next) {\\n    // \u5f53\u6211\u4eec\u8fdb\u884c POST \u8bf7\u6c42\u65f6 textParser \u4e2d\u95f4\u4ef6\u4f1a\u88ab\u8c03\u7528\\n    // \u8fd9\u91cc\u5148\u5224\u65ad body \u662f\u5426\u5df2\u7ecf\u89e3\u6790\u8fc7\u4e86\uff0c\u4e0b\u6e38\u4f1a\u8bbe\u7f6e\u4e3a true\\n    if (req._body) {\\n      debug(\'body already parsed\')\\n      next()\\n      return\\n    }\\n\\n    req.body = req.body || {}\\n\\t\\t\\n    // \u6ca1\u6709\u8bf7\u6c42\u4f53\u65f6\u4e0d\u5904\u7406\\n    // skip requests without bodies\\n    if (!typeis.hasBody(req)) {\\n      debug(\'skip empty body\')\\n      next()\\n      return\\n    }\\n\\n    debug(\'content-type %j\', req.headers[\'content-type\'])\\n\\n    // determine if request should be parsed\\n    if (!shouldParse(req)) {\\n      debug(\'skip parsing\')\\n      next()\\n      return\\n    }\\n\\n    // get charset\\n    var charset = getCharset(req) || defaultCharset\\n\\n    // read\\n    read(req, res, next, parse, debug, {\\n      encoding: charset,\\n      inflate: inflate,\\n      limit: limit,\\n      verify: verify\\n    })\\n  }\\n}\\n\\n// \u83b7\u53d6\u8bf7\u6c42\u5b57\u7b26\u96c6\\nfunction getCharset (req) {\\n  try {\\n    return (contentType.parse(req).parameters.charset || \'\').toLowerCase()\\n  } catch (e) {\\n    return undefined\\n  }\\n}\\n\\n// content-type \u68c0\u6d4b\\nfunction typeChecker (type) {\\n  return function checkType (req) {\\n    return Boolean(typeis(req, type))\\n  }\\n}\\n\\n// \u5224\u65ad\u662f\u5426\u5305\u542b\u8bf7\u6c42\u4f53(\u8fd9\u4e2a\u51fd\u6570\u662f\u4ecetype-is\u5305\u590d\u5236\u51fa\u6765\u7684)\\nfunction hasbody (req) {\\n  return req.headers[\'transfer-encoding\'] !== undefined ||\\n    !isNaN(req.headers[\'content-length\'])\\n}\\n```\\n\u5927\u6982\u6d41\u7a0b\u5982\u4e0b\uff1a\\n\\n- \u4f7f\u7528 app.use \u4f7f\u7528\u4e2d\u95f4\u4ef6\\n- \u5ba2\u6237\u7aef\u53d1\u8d77 POST \u8bf7\u6c42\\n- \u8fdb\u5165 textParser \u4e2d\u95f4\u4ef6\\n   - \u5224\u65ad\u662f\u5426\u5df2\u7ecf\u89e3\u6790\u8fc7(req._body = true)\\n   - \u5224\u65ad\u8bf7\u6c42\u662f\u5426\u5305\u542b\u8bf7\u6c42\u4f53\\n   - \u5224\u65ad\u8bf7\u6c42\u4f53\u7c7b\u578b\u662f\u5426\u9700\u8981\u5904\u7406\\n   - \u8bfb\u53d6\u8bf7\u6c42\u4f53\uff0c\u89e3\u6790\u5e76\u8bbe\u7f6e req.body &&  req._body = true\\n- \u8fdb\u5165 read \u4e2d\u95f4\u4ef6(\u8bfb\u53d6\u8bf7\u6c42\u4f53\uff0c\u89e3\u6790\u5e76\u8bbe\u7f6e req.body &&  req._body = true)\\n\\n#### 2. read() \u4e2d\u95f4\u4ef6(lib/read.js)\\n\\nlib/types \u4e0b\u76844\u4e2a\u6587\u4ef6\uff0c\u6700\u7ec8\u90fd\u4f1a\u8bbf\u95ee lib/read.js\uff0c\u5f62\u5f0f\u5982\u4e0b\uff1a\\n\\n```javascript\\nread(req, res, next, parse, debug, {\\n  encoding: charset,\\n  inflate: inflate,\\n  limit: limit,\\n  verify: verify\\n})\\n```\\n\\n\u73b0\u5728\u6211\u4eec\u6765\u770b\u4e0b lib/read.js \u6e90\u7801\uff1a\\n\\n```javascript\\n\'use strict\'\\n\\nvar createError = require(\'http-errors\')\\nvar getBody = require(\'raw-body\')\\nvar iconv = require(\'iconv-lite\')\\nvar onFinished = require(\'on-finished\')\\nvar zlib = require(\'zlib\')\\n\\nmodule.exports = read\\n\\nfunction read (req, res, next, parse, debug, options) {\\n  var length\\n  var opts = options\\n  var stream\\n\\n  // parsed flag, \u4e0a\u6e38\u670d\u52a1\u6709\u505a\u5224\u65ad\\n  req._body = true\\n\\n  // read options\\n  var encoding = opts.encoding !== null\\n    ? opts.encoding\\n    : null\\n  var verify = opts.verify\\n\\n  try {\\n    // get the content stream\\n    stream = contentstream(req, debug, opts.inflate)\\n    length = stream.length\\n    stream.length = undefined\\n  } catch (err) {\\n    return next(err)\\n  }\\n\\n  // set raw-body options\\n  opts.length = length\\n  opts.encoding = verify\\n    ? null\\n    : encoding\\n\\n  // assert charset is supported\\n  if (opts.encoding === null && encoding !== null && !iconv.encodingExists(encoding)) {\\n    return next(createError(415, \'unsupported charset \\"\' + encoding.toUpperCase() + \'\\"\', {\\n      charset: encoding.toLowerCase(),\\n      type: \'charset.unsupported\'\\n    }))\\n  }\\n\\n  // read body\\n  debug(\'read body\')\\n  // getBody \u51fd\u6570\u7528\u4e8e\u4ece stream \u4e2d\u8bfb\u53d6\u5185\u5bb9\\n  getBody(stream, opts, function (error, body) {\\n    if (error) {\\n      // \u5f02\u5e38\u5904\u7406\\n      var _error\\n      if (error.type === \'encoding.unsupported\') {\\n        // echo back charset\\n        _error = createError(415, \'unsupported charset \\"\' + encoding.toUpperCase() + \'\\"\', {\\n          charset: encoding.toLowerCase(),\\n          type: \'charset.unsupported\'\\n        })\\n      } else {\\n        // set status code on error\\n        _error = createError(400, error)\\n      }\\n\\n      // read off entire request\\n      stream.resume()\\n      onFinished(req, function onfinished () {\\n        next(createError(400, _error))\\n      })\\n      return\\n    }\\n\\n    // \u7528\u6237\u81ea\u5b9a\u4e49\u6821\u9a8c\u51fd\u6570 verify\\n    if (verify) {\\n      try {\\n        debug(\'verify body\')\\n        verify(req, res, body, encoding)\\n      } catch (err) {\\n        next(createError(403, err, {\\n          body: body,\\n          type: err.type || \'entity.verify.failed\'\\n        }))\\n        return\\n      }\\n    }\\n\\n    var str = body\\n    try {\\n      debug(\'parse body\')\\n      // \u5982\u679cbody\u4e0d\u662f\u5b57\u7b26\u7c7b\u578b\u800c\u4e14\u8bbe\u7f6e\u4e86encoding\uff0c\u90a3\u4e48\u9700\u8981\u91cd\u65b0\u89e3\u7801 \\n      str = typeof body !== \'string\' && encoding !== null\\n        ? iconv.decode(body, encoding)\\n        : body\\n     \\t\\n      // \u8fd9\u91cc\u4e0d\u540c\u89e3\u6790\u5668\uff0c\u4f1a\u4f20\u5165\u4e0d\u540c parse\\n      req.body = parse(str)\\n    } catch (err) {\\n      next(createError(400, err, {\\n        body: str,\\n        type: err.type || \'entity.parse.failed\'\\n      }))\\n      return\\n    }\\n\\n    next()\\n  })\\n}\\n\\n// \u83b7\u53d6\u8bf7\u6c42\u4f53 stream\\n// 1. \u83b7\u53d6\u538b\u7f29\u7f16\u7801\u683c\u5f0f\uff0c\u5982\u679c\u6709\u538b\u7f29\u9700\u8981\u5148\u89e3\u538b\\n// 2. \u8fd4\u56de stream\\nfunction contentstream (req, debug, inflate) {\\n  var encoding = (req.headers[\'content-encoding\'] || \'identity\').toLowerCase()\\n  var length = req.headers[\'content-length\']\\n  var stream\\n\\n  debug(\'content-encoding \\"%s\\"\', encoding)\\n\\n  if (inflate === false && encoding !== \'identity\') {\\n    throw createError(415, \'content encoding unsupported\', {\\n      encoding: encoding,\\n      type: \'encoding.unsupported\'\\n    })\\n  }\\n\\n  switch (encoding) {\\n    case \'deflate\':\\n      stream = zlib.createInflate()\\n      debug(\'inflate body\')\\n      req.pipe(stream)\\n      break\\n    case \'gzip\':\\n      stream = zlib.createGunzip()\\n      debug(\'gunzip body\')\\n      req.pipe(stream)\\n      break\\n    case \'identity\':\\n      stream = req\\n      stream.length = length\\n      break\\n    default:\\n      throw createError(415, \'unsupported content encoding \\"\' + encoding + \'\\"\', {\\n        encoding: encoding,\\n        type: \'encoding.unsupported\'\\n      })\\n  }\\n\\n  return stream\\n}\\n```\\n\\n## 4. \u4e00\u4e9b\u7591\u95ee\\n\\n### 1. \u4e3a\u4ec0\u4e48\u8981\u5bf9 charset \u8fdb\u884c\u5904\u7406\\n\u5176\u5b9e\u672c\u8d28\u4e0a\u6765\u8bf4\uff0ccharset\u524d\u7aef\u4e00\u822c\u90fd\u662f\u56fa\u5b9a\u4e3autf-8\u7684\uff0c \u751a\u81f3\u5728JQuery\u7684AJAX\u8bf7\u6c42\u4e2d\uff0c\u524d\u7aef\u8bf7\u6c42charset\u751a\u81f3\u662f\u4e0d\u53ef\u66f4\u6539\uff0c\u53ea\u80fd\u662fcharset\uff0c\u4f46\u662f\u5728\u4f7f\u7528fetch\u7b49API\u7684\u65f6\u5019\uff0c\u7684\u786e\u662f\u53ef\u4ee5\u66f4\u6539charset\u7684\uff0c\u8fd9\u4e2a\u5de5\u4f5c\u5c1d\u8bd5\u6ee1\u8db3\u4e00\u4e9b\u6bd4\u8f83\u504f\u50fb\u7684\u66f4\u6539charset\u9700\u6c42\u3002\\n\\n### 2. \u4e3a\u4ec0\u4e48\u8981\u5bf9 content-encoding \u505a\u5904\u7406\\n\u4e00\u822c\u60c5\u51b5\u4e0b\u6211\u4eec\u8ba4\u4e3a\uff0c\u8003\u8651\u5230\u524d\u7aef\u53d1\u7684AJAX\u4e4b\u7c7b\u7684\u8bf7\u6c42\u7684\u6570\u636e\u91cf\uff0c\u662f\u4e0d\u9700\u8981\u505aGzip\u538b\u7f29\u7684\u3002\u4f46\u662f\u5411\u670d\u52a1\u5668\u53d1\u8d77\u8bf7\u6c42\u7684\u4e0d\u4e00\u5b9a\u53ea\u6709\u524d\u7aef\uff0c\u8fd8\u53ef\u80fd\u662fNode\u7684\u5ba2\u6237\u7aef\u3002\u8fd9\u4e9bNode\u5ba2\u6237\u7aef\u53ef\u80fd\u4f1a\u5411Node\u670d\u52a1\u7aef\u4f20\u9001\u538b\u7f29\u8fc7\u540e\u7684\u6570\u636e\u6d41\u3002\xa0\u4f8b\u5982\u4e0b\u9762\u7684\u4ee3\u7801\u6240\u793a:\\n\\n```javascript\\nconst zlib = require(\'zlib\');\\nconst request = require(\'request\');\\nconst data = zlib.gzipSync(Buffer.from(\\"\u6211\u662f\u4e00\u4e2a\u88abGzip\u538b\u7f29\u540e\u7684\u6570\u636e\\"));\\nrequest({\\n    method: \'POST\',\\n    url: \'http://127.0.0.1:3000/post\',\\n    headers: {//\u8bbe\u7f6e\u8bf7\u6c42\u5934\\n        \\"Content-Type\\": \\"text/plain\\",\\n        \\"Content-Encoding\\": \\"gzip\\"\\n    },\\n    body: data\\n})\\n```\\n\\n## 5. \u53c2\u8003\u4ee5\u53ca\u5ef6\u4f38\\n\\n- npm bodyParser [https://www.npmjs.com/package/body-parser#bodyparsertextoptions](https://www.npmjs.com/package/body-parser#bodyparsertextoptions)\\n- npm iconv-lite \u7eafJS\u7f16\u7801\u8f6c\u6362\u5668\\n- npm raw-body \u4ee5buffer\u6216\u8005string\u7684\u65b9\u5f0f\u83b7\u53d6\u4e00\u4e2a\u53ef\u8bfb\u6d41\u7684\u5168\u90e8\u5185\u5bb9\uff0c\u5e76\u4e14\u53ef\u6821\u9a8c\u957f\u5ea6\\n- bodyparser \u5b9e\u73b0\u539f\u7406\u89e3\u6790(\u8fd9\u7bc7\u6587\u7ae0\u56de\u7b54\u4e86\u6211\u4e0a\u8ff02\u4e2a\u7591\u95ee) [https://zhuanlan.zhihu.com/p/78482006](https://zhuanlan.zhihu.com/p/78482006)\\n","isLeaf":true}]},{"key":"/nodejs/11-nodejs-coverage","path":"/nodejs/11-nodejs-coverage","route":"/nodejs/11-nodejs-coverage","leaf":false,"title":"11-nodejs-coverage","depth":1,"content":"","isLeaf":false,"children":[{"key":"/nodejs/11-nodejs-coverage/01-coverage-intro.md","path":"/nodejs/11-nodejs-coverage/01-coverage-intro.md","route":"/nodejs/11-nodejs-coverage/01-coverage-intro.md","leaf":true,"title":"01-coverage-intro","depth":2,"content":"---\\ntags: nodejs-coverage\\n---\\n\\n## 1\u3001\u8986\u76d6\u7387\u4ecb\u7ecd\\n\\n\u4ee3\u7801\u8986\u76d6\u7387\u6d4b\u8bd5\u662f\u4e00\u79cd\u8f6f\u4ef6\u6d4b\u8bd5\u6280\u672f\uff0c\u7528\u4e8e\u6d4b\u91cf\u5728\u6267\u884c\u6d4b\u8bd5\u7528\u4f8b\u96c6\u5408\u671f\u95f4\u7a0b\u5e8f\u7684\u6e90\u4ee3\u7801\u7684\u767e\u5206\u6bd4\u3002\\n\\n\u5b83\u8bc4\u4f30\u4e86\u6d4b\u8bd5\u7528\u4f8b\u5bf9\u4ee3\u7801\u5e93\u7684\u8986\u76d6\u7387\uff0c\u5373\u5b83\u6d4b\u91cf\u4e86\u7f16\u5199\u7684\u6d4b\u8bd5\u7528\u4f8b\u4e2d\u6709\u591a\u5c11\u884c\u3001\u5206\u652f\u6216\u8bed\u53e5\u88ab\u6267\u884c\u8fc7\u3002\\n\\n\u6d4b\u8bd5\u7684\u76ee\u6807\u5c31\u662f\u5c3d\u53ef\u80fd\u591a\u7684\u6267\u884c\u4ee3\u7801\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u6392\u9664\u6f5c\u5728\u7684\u9519\u8bef\u548c\u6f0f\u6d1e\u3002\\n\\n\u901a\u8fc7\u4ee3\u7801\u8986\u76d6\u7387\u6d4b\u8bd5\u53ef\u4ee5\u786e\u5b9a\u4ee3\u7801\u5e93\u7684\u8d28\u91cf\uff0c\u5e76\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u5728\u6d4b\u8bd5\u5b8c\u6210\u540e\u8fdb\u884c\u4ee3\u7801\u8c03\u6574\u6216\u4f18\u5316\u3002\u4ee3\u7801\u8986\u76d6\u7387\u6d4b\u8bd5\u8fd8\u53ef\u4ee5\u786e\u4fdd\u6bcf\u884c\u4ee3\u7801\u90fd\u81f3\u5c11\u88ab\u6267\u884c\u4e86\u4e00\u6b21\uff0c\u8fd9\u53ef\u4ee5\u964d\u4f4e\u8f6f\u4ef6\u9519\u8bef\u548c\u7f3a\u9677\u7684\u98ce\u9669\uff0c\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u9760\u6027\u3002\\n\\n## 2\u3001\u8986\u76d6\u7387\u6307\u6807\\n\\n\u4ee5\u4e0b\u662f\u51e0\u4e2a\u8986\u76d6\u7387\u6307\u6807\uff1a\\n\\n- \u51fd\u6570\u8986\u76d6\u7387\uff08Function coverage\uff09\uff1a\u8c03\u7528\u5230\u7a0b\u5f0f\u4e2d\u7684\u6bcf\u4e00\u4e2aFunction\u5417\uff1f\\n- \u884c\u8986\u76d6\u7387\uff08Line coverage)\uff1a\u6267\u884c\u5230\u7a0b\u5e8f\u4e2d\u7684\u6bcf\u4e00\u884c\u4e86\u5417\uff1f\\n- \u8bed\u53e5\u8986\u76d6\u7387\uff08Statement coverage\uff09\uff1a\u82e5\u7528\u63a7\u5236\u6d41\u56fe\u8868\u793a\u7a0b\u5e8f\uff0c\u6267\u884c\u5230\u63a7\u5236\u6d41\u56fe\u4e2d\u7684\u6bcf\u4e00\u4e2a\u8282\u70b9\u4e86\u5417\uff1f\\n- \u5206\u652f\u8986\u76d6\u7387\uff08Branches coverage\uff09\uff1a\u82e5\u7528\u63a7\u5236\u6d41\u56fe\u8868\u793a\u7a0b\u5f0f\uff0c\u6267\u884c\u5230\u63a7\u5236\u6d41\u56fe\u4e2d\u7684\u6bcf\u4e00\u6761\u8fb9\u5417\uff1f\u4f8b\u5982\u63a7\u5236\u7ed3\u6784\u4e2d\u6240\u6709IF\u6307\u4ee4\u90fd\u6709\u6267\u884c\u5230\u903b\u8f91\u8fd0\u7b97\u5f0f\u6210\u7acb\u53ca\u4e0d\u6210\u7acb\u7684\u60c5\u5f62\u5417\uff1f\\n- \u6761\u4ef6\u8986\u76d6\u7387\uff08Condition coverage\uff09\uff1a\u4e5f\u79f0\u4e3a\u8c13\u8bcd\u8986\u76d6\uff08predicate coverage\uff09\uff0c\u6bcf\u4e00\u4e2a\u903b\u8f91\u8fd0\u7b97\u5f0f\u4e2d\u7684\u6bcf\u4e00\u4e2a\u6761\u4ef6\uff08\u65e0\u6cd5\u518d\u5206\u89e3\u7684\u903b\u8f91\u8fd0\u7b97\u5f0f\uff09\u662f\u5426\u90fd\u6709\u6267\u884c\u5230\u6210\u7acb\u53ca\u4e0d\u6210\u7acb\u7684\u60c5\u5f62\u5417\uff1f\\n  \\n\u5bf9\u6307\u6807\u7684\u504f\u597d\u53ef\u8bf4\u662f\u89c1\u4ec1\u89c1\u667a\uff0c\u6bd4\u5982\u5927\u540d\u9f0e\u9f0e\u7684 coveralls.io \u5c31\u4ee5\u884c\u8986\u76d6\u7387 (Line coverage) \u4f5c\u4e3a\u7ed9\u9879\u76ee\u9881\u53d1badge\u7684\u9996\u9009\u6307\u6807\u3002\\n\\n\u6211\u4eec\u9700\u8981\u7684\uff0c\u662f\u4e00\u4e2a\u80fd\u6839\u636e\u6d4b\u8bd5\u7528\u4f8b\u5f97\u51fa\u8986\u76d6\u7387\u6307\u6807\u7684\u5de5\u5177\u3002\\n\\n## 3\u3001\u4ee3\u7801\u8986\u76d6\u7387\u6570\u636e\u6536\u96c6\\n\\n\u5728\u7a0b\u5e8f\u6267\u884c\u5230\u67d0\u4e2a\u6267\u884c\u5355\u5143\u65f6\uff0c\u6536\u96c6\u5176\u4ee3\u7801\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\u6240\u5728\u6587\u4ef6\u3001\u884c\u3001\u5217\uff0c\u4e0a\u62a5\u5230\u6570\u636e\u4e2d\u5fc3\u3002\\n\\n## 4\u3001\u6570\u636e\u6536\u96c6\u5b9e\u73b0\u539f\u7406\\n\\n\u4e0d\u540c\u8bed\u8a00\u7684\u8986\u76d6\u7387\u6536\u96c6\uff0c\u5728\u5b9e\u73b0\u673a\u5236\u751a\u81f3\u8bed\u6cd5\u89c4\u8303\u5c42\u9762\u90fd\u5927\u540c\u5c0f\u5f02\u3002\u5148\u5c06\u7279\u5b9a\u7684\u6807\u8bb0\u6309\u7167\u4e00\u5b9a\u89c4\u5219\u63d2\u5165\u5230\u4ee3\u7801\u884c\u4e2d\uff0c\u8fd9\u4e00\u6b65\u6211\u4eec\u79f0\u4e3a\u201c\u4ee3\u7801\u63d2\u6869\u201c\uff0c\u7136\u540e\u5728\u6267\u884c case \u7684\u8fc7\u7a0b\u4e2d\u6536\u96c6\u8fd9\u4e9b\u6807\u8bb0\u7684\u6267\u884c\u60c5\u51b5\uff0c\u6700\u7ec8\u8ba1\u7b97\u8f93\u51fa\u8986\u76d6\u7387\u7136\u540e\u683c\u5f0f\u5316\u8f93\u51fa\u7ed3\u679c\u3002\u5927\u4f53\u6d41\u7a0b\u5982\u56fe\u6240\u793a\uff1a\\n\\n![20230615100458](http://s3.airtlab.com/blog/20230615100458.png)\\n\\n### 1. \u4ee3\u7801\u63d2\u6869\\n\\n\u4ee3\u7801\u63d2\u6869\u662f\u8986\u76d6\u7387\u6536\u96c6\u7684\u524d\u63d0\uff0c\u8fd9\u4e00\u6b65\u4e3b\u8981\u662f\u5bf9\u73b0\u6709\u4ee3\u7801\u8fdb\u884c\u8bed\u6cd5\u5c42\u9762\u7684\u5206\u6790\uff0c\u5e76\u5728\u884c\u5185\u6307\u5b9a\u7684\u4f4d\u7f6e\u52a0\u5165\u9884\u8bbe\u6807\u8bb0\u3002\u54b1\u4eec\u901a\u8fc7\u4e00\u6bb5\u4ee3\u7801\u770b\u4e0b\u5904\u7406\u524d\u540e\u7684\u5bf9\u6bd4\uff1a\\n\\n**\u6e90\u6587\u4ef6**\\n![20230615100657](http://s3.airtlab.com/blog/20230615100657.png)\\n\\n**\u63d2\u6869\u540e\u6587\u4ef6**\\n![20230615100719](http://s3.airtlab.com/blog/20230615100719.png)\\n\\n## 5\u3001nodejs \u65b9\u6848\u8c03\u7814\\n\\n### 5.1 istanbuljs\\n\\nistanbuljs\uff08\u4e5f\u79f0\u4e3aIstanbul\uff09\u662fJavaScript\u6d4b\u8bd5\u8986\u76d6\u7387\u5de5\u5177\uff0c\u7528\u4e8e\u6d4b\u91cf\u5728\u8fd0\u884c\u6d4b\u8bd5\u65f6\u88ab\u6d4bJavaScript\u4ee3\u7801\u7684\u4ee3\u7801\u8986\u76d6\u7387\u3002istanbul\u53ef\u7528\u4e8e\u5404\u79cd\u7528\u4f8b\uff0c\u5305\u62ec\u524d\u7aef\u548c\u540e\u7aefJavaScript\u4ee3\u7801\u5e93\uff0c\u4f8b\u5982Node.js\u7b49\u3002\\n \\n\u4f7f\u7528istanbuljs\uff0c\u53ef\u4ee5\u4e86\u89e3\u6bcf\u4e2afunction\u3001branch\u548cline\u7684\u4ee3\u7801\u8986\u76d6\u7387\u7387\u60c5\u51b5\u3002istanbuljs \u652f\u6301\u4f7f\u7528\u547d\u4ee4\u884c\u3001\u914d\u7f6e\u6587\u4ef6\u6216API\u8bbe\u7f6e\u548c\u8fd0\u884c\u6d4b\u8bd5\u8986\u76d6\u7387\u3002\u6b64\u5916\uff0cistanbul\u8fd8\u63d0\u4f9b\u4e86\u7528\u4e8e\u751f\u6210\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a\u7684\u9009\u9879\u548c\u63d2\u4ef6\uff0c\u53ef\u4ee5\u751f\u6210\u5404\u79cd\u683c\u5f0f\u7684\u62a5\u544a\uff0c\u5982HTML\u3001\u6587\u672c\u7b49\uff0c\u4ee5\u65b9\u4fbf\u5f00\u53d1\u4eba\u5458\u9605\u8bfb\u548c\u5206\u6790\u6d4b\u8bd5\u7ed3\u679c\u3002\\n\\n\u4f7f\u7528 istanbul \u6709\u52a9\u4e8e\u63d0\u9ad8\u4ee3\u7801\u5e93\u7684\u8d28\u91cf\uff0c\u786e\u4fdd\u4ee3\u7801\u5e93\u7684\u6bcf\u4e2a\u90e8\u5206\u90fd\u5f97\u5230\u8986\u76d6\uff0c\u4ece\u800c\u51cf\u5c11\u6f5c\u5728\u7684\u6f0f\u6d1e\u548c\u9519\u8bef\u3002\\n\\n`istanbuljs` \u5305\u542b\u4e00\u4e9b\u6838\u5fc3\u5305\uff0c\u4ee5 monorepo \u7684\u65b9\u5f0f\u8fdb\u884c\u4ee3\u7801\u7ec4\u7ec7\uff1a\\n\\n![20230615102955](http://s3.airtlab.com/blog/20230615102955.png)\\n\\n\u652f\u6301\u591a\u79cd\u65b9\u5f0f\u7684\u4f7f\u7528\uff1a\\n- cli \u6bd4\u5982 `istanbul cover simple.js`\\n- babel \u501f\u52a9 [babel-plugin-istanbul](https://github.com/istanbuljs/babel-plugin-istanbul)\\n\\n### 5.2 Coveralls\\nCoveralls \u662f\u4e00\u4e2a\u5728\u7ebf\u7684\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a\u670d\u52a1\uff0c\u5b83\u80fd\u591f\u5c06\u4f60\u9879\u76ee\u4e2d\u7684\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a\u8fdb\u884c\u56fe\u5f62\u5316\u5c55\u793a\uff0c\u4e3a\u4f60\u63d0\u4f9b\u6c42\u52a9\u548c\u51b3\u7b56\u7684\u91cd\u8981\u6570\u636e\u3002\\nCoveralls \u652f\u6301\u591a\u79cd\u4e0d\u540c\u7684\u7f16\u7a0b\u8bed\u8a00\u548c\u6d4b\u8bd5\u6846\u67b6\uff0c\u5305\u62ecJavaScript\u3001Python\u3001Java\u3001Ruby\u7b49\u7b49\uff0c\u5e76\u4e0e GitHub\u3001GitLab\u3001Bitbucket \u548c Travis CI \u7b49\u5e38\u7528\u7684\u5728\u7ebf\u4ed3\u5e93\u548c\u81ea\u52a8\u5316\u6784\u5efa\u5e73\u53f0\u8fdb\u884c\u65e0\u7f1d\u96c6\u6210\uff0c\u4f7f\u5f97\u6d4b\u8bd5\u7ed3\u679c\u548c\u4ee3\u7801\u8986\u76d6\u7387\u62a5\u544a\u53ef\u4ee5\u81ea\u52a8\u53d1\u5e03\u5230 Coveralls \u5e73\u53f0\u4e0a\u3002\u8fd9\u6837\u5f00\u53d1\u4eba\u5458\u5c31\u53ef\u4ee5\u8f7b\u677e\u5730\u5bf9\u4ee3\u7801\u5e93\u7684\u6d4b\u8bd5\u8d28\u91cf\u8fdb\u884c\u76d1\u63a7\u548c\u7ba1\u7406\u3002\\n\\nCoveralls \u6bd4\u8f83\u6d41\u884c\u7684\u4e00\u4e2a\u539f\u56e0\u662f\uff0c\u5b83\u63d0\u4f9b\u7684\u8986\u76d6\u7387\u62a5\u544a\u975e\u5e38\u76f4\u89c2\uff0c\u6613\u4e8e\u7406\u89e3\u548c\u5206\u6790\u3002\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u901a\u8fc7\u56fe\u5f62\u5316\u754c\u9762\uff0c\u8be6\u7ec6\u4e86\u89e3\u6d4b\u8bd5\u7528\u4f8b\u548c\u4ee3\u7801\u5e93\u7684\u8986\u76d6\u60c5\u51b5\uff0c\u4ece\u800c\u6709\u9488\u5bf9\u6027\u5730\u8fdb\u884c\u4ee3\u7801\u8c03\u6574\u548c\u4f18\u5316\u3002\\n\\n\u603b\u4e4b\uff0cCoveralls.io\u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u6d4b\u8bd5\u8986\u76d6\u7387\u7684\u68c0\u6d4b\u548c\u5c55\u793a\u5de5\u5177\u3002\\n\\n## 6\u3001\u53c2\u8003\u6587\u6863\\n- [infoq Qunar \u9152\u5e97 NodeJS \u8986\u76d6\u7387\u6536\u96c6\u5b9e\u8df5](https://www.infoq.cn/article/l3mqhbbeadqtlrdmpojz)\\n- [[Node.js] Express\u7684\u6d4b\u8bd5\u8986\u76d6\u7387](https://www.cnblogs.com/moye/p/express_coverage.html)\\n- [\u4ee3\u7801\u8986\u76d6\u7387\u5de5\u5177 Istanbul \u5165\u95e8\u6559\u7a0b](https://www.ruanyifeng.com/blog/2015/06/istanbul.html)\\n- JS\u4ee3\u7801\u8986\u76d6\u7387\u5de5\u5177instanbuljs\u53ca\u5176\u601d\u8def\u4ecb\u7ecd https://shenlvmeng.github.io/blog/2020/04/16/istanbuljs/","isLeaf":true},{"key":"/nodejs/11-nodejs-coverage/02-coverage-collection.md","path":"/nodejs/11-nodejs-coverage/02-coverage-collection.md","route":"/nodejs/11-nodejs-coverage/02-coverage-collection.md","leaf":true,"title":"02-coverage-collection","depth":2,"content":"```ts\\nimport * as fs from \'fs\';\\nimport * as types from \'@babel/types\';\\nimport * as babel from \'@babel/core\';\\nimport generate from \'@babel/generator\';\\n\\nconst code = fs.readFileSync(\'code.ts\', \'utf-8\');\\n\\nconst ast = babel.parse(code, {\\n  presets: [\'@babel/preset-typescript\'],\\n  filename: \'code.ts\',\\n});\\n\\nvar fnCount = 0;\\nvar statementCount = 0;\\nvar branchCount = 0;\\n\\nfunction uni() {\\n  return {\\n    execStatement(index: number) {\\n      \\n    }\\n  }\\n}\\n\\nvar callbackName = \'context\';\\nvar callback = uni();\\n\\nvar stateMap: any = {\\n  \\n}\\n\\nbabel.traverse(ast!, {\\n  // Program (path) {\\n  //   path.scope.push({\\n  //     id: types.identifier(\'myScope\')\\n  //   })\\n  // },\\n  FunctionDeclaration(path) {\\n    fnCount++;\\n  },\\n  ArrowFunctionExpression() {\\n    fnCount++;\\n  },\\n  Expression(t) {},\\n\\n  CallExpression(path) {\\n    statementCount++;\\n    debugger\\n\\n    stateMap[statementCount] = {\\n      loc: {\\n        start: path.node.loc!.start,\\n        end: path.node.loc!.end,\\n      }\\n    }\\n\\n    const i = types.sequenceExpression([\\n      types.callExpression(\\n        types.memberExpression(\\n          types.identifier(callbackName),\\n          types.identifier(\'execStatement\'),\\n        ),\\n        [types.numericLiteral(statementCount)],\\n      ),\\n      path.node,\\n    ]);\\n    path.skip();\\n    path.replaceWith(i);\\n  },\\n\\n  BinaryExpression(path) {\\n    statementCount++;\\n\\n    stateMap[statementCount] = {\\n      loc: {\\n        start: path.node.loc!.start,\\n        end: path.node.loc!.end,\\n      }\\n    }\\n  \\n    const i = types.sequenceExpression([\\n      types.callExpression(\\n        types.memberExpression(\\n          types.identifier(callbackName),\\n          types.identifier(\'execStatement\'),\\n        ),\\n        [types.numericLiteral(statementCount)],\\n      ),\\n      path.node,\\n    ]);\\n    path.skip();\\n    path.replaceWith(i);\\n  },\\n});\\n\\nconst output = generate(\\n  ast!,\\n  {\\n    /* options */\\n  },\\n  code,\\n);\\n\\nconsole.log(output.code);\\nconsole.log(JSON.stringify(stateMap))\\n```","isLeaf":true},{"key":"/nodejs/11-nodejs-coverage/03-istanbuljs.md","path":"/nodejs/11-nodejs-coverage/03-istanbuljs.md","route":"/nodejs/11-nodejs-coverage/03-istanbuljs.md","leaf":true,"title":"03-istanbuljs","depth":2,"content":"## 1\u3001\u914d\u7f6e\\n\\n- @istanbuljs/nyc-config-typescript\\n- source-map-support\\n\\n**package.json**\\n\\n```json\\n  \\"nyc\\": {\\n    \\"extends\\": \\"./nyc-config.js\\",\\n    \\"all\\": true,\\n    \\"require\\": [\\n      \\"ts-node/register/transpile-only\\",\\n      \\"source-map-support/register\\"\\n    ]\\n  },\\n```\\n\\n**nyc-config.js**\\n\\n```js\\nconst { parserPlugins } = require(\'@istanbuljs/schema\').defaults.nyc;\\n\\nmodule.exports = {\\n  cache: false,\\n  parserPlugins: parserPlugins.concat(\'typescript\', \'jsx\', \'decorators-legacy\'),\\n};\\n```\\n\\n## 2\u3001\u63d2\u6869\\n\\n```ts\\nimport { Controller, Get } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\nconst bool = false;\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get()\\n  getHello(): string {\\n    if (bool) {\\n      return this.appService.getHello();\\n    } else {\\n      return \'hello\';\\n    }\\n  }\\n\\n  @Get(\'coverage\')\\n  coverageData() {\\n    return global.__coverage__;\\n  }\\n}\\n```\\n\\n```js\\nfunction cov_s0t1xtp2e() {\\n  var path = \'app.controller.ts\';\\n  var hash = \'d1ab3cf10fe95bb683cc2f63d090695750c72e09\';\\n  var global = new Function(\'return this\')();\\n  var gcv = \'__coverage__\';\\n  var coverageData = {\\n    path: \'app.controller.ts\',\\n    statementMap: {\\n      0: { start: { line: 4, column: 13 }, end: { line: 4, column: 18 } },\\n      1: { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n      2: { start: { line: 13, column: 6 }, end: { line: 13, column: 40 } },\\n      3: { start: { line: 15, column: 6 }, end: { line: 15, column: 20 } },\\n      4: { start: { line: 21, column: 4 }, end: { line: 21, column: 31 } },\\n    },\\n    fnMap: {\\n      0: {\\n        name: \'(anonymous_0)\',\\n        decl: { start: { line: 8, column: 2 }, end: { line: 8, column: 3 } },\\n        loc: { start: { line: 8, column: 55 }, end: { line: 8, column: 57 } },\\n        line: 8,\\n      },\\n      1: {\\n        name: \'(anonymous_1)\',\\n        decl: { start: { line: 10, column: 2 }, end: { line: 10, column: 3 } },\\n        loc: { start: { line: 11, column: 21 }, end: { line: 17, column: 3 } },\\n        line: 11,\\n      },\\n      2: {\\n        name: \'(anonymous_2)\',\\n        decl: { start: { line: 19, column: 2 }, end: { line: 19, column: 3 } },\\n        loc: { start: { line: 20, column: 17 }, end: { line: 22, column: 3 } },\\n        line: 20,\\n      },\\n    },\\n    branchMap: {\\n      0: {\\n        loc: { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n        type: \'if\',\\n        locations: [\\n          { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n          { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n        ],\\n        line: 12,\\n      },\\n    },\\n    s: { 0: 0, 1: 0, 2: 0, 3: 0, 4: 0 },\\n    f: { 0: 0, 1: 0, 2: 0 },\\n    b: { 0: [0, 0] },\\n    _coverageSchema: \'1a1c01bbd47fc00a2c39e90264f33305004495a9\',\\n    hash: \'d1ab3cf10fe95bb683cc2f63d090695750c72e09\',\\n  };\\n  var coverage = global[gcv] || (global[gcv] = {});\\n  if (!coverage[path] || coverage[path].hash !== hash) {\\n    coverage[path] = coverageData;\\n  }\\n  var actualCoverage = coverage[path];\\n  {\\n    cov_s0t1xtp2e = function () {\\n      return actualCoverage;\\n    };\\n  }\\n  return actualCoverage;\\n}\\ncov_s0t1xtp2e();\\nconst bool = (cov_s0t1xtp2e().s[0]++, false);\\nlet AppController = class AppController {\\n  constructor(appService) {\\n    this.appService = appService;\\n    cov_s0t1xtp2e().f[0]++;\\n  }\\n  getHello() {\\n    cov_s0t1xtp2e().f[1]++;\\n    cov_s0t1xtp2e().s[1]++;\\n    if (bool) {\\n      cov_s0t1xtp2e().b[0][0]++;\\n      cov_s0t1xtp2e().s[2]++;\\n      return this.appService.getHello();\\n    } else {\\n      cov_s0t1xtp2e().b[0][1]++;\\n      cov_s0t1xtp2e().s[3]++;\\n      return \'hello\';\\n    }\\n  }\\n  coverageData() {\\n    cov_s0t1xtp2e().f[2]++;\\n    cov_s0t1xtp2e().s[4]++;\\n    return global.__coverage__;\\n  }\\n};\\n```\\n\\n## 2\u3001\u6570\u636e\u7ed3\u6784\\n\\n```json\\n{\\n  \\"path\\": \\"app.controller.ts\\",\\n  \\"statementMap\\": {\\n    \\"0\\": {\\n      \\"start\\": { \\"line\\": 10, \\"column\\": 4 },\\n      \\"end\\": { \\"line\\": 10, \\"column\\": 38 }\\n    },\\n    \\"1\\": {\\n      \\"start\\": { \\"line\\": 15, \\"column\\": 4 },\\n      \\"end\\": { \\"line\\": 15, \\"column\\": 31 }\\n    }\\n  },\\n  \\"fnMap\\": {\\n    \\"0\\": {\\n      \\"name\\": \\"(anonymous_0)\\",\\n      \\"decl\\": {\\n        \\"start\\": { \\"line\\": 6, \\"column\\": 2 },\\n        \\"end\\": { \\"line\\": 6, \\"column\\": 3 }\\n      },\\n      \\"loc\\": {\\n        \\"start\\": { \\"line\\": 6, \\"column\\": 55 },\\n        \\"end\\": { \\"line\\": 6, \\"column\\": 57 }\\n      },\\n      \\"line\\": 6\\n    },\\n    \\"1\\": {\\n      \\"name\\": \\"(anonymous_1)\\",\\n      \\"decl\\": {\\n        \\"start\\": { \\"line\\": 8, \\"column\\": 2 },\\n        \\"end\\": { \\"line\\": 8, \\"column\\": 3 }\\n      },\\n      \\"loc\\": {\\n        \\"start\\": { \\"line\\": 9, \\"column\\": 21 },\\n        \\"end\\": { \\"line\\": 11, \\"column\\": 3 }\\n      },\\n      \\"line\\": 9\\n    },\\n    \\"2\\": {\\n      \\"name\\": \\"(anonymous_2)\\",\\n      \\"decl\\": {\\n        \\"start\\": { \\"line\\": 13, \\"column\\": 2 },\\n        \\"end\\": { \\"line\\": 13, \\"column\\": 3 }\\n      },\\n      \\"loc\\": {\\n        \\"start\\": { \\"line\\": 14, \\"column\\": 17 },\\n        \\"end\\": { \\"line\\": 16, \\"column\\": 3 }\\n      },\\n      \\"line\\": 14\\n    }\\n  },\\n  \\"branchMap\\": {},\\n  \\"s\\": { \\"0\\": 3, \\"1\\": 11 },\\n  \\"f\\": { \\"0\\": 1, \\"1\\": 3, \\"2\\": 11 },\\n  \\"b\\": {},\\n  \\"_coverageSchema\\": \\"1a1c01bbd47fc00a2c39e90264f33305004495a9\\",\\n  \\"hash\\": \\"4ca2bfe3281e37824b063daa0c37f084ca573ddf\\"\\n}\\n```\\n\\n- fnMap \u5bf9\u8c61\u7528\u4e8e\u7ef4\u62a4\u51fd\u6570\u4fe1\u606f\uff0ckey \u4e3a\u51fd\u6570\u7d22\u5f15(\u4ece 0 \u5f00\u59cb)\uff0cloc \u8868\u793a\u51fd\u6570\u4f53\u7684\u4f4d\u7f6e\\n- branchMap \u5bf9\u8c61\u7528\u4e8e\u7ef4\u62a4\u5206\u652f\u4fe1\u606f\uff0ckey \u4e3a\u5206\u652f\u7d22\u5f15(\u4ece 0 \u5f00\u59cb)\uff0cloc \u8868\u793a\u51fd\u6570\u4f53\u7684\u4f4d\u7f6e\\n- s \u5bf9\u8c61\u7528\u4e8e\u7ef4\u62a4 statement \u6267\u884c\u4fe1\u606f\uff0ckey \u4e3a statement \u7d22\u5f15(\u4ece 0 \u5f00\u59cb)\uff0cvalue \u4e3a\u6267\u884c\u6b21\u6570\\n- f \u5bf9\u8c61\u7528\u4e8e\u7ef4\u62a4 function \u6267\u884c\u4fe1\u606f\uff0ckey \u4e3a function \u7d22\u5f15(\u4ece 0 \u5f00\u59cb)\uff0cvalue \u4e3a\u6267\u884c\u6b21\u6570\\n\\n### function\\n\\n### statement\\n\\n### branch\\n\\n### \u53ef\u89c6\u5316\\n\\n![20230706115628](http://s3.airtlab.com/blog/20230706115628.png)\\n\\n## \u6838\u5fc3\u90e8\u4ef6\\n- istanbul-lib-coverage \u5206\u6790\u8986\u76d6\u7387\u5143\u6570\u636e (\u4f8b\u5982\uff1a\u54ea\u4e9b\u884c\u88ab\u6267\u884c\uff0c\u54ea\u4e9b\u884c\u6ca1\u6709\u88ab\u6267\u884c)\\n- istanbul-lib-instrument\\n- istanbul-lib-report\\n- istanbul-lib-source-maps\\n- istanbul-reports \\n- istanbul-middleware https://github.com/gotwarlost/istanbul-middleware/blob/master/README.md\\n","isLeaf":true},{"key":"/nodejs/11-nodejs-coverage/04-\u524d\u7aef\u4ee3\u7801\u63d2\u6869\u4e0e\u8986\u76d6\u7387.md","path":"/nodejs/11-nodejs-coverage/04-\u524d\u7aef\u4ee3\u7801\u63d2\u6869\u4e0e\u8986\u76d6\u7387.md","route":"/nodejs/11-nodejs-coverage/04-\u524d\u7aef\u4ee3\u7801\u63d2\u6869\u4e0e\u8986\u76d6\u7387.md","leaf":true,"title":"04-\u524d\u7aef\u4ee3\u7801\u63d2\u6869\u4e0e\u8986\u76d6\u7387","depth":2,"content":"https://juejin.cn/post/7022928631756226591","isLeaf":true},{"key":"/nodejs/11-nodejs-coverage/05-\u8986\u76d6\u7387\u5b9e\u65f6\u7edf\u8ba1\u5de5\u5177.md","path":"/nodejs/11-nodejs-coverage/05-\u8986\u76d6\u7387\u5b9e\u65f6\u7edf\u8ba1\u5de5\u5177.md","route":"/nodejs/11-nodejs-coverage/05-\u8986\u76d6\u7387\u5b9e\u65f6\u7edf\u8ba1\u5de5\u5177.md","leaf":true,"title":"05-\u8986\u76d6\u7387\u5b9e\u65f6\u7edf\u8ba1\u5de5\u5177","depth":2,"content":"- https://shenlvmeng.github.io/blog/2020/04/16/fe-coverage-scheme/#%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86\\n- https://tech.youzan.com/front-coverage/","isLeaf":true},{"key":"/nodejs/11-nodejs-coverage/06-\u9177\u5bb6\u4e50\u57fa\u4e8eIstanbul \u4f18\u96c5\u5730\u642d\u5efa\u524d\u7aefJS\u8986\u76d6\u7387\u5e73\u53f0.md","path":"/nodejs/11-nodejs-coverage/06-\u9177\u5bb6\u4e50\u57fa\u4e8eIstanbul \u4f18\u96c5\u5730\u642d\u5efa\u524d\u7aefJS\u8986\u76d6\u7387\u5e73\u53f0.md","route":"/nodejs/11-nodejs-coverage/06-\u9177\u5bb6\u4e50\u57fa\u4e8eIstanbul \u4f18\u96c5\u5730\u642d\u5efa\u524d\u7aefJS\u8986\u76d6\u7387\u5e73\u53f0.md","leaf":true,"title":"06-\u9177\u5bb6\u4e50\u57fa\u4e8eIstanbul \u4f18\u96c5\u5730\u642d\u5efa\u524d\u7aefJS\u8986\u76d6\u7387\u5e73\u53f0","depth":2,"content":"- https://tech.kujiale.com/qian-duan-fu-gai-lu/","isLeaf":true},{"key":"/nodejs/11-nodejs-coverage/07-nyc-\u5bf9import\u8bed\u53e5\u7684\u63d2\u6869\u95ee\u9898.md","path":"/nodejs/11-nodejs-coverage/07-nyc-\u5bf9import\u8bed\u53e5\u7684\u63d2\u6869\u95ee\u9898.md","route":"/nodejs/11-nodejs-coverage/07-nyc-\u5bf9import\u8bed\u53e5\u7684\u63d2\u6869\u95ee\u9898.md","leaf":true,"title":"07-nyc-\u5bf9import\u8bed\u53e5\u7684\u63d2\u6869\u95ee\u9898","depth":2,"content":"```ts\\nimport { Controller, Get } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n\\nconst bool = false;\\n\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {}\\n\\n  @Get()\\n  getHello(): string {\\n    if (bool) {\\n      return this.appService.getHello();\\n    } else {\\n      return \'hello\'\\n    }\\n  }\\n\\n  @Get(\'coverage\')\\n  coverageData() {\\n    return global.__coverage__;\\n  }\\n}\\n```\\n\\n\u63d2\u6869\u540e:\\n\\n```ts\\nfunction cov_2hfyi6yc4b() {\\n  var path =\\n    \'/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.controller.ts\';\\n  var hash = \'0b26da660683c2d07ef512cf6e4f064c27d36f10\';\\n  var global = new Function(\'return this\')();\\n  var gcv = \'__coverage__\';\\n  var coverageData = {\\n    path: \'/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.controller.ts\',\\n    statementMap: {\\n      \'0\': { start: { line: 4, column: 13 }, end: { line: 4, column: 18 } },\\n      \'1\': { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n      \'2\': { start: { line: 13, column: 6 }, end: { line: 13, column: 40 } },\\n      \'3\': { start: { line: 15, column: 6 }, end: { line: 15, column: 20 } },\\n      \'4\': { start: { line: 21, column: 4 }, end: { line: 21, column: 31 } },\\n    },\\n    fnMap: {\\n      \'0\': {\\n        name: \'(anonymous_0)\',\\n        decl: { start: { line: 8, column: 2 }, end: { line: 8, column: 3 } },\\n        loc: { start: { line: 8, column: 55 }, end: { line: 8, column: 57 } },\\n        line: 8,\\n      },\\n      \'1\': {\\n        name: \'(anonymous_1)\',\\n        decl: { start: { line: 10, column: 2 }, end: { line: 10, column: 3 } },\\n        loc: { start: { line: 11, column: 21 }, end: { line: 17, column: 3 } },\\n        line: 11,\\n      },\\n      \'2\': {\\n        name: \'(anonymous_2)\',\\n        decl: { start: { line: 19, column: 2 }, end: { line: 19, column: 3 } },\\n        loc: { start: { line: 20, column: 17 }, end: { line: 22, column: 3 } },\\n        line: 20,\\n      },\\n    },\\n    branchMap: {\\n      \'0\': {\\n        loc: { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n        type: \'if\',\\n        locations: [\\n          { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n          { start: { line: 12, column: 4 }, end: { line: 16, column: 5 } },\\n        ],\\n        line: 12,\\n      },\\n    },\\n    s: { \'0\': 0, \'1\': 0, \'2\': 0, \'3\': 0, \'4\': 0 },\\n    f: { \'0\': 0, \'1\': 0, \'2\': 0 },\\n    b: { \'0\': [0, 0] },\\n    _coverageSchema: \'1a1c01bbd47fc00a2c39e90264f33305004495a9\',\\n    hash: \'0b26da660683c2d07ef512cf6e4f064c27d36f10\',\\n  };\\n  var coverage = global[gcv] || (global[gcv] = {});\\n  if (!coverage[path] || coverage[path].hash !== hash) {\\n    coverage[path] = coverageData;\\n  }\\n  var actualCoverage = coverage[path];\\n  {\\n    // @ts-ignore\\n    cov_2hfyi6yc4b = function () {\\n      return actualCoverage;\\n    };\\n  }\\n  return actualCoverage;\\n}\\ncov_2hfyi6yc4b();\\nimport { Controller, Get } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\nconst bool = (cov_2hfyi6yc4b().s[0]++, false);\\n@Controller()\\nexport class AppController {\\n  constructor(private readonly appService: AppService) {\\n    cov_2hfyi6yc4b().f[0]++;\\n  }\\n  @Get() getHello(): string {\\n    cov_2hfyi6yc4b().f[1]++;\\n    cov_2hfyi6yc4b().s[1]++;\\n    if (bool) {\\n      cov_2hfyi6yc4b().b[0][0]++;\\n      cov_2hfyi6yc4b().s[2]++;\\n      return this.appService.getHello();\\n    } else {\\n      cov_2hfyi6yc4b().b[0][1]++;\\n      cov_2hfyi6yc4b().s[3]++;\\n      return \'hello\';\\n    }\\n  }\\n  @Get(\'coverage\') coverageData() {\\n    cov_2hfyi6yc4b().f[2]++;\\n    cov_2hfyi6yc4b().s[4]++;\\n    return global.__coverage__;\\n  }\\n}\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmhmeWk2eWM0YiIsImFjdHVhbENvdmVyYWdlIiwiQ29udHJvbGxlciIsIkdldCIsIkFwcFNlcnZpY2UiLCJib29sIiwicyIsIkFwcENvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsImFwcFNlcnZpY2UiLCJmIiwiZ2V0SGVsbG8iLCJiIiwiY292ZXJhZ2VEYXRhIiwiZ2xvYmFsIiwiX19jb3ZlcmFnZV9fIl0sInNvdXJjZXMiOlsiYXBwLmNvbnRyb2xsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udHJvbGxlciwgR2V0IH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgQXBwU2VydmljZSB9IGZyb20gJy4vYXBwLnNlcnZpY2UnO1xuXG5jb25zdCBib29sID0gZmFsc2U7XG5cbkBDb250cm9sbGVyKClcbmV4cG9ydCBjbGFzcyBBcHBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhcHBTZXJ2aWNlOiBBcHBTZXJ2aWNlKSB7fVxuXG4gIEBHZXQoKVxuICBnZXRIZWxsbygpOiBzdHJpbmcge1xuICAgIGlmIChib29sKSB7XG4gICAgICByZXR1cm4gdGhpcy5hcHBTZXJ2aWNlLmdldEhlbGxvKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnaGVsbG8nXG4gICAgfVxuICB9XG5cbiAgQEdldCgnY292ZXJhZ2UnKVxuICBjb3ZlcmFnZURhdGEoKSB7XG4gICAgcmV0dXJuIGdsb2JhbC5fX2NvdmVyYWdlX187XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Im9rREFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixPQUFTRSxVQUFVLENBQUVDLEdBQUcsS0FBUSxnQkFBZ0IsQ0FDaEQsT0FBU0MsVUFBVSxLQUFRLGVBQWUsQ0FFMUMsS0FBTSxDQUFBQyxJQUFJLEVBQUFMLGNBQUEsR0FBQU0sQ0FBQSxNQUFHLEtBQUssRUFFbEIsQ0FBQ0osVUFBVSxDQUFDLENBQUMsTUFBYixNQUNhLENBQUFLLGFBQWMsQ0FDekJDLFdBQVdBLENBQUMsZ0JBQWlCLENBQUFDLFVBQVUsQ0FBRUwsVUFBVSxDQUFFLENBQUFKLGNBQUEsR0FBQVUsQ0FBQSxNQUFDLENBRXRELENBQUNQLEdBQUcsQ0FBQyxDQUNMUSxRQUFRQSxDQUFBLENBQUUsQ0FBRSxNQUFPLENBQUFYLGNBQUEsR0FBQVUsQ0FBQSxNQUFBVixjQUFBLEdBQUFNLENBQUEsTUFDakIsR0FBSUQsSUFBSSxDQUFFLENBQUFMLGNBQUEsR0FBQVksQ0FBQSxTQUFBWixjQUFBLEdBQUFNLENBQUEsTUFDUixNQUFPLEtBQUksQ0FBQ0csVUFBVSxDQUFDRSxRQUFRLENBQUMsQ0FBQyxDQUNuQyxDQUFDLElBQU0sQ0FBQVgsY0FBQSxHQUFBWSxDQUFBLFNBQUFaLGNBQUEsR0FBQU0sQ0FBQSxNQUNMLE1BQU8sT0FBTyxDQUNoQixDQUNGLENBRUEsQ0FBQ0gsR0FBRyxDQUFDLFVBQVUsQ0FDZlUsWUFBWUEsQ0FBQSxDQUFHLENBQUFiLGNBQUEsR0FBQVUsQ0FBQSxNQUFBVixjQUFBLEdBQUFNLENBQUEsTUFDYixNQUFPLENBQUFRLE1BQU0sQ0FBQ0MsWUFBWSxDQUM1QixDQUNGIn0=\\n```\\n\\n\u4e3a\u4ec0\u4e48 import \u8bed\u53e5\u6ca1\u6709\u88ab\u63d2\u6869\u5462\\n\\n```ts\\nimport { Controller, Get } from \'@nestjs/common\';\\nimport { AppService } from \'./app.service\';\\n```\\n\\n\u6211\u4ee5\u4e3a\u7684\uff1a\\n```ts\\nimport { Controller, Get } from \'@nestjs/common\';\\ncov_2hfyi6yc4b().s[0]++;\\nimport { AppService } from \'./app.service\';\\ncov_2hfyi6yc4b().s[1]++;\\n```\\n\\n\u7528 `npm run test:cov` \u548c \u81ea\u5b9a\u4e49\u7684\u63d2\u6869\u7ed3\u679c\u4e0d\u4e00\u81f4\\n\\n\u4f46\u662f\u62a5\u544a\u4e0a\u5374\u663e\u793a\u8fd9\u4e24\u4e2a\u8bed\u53e5\u5df2\u7ecf\u6267\u884c\uff0c\u600e\u4e48\u505a\u5230\u7684\u5462\\n\\n![20230707170338](http://s3.airtlab.com/blog/20230707170338.png)\\n\\n\u53ef\u4ee5\u770b\u770b\u5b83\u7684\u6570\u636e\u7edf\u8ba1\uff1a\\n```xml\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<coverage generated=\\"1688720531034\\" clover=\\"3.2.0\\">\\n  <project timestamp=\\"1688720531034\\" name=\\"All files\\">\\n    <metrics statements=\\"24\\" coveredstatements=\\"15\\" conditionals=\\"2\\" coveredconditionals=\\"1\\" methods=\\"5\\" coveredmethods=\\"2\\" elements=\\"31\\" coveredelements=\\"18\\" complexity=\\"0\\" loc=\\"24\\" ncloc=\\"24\\" packages=\\"1\\" files=\\"4\\" classes=\\"4\\"/>\\n    <file name=\\"app.controller.ts\\" path=\\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.controller.ts\\">\\n      <metrics statements=\\"11\\" coveredstatements=\\"9\\" conditionals=\\"2\\" coveredconditionals=\\"1\\" methods=\\"3\\" coveredmethods=\\"2\\"/>\\n      <line num=\\"1\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"2\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"4\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"7\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"8\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"10\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"12\\" count=\\"1\\" type=\\"cond\\" truecount=\\"1\\" falsecount=\\"1\\"/>\\n      <line num=\\"13\\" count=\\"0\\" type=\\"stmt\\"/>\\n      <line num=\\"15\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"19\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"21\\" count=\\"0\\" type=\\"stmt\\"/>\\n    </file>\\n    <file name=\\"app.module.ts\\" path=\\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.module.ts\\">\\n      <metrics statements=\\"4\\" coveredstatements=\\"4\\" conditionals=\\"0\\" coveredconditionals=\\"0\\" methods=\\"0\\" coveredmethods=\\"0\\"/>\\n      <line num=\\"1\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"2\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"3\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"10\\" count=\\"1\\" type=\\"stmt\\"/>\\n    </file>\\n    <file name=\\"app.service.ts\\" path=\\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.service.ts\\">\\n      <metrics statements=\\"3\\" coveredstatements=\\"2\\" conditionals=\\"0\\" coveredconditionals=\\"0\\" methods=\\"1\\" coveredmethods=\\"0\\"/>\\n      <line num=\\"1\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"4\\" count=\\"1\\" type=\\"stmt\\"/>\\n      <line num=\\"6\\" count=\\"0\\" type=\\"stmt\\"/>\\n    </file>\\n    <file name=\\"main.ts\\" path=\\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/main.ts\\">\\n      <metrics statements=\\"6\\" coveredstatements=\\"0\\" conditionals=\\"0\\" coveredconditionals=\\"0\\" methods=\\"1\\" coveredmethods=\\"0\\"/>\\n      <line num=\\"1\\" count=\\"0\\" type=\\"stmt\\"/>\\n      <line num=\\"2\\" count=\\"0\\" type=\\"stmt\\"/>\\n      <line num=\\"4\\" count=\\"0\\" type=\\"stmt\\"/>\\n      <line num=\\"7\\" count=\\"0\\" type=\\"stmt\\"/>\\n      <line num=\\"8\\" count=\\"0\\" type=\\"stmt\\"/>\\n      <line num=\\"11\\" count=\\"0\\" type=\\"stmt\\"/>\\n    </file>\\n  </project>\\n</coverage>\\n```\\n\\n\u6211\u4eec\u9700\u8981\u770b\u770b\u4ed6\u7684\u6e90\u7801\u662f\u5982\u4f55\u751f\u6210\u8fd9\u4e2a\u6570\u636e\u7684","isLeaf":true},{"key":"/nodejs/11-nodejs-coverage/08-nyc-config-typescript and decorators.md","path":"/nodejs/11-nodejs-coverage/08-nyc-config-typescript and decorators.md","route":"/nodejs/11-nodejs-coverage/08-nyc-config-typescript and decorators.md","leaf":true,"title":"08-nyc-config-typescript and decorators","depth":2,"content":"https://github.com/istanbuljs/nyc/issues/1437","isLeaf":true},{"key":"/nodejs/11-nodejs-coverage/nyc.md","path":"/nodejs/11-nodejs-coverage/nyc.md","route":"/nodejs/11-nodejs-coverage/nyc.md","leaf":true,"title":"nyc","depth":2,"content":"","isLeaf":true},{"key":"/nodejs/11-nodejs-coverage/\u63a2\u7d22istanbulnyc\u4ee3\u7801\u8986\u76d6\u5de5\u5177\u7684\u539f\u7406.md","path":"/nodejs/11-nodejs-coverage/\u63a2\u7d22istanbulnyc\u4ee3\u7801\u8986\u76d6\u5de5\u5177\u7684\u539f\u7406.md","route":"/nodejs/11-nodejs-coverage/\u63a2\u7d22istanbulnyc\u4ee3\u7801\u8986\u76d6\u5de5\u5177\u7684\u539f\u7406.md","leaf":true,"title":"\u63a2\u7d22istanbulnyc\u4ee3\u7801\u8986\u76d6\u5de5\u5177\u7684\u539f\u7406","depth":2,"content":"https://zhuanlan.zhihu.com/p/88524418","isLeaf":true}]},{"key":"/nodejs/12-nodejs-socket-proxy","path":"/nodejs/12-nodejs-socket-proxy","route":"/nodejs/12-nodejs-socket-proxy","leaf":false,"title":"12-nodejs-socket-proxy","depth":1,"content":"","isLeaf":false,"children":[{"key":"/nodejs/12-nodejs-socket-proxy/index.md","path":"/nodejs/12-nodejs-socket-proxy/index.md","route":"/nodejs/12-nodejs-socket-proxy/index.md","leaf":true,"title":"index","depth":2,"content":"\u7528 nodejs \u5b9e\u73b0 socket \u4ee3\u7406\u670d\u52a1\u5668\uff0c\u5305\u62ec TCP \u548c  UDP","isLeaf":true}]},{"key":"/nodejs/13-nodejs-simple-rpc","path":"/nodejs/13-nodejs-simple-rpc","route":"/nodejs/13-nodejs-simple-rpc","leaf":false,"title":"13-nodejs-simple-rpc","depth":1,"content":"","isLeaf":false,"children":[{"key":"/nodejs/13-nodejs-simple-rpc/index.md","path":"/nodejs/13-nodejs-simple-rpc/index.md","route":"/nodejs/13-nodejs-simple-rpc/index.md","leaf":true,"title":"index","depth":2,"content":"\u7528 nodejs \u5b9e\u73b0\u7b80\u5355\u7684 RPC \u6846\u67b6\\n\\nhttps://github.com/hustxiaoc/simple-rpc","isLeaf":true}]},{"key":"/nodejs/index.md","path":"/nodejs/index.md","route":"/nodejs/index.md","leaf":true,"title":"index","depth":1,"content":"---\\ntitle: 00 nodejs \u4ecb\u7ecd\\n---\\n\\n![](https://www.persistent.com/wp-content/uploads/2016/02/blog-banner-Is-your-Node.js-application-production-ready-scaled.jpg)\\n\\nnodejs \u5b66\u4e60\u7b14\u8bb0\uff0c\u5185\u5bb9\u975e\u5b8c\u5168\u539f\u521b\uff0c\u76f8\u5173\u5185\u5bb9\u4f1a\u5907\u6ce8\u539f\u4f5c\u8005\u3002\\n\\n\u7279\u522b\u611f\u8c22\uff1a\\n- [Barret\u674e\u9756](https://github.com/barretlee)\\n- [doodlewind](https://www.zhihu.com/people/doodlewind)\\n- [\u6dd8\u5c0f\u6770](https://github.com/hustxiaoc)\\n- [\u505a\u524d\u7aef\u7684\u8717\u725b](https://space.bilibili.com/486675132)\\n- [\u90b1\u660a\u5b87](https://www.zhihu.com/people/timothyqiu)\\n- [\u5c0f\u6797coding](https://xiaolincoding.com/)\\n- [\u795e\u8bf4\u8981\u6709\u5149](https://www.zhihu.com/people/di-xu-guang-50)\\n\\n\u53c2\u8003\u8d44\u6599\uff1a\\n- NodeJS \u6280\u672f\u6808 https://www.nodejs.red/#/README\\n- nodejs.dev https://nodeshift.dev/nodejs-reference-architecture/","isLeaf":true}]},{"key":"/parser","path":"/parser","route":"/parser","leaf":false,"title":"parser","depth":0,"content":"","isLeaf":false,"children":[{"key":"/parser/css","path":"/parser/css","route":"/parser/css","leaf":false,"title":"css","depth":1,"content":"","isLeaf":false,"children":[{"key":"/parser/css/index.md","path":"/parser/css/index.md","route":"/parser/css/index.md","leaf":true,"title":"index","depth":2,"content":"- \u81ea\u5df1\u5b9e\u73b0\u7684\u7b80\u5355\u7248\u672c\u7684 postcss https://github.com/compiler-all/compilers/tree/master/css-parser","isLeaf":true},{"key":"/parser/css/postcss.md","path":"/parser/css/postcss.md","route":"/parser/css/postcss.md","leaf":true,"title":"postcss","depth":2,"content":"- postcss \u4f7f\u7528\u6307\u5357 https://github.com/gaollard/postcss-demo","isLeaf":true}]},{"key":"/parser/html","path":"/parser/html","route":"/parser/html","leaf":false,"title":"html","depth":1,"content":"","isLeaf":false,"children":[{"key":"/parser/html/html.md","path":"/parser/html/html.md","route":"/parser/html/html.md","leaf":true,"title":"html","depth":2,"content":"\u5728 JavaScript \u4e2d\uff0c\u6709\u4ee5\u4e0b\u51e0\u4e2a\u5e38\u7528\u7684 HTML \u89e3\u6790\u5668\uff1a\\n1. DOM Parser\uff1aDOM Parser \u662f JavaScript \u5185\u7f6e\u7684\u4e00\u4e2a\u89e3\u6790\u5668\uff0c\u901a\u8fc7\u89e3\u6790 HTML \u6587\u4ef6\u5c06\u5176\u8f6c\u6362\u6210\u4e00\u4e2a DOM \u5bf9\u8c61\uff0c\u4f7f\u6211\u4eec\u53ef\u4ee5\u5bf9 HTML \u6587\u4ef6\u7684\u7ed3\u6784\u8fdb\u884c\u64cd\u4f5c\u3002\\n\\n2. jQuery\uff1ajQuery \u662f\u4e00\u4e2a\u6d41\u884c\u7684 JavaScript \u5e93\uff0c\u5b83\u80fd\u591f\u5feb\u901f\u5730\u89e3\u6790 HTML\uff0c\u5e76\u901a\u8fc7 CSS \u9009\u62e9\u5668\u83b7\u53d6 DOM \u5143\u7d20\u3002\u7531\u4e8e\u5176\u7b80\u5355\u6613\u7528\u548c\u5e7f\u6cdb\u4f7f\u7528\uff0c\u56e0\u6b64\u5728\u8bb8\u591a Web \u5f00\u53d1\u9879\u76ee\u4e2d\u5e7f\u6cdb\u91c7\u7528\u3002\\n\\n3. Cheerio\uff1aCheerio \u662f\u53e6\u4e00\u4e2a\u6d41\u884c\u7684 JavaScript HTML \u89e3\u6790\u5668\uff0c\u5b83\u6a21\u4eff\u4e86 jQuery \u7684 API\uff0c\u5e76\u53ef\u4ee5\u5728\u670d\u52a1\u5668\u7aef\u548c\u5ba2\u6237\u7aef\u4e0a\u4f7f\u7528\u3002\u5b83\u4f7f\u7528\u7c7b\u4f3c\u4e8e jQuery \u7684\u8bed\u6cd5\u6765\u89e3\u6790 HTML \u6587\u4ef6\uff0c\u5e76\u4ee5\u4e00\u4e2a DOM \u6811\u7684\u5f62\u5f0f\u8fd4\u56de\u89e3\u6790\u7ed3\u679c\u3002\\n\\n4. jsdom\uff1ajsdom \u662f\u4e00\u4e2a\u5728 Node.js \u4e0a\u8fd0\u884c\u7684 JavaScript \u73af\u5883\uff0c\u5b83\u53ef\u4ee5\u6a21\u62df\u4e00\u4e2a\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u5e76\u89e3\u6790 HTML \u6587\u6863\u3002\u5b83\u4e5f\u53ef\u4ee5\u7528\u4e8e\u6d4b\u8bd5 jQuery \u548c\u5176\u4ed6\u5e93\u7684\u4ee3\u7801\uff0c\u540c\u65f6\u8fd8\u652f\u6301 DOM \u64cd\u4f5c\u3002\\n\\n5. HTML5 Parser\uff1aHTML5 Parser \u662f\u4e00\u4e2a\u7528\u4e8e\u89e3\u6790 HTML5 \u6587\u6863\u7684 JavaScript \u5e93\uff0c\u5b83\u4f7f\u7528\u4e86\u65b0\u7684 HTML5 \u89c4\u8303\uff0c\u5e76\u80fd\u591f\u5904\u7406\u4e0d\u89c4\u8303\u7684\u6807\u8bb0\u548c\u7279\u6027\u3002\\n\\n6. htmlparser2 htmlparser2 is the fastest HTML parser, and takes some shortcuts to get there. If you need strict HTML spec compliance, have a look at parse5.","isLeaf":true},{"key":"/parser/html/htmlparser2.md","path":"/parser/html/htmlparser2.md","route":"/parser/html/htmlparser2.md","leaf":true,"title":"htmlparser2","depth":2,"content":"- AST test https://astexplorer.net/#/2AmVrGuGVJ\\n\\n## 1\u3001\u4f7f\u7528 htmlparser2 \u89e3\u6790 heading\\n\\n\u9700\u8981\u6ce8\u610f pre + code \u6216\u8005 xmp \u7684\u5904\u7406\\n\\n```js\\nconst fs = require(\'fs\')\\nconst htmlparser = require(\\"htmlparser2\\");\\n\\nfunction resolveHeadings (content) {\\n  const headings = []\\n  let heading;\\n  let isHeading = false;\\n  let isTag = true;\\n  const parser = new htmlparser.Parser({\\n    onopentag: function (name, attributes) {\\n      if (name === \'xmp\') {\\n        isTag = false;\\n      }\\n\\n      if (isTag) {\\n        if (\\n          name === \\"h1\\" ||\\n          name === \\"h2\\" ||\\n          name === \\"h3\\" ||\\n          name === \\"h4\\" ||\\n          name === \\"h5\\" ||\\n          name === \\"h6\\"\\n        ) {\\n          isHeading = true;\\n          heading = {\\n            level: name,\\n            text: \'\',\\n            attributes\\n          }\\n          headings.push(heading)\\n        } else {\\n          isHeading = false;\\n        }\\n      }\\n    },\\n    onclosetag: function (name, attributes) {\\n      if (name === \'xmp\') {\\n        isTag = true;\\n      }\\n\\n      if (\\n        name === \\"h1\\" ||\\n        name === \\"h2\\" ||\\n        name === \\"h3\\" ||\\n        name === \\"h4\\" ||\\n        name === \\"h5\\" ||\\n        name === \\"h6\\"\\n      ) {\\n        isHeading = false;\\n      }\\n    },\\n\\n    ontext: function(text) {\\n      if (isHeading) {\\n        heading.text = text\\n      }\\n    }\\n  });\\n\\n  parser.write(content);\\n  parser.end();\\n\\n  return headings;\\n}\\n\\nconsole.log(resolveHeadings(fs.readFileSync(\'./index.html\', \'utf8\')))\\n```\\n\\n```text\\n[\\n  { level: \'h1\', text: \'h1\', attributes: { id: \'h1\' } },\\n  { level: \'h2\', text: \'h2\', attributes: {} }\\n]\\n```\\n\\n```html\\n<!DOCTYPE html>\\n<html lang=\\"en\\">\\n\\n<head>\\n  <meta charset=\\"UTF-8\\">\\n  <meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=edge\\">\\n  <meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\">\\n  <title>Document</title>\\n</head>\\n\\n<body>\\n  <h1 id=\\"h1\\">h1</h1>\\n  <div>\u54c8\u54c8\u54c8\u54c8\u7535\u8bdd</div>\\n  <h2>h2</h2>\\n  <div>\u54c8\u54c8\u54c8\u54c8\u7535\u8bdd</div>\\n  <xmp>\\n    <h3>h3</h3>\\n  </xmp>\\n</body>\\n</html>\\n```","isLeaf":true}]},{"key":"/parser/markdown","path":"/parser/markdown","route":"/parser/markdown","leaf":false,"title":"markdown","depth":1,"content":"","isLeaf":false,"children":[{"key":"/parser/markdown/markdown.md","path":"/parser/markdown/markdown.md","route":"/parser/markdown/markdown.md","leaf":true,"title":"markdown","depth":2,"content":"## 1\u3001markdown \u89e3\u6790\u54ea\u5bb6\u5f3a\uff1f\\n\\n- markdown-it\\n- marked\\n- Pandoc\uff1a\u7528\u4e8e\u8f6c\u6362\u6587\u6863\u683c\u5f0f\u7684\u901a\u7528\u5de5\u5177\uff0c\u53ef\u4ee5\u5c06 Markdown \u8f6c\u6362\u4e3a\u5176\u4ed6\u683c\u5f0f\uff08\u5982 PDF\u3001 Word \u548c HTML\uff09\\n- GitHub Flavored Markdown\uff1aGitHub \u6240\u4f7f\u7528\u7684 Markdown \u89e3\u6790\u5668\uff0c\u53ef\u4ee5\u5728 GitHub \u4e0a\u521b\u5efa\u4e86\u652f\u6301\u4ee3\u7801\u8bed\u6cd5\u9ad8\u4eae\u3001\u4efb\u52a1\u5217\u8868\u7b49\u6269\u5c55\u7684 Markdown\\n\\n## 2\u3001\u5b9e\u73b0\u4e00\u4e2amarkdown\u89e3\u6790\u5668\u9700\u8981\u5177\u5907\u54ea\u4e9b\u77e5\u8bc6\uff1f\\n\\nhttps://www.zhihu.com/question/28756456","isLeaf":true},{"key":"/parser/markdown/markown-it.md","path":"/parser/markdown/markown-it.md","route":"/parser/markdown/markown-it.md","leaf":true,"title":"markown-it","depth":2,"content":"- \u4e2d\u6587\u6587\u6863 https://markdown-it.docschina.org\\n\\n## 1\u3001\u6f14\u793a\\n\\n```js\\nconst fs = require(\\"fs\\");\\nconst markdown = require(\\"markdown-it\\");\\nconst anchr = require(\\"markdown-it-anchor\\");\\nconst frontmatter = require(\\"markdown-it-front-matter\\");\\n\\nconst md = markdown({\\n  html: false,\\n  xhtmlOut: true,\\n  typographer: true,\\n  // highlight: (code, lang) => {\\n  //   return highlighter.codeToHtml(code, { lang })\\n  // }\\n})\\n  .use(frontmatter, (fm) => {\\n    console.log(fm); // fm \u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u542b YAML \u5934\u90e8\u6570\u636e\\n  })\\n  .use(anchr)\\n  // .use(toc)\\n  .use(require(\\"markdown-it-table-of-contents\\"), {\\n    format(content, md) {\\n      // console.log(222, content, md);\\n      return content;\\n    },\\n    resolveHeadings (headings) {\\n      console.log(headings)\\n    }\\n  });\\n\\nconst html = md.render(fs.readFileSync(\\"./markdown.md\\", \\"utf8\\"));\\n// console.log(html);\\n\\n```\\n\\n## 2\u3001\u7ed3\u5408 highlight.js \\n\\nhttps://blog.csdn.net/fxss5201/article/details/103567578\\n\\n## 3\u3001\u7ed3\u5408 shiki","isLeaf":true}]}]},{"key":"/python","path":"/python","route":"/python","leaf":false,"title":"python","depth":0,"content":"","isLeaf":false,"children":[{"key":"/python/01-version-conflict.md","path":"/python/01-version-conflict.md","route":"/python/01-version-conflict.md","leaf":true,"title":"01-version-conflict","depth":1,"content":"- Mac\u81ea\u5e26\u7684 python2 \u7248\u672c\uff0c\u5728 `/System/Library/Frameworks/Python.framework/Versions` \u91cc\u9762\\n- \u81ea\u5df1\u4ece\u5b98\u7f51\u5b89\u88c5\u7684\u5728 `/Library/Frameworks/Python.framework/` \u91cc\u9762\\n- \u901a\u8fc7 homebrew \u5b89\u88c5\u7684\u5728 `/usr/local/Cellar/` \u91cc\u9762\\n\\n## 1\u3001\u770b\u770b\u4f60\u7528\u7684 python\\n```shell\\nwhich python\\n# /usr/bin/python\\n\\nls -l /usr/bin/python\\n# lrwxr-xr-x  1 root  wheel  75 Jan  1  2020 /usr/bin/python -> ../../System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7\\n```\\n\u8fd9\u91cc\u663e\u793a\u6211\u7528\u7684\u662f\u7cfb\u7edf\u81ea\u5e26\u7684\uff0c`oh shit` \u96be\u602a\u7ecf\u5e38\u62a5\u9519\\n  \\n## 2\u3001pyenv \u7ba1\u7406 python \u7248\u672c\\n\\n![20230515151400](http://s3.airtlab.com/blog/20230515151400.png)\\n\\nhttps://stackoverflow.com/questions/60298514/how-to-reinstall-python2-from-homebrew\\n\\n**\u5b89\u88c5\u9519\u8bef**\\n\\nERROR: The Python zlib extension was not compiled. Missing the zlib?\\n\\n## 3\u3001easy_install \u7684\u4f5c\u7528\\n\\n`easy_install` \u662f Python \u7684\u4e00\u4e2a\u5305\u7ba1\u7406\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u81ea\u52a8\u4e0b\u8f7d\uff0c\u5b89\u88c5\uff0c\u5347\u7ea7\u548c\u5378\u8f7d Python \u5305(package)\u3002\u5b83\u53ef\u4ee5\u5728 PyPI\uff08Python \u5305\u7d22\u5f15\uff09\u4e2d\u641c\u7d22\u6240\u9700\u7684\u5305\uff0c\u7136\u540e\u6267\u884c\u5fc5\u8981\u7684\u64cd\u4f5c\u6765\u5b89\u88c5\u548c\u914d\u7f6e\u8fd9\u4e9b\u5305\u3002\\n\\n\u4f7f\u7528 `easy_install`\uff0c\u60a8\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u5b89\u88c5 Python \u5305\u5e76\u81ea\u52a8\u89e3\u51b3\u6240\u4f9d\u8d56\u7684\u5176\u4ed6\u5305\u7684\u95ee\u9898\u3002\\n\\n`easy_install` \u4e0e Python \u81ea\u5e26\u7684 `pip` \u529f\u80fd\u7c7b\u4f3c\uff0c\u4f46\u5df2\u88ab\u5f03\u7528\uff0c\u76ee\u524d\u5df2\u5efa\u8bae\u4f7f\u7528 `pip` \u8fdb\u884c\u5305\u7ba1\u7406\u3002\\n\\n## 4\u3001brew install python\\n\\n```shell\\n$ brew install python@2\\n\\nWarning: No available formula with the name \\"python@2\\". Did you mean ipython, bpython, jython or cython?\\n==> Searching for similarly named formulae and casks...\\n==> Formulae\\nipython                            bpython                            jython                             cython\\n\\nTo install ipython, run:\\n  brew install ipython\\n```\\n\\n\u62a5\u9519\u4e86 shit...\\n\\n## 5\u3001pip install \u62a5\u9519\\n\\n\\n```text\\nDefaulting to user installation because normal site-packages is not writeable\\nCollecting mysql-utilities\\n  Using cached mysql-utilities-1.4.3.tar.gz (564 kB)\\n    ERROR: Command errored out with exit status 1:\\n     command: /System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -c \'import sys, setuptools, tokenize; sys.argv[0] = \'\\"\'\\"\'/private/var/folders/ft/95_cj6t91fd72fthj6ggvwp80000gq/T/pip-install-2Ka5JP/mysql-utilities/setup.py\'\\"\'\\"\'; __file__=\'\\"\'\\"\'/private/var/folders/ft/95_cj6t91fd72fthj6ggvwp80000gq/T/pip-install-2Ka5JP/mysql-utilities/setup.py\'\\"\'\\"\';f=getattr(tokenize, \'\\"\'\\"\'open\'\\"\'\\"\', open)(__file__);code=f.read().replace(\'\\"\'\\"\'\\\\r\\\\n\'\\"\'\\"\', \'\\"\'\\"\'\\\\n\'\\"\'\\"\');f.close();exec(compile(code, __file__, \'\\"\'\\"\'exec\'\\"\'\\"\'))\' egg_info --egg-base /private/var/folders/ft/95_cj6t91fd72fthj6ggvwp80000gq/T/pip-pip-egg-info-Y6Ndcn\\n         cwd: /private/var/folders/ft/95_cj6t91fd72fthj6ggvwp80000gq/T/pip-install-2Ka5JP/mysql-utilities/\\n    Complete output (5 lines):\\n    Traceback (most recent call last):\\n      File \\"<string>\\", line 1, in <module>\\n      File \\"/private/var/folders/ft/95_cj6t91fd72fthj6ggvwp80000gq/T/pip-install-2Ka5JP/mysql-utilities/setup.py\\", line 36, in <module>\\n        from info import META_INFO, INSTALL\\n    ImportError: No module named info\\n    ----------------------------------------\\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\\n```\\n\\n\u660e\u660e\u5728 `.zshrc` \u91cc\u9762\u5df2\u7ecf\u6307\u5b9a\u4e86 python \u4e3a /Lib \u76ee\u5f55\u4e0b\uff0c\u4f46\u662f\u4ed6\u67e5\u627e\u51fa\u6765\u7684\u4e0d\u662f\uff0c\u65e0\u5948\u53ea\u80fd \u6307\u5b9a python \u7248\u672c\u5b89\u88c5\uff1a\\n\\n```shell\\npython3.6 -m pip install <package_name>  # \u53ef\u4ee5\u5728python3.6\u4e0b\u5b89\u88c5\u5305\\npython3.7 -m pip install <package_name>  # \u53ef\u4ee5\u5728python3.7\u4e0b\u5b89\u88c5\u5305\\npython3.8 -m pip install <package_name>  # \u53ef\u4ee5\u5728python3.8\u4e0b\u5b89\u88c5\u5305\\n```","isLeaf":true}]},{"key":"/sourcemap","path":"/sourcemap","route":"/sourcemap","leaf":false,"title":"sourcemap","depth":0,"content":"","isLeaf":false,"children":[{"key":"/sourcemap/01-Source map\u7684\u683c\u5f0f.md","path":"/sourcemap/01-Source map\u7684\u683c\u5f0f.md","route":"/sourcemap/01-Source map\u7684\u683c\u5f0f.md","leaf":true,"title":"01-Source map\u7684\u683c\u5f0f","depth":1,"content":"```json\\n\u3000{\\n\u3000\u3000\u3000\u3000version : 3,\\n\u3000\u3000\u3000\u3000file: \\"out.js\\",\\n\u3000\u3000\u3000\u3000sourceRoot : \\"\\",\\n\u3000\u3000\u3000\u3000sources: [\\"foo.js\\", \\"bar.js\\"],\\n\u3000\u3000\u3000\u3000names: [\\"src\\", \\"maps\\", \\"are\\", \\"fun\\"],\\n\u3000\u3000\u3000\u3000mappings: \\"AAgBC,SAAQ,CAAEA\\"\\n\u3000\u3000}\\n```\\n\\n```\\n\u3000\u3000- version\uff1aSource map\u7684\u7248\u672c\uff0c\u76ee\u524d\u4e3a3\u3002\\n\u3000\u3000- file\uff1a\u8f6c\u6362\u540e\u7684\u6587\u4ef6\u540d\u3002\\n\u3000\u3000- sourceRoot\uff1a\u8f6c\u6362\u524d\u7684\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u3002\u5982\u679c\u4e0e\u8f6c\u6362\u524d\u7684\u6587\u4ef6\u5728\u540c\u4e00\u76ee\u5f55\uff0c\u8be5\u9879\u4e3a\u7a7a\u3002\\n\u3000\u3000- sources\uff1a\u8f6c\u6362\u524d\u7684\u6587\u4ef6\u3002\u8be5\u9879\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u8868\u793a\u53ef\u80fd\u5b58\u5728\u591a\u4e2a\u6587\u4ef6\u5408\u5e76\u3002\\n\u3000\u3000- names\uff1a\u8f6c\u6362\u524d\u7684\u6240\u6709\u53d8\u91cf\u540d\u548c\u5c5e\u6027\u540d\u3002\\n\u3000\u3000- mappings\uff1a\u8bb0\u5f55\u4f4d\u7f6e\u4fe1\u606f\u7684\u5b57\u7b26\u4e32\uff0c\u4e0b\u6587\u8be6\u7ec6\u4ecb\u7ecd\u3002\\n```","isLeaf":true},{"key":"/sourcemap/02-mappings\u5c5e\u6027.md","path":"/sourcemap/02-mappings\u5c5e\u6027.md","route":"/sourcemap/02-mappings\u5c5e\u6027.md","leaf":true,"title":"02-mappings\u5c5e\u6027","depth":1,"content":"\u5173\u952e\u5c31\u662fmap\u6587\u4ef6\u7684mappings\u5c5e\u6027\u3002\u8fd9\u662f\u4e00\u4e2a\u5f88\u957f\u7684\u5b57\u7b26\u4e32\uff0c\u5b83\u5206\u6210\u4e09\u5c42\u3002\\n\\n\\n\u3000\u3000\u7b2c\u4e00\u5c42\u662f\u884c\u5bf9\u5e94\uff0c\u4ee5\u5206\u53f7\uff08;\uff09\u8868\u793a\uff0c\u6bcf\u4e2a\u5206\u53f7\u5bf9\u5e94\u8f6c\u6362\u540e\u6e90\u7801\u7684\u4e00\u884c\u3002\u6240\u4ee5\uff0c\u7b2c\u4e00\u4e2a\u5206\u53f7\u524d\u7684\u5185\u5bb9\uff0c\u5c31\u5bf9\u5e94\u6e90\u7801\u7684\u7b2c\u4e00\u884c\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\\n\\n\u3000\u3000\u7b2c\u4e8c\u5c42\u662f\u4f4d\u7f6e\u5bf9\u5e94\uff0c\u4ee5\u9017\u53f7\uff08,\uff09\u8868\u793a\uff0c\u6bcf\u4e2a\u9017\u53f7\u5bf9\u5e94\u8f6c\u6362\u540e\u6e90\u7801\u7684\u4e00\u4e2a\u4f4d\u7f6e\u3002\u6240\u4ee5\uff0c\u7b2c\u4e00\u4e2a\u9017\u53f7\u524d\u7684\u5185\u5bb9\uff0c\u5c31\u5bf9\u5e94\u8be5\u884c\u6e90\u7801\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\\n\\n\u3000\u3000\u7b2c\u4e09\u5c42\u662f\u4f4d\u7f6e\u8f6c\u6362\uff0c\u4ee5VLQ\u7f16\u7801\u8868\u793a\uff0c\u4ee3\u8868\u8be5\u4f4d\u7f6e\u5bf9\u5e94\u7684\u8f6c\u6362\u524d\u7684\u6e90\u7801\u4f4d\u7f6e\u3002\\n\\n\\n\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5047\u5b9amappings\u5c5e\u6027\u7684\u5185\u5bb9\u5982\u4e0b\uff1a\\n\\n\u3000\u3000mappings:\\"AAAAA,BBBBB;CCCCC\\"\\n\\n\u5c31\u8868\u793a\uff0c\u8f6c\u6362\u540e\u7684\u6e90\u7801\u5206\u6210\u4e24\u884c\uff0c\u7b2c\u4e00\u884c\u6709\u4e24\u4e2a\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u884c\u6709\u4e00\u4e2a\u4f4d\u7f6e\u3002","isLeaf":true},{"key":"/sourcemap/03-\u4f4d\u7f6e\u5bf9\u5e94\u7684\u539f\u7406.md","path":"/sourcemap/03-\u4f4d\u7f6e\u5bf9\u5e94\u7684\u539f\u7406.md","route":"/sourcemap/03-\u4f4d\u7f6e\u5bf9\u5e94\u7684\u539f\u7406.md","leaf":true,"title":"03-\u4f4d\u7f6e\u5bf9\u5e94\u7684\u539f\u7406","depth":1,"content":"\u6bcf\u4e2a\u4f4d\u7f6e\u4f7f\u7528\u4e94\u4f4d\uff0c\u8868\u793a\u4e94\u4e2a\u5b57\u6bb5\u3002\\n\\n\u4ece\u5de6\u8fb9\u7b97\u8d77\\n\\n\u3000- \u7b2c\u4e00\u4f4d\uff0c\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u5728\uff08\u8f6c\u6362\u540e\u7684\u4ee3\u7801\u7684\uff09\u7684\u7b2c\u51e0\u5217\u3002\\n\\n\u3000\u3000- \u7b2c\u4e8c\u4f4d\uff0c\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u5c5e\u4e8esources\u5c5e\u6027\u4e2d\u7684\u54ea\u4e00\u4e2a\u6587\u4ef6\u3002\\n\\n\u3000\u3000- \u7b2c\u4e09\u4f4d\uff0c\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u5c5e\u4e8e\u8f6c\u6362\u524d\u4ee3\u7801\u7684\u7b2c\u51e0\u884c\u3002\\n\\n\u3000\u3000- \u7b2c\u56db\u4f4d\uff0c\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u5c5e\u4e8e\u8f6c\u6362\u524d\u4ee3\u7801\u7684\u7b2c\u51e0\u5217\u3002\\n\\n\u3000\u3000- \u7b2c\u4e94\u4f4d\uff0c\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u5c5e\u4e8enames\u5c5e\u6027\u4e2d\u7684\u54ea\u4e00\u4e2a\u53d8\u91cf\u3002","isLeaf":true},{"key":"/sourcemap/04-VLQ\u7f16\u7801.md","path":"/sourcemap/04-VLQ\u7f16\u7801.md","route":"/sourcemap/04-VLQ\u7f16\u7801.md","leaf":true,"title":"04-VLQ\u7f16\u7801","depth":1,"content":"\u5982\u679c\u67d0\u4e2a\u4f4d\u7f6e\u662fAAAAA\uff0c\u7531\u4e8eA\u5728VLQ\u7f16\u7801\u4e2d\u8868\u793a0\uff0c\u56e0\u6b64\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u4e94\u4e2a\u4f4d\u5b9e\u9645\u4e0a\u90fd\u662f0\u3002\\n\\n\u5b83\u7684\u610f\u601d\u662f\uff0c\u8be5\u4f4d\u7f6e\u5728\u8f6c\u6362\u540e\u4ee3\u7801\u7684\u7b2c0\u5217\uff0c\u5bf9\u5e94sources\u5c5e\u6027\u4e2d\u7b2c0\u4e2a\u6587\u4ef6\uff0c\u5c5e\u4e8e\u8f6c\u6362\u524d\u4ee3\u7801\u7684\u7b2c0\u884c\u7b2c0\u5217\uff0c\u5bf9\u5e94names\u5c5e\u6027\u4e2d\u7684\u7b2c0\u4e2a\u53d8\u91cf\u3002\\n\\n\\n\u6700\u540e\uff0c\u8c08\u8c08\u5982\u4f55\u7528VLQ\u7f16\u7801\u8868\u793a\u6570\u503c\u3002\\n\\n\u8fd9\u79cd\u7f16\u7801\u6700\u65e9\u7528\u4e8eMIDI\u6587\u4ef6\uff0c\u540e\u6765\u88ab\u591a\u79cd\u683c\u5f0f\u91c7\u7528\u3002\u5b83\u7684\u7279\u70b9\u5c31\u662f\u53ef\u4ee5\u975e\u5e38\u7cbe\u7b80\u5730\u8868\u793a\u5f88\u5927\u7684\u6570\u503c\u3002\\n\\n\\nVLQ\u7f16\u7801\u662f\u53d8\u957f\u7684\u3002\u5982\u679c\uff08\u6574\uff09\u6570\u503c\u5728-15\u5230+15\u4e4b\u95f4\uff08\u542b\u4e24\u4e2a\u7aef\u70b9\uff09\uff0c\u7528\u4e00\u4e2a\u5b57\u7b26\u8868\u793a\uff1b\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\uff0c\u5c31\u9700\u8981\u7528\u591a\u4e2a\u5b57\u7b26\u8868\u793a\u3002\u5b83\u89c4\u5b9a\uff0c\u6bcf\u4e2a\u5b57\u7b26\u4f7f\u75286\u4e2a\u4e24\u8fdb\u5236\u4f4d\uff0c\u6b63\u597d\u53ef\u4ee5\u501f\u7528Base 64\u7f16\u7801\u7684\u5b57\u7b26\u8868\u3002\\n\\n\\n![20230710161209](http://s3.airtlab.com/blog/20230710161209.png)","isLeaf":true},{"key":"/sourcemap/05-source-map\u5e93.md","path":"/sourcemap/05-source-map\u5e93.md","route":"/sourcemap/05-source-map\u5e93.md","leaf":true,"title":"05-source-map\u5e93","depth":1,"content":"https://github.com/mozilla/source-map","isLeaf":true},{"key":"/sourcemap/06-\u6f14\u793a.md","path":"/sourcemap/06-\u6f14\u793a.md","route":"/sourcemap/06-\u6f14\u793a.md","leaf":true,"title":"06-\u6f14\u793a","depth":1,"content":"```json\\n{\\n  \\"version\\": 3,\\n  \\"file\\": \\"my-first-webpack.bundle.js\\",\\n  \\"mappings\\": \\"MAKA,MAAMA,GAJFC,QAAQC,IAAI,KACL,KAKXD,QAAQC,IAAIF,EAAG,I\\",\\n  \\"sources\\": [\\n    \\"webpack://sourcemap-demo/./src/main.js\\"\\n  ],\\n  \\"sourcesContent\\": [\\n    \\"function sleep() {\\\\n    console.log(222)\\\\n    return 200;\\\\n}\\\\n\\\\nconst a = sleep()\\\\n\\\\nconsole.log(a, 111)\\"\\n  ],\\n  \\"names\\": [\\n    \\"a\\",\\n    \\"console\\",\\n    \\"log\\"\\n  ],\\n  \\"sourceRoot\\": \\"\\"\\n}\\n```\\n\\noutput\\n\\n```js\\n(()=>{const o=(console.log(222),200);console.log(o,111)})();\\n//# sourceMappingURL=my-first-webpack.bundle.js.map\\n```\\n\\n## mappings\\n\\n\\"MAKA,MAAMA,GAJFC,QAAQC,IAAI,KACL,KAKXD,QAAQC,IAAIF,EAAG,I\\",","isLeaf":true},{"key":"/sourcemap/javascript_source_map-\u962e\u4e00\u5cf0.md","path":"/sourcemap/javascript_source_map-\u962e\u4e00\u5cf0.md","route":"/sourcemap/javascript_source_map-\u962e\u4e00\u5cf0.md","leaf":true,"title":"javascript_source_map-\u962e\u4e00\u5cf0","depth":1,"content":"https://www.ruanyifeng.com/blog/2013/01/javascript_source_map.html","isLeaf":true}]},{"key":"/system","path":"/system","route":"/system","leaf":false,"title":"system","depth":0,"content":"","isLeaf":false,"children":[{"key":"/system/ASCII.md","path":"/system/ASCII.md","route":"/system/ASCII.md","leaf":true,"title":"ASCII","depth":1,"content":"### ASCII \u7f16\u7801\\n\\n![20230619114042](http://s3.airtlab.com/blog/20230619114042.png)\\n\\nASCII \u7801\u4e3b\u8981\u652f\u6301\u82f1\u6587\u548c\u90e8\u5206\u897f\u6b27\u8bed\u8a00\uff0c\u5b83\u4e0d\u652f\u6301\u4e2d\u6587\u7684\u7f16\u7801\u3002\\n\\n![20230619114049](http://s3.airtlab.com/blog/20230619114049.png)\\n\\n\u6807\u51c6 ASCII \u7801 \u4e3b\u8981\u7528\u6765\u8868\u793a\u5927\u5c0f\u5199\u5b57\u6bcd/\u6807\u70b9\u7b26\u53f7/\u7f8e\u5f0f\u82f1\u8bed\u4e2d\u7684\u63a7\u5236\u7b26\u7b49\u3002\\n\u6269\u5c55 ASCII \u7801 \u4e3b\u8981\u7528\u6765\u8868\u793a\u7279\u6b8a\u5b57\u7b26/\u5916\u6765\u8bed\u8a00\u5b57\u7b26\u7b49\u3002\\n\\n### ASCII \u7f16\u7801\u8868\\n\\n| Bin (\u4e8c\u8fdb\u5236) | Oct (\u516b\u8fdb\u5236) | Dec (\u5341\u8fdb\u5236) | Hex (\u5341\u516d\u8fdb\u5236) | \u7f29\u5199/\u5b57\u7b26 | \u89e3\u91ca |\\n| --- | --- | --- | --- | --- | --- |\\n| 0000 0000 | 00 | 0 | 0x00 | NUL(null) | \u7a7a\u5b57\u7b26 |\\n| 0000 0001 | 01 | 1 | 0x01 | SOH(start of headline) | \u6807\u9898\u5f00\u59cb |\\n| 0000 0010 | 02 | 2 | 0x02 | STX (start of text) | \u6b63\u6587\u5f00\u59cb |\\n| 0000 0011 | 03 | 3 | 0x03 | ETX (end of text) | \u6b63\u6587\u7ed3\u675f |\\n| 0000 0100 | 04 | 4 | 0x04 | EOT (end of transmission) | \u4f20\u8f93\u7ed3\u675f |\\n| 0000 0101 | 05 | 5 | 0x05 | ENQ (enquiry) | \u8bf7\u6c42 |\\n| 0000 0110 | 06 | 6 | 0x06 | ACK (acknowledge) | \u6536\u5230\u901a\u77e5 |\\n| 0000 0111 | 07 | 7 | 0x07 | BEL (bell) | \u54cd\u94c3 |\\n| 0000 1000 | 010 | 8 | 0x08 | BS (backspace) | \u9000\u683c |\\n| 0000 1001 | 011 | 9 | 0x09 | HT (horizontal tab) | \u6c34\u5e73\u5236\u8868\u7b26 |\\n| 0000 1010 | 012 | 10 | 0x0A | LF (NL line feed, new line) | \u6362\u884c\u952e |\\n| 0000 1011 | 013 | 11 | 0x0B | VT (vertical tab) | \u5782\u76f4\u5236\u8868\u7b26 |\\n| 0000 1100 | 014 | 12 | 0x0C | FF (NP form feed, new page) | \u6362\u9875\u952e |\\n| 0000 1101 | 015 | 13 | 0x0D | CR (carriage return) | \u56de\u8f66\u952e |\\n| 0000 1110 | 016 | 14 | 0x0E | SO (shift out) | \u4e0d\u7528\u5207\u6362 |\\n| 0000 1111 | 017 | 15 | 0x0F | SI (shift in) | \u542f\u7528\u5207\u6362 |\\n| 0001 0000 | 020 | 16 | 0x10 | DLE (data link escape) | \u6570\u636e\u94fe\u8def\u8f6c\u4e49 |\\n| 0001 0001 | 021 | 17 | 0x11 | DC1 (device control 1) | \u8bbe\u5907\u63a7\u52361 |\\n| 0001 0010 | 022 | 18 | 0x12 | DC2 (device control 2) | \u8bbe\u5907\u63a7\u52362 |\\n| 0001 0011 | 023 | 19 | 0x13 | DC3 (device control 3) | \u8bbe\u5907\u63a7\u52363 |\\n| 0001 0100 | 024 | 20 | 0x14 | DC4 (device control 4) | \u8bbe\u5907\u63a7\u52364 |\\n| 0001 0101 | 025 | 21 | 0x15 | NAK (negative acknowledge) | \u62d2\u7edd\u63a5\u6536 |\\n| 0001 0110 | 026 | 22 | 0x16 | SYN (synchronous idle) | \u540c\u6b65\u7a7a\u95f2 |\\n| 0001 0111 | 027 | 23 | 0x17 | ETB (end of trans. block) | \u7ed3\u675f\u4f20\u8f93\u5757 |\\n| 0001 1000 | 030 | 24 | 0x18 | CAN (cancel) | \u53d6\u6d88 |\\n| 0001 1001 | 031 | 25 | 0x19 | EM (end of medium) | \u5a92\u4ecb\u7ed3\u675f |\\n| 0001 1010 | 032 | 26 | 0x1A | SUB (substitute) | \u4ee3\u66ff |\\n| 0001 1011 | 033 | 27 | 0x1B | ESC (escape) | \u6362\u7801(\u6ea2\u51fa) |\\n| 0001 1100 | 034 | 28 | 0x1C | FS (file separator) | \u6587\u4ef6\u5206\u9694\u7b26 |\\n| 0001 1101 | 035 | 29 | 0x1D | GS (group separator) | \u5206\u7ec4\u7b26 |\\n| 0001 1110 | 036 | 30 | 0x1E | RS (record separator) | \u8bb0\u5f55\u5206\u9694\u7b26 |\\n| 0001 1111 | 037 | 31 | 0x1F | US (unit separator) | \u5355\u5143\u5206\u9694\u7b26 |\\n| 0010 0000 | 040 | 32 | 0x20 | (space) | \u7a7a\u683c |\\n| 0010 0001 | 041 | 33 | 0x21 | ! | \u53f9\u53f7 |\\n| 0010 0010 | 042 | 34 | 0x22 | \\" | \u53cc\u5f15\u53f7 |\\n| 0010 0011 | 043 | 35 | 0x23 | # | \u4e95\u53f7 |\\n| 0010 0100 | 044 | 36 | 0x24 | $ | \u7f8e\u5143\u7b26 |\\n| 0010 0101 | 045 | 37 | 0x25 | % | \u767e\u5206\u53f7 |\\n| 0010 0110 | 046 | 38 | 0x26 | & | \u548c\u53f7 |\\n| 0010 0111 | 047 | 39 | 0x27 | \' | \u95ed\u5355\u5f15\u53f7 |\\n| 0010 1000 | 050 | 40 | 0x28 | ( | \u5f00\u62ec\u53f7 |\\n| 0010 1001 | 051 | 41 | 0x29 | ) | \u95ed\u62ec\u53f7 |\\n| 0010 1010 | 052 | 42 | 0x2A | * | \u661f\u53f7 |\\n| 0010 1011 | 053 | 43 | 0x2B | + | \u52a0\u53f7 |\\n| 0010 1100 | 054 | 44 | 0x2C | , | \u9017\u53f7 |\\n| 0010 1101 | 055 | 45 | 0x2D | - | \u51cf\u53f7/\u7834\u6298\u53f7 |\\n| 0010 1110 | 056 | 46 | 0x2E | . | \u53e5\u53f7 |\\n| 0010 1111 | 057 | 47 | 0x2F | / | \u659c\u6760 |\\n| 0011 0000 | 060 | 48 | 0x30 | 0 | \u5b57\u7b260 |\\n| 0011 0001 | 061 | 49 | 0x31 | 1 | \u5b57\u7b261 |\\n| 0011 0010 | 062 | 50 | 0x32 | 2 | \u5b57\u7b262 |\\n| 0011 0011 | 063 | 51 | 0x33 | 3 | \u5b57\u7b263 |\\n| 0011 0100 | 064 | 52 | 0x34 | 4 | \u5b57\u7b264 |\\n| 0011 0101 | 065 | 53 | 0x35 | 5 | \u5b57\u7b265 |\\n| 0011 0110 | 066 | 54 | 0x36 | 6 | \u5b57\u7b266 |\\n| 0011 0111 | 067 | 55 | 0x37 | 7 | \u5b57\u7b267 |\\n| 0011 1000 | 070 | 56 | 0x38 | 8 | \u5b57\u7b268 |\\n| 0011 1001 | 071 | 57 | 0x39 | 9 | \u5b57\u7b269 |\\n| 0011 1010 | 072 | 58 | 0x3A | : | \u5192\u53f7 |\\n| 0011 1011 | 073 | 59 | 0x3B | ; | \u5206\u53f7 |\\n| 0011 1100 | 074 | 60 | 0x3C | < | \u5c0f\u4e8e |\\n| 0011 1101 | 075 | 61 | 0x3D | = | \u7b49\u53f7 |\\n| 0011 1110 | 076 | 62 | 0x3E | > | \u5927\u4e8e |\\n| 0011 1111 | 077 | 63 | 0x3F | ? | \u95ee\u53f7 |\\n| 0100 0000 | 0100 | 64 | 0x40 | @ | \u7535\u5b50\u90ae\u4ef6\u7b26\u53f7 |\\n| 0100 0001 | 0101 | 65 | 0x41 | A | \u5927\u5199\u5b57\u6bcdA |\\n| 0100 0010 | 0102 | 66 | 0x42 | B | \u5927\u5199\u5b57\u6bcdB |\\n| 0100 0011 | 0103 | 67 | 0x43 | C | \u5927\u5199\u5b57\u6bcdC |\\n| 0100 0100 | 0104 | 68 | 0x44 | D | \u5927\u5199\u5b57\u6bcdD |\\n| 0100 0101 | 0105 | 69 | 0x45 | E | \u5927\u5199\u5b57\u6bcdE |\\n| 0100 0110 | 0106 | 70 | 0x46 | F | \u5927\u5199\u5b57\u6bcdF |\\n| 0100 0111 | 0107 | 71 | 0x47 | G | \u5927\u5199\u5b57\u6bcdG |\\n| 0100 1000 | 0110 | 72 | 0x48 | H | \u5927\u5199\u5b57\u6bcdH |\\n| 0100 1001 | 0111 | 73 | 0x49 | I | \u5927\u5199\u5b57\u6bcdI |\\n| 01001010 | 0112 | 74 | 0x4A | J | \u5927\u5199\u5b57\u6bcdJ |\\n| 0100 1011 | 0113 | 75 | 0x4B | K | \u5927\u5199\u5b57\u6bcdK |\\n| 0100 1100 | 0114 | 76 | 0x4C | L | \u5927\u5199\u5b57\u6bcdL |\\n| 0100 1101 | 0115 | 77 | 0x4D | M | \u5927\u5199\u5b57\u6bcdM |\\n| 0100 1110 | 0116 | 78 | 0x4E | N | \u5927\u5199\u5b57\u6bcdN |\\n| 0100 1111 | 0117 | 79 | 0x4F | O | \u5927\u5199\u5b57\u6bcdO |\\n| 0101 0000 | 0120 | 80 | 0x50 | P | \u5927\u5199\u5b57\u6bcdP |\\n| 0101 0001 | 0121 | 81 | 0x51 | Q | \u5927\u5199\u5b57\u6bcdQ |\\n| 0101 0010 | 0122 | 82 | 0x52 | R | \u5927\u5199\u5b57\u6bcdR |\\n| 0101 0011 | 0123 | 83 | 0x53 | S | \u5927\u5199\u5b57\u6bcdS |\\n| 0101 0100 | 0124 | 84 | 0x54 | T | \u5927\u5199\u5b57\u6bcdT |\\n| 0101 0101 | 0125 | 85 | 0x55 | U | \u5927\u5199\u5b57\u6bcdU |\\n| 0101 0110 | 0126 | 86 | 0x56 | V | \u5927\u5199\u5b57\u6bcdV |\\n| 0101 0111 | 0127 | 87 | 0x57 | W | \u5927\u5199\u5b57\u6bcdW |\\n| 0101 1000 | 0130 | 88 | 0x58 | X | \u5927\u5199\u5b57\u6bcdX |\\n| 0101 1001 | 0131 | 89 | 0x59 | Y | \u5927\u5199\u5b57\u6bcdY |\\n| 0101 1010 | 0132 | 90 | 0x5A | Z | \u5927\u5199\u5b57\u6bcdZ |\\n| 0101 1011 | 0133 | 91 | 0x5B | [ | \u5f00\u65b9\u62ec\u53f7 |\\n| 0101 1100 | 0134 | 92 | 0x5C | \\\\\\\\ | \u53cd\u659c\u6760 |\\n| 0101 1101 | 0135 | 93 | 0x5D | ] | \u95ed\u65b9\u62ec\u53f7 |\\n| 0101 1110 | 0136 | 94 | 0x5E | ^ | \u8131\u5b57\u7b26 |\\n| 0101 1111 | 0137 | 95 | 0x5F | _ | \u4e0b\u5212\u7ebf |\\n| 0110 0000 | 0140 | 96 | 0x60 | ` | \u5f00\u5355\u5f15\u53f7 |\\n| 0110 0001 | 0141 | 97 | 0x61 | a | \u5c0f\u5199\u5b57\u6bcda |\\n| 0110 0010 | 0142 | 98 | 0x62 | b | \u5c0f\u5199\u5b57\u6bcdb |\\n| 0110 0011 | 0143 | 99 | 0x63 | c | \u5c0f\u5199\u5b57\u6bcdc |\\n| 0110 0100 | 0144 | 100 | 0x64 | d | \u5c0f\u5199\u5b57\u6bcdd |\\n| 0110 0101 | 0145 | 101 | 0x65 | e | \u5c0f\u5199\u5b57\u6bcde |\\n| 0110 0110 | 0146 | 102 | 0x66 | f | \u5c0f\u5199\u5b57\u6bcdf |\\n| 0110 0111 | 0147 | 103 | 0x67 | g | \u5c0f\u5199\u5b57\u6bcdg |\\n| 0110 1000 | 0150 | 104 | 0x68 | h | \u5c0f\u5199\u5b57\u6bcdh |\\n| 0110 1001 | 0151 | 105 | 0x69 | i | \u5c0f\u5199\u5b57\u6bcdi |\\n| 0110 1010 | 0152 | 106 | 0x6A | j | \u5c0f\u5199\u5b57\u6bcdj |\\n| 0110 1011 | 0153 | 107 | 0x6B | k | \u5c0f\u5199\u5b57\u6bcdk |\\n| 0110 1100 | 0154 | 108 | 0x6C | l | \u5c0f\u5199\u5b57\u6bcdl |\\n| 0110 1101 | 0155 | 109 | 0x6D | m | \u5c0f\u5199\u5b57\u6bcdm |\\n| 0110 1110 | 0156 | 110 | 0x6E | n | \u5c0f\u5199\u5b57\u6bcdn |\\n| 0110 1111 | 0157 | 111 | 0x6F | o | \u5c0f\u5199\u5b57\u6bcdo |\\n| 0111 0000 | 0160 | 112 | 0x70 | p | \u5c0f\u5199\u5b57\u6bcdp |\\n| 0111 0001 | 0161 | 113 | 0x71 | q | \u5c0f\u5199\u5b57\u6bcdq |\\n| 0111 0010 | 0162 | 114 | 0x72 | r | \u5c0f\u5199\u5b57\u6bcdr |\\n| 0111 0011 | 0163 | 115 | 0x73 | s | \u5c0f\u5199\u5b57\u6bcds |\\n| 0111 0100 | 0164 | 116 | 0x74 | t | \u5c0f\u5199\u5b57\u6bcdt |\\n| 0111 0101 | 0165 | 117 | 0x75 | u | \u5c0f\u5199\u5b57\u6bcdu |\\n| 0111 0110 | 0166 | 118 | 0x76 | v | \u5c0f\u5199\u5b57\u6bcdv |\\n| 0111 0111 | 0167 | 119 | 0x77 | w | \u5c0f\u5199\u5b57\u6bcdw |\\n| 0111 1000 | 0170 | 120 | 0x78 | x | \u5c0f\u5199\u5b57\u6bcdx |\\n| 0111 1001 | 0171 | 121 | 0x79 | y | \u5c0f\u5199\u5b57\u6bcdy |\\n| 0111 1010 | 0172 | 122 | 0x7A | z | \u5c0f\u5199\u5b57\u6bcdz |\\n| 0111 1011 | 0173 | 123 | 0x7B | { | \u5f00\u82b1\u62ec\u53f7 |\\n| 0111 1100 | 0174 | 124 | 0x7C | &#124; | \u5782\u7ebf |\\n| 0111 1101 | 0175 | 125 | 0x7D | } | \u95ed\u82b1\u62ec\u53f7 |\\n| 0111 1110 | 0176 | 126 | 0x7E | ~ | \u6ce2\u6d6a\u53f7 |\\n| 0111 1111 | 0177 | 127 | 0x7F | DEL (delete) | \u5220\u9664 |\\n\\n### **Unicode \u7f16\u7801**\\nUnicode\u7f16\u7801\u7684\u76ee\u6807\u662f\u652f\u6301\u4e16\u754c\u4e0a\u6240\u6709\u7684\u5b57\u7b26\u96c6\u8868\u793a\u3002\\n\\n![20230619114100](http://s3.airtlab.com/blog/20230619114100.png)\\n\\nUnicode \u90fd\u662f4\u4f4d\u7684\uff0c\u800c\u4e14\u752816\u8fdb\u5236\u6765\u8868\u793a\u3002","isLeaf":true},{"key":"/system/Virtual-machine","path":"/system/Virtual-machine","route":"/system/Virtual-machine","leaf":false,"title":"Virtual-machine","depth":1,"content":"","isLeaf":false,"children":[{"key":"/system/Virtual-machine/01-Virtual-machine.md","path":"/system/Virtual-machine/01-Virtual-machine.md","route":"/system/Virtual-machine/01-Virtual-machine.md","leaf":true,"title":"01-Virtual-machine","depth":2,"content":"## \u865a\u62df\u673a\u7684\u8ba4\u8bc6\\n- \u4ec0\u4e48\u662f\u7269\u7406\u673a/\u5bbf\u4e3b\u673a\uff1f\\n- \u4ec0\u4e48\u662f\u865a\u62df\u673a\uff1f\\n- \u865a\u62df\u673a\u7684\u7528\u9014\uff1f\\n- \u4f7f\u7528\u865a\u62df\u673a\u7684\u597d\u5904\uff1f\\n   - \u53ef\u4ee5\u88c5\u591a\u4e2a\u7cfb\u7edf\\n   - \u8d77\u5230\u9694\u79bb\u4f5c\u7528\\n- \u8f6f\u4ef6\u6a21\u62df\u786c\u4ef6\u8bbe\u5907\uff1f\\n\\n![20230619113906](http://s3.airtlab.com/blog/20230619113906.png)\\n\\n## \u5e38\u89c1\u865a\u62df\u673a\u6bd4\u8f83\\n\\n![20230619113916](http://s3.airtlab.com/blog/20230619113916.png)\\n\\n## \u4f7f\u7528\u865a\u62df\u673a\u7684\u597d\u5904\\n\\n![20230619113927](http://s3.airtlab.com/blog/20230619113927.png)\\n","isLeaf":true},{"key":"/system/Virtual-machine/02-Virtual-machine-network-connection-type.md","path":"/system/Virtual-machine/02-Virtual-machine-network-connection-type.md","route":"/system/Virtual-machine/02-Virtual-machine-network-connection-type.md","leaf":true,"title":"02-Virtual-machine-network-connection-type","depth":2,"content":"---\\ntitle: \u865a\u62df\u673a\u7f51\u7edc\u8fde\u63a5\u7c7b\u578b\\n---\\n\\n![20230619113715](http://s3.airtlab.com/blog/20230619113715.png)","isLeaf":true}]},{"key":"/system/bit-operation.md","path":"/system/bit-operation.md","route":"/system/bit-operation.md","leaf":true,"title":"bit-operation","depth":1,"content":"[https://www.runoob.com/w3cnote/bit-operation.html](https://www.runoob.com/w3cnote/bit-operation.html)\\n\\n| \u7b26\u53f7 | \u63cf\u8ff0 | \u8fd0\u7b97\u89c4\u5219 |\\n| --- | --- | --- |\\n| & | \u4e0e | \u4e24\u4e2a\u4f4d\u90fd\u4e3a1\u65f6\uff0c\u7ed3\u679c\u624d\u4e3a1 |\\n| &#124; | \u6216 | \u4e24\u4e2a\u4f4d\u90fd\u4e3a0\u65f6\uff0c\u7ed3\u679c\u624d\u4e3a0 |\\n| ^ | \u5f02\u6216 | \u4e24\u4e2a\u4f4d\u76f8\u540c\u4e3a0\uff0c\u76f8\u5f02\u4e3a1 |\\n| ~ | \u53d6\u53cd | 0\u53d81\uff0c1\u53d80 |\\n| << | \u5de6\u79fb | \u5404\u4e8c\u8fdb\u4f4d\u5168\u90e8\u5de6\u79fb\u82e5\u5e72\u4f4d\uff0c\u9ad8\u4f4d\u4e22\u5f03\uff0c\u4f4e\u4f4d\u88650 |\\n| >> | \u53f3\u79fb | \u5404\u4e8c\u8fdb\u4f4d\u5168\u90e8\u53f3\u79fb\u82e5\u5e72\u4f4d\uff0c\u5bf9\u65e0\u7b26\u53f7\u6570\uff0c\u9ad8\u4f4d\u88650\uff0c\u6709\u7b26\u53f7\u6570\uff0c\u5404\u7f16\u8bd1\u5668\u5904\u7406\u65b9\u6cd5\u4e0d\u4e00\u6837\uff0c\u6709\u7684\u8865\u7b26\u53f7\u4f4d\uff08\u7b97\u672f\u53f3\u79fb\uff09\uff0c\u6709\u7684\u88650\uff08\u903b\u8f91\u53f3\u79fb\uff09 |\\n\\n### << \u5de6\u79fb\\n\\n```javascript\\n// 3 \u7684\u4e8c\u8fdb\u5236\u8868\u793a 0000 0011\\n// \u5de6\u79fb 4\u4f4d 0011\\n// \u53f3\u4fa7\u88650  =>  00110000\uff0c\u53d8\u4e3a\u5341\u8fdb\u5236 48\\n\\nconsole.log(3 << 4) // 48\\n```\\n\\n### >> \u53f3\u79fb\\n\\n```javascript\\n// 1. \u5341\u8fdb\u5236 32 \u7684\u4e8c\u8fdb\u5236\u8868\u793a\u4e3a\uff1a0010 0000\\n// 2. \u53f3\u79fb 4\u4f4d 0000 0010\\nconsole.log(32 >> 4) // 2\\n```\\n```javascript\\n// 1. \u5341\u8fdb\u5236 40 \u7684\u4e8c\u8fdb\u5236\u8868\u793a\u4e3a\uff1a0010 1000\\n// 2. \u53f3\u79fb 4\u4f4d 0000 0010\\nconsole.log(40 >> 4) // 2\\n```\\n\\n### | \u6216\u8fd0\u7b97\\n\\n```javascript\\n// 010\\n// 011\\n// 011 => 3\\n2 | 3\\n```\\n\\n### & \u4e0e\u8fd0\u7b97\\n```javascript\\n// 010\\n// 011\\n// 010 => 2\\n2 & 3\\n\\n// 011\\n// 101\\n// 001\\n// 3 & 5 => 1\\n```","isLeaf":true},{"key":"/system/english","path":"/system/english","route":"/system/english","leaf":false,"title":"english","depth":1,"content":"","isLeaf":false,"children":[{"key":"/system/english/01-workarounds.md","path":"/system/english/01-workarounds.md","route":"/system/english/01-workarounds.md","leaf":true,"title":"01-workarounds","depth":2,"content":"---\\ntags: english\\n---\\n\\nworkarounds \u8868\u793a\u53d8\u901a\u65b9\u6cd5\u3001\u89e3\u51b3\u65b9\u6848\\n\\n```\\nJust think the amount of time that a web developer saves without having to code hacks and workarounds for IE.\\n```\\n\\n\u8bd5\u60f3\u4e00\u4e0b\uff0c\u8fd9\u5c06\u4e3a\u7f51\u7edc\u5f00\u53d1\u4eba\u5458\u8282\u7701\u591a\u5c11\u65f6\u95f4\uff0c\u56e0\u4e3a\u4ed6\u4eec\u65e0\u9700\u4e3a\u9488\u5bf9 IE \u7684\u4e8c\u6b21\u4fee\u6539\u548c\u89e3\u51b3\u65b9\u6848\u8fdb\u884c\u7f16\u7801\u3002","isLeaf":true},{"key":"/system/english/02-consume.md","path":"/system/english/02-consume.md","route":"/system/english/02-consume.md","leaf":true,"title":"02-consume","depth":2,"content":"---\\ntags: english\\n---\\n\\n```\\nthese machines consume 5 percent of the natural gas in the U.S\\n```\\n\u8fd9\u4e9b\u673a\u5668\u6d88\u8017\u4e86\u7f8e\u56fd 5% \u7684\u5929\u7136\u6c14\\n\\n```\\npeople consume a good deal of sugar in drinks\\n```\\n\u4eba\u4eec\u5728\u996e\u6599\u4e2d\u6444\u5165\u5927\u91cf\u7cd6\u5206\\n\\n```\\nThis plugin can consume local files, node modules or web_modules.\\n```\\n\u6b64\u63d2\u4ef6\u53ef\u4ee5\u4f7f\u7528\u672c\u5730\u6587\u4ef6\u3001\u8282\u70b9\u6a21\u5757\u6216 web_modules\u3002","isLeaf":true},{"key":"/system/english/03-forgry.md","path":"/system/english/03-forgry.md","route":"/system/english/03-forgry.md","leaf":true,"title":"03-forgry","depth":2,"content":"---\\ntags: english\\n---\\n\\n```\\nthe action of forging or producing a copy of a document, signature, banknote, or work of art.\\n```\\n\u4f2a\u9020\u6216\u5236\u4f5c\u6587\u4ef6\u3001\u7b7e\u540d\u3001\u949e\u7968\u6216\u827a\u672f\u54c1\u7684\u526f\u672c\u7684\u884c\u4e3a\u3002\\n\\n```\\nhe was found guilty of forgery\\n```\\n\u4ed6\u88ab\u5224\u72af\u6709\u4f2a\u9020\u7f6a","isLeaf":true},{"key":"/system/english/04-appendix.md","path":"/system/english/04-appendix.md","route":"/system/english/04-appendix.md","leaf":true,"title":"04-appendix","depth":2,"content":"---\\ntags: english\\n---\\n\\n```\\na list of such activities was published as an appendix to the report\\n```\\n\u6b64\u7c7b\u6d3b\u52a8\u7684\u6e05\u5355\u5df2\u4f5c\u4e3a\u62a5\u544a\u7684\u9644\u5f55\u516c\u5e03","isLeaf":true}]},{"key":"/system/linux","path":"/system/linux","route":"/system/linux","leaf":false,"title":"linux","depth":1,"content":"","isLeaf":false,"children":[{"key":"/system/linux/01-dig.md","path":"/system/linux/01-dig.md","route":"/system/linux/01-dig.md","leaf":true,"title":"01-dig","depth":2,"content":"---\\ntags: linux\\n---\\n\\n## 1\u3001dig \u4ecb\u7ecd\\n\\ndig \u662f\u4e00\u79cd\u7528\u4e8e\u67e5\u8be2\u57df\u540d\u7cfb\u7edf\uff08DNS\uff09\u670d\u52a1\u5668\u7684\u547d\u4ee4\u884c\u5de5\u5177\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cdig \u786e\u5b9e\u4f7f\u7528\u672c\u5730\u4e3b\u673a\u7684 DNS \u89e3\u6790\u5668\u6765\u6267\u884c\u67e5\u8be2\u3002\u4f46\u662f\uff0c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0cdig \u53ef\u80fd\u4f1a\u7ed5\u8fc7\u672c\u5730\u4e3b\u673a\u7684 DNS \u89e3\u6790\u5668\uff0c\u4f8b\u5982\uff1a\\n\\n1. \u6307\u5b9a\u4e86\u5176\u4ed6 DNS \u670d\u52a1\u5668\uff1a\u5982\u679c\u60a8\u5728\u4f7f\u7528 dig \u65f6\u663e\u5f0f\u6307\u5b9a\u4e86\u5176\u4ed6 DNS \u670d\u52a1\u5668\uff0c\u5219 dig \u4f1a\u76f4\u63a5\u4e0e\u8be5 DNS \u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\u800c\u4e0d\u4f1a\u4f7f\u7528\u672c\u5730\u4e3b\u673a\u7684 DNS \u89e3\u6790\u5668\u3002\\n\\n2. \u4e3b\u673a\u914d\u7f6e\u9519\u8bef\uff1a\u5982\u679c\u60a8\u7684\u4e3b\u673a\u7684 DNS \u914d\u7f6e\u4e0d\u6b63\u786e\uff0c\u5219 dig \u53ef\u80fd\u65e0\u6cd5\u6b63\u786e\u89e3\u6790\u57df\u540d\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e3b\u673a\u7684 DNS \u914d\u7f6e\u672a\u6b63\u786e\u8bbe\u7f6e\uff0c\u6216\u8005\u60a8\u7684 DNS \u670d\u52a1\u5668\u505c\u6b62\u5de5\u4f5c\uff0c\u5219 dig \u5c06\u65e0\u6cd5\u4f7f\u7528\u672c\u5730\u4e3b\u673a\u7684 DNS \u89e3\u6790\u5668\u5e76\u8fd4\u56de\u9519\u8bef\u3002\\n\\n3. \u7f13\u5b58\u95ee\u9898\uff1a\u5982\u679c dig \u5728\u5176\u7f13\u5b58\u4e2d\u5177\u6709\u4e0e\u60a8\u67e5\u8be2\u7684\u57df\u540d\u76f8\u540c\u7684\u4fe1\u606f\uff0c\u5219\u5b83\u5c06\u8fd4\u56de\u5176\u7f13\u5b58\u4e2d\u7684\u6570\u636e\u800c\u4e0d\u4f1a\u4f7f\u7528\u672c\u5730\u4e3b\u673a\u7684 DNS \u89e3\u6790\u5668\u3002\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4 dig \u7ed5\u8fc7\u672c\u5730\u4e3b\u673a\u7684 DNS \u89e3\u6790\u5668\u800c\u8fd4\u56de\u610f\u5916\u7684\u7ed3\u679c\u3002\\n\\n## 2\u3001dig \u8f93\u51fa\u89e3\u91ca\\n\\n\u5728\u4f7f\u7528 dig \u547d\u4ee4\u65f6\uff0c\u60a8\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u5404\u79cd\u8f93\u51fa\u3002\u4e0b\u9762\u662f\u5e38\u89c1\u7684 dig \u8f93\u51fa\u53ca\u5176\u542b\u4e49\uff1a\\n\\n1. \u67e5\u8be2\u7ed3\u679c\u4fe1\u606f\\n\\n   - ;; QUESTION SECTION: \u63d0\u95ee\u533a\u57df - \u663e\u793a\u60a8\u8981\u67e5\u8be2\u7684\u57df\u540d\u3002\\n   - ;; ANSWER SECTION: \u56de\u7b54\u533a\u57df - \u663e\u793a\u6765\u81ea DNS \u670d\u52a1\u5668\u7684\u56de\u7b54\uff0c\u5305\u62ec IP \u5730\u5740\u548c\u5176\u4ed6\u8d44\u6e90\u8bb0\u5f55\u3002\\n   - ;; AUTHORITY SECTION: \u6743\u5a01\u533a\u57df - \u663e\u793a\u6765\u81ea\u6388\u6743 DNS \u670d\u52a1\u5668\u7684\u4fe1\u606f\uff0c\u7528\u4e8e\u8be5\u57df\u7684\u540d\u79f0\u670d\u52a1\u5668\u3002\\n   - ;; ADDITIONAL SECTION: \u9644\u52a0\u533a\u57df - \u663e\u793a\u5176\u4ed6\u4fe1\u606f\uff0c\u4f8b\u5982 DNS \u670d\u52a1\u5668\u7684 IPv6 \u5730\u5740\u7b49\u3002\\n\\n2. \u57df\u540d\u670d\u52a1\u5668\u4fe1\u606f\\n\\n   - ;; SERVER: \u670d\u52a1\u5668\u5730\u5740 - \u663e\u793a DNS \u670d\u52a1\u5668\u7684 IP \u5730\u5740\u6216\u540d\u79f0\u3002\\n   - ;; WHEN: \u65f6\u95f4\u6233 - \u663e\u793a\u67e5\u8be2\u65f6\u95f4\u6233\u3002\\n\\n3. \u67e5\u8be2\u72b6\u6001\u4fe1\u606f\\n   - ;; Query time: \u65f6\u95f4 - \u663e\u793a\u67e5\u8be2\u65f6\u95f4\uff0c\u901a\u5e38\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u3002\\n   - ;; MSG SIZE rcvd: \u5927\u5c0f - \u663e\u793a\u63a5\u6536\u5230\u7684\u6d88\u606f\u5927\u5c0f\uff0c\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u3002\\n\\n\u5176\u4ed6\u53ef\u80fd\u7684\u8f93\u51fa\u5305\u62ec\u8b66\u544a\u548c\u9519\u8bef\u4fe1\u606f\uff0c\u5982\u683c\u5f0f\u9519\u8bef\u7b49\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 dig \u7684\u4e0d\u540c\u9009\u9879\u6765\u63a7\u5236\u548c\u66f4\u6539\u8f93\u51fa\u5185\u5bb9\u7684\u8be6\u7ec6\u7a0b\u5ea6\u3002\\n\\n## 3\u3001\u4f7f\u7528 dig \u663e\u793a dns \u5bfb\u5740\u8fc7\u7a0b\\n\\nhttps://www.cnblogs.com/chanshuyi/p/dns_dig_command.html\\n\\n## 4\u3001dig \u7ed3\u679c \u548c /etc/hosts \u6709\u5173\u5417\\n\\n\u662f\u7684\uff0cdig\u547d\u4ee4\u7684\u7ed3\u679c\u53ef\u4ee5\u4e0e/etc/hosts\u6587\u4ef6\u6709\u5173\u3002/etc/hosts\u6587\u4ef6\u662fLinux\u7cfb\u7edf\u4e2d\u7684\u672c\u5730\u4e3b\u673a\u540d\u89e3\u6790\u5668\uff0c\u5b83\u5305\u542bIP\u5730\u5740\u4e0e\u4e3b\u673a\u540d\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u53ef\u4ee5\u7528\u4e8e\u7ed5\u8fc7DNS\u670d\u52a1\u5668\u76f4\u63a5\u89e3\u6790\u4e3b\u673a\u540d\u3002\\n\u5f53\u60a8\u4f7f\u7528dig\u547d\u4ee4\u67e5\u8be2\u57df\u540d\u65f6\uff0cdig\u67e5\u8be2\u5148\u67e5\u770b\u672c\u5730hosts\u6587\u4ef6\u662f\u5426\u5df2\u7ecf\u5b58\u5728\u8be5\u57df\u540d\u7684\u89e3\u6790\u4fe1\u606f\u3002\u5982\u679chosts\u6587\u4ef6\u4e2d\u5305\u542b\u4e86\u8be5\u57df\u540d\u7684IP\u5730\u5740\u5bf9\u5e94\u5173\u7cfb\uff0c\u5219dig\u4f18\u5148\u4f7f\u7528\u8be5\u4fe1\u606f\u5b8c\u6210\u67e5\u8be2\uff0c\u800c\u4e0d\u4f1a\u7ee7\u7eed\u5411DNS\u670d\u52a1\u5668\u53d1\u9001\u67e5\u8be2\u8bf7\u6c42\u3002\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u7684/etc/hosts\u6587\u4ef6\u4e2d\u5b58\u5728\u4e0e\u8981\u67e5\u8be2\u7684\u57df\u540d\u6709\u5173\u7684\u6761\u76ee\uff0c\u5219dig\u8f93\u51fa\u7ed3\u679c\u4e2d\u7684IP\u5730\u5740\u53ef\u80fd\u4f1a\u4e0e\u60a8\u5728\u8be5\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u5730\u5740\u76f8\u5339\u914d\u3002\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u60a8\u5728\u67e5\u8be2\u65f6\u6307\u5b9a\u4e86\u4f7f\u7528\u67d0\u4e2aDNS\u670d\u52a1\u5668\u8fdb\u884c\u67e5\u8be2\uff0c\u5219dig\u4e0d\u4f1a\u4f7f\u7528\u672c\u5730\u4e3b\u673a\u540d\u89e3\u6790\u5668\u67e5\u627e/etc/hosts\u6587\u4ef6\u4e2d\u7684\u4e3b\u673a\u540d\u548cIP\u5730\u5740\u6620\u5c04\u5173\u7cfb\uff0c\u800c\u662f\u76f4\u63a5\u67e5\u8be2\u6307\u5b9a\u7684DNS\u670d\u52a1\u5668\u3002\\n","isLeaf":true},{"key":"/system/linux/02-nc.md","path":"/system/linux/02-nc.md","route":"/system/linux/02-nc.md","leaf":true,"title":"02-nc","depth":2,"content":"---\\ntags: linux\\n---\\n\\nLinux \u7cfb\u7edf\u4e0a\u6709\u5f88\u591a\u5de5\u5177\u53ef\u4ee5\u7528\u6765\u53d1\u9001 TCP \u5305\uff0c\u5176\u4e2d\u6700\u5e38\u7528\u7684\u662f `netcat`\uff08\u4e5f\u79f0\u4f5c nc\uff09\u3002`netcat` \u662f\u4e00\u4e2a\u7ec8\u7aef\u5de5\u5177\uff0c\u5b83\u5141\u8bb8\u4f60\u4f7f\u7528\u7f51\u7edc\u8fde\u63a5\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u3002\\n\\n\u8981\u53d1\u9001 TCP \u5305\uff0c\u53ef\u4ee5\u4f7f\u7528 nc \u547d\u4ee4\uff0c\u4f8b\u5982\uff1a\\n\\n```shell\\nnc -vz example.com 80\\n```\\n\\n\u9664\u4e86 netcat \u4e4b\u5916\uff0c\u8fd8\u6709\u8bb8\u591a\u5176\u4ed6\u5de5\u5177\u53ef\u4ee5\u7528\u6765\u53d1\u9001 TCP \u5305\uff0c\u4f8b\u5982\uff1a\\n\\n- telnet\uff1a\u4e00\u4e2a\u7ec8\u7aef\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u6765\u8fde\u63a5\u8fdc\u7a0b\u4e3b\u673a\u3002\\n- hping3\uff1a\u4e00\u4e2a\u7f51\u7edc\u6d4b\u8bd5\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u6765\u53d1\u9001\u5404\u79cd\u7c7b\u578b\u7684\u7f51\u7edc\u6570\u636e\u5305\u3002\\n\\n\u8fd8\u6709\u8bb8\u591a\u5176\u4ed6\u5de5\u5177\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u6765\u9009\u62e9\u4f7f\u7528\u3002","isLeaf":true}]},{"key":"/system/macos","path":"/system/macos","route":"/system/macos","leaf":false,"title":"macos","depth":1,"content":"","isLeaf":false,"children":[]},{"key":"/system/reentrant.md","path":"/system/reentrant.md","route":"/system/reentrant.md","leaf":true,"title":"reentrant","depth":1,"content":"---\\ntitle: \u51fd\u6570\u53ef\u91cd\u5165\u6027\\ntags: system\\n---\\n\\nhttps://zh.wikipedia.org/wiki/%E5%8F%AF%E9%87%8D%E5%85%A5\\n\\n> \u82e5\u4e00\u4e2a\u7a0b\u5e8f\u6216\u5b50\u7a0b\u5e8f\u53ef\u4ee5\u201c\u5728\u4efb\u610f\u65f6\u523b\u88ab\u4e2d\u65ad\u7136\u540e\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u6267\u884c\u53e6\u4e00\u6bb5\u4ee3\u7801\uff0c\u8fd9\u6bb5\u4ee3\u7801\u53c8\u4f7f\u7528\u4e86\u8be5\u526f\u7a0b\u5e8f\u4e0d\u4f1a\u51fa\u9519\u201d\uff0c\u5219\u79f0\u5176\u4e3a\u53ef\u91cd\u5165\uff08reentrant \u6216 re-entrant\uff09\u7684\u3002\u5373\u5f53\u8be5\u526f\u7a0b\u5e8f\u6b63\u5728\u8fd0\u4f5c\u65f6\uff0c\u6267\u884c\u7ebf\u7a0b\u53ef\u4ee5\u518d\u6b21\u8fdb\u5165\u5e76\u6267\u884c\u5b83\uff0c\u4ecd\u7136\u53ef\u5f97\u5230\u7b26\u5408\u8bbe\u8ba1\u65f6\u6240\u9884\u671f\u7684\u7ed3\u679c\u3002\u4e0e\u591a\u7ebf\u7a0b\u5e76\u53d1\u6267\u884c\u7684\u7ebf\u7a0b\u5b89\u5168\u4e0d\u540c\uff0c\u53ef\u91cd\u5165\u5f3a\u8c03\u5bf9\u5355\u4e00\u7ebf\u7a0b\u6267\u884c\u65f6\u91cd\u65b0\u8fdb\u5165\u540c\u4e00\u4e2a\u5b50\u7a0b\u5e8f\u4ecd\u7136\u662f\u5b89\u5168\u7684\u3002\\n\\n\u5728\u5b9e\u65f6\u7cfb\u7edf\u7684\u8bbe\u8ba1\u4e2d\uff0c\u7ecf\u5e38\u4f1a\u51fa\u73b0\u591a\u4e2a\u4efb\u52a1\u8c03\u7528\u540c\u4e00\u4e2a\u51fd\u6570\u7684\u60c5\u51b5\u3002\u5982\u679c\u6709\u4e00\u4e2a\u51fd\u6570\u4e0d\u5e78\u88ab\u8bbe\u8ba1\u6210\u4e3a\u8fd9\u6837\uff1a\u90a3\u4e48\u4e0d\u540c\u4efb\u52a1\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u65f6\u53ef\u80fd\u4fee\u6539\u5176\u4ed6\u4efb\u52a1\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u7684\u6570\u636e\uff0c\u4ece\u800c\u5bfc\u81f4\u4e0d\u53ef\u9884\u6599\u7684\u540e\u679c\u3002\u8fd9\u6837\u7684\u51fd\u6570\u662f\u4e0d\u5b89\u5168\u7684\u51fd\u6570\uff0c\u4e5f\u53eb\u4e0d\u53ef\u91cd\u5165\u51fd\u6570\u3002\\n\\n\u76f8\u53cd\uff0c\u80af\u5b9a\u6709\u4e00\u4e2a\u5b89\u5168\u7684\u51fd\u6570\uff0c\u8fd9\u4e2a\u5b89\u5168\u7684\u51fd\u6570\u53c8\u53eb\u53ef\u91cd\u5165\u51fd\u6570\u3002\u90a3\u4e48\u4ec0\u4e48\u662f\u53ef\u91cd\u5165\u51fd\u6570\u5462\uff1f\u6240\u8c13\u53ef\u91cd\u5165\u662f\u6307\u4e00\u4e2a\u53ef\u4ee5\u88ab\u591a\u4e2a\u4efb\u52a1\u8c03\u7528\u7684\u8fc7\u7a0b\uff0c\u4efb\u52a1\u5728\u8c03\u7528\u65f6\u4e0d\u5fc5\u62c5\u5fc3\u6570\u636e\u662f\u5426\u4f1a\u51fa\u9519\u3002\\n\\n\u4e00\u4e2a\u53ef\u91cd\u5165\u7684\u51fd\u6570\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u53ef\u4ee5\u88ab\u4e2d\u65ad\u7684\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ef\u4ee5\u5728\u8fd9\u4e2a\u51fd\u6570\u6267\u884c\u7684\u4efb\u4f55\u65f6\u523b\u4e2d\u65ad\u5b83\uff0c\u8f6c\u5165OS\u8c03\u5ea6\u4e0b\u53bb\u6267\u884c\u53e6\u5916\u4e00\u6bb5\u4ee3\u7801\uff0c\u800c\u8fd4\u56de\u63a7\u5236\u65f6\u4e0d\u4f1a\u51fa\u73b0\u4ec0\u4e48\u9519\u8bef\uff1b\u800c\u4e0d\u53ef\u91cd\u5165\u7684\u51fd\u6570\u7531\u4e8e\u4f7f\u7528\u4e86\u4e00\u4e9b\u7cfb\u7edf\u8d44\u6e90\uff0c\u6bd4\u5982\u5168\u5c40\u53d8\u91cf\u533a\uff0c\u4e2d\u65ad\u5411\u91cf\u8868\u7b49\uff0c\u6240\u4ee5\u5b83\u5982\u679c\u88ab\u4e2d\u65ad\u7684\u8bdd\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u95ee\u9898\uff0c\u8fd9\u7c7b\u51fd\u6570\u662f\u4e0d\u80fd\u8fd0\u884c\u5728\u591a\u4efb\u52a1\u73af\u5883\u4e0b\u7684\u3002\\n\\n\u4e5f\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff0c\u91cd\u5165\u5373\u8868\u793a\u91cd\u590d\u8fdb\u5165\uff0c\u9996\u5148\u5b83\u610f\u5473\u7740\u8fd9\u4e2a\u51fd\u6570\u53ef\u4ee5\u88ab\u4e2d\u65ad\uff0c\u5176\u6b21\u610f\u5473\u7740\u5b83\u9664\u4e86\u4f7f\u7528\u81ea\u5df1\u6808\u4e0a\u7684\u53d8\u91cf\u4ee5\u5916\u4e0d\u4f9d\u8d56\u4e8e\u4efb\u4f55\u73af\u5883\uff08\u5305\u62ec static\uff09\uff0c\u8fd9\u6837\u7684\u51fd\u6570\u5c31\u662fpurecode\uff08\u7eaf\u4ee3\u7801\uff09\u53ef\u91cd\u5165\uff0c\u53ef\u4ee5\u5141\u8bb8\u6709\u8be5\u51fd\u6570\u7684\u591a\u4e2a\u526f\u672c\u5728\u8fd0\u884c\uff0c\u7531\u4e8e\u5b83\u4eec\u4f7f\u7528\u7684\u662f\u5206\u79bb\u7684\u6808\uff0c\u6240\u4ee5\u4e0d\u4f1a\u4e92\u76f8\u5e72\u6270\u3002\u5982\u679c\u786e\u5b9e\u9700\u8981\u8bbf\u95ee\u5168\u5c40\u53d8\u91cf\uff08\u5305\u62ec static\uff09\uff0c\u4e00\u5b9a\u8981\u6ce8\u610f\u5b9e\u65bd\u4e92\u65a5\u624b\u6bb5\u3002\u53ef\u91cd\u5165\u51fd\u6570\u5728\u5e76\u884c\u8fd0\u884c\u73af\u5883\u4e2d\u975e\u5e38\u91cd\u8981\uff0c\u4f46\u662f\u4e00\u822c\u8981\u4e3a\u8bbf\u95ee\u5168\u5c40\u53d8\u91cf\u4ed8\u51fa\u4e00\u4e9b\u6027\u80fd\u4ee3\u4ef7\\n\\n![20230619104326](http://s3.airtlab.com/blog/20230619104326.png)\\n\\n![20230619104512](http://s3.airtlab.com/blog/20230619104512.png)","isLeaf":true},{"key":"/system/time-formats.md","path":"/system/time-formats.md","route":"/system/time-formats.md","leaf":true,"title":"time-formats","depth":1,"content":"\u8fd9\u4e24\u4e2a\u65f6\u95f4\u6807\u8bb0\u7684\u533a\u522b\u5728\u4e8e\u5b83\u4eec\u7684\u8868\u793a\u65b9\u5f0f\u548c\u65f6\u533a\u4fe1\u606f\u3002\\n\\n`2023-05-29 16:00:00.000Z` \u662f\u4e00\u4e2aISO 8601\u683c\u5f0f\u7684\u65f6\u95f4\u6233\uff0c\u8868\u793a\u4e3a `UTC +0` \u65f6\u95f4\uff0c\u5e76\u4e14\u6ca1\u6709\u6307\u5b9a\u4efb\u4f55\u65f6\u533a\u4fe1\u606f\u3002\u8fd9\u4e2a\u65f6\u95f4\u6807\u8bb0\u662f\u57fa\u4e8e\u56fd\u9645\u6807\u51c6\u7684\u534f\u8c03\u4e16\u754c\u65f6 `UTC`\uff0c\u4e5f\u88ab\u79f0\u4e3a `GMT\uff08\u683c\u6797\u5a01\u6cbb\u65f6\u95f4\uff09`\u3002\u8fd9\u610f\u5473\u7740\u65e0\u8bba\u54ea\u4e2a\u65f6\u533a\uff0c\u8fd9\u4e2a\u65f6\u95f4\u90fd\u662f\u76f8\u540c\u7684\uff0c\u56e0\u4e3a\u5b83\u6ca1\u6709\u53d7\u5230\u4efb\u4f55\u5730\u7406\u4f4d\u7f6e\u7684\u5f71\u54cd\u3002\\n\\n`2023-05-29T16:00:00:00+08:00` \u4e5f\u662f\u4e00\u4e2aISO 8601\u683c\u5f0f\u7684\u65f6\u95f4\u6233\uff0c\u4f46\u5b83\u5305\u542b\u4e86\u65f6\u533a\u4fe1\u606f\u3002\u8fd9\u4e2a\u65f6\u95f4\u6807\u8bb0\u4e2d\u7684\u201c+08:00\u201d\u8868\u793a\u8fd9\u4e2a\u65f6\u95f4\u662f\u57fa\u4e8e `UTC +8` \u7684\u65f6\u533a\uff0c\u4e5f\u88ab\u79f0\u4e3a\u4e2d\u56fd\u6807\u51c6\u65f6\u95f4 `CST`\u3002\u56e0\u6b64\uff0c\u5728\u5317\u4eac\u7b49\u5904\uff0c\u8fd9\u4e2a\u65f6\u95f4\u6233\u5c31\u662f2023\u5e745\u670829\u65e5\u4e0b\u53484\u70b9\u3002\\n\\n\u603b\u4e4b\uff0c\u4e24\u4e2a\u65f6\u95f4\u6233\u90fd\u4ee3\u8868\u540c\u4e00\u65f6\u95f4\u70b9\uff0c\u53ea\u662f\u8868\u793a\u65b9\u5f0f\u548c\u65f6\u533a\u4fe1\u606f\u4e0d\u540c\u3002","isLeaf":true},{"key":"/system/website-performance","path":"/system/website-performance","route":"/system/website-performance","leaf":false,"title":"website-performance","depth":1,"content":"","isLeaf":false,"children":[{"key":"/system/website-performance/01-website-performance-test.md","path":"/system/website-performance/01-website-performance-test.md","route":"/system/website-performance/01-website-performance-test.md","leaf":true,"title":"01-website-performance-test","depth":2,"content":"\u4e00\u4e2a\u7f51\u7ad9\u9664\u4e86\u6ee1\u8db3\u4e1a\u52a1\u529f\u80fd\uff0c\u8fd8\u8981\u6ee1\u8db3\u6027\u80fd\u9700\u6c42\uff0c\u5982\u679c\u6027\u80fd\u4e0d\u597d\uff0c\u968f\u7740\u7528\u6237\u7684\u589e\u957f\u5c06\u51fa\u73b0\u6027\u80fd\u74f6\u9888\uff0c\u5bf9\u7528\u6237\u6700\u76f4\u63a5\u7684\u611f\u5b98\u5f71\u54cd\u5c31\u662f\u54cd\u5e94\u53d8\u6162\uff0c\u4e00\u822c2\u79d2\u4ee5\u5185\u7b97\u662f\u6bd4\u8f83\u597d\u7684\u4f53\u9a8c\uff0c\u8d85\u8fc75\u79d2\u4f53\u9a8c\u5c31\u6bd4\u8f83\u5dee\u4e86\uff0c\u6781\u7aef\u60c5\u51b5\u4e0b\u7528\u6237\u5e76\u53d1\u9ad8\u7684\u60c5\u51b5\u4e0b\uff0c\u7f51\u7ad9\u76f4\u63a5\u62d2\u7edd\u670d\u52a1\uff0c\u4e25\u91cd\u5f71\u54cd\u4e1a\u52a1\u8fd0\u8425\u3002\u5728\u7406\u8bba\u4e0a\u6211\u4eec\u5982\u4f55\u5224\u5b9a\u4e00\u4e2aWeb\u5e94\u7528\u7684\u6027\u80fd\u7a0b\u5e8f\u5462\uff1f\u5176\u5b9e\u5df2\u7ecf\u6709\u4e00\u5957\u6bd4\u8f83\u5b8c\u6574\u7684\u8bc4\u4ef7\u4f53\u7cfb\u4e86\u3002\\n\\n## 1. \u7f51\u7ad9\u6027\u80fd\u6307\u6807\\n \u5bf9\u4e8e\u7f51\u7ad9\u7684\u6027\u80fd\u6307\u6807\uff0c\u91cd\u8981\u7684\u662f \u54cd\u5e94\u65f6\u95f4\u3001\u541e\u5410\u91cf\u3001\u5e76\u53d1\u6570\u3002\\n\\n- \u54cd\u5e94\u65f6\u95f4\u662f\u4e00\u6b21\u8bf7\u6c42\u4ece\u53d1\u9001\u8bf7\u6c42\u5230\u6536\u5230\u54cd\u5e94\u7684\u603b\u65f6\u95f4\uff0c\u76f4\u89c2\u7684\u53cd\u6620\u7cfb\u7edf\u7684\u5feb\u6162\u3002\\n- \u541e\u5410\u91cf\u662f\u5355\u4f4d\u65f6\u95f4\u5904\u7406\u7684\u8bf7\u6c42\u6570\uff0c\u901a\u5e38\u7528TPS\u6765\u8868\u793a\uff0c\u662f\u7cfb\u7edf\u5bb9\u91cf\u7684\u76f4\u89c2\u4f53\u73b0\u3002\\n- \u5e76\u53d1\u6570\u662f\u7cfb\u7edf\u540c\u65f6\u80fd\u5904\u7406\u7684\u8bf7\u6c42\u6570\uff0c\u5bf9\u4e8e\u540c\u65f6\u5728\u7ebf\u7528\u6237\u6570\u9ad8\u7684\uff0c\u77ed\u65f6\u95f4\u6709\u5927\u91cf\u7528\u6237\u4f7f\u7528\u7684\uff0c\u8b6c\u5982\u62a2\u8d2d\u7c7b\u7f51\u7ad9\u8981\u6c42\u9ad8\uff0c\u5982\u679c\u8981\u8ba9\u7528\u6237\u5728\u77ed\u65f6\u95f4\u5185\u90fd\u80fd\u8bbf\u95ee\u5230\u7cfb\u7edf\uff0c\u9700\u8981\u6709\u6781\u9ad8\u7684\u5e76\u53d1\u80fd\u529b\u652f\u6301\u3002\\n\\n\u53ef\u4ee5\u7528\u9ad8\u901f\u516c\u8def\u6536\u8d39\u7ad9\u6765\u7c7b\u6bd4\uff0c\u54cd\u5e94\u65f6\u95f4\u5c31\u662f\u6536\u8d39\u7a97\u53e3\u5904\u7406**\u6536\u8d39\u4e8b\u4ef6\u7684\u65f6\u95f4\uff0c**\u541e\u5410\u91cf\u662f**\u5355\u4f4d\u65f6\u95f4\u6536\u8d39\u7a97\u53e3\u603b\u5171\u6536\u4e86\u591a\u5c11\u8f86\u8f66**\uff0c\u5e76\u53d1\u91cf\u5c31\u662f\u603b\u5171**\u6709\u591a\u5c11\u4e2a\u6536\u8d39\u901a\u9053**\u3002\\n\\n\u8fd9\u51e0\u4e2a\u6307\u6807\u4e4b\u95f4\u7684\u5173\u7cfb\u662f\u4ec0\u4e48\u5462\uff1f\\n> \u5047\u5982\u8be5\u6536\u8d39\u7ad9\u6536\u4e00\u7b14\u8d39\u7528\u8017\u65f630\u79d2\uff08RT=30s\uff09\uff0c\u5171\u67095\u4e2a\u7a97\u53e3(p=5)\uff0c\u90a3\u4e48\u6b63\u5e38\u60c5\u51b5\u4e0b1\u5206\u949f\u8be5\u6536\u8d39\u7ad9\u80fd\u5904\u740610\u4e2a\u6536\u8d39\u8bf7\u6c42\u3010v= (P/RT)*60s=10\u3011\uff0c\u5373\u541e\u5410\u91cf\u662f10\u6b21/\u5206\u949f\u3002\\n> \u5982\u679c\u524d\u7aef\u6bcf\u969430\u79d2\u67095\u8f86\u8f66\uff08\u5373\u6bcf\u5206\u949f\u670910\u8f86\u8f66\uff09\u8fdb\u5165\u9ad8\u901f\u516c\u8def\uff0c\u8be5\u6536\u8d39\u7ad9\u5c06\u6ee1\u8d1f\u8377\u8fd0\u884c\uff0c\u6536\u8d39\u4eba\u5458\u99ac\u4e0d\u505c\u8e44\uff0c\u8f66\u8f86\u6ca1\u6709\u79ef\u538b\u3002\u5982\u679c\u6bcf\u5206\u949f\u670920\u8f86\u8f66\u8fdb\u5165\u9ad8\u901f\u516c\u8def\uff0c\u90a3\u4e48\u7b2c\u4e00\u5206\u949f\u8fdb\u5165\u6536\u8d39\u7ad9\u768420\u8f86\u8f66\u5c06\u670910\u8f86\u8f66\u79ef\u538b\u7b49\u5f8530\u79d2\uff0c\u7b2c\u4e8c\u5206\u949f\u8fdb\u5165\u768420\u8f86\u8f66\u5c06\u6700\u591a\u7b49\u5f8590\u79d2\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u79ef\u538b\u5c06\u8d8a\u6765\u8d8a\u591a\uff0c\u9ad8\u901f\u516c\u8def\u4e0a\u5c06\u6162\u6162\u6392\u961f\u6210\u957f\u9f99\uff0c\u8f66\u8f86\u901a\u8fc7\u6536\u8d39\u7ad9\u7684\u65f6\u957f\u5c06\u8d8a\u6765\u8d8a\u957f\uff0c\u5bf9\u5e94\u7684\u662f\u7f51\u7ad9\u6536\u5230\u54cd\u5e94\u65f6\u95f4\u8d8a\u6765\u8d8a\u957f\uff0c\u76f4\u5230\u8d85\u65f6\u4e0d\u53ef\u7528\u3002\\n\\n\u901a\u8fc7apache bench \u5de5\u5177ab\u6d4b\u8bd5\u7f51\u7ad9\u6027\u80fd\u6307\u6807\u53ef\u4ee5\u770b\u51fa\uff0c\u5e76\u53d1\u8d8a\u5927\u54cd\u5e94\u65f6\u95f4\u8d8a\u957f\u3002\u4ece\u66f2\u7ebf\u770b\u5e76\u53d1\u523070\u4e2a\u54cd\u5e94\u65f6\u95f4\u5c31\u5f00\u59cb\u6076\u5316\uff0c\u6700\u5927\u652f\u6301\u7684\u5e76\u53d1\u5c31\u662f70\u6761\u6bcf\u79d2\uff0c\u6b63\u5e38\u54cd\u5e94\u65f6\u95f4\u662f5.87\u6beb\u79d2\uff0c\u541e\u5410\u91cfTPS\u662f170\u3002\u6b64\u65f6\u7684CPU\u5229\u7528\u7387\uff0c\u94fe\u63a5\u6570\u76f8\u5bf9\u5e73\u7a33\uff0c\u672a\u8fbe\u5230\u8d44\u6e90\u7684\u74f6\u9888\u3002\\n\\n## 2. \u54cd\u5e94\u65f6\u95f4(RT)\xa0\\n\u54cd\u5e94\u65f6\u95f4\u662f\u6307\u7cfb\u7edf\u5bf9\u8bf7\u6c42\u4f5c\u51fa\u54cd\u5e94\u7684\u65f6\u95f4\u3002\u76f4\u89c2\u4e0a\u770b\uff0c\u8fd9\u4e2a\u6307\u6807\u4e0e\u4eba\u5bf9\u8f6f\u4ef6\u6027\u80fd\u7684\u4e3b\u89c2\u611f\u53d7\u662f\u975e\u5e38\u4e00\u81f4\u7684\uff0c\u56e0\u4e3a\u5b83\u5b8c\u6574\u5730\u8bb0\u5f55\u4e86\u6574\u4e2a\u8ba1\u7b97\u673a\u7cfb\u7edf\u5904\u7406\u8bf7\u6c42\u7684\u65f6\u95f4\u3002\u7531\u4e8e\u4e00\u4e2a\u7cfb\u7edf\u901a\u5e38\u4f1a\u63d0\u4f9b\u8bb8\u591a\u529f\u80fd\uff0c\u800c\u4e0d\u540c\u529f\u80fd\u7684\u5904\u7406\u903b\u8f91\u4e5f\u5343\u5dee\u4e07\u522b\uff0c\u56e0\u800c\u4e0d\u540c\u529f\u80fd\u7684\u54cd\u5e94\u65f6\u95f4\u4e5f\u4e0d\u5c3d\u76f8\u540c\uff0c\u751a\u81f3\u540c\u4e00\u529f\u80fd\u5728\u4e0d\u540c\u8f93\u5165\u6570\u636e\u7684\u60c5\u51b5\u4e0b\u54cd\u5e94\u65f6\u95f4\u4e5f\u4e0d\u76f8\u540c\u3002\u6240\u4ee5\uff0c\u5728\u8ba8\u8bba\u4e00\u4e2a\u7cfb\u7edf\u7684\u54cd\u5e94\u65f6\u95f4\u65f6\uff0c\u4eba\u4eec\u901a\u5e38\u662f\u6307\u8be5\u7cfb\u7edf\u6240\u6709\u529f\u80fd\u7684\u5e73\u5747\u65f6\u95f4\u6216\u8005\u6240\u6709\u529f\u80fd\u7684\u6700\u5927\u54cd\u5e94\u65f6\u95f4\u3002\u5f53\u7136\uff0c\u5f80\u5f80\u4e5f\u9700\u8981\u5bf9\u6bcf\u4e2a\u6216\u6bcf\u7ec4\u529f\u80fd\u8ba8\u8bba\u5176\u5e73\u5747\u54cd\u5e94\u65f6\u95f4\u548c\u6700\u5927\u54cd\u5e94\u65f6\u95f4\u3002\xa0\\n\u3000\\n\u5bf9\u4e8e\u5355\u673a\u7684\u6ca1\u6709\u5e76\u53d1\u64cd\u4f5c\u7684\u5e94\u7528\u7cfb\u7edf\u800c\u8a00\uff0c\u4eba\u4eec\u666e\u904d\u8ba4\u4e3a\u54cd\u5e94\u65f6\u95f4\u662f\u4e00\u4e2a\u5408\u7406\u4e14\u51c6\u786e\u7684\u6027\u80fd\u6307\u6807\u3002\u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u54cd\u5e94\u65f6\u95f4\u7684\u7edd\u5bf9\u503c\u5e76\u4e0d\u80fd\u76f4\u63a5\u53cd\u6620\u8f6f\u4ef6\u7684\u6027\u80fd\u7684\u9ad8\u4f4e\uff0c\u8f6f\u4ef6\u6027\u80fd\u7684\u9ad8\u4f4e\u5b9e\u9645\u4e0a\u53d6\u51b3\u4e8e\u7528\u6237\u5bf9\u8be5\u54cd\u5e94\u65f6\u95f4\u7684\u63a5\u53d7\u7a0b\u5ea6\u3002\u5bf9\u4e8e\u4e00\u4e2a\u6e38\u620f\u8f6f\u4ef6\u6765\u8bf4\uff0c\u54cd\u5e94\u65f6\u95f4\u5c0f\u4e8e100\u6beb\u79d2\u5e94\u8be5\u662f\u4e0d\u9519\u7684\uff0c\u54cd\u5e94\u65f6\u95f4\u57281\u79d2\u5de6\u53f3\u53ef\u80fd\u5c5e\u4e8e\u52c9\u5f3a\u53ef\u4ee5\u63a5\u53d7\uff0c\u5982\u679c\u54cd\u5e94\u65f6\u95f4\u8fbe\u52303\u79d2\u5c31\u5b8c\u5168\u96be\u4ee5\u63a5\u53d7\u4e86\u3002\u800c\u5bf9\u4e8e\u7f16\u8bd1\u7cfb\u7edf\u6765\u8bf4\uff0c\u5b8c\u6574\u7f16\u8bd1\u4e00\u4e2a\u8f83\u5927\u89c4\u6a21\u8f6f\u4ef6\u7684\u6e90\u4ee3\u7801\u53ef\u80fd\u9700\u8981\u51e0\u5341\u5206\u949f\u751a\u81f3\u66f4\u957f\u65f6\u95f4\uff0c\u4f46\u8fd9\u4e9b\u54cd\u5e94\u65f6\u95f4\u5bf9\u4e8e\u7528\u6237\u6765\u8bf4\u90fd\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\u3002\xa0\\n\\n## 2. \u541e\u5410\u91cf(Throughput)\xa0\\n\u541e\u5410\u91cf\u662f\u6307\u7cfb\u7edf\u5728\u5355\u4f4d\u65f6\u95f4\u5185\u5904\u7406\u8bf7\u6c42\u7684\u6570\u91cf\u3002\u5bf9\u4e8e\u65e0\u5e76\u53d1\u7684\u5e94\u7528\u7cfb\u7edf\u800c\u8a00\uff0c\u541e\u5410\u91cf\u4e0e\u54cd\u5e94\u65f6\u95f4\u6210\u4e25\u683c\u7684\u53cd\u6bd4\u5173\u7cfb\uff0c\u5b9e\u9645\u4e0a\u6b64\u65f6\u541e\u5410\u91cf\u5c31\u662f\u54cd\u5e94\u65f6\u95f4\u7684\u5012\u6570\u3002\u524d\u9762\u5df2\u7ecf\u8bf4\u8fc7\uff0c\u5bf9\u4e8e\u5355\u7528\u6237\u7684\u7cfb\u7edf\uff0c\u54cd\u5e94\u65f6\u95f4\uff08\u6216\u8005\u7cfb\u7edf\u54cd\u5e94\u65f6\u95f4\u548c\u5e94\u7528\u5ef6\u8fdf\u65f6\u95f4\uff09\u53ef\u4ee5\u5f88\u597d\u5730\u5ea6\u91cf\u7cfb\u7edf\u7684\u6027\u80fd\uff0c\u4f46\u5bf9\u4e8e\u5e76\u53d1\u7cfb\u7edf\uff0c\u901a\u5e38\u9700\u8981\u7528\u541e\u5410\u91cf\u4f5c\u4e3a\u6027\u80fd\u6307\u6807\u3002\xa0\\n\\n\u5bf9\u4e8e\u4e00\u4e2a\u591a\u7528\u6237\u7684\u7cfb\u7edf\uff0c\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u7528\u6237\u4f7f\u7528\u65f6\u7cfb\u7edf\u7684\u5e73\u5747\u54cd\u5e94\u65f6\u95f4\u662ft\uff0c\u5f53\u6709\u4f60n\u4e2a\u7528\u6237\u4f7f\u7528\u65f6\uff0c\u6bcf\u4e2a\u7528\u6237\u770b\u5230\u7684\u54cd\u5e94\u65f6\u95f4\u901a\u5e38\u5e76\u4e0d\u662fn\xd7t\uff0c\u800c\u5f80\u5f80\u6bd4n\xd7t\u5c0f\u5f88\u591a\uff08\u5f53\u7136\uff0c\u5728\u67d0\u4e9b\u7279\u6b8a\u60c5\u51b5\u4e0b\u4e5f\u53ef\u80fd\u6bd4n\xd7t\u5927\uff0c\u751a\u81f3\u5927\u5f88\u591a\uff09\u3002\u8fd9\u662f\u56e0\u4e3a\u5904\u7406\u6bcf\u4e2a\u8bf7\u6c42\u9700\u8981\u7528\u5230\u5f88\u591a\u8d44\u6e90\uff0c\u7531\u4e8e\u6bcf\u4e2a\u8bf7\u6c42\u7684\u5904\u7406\u8fc7\u7a0b\u4e2d\u6709\u8bb8\u591a\u4e0d\u8d70\u96be\u4ee5\u5e76\u53d1\u6267\u884c\uff0c\u8fd9\u5bfc\u81f4\u5728\u5177\u4f53\u7684\u4e00\u4e2a\u65f6\u95f4\u70b9\uff0c\u6240\u5360\u8d44\u6e90\u5f80\u5f80\u5e76\u4e0d\u591a\u3002\u4e5f\u5c31\u662f\u8bf4\u5728\u5904\u7406\u5355\u4e2a\u8bf7\u6c42\u65f6\uff0c\u5728\u6bcf\u4e2a\u65f6\u95f4\u70b9\u90fd\u53ef\u80fd\u6709\u8bb8\u591a\u8d44\u6e90\u88ab\u95f2\u7f6e\uff0c\u5f53\u5904\u7406\u591a\u4e2a\u8bf7\u6c42\u65f6\uff0c\u5982\u679c\u8d44\u6e90\u914d\u7f6e\u5408\u7406\uff0c\u6bcf\u4e2a\u7528\u6237\u770b\u5230\u7684\u5e73\u5747\u54cd\u5e94\u65f6\u95f4\u5e76\u4e0d\u968f\u7528\u6237\u6570\u7684\u589e\u52a0\u800c\u7ebf\u6027\u589e\u52a0\u3002\u5b9e\u9645\u4e0a\uff0c\u4e0d\u540c\u7cfb\u7edf\u7684\u5e73\u5747\u54cd\u5e94\u65f6\u95f4\u968f\u7528\u6237\u6570\u589e\u52a0\u800c\u589e\u957f\u7684\u901f\u5ea6\u4e5f\u4e0d\u5927\u76f8\u540c\uff0c\u8fd9\u4e5f\u662f\u91c7\u7528\u541e\u5410\u91cf\u6765\u5ea6\u91cf\u5e76\u53d1\u7cfb\u7edf\u7684\u6027\u80fd\u7684\u4e3b\u8981\u539f\u56e0\u3002\u4e00\u822c\u800c\u8a00\uff0c\u541e\u5410\u91cf\u662f\u4e00\u4e2a\u6bd4\u8f83\u901a\u7528\u7684\u6307\u6807\uff0c\u4e24\u4e2a\u5177\u6709\u4e0d\u540c\u7528\u6237\u6570\u548c\u7528\u6237\u4f7f\u7528\u6a21\u5f0f\u7684\u7cfb\u7edf\uff0c\u5982\u679c\u5176\u6700\u5927\u541e\u5410\u91cf\u57fa\u672c\u4e00\u81f4\uff0c\u5219\u53ef\u4ee5\u5224\u65ad\u4e24\u4e2a\u7cfb\u7edf\u7684\u5904\u7406\u80fd\u529b\u57fa\u672c\u4e00\u81f4\u3002\xa0\\n\\n## 3. \u5e76\u53d1\u7528\u6237\u6570\xa0\\n\u5e76\u53d1\u7528\u6237\u6570\u662f\u6307\u7cfb\u7edf\u53ef\u4ee5\u540c\u65f6\u627f\u8f7d\u7684\u6b63\u5e38\u4f7f\u7528\u7cfb\u7edf\u529f\u80fd\u7684\u7528\u6237\u7684\u6570\u91cf\u3002\u4e0e\u541e\u5410\u91cf\u76f8\u6bd4\uff0c\u5e76\u53d1\u7528\u6237\u6570\u662f\u4e00\u4e2a\u66f4\u76f4\u89c2\u4f46\u4e5f\u66f4\u7b3c\u7edf\u7684\u6027\u80fd\u6307\u6807\u3002\u5b9e\u9645\u4e0a\uff0c\u5e76\u53d1\u7528\u6237\u6570\u662f\u4e00\u4e2a\u975e\u5e38\u4e0d\u51c6\u786e\u7684\u6307\u6807\uff0c\u56e0\u4e3a\u7528\u6237\u4e0d\u540c\u7684\u4f7f\u7528\u6a21\u5f0f\u4f1a\u5bfc\u81f4\u4e0d\u540c\u7528\u6237\u5728\u5355\u4f4d\u65f6\u95f4\u53d1\u51fa\u4e0d\u540c\u6570\u91cf\u7684\u8bf7\u6c42\u3002\u4e00\u7f51\u7ad9\u7cfb\u7edf\u4e3a\u4f8b\uff0c\u5047\u8bbe\u7528\u6237\u53ea\u6709\u6ce8\u518c\u540e\u624d\u80fd\u4f7f\u7528\uff0c\u4f46\u6ce8\u518c\u7528\u6237\u5e76\u4e0d\u662f\u6bcf\u65f6\u6bcf\u523b\u90fd\u5728\u4f7f\u7528\u8be5\u7f51\u7ad9\uff0c\u56e0\u6b64\u5177\u4f53\u4e00\u4e2a\u65f6\u523b\u53ea\u6709\u90e8\u5206\u6ce8\u518c\u7528\u6237\u540c\u65f6\u5728\u7ebf\uff0c\u5728\u7ebf\u7528\u6237\u5c31\u5728\u6d4f\u89c8\u7f51\u7ad9\u65f6\u4f1a\u82b1\u5f88\u591a\u65f6\u95f4\u9605\u8bfb\u7f51\u7ad9\u4e0a\u7684\u4fe1\u606f\uff0c\u56e0\u800c\u5177\u4f53\u4e00\u4e2a\u65f6\u523b\u53ea\u6709\u90e8\u5206\u5728\u7ebf\u7528\u6237\u540c\u65f6\u5411\u7cfb\u7edf\u53d1\u51fa\u8bf7\u6c42\u3002\u8fd9\u6837\uff0c\u5bf9\u4e8e\u7f51\u7ad9\u7cfb\u7edf\u6211\u4eec\u4f1a\u6709\u4e09\u4e2a\u5173\u4e8e\u7528\u6237\u6570\u7684\u7edf\u8ba1\u6570\u5b57\uff1a\u6ce8\u518c\u7528\u6237\u6570\u3001\u5728\u7ebf\u7528\u6237\u6570\u548c\u540c\u65f6\u53d1\u8bf7\u6c42\u7528\u6237\u6570\u3002\u7531\u4e8e\u6ce8\u518c\u7528\u6237\u53ef\u80fd\u957f\u65f6\u95f4\u4e0d\u767b\u9646\u7f51\u7ad9\uff0c\u4f7f\u7528\u6ce8\u518c\u7528\u6237\u6570\u4f5c\u4e3a\u6027\u80fd\u6307\u6807\u4f1a\u9020\u6210\u5f88\u5927\u7684\u8bef\u5dee\u3002\u800c\u5728\u7ebf\u7528\u6237\u6570\u548c\u540c\u4e8b\u53d1\u8bf7\u6c42\u7528\u6237\u6570\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u6027\u80fd\u6307\u6807\u3002\u76f8\u6bd4\u800c\u8a00\uff0c\u4ee5\u5728\u7ebf\u7528\u6237\u4f5c\u4e3a\u6027\u80fd\u6307\u6807\u66f4\u76f4\u89c2\u4e9b\uff0c\u800c\u4ee5\u540c\u65f6\u53d1\u8bf7\u6c42\u7528\u6237\u6570\u4f5c\u4e3a\u6027\u80fd\u6307\u6807\u66f4\u51c6\u786e\u4e9b\u3002\xa0\\n\\n## 4. QPS/TPS\\nQPS\uff1aQueries Per Second\u610f\u601d\u662f\u201c\u6bcf\u79d2\u67e5\u8be2\u7387\u201d\uff0c\u662f\u4e00\u53f0\u670d\u52a1\u5668\u6bcf\u79d2\u80fd\u591f\u76f8\u5e94\u7684\u67e5\u8be2\u6b21\u6570\uff0c\u662f\u5bf9\u4e00\u4e2a\u7279\u5b9a\u7684\u67e5\u8be2\u670d\u52a1\u5668\u5728\u89c4\u5b9a\u65f6\u95f4\u5185\u6240\u5904\u7406\u6d41\u91cf\u591a\u5c11\u7684\u8861\u91cf\u6807\u51c6\u3002\\n\\nTPS\uff1a\u662fTransactionsPerSecond\u7684\u7f29\u5199\uff0c\u4e5f\u5c31\u662f\u4e8b\u52a1\u6570/\u79d2\u3002\u5b83\u662f\u8f6f\u4ef6\u6d4b\u8bd5\u7ed3\u679c\u7684\u6d4b\u91cf\u5355\u4f4d\u3002\u4e00\u4e2a\u4e8b\u52a1\u662f\u6307\u4e00\u4e2a\u5ba2\u6237\u673a\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u7136\u540e\u670d\u52a1\u5668\u505a\u51fa\u53cd\u5e94\u7684\u8fc7\u7a0b\u3002\u5ba2\u6237\u673a\u5728\u53d1\u9001\u8bf7\u6c42\u65f6\u5f00\u59cb\u8ba1\u65f6\uff0c\u6536\u5230\u670d\u52a1\u5668\u54cd\u5e94\u540e\u7ed3\u675f\u8ba1\u65f6\uff0c\u4ee5\u6b64\u6765\u8ba1\u7b97\u4f7f\u7528\u7684\u65f6\u95f4\u548c\u5b8c\u6210\u7684\u4e8b\u52a1\u4e2a\u6570\u3002\\n\\nTps\u5373\u6bcf\u79d2\u5904\u7406\u4e8b\u52a1\u6570\uff0c\u5305\u62ec\u4e86\uff1a\\n1\uff09\u7528\u6237\u8bf7\u6c42\u670d\u52a1\u5668\\n2\uff09\u670d\u52a1\u5668\u81ea\u5df1\u7684\u5185\u90e8\u5904\u7406\\n3\uff09\u670d\u52a1\u5668\u8fd4\u56de\u7ed9\u7528\u6237\\n\\n\u8fd9\u4e09\u4e2a\u8fc7\u7a0b\uff0c\u6bcf\u79d2\u80fd\u591f\u5b8c\u6210N\u4e2a\u8fd9\u4e09\u4e2a\u8fc7\u7a0b\uff0cTps\u4e5f\u5c31\u662fN\uff1b\\n\\nQps\u57fa\u672c\u7c7b\u4f3c\u4e8eTps\uff0c\u4f46\u662f\u4e0d\u540c\u7684\u662f\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u9875\u9762\u7684\u4e00\u6b21\u8bbf\u95ee\uff0c\u5f62\u6210\u4e00\u4e2aTps\uff1b\u4f46\u4e00\u6b21\u9875\u9762\u8bf7\u6c42\uff0c\u53ef\u80fd\u4ea7\u751f\u591a\u6b21\u5bf9\u670d\u52a1\u5668\u7684\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u5bf9\u8fd9\u4e9b\u8bf7\u6c42\uff0c\u5c31\u53ef\u8ba1\u5165\u201cQps\u201d\u4e4b\u4e2d\u3002\u4f8b\u5982\uff1a\u8bbf\u95ee\u4e00\u4e2a\u9875\u9762\u4f1a\u8bf7\u6c42\u670d\u52a1\u56683\u6b21\uff0c\u4e00\u6b21\u653e\uff0c\u4ea7\u751f\u4e00\u4e2a\u201cT\u201d\uff0c\u4ea7\u751f3\u4e2a\u201cQ\u201d \u3002\\n\\n## 5. \u5e94\u7528\u5b9e\u4f8b\\n\u5728\u7535\u5546\u7cfb\u7edf\u4e2d\uff0c\u74f6\u9888\u901a\u5e38\u4e3a\u4e0b\u5355\u64cd\u4f5c\u3002\u8fd9\u91cc\u7684\u4e0b\u5355\u6307\u7684\u5c31\u662f\u4e00\u4e2a\u4e8b\u7269\uff0c\u6bd4\u5982\u8981\u6c42\u4e3a\uff1aTPS 300/S\u3002\\n\u5728\u7535\u5546\u7cfb\u7edf\u4e2d\uff0c\u8ba2\u5355\u67e5\u8be2\u901a\u5e38\u4e5f\u6bd4\u8f83\u6162\uff0c\u8fd9\u91cc\u7684\u8ba2\u5355\u67e5\u8be2\u901f\u5ea6\u7684\u8861\u91cf\u4e3aQPS\uff0c\u6bd4\u5982\u8981\u6c42\u4e3a\uff1aQPS 300/S\u3002","isLeaf":true},{"key":"/system/website-performance/02-website-performance-tools.md","path":"/system/website-performance/02-website-performance-tools.md","route":"/system/website-performance/02-website-performance-tools.md","leaf":true,"title":"02-website-performance-tools","depth":2,"content":"## 1.\xa0[gtmetrix](https://gtmetrix.com/?job_error=IHk37HNt)\\n\u5b98\u7f51\xa0[https://gtmetrix.com/?job_error=IHk37HNt](https://gtmetrix.com/?job_error=IHk37HNt)\\n\u53c2\u8003\xa0[https://www.cnblogs.com/youcong/p/9954031.html](https://www.cnblogs.com/youcong/p/9954031.html)","isLeaf":true}]}]},{"key":"/test","path":"/test","route":"/test","leaf":false,"title":"test","depth":0,"content":"","isLeaf":false,"children":[{"key":"/test/e2e.md","path":"/test/e2e.md","route":"/test/e2e.md","leaf":true,"title":"e2e","depth":1,"content":"---\\ntags: \u6d4b\u8bd5\u65b9\u6cd5\u8bba\\n---\\n\\nE2E\uff08End-to-End\uff09\u6d4b\u8bd5\u662f\u4e00\u79cd\u8f6f\u4ef6\u6d4b\u8bd5\u65b9\u6cd5\uff0c\u65e8\u5728\u6a21\u62df\u771f\u5b9e\u7684\u7528\u6237\u573a\u666f\uff0c\u6d4b\u8bd5\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u7684\u529f\u80fd\u548c\u6027\u80fd\u3002\u5b83\u6d4b\u8bd5\u4e86\u6574\u4e2a\u8f6f\u4ef6\u7cfb\u7edf\u7684\u7aef\u5230\u7aef\u529f\u80fd\uff0c\u6db5\u76d6\u4e86\u4ece\u7528\u6237\u754c\u9762\u5230\u540e\u7aef\u7cfb\u7edf\u7684\u6240\u6709\u7ec4\u4ef6\u3002\\n\\nE2E\u6d4b\u8bd5\u9700\u8981\u5c06\u5e94\u7528\u7a0b\u5e8f\u89c6\u4e3a\u4e00\u4e2a\u6574\u4f53\uff0c\u4ece\u7528\u6237\u7684\u89d2\u5ea6\u89c2\u5bdf\u5e94\u7528\u7a0b\u5e8f\u7684\u884c\u4e3a\u3002\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\uff0c\u901a\u8fc7\u6a21\u62df\u7528\u6237\u7684\u884c\u4e3a\u3001\u8f93\u5165\u548c\u73af\u5883\u6761\u4ef6\uff0c\u9a8c\u8bc1\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5728\u4e0d\u540c\u573a\u666f\u4e0b\u7684\u529f\u80fd\u548c\u6027\u80fd\u3002\u8fd9\u79cd\u6d4b\u8bd5\u65b9\u6cd5\u53ef\u4ee5\u7528\u6765\u68c0\u67e5\u5e94\u7528\u7a0b\u5e8f\u5728\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u3001\u6d4f\u89c8\u5668\u548c\u8bbe\u5907\u4e0a\u7684\u4ea4\u4e92\u548c\u517c\u5bb9\u6027\u3002\\n\\nE2E\u6d4b\u8bd5\u7684\u4f18\u70b9\u662f\u53ef\u4ee5\u53d1\u73b0\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4ee5\u53ca\u5176\u7ec4\u4ef6\u4e4b\u95f4\u7684\u96c6\u6210\u95ee\u9898\u548c\u6f5c\u5728\u7684\u9519\u8bef\u3002\u5b83\u8fd8\u53ef\u4ee5\u9a8c\u8bc1\u5e94\u7528\u7a0b\u5e8f\u662f\u5426\u7b26\u5408\u7528\u6237\u9700\u6c42\u548c\u9884\u671f\u529f\u80fd\uff0c\u4ee5\u786e\u4fdd\u7528\u6237\u83b7\u5f97\u65e0\u7f1d\u7684\u7528\u6237\u4f53\u9a8c\u3002\\n\\n\u4e00\u4e9b\u5e38\u7528\u7684E2E\u6d4b\u8bd5\u5de5\u5177\u5305\u62ecSelenium\u3001Cypress\u3001Appium\u7b49\uff0c\u5b83\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e9b\u529f\u80fd\u548cAPI\uff0c\u7528\u4e8e\u81ea\u52a8\u5316\u6a21\u62df\u7528\u6237\u64cd\u4f5c\u5e76\u9a8c\u8bc1\u5e94\u7528\u7a0b\u5e8f\u7684\u884c\u4e3a\u3002","isLeaf":true},{"key":"/test/jest.md","path":"/test/jest.md","route":"/test/jest.md","leaf":true,"title":"jest","depth":1,"content":"---\\ntags: \u6d4b\u8bd5\u65b9\u6cd5\u8bba\\n---\\n\\n\u5728 JavaScript \u4e2d\uff0cJest \u662f\u4e00\u4e2a\u6d41\u884c\u7684\u6d4b\u8bd5\u6846\u67b6\uff0c\u7528\u4e8e\u7f16\u5199\u548c\u8fd0\u884c\u5355\u5143\u6d4b\u8bd5\u548c\u96c6\u6210\u6d4b\u8bd5\u3002Jest \u63d0\u4f9b\u4e86\u4e00\u79cd\u65b9\u4fbf\u7684\u65b9\u5f0f\u6765\u7f16\u5199\u3001\u8fd0\u884c\u548c\u62a5\u544a\u6d4b\u8bd5\u7ed3\u679c\u3002\\n`jest --coverage`\u547d\u4ee4\u7528\u4e8e\u751f\u6210\u4ee3\u7801\u8986\u76d6\u7387\u62a5\u544a\u3002\u4ee3\u7801\u8986\u76d6\u7387\u662f\u8861\u91cf\u6d4b\u8bd5\u4ee3\u7801\u5bf9\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u7684\u8986\u76d6\u7a0b\u5ea6\u7684\u6307\u6807\u3002\u5b83\u544a\u8bc9\u60a8\u6d4b\u8bd5\u6848\u4f8b\u662f\u5426\u8db3\u591f\u5168\u9762\uff0c\u4ee5\u9a8c\u8bc1\u5e94\u7528\u7a0b\u5e8f\u7684\u5404\u4e2a\u90e8\u5206\u3002\\n\\n\u5f53\u60a8\u5728\u8fd0\u884c`jest`\u547d\u4ee4\u65f6\u6dfb\u52a0`--coverage`\u9009\u9879\uff0cJest\u5c06\u6267\u884c\u6d4b\u8bd5\u6848\u4f8b\u5e76\u6536\u96c6\u6709\u5173\u6bcf\u4e2a\u6d4b\u8bd5\u6587\u4ef6\u4e2d\u6bcf\u4e2a\u51fd\u6570\u3001\u5206\u652f\u548c\u8bed\u53e5\u7684\u8986\u76d6\u4fe1\u606f\u3002\u5b83\u4f1a\u751f\u6210\u4e00\u4e2a\u4ee3\u7801\u8986\u76d6\u7387\u62a5\u544a\uff0c\u5176\u4e2d\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a\\n- \u884c\u8986\u76d6\u7387\uff1a\u6bcf\u4e2a\u6587\u4ef6\u4e2d\u6267\u884c\u7684\u6d4b\u8bd5\u884c\u6570\u4e0e\u603b\u884c\u6570\u7684\u6bd4\u4f8b\u3002\\n- \u5206\u652f\u8986\u76d6\u7387\uff1a\u6bcf\u4e2a\u6761\u4ef6/\u5206\u652f\u4e2d\u6267\u884c\u7684\u6d4b\u8bd5\u6bd4\u4f8b\u3002\\n- \u51fd\u6570\u8986\u76d6\u7387\uff1a\u6bcf\u4e2a\u51fd\u6570\u4e2d\u6267\u884c\u7684\u6d4b\u8bd5\u6bd4\u4f8b\u3002\\n- \u8bed\u53e5\u8986\u76d6\u7387\uff1a\u6bcf\u4e2a\u8bed\u53e5\u4e2d\u6267\u884c\u7684\u6d4b\u8bd5\u6bd4\u4f8b\u3002\\n\\n\u8986\u76d6\u7387\u62a5\u544a\u53ef\u4ee5\u5e2e\u52a9\u60a8\u786e\u5b9a\u6d4b\u8bd5\u7684\u8d28\u91cf\u548c\u5b8c\u6574\u6027\u3002\u901a\u8fc7\u67e5\u770b\u54ea\u4e9b\u90e8\u5206\u7f3a\u4e4f\u8db3\u591f\u7684\u6d4b\u8bd5\uff0c\u60a8\u53ef\u4ee5\u589e\u52a0\u6d4b\u8bd5\u6848\u4f8b\u4ee5\u63d0\u9ad8\u4ee3\u7801\u8986\u76d6\u7387\u3002\u6b64\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528\u8986\u76d6\u7387\u62a5\u544a\u6765\u68c0\u67e5\u4e0d\u5e38\u7528\u7684\u4ee3\u7801\u5206\u652f\u548c\u529f\u80fd\uff0c\u4ee5\u786e\u4fdd\u5b83\u4eec\u4e5f\u5f97\u5230\u4e86\u9002\u5f53\u7684\u6d4b\u8bd5\u8986\u76d6\u3002\\n\\n## \u53ef\u89c6\u5316\u751f\u6210\\n\\n\u8986\u76d6\u7387\u53ef\u89c6\u5316\u62a5\u544a = \u636e\u539f\u4ee3\u7801 + coverage data\\n![20230706115121](http://s3.airtlab.com/blog/20230706115121.png)\\n\\n## \u53c2\u8003\\n\\n- [Jest | \u6d4b\u8bd5\u6846\u67b6\u5b9e\u6218\u4e4b-coverage\u547d\u4ee4\u5b9e\u73b0\u539f\u7406](https://juejin.cn/post/7035139783911276551)\\n- [Nest\u7684test\u4e2d\u7684best\u662fJest\u6846\u67b6](https://justin3go.com/%E5%8D%9A%E5%AE%A2/2023/05/01Nest%E7%9A%84test%E4%B8%AD%E7%9A%84best%E6%98%AFJest%E6%A1%86%E6%9E%B6.html#jest%E7%BC%96%E5%86%99%E5%8D%95%E6%B5%8B%E7%94%A8%E4%BE%8B)\\n\\n\\n```js\\n\\"use strict\\";\\n\\n/* istanbul ignore next */\\nfunction cov_1i38u7idc3() {\\n  var path = \\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.service.ts\\";\\n  var hash = \\"25afe50c22c12ffc15e6f7fe8099588dd5984899\\";\\n  var global = new Function(\\"return this\\")();\\n  var gcv = \\"__coverage__\\";\\n  var coverageData = {\\n    path: \\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.service.ts\\",\\n    statementMap: {\\n      \\"0\\": {\\n        start: {\\n          line: 2,\\n          column: 17\\n        },\\n        end: {\\n          line: 7,\\n          column: 1\\n        }\\n      },\\n      \\"1\\": {\\n        start: {\\n          line: 3,\\n          column: 12\\n        },\\n        end: {\\n          line: 3,\\n          column: 28\\n        }\\n      },\\n      \\"2\\": {\\n        start: {\\n          line: 3,\\n          column: 34\\n        },\\n        end: {\\n          line: 3,\\n          column: 125\\n        }\\n      },\\n      \\"3\\": {\\n        start: {\\n          line: 4,\\n          column: 4\\n        },\\n        end: {\\n          line: 5,\\n          column: 150\\n        }\\n      },\\n      \\"4\\": {\\n        start: {\\n          line: 4,\\n          column: 79\\n        },\\n        end: {\\n          line: 4,\\n          column: 131\\n        }\\n      },\\n      \\"5\\": {\\n        start: {\\n          line: 5,\\n          column: 9\\n        },\\n        end: {\\n          line: 5,\\n          column: 150\\n        }\\n      },\\n      \\"6\\": {\\n        start: {\\n          line: 5,\\n          column: 22\\n        },\\n        end: {\\n          line: 5,\\n          column: 43\\n        }\\n      },\\n      \\"7\\": {\\n        start: {\\n          line: 5,\\n          column: 58\\n        },\\n        end: {\\n          line: 5,\\n          column: 150\\n        }\\n      },\\n      \\"8\\": {\\n        start: {\\n          line: 5,\\n          column: 81\\n        },\\n        end: {\\n          line: 5,\\n          column: 150\\n        }\\n      },\\n      \\"9\\": {\\n        start: {\\n          line: 6,\\n          column: 4\\n        },\\n        end: {\\n          line: 6,\\n          column: 66\\n        }\\n      },\\n      \\"10\\": {\\n        start: {\\n          line: 8,\\n          column: 0\\n        },\\n        end: {\\n          line: 8,\\n          column: 62\\n        }\\n      },\\n      \\"11\\": {\\n        start: {\\n          line: 9,\\n          column: 0\\n        },\\n        end: {\\n          line: 9,\\n          column: 28\\n        }\\n      },\\n      \\"12\\": {\\n        start: {\\n          line: 10,\\n          column: 17\\n        },\\n        end: {\\n          line: 10,\\n          column: 42\\n        }\\n      },\\n      \\"13\\": {\\n        start: {\\n          line: 11,\\n          column: 17\\n        },\\n        end: {\\n          line: 15,\\n          column: 1\\n        }\\n      },\\n      \\"14\\": {\\n        start: {\\n          line: 13,\\n          column: 8\\n        },\\n        end: {\\n          line: 13,\\n          column: 30\\n        }\\n      },\\n      \\"15\\": {\\n        start: {\\n          line: 16,\\n          column: 0\\n        },\\n        end: {\\n          line: 18,\\n          column: 15\\n        }\\n      },\\n      \\"16\\": {\\n        start: {\\n          line: 19,\\n          column: 0\\n        },\\n        end: {\\n          line: 19,\\n          column: 32\\n        }\\n      }\\n    },\\n    fnMap: {\\n      \\"0\\": {\\n        name: \\"(anonymous_0)\\",\\n        decl: {\\n          start: {\\n            line: 2,\\n            column: 46\\n          },\\n          end: {\\n            line: 2,\\n            column: 47\\n          }\\n        },\\n        loc: {\\n          start: {\\n            line: 2,\\n            column: 87\\n          },\\n          end: {\\n            line: 7,\\n            column: 1\\n          }\\n        },\\n        line: 2\\n      },\\n      \\"1\\": {\\n        name: \\"(anonymous_1)\\",\\n        decl: {\\n          start: {\\n            line: 12,\\n            column: 4\\n          },\\n          end: {\\n            line: 12,\\n            column: 5\\n          }\\n        },\\n        loc: {\\n          start: {\\n            line: 12,\\n            column: 15\\n          },\\n          end: {\\n            line: 14,\\n            column: 5\\n          }\\n        },\\n        line: 12\\n      }\\n    },\\n    branchMap: {\\n      \\"0\\": {\\n        loc: {\\n          start: {\\n            line: 2,\\n            column: 17\\n          },\\n          end: {\\n            line: 7,\\n            column: 1\\n          }\\n        },\\n        type: \\"binary-expr\\",\\n        locations: [{\\n          start: {\\n            line: 2,\\n            column: 18\\n          },\\n          end: {\\n            line: 2,\\n            column: 22\\n          }\\n        }, {\\n          start: {\\n            line: 2,\\n            column: 26\\n          },\\n          end: {\\n            line: 2,\\n            column: 41\\n          }\\n        }, {\\n          start: {\\n            line: 2,\\n            column: 46\\n          },\\n          end: {\\n            line: 7,\\n            column: 1\\n          }\\n        }],\\n        line: 2\\n      },\\n      \\"1\\": {\\n        loc: {\\n          start: {\\n            line: 3,\\n            column: 34\\n          },\\n          end: {\\n            line: 3,\\n            column: 125\\n          }\\n        },\\n        type: \\"cond-expr\\",\\n        locations: [{\\n          start: {\\n            line: 3,\\n            column: 42\\n          },\\n          end: {\\n            line: 3,\\n            column: 48\\n          }\\n        }, {\\n          start: {\\n            line: 3,\\n            column: 51\\n          },\\n          end: {\\n            line: 3,\\n            column: 125\\n          }\\n        }],\\n        line: 3\\n      },\\n      \\"2\\": {\\n        loc: {\\n          start: {\\n            line: 3,\\n            column: 51\\n          },\\n          end: {\\n            line: 3,\\n            column: 125\\n          }\\n        },\\n        type: \\"cond-expr\\",\\n        locations: [{\\n          start: {\\n            line: 3,\\n            column: 67\\n          },\\n          end: {\\n            line: 3,\\n            column: 118\\n          }\\n        }, {\\n          start: {\\n            line: 3,\\n            column: 121\\n          },\\n          end: {\\n            line: 3,\\n            column: 125\\n          }\\n        }],\\n        line: 3\\n      },\\n      \\"3\\": {\\n        loc: {\\n          start: {\\n            line: 4,\\n            column: 4\\n          },\\n          end: {\\n            line: 5,\\n            column: 150\\n          }\\n        },\\n        type: \\"if\\",\\n        locations: [{\\n          start: {\\n            line: 4,\\n            column: 4\\n          },\\n          end: {\\n            line: 5,\\n            column: 150\\n          }\\n        }, {\\n          start: {\\n            line: 5,\\n            column: 9\\n          },\\n          end: {\\n            line: 5,\\n            column: 150\\n          }\\n        }],\\n        line: 4\\n      },\\n      \\"4\\": {\\n        loc: {\\n          start: {\\n            line: 4,\\n            column: 8\\n          },\\n          end: {\\n            line: 4,\\n            column: 77\\n          }\\n        },\\n        type: \\"binary-expr\\",\\n        locations: [{\\n          start: {\\n            line: 4,\\n            column: 8\\n          },\\n          end: {\\n            line: 4,\\n            column: 35\\n          }\\n        }, {\\n          start: {\\n            line: 4,\\n            column: 39\\n          },\\n          end: {\\n            line: 4,\\n            column: 77\\n          }\\n        }],\\n        line: 4\\n      },\\n      \\"5\\": {\\n        loc: {\\n          start: {\\n            line: 5,\\n            column: 58\\n          },\\n          end: {\\n            line: 5,\\n            column: 150\\n          }\\n        },\\n        type: \\"if\\",\\n        locations: [{\\n          start: {\\n            line: 5,\\n            column: 58\\n          },\\n          end: {\\n            line: 5,\\n            column: 150\\n          }\\n        }, {\\n          start: {\\n            line: undefined,\\n            column: undefined\\n          },\\n          end: {\\n            line: undefined,\\n            column: undefined\\n          }\\n        }],\\n        line: 5\\n      },\\n      \\"6\\": {\\n        loc: {\\n          start: {\\n            line: 5,\\n            column: 85\\n          },\\n          end: {\\n            line: 5,\\n            column: 149\\n          }\\n        },\\n        type: \\"binary-expr\\",\\n        locations: [{\\n          start: {\\n            line: 5,\\n            column: 86\\n          },\\n          end: {\\n            line: 5,\\n            column: 143\\n          }\\n        }, {\\n          start: {\\n            line: 5,\\n            column: 148\\n          },\\n          end: {\\n            line: 5,\\n            column: 149\\n          }\\n        }],\\n        line: 5\\n      },\\n      \\"7\\": {\\n        loc: {\\n          start: {\\n            line: 5,\\n            column: 86\\n          },\\n          end: {\\n            line: 5,\\n            column: 143\\n          }\\n        },\\n        type: \\"cond-expr\\",\\n        locations: [{\\n          start: {\\n            line: 5,\\n            column: 94\\n          },\\n          end: {\\n            line: 5,\\n            column: 98\\n          }\\n        }, {\\n          start: {\\n            line: 5,\\n            column: 101\\n          },\\n          end: {\\n            line: 5,\\n            column: 143\\n          }\\n        }],\\n        line: 5\\n      },\\n      \\"8\\": {\\n        loc: {\\n          start: {\\n            line: 5,\\n            column: 101\\n          },\\n          end: {\\n            line: 5,\\n            column: 143\\n          }\\n        },\\n        type: \\"cond-expr\\",\\n        locations: [{\\n          start: {\\n            line: 5,\\n            column: 109\\n          },\\n          end: {\\n            line: 5,\\n            column: 126\\n          }\\n        }, {\\n          start: {\\n            line: 5,\\n            column: 129\\n          },\\n          end: {\\n            line: 5,\\n            column: 143\\n          }\\n        }],\\n        line: 5\\n      },\\n      \\"9\\": {\\n        loc: {\\n          start: {\\n            line: 6,\\n            column: 11\\n          },\\n          end: {\\n            line: 6,\\n            column: 62\\n          }\\n        },\\n        type: \\"binary-expr\\",\\n        locations: [{\\n          start: {\\n            line: 6,\\n            column: 11\\n          },\\n          end: {\\n            line: 6,\\n            column: 16\\n          }\\n        }, {\\n          start: {\\n            line: 6,\\n            column: 20\\n          },\\n          end: {\\n            line: 6,\\n            column: 21\\n          }\\n        }, {\\n          start: {\\n            line: 6,\\n            column: 25\\n          },\\n          end: {\\n            line: 6,\\n            column: 62\\n          }\\n        }],\\n        line: 6\\n      }\\n    },\\n    s: {\\n      \\"0\\": 0,\\n      \\"1\\": 0,\\n      \\"2\\": 0,\\n      \\"3\\": 0,\\n      \\"4\\": 0,\\n      \\"5\\": 0,\\n      \\"6\\": 0,\\n      \\"7\\": 0,\\n      \\"8\\": 0,\\n      \\"9\\": 0,\\n      \\"10\\": 0,\\n      \\"11\\": 0,\\n      \\"12\\": 0,\\n      \\"13\\": 0,\\n      \\"14\\": 0,\\n      \\"15\\": 0,\\n      \\"16\\": 0\\n    },\\n    f: {\\n      \\"0\\": 0,\\n      \\"1\\": 0\\n    },\\n    b: {\\n      \\"0\\": [0, 0, 0],\\n      \\"1\\": [0, 0],\\n      \\"2\\": [0, 0],\\n      \\"3\\": [0, 0],\\n      \\"4\\": [0, 0],\\n      \\"5\\": [0, 0],\\n      \\"6\\": [0, 0],\\n      \\"7\\": [0, 0],\\n      \\"8\\": [0, 0],\\n      \\"9\\": [0, 0, 0]\\n    },\\n    inputSourceMap: {\\n      file: \\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.service.ts\\",\\n      mappings: \\";;;;;;;;;AAAA,2CAA4C;AAGrC,IAAM,UAAU,GAAhB,MAAM,UAAU;IACrB,QAAQ;QACN,OAAO,cAAc,CAAC;IACxB,CAAC;CACF,CAAA;AAJY,UAAU;IADtB,IAAA,mBAAU,GAAE;GACA,UAAU,CAItB;AAJY,gCAAU\\",\\n      names: [],\\n      sources: [\\"/Users/xiong.gao/code/learn-books/demos/nyc-demo/nyc-nestjs/src/app.service.ts\\"],\\n      sourcesContent: [\\"import { Injectable } from \'@nestjs/common\';\\\\n\\\\n@Injectable()\\\\nexport class AppService {\\\\n  getHello() {\\\\n    return \'Hello World!\';\\\\n  }\\\\n}\\\\n\\"],\\n      version: 3\\n    },\\n    _coverageSchema: \\"1a1c01bbd47fc00a2c39e90264f33305004495a9\\",\\n    hash: \\"25afe50c22c12ffc15e6f7fe8099588dd5984899\\"\\n  };\\n  var coverage = global[gcv] || (global[gcv] = {});\\n  if (!coverage[path] || coverage[path].hash !== hash) {\\n    coverage[path] = coverageData;\\n  }\\n  var actualCoverage = coverage[path];\\n  {\\n    // @ts-ignore\\n    cov_1i38u7idc3 = function () {\\n      return actualCoverage;\\n    };\\n  }\\n  return actualCoverage;\\n}\\ncov_1i38u7idc3();\\nvar __decorate =\\n/* istanbul ignore next */\\n(cov_1i38u7idc3().s[0]++,\\n/* istanbul ignore next */\\n(cov_1i38u7idc3().b[0][0]++, this) &&\\n/* istanbul ignore next */\\n(cov_1i38u7idc3().b[0][1]++, this.__decorate) ||\\n/* istanbul ignore next */\\n(cov_1i38u7idc3().b[0][2]++, function (decorators, target, key, desc) {\\n  /* istanbul ignore next */\\n  cov_1i38u7idc3().f[0]++;\\n  var c =\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().s[1]++, arguments.length),\\n    r =\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().s[2]++, c < 3 ?\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().b[1][0]++, target) :\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().b[1][1]++, desc === null ?\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().b[2][0]++, desc = Object.getOwnPropertyDescriptor(target, key)) :\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().b[2][1]++, desc))),\\n    d;\\n  /* istanbul ignore next */\\n  cov_1i38u7idc3().s[3]++;\\n  if (\\n  /* istanbul ignore next */\\n  (cov_1i38u7idc3().b[4][0]++, typeof Reflect === \\"object\\") &&\\n  /* istanbul ignore next */\\n  (cov_1i38u7idc3().b[4][1]++, typeof Reflect.decorate === \\"function\\")) {\\n    /* istanbul ignore next */\\n    cov_1i38u7idc3().b[3][0]++;\\n    cov_1i38u7idc3().s[4]++;\\n    r = Reflect.decorate(decorators, target, key, desc);\\n  } else {\\n    /* istanbul ignore next */\\n    cov_1i38u7idc3().b[3][1]++;\\n    cov_1i38u7idc3().s[5]++;\\n    for (var i =\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().s[6]++, decorators.length - 1); i >= 0; i--) {\\n      /* istanbul ignore next */\\n      cov_1i38u7idc3().s[7]++;\\n      if (d = decorators[i]) {\\n        /* istanbul ignore next */\\n        cov_1i38u7idc3().b[5][0]++;\\n        cov_1i38u7idc3().s[8]++;\\n        r =\\n        /* istanbul ignore next */\\n        (cov_1i38u7idc3().b[6][0]++, c < 3 ?\\n        /* istanbul ignore next */\\n        (cov_1i38u7idc3().b[7][0]++, d(r)) :\\n        /* istanbul ignore next */\\n        (cov_1i38u7idc3().b[7][1]++, c > 3 ?\\n        /* istanbul ignore next */\\n        (cov_1i38u7idc3().b[8][0]++, d(target, key, r)) :\\n        /* istanbul ignore next */\\n        (cov_1i38u7idc3().b[8][1]++, d(target, key)))) ||\\n        /* istanbul ignore next */\\n        (cov_1i38u7idc3().b[6][1]++, r);\\n      } else\\n      /* istanbul ignore next */\\n      {\\n        cov_1i38u7idc3().b[5][1]++;\\n      }\\n    }\\n  }\\n  /* istanbul ignore next */\\n  cov_1i38u7idc3().s[9]++;\\n  return (\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().b[9][0]++, c > 3) &&\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().b[9][1]++, r) &&\\n    /* istanbul ignore next */\\n    (cov_1i38u7idc3().b[9][2]++, Object.defineProperty(target, key, r)), r\\n  );\\n}));\\n/* istanbul ignore next */\\ncov_1i38u7idc3().s[10]++;\\nObject.defineProperty(exports, \\"__esModule\\", {\\n  value: true\\n});\\n/* istanbul ignore next */\\ncov_1i38u7idc3().s[11]++;\\nexports.AppService = void 0;\\nconst common_1 =\\n/* istanbul ignore next */\\n(cov_1i38u7idc3().s[12]++, require(\\"@nestjs/common\\"));\\n/* istanbul ignore next */\\ncov_1i38u7idc3().s[13]++;\\nlet AppService = class AppService {\\n  getHello() {\\n    /* istanbul ignore next */\\n    cov_1i38u7idc3().f[1]++;\\n    cov_1i38u7idc3().s[14]++;\\n    return \'Hello World!\';\\n  }\\n};\\n/* istanbul ignore next */\\ncov_1i38u7idc3().s[15]++;\\nAppService = __decorate([(0, common_1.Injectable)()], AppService);\\n/* istanbul ignore next */\\ncov_1i38u7idc3().s[16]++;\\nexports.AppService = AppService;\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWkzOHU3aWRjMyIsImFjdHVhbENvdmVyYWdlIiwiY29tbW9uXzEiLCJzIiwicmVxdWlyZSIsIkFwcFNlcnZpY2UiLCJnZXRIZWxsbyIsImYiLCJfX2RlY29yYXRlIiwiSW5qZWN0YWJsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyIvVXNlcnMveGlvbmcuZ2FvL2NvZGUvbGVhcm4tYm9va3MvZGVtb3MvbnljLWRlbW8vbnljLW5lc3Rqcy9zcmMvYXBwLnNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEFwcFNlcnZpY2Uge1xuICBnZXRIZWxsbygpIHtcbiAgICByZXR1cm4gJ0hlbGxvIFdvcmxkISc7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUd1QjtJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxjQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFIdkIsTUFBQUUsUUFBQTtBQUFBO0FBQUEsQ0FBQUYsY0FBQSxHQUFBRyxDQUFBLFFBQUFDLE9BQUE7QUFBNEM7QUFBQUosY0FBQSxHQUFBRyxDQUFBO0FBR3JDLElBQU1FLFVBQVUsR0FBaEIsTUFBTUEsVUFBVTtFQUNyQkMsUUFBUUEsQ0FBQTtJQUFBO0lBQUFOLGNBQUEsR0FBQU8sQ0FBQTtJQUFBUCxjQUFBLEdBQUFHLENBQUE7SUFDTixPQUFPLGNBQWM7RUFDdkI7Q0FDRDtBQUFBO0FBQUFILGNBQUEsR0FBQUcsQ0FBQTtBQUpZRSxVQUFVLEdBQUFHLFVBQUEsRUFEdEIsSUFBQU4sUUFBQSxDQUFBTyxVQUFVLEdBQUUsQyxFQUNBSixVQUFVLENBSXRCO0FBQUE7QUFBQUwsY0FBQSxHQUFBRyxDQUFBO0FBSllPLE9BQUEsQ0FBQUwsVUFBQSxHQUFBQSxVQUFBIn0=\\n```","isLeaf":true}]},{"key":"/thinking","path":"/thinking","route":"/thinking","leaf":false,"title":"thinking","depth":0,"content":"","isLeaf":false,"children":[{"key":"/thinking/01-language.md","path":"/thinking/01-language.md","route":"/thinking/01-language.md","leaf":true,"title":"01-language","depth":1,"content":"---\\ntitle: 01 \u7f16\u7a0b\u8bed\u8a00\u601d\u8003\\n---\\n","isLeaf":true},{"key":"/thinking/02-bad-react-code.md","path":"/thinking/02-bad-react-code.md","route":"/thinking/02-bad-react-code.md","leaf":true,"title":"02-bad-react-code","depth":1,"content":"---\\ntitle: 02 \u8fd9\u4e2a React \u4ee3\u7801\u6ca1\u6cd5\u770b\\n---\\n\\n\u6700\u8fd1\u5728\u5e2e\u53e6\u5916\u4e00\u4e2a\u5c0f\u7ec4\u7684\u540c\u4e8b\u505a\u4e00\u4e2a\u6280\u672f\u9879\u76ee\uff0c\u4ed6\u539f\u672c\u7684\u4e3b\u8981\u5de5\u4f5c\u504f\u5411\u540e\u53f0\u5f00\u53d1\uff0c\u7b2c\u4e00\u6b21\u5199 React \u4ee3\u7801\uff0c\u5f53\u6211\u63a5\u624b\u8fd9\u4e2a\u9879\u76ee\u50bb\u773c\u4e86\u3002\\n\\n\u9996\u5148\u8fd9\u4e2a\u9879\u76ee\u672c\u8eab\u5e76\u4e0d\u7b80\u5355\uff0c\u4ed6\u8fd8\u662f\u5f88\u5389\u5bb3\u7684\uff0c\u4f46\u662f\u4ee3\u7801\u5199\u7684\u5b9e\u5728\u662f\u96be\u4ee5\u7406\u89e3\u3002\u7279\u522b\u662f\u5c42\u7ea7\u5f88\u6df1\u7684 prop \u4f20\u9012 (\u5f88\u591a 6/7 \u5c42)\uff0c\u4ee5\u53ca\u5f88\u591a\u533f\u540d\u7684\u7ec4\u4ef6\uff0c\u5bfc\u81f4\u5f53\u6211\u60f3\u627e\u5230\u9875\u9762\u4e0a\u67d0\u4e2a\u89c6\u56fe\u6240\u5bf9\u5e94\u7684\u6587\u4ef6\u65f6\uff0c\u6839\u672c\u65e0\u4ece\u4e0b\u624b\u554a\uff0c\u4e5f\u53ef\u80fd\u6709\u5176\u4ed6\u6211\u4e0d\u77e5\u9053\u7684\u59ff\u52bf\uff0c\u5982\u679c\u4f60\u77e5\u9053\uff0c\u9ebb\u70e6\u544a\u8bc9\u6211 \ud83d\ude02\u3002\\n\\n\u867d\u7136\u65e0\u526f\u4f5c\u7528\u7684\u51fd\u6570\uff0c\u4ece\u67b6\u6784\u8bbe\u8ba1\u4e0a\u6765\u8bb2\u662f\u6700\u4f18\u7684\uff0c\u4f46\u662f\u5728 UI \u5f00\u53d1\u9886\u57df\uff0c\u5f53\u7ec4\u4ef6\u6df1\u5ea6\u592a\u5927\u65f6\uff0c\u4ee3\u7801\u4e0d\u5bb9\u6613\u7406\u89e3\uff0c\u5fc3\u667a\u8d1f\u62c5\u5927\u3002\\n\\n\u6211\u60f3\u5230\u529e\u6cd5\u53ef\u4ee5\u5c06\u9875\u9762\u62bd\u8c61\u4e3a\u4e00\u4e2a\u6811\uff0c\u6211\u53ef\u4ee5\u67e5\u770b\u6811\u4e0a\u7684\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\u7684\u4f9d\u8d56 \u548c \u88ab\u4f9d\u8d56\uff0c\u5177\u4f53\u6709\u51e0\u4e2a\u70b9\uff1a\\n\\n- (1) \u4ece\u5165\u53e3\u5206\u6790\u4ee3\u7801\uff0c\u89e3\u6790\u51fa\u4e00\u4e2a\u6811 \u6216\u8005 \u591a\u4e2a\u6811\uff0c\u548c webpack \u7684\u4f9d\u8d56\u6811\u5dee\u4e0d\u591a\\n- (2) \u5728\u5f00\u53d1\u6a21\u5f0f\u4e0b\uff0c\u5f53\u6211\u7684\u9f20\u6807\u60ac\u6d6e\u5728\u9875\u9762\u67d0\u4e2a\u8282\u70b9\u65f6\uff0c\u4f1a\u5728\u4fa7\u8fb9\u63d0\u793a\u5668\u4ee3\u7801\u6240\u5728\u6587\u4ef6\\n\\n\u4e3e\u4e2a\u4f8b\u5b50\uff1a\\n\\n```tsx\\nconst Box = (\\n  <div>\\n    <div>hello world</div>\\n    <div>hello world</div>\\n  </div>\\n);\\n```\\n\\n=>\\n\\n```tsx\\nconst Box = (\\n  <div data-file=\\"src/components/Box.tsx\\">\\n    <div>hello world</div>\\n    <div>hello world</div>\\n  </div>\\n);\\n\\n// \u6216\u8005\\nconst Box = (\\n  <div data-file=\\"src/components/Box.tsx\\">\\n    <div data-file=\\"src/components/Box.tsx\\">hello world</div>\\n    <div data-file=\\"src/components/Box.tsx\\">hello world</div>\\n  </div>\\n);\\n```\\n\\n\u5728\u6bcf\u4e2a\u7ec4\u4ef6\u7684\u6839\u6807\u7b7e \u6216\u8005 \u6240\u6709\u6807\u7b7e\u52a0\u4e00\u4e2a data-code \u5c5e\u6027\\n\\n![20230511222239](http://s3.airtlab.com/blog/20230511222239.png)\\n\\n\u63d2\u4ef6\u4ee3\u7801\u975e\u5e38\u7b80\u5355\uff1a\\n\\n```js\\nconst types = require(\\"@babel/types\\");\\n\\nmodule.exports = function () {\\n  return {\\n    visitor: {\\n      JSXOpeningElement(path) {\\n        const t = types;\\n        const _this = this;\\n\\n        if (\\n          !path.parent.openingElement.name ||\\n          ![\\"div\\", \\"span\\", \\"p\\", \\"ul\\", \\"li\\"].includes(\\n            path.parent.openingElement.name.name\\n          )\\n        ) {\\n          return;\\n        }\\n\\n        const existingProp = path.node.attributes.find(\\n          (node) => node.name && node.name.name === \\"data-code\\"\\n        );\\n\\n        if (existingProp) {\\n          existingProp.node.value.value === \\"data-code\\";\\n          return;\\n        }\\n\\n        const newProp = t.jSXAttribute(\\n          t.jSXIdentifier(\\"data-code\\"),\\n          t.stringLiteral(_this.filename)\\n        );\\n\\n        path.node.attributes.push(newProp);\\n      },\\n    },\\n  };\\n};\\n```\\n","isLeaf":true},{"key":"/thinking/03-swagger-json-to-axios.md","path":"/thinking/03-swagger-json-to-axios.md","route":"/thinking/03-swagger-json-to-axios.md","leaf":true,"title":"03-swagger-json-to-axios","depth":1,"content":"\u4f5c\u4e3a\u4e00\u4e2a\u5168\u6808\u5f00\u53d1\u8005\uff0c\u65e5\u5e38\u7684API\u5f00\u53d1\u4e2d\uff0c\u9488\u5bf9 DTO \u5c42\uff0cnodejs \u4e2d\u8981\u5199\u4e00\u904d\uff0cReact \u9879\u76ee\u4e2d\u4e5f\u8981\u5199\u4e00\u904d\uff0c\u5176\u5b9e\u53ef\u4ee5\u6839\u636e swagger json schema \u751f\u6210\u524d\u7aef\u6240\u9700\u8981\u7684\u63a5\u53e3\uff0c\u53ef\u4ee5\u6309\u7167\u63a5\u53e3\u6807\u7b7e\u5212\u5206\u6587\u4ef6\u3002\\n\\n![20230516170511](http://s3.airtlab.com/blog/20230516170511.png)\\n\\n\u5199\u4e86\u8fd9\u4e2a npm cli \u5de5\u5177 https://github.com/wiiai/swagger-doc-to-axios \u6781\u5927\u7684\u63d0\u5347\u5f00\u53d1\u6548\u7387\u3002","isLeaf":true},{"key":"/thinking/04-dependency-tree-in-react.md","path":"/thinking/04-dependency-tree-in-react.md","route":"/thinking/04-dependency-tree-in-react.md","leaf":true,"title":"04-dependency-tree-in-react","depth":1,"content":"---\\ntitle: 04 React \u9879\u76ee\u4f9d\u8d56\u5206\u6790\u6811\\n---\\n\\n\u5728\u590d\u6742\u7684\u9879\u76ee\u5f00\u53d1\u4e2d\uff0c\u4e00\u4e2a\u7ec4\u4ef6\u53ef\u80fd\u88ab\u5f88\u591a\u4e2a\u7ec4\u4ef6\u6240\u5f15\u7528\uff0c\u6ca1\u6709\u529e\u6cd5\u76f4\u89c2\u7684\u67e5\u770b\u5176\u4f9d\u8d56\u5173\u7cfb\u56fe\uff0c\u8fd9\u4e2a\u56fe\u662f\u5f88\u6709\u4ef7\u503c\u7684\uff0c\u6bd4\u5982\u5728\u4ee3\u7801 review \u65f6\u53ef\u4ee5\u4f5c\u4e3a\u53c2\u8003\u8d44\u6599\u3002\\n\\n\u6709\u4e24\u79cd\u89c6\u89d2\u6765\u5206\u6790\u95ee\u9898\uff1a\\n- 1\uff09\u67e5\u770b\u67d0\u4e2a\u6587\u4ef6\u81ea\u9876\u5411\u4e0b\u7684\u4f9d\u8d56\u5173\u7cfb\\n- 2\uff09\u67e5\u770b\u67d0\u4e2a\u6587\u4ef6\u81ea\u5e95\u5411\u4e0a\u7684\u4f9d\u8d56\u5173\u7cfb\\n\\n\u5728\u65e5\u5e38\u5f00\u53d1\u4e2d\uff0c\u53ef\u4ee5\u7ed3\u5408 git \u53d8\u66f4\uff0c\u8fdb\u884c\u66f4\u5c0f\u8303\u56f4\u7684\u7b5b\u9009\u3002\\n\\n## 1\u3001\u81ea\u9876\u5411\u4e0b\\n\\n![20230627165028](http://s3.airtlab.com/blog/20230627165028.png)\\n\\n## 2\u3001\u81ea\u5e95\u5411\u4e0a\\n","isLeaf":true},{"key":"/thinking/05-add-number-for-article-heading.md","path":"/thinking/05-add-number-for-article-heading.md","route":"/thinking/05-add-number-for-article-heading.md","leaf":true,"title":"05-add-number-for-article-heading","depth":1,"content":"\u5728\u4e00\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6709\u5f88\u591a h1\u3001h2\u3001h3\u3001h4\u3001h5\u3001h6 \u6807\u9898\uff0c\u800c\u4e14\u6211\u4eec\u559c\u6b22\u7ed9\u8fd9\u4e9b\u6807\u9898\u52a0\u4e0a\u6570\u5b57\u7d22\u5f15\uff0c\u6bd4\u5982\uff1a\\n\\n```text\\n1\u3001nodejs\\n  1.1 \u57fa\u7840\u7528\u6cd5\\n  1.2 \u9ad8\u7ea7\u7528\u6cd5\\n2\u3001babel\\n  1.1 \u57fa\u7840\u7528\u6cd5\\n  1.2 \u9ad8\u7ea7\u7528\u6cd5\\n```\\n\\n\u624b\u52a8\u52a0\u7684\u8bdd\uff0c\u5bb9\u6613\u51fa\u9519\uff0c\u800c\u4e14\u5f53\u8fdb\u884c\u63d2\u5165\u64cd\u4f5c\u7684\u8bdd\uff0c\u9700\u8981\u4fee\u6539\u7684\u5730\u65b9\u6bd4\u8f83\u591a\uff0c\u56e0\u6b64\u53ef\u4ee5\u5199\u4e00\u4e2a `format` \u65b9\u6cd5\uff0c\u7ed9\u4ed6\u81ea\u52a8\u52a0\u4e0a\uff0c\u5c01\u88c5\u4e3a vscode \u63d2\u4ef6\uff0c\u4ee5\u65b9\u4fbf\u5728 vscode \u4e2d\u5199\u4f5c\u3002","isLeaf":true}]},{"key":"/third","path":"/third","route":"/third","leaf":false,"title":"third","depth":0,"content":"","isLeaf":false,"children":[{"key":"/third/wexin.md","path":"/third/wexin.md","route":"/third/wexin.md","leaf":true,"title":"wexin","depth":1,"content":"## 1\u3001\u5fae\u4fe1 cgi-bin \u548csns\u76ee\u5f55\u4e0b\u7684\u63a5\u53e3\u4ec0\u4e48\u533a\u522b\u554a\uff1f\\n\\nhttps://developers.weixin.qq.com/community/develop/doc/483552123f44973079500c2e6d09a18e\\n\\n## 2\u3001`https://api.weixin.qq.com/sns/userinfo` \u548c `https://api.weixin.qq.com/cgi-bin/user/info` \u7684\u533a\u522b\\n\\n\u8fd9\u4e24\u4e2a\u5fae\u4fe1\u7684API\u6709\u4e00\u4e9b\u533a\u522b\uff0c\u4ee5\u4e0b\u662f\u5b83\u4eec\u7684\u4e3b\u8981\u533a\u522b\uff1a\\n1. \u63a5\u53e3\u529f\u80fd\uff1ahttps://api.weixin.qq.com/sns/userinfo \u662f\u5fae\u4fe1\u5f00\u53d1\u8005\u5e73\u53f0\u7684API\uff0c\u4e3b\u8981\u7528\u4e8e\u83b7\u53d6\u7528\u6237\u7684\u57fa\u672c\u4fe1\u606f\u548c\u6388\u6743\u540e\u7684\u7528\u6237\u4fe1\u606f\u3002https://api.weixin.qq.com/cgi-bin/user/info \u662f\u5fae\u4fe1\u516c\u4f17\u5e73\u53f0\u7684API\uff0c\u4e3b\u8981\u7528\u4e8e\u83b7\u53d6\u516c\u4f17\u53f7\u7528\u6237\u7684\u4fe1\u606f\u3002\\n\\n2. \u63a5\u53e3\u5730\u5740\uff1ahttps://api.weixin.qq.com/sns/userinfo \u7684\u8def\u5f84\u4e2d\u5305\u542b\u4e86\\"sns\\"\uff0c\u8868\u793a\u8be5\u63a5\u53e3\u4e3b\u8981\u7528\u4e8e\u5904\u7406\u57fa\u4e8eOAuth2.0\u7684\u7528\u6237\u6388\u6743\u6d41\u7a0b\u3002https://api.weixin.qq.com/cgi-bin/user/info \u7684\u8def\u5f84\u4e2d\u6ca1\u6709\\"sns\\"\uff0c\u8868\u793a\u8be5\u63a5\u53e3\u4e3b\u8981\u7528\u4e8e\u516c\u4f17\u53f7\u7528\u6237\u4fe1\u606f\u7684\u83b7\u53d6\u3002\\n\\n3. \u63a5\u53e3\u8c03\u7528\u65b9\u5f0f\uff1ahttps://api.weixin.qq.com/sns/userinfo \u9700\u8981\u901a\u8fc7OAuth2.0\u7684\u7528\u6237\u6388\u6743\u6d41\u7a0b\u83b7\u5f97\u7528\u6237\u7684access_token\uff0c\u7136\u540e\u518d\u901a\u8fc7\u8be5\u63a5\u53e3\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u3002https://api.weixin.qq.com/cgi-bin/user/info \u5219\u9700\u8981\u4f7f\u7528\u516c\u4f17\u53f7\u7684access_token\u76f4\u63a5\u8c03\u7528\u8be5\u63a5\u53e3\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u3002\\n\\n4. \u8fd4\u56de\u7684\u6570\u636e\uff1ahttps://api.weixin.qq.com/sns/userinfo \u8fd4\u56de\u7684\u662fJSON\u683c\u5f0f\u7684\u6570\u636e\uff0c\u5305\u542b\u7528\u6237\u7684\u57fa\u672c\u4fe1\u606f\u548c\u6388\u6743\u540e\u7684\u7528\u6237\u4fe1\u606f\u3002https://api.weixin.qq.com/cgi-bin/user/info \u8fd4\u56de\u7684\u4e5f\u662fJSON\u683c\u5f0f\u7684\u6570\u636e\uff0c\u5305\u542b\u516c\u4f17\u53f7\u7528\u6237\u7684\u4fe1\u606f\u3002\\n\\n\u603b\u7ed3\u6765\u8bf4\uff0chttps://api.weixin.qq.com/sns/userinfo \u4e3b\u8981\u7528\u4e8e\u5904\u7406\u7528\u6237\u6388\u6743\u6d41\u7a0b\uff0c\u83b7\u53d6\u7528\u6237\u57fa\u672c\u4fe1\u606f\u548c\u6388\u6743\u4fe1\u606f\uff1bhttps://api.weixin.qq.com/cgi-bin/user/info \u4e3b\u8981\u7528\u4e8e\u516c\u4f17\u53f7\u7528\u6237\u4fe1\u606f\u7684\u83b7\u53d6\u3002","isLeaf":true}]},{"key":"/tools","path":"/tools","route":"/tools","leaf":false,"title":"tools","depth":0,"content":"","isLeaf":false,"children":[{"key":"/tools/01-build-docs.md","path":"/tools/01-build-docs.md","route":"/tools/01-build-docs.md","leaf":true,"title":"01-build-docs","depth":1,"content":"---\\ntitle: 01 \u6280\u672f\u6587\u6863\u642d\u5efa\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n## 1\u3001Nextra\\n\\nNextra \u662f\u4e00\u4e2a\u4fbf\u6377\u7684\u9759\u6001\u7f51\u7ad9\u751f\u6210\u5de5\u5177\uff0c\u4ed6\u5e95\u5c42\u4f9d\u8d56 `nextjs`\u3002\\n\\n- nextra \u6709\u4e24\u79cd\u98ce\u683c \u535a\u5ba2\u98ce\u683c \u548c \u6587\u6863\u98ce\u683c\uff0c\u66f4\u9002\u5408\u7528\u4f5c\u6587\u6863\uff0c\u53ef\u4ee5\u81ea\u5df1\u642d\u5efa\uff0c\u4e5f\u53ef\u4ee5\u62c9\u6a21\u677f\u8fdb\u884c\u4fee\u6539\u3002\\n- nextra \u5b98\u65b9\u6587\u6863\u4e5f\u662f\u7528 nextra \u642d\u5efa\u7684\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u53c2\u8003\\n- \u6587\u6863\u4ee3\u7801\u4ed3\u5e93 https://github.com/shuding/nextra\\n- \u6587\u6863\u5c55\u793a\u5730\u5740 https://nextra.site\\n\\n**\u6587\u6863\u98ce\u683c**\\n\\n![20230630100840](http://s3.airtlab.com/blog/20230630100840.png)\\n\\n## 2\u3001VitePress\\n\\nVitePress \u662f\u4e00\u4e2a\u7531 Vue.js \u9a71\u52a8\u7684\u9759\u6001\u7f51\u7ad9\u751f\u6210\u5668\u3002\\n\\n- \u5b83\u4e13\u6ce8\u4e8e\u4e3a`\u6280\u672f\u6587\u6863`\u3001`\u535a\u5ba2`\u548c\u5176\u4ed6\u7c7b\u4f3c\u5185\u5bb9\u751f\u6210\u9759\u6001\u7f51\u7ad9\u3002\\n- VitePress \u5177\u6709\u5feb\u901f\u7684\u5f00\u53d1\u901f\u5ea6\u548c\u70ed\u6a21\u5757\u91cd\u52a0\u8f7d\u529f\u80fd\uff0c\u53ef\u4ee5\u5b9e\u65f6\u9884\u89c8\u548c\u8c03\u8bd5\u7f51\u7ad9\\n- \u652f\u6301 Markdown \u683c\u5f0f\u7684\u6587\u6863\u7f16\u5199\u3002\\n- \u9002\u7528\u4e8e\u6784\u5efa\u4ee5\u6587\u6863\u4e3a\u4e3b\u7684\u7f51\u7ad9\uff0c\u5e76\u63d0\u4f9b\u4e86\u4fbf\u6377\u7684\u5de5\u5177\uff0c\u4f8b\u5982\u81ea\u52a8\u751f\u6210\u7684\u5bfc\u822a\u680f\u3001\u4fa7\u8fb9\u680f\u548c\u641c\u7d22\u529f\u80fd\u7b49\u3002\\n- \u6848\u4f8b1 https://sunniejs.github.io/vue-h5-template/guide/\\n\\n## 3\u3001hugo\\n\\nHugo \u662f\u7531Go\u8bed\u8a00\u5b9e\u73b0\u7684\u9759\u6001\u7f51\u7ad9\u751f\u6210\u5668\u3002\u7b80\u5355\u3001\u6613\u7528\u3001\u9ad8\u6548\u3001\u6613\u6269\u5c55\u3001\u5feb\u901f\u90e8\u7f72\u3002\\n\\n\u8fd9\u4e2a\u4e3b\u9898\u6bd4\u8f83\u6f02\u4eae https://github.com/WingLim/hugo-tania \ud83e\udd0c https://hugo-tania.netlify.app/\\n\\n\u53c2\u8003 https://blog.chungzh.cn\\n\\n### \u5b89\u88c5 \\n\\n```shell\\nbrew install hugo\\n```\\n\\n### \u521d\u59cb\u5316\\n\\n```shell\\nhugo new site quickstart\\ncd quickstart\\ngit init\\ngit submodule add -b stable https://github.com/jpanther/congo.git themes/congo #\u4e0b\u8f7dcongo\u4e3b\u9898\u5230\u7f51\u7ad9\\necho \\"theme = \'congo\'\\" >> hugo.toml #\u5c06\\"\\"\u5185\u7684\u6587\u672c\u5185\u5bb9\u6dfb\u52a0\u5230hugo.toml\u6587\u4ef6\u672b\u5c3e\u3002\\nhugo server #\u521b\u5efa\u9759\u6001\u6587\u4ef6\u5e76\u8fd0\u884c\u672c\u5730\u7f51\u7ad9\u670d\u52a1\u5668\\n```","isLeaf":true},{"key":"/tools/02-wireshark.md","path":"/tools/02-wireshark.md","route":"/tools/02-wireshark.md","leaf":true,"title":"02-wireshark","depth":1,"content":"---\\ntitle: 02 wireshark \u6293\u5305\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n**\u53c2\u8003\u8d44\u6599**\\n\\n- https://zhuanlan.zhihu.com/p/82498482\\n\\n## 1\u3001\u8fc7\u6ee4\u89c4\u5219\\n### 1\uff09IP \u8fc7\u6ee4\\n- ip.src == 192.168.1.104 \u663e\u793a\u6e90\u5730\u5740\u4e3a192.168.1.104\u7684\u6570\u636e\u5305\u5217\u8868\\n- ip.dst == 192.168.1.104, \u663e\u793a\u76ee\u6807\u5730\u5740\u4e3a192.168.1.104\u7684\u6570\u636e\u5305\u5217\u8868\\n- ip.addr == 192.168.1.104 \u663e\u793a\u6e90IP\u5730\u5740\u6216\u76ee\u6807IP\u5730\u5740\u4e3a 192.168.1.104 \u7684\u6570\u636e\u5305\u5217\u8868\\n\\n### 2\uff09HTTP \u6a21\u5f0f\u8fc7\u6ee4\\nhttp.request.method==\\"GET\\", \u53ea\u663e\u793aHTTP GET\u65b9\u6cd5\u7684\u3002\\n\\n### 3\uff09\u534f\u8bae\u8fc7\u6ee4\\n```\\nicmp\\ntelnet\\ntcp\\ntcp.ack\\n```\\n\\n### 4) \u903b\u8f91\u8fd0\u7b97\u7b26\u4e3a and/or/not\\n\u8fc7\u6ee4\u591a\u4e2a\u6761\u4ef6\u7ec4\u5408\u65f6\uff0c\u4f7f\u7528and/or\u3002\u6bd4\u5982\u83b7\u53d6IP\u5730\u5740\u4e3a192.168.1.104\u7684ICMP\u6570\u636e\u5305\u8868\u8fbe\u5f0f\u4e3aip.addr == 192.168.1.104 and icmp\\n\\n## 2\u3001TCP \u63e1\u624b\u8fc7\u7a0b\\n### 1\uff09TCP \u62a5\u6587\u534f\u8bae\\n![20230506180734](http://s3.airtlab.com/blog/20230506180734.png)\\n\\n### 2\uff09TCP \u6293\u5305\u6f14\u793a\\n```\\ncurl \'http://blog.airtlab.com/\' \\\\\\n  -H \'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\' \\\\\\n  -H \'Accept-Language: zh-CN,zh;q=0.9\' \\\\\\n  -H \'Cache-Control: max-age=0\' \\\\\\n  -H \'Connection: keep-alive\' \\\\\\n  -H \'If-Modified-Since: Thu, 15 Apr 2021 02:08:45 GMT\' \\\\\\n  -H \'Upgrade-Insecure-Requests: 1\' \\\\\\n  -H \'User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1\' \\\\\\n  --compressed \\\\\\n  --insecure\\n```\\n\\n![20230506180754](http://s3.airtlab.com/blog/20230506180754.png)\\n\\n\u524d\u4e09\u6b21\u901a\u8baf\u5373\u4e3a\u63e1\u624b\u8fc7\u7a0b\\n\\n```js\\n// 16 \u8fdb\u5236\u8f6c\u6362 => 57346\\nparseInt(0xe002, 10)\\n```\\n\\n## 3\u3001\u6807\u8bb0\u6570\u636e\u5305","isLeaf":true},{"key":"/tools/03-sqlite-browser.md","path":"/tools/03-sqlite-browser.md","route":"/tools/03-sqlite-browser.md","leaf":true,"title":"03-sqlite-browser","depth":1,"content":"---\\ntitle: 03 sqllite \u6570\u636e\u9884\u89c8\u5de5\u5177\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n--- \\n\\n- \u5b98\u7f51 https://sqlitebrowser.org/\\n- \u4e0b\u8f7d https://sqlitebrowser.org/dl/","isLeaf":true},{"key":"/tools/04-ngrok.md","path":"/tools/04-ngrok.md","route":"/tools/04-ngrok.md","leaf":true,"title":"04-ngrok","depth":1,"content":"---\\ntitle: 04 \u5185\u7f51\u7a7f\u900f ngrok\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\nhttps://dashboard.ngrok.com/get-started/setup","isLeaf":true},{"key":"/tools/05-whistle.md","path":"/tools/05-whistle.md","route":"/tools/05-whistle.md","leaf":true,"title":"05-whistle","depth":1,"content":"---\\ntitle: 05 whistle \u6559\u7a0b\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n### 1\u3001\u4f7f\u7528\u672c\u5730\u8d44\u6e90\u66ff\u6362\\n```javascript\\nwww.gaollard.com file:///Users/gaollard/code/whistle/index.html\\n```\\n\\n### 2\u3001\u8bf7\u6c42\u8f6c\u53d1\uff0c\u5c06\u6307\u5b9a\u57df\u540d\u8bf7\u6c42\u8f6c\u53d1\u5230\u53e6\u4e00\u4e2a\u57df\u540d\\n```javascript\\nwww.qq.com ke.qq.com # \u6307\u5b9a\u57df\u540d\u8f6c\u53d1\u751f\u6548\\n**.qq.com ke.qq.com  # \u6240\u6709qq.com\u5b50\u57df\u540d\u8f6c\u53d1\u751f\u6548\\n```\\n\\n### 3\u3001\u811a\u672c\u6ce8\u5165\\n\u5c06\u4e00\u6bb5\u811a\u672c\uff08\u53ef\u4ee5\u4f7fhtml\u3001js\u3001CSS\u7247\u6bb5\uff09\u6ce8\u5165\u5230dom\u9875\u9762\u4e2d\u8fdb\u884c\u8c03\u8bd5\\n```javascript\\n// mac\\nrenwu.airtlab.com css:///Users/gaollard/code/whistle/index.css\\nrenwu.airtlab.com js:///Users/gaollard/code/whistle/test.js\\n```\\n\\n### 4\u3001\u8bf7\u6c42\u6539\u5199\u4e0e\u63a5\u53e3mock\\n```javascript\\n# \u4f1a\u628a\u5185\u5bb9 append \u5230\u8bf7\u6c42\u540e\u9762\\nhttp://www.text.com/style.css resAppend://{append.css}\\n\\n# \u5b8c\u5168\u66ff\u6362\u8bf7\u6c42\u5185\u5bb9\\nrenwu.airtlab.com/api/demand-category resBody://{mock_cate}\\n```\\n\\n### 5\u3001\u5b66\u4e60\u8d44\u6599\\n- IMBweb whistle\u5de5\u5177\u5168\u7a0b\u5165\u95e8 https://www.imweb.io/topic/596480af33d7f9a94951744c\\n- \u5b98\u65b9\u914d\u7f6e\u6587\u6863 http://wproxy.org/whistle/\\n- whistle \u5b9e\u7528\u5c0f\u6280\u5de7 https://baijiahao.baidu.com/s?id=1694050105421549643&wfr=spider&for=pc","isLeaf":true},{"key":"/tools/06-typeorm-entity-gen.md","path":"/tools/06-typeorm-entity-gen.md","route":"/tools/06-typeorm-entity-gen.md","leaf":true,"title":"06-typeorm-entity-gen","depth":1,"content":"---\\ntitle: 06 typeorm entity \u81ea\u52a8\u751f\u6210\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n\u539f\u7406\uff1a\u67e5\u8be2\u6570\u636e\u5e93\u8868 schema\uff0c\u81ea\u52a8\u751f\u6210\u5bf9\u5e94\u7684 typeorm entity \u6587\u4ef6\\n\\n- typeorm-model-generator https://github.com/Kononnable/typeorm-model-generator\\n- typeorm \u5e94\u8be5\u88ab\u653e\u5f03 https://github.com/Kononnable/typeorm-model-generator/issues/329\\n- \u5982\u4f55\u4f7f\u7528 typeorm-model-generator https://blog.csdn.net/kuangshp128/article/details/98062662\\n\\n```shell\\nrm -rf entities & npx typeorm-model-generator -h hostname -d g_mall -p 3306 -u user -x password -e mysql -o entities --noConfig true\\n```","isLeaf":true},{"key":"/tools/07-ddl-to-json.md","path":"/tools/07-ddl-to-json.md","route":"/tools/07-ddl-to-json.md","leaf":true,"title":"07-ddl-to-json","depth":1,"content":"---\\ntitle: 07 DDL\u8f6cJSON\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\nhttps://github.com/duartealexf/sql-ddl-to-json-schema \u8fd9\u4e2a\u5e93\u53ef\u4ee5\u6839\u636e ddl \u751f\u6210 JSON Schema\uff0c\u5b83\u4e0d\u4ec5\u4ec5\u80fd\u591f\u8bc6\u522b `CREATE TABLE` \u8bed\u53e5\uff0c\u5bf9 `ALTER` \u7b49\u4fee\u6539\u4e5f\u80fd\u8bc6\u522b\u3002","isLeaf":true},{"key":"/tools/08-ppt-in-code.md","path":"/tools/08-ppt-in-code.md","route":"/tools/08-ppt-in-code.md","leaf":true,"title":"08-ppt-in-code","depth":1,"content":"---\\ntitle: 08 \u4f7f\u7528\u4ee3\u7801\u5199 PPT\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n## 1\u3001\u4f7f\u7528 reveal.js\\n\\n\u4f7f\u7528 html \u5199\u52a8\u6548\u4e30\u5bcc\u7684 PPT https://revealjs.com/\\n\\n## 2\u3001\u4f7f\u7528 PptxGenJS\\n\\nhttps://gitbrent.github.io/PptxGenJS/","isLeaf":true},{"key":"/tools/09-vscode.md","path":"/tools/09-vscode.md","route":"/tools/09-vscode.md","leaf":true,"title":"09-vscode","depth":1,"content":"---\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n1. \u9009\u4e2d\u5f53\u524d\u884c\\n`command + L`","isLeaf":true},{"key":"/tools/10-file-diff.md","path":"/tools/10-file-diff.md","route":"/tools/10-file-diff.md","leaf":true,"title":"10-file-diff","depth":1,"content":"---\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n## 1\u3001diff \u5de5\u5177\\n\\n- \u5728\u7ebf\u5de5\u5177 https://www.qianbo.com.cn/Tool/Text-Difference/\\n- \u4f7f\u7528 vscode code --diff filePath1 filePath2\\n\\n## 2\u3001diff \u4ee3\u7801\\n\\nhttps://github.com/microsoft/vscode/blob/main/src/vs/editor/test/common/diff/diffComputer.test.ts","isLeaf":true},{"key":"/tools/11-yuque-export.md","path":"/tools/11-yuque-export.md","route":"/tools/11-yuque-export.md","leaf":true,"title":"11-yuque-export","depth":1,"content":"---\\ntitle: 11 \u5bfc\u51fa\u8bed\u96c0\u6587\u6863\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n```shell\\nYUQUE_TOKEN=XXX npx yuque-exporter gaollard\\n```\\n\\ntoken \u5728 https://github.com/gaollard/person-tools","isLeaf":true},{"key":"/tools/12-zh-filename-to-en.md","path":"/tools/12-zh-filename-to-en.md","route":"/tools/12-zh-filename-to-en.md","leaf":true,"title":"12-zh-filename-to-en","depth":1,"content":"---\\ntitle: 12 \u5c06\u4e2d\u6587\u6587\u4ef6\u540d\u8f6c\u4e3a\u82f1\u6587\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---","isLeaf":true},{"key":"/tools/13-emoji.md","path":"/tools/13-emoji.md","route":"/tools/13-emoji.md","leaf":true,"title":"13-emoji","depth":1,"content":"---\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\nhttps://emojipedia.org/","isLeaf":true},{"key":"/tools/14-wordpress.md","path":"/tools/14-wordpress.md","route":"/tools/14-wordpress.md","leaf":true,"title":"14-wordpress","depth":1,"content":"---\\ntitle: 14 wordpress \u5efa\u7ad9\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n\u4f7f\u7528 wordpress \u642d\u5efa\u535a\u5ba2\u6559\u7a0b\\n\\n## 1\u3001\u4e0b\u8f7d\u6e90\u7801\\n\\n```shell\\nwget https://cn.wordpress.org/latest-zh_CN.zip && unzip latest-zh_CN.zip -d /www/wwwroot\\n```\\n\\n## 2\u3001\u914d\u7f6e\\n\\n\u53ef\u53c2\u8003 https://blog.csdn.net/qq_36234720/article/details/127547705 \u6ce8\u610f\u914d\u7f6e\u6587\u4ef6 wp-config.php\\n\\n```php\\n<?php\\ndefine( \'DB_NAME\', \'wordpress\' );\\n\\n/** Database username */\\ndefine( \'DB_USER\', \'root\' );\\n\\n/** Database password */\\ndefine( \'DB_PASSWORD\', \'123456\' );\\n\\n/** Database hostname */\\ndefine( \'DB_HOST\', \'localhost\' );\\n\\n/** Database charset to use in creating database tables. */\\ndefine( \'DB_CHARSET\', \'utf8mb4\' );\\n\\n/** The database collate type. Don\'t change this if in doubt. */\\ndefine( \'DB_COLLATE\', \'\' );\\n\\ndefine( \'AUTH_KEY\',         \'Al4cZm4c1Ir(TlXxO[0;/pVch9oz|=M@ENnkbrmR%7LDK,{QH$)_0?]JyfQ.WQ7$\' );\\ndefine( \'SECURE_AUTH_KEY\',  \'SJh_McK2suE1ie44DunHad;[.Ea||o5]$2fsP$rJ!{L,fe.bPa V t,zqbE~hOt&\' );\\ndefine( \'LOGGED_IN_KEY\',    \'zf7K^#Jq{F|rA13p^xW^of?S#Aq0~vXHp{w]W)TfYW3X<w4=&jmjW5!XMH.Wp;3V\' );\\ndefine( \'NONCE_KEY\',        \'G]}dSp}:>pn1L}N Pumbwi=11(Vt0o[cTq<+k~S#K-[XoR@8RlRJOR*k2Xa)/QDo\' );\\ndefine( \'AUTH_SALT\',        \'FG-FT/r/ KM9h@h ^$8r]/|8t|FbggBBw<13BtU/2K2Mf50a[,5k0%ieozh] mY4\' );\\ndefine( \'SECURE_AUTH_SALT\', \'6M*@?Jw|alm/&&0K63lxN%;_N#Z[Q;4pRjrWSn=)6]`zD?VjsQtLx{6FyOf@S@nx\' );\\ndefine( \'LOGGED_IN_SALT\',   \'b>8p:(kZJ`l<muL&hsq7bRE.O L3ei.((K]&5GIO`]LaLtBbxs=!D?k}g~Y~#]px\' );\\ndefine( \'NONCE_SALT\',       \'4@*.Rh9dB[K8F$lRD).+foBb3[<HROEcC%R8~m?FXo ^[KLP3|;q.]6w0~PC~U}D\' );\\n\\n// define(\'FTP_BASE\', \'/www/wwwroot/wordpress\');\\n// define(\'FTP_CONTENT_DIR\', \'wordpress\u7684\u5185\u5bb9\u76ee\u5f55\u4f4d\u7f6e\');\\n// define(\'FTP_PLUGIN_DI\', \'wordpress\u7684\u63d2\u4ef6\u76ee\u5f55\u4f4d\u7f6e\');\\n// define(\'FTP_THEMES_DIR\', \'wordpress\u7684\u4e3b\u4f53\u76ee\u5f55\u4f4d\u7f6e\');\\n\\n$table_prefix = \'wp_\';\\n\\n\\ndefine( \'WP_DEBUG\', false );\\n\\nif ( ! defined( \'ABSPATH\' ) ) {\\n\\tdefine( \'ABSPATH\', __DIR__ . \'/\' );\\n}\\n\\nrequire_once ABSPATH . \'wp-settings.php\';\\n\\nif(is_admin()) {\\n\\nadd_filter(\'filesystem_method\', create_function(\'$a\', \'return \\"direct\\";\' ));\\n\\ndefine( \'FS_CHMOD_DIR\', 0751 );\\n\\n}\\n```","isLeaf":true},{"key":"/tools/15-hexo.md","path":"/tools/15-hexo.md","route":"/tools/15-hexo.md","leaf":true,"title":"15-hexo","depth":1,"content":"---\\ntitle: 15 hexo \u642d\u5efa\u535a\u5ba2\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n- \u5b98\u65b9\u6587\u6863 https://hexo.io/zh-cn/\\n- \u81ea\u5df1\u5199\u4e00\u4e2a hexo \u4e3b\u9898 https://segmentfault.com/a/1190000006057336\\n- \u81ea\u5df1\u5199\u4e00\u4e2a hexo \u4e3b\u9898 https://juejin.cn/post/6844904068565958663\\n- hexo \u539f\u7406 https://juejin.cn/user/1538971967685032\\n- hexo \u539f\u7406 https://www.ituring.com.cn/article/199295\\n\\n## 1\u3001\u6587\u7ae0\u6392\u5e8f\\n\\n## 2\u3001\u4f7f\u7528\u63d2\u4ef6\\n\\n## 3\u3001Front-matter\\n\\n\u89e3\u6790 Front-matter\\n\\n```js\\nvar content = `---\\\\n\\ntitle: hello\\ntas: Javascript\\n---\\n\\n<h2>hello</h2>\\n---\\n`;\\n\\nconst frontMatterRegex = /^---\\\\s*[\\\\s\\\\S]*?\\\\s*---/;\\nconst frontMatterMatch = content.match(frontMatterRegex);\\n\\nif (frontMatterMatch) {\\n  // \u53d6\u51fa\u5339\u914d\u5230\u7684Front-matter\u90e8\u5206\uff0c\u5e76\u5c06\u5176\u8f6c\u6362\u4e3aJavaScript\u5bf9\u8c61\\n  const frontMatterString = frontMatterMatch[0].replace(/---/g, \\"\\").trim();\\n  console.log(frontMatterString);\\n  // \u4f7f\u7528 Yaml \u89e3\u6790\\n} else {\\n  console.log(\\"\u6ca1\u6709\u627e\u5230Front-matter\u90e8\u5206\\");\\n}\\n```","isLeaf":true},{"key":"/tools/16-regepx-view.md","path":"/tools/16-regepx-view.md","route":"/tools/16-regepx-view.md","leaf":true,"title":"16-regepx-view","depth":1,"content":"---\\ntitle: 16 \u6b63\u5219\u53ef\u89c6\u5316\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\nhttps://regexper.com/#%2F%5E%28%5B%5Cd%5D%2B%29%3F%28.*%29%24%2F","isLeaf":true},{"key":"/tools/17-gatsby.md","path":"/tools/17-gatsby.md","route":"/tools/17-gatsby.md","leaf":true,"title":"17-gatsby","depth":1,"content":"---\\ntitle: 17 gatsby \u535a\u5ba2\u642d\u5efa\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n![20230605004218](http://s3.airtlab.com/blog/20230605004218.png)\\n\\n\u53c2\u8003\\n- https://webrtc.mthli.com/\\n- https://github.com/mthli/webrtc-tutorial","isLeaf":true},{"key":"/tools/18-nextjs.md","path":"/tools/18-nextjs.md","route":"/tools/18-nextjs.md","leaf":true,"title":"18-nextjs","depth":1,"content":"---\\ntitle: 18 nextjs \u5efa\u7ad9\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n\u63d0\u4f9b\u4e86\u5f88\u591a\u6a21\u677f https://vercel.com/templates/next.js?utm_source=next-site&utm_medium=navbar&utm_campaign=nextjs-templates ","isLeaf":true},{"key":"/tools/19-code-highlight.md","path":"/tools/19-code-highlight.md","route":"/tools/19-code-highlight.md","leaf":true,"title":"19-code-highlight","depth":1,"content":"---\\ntitle: 19 \u4ee3\u7801\u9ad8\u4eae\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n## 1\u3001prismjs\\n\\n- https://prismjs.com/#examples\\n- \u5728\u5b98\u65b9\u4e0b\u8f7d\u8bed\u8a00\u6269\u5c55\u4ee5\u53ca\u4e3b\u9898 https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript\\n\\n\u53ef\u4ee5\u5728 nodejs \u548c \u6d4f\u89c8\u5668\u4e2d\u4f7f\u7528\\n\\n```js\\nconst Prism = require(\'prismjs\');\\n\\n// The code snippet you want to highlight, as a string\\nconst code = `var data = 1;`;\\n\\n// Returns a highlighted HTML string\\nconst html = Prism.highlight(code, Prism.languages.javascript, \'javascript\');\\nconsole.log(html)\\n```\\n\\n```html\\n<span class=\\"token keyword\\">var</span> data <span class=\\"token operator\\">=</span> <span class=\\"token number\\">1</span><span class=\\"token punctuation\\">;</span>\\n```\\n\\n## 2\u3001highlight.js\\n\\nhttps://highlightjs.org/\\n\\n\u53ef\u4ee5\u5728 nodejs \u548c \u6d4f\u89c8\u5668\u4e2d\u4f7f\u7528\\n\\n```js\\n// require the highlight.js library, including all languages\\nconst hljs = require(\'./highlight.js\');\\nconst highlightedCode = hljs.highlightAuto(\'<span>Hello World!</span>\').value\\n```","isLeaf":true},{"key":"/tools/20-vscode.md","path":"/tools/20-vscode.md","route":"/tools/20-vscode.md","leaf":true,"title":"20-vscode","depth":1,"content":"---\\ntitle: 20 vscode\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\n## 1. \u521b\u5efa\u8f6f\u8fde\u63a5\\n\\n```shell\\nsudo ln -fs \\"/Applications/Visual Studio Code.app/Contents/Resources/app/bin/code\\" /usr/local/bin/\\n```\\n\\n## 2. \u63d2\u5165\u5f53\u524d\u65f6\u95f4\\n\u53ef\u4ee5\u81ea\u5df1\u5199 Vscode \u63d2\u4ef6\u5b9e\u73b0\uff0c\u6bd4\u5982 `Insert Date String`\uff0cMac \u4e0a\u4f7f\u7528 `shift + command + i`\\n\\n![20230610000702](http://s3.airtlab.com/blog/20230610000702.png)","isLeaf":true},{"key":"/tools/21-create-react-doc.md","path":"/tools/21-create-react-doc.md","route":"/tools/21-create-react-doc.md","leaf":true,"title":"21-create-react-doc","depth":1,"content":"---\\ntitle: 21 create react doc\\ntags: tools\\ndate: 2022-06-10 00:00:00\\n---\\n\\nCreate React Doc \u662f\u4e00\u4e2a\u4f7f\u7528 React \u7684 markdown \u6587\u6863\u7ad9\u70b9\u751f\u6210\u5de5\u5177\u3002\u5c31\u50cf create-react-app \u4e00\u6837\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u4f7f\u7528 Create React Doc \u6765\u5f00\u53d1\u3001\u90e8\u7f72\u6587\u6863\u6216\u8005\u535a\u5ba2\u7ad9\u70b9\u800c\u65e0\u9700\u5173\u5fc3\u989d\u5916\u7684\u73af\u5883\u914d\u7f6e\u4fe1\u606f\u3002\\n\\nhttps://github.com/MuYunyun/create-react-doc","isLeaf":true},{"key":"/tools/22-tcp-packet-sender.md","path":"/tools/22-tcp-packet-sender.md","route":"/tools/22-tcp-packet-sender.md","leaf":true,"title":"22-tcp-packet-sender","depth":1,"content":"---\\ntags: tools\\n---\\n\\n\u6709\u65f6\u5019\u6211\u4eec\u8981\u6d4b\u8bd5TCP\u670d\u52a1\u5668\uff0c \u5199\u4e2a\u5ba2\u6237\u7aef\u5f53\u7136\u53ef\u4ee5\uff0c \u4e0d\u8fc7\u5982\u679c\u4f60\u4e0d\u80fd\u6539\u5ba2\u6237\u7aef\u53c8\u60f3\u6539\u53d1\u9001\u7684\u5185\u5bb9\uff0c \u7528 Packet sender \u5c31\u5f88\u65b9\u4fbf\u3002\\n\u9996\u5148\u7528\u5ba2\u6237\u7aef\u53d1\u9001TCP\u5305\u5230 Packet Sender, \u7136\u540e\u7528 Packet Sender \u4fdd\u5b58\u4e00\u4e0b\uff0c \u5c31\u53ef\u4ee5\u5728Packet Sender \u4e2d\u53d1\u9001\u8fd9\u4e2a\u5305\u5230\u522b\u7684\u5730\u65b9\u4e86\uff0c \u8fd8\u53ef\u4ee5\u6539\u5305\u503c\u3002\\n\\n![20230612140520](http://s3.airtlab.com/blog/20230612140520.png)","isLeaf":true},{"key":"/tools/23-baidu-translate-openapi.md","path":"/tools/23-baidu-translate-openapi.md","route":"/tools/23-baidu-translate-openapi.md","leaf":true,"title":"23-baidu-translate-openapi","depth":1,"content":"---\\ntags: tools\\n---\\n\\n```ts\\nimport axios from \'axios\';\\nimport md5 from \'md5\'\\n\\nvar url = `https://fanyi-api.baidu.com/api/trans/vip/translate`;\\nvar app_id = \'20230612001709576\';\\nvar app_secret = `Mv3I6oaIcj48dm2ISiDt`;\\nvar salt = \'1435660288\';\\n\\nfunction create_sign(q: string) {\\n  var content = app_id + q + salt + app_secret;\\n  return md5(content);\\n}\\n\\nasync function translate(q: string) {\\n  var sign = create_sign(q);\\n  var fullUrl =\\n    url + `?q=${q}&from=zh&to=en&appid=${app_id}&salt=${salt}&sign=${sign}`;\\n\\n    axios(fullUrl).then((res) => {\\n    console.log(res.status)\\n    console.log(res.data)\\n  })\\n}\\n\\ntranslate(`\u57fa\u7840\u7528\u6cd5`);\\n```","isLeaf":true},{"key":"/tools/25-ui-design.md","path":"/tools/25-ui-design.md","route":"/tools/25-ui-design.md","leaf":true,"title":"25-ui-design","depth":1,"content":"- AI \u751f\u6210\u56fe\u7247\\n- \u66f4\u6362\u80cc\u666f https://www.remove.bg/zh/t/change-background","isLeaf":true},{"key":"/tools/26-github-cicd.md","path":"/tools/26-github-cicd.md","route":"/tools/26-github-cicd.md","leaf":true,"title":"26-github-cicd","depth":1,"content":"## travis-ci\\n","isLeaf":true},{"key":"/tools/\u53c2\u8003\u535a\u5ba2.md","path":"/tools/\u53c2\u8003\u535a\u5ba2.md","route":"/tools/\u53c2\u8003\u535a\u5ba2.md","leaf":true,"title":"\u53c2\u8003\u535a\u5ba2","depth":1,"content":"https://blog.zhheo.com/archives/\\n\\n\\n![20230711172643](http://s3.airtlab.com/blog/20230711172643.png)","isLeaf":true},{"key":"/tools/\u6587\u7ae0\u5c01\u9762\u56fe\u7247\u5728\u7ebf\u521b\u4f5c.md","path":"/tools/\u6587\u7ae0\u5c01\u9762\u56fe\u7247\u5728\u7ebf\u521b\u4f5c.md","route":"/tools/\u6587\u7ae0\u5c01\u9762\u56fe\u7247\u5728\u7ebf\u521b\u4f5c.md","leaf":true,"title":"\u6587\u7ae0\u5c01\u9762\u56fe\u7247\u5728\u7ebf\u521b\u4f5c","depth":1,"content":"https://tooltt.com/fontlogo/\\n\\n![tooltt-fontlogo](http://s3.airtlab.com/blog/tooltt-fontlogo.png)\\n\\nhttps://zhuanlan.zhihu.com/p/599159170","isLeaf":true}]},{"key":"/typescript","path":"/typescript","route":"/typescript","leaf":false,"title":"typescript","depth":0,"content":"","isLeaf":false,"children":[{"key":"/typescript/tsc api.md","path":"/typescript/tsc api.md","route":"/typescript/tsc api.md","leaf":true,"title":"tsc api","depth":1,"content":"https://github.com/microsoft/TypeScript/wiki/Using-the-Compiler-API","isLeaf":true},{"key":"/typescript/\u5982\u4f55 \u52a0\u8f7d tsconfig.json \u5185\u5bb9.md","path":"/typescript/\u5982\u4f55 \u52a0\u8f7d tsconfig.json \u5185\u5bb9.md","route":"/typescript/\u5982\u4f55 \u52a0\u8f7d tsconfig.json \u5185\u5bb9.md","leaf":true,"title":"\u5982\u4f55 \u52a0\u8f7d tsconfig.json \u5185\u5bb9","depth":1,"content":"https://github.com/microsoft/TypeScript/issues/5276\\n\\n![20230707120323](http://s3.airtlab.com/blog/20230707120323.png)","isLeaf":true}]}]');function rt(){return rt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},rt.apply(this,arguments)}var ot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"};function at(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var it=t(1694),st=t.n(it);function lt(e,n){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var t=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===n?e:Math.min(n,Math.max(0,parseFloat(e))),t&&(e=parseInt(String(e*n),10)/100),Math.abs(e-n)<1e-6?1:e=360===n?(e<0?e%n+n:e%n)/parseFloat(String(n)):e%n/parseFloat(String(n))}function ct(e){return Math.min(1,Math.max(0,e))}function ut(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function dt(e){return e<=1?"".concat(100*Number(e),"%"):e}function pt(e){return 1===e.length?"0"+e:String(e)}function ft(e,n,t){e=lt(e,255),n=lt(n,255),t=lt(t,255);var r=Math.max(e,n,t),o=Math.min(e,n,t),a=0,i=0,s=(r+o)/2;if(r===o)i=0,a=0;else{var l=r-o;switch(i=s>.5?l/(2-r-o):l/(r+o),r){case e:a=(n-t)/l+(n<t?6:0);break;case n:a=(t-e)/l+2;break;case t:a=(e-n)/l+4}a/=6}return{h:a,s:i,l:s}}function ht(e,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+6*t*(n-e):t<.5?n:t<2/3?e+(n-e)*(2/3-t)*6:e}function mt(e,n,t){e=lt(e,255),n=lt(n,255),t=lt(t,255);var r=Math.max(e,n,t),o=Math.min(e,n,t),a=0,i=r,s=r-o,l=0===r?0:s/r;if(r===o)a=0;else{switch(r){case e:a=(n-t)/s+(n<t?6:0);break;case n:a=(t-e)/s+2;break;case t:a=(e-n)/s+4}a/=6}return{h:a,s:l,v:i}}function gt(e,n,t,r){var o=[pt(Math.round(e).toString(16)),pt(Math.round(n).toString(16)),pt(Math.round(t).toString(16))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function bt(e){return Math.round(255*parseFloat(e)).toString(16)}function vt(e){return yt(e)/255}function yt(e){return parseInt(e,16)}var xt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function kt(e){var n,t,r,o={r:0,g:0,b:0},a=1,i=null,s=null,l=null,c=!1,u=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var n=!1;if(xt[e])e=xt[e],n=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var t=Ct.rgb.exec(e);if(t)return{r:t[1],g:t[2],b:t[3]};if(t=Ct.rgba.exec(e),t)return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=Ct.hsl.exec(e),t)return{h:t[1],s:t[2],l:t[3]};if(t=Ct.hsla.exec(e),t)return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=Ct.hsv.exec(e),t)return{h:t[1],s:t[2],v:t[3]};if(t=Ct.hsva.exec(e),t)return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=Ct.hex8.exec(e),t)return{r:yt(t[1]),g:yt(t[2]),b:yt(t[3]),a:vt(t[4]),format:n?"name":"hex8"};if(t=Ct.hex6.exec(e),t)return{r:yt(t[1]),g:yt(t[2]),b:yt(t[3]),format:n?"name":"hex"};if(t=Ct.hex4.exec(e),t)return{r:yt(t[1]+t[1]),g:yt(t[2]+t[2]),b:yt(t[3]+t[3]),a:vt(t[4]+t[4]),format:n?"name":"hex8"};if(t=Ct.hex3.exec(e),t)return{r:yt(t[1]+t[1]),g:yt(t[2]+t[2]),b:yt(t[3]+t[3]),format:n?"name":"hex"};return!1}(e)),"object"===typeof e&&(_t(e.r)&&_t(e.g)&&_t(e.b)?(n=e.r,t=e.g,r=e.b,o={r:255*lt(n,255),g:255*lt(t,255),b:255*lt(r,255)},c=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):_t(e.h)&&_t(e.s)&&_t(e.v)?(i=dt(e.s),s=dt(e.v),o=function(e,n,t){e=6*lt(e,360),n=lt(n,100),t=lt(t,100);var r=Math.floor(e),o=e-r,a=t*(1-n),i=t*(1-o*n),s=t*(1-(1-o)*n),l=r%6;return{r:255*[t,i,a,a,s,t][l],g:255*[s,t,t,i,a,a][l],b:255*[a,a,s,t,t,i][l]}}(e.h,i,s),c=!0,u="hsv"):_t(e.h)&&_t(e.s)&&_t(e.l)&&(i=dt(e.s),l=dt(e.l),o=function(e,n,t){var r,o,a;if(e=lt(e,360),n=lt(n,100),t=lt(t,100),0===n)o=t,a=t,r=t;else{var i=t<.5?t*(1+n):t+n-t*n,s=2*t-i;r=ht(s,i,e+1/3),o=ht(s,i,e),a=ht(s,i,e-1/3)}return{r:255*r,g:255*o,b:255*a}}(e.h,i,l),c=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(a=e.a)),a=ut(a),{ok:c,format:e.format||u,r:Math.min(255,Math.max(o.r,0)),g:Math.min(255,Math.max(o.g,0)),b:Math.min(255,Math.max(o.b,0)),a:a}}var wt="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),St="[\\s|\\(]+(".concat(wt,")[,|\\s]+(").concat(wt,")[,|\\s]+(").concat(wt,")\\s*\\)?"),Et="[\\s|\\(]+(".concat(wt,")[,|\\s]+(").concat(wt,")[,|\\s]+(").concat(wt,")[,|\\s]+(").concat(wt,")\\s*\\)?"),Ct={CSS_UNIT:new RegExp(wt),rgb:new RegExp("rgb"+St),rgba:new RegExp("rgba"+Et),hsl:new RegExp("hsl"+St),hsla:new RegExp("hsla"+Et),hsv:new RegExp("hsv"+St),hsva:new RegExp("hsva"+Et),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function _t(e){return Boolean(Ct.CSS_UNIT.exec(String(e)))}var jt=2,At=.16,Nt=.05,Pt=.05,Tt=.15,It=5,Ot=4,Lt=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Dt(e){var n=mt(e.r,e.g,e.b);return{h:360*n.h,s:n.s,v:n.v}}function Rt(e){var n=e.r,t=e.g,r=e.b;return"#".concat(gt(n,t,r,!1))}function Mt(e,n,t){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?t?Math.round(e.h)-jt*n:Math.round(e.h)+jt*n:t?Math.round(e.h)+jt*n:Math.round(e.h)-jt*n)<0?r+=360:r>=360&&(r-=360),r}function qt(e,n,t){return 0===e.h&&0===e.s?e.s:((r=t?e.s-At*n:n===Ot?e.s+At:e.s+Nt*n)>1&&(r=1),t&&n===It&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Ft(e,n,t){var r;return(r=t?e.v+Pt*n:e.v-Tt*n)>1&&(r=1),Number(r.toFixed(2))}function Bt(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[],r=kt(e),o=It;o>0;o-=1){var a=Dt(r),i=Rt(kt({h:Mt(a,o,!0),s:qt(a,o,!0),v:Ft(a,o,!0)}));t.push(i)}t.push(Rt(r));for(var s=1;s<=Ot;s+=1){var l=Dt(r),c=Rt(kt({h:Mt(l,s),s:qt(l,s),v:Ft(l,s)}));t.push(c)}return"dark"===n.theme?Lt.map((function(e){var r=e.index,o=e.opacity;return Rt(function(e,n,t){var r=t/100;return{r:(n.r-e.r)*r+e.r,g:(n.g-e.g)*r+e.g,b:(n.b-e.b)*r+e.b}}(kt(n.backgroundColor||"#141414"),kt(t[r]),100*o))})):t}var zt={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ut={},Ht={};Object.keys(zt).forEach((function(e){Ut[e]=Bt(zt[e]),Ut[e].primary=Ut[e][5],Ht[e]=Bt(zt[e],{theme:"dark",backgroundColor:"#141414"}),Ht[e].primary=Ht[e][5]}));Ut.red,Ut.volcano,Ut.gold,Ut.orange,Ut.yellow,Ut.lime,Ut.green,Ut.cyan;var Vt=Ut.blue,Gt=(Ut.geekblue,Ut.purple,Ut.magenta,Ut.grey,Ut.grey,(0,e.createContext)({}));function Wt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function $t(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Wt(Object(t),!0).forEach((function(n){w(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Kt={},Qt=[];function Jt(e,n){}function Xt(e,n){}function Zt(e,n,t){n||Kt[t]||(e(!1,t),Kt[t]=!0)}function Yt(e,n){Zt(Jt,e,n)}Yt.preMessage=function(e){Qt.push(e)},Yt.resetWarned=function(){Kt={}},Yt.noteOnce=function(e,n){Zt(Xt,e,n)};var er=Yt;function nr(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var tr="data-rc-order",rr="rc-util-key",or=new Map;function ar(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):rr}function ir(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function sr(e){return Array.from((or.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function lr(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!nr())return null;var t=n.csp,r=n.prepend,o=document.createElement("style");o.setAttribute(tr,function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r)),null!==t&&void 0!==t&&t.nonce&&(o.nonce=null===t||void 0===t?void 0:t.nonce),o.innerHTML=e;var a=ir(n),i=a.firstChild;if(r){if("queue"===r){var s=sr(a).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(tr))}));if(s.length)return a.insertBefore(o,s[s.length-1].nextSibling),o}a.insertBefore(o,i)}else a.appendChild(o);return o}function cr(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return sr(ir(n)).find((function(t){return t.getAttribute(ar(n))===e}))}function ur(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=cr(e,n);t&&ir(n).removeChild(t)}function dr(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,n){var t=or.get(e);if(!t||!function(e,n){if(!e)return!1;if(e.contains)return e.contains(n);for(var t=n;t;){if(t===e)return!0;t=t.parentNode}return!1}(document,t)){var r=lr("",n),o=r.parentNode;or.set(e,o),e.removeChild(r)}}(ir(t),t);var r=cr(n,t);if(r){var o,a,i;if(null!==(o=t.csp)&&void 0!==o&&o.nonce&&r.nonce!==(null===(a=t.csp)||void 0===a?void 0:a.nonce))r.nonce=null===(i=t.csp)||void 0===i?void 0:i.nonce;return r.innerHTML!==e&&(r.innerHTML=e),r}var s=lr(e,t);return s.setAttribute(ar(t),n),s}function pr(e){var n;return null===e||void 0===e||null===(n=e.getRootNode)||void 0===n?void 0:n.call(e)}function fr(e){return function(e){return pr(e)!==(null===e||void 0===e?void 0:e.ownerDocument)}(e)?pr(e):null}function hr(e){return"object"===c(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===c(e.icon)||"function"===typeof e.icon)}function mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(n,t){var r=e[t];if("class"===t)n.className=r,delete n.class;else n[t]=r;return n}),{})}function gr(n,t,r){return r?e.createElement(n.tag,$t($t({key:t},mr(n.attrs)),r),(n.children||[]).map((function(e,r){return gr(e,"".concat(t,"-").concat(n.tag,"-").concat(r))}))):e.createElement(n.tag,$t({key:t},mr(n.attrs)),(n.children||[]).map((function(e,r){return gr(e,"".concat(t,"-").concat(n.tag,"-").concat(r))})))}function br(e){return Bt(e)[0]}function vr(e){return e?Array.isArray(e)?e:[e]:[]}var yr=["icon","className","onClick","style","primaryColor","secondaryColor"],xr={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var kr=function(n){var t,r,o=n.icon,a=n.className,i=n.onClick,s=n.style,l=n.primaryColor,c=n.secondaryColor,u=at(n,yr),d=e.useRef(),p=xr;if(l&&(p={primaryColor:l,secondaryColor:c||br(l)}),function(n){var t=(0,e.useContext)(Gt),r=t.csp,o=t.prefixCls,a="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";o&&(a=a.replace(/anticon/g,o)),(0,e.useEffect)((function(){var e=fr(n.current);dr(a,"@ant-design-icons",{prepend:!0,csp:r,attachTo:e})}),[])}(d),t=hr(o),r="icon should be icon definiton, but got ".concat(o),er(t,"[@ant-design/icons] ".concat(r)),!hr(o))return null;var f=o;return f&&"function"===typeof f.icon&&(f=$t($t({},f),{},{icon:f.icon(p.primaryColor,p.secondaryColor)})),gr(f.icon,"svg-".concat(f.name),$t($t({className:a,onClick:i,style:s,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:d}))};kr.displayName="IconReact",kr.getTwoToneColors=function(){return $t({},xr)},kr.setTwoToneColors=function(e){var n=e.primaryColor,t=e.secondaryColor;xr.primaryColor=n,xr.secondaryColor=t||br(n),xr.calculated=!!t};var wr=kr;function Sr(e){var n=s(vr(e),2),t=n[0],r=n[1];return wr.setTwoToneColors({primaryColor:t,secondaryColor:r})}var Er=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Sr(Vt.primary);var Cr=e.forwardRef((function(n,t){var r,o=n.className,a=n.icon,i=n.spin,l=n.rotate,c=n.tabIndex,u=n.onClick,d=n.twoToneColor,p=at(n,Er),f=e.useContext(Gt),h=f.prefixCls,m=void 0===h?"anticon":h,g=f.rootClassName,b=st()(g,m,(w(r={},"".concat(m,"-").concat(a.name),!!a.name),w(r,"".concat(m,"-spin"),!!i||"loading"===a.name),r),o),v=c;void 0===v&&u&&(v=-1);var y=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,x=s(vr(d),2),k=x[0],S=x[1];return e.createElement("span",rt({role:"img","aria-label":a.name},p,{ref:t,tabIndex:v,onClick:u,className:b}),e.createElement(wr,{icon:a,primaryColor:k,secondaryColor:S,style:y}))}));Cr.displayName="AntdIcon",Cr.getTwoToneColor=function(){var e=wr.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Cr.setTwoToneColor=Sr;var _r=Cr,jr=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:ot}))};var Ar=e.forwardRef(jr),Nr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"},Pr=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:Nr}))};var Tr=e.forwardRef(Pr),Ir=t(184);var Or=function(){var n=s((0,e.useState)("NodeJS"),2),t=n[0],r=n[1],o=s((0,e.useState)("outline"),2),a=o[0],i=o[1];return(0,Ir.jsx)("div",{className:"page-subject-list",children:(0,Ir.jsxs)("div",{className:"content",children:[(0,Ir.jsx)("div",{style:{display:"flex"},children:"items"===a?(0,Ir.jsx)(Ar,{onClick:function(){return i("outline")},style:{cursor:"pointer"}}):(0,Ir.jsx)(Tr,{onClick:function(){return i("items")},style:{cursor:"pointer"}})}),(0,Ir.jsx)("div",{className:"list list-".concat(a),children:tt.map((function(e){var n=e.title===t?"item is-active":"item";return(0,Ir.jsx)(Yn,{to:"subject".concat(e.key),onClick:function(){r(e.title)},className:n,children:e.title},e.title)}))})]})})};function Lr(e,n){var t=$t({},e);return Array.isArray(n)&&n.forEach((function(e){delete t[e]})),t}var Dr=t(7441);function Rr(e,n){"function"===typeof e?e(n):"object"===c(e)&&e&&"current"in e&&(e.current=n)}function Mr(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=n.filter((function(e){return e}));return r.length<=1?r[0]:function(e){n.forEach((function(n){Rr(n,e)}))}}function qr(e){var n,t,r=(0,Dr.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof r||null!==(n=r.prototype)&&void 0!==n&&n.render)&&!!("function"!==typeof e||null!==(t=e.prototype)&&void 0!==t&&t.render)}var Fr=e.createContext({getPrefixCls:function(e,n){return n||(e?"ant-".concat(e):"ant")},iconPrefixCls:"anticon"}),Br=(Fr.Consumer,e.isValidElement);function zr(n,t){return function(n,t,r){return Br(n)?e.cloneElement(n,"function"===typeof r?r(n.props||{}):r):t}(n,n,t)}var Ur=function(e){for(var n,t=0,r=0,o=e.length;o>=4;++r,o-=4)n=1540483477*(65535&(n=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(n>>>16)<<16),t=1540483477*(65535&(n^=n>>>24))+(59797*(n>>>16)<<16)^1540483477*(65535&t)+(59797*(t>>>16)<<16);switch(o){case 3:t^=(255&e.charCodeAt(r+2))<<16;case 2:t^=(255&e.charCodeAt(r+1))<<8;case 1:t=1540483477*(65535&(t^=255&e.charCodeAt(r)))+(59797*(t>>>16)<<16)}return(((t=1540483477*(65535&(t^=t>>>13))+(59797*(t>>>16)<<16))^t>>>15)>>>0).toString(36)};var Hr=function(){function e(n){l(this,e),w(this,"instanceId",void 0),w(this,"cache",new Map),this.instanceId=n}return p(e,[{key:"get",value:function(e){return this.cache.get(e.join("%"))||null}},{key:"update",value:function(e,n){var t=e.join("%"),r=n(this.cache.get(t));null===r?this.cache.delete(t):this.cache.set(t,r)}}]),e}(),Vr=Hr,Gr="data-token-hash",Wr="data-css-hash",$r="__cssinjs_instance__";function Kr(){var e=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var n=document.body.querySelectorAll("style[".concat(Wr,"]"))||[],t=document.head.firstChild;Array.from(n).forEach((function(n){n[$r]=n[$r]||e,n[$r]===e&&document.head.insertBefore(n,t)}));var r={};Array.from(document.querySelectorAll("style[".concat(Wr,"]"))).forEach((function(n){var t,o=n.getAttribute(Wr);r[o]?n[$r]===e&&(null===(t=n.parentNode)||void 0===t||t.removeChild(n)):r[o]=!0}))}return new Vr(e)}var Qr=e.createContext({hashPriority:"low",cache:Kr(),defaultCache:!0}),Jr=Qr;function Xr(e){var n="";return Object.keys(e).forEach((function(t){var r=e[t];n+=t,r&&"object"===c(r)?n+=Xr(r):n+=r})),n}var Zr="layer-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),Yr="903px";var eo=void 0;function no(){return void 0===eo&&(eo=function(e,n){if(nr()){var t;dr(e,Zr);var r=document.createElement("div");r.style.position="fixed",r.style.left="0",r.style.top="0",null===n||void 0===n||n(r),document.body.appendChild(r);var o=getComputedStyle(r).width===Yr;return null===(t=r.parentNode)||void 0===t||t.removeChild(r),ur(Zr),o}return!1}("@layer ".concat(Zr," { .").concat(Zr," { width: ").concat(Yr,"!important; } }"),(function(e){e.className=Zr}))),eo}var to=nr()?e.useLayoutEffect:e.useEffect,ro=function(n,t){var r=e.useRef(!0);to((function(){return n(r.current)}),t),to((function(){return r.current=!1,function(){r.current=!0}}),[])},oo=function(e,n){ro((function(n){if(!n)return e()}),n)},ao=ro,io=$t({},n).useInsertionEffect,so=io?function(e,n,t){return io((function(){return e(),n()}),t)}:function(n,t,r){e.useMemo(n,r),ao(t,r)};var lo=function(){return!1};function co(n,t,r,o,a){var i=e.useContext(Jr).cache,l=[n].concat((0,N.Z)(t)),c=l.join("_"),u=(lo(),function(e){i.update(l,(function(n){var t=s(n||[],2),o=t[0];var a=[void 0===o?0:o,t[1]||r()];return e?e(a):a}))});e.useMemo((function(){return u()}),[c]);var d=i.get(l)[1];return so((function(){null===a||void 0===a||a(d)}),(function(){return u((function(e){var n=s(e,2);return[n[0]+1,n[1]]})),function(){i.update(l,(function(e){var n=s(e||[],2),t=n[0],r=void 0===t?0:t,a=n[1];return 0===r-1?(null===o||void 0===o||o(a,!1),null):[r-1,a]}))}}),[c]),d}var uo={},po="css",fo=new Map;function ho(e,n){fo.set(e,(fo.get(e)||0)-1);var t=Array.from(fo.keys()),r=t.filter((function(e){return(fo.get(e)||0)<=0}));r.length<t.length&&r.forEach((function(e){!function(e,n){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(Gr,'="').concat(e,'"]')).forEach((function(e){var t;e[$r]===n&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e))}))}(e,n),fo.delete(e)}))}var mo=function(e,n,t,r){var o=$t($t({},t.getDerivativeToken(e)),n);return r&&(o=r(o)),o};function go(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,e.useContext)(Jr).cache.instanceId,a=r.salt,i=void 0===a?"":a,s=r.override,l=void 0===s?uo:s,c=r.formatToken,u=e.useMemo((function(){return Object.assign.apply(Object,[{}].concat((0,N.Z)(t)))}),[t]),d=e.useMemo((function(){return Xr(u)}),[u]),p=e.useMemo((function(){return Xr(l)}),[l]),f=co("token",[i,n.id,d,p],(function(){var e=mo(u,l,n,c),t=function(e,n){return Ur("".concat(n,"_").concat(Xr(e)))}(e,i);e._tokenKey=t,function(e){fo.set(e,(fo.get(e)||0)+1)}(t);var r="".concat(po,"-").concat(Ur(t));return e._hashId=r,[e,r]}),(function(e){ho(e[0]._tokenKey,o)}));return f}var bo={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vo="comm",yo="rule",xo="decl",ko="@import",wo="@keyframes",So="@layer",Eo=Math.abs,Co=String.fromCharCode;Object.assign;function _o(e){return e.trim()}function jo(e,n,t){return e.replace(n,t)}function Ao(e,n){return e.indexOf(n)}function No(e,n){return 0|e.charCodeAt(n)}function Po(e,n,t){return e.slice(n,t)}function To(e){return e.length}function Io(e,n){return n.push(e),e}function Oo(e,n){for(var t="",r=0;r<e.length;r++)t+=n(e[r],r,e,n)||"";return t}function Lo(e,n,t,r){switch(e.type){case So:if(e.children.length)break;case ko:case xo:return e.return=e.return||e.value;case vo:return"";case wo:return e.return=e.value+"{"+Oo(e.children,r)+"}";case yo:if(!To(e.value=e.props.join(",")))return""}return To(t=Oo(e.children,r))?e.return=e.value+"{"+t+"}":""}var Do=1,Ro=1,Mo=0,qo=0,Fo=0,Bo="";function zo(e,n,t,r,o,a,i,s){return{value:e,root:n,parent:t,type:r,props:o,children:a,line:Do,column:Ro,length:i,return:"",siblings:s}}function Uo(){return Fo=qo>0?No(Bo,--qo):0,Ro--,10===Fo&&(Ro=1,Do--),Fo}function Ho(){return Fo=qo<Mo?No(Bo,qo++):0,Ro++,10===Fo&&(Ro=1,Do++),Fo}function Vo(){return No(Bo,qo)}function Go(){return qo}function Wo(e,n){return Po(Bo,e,n)}function $o(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ko(e){return Do=Ro=1,Mo=To(Bo=e),qo=0,[]}function Qo(e){return Bo="",e}function Jo(e){return _o(Wo(qo-1,Yo(91===e?e+2:40===e?e+1:e)))}function Xo(e){for(;(Fo=Vo())&&Fo<33;)Ho();return $o(e)>2||$o(Fo)>3?"":" "}function Zo(e,n){for(;--n&&Ho()&&!(Fo<48||Fo>102||Fo>57&&Fo<65||Fo>70&&Fo<97););return Wo(e,Go()+(n<6&&32==Vo()&&32==Ho()))}function Yo(e){for(;Ho();)switch(Fo){case e:return qo;case 34:case 39:34!==e&&39!==e&&Yo(Fo);break;case 40:41===e&&Yo(e);break;case 92:Ho()}return qo}function ea(e,n){for(;Ho()&&e+Fo!==57&&(e+Fo!==84||47!==Vo()););return"/*"+Wo(n,qo-1)+"*"+Co(47===e?e:Ho())}function na(e){for(;!$o(Vo());)Ho();return Wo(e,qo)}function ta(e){return Qo(ra("",null,null,null,[""],e=Ko(e),0,[0],e))}function ra(e,n,t,r,o,a,i,s,l){for(var c=0,u=0,d=i,p=0,f=0,h=0,m=1,g=1,b=1,v=0,y="",x=o,k=a,w=r,S=y;g;)switch(h=v,v=Ho()){case 40:if(108!=h&&58==No(S,d-1)){-1!=Ao(S+=jo(Jo(v),"&","&\f"),"&\f")&&(b=-1);break}case 34:case 39:case 91:S+=Jo(v);break;case 9:case 10:case 13:case 32:S+=Xo(h);break;case 92:S+=Zo(Go()-1,7);continue;case 47:switch(Vo()){case 42:case 47:Io(aa(ea(Ho(),Go()),n,t,l),l);break;default:S+="/"}break;case 123*m:s[c++]=To(S)*b;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==b&&(S=jo(S,/\f/g,"")),f>0&&To(S)-d&&Io(f>32?ia(S+";",r,t,d-1,l):ia(jo(S," ","")+";",r,t,d-2,l),l);break;case 59:S+=";";default:if(Io(w=oa(S,n,t,c,u,o,s,y,x=[],k=[],d,a),a),123===v)if(0===u)ra(S,n,w,w,x,a,d,s,k);else switch(99===p&&110===No(S,3)?100:p){case 100:case 108:case 109:case 115:ra(e,w,w,r&&Io(oa(e,w,w,0,0,o,s,y,o,x=[],d,k),k),o,k,d,s,r?x:k);break;default:ra(S,w,w,w,[""],k,0,s,k)}}c=u=f=0,m=b=1,y=S="",d=i;break;case 58:d=1+To(S),f=h;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==Uo())continue;switch(S+=Co(v),v*m){case 38:b=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(To(S)-1)*b,b=1;break;case 64:45===Vo()&&(S+=Jo(Ho())),p=Vo(),u=d=To(y=S+=na(Go())),v++;break;case 45:45===h&&2==To(S)&&(m=0)}}return a}function oa(e,n,t,r,o,a,i,s,l,c,u,d){for(var p=o-1,f=0===o?a:[""],h=function(e){return e.length}(f),m=0,g=0,b=0;m<r;++m)for(var v=0,y=Po(e,p+1,p=Eo(g=i[m])),x=e;v<h;++v)(x=_o(g>0?f[v]+" "+y:jo(y,/&\f/g,f[v])))&&(l[b++]=x);return zo(e,n,t,0===o?yo:s,l,c,u,d)}function aa(e,n,t,r){return zo(e,n,t,vo,Co(Fo),Po(e,2,-2),0,r)}function ia(e,n,t,r,o){return zo(e,n,t,xo,Po(e,0,r),Po(e,r+1,-1),r,o)}var sa=nr(),la="_multi_value_";function ca(e){return Oo(ta(e),Lo).replace(/\{%%%\:[^;];}/g,";")}var ua=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},o=r.root,a=r.injectHash,i=r.parentSelectors,l=t.hashId,u=t.layer,d=(t.path,t.hashPriority),p=t.transformers,f=void 0===p?[]:p,h=(t.linters,""),m={};function g(n){var r=n.getName(l);if(!m[r]){var o=s(e(n.style,t,{root:!1,parentSelectors:i}),1)[0];m[r]="@keyframes ".concat(n.getName(l)).concat(o)}}var b=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.forEach((function(n){Array.isArray(n)?e(n,t):n&&t.push(n)})),t}(Array.isArray(n)?n:[n]);if(b.forEach((function(n){var r="string"!==typeof n||o?n:{};if("string"===typeof r)h+="".concat(r,"\n");else if(r._keyframe)g(r);else{var u=f.reduce((function(e,n){var t;return(null===n||void 0===n||null===(t=n.visit)||void 0===t?void 0:t.call(n,e))||e}),r);Object.keys(u).forEach((function(n){var r=u[n];if("object"!==c(r)||!r||"animationName"===n&&r._keyframe||function(e){return"object"===c(e)&&e&&("_skip_check_"in e||la in e)}(r)){var p,f=function(e,n){var t=e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),r=n;bo[e]||"number"!==typeof r||0===r||(r="".concat(r,"px")),"animationName"===e&&null!==n&&void 0!==n&&n._keyframe&&(g(n),r=n.getName(l)),h+="".concat(t,":").concat(r,";")},b=null!==(p=null===r||void 0===r?void 0:r.value)&&void 0!==p?p:r;"object"===c(r)&&null!==r&&void 0!==r&&r[la]&&Array.isArray(b)?b.forEach((function(e){f(n,e)})):f(n,b)}else{var v=!1,y=n.trim(),x=!1;(o||a)&&l?y.startsWith("@")?v=!0:y=function(e,n,t){if(!n)return e;var r=".".concat(n),o="low"===t?":where(".concat(r,")"):r;return e.split(",").map((function(e){var n,t=e.trim().split(/\s+/),r=t[0]||"",a=(null===(n=r.match(/^\w+/))||void 0===n?void 0:n[0])||"";return[r="".concat(a).concat(o).concat(r.slice(a.length))].concat((0,N.Z)(t.slice(1))).join(" ")})).join(",")}(n,l,d):!o||l||"&"!==y&&""!==y||(y="",x=!0);var k=s(e(r,t,{root:x,injectHash:v,parentSelectors:[].concat((0,N.Z)(i),[y])}),2),w=k[0],S=k[1];m=$t($t({},m),S),h+="".concat(y).concat(w)}}))}})),o){if(u&&no()){var v=u.split(","),y=v[v.length-1].trim();h="@layer ".concat(y," {").concat(h,"}"),v.length>1&&(h="@layer ".concat(u,"{%%%:%}").concat(h))}}else h="{".concat(h,"}");return[h,m]};function da(){return null}function pa(n,t){var r=n.token,o=n.path,a=n.hashId,i=n.layer,l=n.nonce,c=e.useContext(Jr),u=c.autoClear,d=(c.mock,c.defaultCache),p=c.hashPriority,f=c.container,h=c.ssrInline,m=c.transformers,g=c.linters,b=c.cache,v=r._tokenKey,y=[v].concat((0,N.Z)(o)),x=sa;var k=co("style",y,(function(){var e=t(),n=s(ua(e,{hashId:a,hashPriority:p,layer:i,path:o.join("-"),transformers:m,linters:g}),2),r=n[0],l=n[1],c=ca(r),u=function(e,n){return Ur("".concat(e.join("%")).concat(n))}(y,c);return[c,v,u,l]}),(function(e,n){var t=s(e,3)[2];(n||u)&&sa&&ur(t,{mark:Wr})}),(function(e){var n=s(e,4),t=n[0],r=(n[1],n[2]),o=n[3];if(x){var a={mark:Wr,prepend:"queue",attachTo:f},i="function"===typeof l?l():l;i&&(a.csp={nonce:i});var c=dr(t,r,a);c[$r]=b.instanceId,c.setAttribute(Gr,v),Object.keys(o).forEach((function(e){dr(ca(o[e]),"_effect-".concat(e),a)}))}})),S=s(k,3),E=S[0],C=S[1],_=S[2];return function(n){var t,r;h&&!x&&d?t=e.createElement("style",rt({},(w(r={},Gr,C),w(r,Wr,_),r),{dangerouslySetInnerHTML:{__html:E}})):t=e.createElement(da,null);return e.createElement(e.Fragment,null,t,n)}}var fa=function(){function e(n,t){l(this,e),w(this,"name",void 0),w(this,"style",void 0),w(this,"_keyframe",!0),this.name=n,this.style=t}return p(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}(),ha=fa;var ma=function(){function e(){l(this,e),w(this,"cache",void 0),w(this,"keys",void 0),w(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return p(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var n,t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={map:this.cache};return e.forEach((function(e){var n,t;o?o=null===(n=o)||void 0===n||null===(t=n.map)||void 0===t?void 0:t.get(e):o=void 0})),null!==(n=o)&&void 0!==n&&n.value&&r&&(o.value[1]=this.cacheCallTimes++),null===(t=o)||void 0===t?void 0:t.value}},{key:"get",value:function(e){var n;return null===(n=this.internalGet(e,!0))||void 0===n?void 0:n[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(n,t){var r=this;if(!this.has(n)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var o=this.keys.reduce((function(e,n){var t=s(e,2)[1];return r.internalGet(n)[1]<t?[n,r.internalGet(n)[1]]:e}),[this.keys[0],this.cacheCallTimes]),a=s(o,1)[0];this.delete(a)}this.keys.push(n)}var i=this.cache;n.forEach((function(e,o){if(o===n.length-1)i.set(e,{value:[t,r.cacheCallTimes++]});else{var a=i.get(e);a?a.map||(a.map=new Map):i.set(e,{map:new Map}),i=i.get(e).map}}))}},{key:"deleteByPath",value:function(e,n){var t,r=e.get(n[0]);if(1===n.length)return r.map?e.set(n[0],{map:r.map}):e.delete(n[0]),null===(t=r.value)||void 0===t?void 0:t[0];var o=this.deleteByPath(r.map,n.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(n[0]),o}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(n){return!function(e,n){if(e.length!==n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}(n,e)})),this.deleteByPath(this.cache,e)}}]),e}();w(ma,"MAX_CACHE_SIZE",20),w(ma,"MAX_CACHE_OFFSET",5);var ga=0,ba=function(){function e(n){l(this,e),w(this,"derivatives",void 0),w(this,"id",void 0),this.derivatives=Array.isArray(n)?n:[n],this.id=ga,0===n.length&&n.length,ga+=1}return p(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(n,t){return t(e,n)}),void 0)}}]),e}(),va=new ma;function ya(e){return e.notSplit=!0,e}ya(["borderTop","borderBottom"]),ya(["borderTop"]),ya(["borderBottom"]),ya(["borderLeft","borderRight"]),ya(["borderLeft"]),ya(["borderRight"]);function xa(n){var t=e.useRef();t.current=n;var r=e.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return r}function ka(n){var t=e.useRef(!1),r=s(e.useState(n),2),o=r[0],a=r[1];return e.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[o,function(e,n){n&&t.current||a(e)}]}function wa(e){return void 0!==e}function Sa(e,n){var t=n||{},r=t.defaultValue,o=t.value,a=t.onChange,i=t.postState,l=s(ka((function(){return wa(o)?o:wa(r)?"function"===typeof r?r():r:"function"===typeof e?e():e})),2),c=l[0],u=l[1],d=void 0!==o?o:c,p=i?i(d):d,f=xa(a),h=s(ka([d]),2),m=h[0],g=h[1];return oo((function(){var e=m[0];c!==e&&f(c,e)}),[m]),oo((function(){wa(o)||u(o)}),[o]),[p,xa((function(e,n){u(e,n),g([d],n)}))]}function Ea(e,n){for(var t=e,r=0;r<n.length;r+=1){if(null===t||void 0===t)return;t=t[n[r]]}return t}function Ca(e,n,t,r){if(!n.length)return t;var o,a=_(n),i=a[0],s=a.slice(1);return o=e||"number"!==typeof i?Array.isArray(e)?(0,N.Z)(e):$t({},e):[],r&&void 0===t&&1===s.length?delete o[i][s[0]]:o[i]=Ca(o[i],s,t,r),o}function _a(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n.length&&r&&void 0===t&&!Ea(e,n.slice(0,-1))?e:Ca(e,n,t,r)}function ja(e){return Array.isArray(e)?[]:{}}var Aa="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function Na(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=ja(n[0]);return n.forEach((function(e){!function n(t,o){var a,i=new Set(o),s=Ea(e,t),l=Array.isArray(s);if(l||"object"===c(a=s)&&null!==a&&Object.getPrototypeOf(a)===Object.prototype){if(!i.has(s)){i.add(s);var u=Ea(r,t);l?r=_a(r,t,[]):u&&"object"===c(u)||(r=_a(r,t,ja(s))),Aa(s).forEach((function(e){n([].concat((0,N.Z)(t),[e]),i)}))}}else r=_a(r,t,s)}([])})),r}var Pa=function(e){return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:e.fontFamily}},Ta=function(e){var n;return{a:(n={color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}},w(n,"&:active,\n  &:hover",{textDecoration:e.linkHoverDecoration,outline:0}),w(n,"&:focus",{textDecoration:e.linkFocusDecoration,outline:0}),w(n,"&[disabled]",{color:e.colorTextDisabled,cursor:"not-allowed"}),n)}},Ia=function(e,n){var t=e.fontFamily,r=e.fontSize,o='[class^="'.concat(n,'"], [class*=" ').concat(n,'"]');return w({},o,w({fontFamily:t,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}},o,{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}))},Oa=function(e){return{outline:"".concat(e.lineWidthFocus,"px solid ").concat(e.colorPrimaryBorder),outlineOffset:1,transition:"outline-offset 0s, outline 0s"}},La="5.7.0",Da=function(e){var n=e.controlHeight;return{controlHeightSM:.75*n,controlHeightXS:.5*n,controlHeightLG:1.25*n}};var Ra={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Ma=Object.assign(Object.assign({},Ra),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),qa=function(){function e(n,t){var r;if(void 0===n&&(n=""),void 0===t&&(t={}),n instanceof e)return n;"number"===typeof n&&(n=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(n)),this.originalInput=n;var o=kt(n);this.originalInput=n,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=t.format)&&void 0!==r?r:o.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),n=e.r/255,t=e.g/255,r=e.b/255;return.2126*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=ut(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=mt(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=mt(this.r,this.g,this.b),n=Math.round(360*e.h),t=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(n,", ").concat(t,"%, ").concat(r,"%)"):"hsva(".concat(n,", ").concat(t,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=ft(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=ft(this.r,this.g,this.b),n=Math.round(360*e.h),t=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(n,", ").concat(t,"%, ").concat(r,"%)"):"hsla(".concat(n,", ").concat(t,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),gt(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,n,t,r,o){var a=[pt(Math.round(e).toString(16)),pt(Math.round(n).toString(16)),pt(Math.round(t).toString(16)),pt(bt(r))];return o&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),t=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(n,", ").concat(t,")"):"rgba(".concat(e,", ").concat(n,", ").concat(t,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*lt(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*lt(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+gt(this.r,this.g,this.b,!1),n=0,t=Object.entries(xt);n<t.length;n++){var r=t[n],o=r[0];if(e===r[1])return o}return!1},e.prototype.toString=function(e){var n=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var t=!1,r=this.a<1&&this.a>=0;return n||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(t=this.toRgbString()),"prgb"===e&&(t=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(t=this.toHexString()),"hex3"===e&&(t=this.toHexString(!0)),"hex4"===e&&(t=this.toHex8String(!0)),"hex8"===e&&(t=this.toHex8String()),"name"===e&&(t=this.toName()),"hsl"===e&&(t=this.toHslString()),"hsv"===e&&(t=this.toHsvString()),t||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(n){void 0===n&&(n=10);var t=this.toHsl();return t.l+=n/100,t.l=ct(t.l),new e(t)},e.prototype.brighten=function(n){void 0===n&&(n=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-n/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-n/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-n/100*255))),new e(t)},e.prototype.darken=function(n){void 0===n&&(n=10);var t=this.toHsl();return t.l-=n/100,t.l=ct(t.l),new e(t)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(n){void 0===n&&(n=10);var t=this.toHsl();return t.s-=n/100,t.s=ct(t.s),new e(t)},e.prototype.saturate=function(n){void 0===n&&(n=10);var t=this.toHsl();return t.s+=n/100,t.s=ct(t.s),new e(t)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(n){var t=this.toHsl(),r=(t.h+n)%360;return t.h=r<0?360+r:r,new e(t)},e.prototype.mix=function(n,t){void 0===t&&(t=50);var r=this.toRgb(),o=new e(n).toRgb(),a=t/100;return new e({r:(o.r-r.r)*a+r.r,g:(o.g-r.g)*a+r.g,b:(o.b-r.b)*a+r.b,a:(o.a-r.a)*a+r.a})},e.prototype.analogous=function(n,t){void 0===n&&(n=6),void 0===t&&(t=30);var r=this.toHsl(),o=360/t,a=[this];for(r.h=(r.h-(o*n>>1)+720)%360;--n;)r.h=(r.h+o)%360,a.push(new e(r));return a},e.prototype.complement=function(){var n=this.toHsl();return n.h=(n.h+180)%360,new e(n)},e.prototype.monochromatic=function(n){void 0===n&&(n=6);for(var t=this.toHsv(),r=t.h,o=t.s,a=t.v,i=[],s=1/n;n--;)i.push(new e({h:r,s:o,v:a})),a=(a+s)%1;return i},e.prototype.splitcomplement=function(){var n=this.toHsl(),t=n.h;return[this,new e({h:(t+72)%360,s:n.s,l:n.l}),new e({h:(t+216)%360,s:n.s,l:n.l})]},e.prototype.onBackground=function(n){var t=this.toRgb(),r=new e(n).toRgb(),o=t.a+r.a*(1-t.a);return new e({r:(t.r*t.a+r.r*r.a*(1-t.a))/o,g:(t.g*t.a+r.g*r.a*(1-t.a))/o,b:(t.b*t.a+r.b*r.a*(1-t.a))/o,a:o})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(n){for(var t=this.toHsl(),r=t.h,o=[this],a=360/n,i=1;i<n;i++)o.push(new e({h:(r+i*a)%360,s:t.s,l:t.l}));return o},e.prototype.equals=function(n){return this.toRgbString()===new e(n).toRgbString()},e}();var Fa=function(e){var n=e,t=e,r=e,o=e;return e<6&&e>=5?n=e+1:e<16&&e>=6?n=e+2:e>=16&&(n=16),e<7&&e>=5?t=4:e<8&&e>=7?t=5:e<14&&e>=8?t=6:e<16&&e>=14?t=7:e>=16&&(t=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?o=4:e>=8&&(o=6),{borderRadius:e>16?16:e,borderRadiusXS:r,borderRadiusSM:t,borderRadiusLG:n,borderRadiusOuter:o}};var Ba=function(e,n){return new qa(e).setAlpha(n).toRgbString()},za=function(e,n){return new qa(e).darken(n).toHexString()},Ua=function(e){var n=Bt(e);return{1:n[0],2:n[1],3:n[2],4:n[3],5:n[4],6:n[5],7:n[6],8:n[4],9:n[5],10:n[6]}},Ha=function(e,n){var t=e||"#fff",r=n||"#000";return{colorBgBase:t,colorTextBase:r,colorText:Ba(r,.88),colorTextSecondary:Ba(r,.65),colorTextTertiary:Ba(r,.45),colorTextQuaternary:Ba(r,.25),colorFill:Ba(r,.15),colorFillSecondary:Ba(r,.06),colorFillTertiary:Ba(r,.04),colorFillQuaternary:Ba(r,.02),colorBgLayout:za(t,4),colorBgContainer:za(t,0),colorBgElevated:za(t,0),colorBgSpotlight:Ba(r,.85),colorBorder:za(t,15),colorBorderSecondary:za(t,6)}};var Va=function(e){var n=function(e){var n=new Array(10).fill(null).map((function(n,t){var r=t-1,o=e*Math.pow(2.71828,r/5),a=t>1?Math.floor(o):Math.ceil(o);return 2*Math.floor(a/2)}));return n[1]=e,n.map((function(e){return{size:e,lineHeight:(e+8)/e}}))}(e),t=n.map((function(e){return e.size})),r=n.map((function(e){return e.lineHeight}));return{fontSizeSM:t[0],fontSize:t[1],fontSizeLG:t[2],fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:r[1],lineHeightLG:r[2],lineHeightSM:r[0],lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};var Ga=function(e){var n=Array.isArray(e)?e:[e];return va.has(n)||va.set(n,new ba(n)),va.get(n)}((function(e){var n=Object.keys(Ra).map((function(n){var t=Bt(e[n]);return new Array(10).fill(1).reduce((function(e,r,o){return e["".concat(n,"-").concat(o+1)]=t[o],e["".concat(n).concat(o+1)]=t[o],e}),{})})).reduce((function(e,n){return e=Object.assign(Object.assign({},e),n)}),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),n),function(e,n){var t=n.generateColorPalettes,r=n.generateNeutralColorPalettes,o=e.colorSuccess,a=e.colorWarning,i=e.colorError,s=e.colorInfo,l=e.colorPrimary,c=e.colorBgBase,u=e.colorTextBase,d=t(l),p=t(o),f=t(a),h=t(i),m=t(s),g=r(c,u),b=t(e.colorLink||e.colorInfo);return Object.assign(Object.assign({},g),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:p[1],colorSuccessBgHover:p[2],colorSuccessBorder:p[3],colorSuccessBorderHover:p[4],colorSuccessHover:p[4],colorSuccess:p[6],colorSuccessActive:p[7],colorSuccessTextHover:p[8],colorSuccessText:p[9],colorSuccessTextActive:p[10],colorErrorBg:h[1],colorErrorBgHover:h[2],colorErrorBorder:h[3],colorErrorBorderHover:h[4],colorErrorHover:h[5],colorError:h[6],colorErrorActive:h[7],colorErrorTextHover:h[8],colorErrorText:h[9],colorErrorTextActive:h[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorLinkHover:b[4],colorLink:b[6],colorLinkActive:b[7],colorBgMask:new qa("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:Ua,generateNeutralColorPalettes:Ha})),Va(e.fontSize)),function(e){var n=e.sizeUnit,t=e.sizeStep;return{sizeXXL:n*(t+8),sizeXL:n*(t+4),sizeLG:n*(t+2),sizeMD:n*(t+1),sizeMS:n*t,size:n*t,sizeSM:n*(t-1),sizeXS:n*(t-2),sizeXXS:n*(t-3)}}(e)),Da(e)),function(e){var n=e.motionUnit,t=e.motionBase,r=e.borderRadius,o=e.lineWidth;return Object.assign({motionDurationFast:"".concat((t+n).toFixed(1),"s"),motionDurationMid:"".concat((t+2*n).toFixed(1),"s"),motionDurationSlow:"".concat((t+3*n).toFixed(1),"s"),lineWidthBold:o+1},Fa(r))}(e))})),Wa={token:Ma,hashed:!0},$a=e.createContext(Wa);function Ka(e){return e>=0&&e<=255}var Qa=function(e,n){var t=new qa(e).toRgb(),r=t.r,o=t.g,a=t.b;if(t.a<1)return e;for(var i=new qa(n).toRgb(),s=i.r,l=i.g,c=i.b,u=.01;u<=1;u+=.01){var d=Math.round((r-s*(1-u))/u),p=Math.round((o-l*(1-u))/u),f=Math.round((a-c*(1-u))/u);if(Ka(d)&&Ka(p)&&Ka(f))return new qa({r:d,g:p,b:f,a:Math.round(100*u)/100}).toRgbString()}return new qa({r:r,g:o,b:a,a:1}).toRgbString()},Ja=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};function Xa(e){var n=e.override,t=Ja(e,["override"]),r=Object.assign({},n);Object.keys(Ma).forEach((function(e){delete r[e]}));var o=Object.assign(Object.assign({},t),r),a=1200,i=1600;if(!1===o.motion){var s="0s";o.motionDurationFast=s,o.motionDurationMid=s,o.motionDurationSlow=s}return Object.assign(Object.assign(Object.assign({},o),{colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:Qa(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:Qa(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:Qa(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidthFocus:4*o.lineWidth,lineWidth:o.lineWidth,controlOutlineWidth:2*o.lineWidth,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:Qa(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:a,screenXLMin:a,screenXLMax:1599,screenXXL:i,screenXXLMin:i,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:"\n      0 1px 2px -2px ".concat(new qa("rgba(0, 0, 0, 0.16)").toRgbString(),",\n      0 3px 6px 0 ").concat(new qa("rgba(0, 0, 0, 0.12)").toRgbString(),",\n      0 5px 12px 4px ").concat(new qa("rgba(0, 0, 0, 0.09)").toRgbString(),"\n    "),boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}function Za(){var n=e.useContext($a),t=n.token,r=n.hashed,o=n.theme,a=n.components,i="".concat(La,"-").concat(r||""),l=o||Ga,c=s(go(l,[Ma,t],{salt:i,override:Object.assign({override:t},a),formatToken:Xa}),2),u=c[0],d=c[1];return[l,u,r?d:""]}var Ya="undefined"!==typeof CSSINJS_STATISTIC,ei=!0;function ni(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];if(!Ya)return Object.assign.apply(Object,[{}].concat(n));ei=!1;var r={};return n.forEach((function(e){Object.keys(e).forEach((function(n){Object.defineProperty(r,n,{configurable:!0,enumerable:!0,get:function(){return e[n]}})}))})),ei=!0,r}var ti={};function ri(){}function oi(n,t,r,o){return function(a){var i=s(Za(),3),l=i[0],c=i[1],u=i[2],d=(0,e.useContext)(Fr),p=d.getPrefixCls,f=d.iconPrefixCls,h=d.csp,m=p(),g={theme:l,token:c,hashId:u,nonce:function(){return null===h||void 0===h?void 0:h.nonce}};return pa(Object.assign(Object.assign({},g),{path:["Shared",m]}),(function(){return[{"&":Ta(c)}]})),[pa(Object.assign(Object.assign({},g),{path:[n,a,f]}),(function(){var e=function(e){var n,t=e,r=ri;return Ya&&(n=new Set,t=new Proxy(e,{get:function(e,t){return ei&&n.add(t),e[t]}}),r=function(e,t){ti[e]={global:Array.from(n),component:t}}),{token:t,keys:n,flush:r}}(c),i=e.token,l=e.flush,d=Object.assign({},c[n]);(null===o||void 0===o?void 0:o.deprecatedTokens)&&o.deprecatedTokens.forEach((function(e){var n,t=s(e,2),r=t[0],o=t[1];((null===d||void 0===d?void 0:d[r])||(null===d||void 0===d?void 0:d[o]))&&(null!==(n=d[o])&&void 0!==n||(d[o]=null===d||void 0===d?void 0:d[r]))}));var p="function"===typeof r?r(ni(i,null!==d&&void 0!==d?d:{})):r,h=Object.assign(Object.assign({},p),d),g=ni(i,{componentCls:".".concat(a),prefixCls:a,iconCls:".".concat(f),antCls:".".concat(m)},h),b=t(g,{hashId:u,prefixCls:a,rootPrefixCls:m,iconPrefixCls:f,overrideComponentToken:d});return l(n,h),[!1===(null===o||void 0===o?void 0:o.resetStyle)?null:Ia(c,a),b]})),u]}}var ai=function(e){var n=e.componentCls,t=e.colorPrimary;return w({},n,{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:"var(--wave-color, ".concat(t,")"),boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:["box-shadow 0.4s ".concat(e.motionEaseOutCirc),"opacity 2s ".concat(e.motionEaseOutCirc)].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}})},ii=oi("Wave",(function(e){return[ai(e)]})),si=t(4164),li=t.t(si,2);function ci(n){return function(e){return e instanceof HTMLElement||e instanceof SVGElement}(n)?n:n instanceof e.Component?si.findDOMNode(n):null}var ui=e.createContext({});var di=function(e){h(t,e);var n=v(t);function t(){return l(this,t),n.apply(this,arguments)}return p(t,[{key:"render",value:function(){return this.props.children}}]),t}(e.Component),pi=di,fi="none",hi="appear",mi="enter",gi="leave",bi="none",vi="prepare",yi="start",xi="active",ki="end",wi="prepared";function Si(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit".concat(e)]="webkit".concat(n),t["Moz".concat(e)]="moz".concat(n),t["ms".concat(e)]="MS".concat(n),t["O".concat(e)]="o".concat(n.toLowerCase()),t}var Ei=function(e,n){var t={animationend:Si("Animation","AnimationEnd"),transitionend:Si("Transition","TransitionEnd")};return e&&("AnimationEvent"in n||delete t.animationend.animation,"TransitionEvent"in n||delete t.transitionend.transition),t}(nr(),"undefined"!==typeof window?window:{}),Ci={};if(nr()){var _i=document.createElement("div");Ci=_i.style}var ji={};function Ai(e){if(ji[e])return ji[e];var n=Ei[e];if(n)for(var t=Object.keys(n),r=t.length,o=0;o<r;o+=1){var a=t[o];if(Object.prototype.hasOwnProperty.call(n,a)&&a in Ci)return ji[e]=n[a],ji[e]}return""}var Ni=Ai("animationend"),Pi=Ai("transitionend"),Ti=!(!Ni||!Pi),Ii=Ni||"animationend",Oi=Pi||"transitionend";function Li(e,n){if(!e)return null;if("object"===c(e)){var t=n.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[t]}return"".concat(e,"-").concat(n)}var Di=function(n){var t=(0,e.useRef)(),r=(0,e.useRef)(n);r.current=n;var o=e.useCallback((function(e){r.current(e)}),[]);function a(e){e&&(e.removeEventListener(Oi,o),e.removeEventListener(Ii,o))}return e.useEffect((function(){return function(){a(t.current)}}),[]),[function(e){t.current&&t.current!==e&&a(t.current),e&&e!==t.current&&(e.addEventListener(Oi,o),e.addEventListener(Ii,o),t.current=e)},a]},Ri=nr()?e.useLayoutEffect:e.useEffect,Mi=function(e){return+setTimeout(e,16)},qi=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Mi=function(e){return window.requestAnimationFrame(e)},qi=function(e){return window.cancelAnimationFrame(e)});var Fi=0,Bi=new Map;function zi(e){Bi.delete(e)}var Ui=function(e){var n=Fi+=1;return function t(r){if(0===r)zi(n),e();else{var o=Mi((function(){t(r-1)}));Bi.set(n,o)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),n};Ui.cancel=function(e){var n=Bi.get(e);return zi(n),qi(n)};var Hi=Ui,Vi=[vi,yi,xi,ki],Gi=[vi,wi],Wi=!1,$i=!0;function Ki(e){return e===xi||e===ki}var Qi=function(n,t,r){var o=s(ka(bi),2),a=o[0],i=o[1],l=function(){var n=e.useRef(null);function t(){Hi.cancel(n.current)}return e.useEffect((function(){return function(){t()}}),[]),[function e(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=Hi((function(){o<=1?r({isCanceled:function(){return a!==n.current}}):e(r,o-1)}));n.current=a},t]}(),c=s(l,2),u=c[0],d=c[1];var p=t?Gi:Vi;return Ri((function(){if(a!==bi&&a!==ki){var e=p.indexOf(a),n=p[e+1],t=r(a);t===Wi?i(n,!0):n&&u((function(e){function r(){e.isCanceled()||i(n,!0)}!0===t?r():Promise.resolve(t).then(r)}))}}),[n,a]),e.useEffect((function(){return function(){d()}}),[]),[function(){i(vi,!0)},a]};var Ji=function(n){var t=n;"object"===c(n)&&(t=n.transitionSupport);var r=e.forwardRef((function(n,r){var o=n.visible,a=void 0===o||o,i=n.removeOnLeave,l=void 0===i||i,c=n.forceRender,u=n.children,d=n.motionName,p=n.leavedClassName,f=n.eventProps,h=function(e,n){return!(!e.motionName||!t||!1===n)}(n,e.useContext(ui).motion),m=(0,e.useRef)(),g=(0,e.useRef)();var b=function(n,t,r,o){var a=o.motionEnter,i=void 0===a||a,l=o.motionAppear,c=void 0===l||l,u=o.motionLeave,d=void 0===u||u,p=o.motionDeadline,f=o.motionLeaveImmediately,h=o.onAppearPrepare,m=o.onEnterPrepare,g=o.onLeavePrepare,b=o.onAppearStart,v=o.onEnterStart,y=o.onLeaveStart,x=o.onAppearActive,k=o.onEnterActive,S=o.onLeaveActive,E=o.onAppearEnd,C=o.onEnterEnd,_=o.onLeaveEnd,j=o.onVisibleChanged,A=s(ka(),2),N=A[0],P=A[1],T=s(ka(fi),2),I=T[0],O=T[1],L=s(ka(null),2),D=L[0],R=L[1],M=(0,e.useRef)(!1),q=(0,e.useRef)(null);function F(){return r()}var B=(0,e.useRef)(!1);function z(){O(fi,!0),R(null,!0)}function U(e){var n=F();if(!e||e.deadline||e.target===n){var t,r=B.current;I===hi&&r?t=null===E||void 0===E?void 0:E(n,e):I===mi&&r?t=null===C||void 0===C?void 0:C(n,e):I===gi&&r&&(t=null===_||void 0===_?void 0:_(n,e)),I!==fi&&r&&!1!==t&&z()}}var H=s(Di(U),1)[0],V=function(e){var n,t,r;switch(e){case hi:return w(n={},vi,h),w(n,yi,b),w(n,xi,x),n;case mi:return w(t={},vi,m),w(t,yi,v),w(t,xi,k),t;case gi:return w(r={},vi,g),w(r,yi,y),w(r,xi,S),r;default:return{}}},G=e.useMemo((function(){return V(I)}),[I]),W=s(Qi(I,!n,(function(e){if(e===vi){var n=G[vi];return n?n(F()):Wi}var t;return K in G&&R((null===(t=G[K])||void 0===t?void 0:t.call(G,F(),null))||null),K===xi&&(H(F()),p>0&&(clearTimeout(q.current),q.current=setTimeout((function(){U({deadline:!0})}),p))),K===wi&&z(),$i})),2),$=W[0],K=W[1],Q=Ki(K);B.current=Q,Ri((function(){P(t);var e,r=M.current;M.current=!0,!r&&t&&c&&(e=hi),r&&t&&i&&(e=mi),(r&&!t&&d||!r&&f&&!t&&d)&&(e=gi);var o=V(e);e&&(n||o[vi])?(O(e),$()):O(fi)}),[t]),(0,e.useEffect)((function(){(I===hi&&!c||I===mi&&!i||I===gi&&!d)&&O(fi)}),[c,i,d]),(0,e.useEffect)((function(){return function(){M.current=!1,clearTimeout(q.current)}}),[]);var J=e.useRef(!1);(0,e.useEffect)((function(){N&&(J.current=!0),void 0!==N&&I===fi&&((J.current||N)&&(null===j||void 0===j||j(N)),J.current=!0)}),[N,I]);var X=D;return G[vi]&&K===yi&&(X=$t({transition:"none"},X)),[I,K,X,null!==N&&void 0!==N?N:t]}(h,a,(function(){try{return m.current instanceof HTMLElement?m.current:ci(g.current)}catch(e){return null}}),n),v=s(b,4),y=v[0],x=v[1],k=v[2],S=v[3],E=e.useRef(S);S&&(E.current=!0);var C,_=e.useCallback((function(e){m.current=e,Rr(r,e)}),[r]),j=$t($t({},f),{},{visible:a});if(u)if(y===fi)C=S?u($t({},j),_):!l&&E.current&&p?u($t($t({},j),{},{className:p}),_):c||!l&&!p?u($t($t({},j),{},{style:{display:"none"}}),_):null;else{var A,N;x===vi?N="prepare":Ki(x)?N="active":x===yi&&(N="start");var P=Li(d,"".concat(y,"-").concat(N));C=u($t($t({},j),{},{className:st()(Li(d,y),(A={},w(A,P,P&&N),w(A,d,"string"===typeof d),A)),style:k}),_)}else C=null;e.isValidElement(C)&&qr(C)&&(C.ref||(C=e.cloneElement(C,{ref:_})));return e.createElement(pi,{ref:g},C)}));return r.displayName="CSSMotion",r}(Ti),Xi="add",Zi="keep",Yi="remove",es="removed";function ns(e){var n;return $t($t({},n=e&&"object"===c(e)&&"key"in e?e:{key:e}),{},{key:String(n.key)})}function ts(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(ns)}var rs=["component","children","onVisibleChanged","onAllRemoved"],os=["status"],as=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ji,r=function(n){h(o,n);var r=v(o);function o(){var e;l(this,o);for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return w(b(e=r.call.apply(r,[this].concat(t))),"state",{keyEntities:[]}),w(b(e),"removeKey",(function(n){var t=e.state.keyEntities.map((function(e){return e.key!==n?e:$t($t({},e),{},{status:es})}));return e.setState({keyEntities:t}),t.filter((function(e){return e.status!==es})).length})),e}return p(o,[{key:"render",value:function(){var n=this,r=this.state.keyEntities,o=this.props,a=o.component,i=o.children,s=o.onVisibleChanged,l=o.onAllRemoved,c=at(o,rs),u=a||e.Fragment,d={};return as.forEach((function(e){d[e]=c[e],delete c[e]})),delete c.keys,e.createElement(u,c,r.map((function(r){var o=r.status,a=at(r,os),c=o===Xi||o===Zi;return e.createElement(t,rt({},d,{key:a.key,visible:c,eventProps:a,onVisibleChanged:function(e){(null===s||void 0===s||s(e,{key:a.key}),e)||0===n.removeKey(a.key)&&l&&l()}}),i)})))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var t=e.keys,r=n.keyEntities,o=ts(t),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=[],r=0,o=n.length,a=ts(e),i=ts(n);a.forEach((function(e){for(var n=!1,a=r;a<o;a+=1){var s=i[a];if(s.key===e.key){r<a&&(t=t.concat(i.slice(r,a).map((function(e){return $t($t({},e),{},{status:Xi})}))),r=a),t.push($t($t({},s),{},{status:Zi})),r+=1,n=!0;break}}n||t.push($t($t({},e),{},{status:Yi}))})),r<o&&(t=t.concat(i.slice(r).map((function(e){return $t($t({},e),{},{status:Xi})}))));var s={};return t.forEach((function(e){var n=e.key;s[n]=(s[n]||0)+1})),Object.keys(s).filter((function(e){return s[e]>1})).forEach((function(e){(t=t.filter((function(n){var t=n.key,r=n.status;return t!==e||r!==Yi}))).forEach((function(n){n.key===e&&(n.status=Zi)}))})),t}(r,o);return{keyEntities:a.filter((function(e){var n=r.find((function(n){var t=n.key;return e.key===t}));return!n||n.status!==es||e.status!==Yi}))}}}]),o}(e.Component);w(r,"defaultProps",{component:"div"})}(Ti);var is,ss=Ji,ls=$t({},li),cs=ls.version,us=ls.render,ds=ls.unmountComponentAtNode;try{Number((cs||"").split(".")[0])>=18&&(is=ls.createRoot)}catch(kh){}function ps(e){var n=ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;n&&"object"===c(n)&&(n.usingClientEntryPoint=e)}var fs="__rc_react_root__";function hs(e,n){is?function(e,n){ps(!0);var t=n[fs]||is(n);ps(!1),t.render(e),n[fs]=t}(e,n):function(e,n){us(e,n)}(e,n)}function ms(e){return gs.apply(this,arguments)}function gs(){return(gs=k(y().mark((function e(n){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=n[fs])||void 0===e||e.unmount(),delete n[fs]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bs(e){ds(e)}function vs(){return(vs=k(y().mark((function e(n){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===is){e.next=2;break}return e.abrupt("return",ms(n));case 2:bs(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ys(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&function(e){var n=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(n&&n[1]&&n[2]&&n[3])||!(n[1]===n[2]&&n[2]===n[3])}(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}function xs(e){return Number.isNaN(e)?0:e}var ks=function(n){var t=n.className,r=n.target,o=e.useRef(null),a=s(e.useState(null),2),i=a[0],l=a[1],c=s(e.useState([]),2),u=c[0],d=c[1],p=s(e.useState(0),2),f=p[0],h=p[1],m=s(e.useState(0),2),g=m[0],b=m[1],v=s(e.useState(0),2),y=v[0],x=v[1],k=s(e.useState(0),2),w=k[0],S=k[1],E=s(e.useState(!1),2),C=E[0],_=E[1],j={left:f,top:g,width:y,height:w,borderRadius:u.map((function(e){return"".concat(e,"px")})).join(" ")};function A(){var e=getComputedStyle(r);l(function(e){var n=getComputedStyle(e),t=n.borderTopColor,r=n.borderColor,o=n.backgroundColor;return ys(t)?t:ys(r)?r:ys(o)?o:null}(r));var n="static"===e.position,t=e.borderLeftWidth,o=e.borderTopWidth;h(n?r.offsetLeft:xs(-parseFloat(t))),b(n?r.offsetTop:xs(-parseFloat(o))),x(r.offsetWidth),S(r.offsetHeight);var a=e.borderTopLeftRadius,i=e.borderTopRightRadius,s=e.borderBottomLeftRadius,c=e.borderBottomRightRadius;d([a,i,c,s].map((function(e){return xs(parseFloat(e))})))}return i&&(j["--wave-color"]=i),e.useEffect((function(){if(r){var e,n=Hi((function(){A(),_(!0)}));return"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(A)).observe(r),function(){Hi.cancel(n),null===e||void 0===e||e.disconnect()}}}),[]),C?e.createElement(ss,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:function(e,n){var t;if(n.deadline||"opacity"===n.propertyName){var r=null===(t=o.current)||void 0===t?void 0:t.parentElement;(function(e){return vs.apply(this,arguments)})(r).then((function(){null===r||void 0===r||r.remove()}))}return!1}},(function(n){var r=n.className;return e.createElement("div",{ref:o,className:st()(t,r),style:j})})):null};function ws(n,t){return function(){!function(n,t){var r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",null===n||void 0===n||n.insertBefore(r,null===n||void 0===n?void 0:n.firstChild),hs(e.createElement(ks,{target:n,className:t}),r)}(n.current,t)}}var Ss=function(n){var t=n.children,r=n.disabled,o=(0,e.useContext)(Fr).getPrefixCls,a=(0,e.useRef)(null),i=o("wave"),l=s(ii(i),2)[1],c=ws(a,st()(i,l));return e.useEffect((function(){var e=a.current;if(e&&1===e.nodeType&&!r){var n=function(n){"INPUT"===n.target.tagName||!function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var n=e.getBBox(),t=n.width,r=n.height;if(t||r)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),a=o.width,i=o.height;if(a||i)return!0}}return!1}(n.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||c()};return e.addEventListener("click",n,!0),function(){e.removeEventListener("click",n,!0)}}}),[r]),e.isValidElement(t)?zr(t,{ref:qr(t)?Mr(t.ref,a):a}):null!==t&&void 0!==t?t:null},Es=e.createContext(!1),Cs=Es,_s=e.createContext(void 0),js=_s,As=function(n){var t=e.useContext(js);return e.useMemo((function(){return n?"string"===typeof n?null!==n&&void 0!==n?n:t:n instanceof Function?n(t):t:t}),[n,t])};function Ns(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return e.Children.forEach(n,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?r=r.concat(Ns(e)):(0,Dr.isFragment)(e)&&e.props?r=r.concat(Ns(e.props.children,t)):r.push(e))})),r}var Ps=function(e){return w({},e.componentCls,{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}})},Ts=function(e){var n=e.componentCls;return w({},n,w({display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}}},"".concat(n,"-item:empty"),{display:"none"}))},Is=oi("Space",(function(e){return[Ts(e),Ps(e)]}),(function(){return{}}),{resetStyle:!1}),Os=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},Ls=e.createContext(null),Ds=function(n,t){var r=e.useContext(Ls),o=e.useMemo((function(){var e;if(!r)return"";var o=r.compactDirection,a=r.isFirstItem,i=r.isLastItem,s="vertical"===o?"-vertical-":"-";return st()((w(e={},"".concat(n,"-compact").concat(s,"item"),!0),w(e,"".concat(n,"-compact").concat(s,"first-item"),a),w(e,"".concat(n,"-compact").concat(s,"last-item"),i),w(e,"".concat(n,"-compact").concat(s,"item-rtl"),"rtl"===t),e))}),[n,t,r]);return{compactSize:null===r||void 0===r?void 0:r.compactSize,compactDirection:null===r||void 0===r?void 0:r.compactDirection,compactItemClassnames:o}},Rs=function(n){var t=n.children;return e.createElement(Ls.Provider,{value:null},t)},Ms=function(n){var t=n.children,r=Os(n,["children"]);return e.createElement(Ls.Provider,{value:r},t)},qs=function(n){var t,r=e.useContext(Fr),o=r.getPrefixCls,a=r.direction,i=n.size,l=n.direction,c=n.block,u=n.prefixCls,d=n.className,p=n.rootClassName,f=n.children,h=Os(n,["size","direction","block","prefixCls","className","rootClassName","children"]),m=As((function(e){return null!==i&&void 0!==i?i:e})),g=o("space-compact",u),b=s(Is(g),2),v=b[0],y=b[1],x=st()(g,y,(w(t={},"".concat(g,"-rtl"),"rtl"===a),w(t,"".concat(g,"-block"),c),w(t,"".concat(g,"-vertical"),"vertical"===l),t),d,p),k=e.useContext(Ls),S=Ns(f),E=e.useMemo((function(){return S.map((function(n,t){var r=n&&n.key||"".concat(g,"-item-").concat(t);return e.createElement(Ms,{key:r,compactSize:m,compactDirection:l,isFirstItem:0===t&&(!k||(null===k||void 0===k?void 0:k.isFirstItem)),isLastItem:t===S.length-1&&(!k||(null===k||void 0===k?void 0:k.isLastItem))},n)}))}),[i,S,k]);return 0===S.length?null:v(e.createElement("div",Object.assign({className:x},h),E))},Fs=(0,e.forwardRef)((function(n,t){var r=n.className,o=n.style,a=n.children,i=n.prefixCls,s=st()("".concat(i,"-icon"),r);return e.createElement("span",{ref:t,className:s,style:o},a)})),Bs=Fs,zs={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Us=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:zs}))};var Hs=e.forwardRef(Us),Vs=(0,e.forwardRef)((function(n,t){var r=n.prefixCls,o=n.className,a=n.style,i=n.iconClassName,s=st()("".concat(r,"-loading-icon"),o);return e.createElement(Bs,{prefixCls:r,className:s,style:a,ref:t},e.createElement(Hs,{className:i}))})),Gs=function(){return{width:0,opacity:0,transform:"scale(0)"}},Ws=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},$s=function(n){var t=n.prefixCls,r=n.loading,o=n.existIcon,a=n.className,i=n.style,s=!!r;return o?e.createElement(Vs,{prefixCls:t,className:a,style:i}):e.createElement(ss,{visible:s,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:Gs,onAppearActive:Ws,onEnterStart:Gs,onEnterActive:Ws,onLeaveStart:Ws,onLeaveActive:Gs},(function(n,r){var o=n.className,s=n.style;return e.createElement(Vs,{prefixCls:t,className:a,style:Object.assign(Object.assign({},i),s),ref:r,iconClassName:o})}))},Ks=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},Qs=e.createContext(void 0),Js=function(n){var t,r=e.useContext(Fr),o=r.getPrefixCls,a=r.direction,i=n.prefixCls,l=n.size,c=n.className,u=Ks(n,["prefixCls","size","className"]),d=o("btn-group",i),p=s(Za(),3)[2],f="";switch(l){case"large":f="lg";break;case"small":f="sm"}var h=st()(d,(w(t={},"".concat(d,"-").concat(f),f),w(t,"".concat(d,"-rtl"),"rtl"===a),t),c,p);return e.createElement(Qs.Provider,{value:l},e.createElement("div",Object.assign({},u,{className:h})))},Xs=/^[\u4e00-\u9fa5]{2}$/,Zs=Xs.test.bind(Xs);function Ys(e){return"text"===e||"link"===e}function el(n,t){if(null!==n&&void 0!==n){var r=t?" ":"";return"string"!==typeof n&&"number"!==typeof n&&"string"===typeof n.type&&Zs(n.props.children)?zr(n,{children:n.props.children.split("").join(r)}):"string"===typeof n?Zs(n)?e.createElement("span",null,n.split("").join(r)):e.createElement("span",null,n):function(n){return n&&Br(n)&&n.type===e.Fragment}(n)?e.createElement("span",null,n):n}}function nl(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0},t=e.componentCls,r="".concat(t,"-compact");return w({},r,Object.assign(Object.assign({},function(e,n,t){var r,o=t.focusElCls,a=t.focus,i=t.borderElCls?"> *":"",s=["hover",a?"focus":null,"active"].filter(Boolean).map((function(e){return"&:".concat(e," ").concat(i)})).join(",");return w(r={},"&-item:not(".concat(n,"-last-item)"),{marginInlineEnd:-e.lineWidth}),w(r,"&-item",Object.assign(Object.assign(w({},s,{zIndex:2}),o?w({},"&".concat(o),{zIndex:2}):{}),w({},"&[disabled] ".concat(i),{zIndex:0}))),r}(e,r,n)),function(e,n,t){var r,o=t.borderElCls,a=o?"> ".concat(o):"";return w(r={},"&-item:not(".concat(n,"-first-item):not(").concat(n,"-last-item) ").concat(a),{borderRadius:0}),w(r,"&-item:not(".concat(n,"-last-item)").concat(n,"-first-item"),w({},"& ".concat(a,", &").concat(e,"-sm ").concat(a,", &").concat(e,"-lg ").concat(a),{borderStartEndRadius:0,borderEndEndRadius:0})),w(r,"&-item:not(".concat(n,"-first-item)").concat(n,"-last-item"),w({},"& ".concat(a,", &").concat(e,"-sm ").concat(a,", &").concat(e,"-lg ").concat(a),{borderStartStartRadius:0,borderEndStartRadius:0})),r}(t,r,n)))}function tl(e){var n="".concat(e.componentCls,"-compact-vertical");return w({},n,Object.assign(Object.assign({},function(e,n){var t;return w(t={},"&-item:not(".concat(n,"-last-item)"),{marginBottom:-e.lineWidth}),w(t,"&-item",{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}),t}(e,n)),function(e,n){var t;return w(t={},"&-item:not(".concat(n,"-first-item):not(").concat(n,"-last-item)"),{borderRadius:0}),w(t,"&-item".concat(n,"-first-item:not(").concat(n,"-last-item)"),w({},"&, &".concat(e,"-sm, &").concat(e,"-lg"),{borderEndEndRadius:0,borderEndStartRadius:0})),w(t,"&-item".concat(n,"-last-item:not(").concat(n,"-first-item)"),w({},"&, &".concat(e,"-sm, &").concat(e,"-lg"),{borderStartStartRadius:0,borderStartEndRadius:0})),t}(e.componentCls,n)))}var rl=function(e,n){return w({},"> span, > ".concat(e),{"&:not(:last-child)":w({},"&, & > ".concat(e),{"&:not(:disabled)":{borderInlineEndColor:n}}),"&:not(:first-child)":w({},"&, & > ".concat(e),{"&:not(:disabled)":{borderInlineStartColor:n}})})},ol=function(e){var n,t,r=e.componentCls,o=e.fontSize,a=e.lineWidth,i=e.colorPrimaryHover,s=e.colorErrorHover;return w({},"".concat(r,"-group"),[(t={position:"relative",display:"inline-flex"},w(t,"> span, > ".concat(r),{"&:not(:last-child)":w({},"&, & > ".concat(r),{borderStartEndRadius:0,borderEndEndRadius:0}),"&:not(:first-child)":w({marginInlineStart:-a},"&, & > ".concat(r),{borderStartStartRadius:0,borderEndStartRadius:0})}),w(t,r,(n={position:"relative",zIndex:1},w(n,"&:hover,\n          &:focus,\n          &:active",{zIndex:2}),w(n,"&[disabled]",{zIndex:0}),n)),w(t,"".concat(r,"-icon-only"),{fontSize:o}),t),rl("".concat(r,"-primary"),i),rl("".concat(r,"-danger"),s)])},al=function(e){var n,t=e.componentCls,r=e.iconCls;return w({},t,(w(n={outline:"none",position:"relative",display:"inline-block",fontWeight:e.buttonFontWeight,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:"".concat(e.lineWidth,"px ").concat(e.lineType," transparent"),cursor:"pointer",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut),userSelect:"none",touchAction:"manipulation",lineHeight:e.lineHeight,color:e.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"}},"".concat(t,"-icon"),{lineHeight:0}),w(n,"> ".concat(r," + span, > span + ").concat(r),{marginInlineStart:e.marginXS}),w(n,"&:not(".concat(t,"-icon-only) > ").concat(t,"-icon"),w({},"&".concat(t,"-loading-icon, &:not(:last-child)"),{marginInlineEnd:e.marginXS})),w(n,"> a",{color:"currentColor"}),w(n,"&:not(:disabled)",Object.assign({},function(e){return{"&:focus-visible":Object.assign({},Oa(e))}}(e))),w(n,"&-icon-only".concat(t,"-compact-item"),{flex:"none"}),w(n,"&-compact-item".concat(t,"-primary"),w({},"&:not([disabled]) + ".concat(t,"-compact-item").concat(t,"-primary:not([disabled])"),{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:e.lineWidth,height:"calc(100% + ".concat(2*e.lineWidth,"px)"),backgroundColor:e.colorPrimaryHover,content:'""'}})),w(n,"&-compact-vertical-item",w({},"&".concat(t,"-primary"),w({},"&:not([disabled]) + ".concat(t,"-compact-vertical-item").concat(t,"-primary:not([disabled])"),{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:"calc(100% + ".concat(2*e.lineWidth,"px)"),height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}))),n))},il=function(e,n,t){return w({},"&:not(:disabled):not(".concat(e,"-disabled)"),{"&:hover":n,"&:active":t})},sl=function(e){return{minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}},ll=function(e){return{borderRadius:e.controlHeight,paddingInlineStart:e.controlHeight/2,paddingInlineEnd:e.controlHeight/2}},cl=function(e,n,t,r,o,a,i){return w({},"&".concat(e,"-background-ghost"),Object.assign(Object.assign({color:n||void 0,backgroundColor:"transparent",borderColor:t||void 0,boxShadow:"none"},il(e,Object.assign({backgroundColor:"transparent"},a),Object.assign({backgroundColor:"transparent"},i))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:o||void 0}}))},ul=function(e){return w({},"&:disabled, &".concat(e.componentCls,"-disabled"),Object.assign({},function(e){return{cursor:"not-allowed",borderColor:e.colorBorder,color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,boxShadow:"none"}}(e)))},dl=function(e){return Object.assign({},ul(e))},pl=function(e){return w({},"&:disabled, &".concat(e.componentCls,"-disabled"),{cursor:"not-allowed",color:e.colorTextDisabled})},fl=function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},dl(e)),{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,boxShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlTmpOutline)}),il(e.componentCls,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),cl(e.componentCls,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)),w({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},il(e.componentCls,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),cl(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),ul(e))))},hl=function(e){var n,t=e.componentCls;return w(n={},"".concat(t,"-default"),fl(e)),w(n,"".concat(t,"-primary"),function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},dl(e)),{color:e.colorTextLightSolid,backgroundColor:e.colorPrimary,boxShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlOutline)}),il(e.componentCls,{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryHover},{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryActive})),cl(e.componentCls,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),w({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign(Object.assign({backgroundColor:e.colorError,boxShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.colorErrorOutline)},il(e.componentCls,{backgroundColor:e.colorErrorHover},{backgroundColor:e.colorErrorActive})),cl(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),ul(e))))}(e)),w(n,"".concat(t,"-dashed"),function(e){return Object.assign(Object.assign({},fl(e)),{borderStyle:"dashed"})}(e)),w(n,"".concat(t,"-link"),function(e){return Object.assign(Object.assign(Object.assign({color:e.colorLink},il(e.componentCls,{color:e.colorLinkHover},{color:e.colorLinkActive})),pl(e)),w({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign({color:e.colorError},il(e.componentCls,{color:e.colorErrorHover},{color:e.colorErrorActive})),pl(e))))}(e)),w(n,"".concat(t,"-text"),function(e){return Object.assign(Object.assign(Object.assign({},il(e.componentCls,{color:e.colorText,backgroundColor:e.colorBgTextHover},{color:e.colorText,backgroundColor:e.colorBgTextActive})),pl(e)),w({},"&".concat(e.componentCls,"-dangerous"),Object.assign(Object.assign({color:e.colorError},pl(e)),il(e.componentCls,{color:e.colorErrorHover,backgroundColor:e.colorErrorBg},{color:e.colorErrorHover,backgroundColor:e.colorErrorBg}))))}(e)),n},ml=function(e){var n,t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e.componentCls,a=e.controlHeight,i=e.fontSize,s=e.lineHeight,l=e.lineWidth,c=e.borderRadius,u=e.buttonPaddingHorizontal,d=e.iconCls,p=Math.max(0,(a-i*s)/2-l),f=u-l,h="".concat(o,"-icon-only");return[w({},"".concat(o).concat(r),(t={fontSize:i,height:a,padding:"".concat(p,"px ").concat(f,"px"),borderRadius:c},w(t,"&".concat(h),(n={width:a,paddingInlineStart:0,paddingInlineEnd:0},w(n,"&".concat(o,"-round"),{width:"auto"}),w(n,d,{fontSize:e.buttonIconOnlyFontSize}),n)),w(t,"&".concat(o,"-loading"),{opacity:e.opacityLoading,cursor:"default"}),w(t,"".concat(o,"-loading-icon"),{transition:"width ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut,", opacity ").concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)}),t)),w({},"".concat(o).concat(o,"-circle").concat(r),sl(e)),w({},"".concat(o).concat(o,"-round").concat(r),ll(e))]},gl=function(e){return ml(e)},bl=function(e){var n=ni(e,{controlHeight:e.controlHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:8,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.fontSizeLG-2});return ml(n,"".concat(e.componentCls,"-sm"))},vl=function(e){var n=ni(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.fontSizeLG+2});return ml(n,"".concat(e.componentCls,"-lg"))},yl=function(e){var n=e.componentCls;return w({},n,w({},"&".concat(n,"-block"),{width:"100%"}))},xl=oi("Button",(function(e){var n=ni(e,{colorOutlineDefault:e.controlTmpOutline,buttonPaddingHorizontal:e.paddingContentHorizontal,buttonIconOnlyFontSize:e.fontSizeLG,buttonFontWeight:400});return[al(n),bl(n),gl(n),vl(n),yl(n),hl(n),ol(n),nl(e),tl(e)]})),kl=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};var wl=function(n,t){var r,o,a,i=n.loading,l=void 0!==i&&i,c=n.prefixCls,u=n.type,d=void 0===u?"default":u,p=n.danger,f=n.shape,h=void 0===f?"default":f,m=n.size,g=n.styles,b=n.disabled,v=n.className,y=n.rootClassName,x=n.children,k=n.icon,S=n.ghost,E=void 0!==S&&S,C=n.block,_=void 0!==C&&C,j=n.htmlType,A=void 0===j?"button":j,N=n.classNames,P=n.style,T=void 0===P?{}:P,I=kl(n,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),O=(0,e.useContext)(Fr),L=O.getPrefixCls,D=O.autoInsertSpaceInButton,R=O.direction,M=O.button,q=L("btn",c),F=s(xl(q),2),B=F[0],z=F[1],U=(0,e.useContext)(Cs),H=null!==b&&void 0!==b?b:U,V=(0,e.useContext)(Qs),G=(0,e.useMemo)((function(){return function(e){if("object"===typeof e&&e){var n=null===e||void 0===e?void 0:e.delay;return{loading:!1,delay:Number.isNaN(n)||"number"!==typeof n?0:n}}return{loading:!!e,delay:0}}(l)}),[l]),W=s((0,e.useState)(G.loading),2),$=W[0],K=W[1],Q=s((0,e.useState)(!1),2),J=Q[0],X=Q[1],Z=Mr(t,(0,e.createRef)()),Y=1===e.Children.count(x)&&!k&&!Ys(d);(0,e.useEffect)((function(){var e=null;return G.delay>0?e=setTimeout((function(){e=null,K(!0)}),G.delay):K(G.loading),function(){e&&(clearTimeout(e),e=null)}}),[G]),(0,e.useEffect)((function(){if(Z&&Z.current&&!1!==D){var e=Z.current.textContent;Y&&Zs(e)?J||X(!0):J&&X(!1)}}),[Z]);var ee=function(e){var t=n.onClick;$||H?e.preventDefault():null===t||void 0===t||t(e)},ne=!1!==D,te=Ds(q,R),re=te.compactSize,oe=te.compactItemClassnames,ae={large:"lg",small:"sm",middle:void 0},ie=As((function(e){var n,t;return null!==(t=null!==(n=null!==m&&void 0!==m?m:re)&&void 0!==n?n:V)&&void 0!==t?t:e})),se=ie&&ae[ie]||"",le=$?"loading":k,ce=Lr(I,["navigate"]),ue=st()(q,z,(w(r={},"".concat(q,"-").concat(h),"default"!==h&&h),w(r,"".concat(q,"-").concat(d),d),w(r,"".concat(q,"-").concat(se),se),w(r,"".concat(q,"-icon-only"),!x&&0!==x&&!!le),w(r,"".concat(q,"-background-ghost"),E&&!Ys(d)),w(r,"".concat(q,"-loading"),$),w(r,"".concat(q,"-two-chinese-chars"),J&&ne&&!$),w(r,"".concat(q,"-block"),_),w(r,"".concat(q,"-dangerous"),!!p),w(r,"".concat(q,"-rtl"),"rtl"===R),r),oe,v,y,null===M||void 0===M?void 0:M.className),de=Object.assign(Object.assign({},null===M||void 0===M?void 0:M.style),T),pe=st()(null===N||void 0===N?void 0:N.icon,null===(o=null===M||void 0===M?void 0:M.classNames)||void 0===o?void 0:o.icon),fe=Object.assign(Object.assign({},(null===g||void 0===g?void 0:g.icon)||{}),(null===(a=null===M||void 0===M?void 0:M.styles)||void 0===a?void 0:a.icon)||{}),he=k&&!$?e.createElement(Bs,{prefixCls:q,className:pe,style:fe},k):e.createElement($s,{existIcon:!!k,prefixCls:q,loading:!!$}),me=x||0===x?function(n,t){var r=!1,o=[];return e.Children.forEach(n,(function(e){var n=typeof e,t="string"===n||"number"===n;if(r&&t){var a=o.length-1,i=o[a];o[a]="".concat(i).concat(e)}else o.push(e);r=t})),e.Children.map(o,(function(e){return el(e,t)}))}(x,Y&&ne):null;if(void 0!==ce.href)return B(e.createElement("a",Object.assign({},ce,{className:st()(ue,w({},"".concat(q,"-disabled"),H)),style:de,onClick:ee,ref:Z}),he,me));var ge=e.createElement("button",Object.assign({},I,{type:A,className:ue,style:de,onClick:ee,disabled:H,ref:Z}),he,me);return Ys(d)||(ge=e.createElement(Ss,{disabled:!!$},ge)),B(ge)},Sl=(0,e.forwardRef)(wl);Sl.Group=Js,Sl.__ANT_BUTTON=!0;var El=Sl,Cl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},_l=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:Cl}))};var jl=e.forwardRef(_l),Al={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},Nl=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:Al}))};var Pl=e.forwardRef(Nl),Tl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},Il=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:Tl}))};var Ol=e.forwardRef(Il),Ll={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},Dl=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:Ll}))};var Rl=e.forwardRef(Dl),Ml="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function ql(e,n){return 0===e.indexOf(n)}function Fl(e){var n,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n=!1===t?{aria:!0,data:!0,attr:!0}:!0===t?{aria:!0}:$t({},t);var r={};return Object.keys(e).forEach((function(t){(n.aria&&("role"===t||ql(t,"aria-"))||n.data&&ql(t,"data-")||n.attr&&Ml.includes(t))&&(r[t]=e[t])})),r}var Bl=e.createContext(null),zl=function(n){for(var t=n.prefixCls,r=n.level,o=n.isStart,a=n.isEnd,i="".concat(t,"-indent-unit"),s=[],l=0;l<r;l+=1){var c;s.push(e.createElement("span",{key:l,className:st()(i,(c={},w(c,"".concat(i,"-start"),o[l]),w(c,"".concat(i,"-end"),a[l]),c))}))}return e.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},s)},Ul=e.memo(zl),Hl=["children"];function Vl(e,n){return"".concat(e,"-").concat(n)}function Gl(e,n){return null!==e&&void 0!==e?e:n}function Wl(e){var n=e||{},t=n.title||"title";return{title:t,_title:n._title||[t],key:n.key||"key",children:n.children||"children"}}function $l(e){return function e(n){return Ns(n).map((function(n){if(!function(e){return e&&e.type&&e.type.isTreeNode}(n))return er(!n,"Tree/TreeNode can only accept TreeNode as children."),null;var t=n.key,r=n.props,o=r.children,a=$t({key:t},at(r,Hl)),i=e(o);return i.length&&(a.children=i),a})).filter((function(e){return e}))}(e)}function Kl(e,n,t){var r=Wl(t),o=r._title,a=r.key,i=r.children,s=new Set(!0===n?[]:n),l=[];return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.map((function(c,u){for(var d,p=Vl(r?r.pos:"0",u),f=Gl(c[a],p),h=0;h<o.length;h+=1){var m=o[h];if(void 0!==c[m]){d=c[m];break}}var g=$t($t({},Lr(c,[].concat((0,N.Z)(o),[a,i]))),{},{title:d,key:f,parent:r,pos:p,children:null,data:c,isStart:[].concat((0,N.Z)(r?r.isStart:[]),[0===u]),isEnd:[].concat((0,N.Z)(r?r.isEnd:[]),[u===t.length-1])});return l.push(g),!0===n||s.has(f)?g.children=e(c[i]||[],g):g.children=[],g}))}(e),l}function Ql(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.initWrapper,r=n.processEntity,o=n.onProcessFinished,a=n.externalGetKey,i=n.childrenPropName,s=n.fieldNames,l=a||(arguments.length>2?arguments[2]:void 0),u={},d={},p={posEntities:u,keyEntities:d};return t&&(p=t(p)||p),function(e,n,t){var r,o=("object"===c(t)?t:{externalGetKey:t})||{},a=o.childrenPropName,i=o.externalGetKey,s=Wl(o.fieldNames),l=s.key,u=s.children,d=a||u;i?"string"===typeof i?r=function(e){return e[i]}:"function"===typeof i&&(r=function(e){return i(e)}):r=function(e,n){return Gl(e[l],n)},function t(o,a,i,s){var l=o?o[d]:e,c=o?Vl(i.pos,a):"0",u=o?[].concat((0,N.Z)(s),[o]):[];if(o){var p=r(o,c),f={node:o,index:a,pos:c,key:p,parentPos:i.node?i.pos:null,level:i.level+1,nodes:u};n(f)}l&&l.forEach((function(e,n){t(e,n,{node:o,pos:c,level:i?i.level+1:-1},u)}))}(null)}(e,(function(e){var n=e.node,t=e.index,o=e.pos,a=e.key,i=e.parentPos,s=e.level,l={node:n,nodes:e.nodes,index:t,key:a,pos:o,level:s},c=Gl(a,o);u[o]=l,d[c]=l,l.parent=u[i],l.parent&&(l.parent.children=l.parent.children||[],l.parent.children.push(l)),r&&r(l,p)}),{externalGetKey:l,childrenPropName:i,fieldNames:s}),o&&o(p),p}function Jl(e,n){var t=n.expandedKeys,r=n.selectedKeys,o=n.loadedKeys,a=n.loadingKeys,i=n.checkedKeys,s=n.halfCheckedKeys,l=n.dragOverNodeKey,c=n.dropPosition,u=n.keyEntities[e];return{eventKey:e,expanded:-1!==t.indexOf(e),selected:-1!==r.indexOf(e),loaded:-1!==o.indexOf(e),loading:-1!==a.indexOf(e),checked:-1!==i.indexOf(e),halfChecked:-1!==s.indexOf(e),pos:String(u?u.pos:""),dragOver:l===e&&0===c,dragOverGapTop:l===e&&-1===c,dragOverGapBottom:l===e&&1===c}}function Xl(e){var n=e.data,t=e.expanded,r=e.selected,o=e.checked,a=e.loaded,i=e.loading,s=e.halfChecked,l=e.dragOver,c=e.dragOverGapTop,u=e.dragOverGapBottom,d=e.pos,p=e.active,f=e.eventKey,h=$t($t({},n),{},{expanded:t,selected:r,checked:o,loaded:a,loading:i,halfChecked:s,dragOver:l,dragOverGapTop:c,dragOverGapBottom:u,pos:d,active:p,key:f});return"props"in h||Object.defineProperty(h,"props",{get:function(){return er(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),h}var Zl=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Yl="open",ec="close",nc=function(n){h(r,n);var t=v(r);function r(){var n;l(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))).state={dragNodeHighlight:!1},n.selectHandle=void 0,n.onSelectorClick=function(e){(0,n.props.context.onNodeClick)(e,Xl(n.props)),n.isSelectable()?n.onSelect(e):n.onCheck(e)},n.onSelectorDoubleClick=function(e){(0,n.props.context.onNodeDoubleClick)(e,Xl(n.props))},n.onSelect=function(e){if(!n.isDisabled()){var t=n.props.context.onNodeSelect;e.preventDefault(),t(e,Xl(n.props))}},n.onCheck=function(e){if(!n.isDisabled()){var t=n.props,r=t.disableCheckbox,o=t.checked,a=n.props.context.onNodeCheck;if(n.isCheckable()&&!r){e.preventDefault();var i=!o;a(e,Xl(n.props),i)}}},n.onMouseEnter=function(e){(0,n.props.context.onNodeMouseEnter)(e,Xl(n.props))},n.onMouseLeave=function(e){(0,n.props.context.onNodeMouseLeave)(e,Xl(n.props))},n.onContextMenu=function(e){(0,n.props.context.onNodeContextMenu)(e,Xl(n.props))},n.onDragStart=function(e){var t=n.props.context.onNodeDragStart;e.stopPropagation(),n.setState({dragNodeHighlight:!0}),t(e,b(n));try{e.dataTransfer.setData("text/plain","")}catch(r){}},n.onDragEnter=function(e){var t=n.props.context.onNodeDragEnter;e.preventDefault(),e.stopPropagation(),t(e,b(n))},n.onDragOver=function(e){var t=n.props.context.onNodeDragOver;e.preventDefault(),e.stopPropagation(),t(e,b(n))},n.onDragLeave=function(e){var t=n.props.context.onNodeDragLeave;e.stopPropagation(),t(e,b(n))},n.onDragEnd=function(e){var t=n.props.context.onNodeDragEnd;e.stopPropagation(),n.setState({dragNodeHighlight:!1}),t(e,b(n))},n.onDrop=function(e){var t=n.props.context.onNodeDrop;e.preventDefault(),e.stopPropagation(),n.setState({dragNodeHighlight:!1}),t(e,b(n))},n.onExpand=function(e){var t=n.props,r=t.loading,o=t.context.onNodeExpand;r||o(e,Xl(n.props))},n.setSelectHandle=function(e){n.selectHandle=e},n.getNodeState=function(){var e=n.props.expanded;return n.isLeaf()?null:e?Yl:ec},n.hasChildren=function(){var e=n.props.eventKey;return!!((n.props.context.keyEntities[e]||{}).children||[]).length},n.isLeaf=function(){var e=n.props,t=e.isLeaf,r=e.loaded,o=n.props.context.loadData,a=n.hasChildren();return!1!==t&&(t||!o&&!a||o&&r&&!a)},n.isDisabled=function(){var e=n.props.disabled;return!(!n.props.context.disabled&&!e)},n.isCheckable=function(){var e=n.props.checkable,t=n.props.context.checkable;return!(!t||!1===e)&&t},n.syncLoadData=function(e){var t=e.expanded,r=e.loading,o=e.loaded,a=n.props.context,i=a.loadData,s=a.onNodeLoad;r||i&&t&&!n.isLeaf()&&(n.hasChildren()||o||s(Xl(n.props)))},n.isDraggable=function(){var e=n.props,t=e.data,r=e.context.draggable;return!(!r||r.nodeDraggable&&!r.nodeDraggable(t))},n.renderDragHandler=function(){var t=n.props.context,r=t.draggable,o=t.prefixCls;return(null===r||void 0===r?void 0:r.icon)?e.createElement("span",{className:"".concat(o,"-draggable-icon")},r.icon):null},n.renderSwitcherIconDom=function(e){var t=n.props.switcherIcon,r=n.props.context.switcherIcon,o=t||r;return"function"===typeof o?o($t($t({},n.props),{},{isLeaf:e})):o},n.renderSwitcher=function(){var t=n.props.expanded,r=n.props.context.prefixCls;if(n.isLeaf()){var o=n.renderSwitcherIconDom(!0);return!1!==o?e.createElement("span",{className:st()("".concat(r,"-switcher"),"".concat(r,"-switcher-noop"))},o):null}var a=st()("".concat(r,"-switcher"),"".concat(r,"-switcher_").concat(t?Yl:ec)),i=n.renderSwitcherIconDom(!1);return!1!==i?e.createElement("span",{onClick:n.onExpand,className:a},i):null},n.renderCheckbox=function(){var t=n.props,r=t.checked,o=t.halfChecked,a=t.disableCheckbox,i=n.props.context.prefixCls,s=n.isDisabled(),l=n.isCheckable();if(!l)return null;var c="boolean"!==typeof l?l:null;return e.createElement("span",{className:st()("".concat(i,"-checkbox"),r&&"".concat(i,"-checkbox-checked"),!r&&o&&"".concat(i,"-checkbox-indeterminate"),(s||a)&&"".concat(i,"-checkbox-disabled")),onClick:n.onCheck},c)},n.renderIcon=function(){var t=n.props.loading,r=n.props.context.prefixCls;return e.createElement("span",{className:st()("".concat(r,"-iconEle"),"".concat(r,"-icon__").concat(n.getNodeState()||"docu"),t&&"".concat(r,"-icon_loading"))})},n.renderSelector=function(){var t,r,o=n.state.dragNodeHighlight,a=n.props,i=a.title,s=void 0===i?"---":i,l=a.selected,c=a.icon,u=a.loading,d=a.data,p=n.props.context,f=p.prefixCls,h=p.showIcon,m=p.icon,g=p.loadData,b=p.titleRender,v=n.isDisabled(),y="".concat(f,"-node-content-wrapper");if(h){var x=c||m;t=x?e.createElement("span",{className:st()("".concat(f,"-iconEle"),"".concat(f,"-icon__customize"))},"function"===typeof x?x(n.props):x):n.renderIcon()}else g&&u&&(t=n.renderIcon());r="function"===typeof s?s(d):b?b(d):s;var k=e.createElement("span",{className:"".concat(f,"-title")},r);return e.createElement("span",{ref:n.setSelectHandle,title:"string"===typeof s?s:"",className:st()("".concat(y),"".concat(y,"-").concat(n.getNodeState()||"normal"),!v&&(l||o)&&"".concat(f,"-node-selected")),onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onContextMenu:n.onContextMenu,onClick:n.onSelectorClick,onDoubleClick:n.onSelectorDoubleClick},t,k,n.renderDropIndicator())},n.renderDropIndicator=function(){var e=n.props,t=e.disabled,r=e.eventKey,o=n.props.context,a=o.draggable,i=o.dropLevelOffset,s=o.dropPosition,l=o.prefixCls,c=o.indent,u=o.dropIndicatorRender,d=o.dragOverNodeKey,p=o.direction;return!t&&!!a&&d===r?u({dropPosition:s,dropLevelOffset:i,indent:c,prefixCls:l,direction:p}):null},n}return p(r,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,n=this.props.context.selectable;return"boolean"===typeof e?e:n}},{key:"render",value:function(){var n,t=this.props,r=t.eventKey,o=t.className,a=t.style,i=t.dragOver,s=t.dragOverGapTop,l=t.dragOverGapBottom,c=t.isLeaf,u=t.isStart,d=t.isEnd,p=t.expanded,f=t.selected,h=t.checked,m=t.halfChecked,g=t.loading,b=t.domRef,v=t.active,y=(t.data,t.onMouseMove),x=t.selectable,k=at(t,Zl),S=this.props.context,E=S.prefixCls,C=S.filterTreeNode,_=S.keyEntities,j=S.dropContainerKey,A=S.dropTargetKey,N=S.draggingNodeKey,P=this.isDisabled(),T=Fl(k,{aria:!0,data:!0}),I=(_[r]||{}).level,O=d[d.length-1],L=this.isDraggable(),D=!P&&L,R=N===r,M=void 0!==x?{"aria-selected":!!x}:void 0;return e.createElement("div",rt({ref:b,className:st()(o,"".concat(E,"-treenode"),(n={},w(n,"".concat(E,"-treenode-disabled"),P),w(n,"".concat(E,"-treenode-switcher-").concat(p?"open":"close"),!c),w(n,"".concat(E,"-treenode-checkbox-checked"),h),w(n,"".concat(E,"-treenode-checkbox-indeterminate"),m),w(n,"".concat(E,"-treenode-selected"),f),w(n,"".concat(E,"-treenode-loading"),g),w(n,"".concat(E,"-treenode-active"),v),w(n,"".concat(E,"-treenode-leaf-last"),O),w(n,"".concat(E,"-treenode-draggable"),L),w(n,"dragging",R),w(n,"drop-target",A===r),w(n,"drop-container",j===r),w(n,"drag-over",!P&&i),w(n,"drag-over-gap-top",!P&&s),w(n,"drag-over-gap-bottom",!P&&l),w(n,"filter-node",C&&C(Xl(this.props))),n)),style:a,draggable:D,"aria-grabbed":R,onDragStart:D?this.onDragStart:void 0,onDragEnter:L?this.onDragEnter:void 0,onDragOver:L?this.onDragOver:void 0,onDragLeave:L?this.onDragLeave:void 0,onDrop:L?this.onDrop:void 0,onDragEnd:L?this.onDragEnd:void 0,onMouseMove:y},M,T),e.createElement(Ul,{prefixCls:E,level:I,isStart:u,isEnd:d}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),r}(e.Component),tc=function(n){return e.createElement(Bl.Consumer,null,(function(t){return e.createElement(nc,rt({},n,{context:t}))}))};tc.displayName="TreeNode",tc.isTreeNode=1;var rc=tc;function oc(e,n){if(!e)return[];var t=e.slice(),r=t.indexOf(n);return r>=0&&t.splice(r,1),t}function ac(e,n){var t=(e||[]).slice();return-1===t.indexOf(n)&&t.push(n),t}function ic(e){return e.split("-")}function sc(e,n){var t=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var r=n.key,o=n.children;t.push(r),e(o)}))}(n[e].children),t}function lc(e){if(e.parent){var n=ic(e.pos);return Number(n[n.length-1])===e.parent.children.length-1}return!1}function cc(e,n,t,r,o,a,i,s,l,c){var u,d=e.clientX,p=e.clientY,f=e.target.getBoundingClientRect(),h=f.top,m=f.height,g=(("rtl"===c?-1:1)*(((null===o||void 0===o?void 0:o.x)||0)-d)-12)/r,b=s[t.props.eventKey];if(p<h+m/2){var v=i.findIndex((function(e){return e.key===b.key})),y=i[v<=0?0:v-1].key;b=s[y]}var x=b.key,k=b,w=b.key,S=0,E=0;if(!l.includes(x))for(var C=0;C<g&&lc(b);C+=1)b=b.parent,E+=1;var _=n.props.data,j=b.node,A=!0;return function(e){var n=ic(e.pos);return 0===Number(n[n.length-1])}(b)&&0===b.level&&p<h+m/2&&a({dragNode:_,dropNode:j,dropPosition:-1})&&b.key===t.props.eventKey?S=-1:(k.children||[]).length&&l.includes(w)?a({dragNode:_,dropNode:j,dropPosition:0})?S=0:A=!1:0===E?g>-1.5?a({dragNode:_,dropNode:j,dropPosition:1})?S=1:A=!1:a({dragNode:_,dropNode:j,dropPosition:0})?S=0:a({dragNode:_,dropNode:j,dropPosition:1})?S=1:A=!1:a({dragNode:_,dropNode:j,dropPosition:1})?S=1:A=!1,{dropPosition:S,dropLevelOffset:E,dropTargetKey:b.key,dropTargetPos:b.pos,dragOverNodeKey:w,dropContainerKey:0===S?null:(null===(u=b.parent)||void 0===u?void 0:u.key)||null,dropAllowed:A}}function uc(e,n){if(e)return n.multiple?e.slice():e.length?[e[0]]:e}function dc(e){if(!e)return null;var n;if(Array.isArray(e))n={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==c(e))return er(!1,"`checkedKeys` is not an array or an object"),null;n={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return n}function pc(e,n){var t=new Set;function r(e){if(!t.has(e)){var o=n[e];if(o){t.add(e);var a=o.parent;o.node.disabled||a&&r(a.key)}}}return(e||[]).forEach((function(e){r(e)})),(0,N.Z)(t)}var fc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},hc=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:fc}))};var mc=e.forwardRef(hc),gc={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=gc.F1&&n<=gc.F12)return!1;switch(n){case gc.ALT:case gc.CAPS_LOCK:case gc.CONTEXT_MENU:case gc.CTRL:case gc.DOWN:case gc.END:case gc.ESC:case gc.HOME:case gc.INSERT:case gc.LEFT:case gc.MAC_FF_META:case gc.META:case gc.NUMLOCK:case gc.NUM_CENTER:case gc.PAGE_DOWN:case gc.PAGE_UP:case gc.PAUSE:case gc.PRINT_SCREEN:case gc.RIGHT:case gc.SHIFT:case gc.UP:case gc.WIN_KEY:case gc.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=gc.ZERO&&e<=gc.NINE)return!0;if(e>=gc.NUM_ZERO&&e<=gc.NUM_MULTIPLY)return!0;if(e>=gc.A&&e<=gc.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case gc.SPACE:case gc.QUESTION_MARK:case gc.NUM_PLUS:case gc.NUM_MINUS:case gc.NUM_PERIOD:case gc.NUM_DIVISION:case gc.SEMICOLON:case gc.DASH:case gc.EQUALS:case gc.COMMA:case gc.PERIOD:case gc.SLASH:case gc.APOSTROPHE:case gc.SINGLE_QUOTE:case gc.OPEN_SQUARE_BRACKET:case gc.BACKSLASH:case gc.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},bc=gc;function vc(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var yc=function(){if("undefined"!==typeof Map)return Map;function e(e,n){var t=-1;return e.some((function(e,r){return e[0]===n&&(t=r,!0)})),t}return function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(n){var t=e(this.__entries__,n),r=this.__entries__[t];return r&&r[1]},n.prototype.set=function(n,t){var r=e(this.__entries__,n);~r?this.__entries__[r][1]=t:this.__entries__.push([n,t])},n.prototype.delete=function(n){var t=this.__entries__,r=e(t,n);~r&&t.splice(r,1)},n.prototype.has=function(n){return!!~e(this.__entries__,n)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(e,n){void 0===n&&(n=null);for(var t=0,r=this.__entries__;t<r.length;t++){var o=r[t];e.call(n,o[1],o[0])}},n}()}(),xc="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,kc="undefined"!==typeof t.g&&t.g.Math===Math?t.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),wc="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(kc):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Sc=["top","right","bottom","left","width","height","size","weight"],Ec="undefined"!==typeof MutationObserver,Cc=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,n){var t=!1,r=!1,o=0;function a(){t&&(t=!1,e()),r&&s()}function i(){wc(a)}function s(){var e=Date.now();if(t){if(e-o<2)return;r=!0}else t=!0,r=!1,setTimeout(i,n);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var n=this.observers_,t=n.indexOf(e);~t&&n.splice(t,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){xc&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ec?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){xc&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var n=e.propertyName,t=void 0===n?"":n;Sc.some((function(e){return!!~t.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),_c=function(e,n){for(var t=0,r=Object.keys(n);t<r.length;t++){var o=r[t];Object.defineProperty(e,o,{value:n[o],enumerable:!1,writable:!1,configurable:!0})}return e},jc=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||kc},Ac=Lc(0,0,0,0);function Nc(e){return parseFloat(e)||0}function Pc(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return n.reduce((function(n,t){return n+Nc(e["border-"+t+"-width"])}),0)}function Tc(e){var n=e.clientWidth,t=e.clientHeight;if(!n&&!t)return Ac;var r=jc(e).getComputedStyle(e),o=function(e){for(var n={},t=0,r=["top","right","bottom","left"];t<r.length;t++){var o=r[t],a=e["padding-"+o];n[o]=Nc(a)}return n}(r),a=o.left+o.right,i=o.top+o.bottom,s=Nc(r.width),l=Nc(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==n&&(s-=Pc(r,"left","right")+a),Math.round(l+i)!==t&&(l-=Pc(r,"top","bottom")+i)),!function(e){return e===jc(e).document.documentElement}(e)){var c=Math.round(s+a)-n,u=Math.round(l+i)-t;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return Lc(o.left,o.top,s,l)}var Ic="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof jc(e).SVGGraphicsElement}:function(e){return e instanceof jc(e).SVGElement&&"function"===typeof e.getBBox};function Oc(e){return xc?Ic(e)?function(e){var n=e.getBBox();return Lc(0,0,n.width,n.height)}(e):Tc(e):Ac}function Lc(e,n,t,r){return{x:e,y:n,width:t,height:r}}var Dc=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Lc(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Oc(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Rc=function(e,n){var t=function(e){var n=e.x,t=e.y,r=e.width,o=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(a.prototype);return _c(i,{x:n,y:t,width:r,height:o,top:t,right:n+r,bottom:o+t,left:n}),i}(n);_c(this,{target:e,contentRect:t})},Mc=function(){function e(e,n,t){if(this.activeObservations_=[],this.observations_=new yc,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=t}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof jc(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Dc(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof jc(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(n){n.isActive()&&e.activeObservations_.push(n)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map((function(e){return new Rc(e.target,e.broadcastRect())}));this.callback_.call(e,n,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),qc="undefined"!==typeof WeakMap?new WeakMap:new yc,Fc=function e(n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Cc.getInstance(),r=new Mc(n,t,this);qc.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Fc.prototype[e]=function(){var n;return(n=qc.get(this))[e].apply(n,arguments)}}));var Bc="undefined"!==typeof kc.ResizeObserver?kc.ResizeObserver:Fc,zc=new Map;var Uc=new Bc((function(e){e.forEach((function(e){var n,t=e.target;null===(n=zc.get(t))||void 0===n||n.forEach((function(e){return e(t)}))}))}));var Hc=function(e){h(t,e);var n=v(t);function t(){return l(this,t),n.apply(this,arguments)}return p(t,[{key:"render",value:function(){return this.props.children}}]),t}(e.Component),Vc=e.createContext(null);function Gc(n,t){var r=n.children,o=n.disabled,a=e.useRef(null),i=e.useRef(null),s=e.useContext(Vc),l="function"===typeof r,c=l?r(a):r,u=e.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!l&&e.isValidElement(c)&&qr(c),p=d?c.ref:null,f=e.useMemo((function(){return Mr(p,a)}),[p,a]),h=function(){return ci(a.current)||ci(i.current)};e.useImperativeHandle(t,(function(){return h()}));var m=e.useRef(n);m.current=n;var g=e.useCallback((function(e){var n=m.current,t=n.onResize,r=n.data,o=e.getBoundingClientRect(),a=o.width,i=o.height,l=e.offsetWidth,c=e.offsetHeight,d=Math.floor(a),p=Math.floor(i);if(u.current.width!==d||u.current.height!==p||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var f={width:d,height:p,offsetWidth:l,offsetHeight:c};u.current=f;var h=l===Math.round(a)?a:l,g=c===Math.round(i)?i:c,b=$t($t({},f),{},{offsetWidth:h,offsetHeight:g});null===s||void 0===s||s(b,e,r),t&&Promise.resolve().then((function(){t(b,e)}))}}),[]);return e.useEffect((function(){var e,n,t=h();return t&&!o&&(e=t,n=g,zc.has(e)||(zc.set(e,new Set),Uc.observe(e)),zc.get(e).add(n)),function(){return function(e,n){zc.has(e)&&(zc.get(e).delete(n),zc.get(e).size||(Uc.unobserve(e),zc.delete(e)))}(t,g)}}),[a.current,o]),e.createElement(Hc,{ref:i},d?e.cloneElement(c,{ref:f}):c)}var Wc=e.forwardRef(Gc);function $c(n,t){var r=n.children;return("function"===typeof r?[r]:Ns(r)).map((function(r,o){var a=(null===r||void 0===r?void 0:r.key)||"".concat("rc-observer-key","-").concat(o);return e.createElement(Wc,rt({},n,{key:a,ref:0===o?t:void 0}),r)}))}var Kc=e.forwardRef($c);Kc.Collection=function(n){var t=n.children,r=n.onBatchResize,o=e.useRef(0),a=e.useRef([]),i=e.useContext(Vc),s=e.useCallback((function(e,n,t){o.current+=1;var s=o.current;a.current.push({size:e,element:n,data:t}),Promise.resolve().then((function(){s===o.current&&(null===r||void 0===r||r(a.current),a.current=[])})),null===i||void 0===i||i(e,n,t)}),[r,i]);return e.createElement(Vc.Provider,{value:s},t)};var Qc=Kc,Jc=e.forwardRef((function(n,t){var r=n.height,o=n.offset,a=n.children,i=n.prefixCls,s=n.onInnerResize,l=n.innerProps,c={},u={display:"flex",flexDirection:"column"};return void 0!==o&&(c={height:r,position:"relative",overflow:"hidden"},u=$t($t({},u),{},{transform:"translateY(".concat(o,"px)"),position:"absolute",left:0,right:0,top:0})),e.createElement("div",{style:c},e.createElement(Qc,{onResize:function(e){e.offsetHeight&&s&&s()}},e.createElement("div",rt({style:u,className:st()(w({},"".concat(i,"-holder-inner"),i)),ref:t},l),a)))}));Jc.displayName="Filler";var Xc=Jc;function Zc(e){return"touches"in e?e.touches[0].pageY:e.pageY}var Yc=function(n){h(r,n);var t=v(r);function r(){var n;l(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))).moveRaf=null,n.scrollbarRef=e.createRef(),n.thumbRef=e.createRef(),n.visibleTimeout=null,n.state={dragging:!1,pageY:null,startTop:null,visible:!1},n.delayHidden=function(){clearTimeout(n.visibleTimeout),n.setState({visible:!0}),n.visibleTimeout=setTimeout((function(){n.setState({visible:!1})}),2e3)},n.onScrollbarTouchStart=function(e){e.preventDefault()},n.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},n.patchEvents=function(){window.addEventListener("mousemove",n.onMouseMove),window.addEventListener("mouseup",n.onMouseUp),n.thumbRef.current.addEventListener("touchmove",n.onMouseMove),n.thumbRef.current.addEventListener("touchend",n.onMouseUp)},n.removeEvents=function(){window.removeEventListener("mousemove",n.onMouseMove),window.removeEventListener("mouseup",n.onMouseUp),n.thumbRef.current&&(n.thumbRef.current.removeEventListener("touchmove",n.onMouseMove),n.thumbRef.current.removeEventListener("touchend",n.onMouseUp)),Hi.cancel(n.moveRaf)},n.onMouseDown=function(e){var t=n.props.onStartMove;n.setState({dragging:!0,pageY:Zc(e),startTop:n.getTop()}),t(),n.patchEvents(),e.stopPropagation(),e.preventDefault()},n.onMouseMove=function(e){var t=n.state,r=t.dragging,o=t.pageY,a=t.startTop,i=n.props.onScroll;if(Hi.cancel(n.moveRaf),r){var s=a+(Zc(e)-o),l=n.getEnableScrollRange(),c=n.getEnableHeightRange(),u=c?s/c:0,d=Math.ceil(u*l);n.moveRaf=Hi((function(){i(d)}))}},n.onMouseUp=function(){var e=n.props.onStopMove;n.setState({dragging:!1}),e(),n.removeEvents()},n.getSpinHeight=function(){var e=n.props,t=e.height,r=t/e.count*10;return r=Math.max(r,20),r=Math.min(r,t/2),Math.floor(r)},n.getEnableScrollRange=function(){var e=n.props;return e.scrollHeight-e.height||0},n.getEnableHeightRange=function(){return n.props.height-n.getSpinHeight()||0},n.getTop=function(){var e=n.props.scrollTop,t=n.getEnableScrollRange(),r=n.getEnableHeightRange();return 0===e||0===t?0:e/t*r},n.showScroll=function(){var e=n.props,t=e.height;return e.scrollHeight>t},n}return p(r,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){var e,n;this.removeEvents(),null===(e=this.scrollbarRef.current)||void 0===e||e.removeEventListener("touchstart",this.onScrollbarTouchStart),null===(n=this.thumbRef.current)||void 0===n||n.removeEventListener("touchstart",this.onMouseDown),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var n=this.state,t=n.dragging,r=n.visible,o=this.props,a=o.prefixCls,i=o.direction,s=this.getSpinHeight(),l=this.getTop(),c=this.showScroll(),u=c&&r,d="rtl"===i?{left:0}:{right:0};return e.createElement("div",{ref:this.scrollbarRef,className:st()("".concat(a,"-scrollbar"),w({},"".concat(a,"-scrollbar-show"),c)),style:$t($t({width:8,top:0,bottom:0},d),{},{position:"absolute",display:u?null:"none"}),onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},e.createElement("div",{ref:this.thumbRef,className:st()("".concat(a,"-scrollbar-thumb"),w({},"".concat(a,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:s,top:l,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),r}(e.Component);function eu(n){var t=n.children,r=n.setRef,o=e.useCallback((function(e){r(e)}),[]);return e.cloneElement(t,{ref:o})}var nu=function(){function e(){l(this,e),this.maps=void 0,this.maps=Object.create(null)}return p(e,[{key:"set",value:function(e,n){this.maps[e]=n}},{key:"get",value:function(e){return this.maps[e]}}]),e}();function tu(n,t,r){var o=s(e.useState(n),2),a=o[0],i=o[1],l=s(e.useState(null),2),c=l[0],u=l[1];return e.useEffect((function(){var e=function(e,n,t){var r,o,a=e.length,i=n.length;if(0===a&&0===i)return null;a<i?(r=e,o=n):(r=n,o=e);var s={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?t(e):s}for(var c=null,u=1!==Math.abs(a-i),d=0;d<o.length;d+=1){var p=l(r[d]);if(p!==l(o[d])){c=d,u=u||p!==l(o[d+1]);break}}return null===c?null:{index:c,multiple:u}}(a||[],n||[],t);void 0!==(null===e||void 0===e?void 0:e.index)&&(null===r||void 0===r||r(e.index),u(n[e.index])),i(n)}),[n]),[c]}var ru="object"===("undefined"===typeof navigator?"undefined":c(navigator))&&/Firefox/i.test(navigator.userAgent),ou=function(n,t){var r=(0,e.useRef)(!1),o=(0,e.useRef)(null);var a=(0,e.useRef)({top:n,bottom:t});return a.current.top=n,a.current.bottom=t,function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e<0&&a.current.top||e>0&&a.current.bottom;return n&&t?(clearTimeout(o.current),r.current=!1):t&&!r.current||(clearTimeout(o.current),r.current=!0,o.current=setTimeout((function(){r.current=!1}),50)),!r.current&&t}};var au=14/15;var iu=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","component","onScroll","onVisibleChange","innerProps"],su=[],lu={overflowY:"auto",overflowAnchor:"none"};function cu(n,t){var r=n.prefixCls,o=void 0===r?"rc-virtual-list":r,a=n.className,i=n.height,l=n.itemHeight,u=n.fullHeight,d=void 0===u||u,p=n.style,f=n.data,h=n.children,m=n.itemKey,g=n.virtual,b=n.direction,v=n.component,y=void 0===v?"div":v,x=n.onScroll,k=n.onVisibleChange,S=n.innerProps,E=at(n,iu),C=!(!1===g||!i||!l),_=C&&f&&l*f.length>i,j=s((0,e.useState)(0),2),A=j[0],N=j[1],P=s((0,e.useState)(!1),2),T=P[0],I=P[1],O=st()(o,w({},"".concat(o,"-rtl"),"rtl"===b),a),L=f||su,D=(0,e.useRef)(),R=(0,e.useRef)(),M=(0,e.useRef)(),q=e.useCallback((function(e){return"function"===typeof m?m(e):null===e||void 0===e?void 0:e[m]}),[m]),F={getKey:q};function B(e){N((function(n){var t=function(e){var n=e;Number.isNaN(te.current)||(n=Math.min(n,te.current));return n=Math.max(n,0),n}("function"===typeof e?e(n):e);return D.current.scrollTop=t,t}))}var z=(0,e.useRef)({start:0,end:L.length}),U=(0,e.useRef)(),H=s(tu(L,q),1)[0];U.current=H;var V=function(n,t,r){var o=s(e.useState(0),2),a=o[0],i=o[1],l=(0,e.useRef)(new Map),c=(0,e.useRef)(new nu),u=(0,e.useRef)();function d(){Hi.cancel(u.current)}function p(){d(),u.current=Hi((function(){l.current.forEach((function(e,n){if(e&&e.offsetParent){var t=ci(e),r=t.offsetHeight;c.current.get(n)!==r&&c.current.set(n,t.offsetHeight)}})),i((function(e){return e+1}))}))}return(0,e.useEffect)((function(){return d}),[]),[function(e,o){var a=n(e),i=l.current.get(a);o?(l.current.set(a,o),p()):l.current.delete(a),!i!==!o&&(o?null===t||void 0===t||t(e):null===r||void 0===r||r(e))},p,c.current,a]}(q,null,null),G=s(V,4),W=G[0],$=G[1],K=G[2],Q=G[3],J=e.useMemo((function(){if(!C)return{scrollHeight:void 0,start:0,end:L.length-1,offset:void 0};var e;if(!_)return{scrollHeight:(null===(e=R.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:L.length-1,offset:void 0};for(var n,t,r,o=0,a=L.length,s=0;s<a;s+=1){var c=L[s],u=q(c),d=K.get(u),p=o+(void 0===d?l:d);p>=A&&void 0===n&&(n=s,t=o),p>A+i&&void 0===r&&(r=s),o=p}return void 0===n&&(n=0,t=0,r=Math.ceil(i/l)),void 0===r&&(r=L.length-1),{scrollHeight:o,start:n,end:r=Math.min(r+1,L.length),offset:t}}),[_,C,A,L,Q,i]),X=J.scrollHeight,Z=J.start,Y=J.end,ee=J.offset;z.current.start=Z,z.current.end=Y;var ne=X-i,te=(0,e.useRef)(ne);te.current=ne;var re=A<=0,oe=A>=ne,ae=ou(re,oe);var ie=function(n,t,r,o){var a=(0,e.useRef)(0),i=(0,e.useRef)(null),s=(0,e.useRef)(null),l=(0,e.useRef)(!1),c=ou(t,r);return[function(e){if(n){Hi.cancel(i.current);var t=e.deltaY;a.current+=t,s.current=t,c(t)||(ru||e.preventDefault(),i.current=Hi((function(){var e=l.current?10:1;o(a.current*e),a.current=0})))}},function(e){n&&(l.current=e.detail===s.current)}]}(C,re,oe,(function(e){B((function(n){return n+e}))})),se=s(ie,2),le=se[0],ce=se[1];!function(n,t,r){var o,a=(0,e.useRef)(!1),i=(0,e.useRef)(0),s=(0,e.useRef)(null),l=(0,e.useRef)(null),c=function(e){if(a.current){var n=Math.ceil(e.touches[0].pageY),t=i.current-n;i.current=n,r(t)&&e.preventDefault(),clearInterval(l.current),l.current=setInterval((function(){(!r(t*=au,!0)||Math.abs(t)<=.1)&&clearInterval(l.current)}),16)}},u=function(){a.current=!1,o()},d=function(e){o(),1!==e.touches.length||a.current||(a.current=!0,i.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",c),s.current.addEventListener("touchend",u))};o=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",u))},ao((function(){return n&&t.current.addEventListener("touchstart",d),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",d),o(),clearInterval(l.current)}}),[n])}(C,D,(function(e,n){return!ae(e,n)&&(le({preventDefault:function(){},deltaY:e}),!0)})),ao((function(){function e(e){C&&e.preventDefault()}return D.current.addEventListener("wheel",le),D.current.addEventListener("DOMMouseScroll",ce),D.current.addEventListener("MozMousePixelScroll",e),function(){D.current&&(D.current.removeEventListener("wheel",le),D.current.removeEventListener("DOMMouseScroll",ce),D.current.removeEventListener("MozMousePixelScroll",e))}}),[C]);var ue=function(n,t,r,o,a,i,s,l){var u=e.useRef();return function(e){if(null!==e&&void 0!==e){if(Hi.cancel(u.current),"number"===typeof e)s(e);else if(e&&"object"===c(e)){var d,p=e.align;d="index"in e?e.index:t.findIndex((function(n){return a(n)===e.key}));var f=e.offset,h=void 0===f?0:f;!function e(l,c){if(!(l<0)&&n.current){var f=n.current.clientHeight,m=!1,g=c;if(f){for(var b=c||p,v=0,y=0,x=0,k=Math.min(t.length,d),w=0;w<=k;w+=1){var S=a(t[w]);y=v;var E=r.get(S);v=x=y+(void 0===E?o:E),w===d&&void 0===E&&(m=!0)}var C=null;switch(b){case"top":C=y-h;break;case"bottom":C=x-f+h;break;default:var _=n.current.scrollTop;y<_?g="top":x>_+f&&(g="bottom")}null!==C&&C!==n.current.scrollTop&&s(C)}u.current=Hi((function(){m&&i(),e(l-1,g)}),2)}}(3)}}else l()}}(D,L,K,l,q,$,B,(function(){var e;null===(e=M.current)||void 0===e||e.delayHidden()}));e.useImperativeHandle(t,(function(){return{scrollTo:ue}})),ao((function(){if(k){var e=L.slice(Z,Y+1);k(e,L)}}),[Z,Y,L]);var de=function(n,t,r,o,a,i){var s=i.getKey;return n.slice(t,r+1).map((function(n,r){var i=a(n,t+r,{}),l=s(n);return e.createElement(eu,{key:l,setRef:function(e){return o(n,e)}},i)}))}(L,Z,Y,W,h,F),pe=null;return i&&(pe=$t(w({},d?"height":"maxHeight",i),lu),C&&(pe.overflowY="hidden",T&&(pe.pointerEvents="none"))),e.createElement("div",rt({style:$t($t({},p),{},{position:"relative"}),className:O},E),e.createElement(y,{className:"".concat(o,"-holder"),style:pe,ref:D,onScroll:function(e){var n=e.currentTarget.scrollTop;n!==A&&B(n),null===x||void 0===x||x(e)}},e.createElement(Xc,{prefixCls:o,height:X,offset:ee,onInnerResize:$,ref:R,innerProps:S},de)),C&&e.createElement(Yc,{ref:M,prefixCls:o,scrollTop:A,height:i,scrollHeight:X,count:L.length,direction:b,onScroll:function(e){B(e)},onStartMove:function(){I(!0)},onStopMove:function(){I(!1)}}))}var uu=e.forwardRef(cu);uu.displayName="List";var du=uu;var pu=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],fu=function(n,t){var r=n.className,o=n.style,a=n.motion,i=n.motionNodes,l=n.motionType,c=n.onMotionStart,u=n.onMotionEnd,d=n.active,p=n.treeNodeRequiredProps,f=at(n,pu),h=s(e.useState(!0),2),m=h[0],g=h[1],b=e.useContext(Bl).prefixCls,v=i&&"hide"!==l;ao((function(){i&&v!==m&&g(v)}),[i]);var y=e.useRef(!1),x=function(){i&&!y.current&&(y.current=!0,u())};!function(n,t){var r=s(e.useState(!1),2),o=r[0],a=r[1];e.useLayoutEffect((function(){if(o)return n(),function(){t()}}),[o]),e.useLayoutEffect((function(){return a(!0),function(){a(!1)}}),[])}((function(){i&&c()}),x);return i?e.createElement(ss,rt({ref:t,visible:m},a,{motionAppear:"show"===l,onVisibleChanged:function(e){v===e&&x()}}),(function(n,t){var r=n.className,o=n.style;return e.createElement("div",{ref:t,className:st()("".concat(b,"-treenode-motion"),r),style:o},i.map((function(n){var t=rt({},(vc(n.data),n.data)),r=n.title,o=n.key,a=n.isStart,i=n.isEnd;delete t.children;var s=Jl(o,p);return e.createElement(rc,rt({},t,s,{title:r,active:d,data:n.data,key:o,isStart:a,isEnd:i}))})))})):e.createElement(rc,rt({domRef:t,className:r,style:o},f,{active:d}))};fu.displayName="MotionTreeNode";var hu=e.forwardRef(fu);function mu(e,n,t){var r=e.findIndex((function(e){return e.key===t})),o=e[r+1],a=n.findIndex((function(e){return e.key===t}));if(o){var i=n.findIndex((function(e){return e.key===o.key}));return n.slice(a+1,i)}return n.slice(a+1)}var gu=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],bu={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},vu=function(){},yu="RC_TREE_MOTION_".concat(Math.random()),xu={key:yu},ku={key:yu,level:0,index:0,pos:"0",node:xu,nodes:[xu]},wu={parent:null,children:[],pos:ku.pos,data:xu,title:null,key:yu,isStart:[],isEnd:[]};function Su(e,n,t,r){return!1!==n&&t?e.slice(0,Math.ceil(t/r)+1):e}function Eu(e){return Gl(e.key,e.pos)}var Cu=e.forwardRef((function(n,t){var r=n.prefixCls,o=n.data,a=(n.selectable,n.checkable,n.expandedKeys),i=n.selectedKeys,l=n.checkedKeys,c=n.loadedKeys,u=n.loadingKeys,d=n.halfCheckedKeys,p=n.keyEntities,f=n.disabled,h=n.dragging,m=n.dragOverNodeKey,g=n.dropPosition,b=n.motion,v=n.height,y=n.itemHeight,x=n.virtual,k=n.focusable,w=n.activeItem,S=n.focused,E=n.tabIndex,C=n.onKeyDown,_=n.onFocus,j=n.onBlur,A=n.onActiveChange,N=n.onListChangeStart,P=n.onListChangeEnd,T=at(n,gu),I=e.useRef(null),O=e.useRef(null);e.useImperativeHandle(t,(function(){return{scrollTo:function(e){I.current.scrollTo(e)},getIndentWidth:function(){return O.current.offsetWidth}}}));var L=s(e.useState(a),2),D=L[0],R=L[1],M=s(e.useState(o),2),q=M[0],F=M[1],B=s(e.useState(o),2),z=B[0],U=B[1],H=s(e.useState([]),2),V=H[0],G=H[1],W=s(e.useState(null),2),$=W[0],K=W[1],Q=e.useRef(o);function J(){var e=Q.current;F(e),U(e),G([]),K(null),P()}Q.current=o,ao((function(){R(a);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=e.length,r=n.length;if(1!==Math.abs(t-r))return{add:!1,key:null};function o(e,n){var t=new Map;e.forEach((function(e){t.set(e,!0)}));var r=n.filter((function(e){return!t.has(e)}));return 1===r.length?r[0]:null}return t<r?{add:!0,key:o(e,n)}:{add:!1,key:o(n,e)}}(D,a);if(null!==e.key)if(e.add){var n=q.findIndex((function(n){return n.key===e.key})),t=Su(mu(q,o,e.key),x,v,y),r=q.slice();r.splice(n+1,0,wu),U(r),G(t),K("show")}else{var i=o.findIndex((function(n){return n.key===e.key})),s=Su(mu(o,q,e.key),x,v,y),l=o.slice();l.splice(i+1,0,wu),U(l),G(s),K("hide")}else q!==o&&(F(o),U(o))}),[a,o]),e.useEffect((function(){h||J()}),[h]);var X=b?z:o,Z={expandedKeys:a,selectedKeys:i,loadedKeys:c,loadingKeys:u,checkedKeys:l,halfCheckedKeys:d,dragOverNodeKey:m,dropPosition:g,keyEntities:p};return e.createElement(e.Fragment,null,S&&w&&e.createElement("span",{style:bu,"aria-live":"assertive"},function(e){for(var n=String(e.data.key),t=e;t.parent;)t=t.parent,n="".concat(t.data.key," > ").concat(n);return n}(w)),e.createElement("div",null,e.createElement("input",{style:bu,disabled:!1===k||f,tabIndex:!1!==k?E:null,onKeyDown:C,onFocus:_,onBlur:j,value:"",onChange:vu,"aria-label":"for screen reader"})),e.createElement("div",{className:"".concat(r,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},e.createElement("div",{className:"".concat(r,"-indent")},e.createElement("div",{ref:O,className:"".concat(r,"-indent-unit")}))),e.createElement(du,rt({},T,{data:X,itemKey:Eu,height:v,fullHeight:!1,virtual:x,itemHeight:y,prefixCls:"".concat(r,"-list"),ref:I,onVisibleChange:function(e,n){var t=new Set(e);n.filter((function(e){return!t.has(e)})).some((function(e){return Eu(e)===yu}))&&J()}}),(function(n){var t=n.pos,r=rt({},(vc(n.data),n.data)),o=n.title,a=n.key,i=n.isStart,s=n.isEnd,l=Gl(a,t);delete r.key,delete r.children;var c=Jl(l,Z);return e.createElement(hu,rt({},r,c,{title:o,active:!!w&&a===w.key,pos:t,data:n.data,isStart:i,isEnd:s,motion:b,motionNodes:a===yu?V:null,motionType:$,onMotionStart:N,onMotionEnd:J,treeNodeRequiredProps:Z,onMouseMove:function(){A(null)}}))})))}));Cu.displayName="NodeList";var _u=Cu;function ju(e,n){var t=new Set;return e.forEach((function(e){n.has(e)||t.add(e)})),t}function Au(e){var n=e||{},t=n.disabled,r=n.disableCheckbox,o=n.checkable;return!(!t&&!r)||!1===o}function Nu(e,n,t,r){var o,a=[];o=r||Au;var i,s=new Set(e.filter((function(e){var n=!!t[e];return n||a.push(e),n}))),l=new Map,c=0;return Object.keys(t).forEach((function(e){var n=t[e],r=n.level,o=l.get(r);o||(o=new Set,l.set(r,o)),o.add(n),c=Math.max(c,r)})),er(!a.length,"Tree missing follow keys: ".concat(a.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),i=!0===n?function(e,n,t,r){for(var o=new Set(e),a=new Set,i=0;i<=t;i+=1)(n.get(i)||new Set).forEach((function(e){var n=e.key,t=e.node,a=e.children,i=void 0===a?[]:a;o.has(n)&&!r(t)&&i.filter((function(e){return!r(e.node)})).forEach((function(e){o.add(e.key)}))}));for(var s=new Set,l=t;l>=0;l-=1)(n.get(l)||new Set).forEach((function(e){var n=e.parent,t=e.node;if(!r(t)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(n.key);else{var i=!0,l=!1;(n.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var n=e.key,t=o.has(n);i&&!t&&(i=!1),l||!t&&!a.has(n)||(l=!0)})),i&&o.add(n.key),l&&a.add(n.key),s.add(n.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(ju(a,o))}}(s,l,c,o):function(e,n,t,r,o){for(var a=new Set(e),i=new Set(n),s=0;s<=r;s+=1)(t.get(s)||new Set).forEach((function(e){var n=e.key,t=e.node,r=e.children,s=void 0===r?[]:r;a.has(n)||i.has(n)||o(t)||s.filter((function(e){return!o(e.node)})).forEach((function(e){a.delete(e.key)}))}));i=new Set;for(var l=new Set,c=r;c>=0;c-=1)(t.get(c)||new Set).forEach((function(e){var n=e.parent,t=e.node;if(!o(t)&&e.parent&&!l.has(e.parent.key))if(o(e.parent.node))l.add(n.key);else{var r=!0,s=!1;(n.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var n=e.key,t=a.has(n);r&&!t&&(r=!1),s||!t&&!i.has(n)||(s=!0)})),r||a.delete(n.key),s&&i.add(n.key),l.add(n.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(ju(i,a))}}(s,n.halfCheckedKeys,l,c,o),i}var Pu=function(n){h(r,n);var t=v(r);function r(){var n;l(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))).destroyed=!1,n.delayedDragEnterLogic=void 0,n.loadingRetryTimes={},n.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Wl()},n.dragStartMousePosition=null,n.dragNode=void 0,n.currentMouseOverDroppableNodeKey=null,n.listRef=e.createRef(),n.onNodeDragStart=function(e,t){var r=n.state,o=r.expandedKeys,a=r.keyEntities,i=n.props.onDragStart,s=t.props.eventKey;n.dragNode=t,n.dragStartMousePosition={x:e.clientX,y:e.clientY};var l=oc(o,s);n.setState({draggingNodeKey:s,dragChildrenKeys:sc(s,a),indent:n.listRef.current.getIndentWidth()}),n.setExpandedKeys(l),window.addEventListener("dragend",n.onWindowDragEnd),null===i||void 0===i||i({event:e,node:Xl(t.props)})},n.onNodeDragEnter=function(e,t){var r=n.state,o=r.expandedKeys,a=r.keyEntities,i=r.dragChildrenKeys,s=r.flattenNodes,l=r.indent,c=n.props,u=c.onDragEnter,d=c.onExpand,p=c.allowDrop,f=c.direction,h=t.props,m=h.pos,g=h.eventKey,v=b(n).dragNode;if(n.currentMouseOverDroppableNodeKey!==g&&(n.currentMouseOverDroppableNodeKey=g),v){var y=cc(e,v,t,l,n.dragStartMousePosition,p,s,a,o,f),x=y.dropPosition,k=y.dropLevelOffset,w=y.dropTargetKey,S=y.dropContainerKey,E=y.dropTargetPos,C=y.dropAllowed,_=y.dragOverNodeKey;-1===i.indexOf(w)&&C?(n.delayedDragEnterLogic||(n.delayedDragEnterLogic={}),Object.keys(n.delayedDragEnterLogic).forEach((function(e){clearTimeout(n.delayedDragEnterLogic[e])})),v.props.eventKey!==t.props.eventKey&&(e.persist(),n.delayedDragEnterLogic[m]=window.setTimeout((function(){if(null!==n.state.draggingNodeKey){var r=(0,N.Z)(o),i=a[t.props.eventKey];i&&(i.children||[]).length&&(r=ac(o,t.props.eventKey)),"expandedKeys"in n.props||n.setExpandedKeys(r),null===d||void 0===d||d(r,{node:Xl(t.props),expanded:!0,nativeEvent:e.nativeEvent})}}),800)),v.props.eventKey!==w||0!==k?(n.setState({dragOverNodeKey:_,dropPosition:x,dropLevelOffset:k,dropTargetKey:w,dropContainerKey:S,dropTargetPos:E,dropAllowed:C}),null===u||void 0===u||u({event:e,node:Xl(t.props),expandedKeys:o})):n.resetDragState()):n.resetDragState()}else n.resetDragState()},n.onNodeDragOver=function(e,t){var r=n.state,o=r.dragChildrenKeys,a=r.flattenNodes,i=r.keyEntities,s=r.expandedKeys,l=r.indent,c=n.props,u=c.onDragOver,d=c.allowDrop,p=c.direction,f=b(n).dragNode;if(f){var h=cc(e,f,t,l,n.dragStartMousePosition,d,a,i,s,p),m=h.dropPosition,g=h.dropLevelOffset,v=h.dropTargetKey,y=h.dropContainerKey,x=h.dropAllowed,k=h.dropTargetPos,w=h.dragOverNodeKey;-1===o.indexOf(v)&&x&&(f.props.eventKey===v&&0===g?null===n.state.dropPosition&&null===n.state.dropLevelOffset&&null===n.state.dropTargetKey&&null===n.state.dropContainerKey&&null===n.state.dropTargetPos&&!1===n.state.dropAllowed&&null===n.state.dragOverNodeKey||n.resetDragState():m===n.state.dropPosition&&g===n.state.dropLevelOffset&&v===n.state.dropTargetKey&&y===n.state.dropContainerKey&&k===n.state.dropTargetPos&&x===n.state.dropAllowed&&w===n.state.dragOverNodeKey||n.setState({dropPosition:m,dropLevelOffset:g,dropTargetKey:v,dropContainerKey:y,dropTargetPos:k,dropAllowed:x,dragOverNodeKey:w}),null===u||void 0===u||u({event:e,node:Xl(t.props)}))}},n.onNodeDragLeave=function(e,t){n.currentMouseOverDroppableNodeKey!==t.props.eventKey||e.currentTarget.contains(e.relatedTarget)||(n.resetDragState(),n.currentMouseOverDroppableNodeKey=null);var r=n.props.onDragLeave;null===r||void 0===r||r({event:e,node:Xl(t.props)})},n.onWindowDragEnd=function(e){n.onNodeDragEnd(e,null,!0),window.removeEventListener("dragend",n.onWindowDragEnd)},n.onNodeDragEnd=function(e,t){var r=n.props.onDragEnd;n.setState({dragOverNodeKey:null}),n.cleanDragState(),null===r||void 0===r||r({event:e,node:Xl(t.props)}),n.dragNode=null,window.removeEventListener("dragend",n.onWindowDragEnd)},n.onNodeDrop=function(e,t){var r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=n.state,i=a.dragChildrenKeys,s=a.dropPosition,l=a.dropTargetKey,c=a.dropTargetPos;if(a.dropAllowed){var u=n.props.onDrop;if(n.setState({dragOverNodeKey:null}),n.cleanDragState(),null!==l){var d=$t($t({},Jl(l,n.getTreeNodeRequiredProps())),{},{active:(null===(r=n.getActiveItem())||void 0===r?void 0:r.key)===l,data:n.state.keyEntities[l].node}),p=-1!==i.indexOf(l);er(!p,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var f=ic(c),h={event:e,node:Xl(d),dragNode:n.dragNode?Xl(n.dragNode.props):null,dragNodesKeys:[n.dragNode.props.eventKey].concat(i),dropToGap:0!==s,dropPosition:s+Number(f[f.length-1])};o||null===u||void 0===u||u(h),n.dragNode=null}}},n.cleanDragState=function(){null!==n.state.draggingNodeKey&&n.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),n.dragStartMousePosition=null,n.currentMouseOverDroppableNodeKey=null},n.triggerExpandActionExpand=function(e,t){var r=n.state,o=r.expandedKeys,a=r.flattenNodes,i=t.expanded,s=t.key;if(!(t.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey)){var l=a.filter((function(e){return e.key===s}))[0],c=Xl($t($t({},Jl(s,n.getTreeNodeRequiredProps())),{},{data:l.data}));n.setExpandedKeys(i?oc(o,s):ac(o,s)),n.onNodeExpand(e,c)}},n.onNodeClick=function(e,t){var r=n.props,o=r.onClick;"click"===r.expandAction&&n.triggerExpandActionExpand(e,t),null===o||void 0===o||o(e,t)},n.onNodeDoubleClick=function(e,t){var r=n.props,o=r.onDoubleClick;"doubleClick"===r.expandAction&&n.triggerExpandActionExpand(e,t),null===o||void 0===o||o(e,t)},n.onNodeSelect=function(e,t){var r=n.state.selectedKeys,o=n.state,a=o.keyEntities,i=o.fieldNames,s=n.props,l=s.onSelect,c=s.multiple,u=t.selected,d=t[i.key],p=!u,f=(r=p?c?ac(r,d):[d]:oc(r,d)).map((function(e){var n=a[e];return n?n.node:null})).filter((function(e){return e}));n.setUncontrolledState({selectedKeys:r}),null===l||void 0===l||l(r,{event:"select",selected:p,node:t,selectedNodes:f,nativeEvent:e.nativeEvent})},n.onNodeCheck=function(e,t,r){var o,a=n.state,i=a.keyEntities,s=a.checkedKeys,l=a.halfCheckedKeys,c=n.props,u=c.checkStrictly,d=c.onCheck,p=t.key,f={event:"check",node:t,checked:r,nativeEvent:e.nativeEvent};if(u){var h=r?ac(s,p):oc(s,p);o={checked:h,halfChecked:oc(l,p)},f.checkedNodes=h.map((function(e){return i[e]})).filter((function(e){return e})).map((function(e){return e.node})),n.setUncontrolledState({checkedKeys:h})}else{var m=Nu([].concat((0,N.Z)(s),[p]),!0,i),g=m.checkedKeys,b=m.halfCheckedKeys;if(!r){var v=new Set(g);v.delete(p);var y=Nu(Array.from(v),{checked:!1,halfCheckedKeys:b},i);g=y.checkedKeys,b=y.halfCheckedKeys}o=g,f.checkedNodes=[],f.checkedNodesPositions=[],f.halfCheckedKeys=b,g.forEach((function(e){var n=i[e];if(n){var t=n.node,r=n.pos;f.checkedNodes.push(t),f.checkedNodesPositions.push({node:t,pos:r})}})),n.setUncontrolledState({checkedKeys:g},!1,{halfCheckedKeys:b})}null===d||void 0===d||d(o,f)},n.onNodeLoad=function(e){var t=e.key,r=new Promise((function(r,o){n.setState((function(a){var i=a.loadedKeys,s=void 0===i?[]:i,l=a.loadingKeys,c=void 0===l?[]:l,u=n.props,d=u.loadData,p=u.onLoad;return d&&-1===s.indexOf(t)&&-1===c.indexOf(t)?(d(e).then((function(){var o=ac(n.state.loadedKeys,t);null===p||void 0===p||p(o,{event:"load",node:e}),n.setUncontrolledState({loadedKeys:o}),n.setState((function(e){return{loadingKeys:oc(e.loadingKeys,t)}})),r()})).catch((function(e){if(n.setState((function(e){return{loadingKeys:oc(e.loadingKeys,t)}})),n.loadingRetryTimes[t]=(n.loadingRetryTimes[t]||0)+1,n.loadingRetryTimes[t]>=10){var a=n.state.loadedKeys;er(!1,"Retry for `loadData` many times but still failed. No more retry."),n.setUncontrolledState({loadedKeys:ac(a,t)}),r()}o(e)})),{loadingKeys:ac(c,t)}):null}))}));return r.catch((function(){})),r},n.onNodeMouseEnter=function(e,t){var r=n.props.onMouseEnter;null===r||void 0===r||r({event:e,node:t})},n.onNodeMouseLeave=function(e,t){var r=n.props.onMouseLeave;null===r||void 0===r||r({event:e,node:t})},n.onNodeContextMenu=function(e,t){var r=n.props.onRightClick;r&&(e.preventDefault(),r({event:e,node:t}))},n.onFocus=function(){var e=n.props.onFocus;n.setState({focused:!0});for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];null===e||void 0===e||e.apply(void 0,r)},n.onBlur=function(){var e=n.props.onBlur;n.setState({focused:!1}),n.onActiveChange(null);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];null===e||void 0===e||e.apply(void 0,r)},n.getTreeNodeRequiredProps=function(){var e=n.state;return{expandedKeys:e.expandedKeys||[],selectedKeys:e.selectedKeys||[],loadedKeys:e.loadedKeys||[],loadingKeys:e.loadingKeys||[],checkedKeys:e.checkedKeys||[],halfCheckedKeys:e.halfCheckedKeys||[],dragOverNodeKey:e.dragOverNodeKey,dropPosition:e.dropPosition,keyEntities:e.keyEntities}},n.setExpandedKeys=function(e){var t=n.state,r=Kl(t.treeData,e,t.fieldNames);n.setUncontrolledState({expandedKeys:e,flattenNodes:r},!0)},n.onNodeExpand=function(e,t){var r=n.state.expandedKeys,o=n.state,a=o.listChanging,i=o.fieldNames,s=n.props,l=s.onExpand,c=s.loadData,u=t.expanded,d=t[i.key];if(!a){var p=r.indexOf(d),f=!u;if(er(u&&-1!==p||!u&&-1===p,"Expand state not sync with index check"),r=f?ac(r,d):oc(r,d),n.setExpandedKeys(r),null===l||void 0===l||l(r,{node:t,expanded:f,nativeEvent:e.nativeEvent}),f&&c){var h=n.onNodeLoad(t);h&&h.then((function(){var e=Kl(n.state.treeData,r,i);n.setUncontrolledState({flattenNodes:e})})).catch((function(){var e=oc(n.state.expandedKeys,d);n.setExpandedKeys(e)}))}}},n.onListChangeStart=function(){n.setUncontrolledState({listChanging:!0})},n.onListChangeEnd=function(){setTimeout((function(){n.setUncontrolledState({listChanging:!1})}))},n.onActiveChange=function(e){var t=n.state.activeKey,r=n.props.onActiveChange;t!==e&&(n.setState({activeKey:e}),null!==e&&n.scrollTo({key:e}),null===r||void 0===r||r(e))},n.getActiveItem=function(){var e=n.state,t=e.activeKey,r=e.flattenNodes;return null===t?null:r.find((function(e){return e.key===t}))||null},n.offsetActiveKey=function(e){var t=n.state,r=t.flattenNodes,o=t.activeKey,a=r.findIndex((function(e){return e.key===o}));-1===a&&e<0&&(a=r.length);var i=r[a=(a+e+r.length)%r.length];if(i){var s=i.key;n.onActiveChange(s)}else n.onActiveChange(null)},n.onKeyDown=function(e){var t=n.state,r=t.activeKey,o=t.expandedKeys,a=t.checkedKeys,i=t.fieldNames,s=n.props,l=s.onKeyDown,c=s.checkable,u=s.selectable;switch(e.which){case bc.UP:n.offsetActiveKey(-1),e.preventDefault();break;case bc.DOWN:n.offsetActiveKey(1),e.preventDefault()}var d=n.getActiveItem();if(d&&d.data){var p=n.getTreeNodeRequiredProps(),f=!1===d.data.isLeaf||!!(d.data[i.children]||[]).length,h=Xl($t($t({},Jl(r,p)),{},{data:d.data,active:!0}));switch(e.which){case bc.LEFT:f&&o.includes(r)?n.onNodeExpand({},h):d.parent&&n.onActiveChange(d.parent.key),e.preventDefault();break;case bc.RIGHT:f&&!o.includes(r)?n.onNodeExpand({},h):d.children&&d.children.length&&n.onActiveChange(d.children[0].key),e.preventDefault();break;case bc.ENTER:case bc.SPACE:!c||h.disabled||!1===h.checkable||h.disableCheckbox?c||!u||h.disabled||!1===h.selectable||n.onNodeSelect({},h):n.onNodeCheck({},h,!a.includes(r))}}null===l||void 0===l||l(e)},n.setUncontrolledState=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!n.destroyed){var o=!1,a=!0,i={};Object.keys(e).forEach((function(t){t in n.props?a=!1:(o=!0,i[t]=e[t])})),!o||t&&!a||n.setState($t($t({},i),r))}},n.scrollTo=function(e){n.listRef.current.scrollTo(e)},n}return p(r,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props.activeKey;void 0!==e&&e!==this.state.activeKey&&(this.setState({activeKey:e}),null!==e&&this.scrollTo({key:e}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var n,t,r=this.state,o=r.focused,a=r.flattenNodes,i=r.keyEntities,s=r.draggingNodeKey,l=r.activeKey,u=r.dropLevelOffset,d=r.dropContainerKey,p=r.dropTargetKey,f=r.dropPosition,h=r.dragOverNodeKey,m=r.indent,g=this.props,b=g.prefixCls,v=g.className,y=g.style,x=g.showLine,k=g.focusable,S=g.tabIndex,E=void 0===S?0:S,C=g.selectable,_=g.showIcon,j=g.icon,A=g.switcherIcon,N=g.draggable,P=g.checkable,T=g.checkStrictly,I=g.disabled,O=g.motion,L=g.loadData,D=g.filterTreeNode,R=g.height,M=g.itemHeight,q=g.virtual,F=g.titleRender,B=g.dropIndicatorRender,z=g.onContextMenu,U=g.onScroll,H=g.direction,V=g.rootClassName,G=g.rootStyle,W=Fl(this.props,{aria:!0,data:!0});return N&&(t="object"===c(N)?N:"function"===typeof N?{nodeDraggable:N}:{}),e.createElement(Bl.Provider,{value:{prefixCls:b,selectable:C,showIcon:_,icon:j,switcherIcon:A,draggable:t,draggingNodeKey:s,checkable:P,checkStrictly:T,disabled:I,keyEntities:i,dropLevelOffset:u,dropContainerKey:d,dropTargetKey:p,dropPosition:f,dragOverNodeKey:h,indent:m,direction:H,dropIndicatorRender:B,loadData:L,filterTreeNode:D,titleRender:F,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},e.createElement("div",{role:"tree",className:st()(b,v,V,(n={},w(n,"".concat(b,"-show-line"),x),w(n,"".concat(b,"-focused"),o),w(n,"".concat(b,"-active-focused"),null!==l),n)),style:G},e.createElement(_u,rt({ref:this.listRef,prefixCls:b,style:y,data:a,disabled:I,selectable:C,checkable:!!P,motion:O,dragging:null!==s,height:R,itemHeight:M,virtual:q,focusable:k,focused:o,tabIndex:E,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:z,onScroll:U},this.getTreeNodeRequiredProps(),W))))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var t,r=n.prevProps,o={prevProps:e};function a(n){return!r&&n in e||r&&r[n]!==e[n]}var i=n.fieldNames;if(a("fieldNames")&&(i=Wl(e.fieldNames),o.fieldNames=i),a("treeData")?t=e.treeData:a("children")&&(er(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),t=$l(e.children)),t){o.treeData=t;var s=Ql(t,{fieldNames:i});o.keyEntities=$t(w({},yu,ku),s.keyEntities)}var l,c=o.keyEntities||n.keyEntities;if(a("expandedKeys")||r&&a("autoExpandParent"))o.expandedKeys=e.autoExpandParent||!r&&e.defaultExpandParent?pc(e.expandedKeys,c):e.expandedKeys;else if(!r&&e.defaultExpandAll){var u=$t({},c);delete u[yu],o.expandedKeys=Object.keys(u).map((function(e){return u[e].key}))}else!r&&e.defaultExpandedKeys&&(o.expandedKeys=e.autoExpandParent||e.defaultExpandParent?pc(e.defaultExpandedKeys,c):e.defaultExpandedKeys);if(o.expandedKeys||delete o.expandedKeys,t||o.expandedKeys){var d=Kl(t||n.treeData,o.expandedKeys||n.expandedKeys,i);o.flattenNodes=d}if((e.selectable&&(a("selectedKeys")?o.selectedKeys=uc(e.selectedKeys,e):!r&&e.defaultSelectedKeys&&(o.selectedKeys=uc(e.defaultSelectedKeys,e))),e.checkable)&&(a("checkedKeys")?l=dc(e.checkedKeys)||{}:!r&&e.defaultCheckedKeys?l=dc(e.defaultCheckedKeys)||{}:t&&(l=dc(e.checkedKeys)||{checkedKeys:n.checkedKeys,halfCheckedKeys:n.halfCheckedKeys}),l)){var p=l,f=p.checkedKeys,h=void 0===f?[]:f,m=p.halfCheckedKeys,g=void 0===m?[]:m;if(!e.checkStrictly){var b=Nu(h,!0,c);h=b.checkedKeys,g=b.halfCheckedKeys}o.checkedKeys=h,o.halfCheckedKeys=g}return a("loadedKeys")&&(o.loadedKeys=e.loadedKeys),o}}]),r}(e.Component);Pu.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(n){var t=n.dropPosition,r=n.dropLevelOffset,o=n.indent,a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:a.top=0,a.left=-r*o;break;case 1:a.bottom=0,a.left=-r*o;break;case 0:a.bottom=0,a.left=o}return e.createElement("div",{style:a})},allowDrop:function(){return!0},expandAction:!1},Pu.TreeNode=rc;var Tu=Pu,Iu=function(){return{height:0,opacity:0}},Ou=function(e){return{height:e.scrollHeight,opacity:1}},Lu=function(e){return{height:e?e.offsetHeight:0}},Du=function(e,n){return!0===(null===n||void 0===n?void 0:n.deadline)||"height"===n.propertyName},Ru=function(){return{motionName:"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ant","-motion-collapse"),onAppearStart:Iu,onEnterStart:Iu,onAppearActive:Ou,onEnterActive:Ou,onLeaveStart:Lu,onLeaveActive:Iu,onAppearEnd:Du,onEnterEnd:Du,onLeaveEnd:Du,motionDeadline:500}},Mu=new ha("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),qu=function(e){var n,t,r,o,a,i,s,l,c,u,d=e.checkboxCls,p="".concat(d,"-wrapper");return[(r={},w(r,"".concat(d,"-group"),Object.assign(Object.assign({},Pa(e)),w({display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS},"> ".concat(e.antCls,"-row"),{flex:1}))),w(r,p,Object.assign(Object.assign({},Pa(e)),(n={display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"}},w(n,"& + ".concat(p),{marginInlineStart:0}),w(n,"&".concat(p,"-in-form-item"),{'input[type="checkbox"]':{width:14,height:14}}),n))),w(r,d,Object.assign(Object.assign({},Pa(e)),(t={position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center"},w(t,"".concat(d,"-input"),w({position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0},"&:focus-visible + ".concat(d,"-inner"),Object.assign({},Oa(e)))),w(t,"".concat(d,"-inner"),{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:"all ".concat(e.motionDurationSlow),"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:"".concat(e.lineWidthBold,"px solid ").concat(e.colorWhite),borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:"all ".concat(e.motionDurationFast," ").concat(e.motionEaseInBack,", opacity ").concat(e.motionDurationFast)}}),w(t,"& + span",{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}),t))),r),w({},d,{"&-indeterminate":w({},"".concat(d,"-inner"),{"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}})}),(a={},w(a,"".concat(p,":hover ").concat(d,":after"),{visibility:"visible"}),w(a,"\n        ".concat(p,":not(").concat(p,"-disabled),\n        ").concat(d,":not(").concat(d,"-disabled)\n      "),w({},"&:hover ".concat(d,"-inner"),{borderColor:e.colorPrimary})),w(a,"".concat(p,":not(").concat(p,"-disabled)"),(o={},w(o,"&:hover ".concat(d,"-checked:not(").concat(d,"-disabled) ").concat(d,"-inner"),{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}),w(o,"&:hover ".concat(d,"-checked:not(").concat(d,"-disabled):after"),{borderColor:e.colorPrimaryHover}),o)),a),(l={},w(l,"".concat(d,"-checked"),(i={},w(i,"".concat(d,"-inner"),{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseOutBack," ").concat(e.motionDurationFast)}}),w(i,"&:after",{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:e.borderRadiusSM,visibility:"hidden",border:"".concat(e.lineWidthBold,"px solid ").concat(e.colorPrimary),animationName:Mu,animationDuration:e.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:"all ".concat(e.motionDurationSlow)}),i)),w(l,"\n        ".concat(p,"-checked:not(").concat(p,"-disabled),\n        ").concat(d,"-checked:not(").concat(d,"-disabled)\n      "),(s={},w(s,"&:hover ".concat(d,"-inner"),{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}),w(s,"&:hover ".concat(d,":after"),{borderColor:e.colorPrimaryHover}),s)),l),(u={},w(u,"".concat(p,"-disabled"),{cursor:"not-allowed"}),w(u,"".concat(d,"-disabled"),(c={},w(c,"&, ".concat(d,"-input"),{cursor:"not-allowed",pointerEvents:"none"}),w(c,"".concat(d,"-inner"),{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}}),w(c,"&:after",{display:"none"}),w(c,"& + span",{color:e.colorTextDisabled}),w(c,"&".concat(d,"-indeterminate ").concat(d,"-inner::after"),{background:e.colorTextDisabled}),c)),u)]};function Fu(e,n){var t=ni(n,{checkboxCls:".".concat(e),checkboxSize:n.controlInteractiveSize});return[qu(t)]}oi("Checkbox",(function(e,n){return[Fu(n.prefixCls,e)]}));var Bu=function(e){var n;return w({},e.componentCls,(w(n={},"".concat(e.antCls,"-motion-collapse-legacy"),{overflow:"hidden","&-active":{transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}}),w(n,"".concat(e.antCls,"-motion-collapse"),{overflow:"hidden",transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}),n))},zu=new ha("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Uu=function(e,n){var t,r,o,a,i,s,l=n.treeCls,c=n.treeNodeCls,u=n.treeNodePadding,d=n.treeTitleHeight,p=n.paddingXS;return w({},l,Object.assign(Object.assign({},Pa(n)),(w(s={background:n.colorBgContainer,borderRadius:n.borderRadius,transition:"background-color ".concat(n.motionDurationSlow)},"&".concat(l,"-rtl"),w({},"".concat(l,"-switcher"),{"&_close":w({},"".concat(l,"-switcher-icon"),{svg:{transform:"rotate(90deg)"}})})),w(s,"&-focused:not(:hover):not(".concat(l,"-active-focused)"),Object.assign({},Oa(n))),w(s,"".concat(l,"-list-holder-inner"),{alignItems:"flex-start"}),w(s,"&".concat(l,"-block-node"),w({},"".concat(l,"-list-holder-inner"),(w(t={alignItems:"stretch"},"".concat(l,"-node-content-wrapper"),{flex:"auto"}),w(t,"".concat(c,".dragging"),{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:u,insetInlineStart:0,border:"1px solid ".concat(n.colorPrimary),opacity:0,animationName:zu,animationDuration:n.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}),t))),w(s,"".concat(c),(o={display:"flex",alignItems:"flex-start",padding:"0 0 ".concat(u,"px 0"),outline:"none","&-rtl":{direction:"rtl"},"&-disabled":w({},"".concat(l,"-node-content-wrapper"),{color:n.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}})},w(o,"&-active ".concat(l,"-node-content-wrapper"),Object.assign({},Oa(n))),w(o,"&:not(".concat(c,"-disabled).filter-node ").concat(l,"-title"),{color:"inherit",fontWeight:500}),w(o,"&-draggable",(w(r={},"".concat(l,"-draggable-icon"),w({flexShrink:0,width:d,lineHeight:"".concat(d,"px"),textAlign:"center",visibility:"visible",opacity:.2,transition:"opacity ".concat(n.motionDurationSlow)},"".concat(c,":hover &"),{opacity:.45})),w(r,"&".concat(c,"-disabled"),w({},"".concat(l,"-draggable-icon"),{visibility:"hidden"})),r)),o)),w(s,"".concat(l,"-indent"),{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:d}}),w(s,"".concat(l,"-draggable-icon"),{visibility:"hidden"}),w(s,"".concat(l,"-switcher"),Object.assign(Object.assign({},function(e,n){return w({},".".concat(e,"-switcher-icon"),{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:"transform ".concat(n.motionDurationSlow)}})}(e,n)),{position:"relative",flex:"none",alignSelf:"stretch",width:d,margin:0,lineHeight:"".concat(d,"px"),textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":w({},"".concat(l,"-switcher-icon"),{svg:{transform:"rotate(-90deg)"}}),"&-loading-icon":{color:n.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:d/2,bottom:-u,marginInlineStart:-1,borderInlineEnd:"1px solid ".concat(n.colorBorder),content:'""'},"&:after":{position:"absolute",width:d/2*.8,height:d/2,borderBottom:"1px solid ".concat(n.colorBorder),content:'""'}}})),w(s,"".concat(l,"-checkbox"),{top:"initial",marginInlineEnd:p}),w(s,"".concat(l,"-node-content-wrapper, ").concat(l,"-checkbox + span"),(w(a={position:"relative",zIndex:"auto",minHeight:d,margin:0,padding:"0 ".concat(n.paddingXS/2,"px"),color:"inherit",lineHeight:"".concat(d,"px"),background:"transparent",borderRadius:n.borderRadius,cursor:"pointer",transition:"all ".concat(n.motionDurationMid,", border 0s, line-height 0s, box-shadow 0s"),"&:hover":{backgroundColor:n.controlItemBgHover}},"&".concat(l,"-node-selected"),{backgroundColor:n.controlItemBgActive}),w(a,"".concat(l,"-iconEle"),{display:"inline-block",width:d,height:d,lineHeight:"".concat(d,"px"),textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}),a)),w(s,"".concat(l,"-unselectable ").concat(l,"-node-content-wrapper:hover"),{backgroundColor:"transparent"}),w(s,"".concat(l,"-node-content-wrapper"),Object.assign({lineHeight:"".concat(d,"px"),userSelect:"none"},function(e,n){return w({},".".concat(e,"-drop-indicator"),{position:"absolute",zIndex:1,height:2,backgroundColor:n.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:"".concat(n.lineWidthBold,"px solid ").concat(n.colorPrimary),borderRadius:"50%",content:'""'}})}(e,n))),w(s,"".concat(c,".drop-container"),{"> [draggable]":{boxShadow:"0 0 0 2px ".concat(n.colorPrimary)}}),w(s,"&-show-line",(w(i={},"".concat(l,"-indent"),{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:d/2,bottom:-u,borderInlineEnd:"1px solid ".concat(n.colorBorder),content:'""'},"&-end":{"&:before":{display:"none"}}}}),w(i,"".concat(l,"-switcher"),{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}),i)),w(s,"".concat(c,"-leaf-last"),w({},"".concat(l,"-switcher"),{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:"".concat(d/2,"px !important")}}})),s)))},Hu=function(e){var n,t,r=e.treeCls,o=e.treeNodeCls,a=e.treeNodePadding;return w({},"".concat(r).concat(r,"-directory"),w({},o,(w(t={position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,transition:"background-color ".concat(e.motionDurationMid),content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1}},"".concat(r,"-switcher"),{transition:"color ".concat(e.motionDurationMid)}),w(t,"".concat(r,"-node-content-wrapper"),w({borderRadius:0,userSelect:"none","&:hover":{background:"transparent"}},"&".concat(r,"-node-selected"),{color:e.colorTextLightSolid,background:"transparent"})),w(t,"&-selected",(w(n={},"\n            &:hover::before,\n            &::before\n          ",{background:e.colorPrimary}),w(n,"".concat(r,"-switcher"),{color:e.colorTextLightSolid}),w(n,"".concat(r,"-node-content-wrapper"),{color:e.colorTextLightSolid,background:"transparent"}),n)),t)))},Vu=function(e,n){var t=".".concat(e),r=ni(n,{treeCls:t,treeNodeCls:"".concat(t,"-treenode"),treeNodePadding:n.paddingXS/2,treeTitleHeight:n.controlHeightSM});return[Uu(e,r),Hu(r)]},Gu=oi("Tree",(function(e,n){var t=n.prefixCls;return[w({},e.componentCls,Fu("".concat(t,"-checkbox"),e)),Vu(t,e),Bu(e)]}));function Wu(n){var t,r=n.dropPosition,o=n.dropLevelOffset,a=n.prefixCls,i=n.indent,s=n.direction,l=void 0===s?"ltr":s,c="ltr"===l?"left":"right",u="ltr"===l?"right":"left",d=(w(t={},c,-o*i+4),w(t,u,0),t);switch(r){case-1:d.top=-3;break;case 1:d.bottom=-3;break;default:d.bottom=-3,d[c]=i+4}return e.createElement("div",{style:d,className:"".concat(a,"-drop-indicator")})}var $u={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},Ku=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:$u}))};var Qu=e.forwardRef(Ku),Ju={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Xu=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:Ju}))};var Zu=e.forwardRef(Xu),Yu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},ed=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:Yu}))};var nd=e.forwardRef(ed),td=function(n){var t,r=n.prefixCls,o=n.switcherIcon,a=n.treeNodeProps,i=n.showLine,s=a.isLeaf,l=a.expanded;if(a.loading)return e.createElement(Hs,{className:"".concat(r,"-switcher-loading-icon")});if(i&&"object"===typeof i&&(t=i.showLeafIcon),s){if(!i)return null;if("boolean"!==typeof t&&t){var c="function"===typeof t?t(a):t,u="".concat(r,"-switcher-line-custom-icon");return Br(c)?zr(c,{className:st()(c.props.className||"",u)}):c}return t?e.createElement(Pl,{className:"".concat(r,"-switcher-line-icon")}):e.createElement("span",{className:"".concat(r,"-switcher-leaf-line")})}var d="".concat(r,"-switcher-icon"),p="function"===typeof o?o(a):o;return Br(p)?zr(p,{className:st()(p.props.className||"",d)}):void 0!==p?p:i?l?e.createElement(Zu,{className:"".concat(r,"-switcher-line-icon")}):e.createElement(nd,{className:"".concat(r,"-switcher-line-icon")}):e.createElement(Qu,{className:d})},rd=e.forwardRef((function(n,t){var r,o=e.useContext(Fr),a=o.getPrefixCls,i=o.direction,l=o.virtual,c=o.tree,u=n.prefixCls,d=n.className,p=n.showIcon,f=void 0!==p&&p,h=n.showLine,m=n.switcherIcon,g=n.blockNode,b=void 0!==g&&g,v=n.children,y=n.checkable,x=void 0!==y&&y,k=n.selectable,S=void 0===k||k,E=n.draggable,C=n.motion,_=n.style,j=a("tree",u),A=a(),N=null!==C&&void 0!==C?C:Object.assign(Object.assign({},Ru(A)),{motionAppear:!1}),P=Object.assign(Object.assign({},n),{checkable:x,selectable:S,showIcon:f,motion:N,blockNode:b,showLine:Boolean(h),dropIndicatorRender:Wu}),T=s(Gu(j),2),I=T[0],O=T[1],L=e.useMemo((function(){if(!E)return!1;var n={};switch(typeof E){case"function":n.nodeDraggable=E;break;case"object":n=Object.assign({},E)}return!1!==n.icon&&(n.icon=n.icon||e.createElement(mc,null)),n}),[E]);return I(e.createElement(Tu,Object.assign({itemHeight:20,ref:t,virtual:l},P,{style:Object.assign(Object.assign({},null===c||void 0===c?void 0:c.style),_),prefixCls:j,className:st()((r={},w(r,"".concat(j,"-icon-hide"),!f),w(r,"".concat(j,"-block-node"),b),w(r,"".concat(j,"-unselectable"),!S),w(r,"".concat(j,"-rtl"),"rtl"===i),r),null===c||void 0===c?void 0:c.className,d,O),direction:i,checkable:x?e.createElement("span",{className:"".concat(j,"-checkbox-inner")}):x,selectable:S,switcherIcon:function(n){return e.createElement(td,{prefixCls:j,switcherIcon:m,treeNodeProps:n,showLine:h})},draggable:L}),v))}));var od,ad=rd;function id(e,n){e.forEach((function(e){var t=e.key,r=e.children;!1!==n(t,e)&&id(r||[],n)}))}function sd(e){var n=e.treeData,t=e.expandedKeys,r=e.startKey,o=e.endKey,a=[],i=od.None;if(r&&r===o)return[r];if(!r||!o)return[];return id(n,(function(e){if(i===od.End)return!1;if(function(e){return e===r||e===o}(e)){if(a.push(e),i===od.None)i=od.Start;else if(i===od.Start)return i=od.End,!1}else i===od.Start&&a.push(e);return t.includes(e)})),a}function ld(e,n){var t=(0,N.Z)(n),r=[];return id(e,(function(e,n){var o=t.indexOf(e);return-1!==o&&(r.push(n),t.splice(o,1)),!!t.length})),r}!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"}(od||(od={}));var cd=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};function ud(n){var t=n.isLeaf,r=n.expanded;return t?e.createElement(Pl,null):r?e.createElement(Ol,null):e.createElement(Rl,null)}function dd(e){var n=e.treeData,t=e.children;return n||$l(t)}var pd=function(n,t){var r=n.defaultExpandAll,o=n.defaultExpandParent,a=n.defaultExpandedKeys,i=cd(n,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),l=e.useRef(),c=e.useRef(),u=s(e.useState(i.selectedKeys||i.defaultSelectedKeys||[]),2),d=u[0],p=u[1],f=s(e.useState((function(){return function(){var e=Ql(dd(i)).keyEntities;return r?Object.keys(e):o?pc(i.expandedKeys||a||[],e):i.expandedKeys||a}()})),2),h=f[0],m=f[1];e.useEffect((function(){"selectedKeys"in i&&p(i.selectedKeys)}),[i.selectedKeys]),e.useEffect((function(){"expandedKeys"in i&&m(i.expandedKeys)}),[i.expandedKeys]);var g=e.useContext(Fr),b=g.getPrefixCls,v=g.direction,y=i.prefixCls,x=i.className,k=i.showIcon,S=void 0===k||k,E=i.expandAction,C=void 0===E?"click":E,_=cd(i,["prefixCls","className","showIcon","expandAction"]),j=b("tree",y),A=st()("".concat(j,"-directory"),w({},"".concat(j,"-directory-rtl"),"rtl"===v),x);return e.createElement(ad,Object.assign({icon:ud,ref:t,blockNode:!0},_,{showIcon:S,expandAction:C,prefixCls:j,className:A,expandedKeys:h,selectedKeys:d,onSelect:function(e,n){var t,r,o=i.multiple,a=n.node,s=n.nativeEvent,u=a.key,d=void 0===u?"":u,f=dd(i),m=Object.assign(Object.assign({},n),{selected:!0}),g=(null===s||void 0===s?void 0:s.ctrlKey)||(null===s||void 0===s?void 0:s.metaKey),b=null===s||void 0===s?void 0:s.shiftKey;o&&g?(r=e,l.current=d,c.current=r,m.selectedNodes=ld(f,r)):o&&b?(r=Array.from(new Set([].concat((0,N.Z)(c.current||[]),(0,N.Z)(sd({treeData:f,expandedKeys:h,startKey:d,endKey:l.current}))))),m.selectedNodes=ld(f,r)):(r=[d],l.current=d,c.current=r,m.selectedNodes=ld(f,r)),null===(t=i.onSelect)||void 0===t||t.call(i,r,m),"selectedKeys"in i||p(r)},onExpand:function(e,n){var t;return"expandedKeys"in i||m(e),null===(t=i.onExpand)||void 0===t?void 0:t.call(i,e,n)}}))};var fd=e.forwardRef(pd),hd=function(n){var t,r,o=n.clickNode,a=function(){var n=e.useContext(yn).matches,t=n[n.length-1];return t?t.params:{}}(),i=null===(t=a["*"])||void 0===t?void 0:t.split("/")[0],l=(null===(r=tt.find((function(e){return e.title===i})))||void 0===r?void 0:r.children)||[],c=function(e){var n=null,t=[];return function r(o){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=0;i<o.length;i++){var s=o[i].key;if(s===e){n=o[i],t=a;break}r(o[i].children||[],[].concat((0,N.Z)(a),[s]))}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[]),{node:n,path:t}}("/"+a["*"],l),u=s((0,e.useState)(l),2),d=u[0],p=u[1],f=s((0,e.useState)(c.path),1)[0],h=s((0,e.useState)(c.node?[c.node.key]:[]),1)[0],m=s((0,e.useState)(""),2),g=m[0],b=m[1];(0,e.useEffect)((function(){c.node&&o(c.node.content)}),[]);return(0,Ir.jsxs)("div",{className:"subject-menu",children:[(0,Ir.jsx)(fd,{className:"draggable-tree my-tree",defaultExpandedKeys:f,defaultSelectedKeys:h,draggable:!0,blockNode:!0,onDragEnter:function(e){console.log(e)},onDrop:function(e){var n=e.node.key,t=e.dragNode.key,r=e.node.pos.split("-"),o=e.dropPosition-Number(r[r.length-1]);if(e.dropToGap||e.node.children){var a,i=function e(n,t,r){for(var o=0;o<n.length;o++){if(n[o].key===t)return r(n[o],o,n);n[o].children&&e(n[o].children,t,r)}},s=(0,N.Z)(d);if(i(s,t,(function(e,n,t){t.splice(n,1),a=e})),e.dropToGap)if((e.node.props.children||[]).length>0&&e.node.props.expanded&&1===o)i(s,n,(function(e){e.children=e.children||[],e.children.unshift(a)}));else{var l,c=[];i(s,n,(function(e,n,t){c=t,l=n})),-1===o?c.splice(l,0,a):c.splice(l+1,0,a)}else i(s,n,(function(e){e.children=e.children||[],e.children.unshift(a)}));p(s)}},treeData:d,titleRender:function(e){return e.key===g?(0,Ir.jsxs)("div",{className:"title-box",onClick:function(n){n.stopPropagation(),"content"in e&&"string"===typeof e.content&&o(e.content)},children:[(0,Ir.jsx)("div",{contentEditable:!0,className:"title-box-editor",id:"edit-box-"+e.key,children:e.title}),(0,Ir.jsx)("span",{className:"btn",style:{display:"inline-block",marginLeft:10},onClick:function(){var n,t,r=document.getElementById("edit-box-".concat(e.key));n=e.key,t=r.innerText,p((function(e){var r=function(e){var n=null;return function t(r){for(var o=0;o<r.length;o++){if(r[o].key===e){n=r[o];break}t(r[o].children||[])}}(d),n}(n);return r.title=t,e})),b("")},children:"\u786e\u5b9a"})]}):(0,Ir.jsxs)(Yn,{to:"/subject"+e.route,"data-key":e.route,className:"title-box",onClick:function(n){"content"in e&&"string"===typeof e.content&&o(e.content)},children:[(0,Ir.jsx)("span",{children:e.title}),(0,Ir.jsx)(jl,{className:"btn",onClick:function(){b(e.key),setTimeout((function(){var n=document.getElementById("edit-box-".concat(e.key));null===n||void 0===n||n.focus()}))}})]})}}),(0,Ir.jsx)("div",{className:"add-btn",children:(0,Ir.jsx)(El,{block:!0,type:"primary",onClick:function(){console.log(d);var e=(0,N.Z)(d);e.push({title:"NodeJS-"+e.length,key:"NodeJS-"+e.length,children:[]}),p(e)},children:"\u6dfb\u52a0\u8282\u70b9"})})]})};function md(e,n,t){var r=(t||{}).atBegin;return function(e,n,t){var r,o=t||{},a=o.noTrailing,i=void 0!==a&&a,s=o.noLeading,l=void 0!==s&&s,c=o.debounceMode,u=void 0===c?void 0:c,d=!1,p=0;function f(){r&&clearTimeout(r)}function h(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];var s=this,c=Date.now()-p;function h(){p=Date.now(),n.apply(s,o)}function m(){r=void 0}d||(l||!u||r||h(),f(),void 0===u&&c>e?l?(p=Date.now(),i||(r=setTimeout(u?m:h,e))):h():!0!==i&&(r=setTimeout(u?m:h,void 0===u?e-c:e)))}return h.cancel=function(e){var n=(e||{}).upcomingOnly,t=void 0!==n&&n;f(),d=!t},h}(e,n,{debounceMode:!1!==(void 0!==r&&r)})}var gd=new ha("antSpinMove",{to:{opacity:1}}),bd=new ha("antRotate",{to:{transform:"rotate(405deg)"}}),vd=function(e){var n,t,r,o,a;return w({},"".concat(e.componentCls),Object.assign(Object.assign({},Pa(e)),(a={position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:"transform ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOutCirc),"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":(o={position:"relative"},w(o,"> div > ".concat(e.componentCls),(r={position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight},w(r,"".concat(e.componentCls,"-dot"),{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-e.spinDotSize/2}),w(r,"".concat(e.componentCls,"-text"),{position:"absolute",top:"50%",width:"100%",paddingTop:(e.spinDotSize-e.fontSize)/2+2,textShadow:"0 1px 2px ".concat(e.colorBgContainer),fontSize:e.fontSize}),w(r,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-dot"),{marginTop:-e.spinDotSize/2-10}),w(r,"&-sm",(n={},w(n,"".concat(e.componentCls,"-dot"),{margin:-e.spinDotSizeSM/2}),w(n,"".concat(e.componentCls,"-text"),{paddingTop:(e.spinDotSizeSM-e.fontSize)/2+2}),w(n,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-dot"),{marginTop:-e.spinDotSizeSM/2-10}),n)),w(r,"&-lg",(t={},w(t,"".concat(e.componentCls,"-dot"),{margin:-e.spinDotSizeLG/2}),w(t,"".concat(e.componentCls,"-text"),{paddingTop:(e.spinDotSizeLG-e.fontSize)/2+2}),w(t,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-dot"),{marginTop:-e.spinDotSizeLG/2-10}),t)),r)),w(o,"".concat(e.componentCls,"-container"),{position:"relative",transition:"opacity ".concat(e.motionDurationSlow),"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:"all ".concat(e.motionDurationSlow),content:'""',pointerEvents:"none"}}),w(o,"".concat(e.componentCls,"-blur"),w({clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none"},"&::after",{opacity:.4,pointerEvents:"auto"})),o)},w(a,"&-tip",{color:e.spinDotDefault}),w(a,"".concat(e.componentCls,"-dot"),{position:"relative",display:"inline-block",fontSize:e.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(e.spinDotSize-e.marginXXS/2)/2,height:(e.spinDotSize-e.marginXXS/2)/2,backgroundColor:e.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:gd,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:bd,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}}),w(a,"&-sm ".concat(e.componentCls,"-dot"),{fontSize:e.spinDotSizeSM,i:{width:(e.spinDotSizeSM-e.marginXXS/2)/2,height:(e.spinDotSizeSM-e.marginXXS/2)/2}}),w(a,"&-lg ".concat(e.componentCls,"-dot"),{fontSize:e.spinDotSizeLG,i:{width:(e.spinDotSizeLG-e.marginXXS)/2,height:(e.spinDotSizeLG-e.marginXXS)/2}}),w(a,"&".concat(e.componentCls,"-show-text ").concat(e.componentCls,"-text"),{display:"block"}),a)))},yd=oi("Spin",(function(e){var n=ni(e,{spinDotDefault:e.colorTextDescription,spinDotSize:e.controlHeightLG/2,spinDotSizeSM:.35*e.controlHeightLG,spinDotSizeLG:e.controlHeight});return[vd(n)]}),{contentHeight:400}),xd=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},kd=null;var wd=function(n){var t,r=n.spinPrefixCls,o=n.spinning,a=void 0===o||o,i=n.delay,l=void 0===i?0:i,c=n.className,u=n.rootClassName,d=n.size,p=void 0===d?"default":d,f=n.tip,h=n.wrapperClassName,m=n.style,g=n.children,b=n.hashId,v=xd(n,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),y=e.useState((function(){return a&&!function(e,n){return!!e&&!!n&&!isNaN(Number(n))}(a,l)})),x=s(y,2),k=x[0],S=x[1];e.useEffect((function(){if(a){var e=md(l,(function(){S(!0)}));return e(),function(){var n;null===(n=null===e||void 0===e?void 0:e.cancel)||void 0===n||n.call(e)}}S(!1)}),[l,a]);var E=e.useMemo((function(){return"undefined"!==typeof g}),[g]);var C=e.useContext(Fr),_=C.direction,j=C.spin,A=st()(r,null===j||void 0===j?void 0:j.className,(w(t={},"".concat(r,"-sm"),"small"===p),w(t,"".concat(r,"-lg"),"large"===p),w(t,"".concat(r,"-spinning"),k),w(t,"".concat(r,"-show-text"),!!f),w(t,"".concat(r,"-rtl"),"rtl"===_),t),c,u,b),N=st()("".concat(r,"-container"),w({},"".concat(r,"-blur"),k)),P=Lr(v,["indicator","prefixCls"]),T=Object.assign(Object.assign({},null===j||void 0===j?void 0:j.style),m),I=e.createElement("div",Object.assign({},P,{style:T,className:A,"aria-live":"polite","aria-busy":k}),function(n,t){var r=t.indicator,o="".concat(n,"-dot");return null===r?null:Br(r)?zr(r,{className:st()(r.props.className,o)}):Br(kd)?zr(kd,{className:st()(kd.props.className,o)}):e.createElement("span",{className:st()(o,"".concat(n,"-dot-spin"))},e.createElement("i",{className:"".concat(n,"-dot-item"),key:1}),e.createElement("i",{className:"".concat(n,"-dot-item"),key:2}),e.createElement("i",{className:"".concat(n,"-dot-item"),key:3}),e.createElement("i",{className:"".concat(n,"-dot-item"),key:4}))}(r,n),f&&E?e.createElement("div",{className:"".concat(r,"-text")},f):null);return E?e.createElement("div",Object.assign({},P,{className:st()("".concat(r,"-nested-loading"),h,b)}),k&&e.createElement("div",{key:"loading"},I),e.createElement("div",{className:N,key:"container"},g)):I},Sd=function(n){var t=n.prefixCls,r=(0,e.useContext(Fr).getPrefixCls)("spin",t),o=s(yd(r),2),a=o[0],i=o[1],l=Object.assign(Object.assign({},n),{spinPrefixCls:r,hashId:i});return a(e.createElement(wd,Object.assign({},l)))};Sd.setDefaultIndicator=function(e){kd=e};var Ed=Sd,Cd=t(3534),_d=(t(9107).Z,t(9483).Z,t(4119));function jd(n){var t=n.content,r=s((0,e.useState)(""),2),o=r[0],a=r[1],i=s((0,e.useState)(!1),2),l=i[0],c=i[1],u=function(e){return c(!0),window.shiki.getHighlighter({theme:"github-light"}).then((function(n){var t=Cd({html:!0,highlight:function(e,t){return n.codeToHtml(e,{lang:t})}}).use(_d,(function(e){console.log(222,e)})).render(e);a(t),c(!1)}))};return(0,e.useEffect)((function(){u(t||"")}),[t]),(0,e.useEffect)((function(){o&&window.initToc()}),[o]),l?(0,Ir.jsx)("div",{className:"loading",children:(0,Ir.jsx)(Ed,{size:"large"})}):(0,Ir.jsx)("div",{dangerouslySetInnerHTML:{__html:o}})}function Ad(){var n=s((0,e.useState)(""),2),t=n[0],r=n[1];return(0,Ir.jsx)("div",{className:"page-subject-detail",children:(0,Ir.jsxs)("div",{className:"content",children:[(0,Ir.jsx)("div",{className:"left",children:(0,Ir.jsx)(hd,{clickNode:function(e){r(e)}})}),(0,Ir.jsx)("div",{className:"article",id:"article-content",children:(0,Ir.jsx)(jd,{content:t})}),(0,Ir.jsx)("div",{className:"right",children:(0,Ir.jsx)("div",{id:"article-toc"})})]})})}var Nd=JSON.parse('[{"key":"/achieve","path":"/achieve","route":"/achieve","leaf":false,"title":"achieve","depth":0,"content":"","isLeaf":false,"children":[{"key":"/achieve/h5-vue-template.md","path":"/achieve/h5-vue-template.md","route":"/achieve/h5-vue-template.md","leaf":true,"title":"h5-vue-template","depth":1,"content":"## 1\\n- https://sunniejs.github.io/vue-h5-template/guide/\\n\\n![20230630104041](http://s3.airtlab.com/blog/20230630104041.png)\\n\\n## 2\\n\\n- https://github.com/yulimchen/vue3-h5-template\\n\\n![20230630104710](http://s3.airtlab.com/blog/20230630104710.png)","isLeaf":true},{"key":"/achieve/nestjs-template.md","path":"/achieve/nestjs-template.md","route":"/achieve/nestjs-template.md","leaf":true,"title":"nestjs-template","depth":1,"content":"\u4e00\u4e2a C \u7aef API \u5feb\u901f\u5f00\u53d1\u6a21\u677f\uff0c\u6e90\u4ee3\u7801\u89c1 https://github.com/fiiai/nestjs-template\\n\\n## 1. \u9879\u76ee\u4ecb\u7ecd\\n\\n\u4f7f\u7528 NestJS \u8fdb\u884c API \u901a\u7528\u4e1a\u52a1\u6846\u67b6\u6700\u4f73\u5b9e\u8df5\u65b9\u6848\uff0c\u7b14\u8005\u4f1a\u5b9a\u671f\u7684\u66f4\u65b0\uff0c\u6b22\u8fce\u6307\u6b63\u3002API \u6587\u6863 \ud83d\udc49 https://www.apifox.cn/web/project/2299100\\n\u5305\u542b\u5982\u4e0b\u7279\u6027\uff1a\\n\\n- \u3010\u89c4\u8303\u3011\u5de5\u7a0b\u76ee\u5f55\\n- \u3010\u89c4\u8303\u3011\u4ee3\u7801\u98ce\u683c\\n- \u3010\u76d1\u63a7\u3011\u5f02\u5e38\u76d1\u63a7\\n- \u3010\u7279\u6027\u3011\u65e5\u5fd7\u6253\u5370\\n- \u3010\u7279\u6027\u3011\u914d\u7f6e\u7ba1\u7406\\n- \u3010\u7279\u6027\u3011\u552f\u4e00 ID\\n- \u3010\u7279\u6027\u3011socket.io \u96c6\u6210\\n- \u3010\u7279\u6027\u3011redis \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011mysql \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011mongoose \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011mailer \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011rabbitmq \u5c01\u88c5\\n- \u3010\u7279\u6027\u3011qiniu \u96c6\u6210\\n- \u3010\u7279\u6027\u3011API \u6587\u6863\u65b9\u6848\\n- \u3010\u7279\u6027\u3011\u4ee3\u7801\u6587\u6863\u65b9\u6848\\n\\n## 2. \u5185\u7f6e\u6a21\u5757\\n\\n- [x] \u8d26\u6237\u6a21\u5757\\n- [x] \u56fe\u6587\u5217\u8868\\n- [x] \u8bc4\u8bba\u6a21\u5757\\n- [x] \u4e0a\u4f20\u6a21\u5757\\n- [x] \u6570\u636e\u91c7\u96c6\\n- [x] \u5730\u5740\u7ba1\u7406\\n- [x] \u94b1\u5305\u529f\u80fd\\n- [x] \u6388\u6743\u767b\u5f55\\n  - [x] \u5fae\u4fe1\u767b\u5f55\\n- [x] \u652f\u4ed8\u80fd\u529b\\n  - [x] \u652f\u4ed8\u5b9d\u652f\u4ed8\\n  - [x] \u5fae\u4fe1\u652f\u4ed8\\n- [x] \u6743\u9650\u7ba1\u7406\\n- [x] \u77ed\u4fe1\u63a8\u9001\\n- [ ] \u7ad9\u5185\u6d88\u606f\\n\\n\\n## 3. \u6280\u672f\u9009\u578b\\n\\n| \u540d\u79f0     | \u65b9\u6848                                                        |\\n| -------- | ----------------------------------------------------------- |\\n| \u6846\u67b6     | [nestjs](https://nestjs.com/)                               |\\n| \u65f6\u95f4\u5904\u7406 | [dayjs](https://day.js.org/docs/en/installation/typescript) |\\n| \u957f\u8fde\u63a5   | [socket.io](https://socket.io/) & nestjs platform           |\\n| \u65e5\u5fd7     | [pino](https://github.com/pinojs/pino)                      |\\n| \u5927\u6570\u5904\u7406 | [bignumber.js](https://mikemcl.github.io/bignumber.js/)     |\\n\\n## 4. \u6280\u672f\u65b9\u6848\\n\\n### 4.0 \u8bf7\u6c42\u751f\u547d\u5468\u671f\\n\\n![20230301191226](http://s3.airtlab.com/blog/20230301191226.png)\\n\\n### 4.1 \u5de5\u7a0b\u76ee\u5f55\\n\\n```text\\n\u251c\u2500\u2500 config\\n\u2502\xa0\xa0 \u251c\u2500\u2500 dev.config.yaml\\n\u2502\xa0\xa0 \u251c\u2500\u2500 live.config.yaml\\n\u2502\xa0\xa0 \u2514\u2500\u2500 local.config.yaml\\n\u251c\u2500\u2500 libs\\n\u2502\xa0\xa0 \u251c\u2500\u2500 common\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 filters\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 guard\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 interceptor\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 middleware\\n\u2502\xa0\xa0 \u251c\u2500\u2500 config\\n\u2502\xa0\xa0 \u251c\u2500\u2500 constant\\n\u2502\xa0\xa0 \u251c\u2500\u2500 logger\\n\u2502\xa0\xa0 \u251c\u2500\u2500 mailer\\n\u2502\xa0\xa0 \u251c\u2500\u2500 mongo\\n\u2502\xa0\xa0 \u251c\u2500\u2500 redis\\n\u2502\xa0\xa0 \u251c\u2500\u2500 request\\n\u2502\xa0\xa0 \u251c\u2500\u2500 s3\\n\u2502\xa0\xa0 \u2514\u2500\u2500 utils\\n\u251c\u2500\u2500 src\\n\u2502\xa0\xa0 \u251c\u2500\u2500 app.module.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 domain-admin\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 admin.module.ts\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 common\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 module\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 shared\\n\u2502\xa0\xa0 \u251c\u2500\u2500 domain-app\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 app.module.ts\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 common\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 module\\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 shared\\n\u2502\xa0\xa0 \u251c\u2500\u2500 exception.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 global.d.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 main.ts\\n\u2502\xa0\xa0 \u251c\u2500\u2500 modules\\n\u2502\xa0\xa0     \u251c\u2500\u2500 common\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 db\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 entity\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 filters\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 middleware\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 pipes\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 prom\\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u2514\u2500\u2500 validate\\n\u2502\xa0\xa0     \u251c\u2500\u2500 enums\\n\u2502\xa0\xa0     \u251c\u2500\u2500 feature\\n\u2502\xa0\xa0     \u251c\u2500\u2500 mock\\n\u2502\xa0\xa0     \u251c\u2500\u2500 types\\n\u2502\xa0\xa0     \u251c\u2500\u2500 utils\\n\u2502\xa0\xa0     \u2514\u2500\u2500 vos\\n\u251c\u2500\u2500 tsconfig.build.json\\n\u251c\u2500\u2500 tsconfig.json\\n\u2514\u2500\u2500 yarn.lock\\n```\\n\\n### 4.2 \u4ee3\u7801\u98ce\u683c\\n\\n[Angular \u4ee3\u7801\u98ce\u683c\u6307\u5357](https://angular.io/guide/styleguide)\\n\\n### 4.3 \u5f02\u5e38\u76d1\u63a7\\n\\n\u6570\u636e\u91c7\u96c6 & \u5c55\u793a\u91c7\u7528 Prom + Grafana\uff0c\u76d1\u63a7\u6307\u6807\u8bbe\u8ba1 TODO\u3002\\n\\n### 4.4 \u65e5\u5fd7\u6253\u5370\\n\\n[winston](https://github.com/winstonjs/winston)\\n\\n\\n### 4.5 \u9879\u76ee\u6587\u6863\\n```shell\\nnpx @compodoc/compodoc -p tsconfig.json -s\\n```","isLeaf":true},{"key":"/achieve/react-native-template.md","path":"/achieve/react-native-template.md","route":"/achieve/react-native-template.md","leaf":true,"title":"react-native-template","depth":1,"content":"## 1. \u9879\u76ee\u4ecb\u7ecd\\nreact native \u5feb\u901f\u5f00\u53d1\u6a21\u677f\uff0c\u5e0c\u671b\u6709\u65f6\u95f4\u7684\u670b\u53cb\u4e00\u8d77\u6765\u5b8c\u5584\uff0c\u52a0\u5fae\u4fe1\u8fdb\u7fa4\uff1agaoxiong957\\n\\n## 2. \u6280\u672f\u9009\u578b\\n\\n### 2.1 \u6280\u672f\u9009\u578b\\n\\n| \u540d\u79f0     | \u65b9\u6848                                                                                                                    |\\n| -------- | ----------------------------------------------------------------------------------------------------------------------- |\\n| \u8def\u7531\u5e93   | [react navigation](https://reactnavigation.org)                                                                         |\\n| \u72b6\u6001\u7ba1\u7406 | mobx + context                                                                                                          |\\n| SVG \u56fe\u6807 | react-native-svg \u642d\u914d react-native-iconfont-cli                                                                         |\\n| \u672c\u5730\u5b58\u50a8 | @react-native-async-storage/async-storage                                                                               |\\n| \u65f6\u95f4\u5904\u7406 | [dayjs](https://day.js.org/docs/en/installation/typescript)                                                             |\\n| UI \u5e93    | [native-base](https://docs.nativebase.io/)                                                                              |\\n| \u552f\u4e00 ID  | uuid & react-native-get-random-values                                                                                   |\\n| \u6d88\u606f\u63a8\u9001 | [react-native-push-notification](https://github.com/zo0r/react-native-push-notification#readme)                         |\\n| \u65e5\u5fd7\u5de5\u5177 | [react-native-logs](https://github.com/onubo/react-native-logs)                                                         |\\n| \u52a8\u753b     | [lottie-react-native](https://github.com/lottie-react-native/lottie-react-native) [lottie](https://airbnb.io/lottie/#/) |\\n| \u6587\u4ef6\u7ba1\u7406 | [react-native-fs](https://github.com/itinance/react-native-fs) |\\n| \u626b\u4e8c\u7ef4\u7801 | [react-native-camera](https://react-native-camera.github.io/react-native-camera/) |\\n| \u9634\u5f71\u6548\u679c | [react-native-drop-shadow](https://www.npmjs.com/package/react-native-drop-shadow) |\\n| Table | [react-native-table-component](https://github.com/wiiai/react-native-table-component) |\\n| network-logger | [react-native-network-logger](https://www.npmjs.com/package/react-native-network-logger) |\\n| \u5206\u5305\u62c6\u5305 | TODO                                                                                                                    |\\n\\n### 2.2 \u5185\u90e8\u67b6\u6784\\n\\n```\\nsrc\\n\u251c\u2500\u2500 App.tsx\\n\u251c\u2500\u2500 assets\\n\u2502   \u251c\u2500\u2500 iconfont \u56fe\u6807\\n\u2502   \u2514\u2500\u2500 img \u56fe\u7247\\n\u251c\u2500\u2500 baseUI \u901a\u7528UI\\n\u251c\u2500\u2500 config \u914d\u7f6e\\n\u2502   \u251c\u2500\u2500 index.ts \u5e38\u91cf\u914d\u7f6e\\n\u2502   \u251c\u2500\u2500 theme.ts \u4e3b\u9898\u914d\u7f6e\\n\u2502   \u2514\u2500\u2500 request.ts http \u8bf7\u6c42\u914d\u7f6e\\n\u251c\u2500\u2500 global.d.ts \u5168\u5c40\u7c7b\u578b\u5b9a\u4e49\\n\u251c\u2500\u2500 models \u72b6\u6001\u7ba1\u7406\u76ee\u5f55\\n\u2502   \u251c\u2500\u2500 account.ts\\n\u2502   \u2514\u2500\u2500 index.ts\\n\u251c\u2500\u2500 navigator navigation \u914d\u7f6e\\n\u2502   \u251c\u2500\u2500 MainTab.tsx\\n\u2502   \u251c\u2500\u2500 MainTabBar.tsx\\n\u2502   \u2514\u2500\u2500 index.tsx\\n\u251c\u2500\u2500 pages \u9875\u9762\\n\u2502   \u251c\u2500\u2500 contact\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 detail\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 h5\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 home\\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx\\n\u2502   \u251c\u2500\u2500 login\\n\u2502   \u2502   \u251c\u2500\u2500 index.tsx\\n\u2502   \u2502   \u2514\u2500\u2500 style.ts\\n\u2502   \u2514\u2500\u2500 me\\n\u2502       \u2514\u2500\u2500 index.tsx\\n\u251c\u2500\u2500 services \u63a5\u53e3\\n\u2502   \u2514\u2500\u2500 account.ts\\n\u251c\u2500\u2500 types \u7c7b\u578b\u76ee\u5f55\\n\u2502   \u251c\u2500\u2500 ResData.ts\\n\u2502   \u2514\u2500\u2500 UserInfo.ts\\n\u251c\u2500\u2500 utils \u5de5\u5177\u51fd\u6570\\n\u2502   \u251c\u2500\u2500 auth.ts \u767b\u5f55\u76f8\u5173\\n\u2502   \u251c\u2500\u2500 screen.ts \u9875\u9762\u76f8\u5173\\n\u2502   \u251c\u2500\u2500 storage.ts \u672c\u5730\u5b58\u50a8\\n\u2514\u2500\u2500 wrappers\\n```\\n\\n### 2.3 \u542f\u52a8\u6d41\u7a0b\\n\\n```tsx\\nimport * as React from \'react\';\\nimport {rootStore, StoreContext} from \'./models\';\\nimport Navigator from \'./navigator\';\\nimport {NativeBaseProvider} from \'native-base\';\\nimport {loadCacheUInfo} from \'./utils/auth\';\\nimport {View, Text} from \'react-native\';\\n\\nexport default function App() {\\n  const [isLoaded, setIsLoaded] = React.useState(false);\\n\\n  React.useEffect(() => {\\n    beforeBootstrap().then(() => {\\n      setIsLoaded(true);\\n    });\\n  }, []);\\n\\n  // \u5728\u5e94\u7528\u4e3b\u6846\u67b6\u542f\u52a8\u4e4b\u524d\u8981\u5e72\u7684\u4e8b\u60c5\\n  // \u53ef\u4ee5\u5728\u8fd9\u91cc\u914d\u7f6e\u4f60\u60f3\u5e72\u7684\u4e8b\u60c5\\n  const beforeBootstrap = async () => {\\n    // \u4ece storage \u4e2d\u53d6\u51fa\u6570\u636e, \u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\\n    return await loadCacheUInfo();\\n  };\\n\\n  if (!isLoaded) {\\n    return (\\n      <View style={{flex: 1, justifyContent: \'center\', alignItems: \'center\'}}>\\n        <Text>\u52a0\u8f7d\u4e2d...</Text>\\n      </View>\\n    );\\n  }\\n\\n  return (\\n    <StoreContext.Provider value={rootStore}>\\n      <NativeBaseProvider>\\n        <Navigator />\\n      </NativeBaseProvider>\\n    </StoreContext.Provider>\\n  );\\n}\\n```\\n\\n### 2.4 \u90e8\u7f72\u6d41\u7a0b\\n\\n**Android**\\n```shell\\n# \u6784\u5efa\u751f\u4ea7\u5305\\ncd android && ./gradlew assembleRelease\\n```\\n\\n**IOS**\\n\\n## 3. \u6280\u672f\u65b9\u6848\\n\\n### 3.1 \u72b6\u6001\u7ba1\u7406\\n\\nmobx + context\\n\\n### 3.2 SVG \u56fe\u6807\u5904\u7406\\n\\n\u53c2\u8003 https://www.npmjs.com/package/react-native-iconfont-cli\\n\\n```shell\\n# \u521b\u5efa iconfont.json\\nnpx iconfont-init\\n\\n# \u5c06 SVG \u5904\u7406\u4e3a React Component\\nnpx iconfont-rn\\n```\\n\\n### 3.3 react-native-camera\\n\u4fee\u6539 `ViewPropTypes` \u7684\u5bfc\u5165\uff0cnode_modules/react-native-camera/src/RNCamera.js\\n![20230413141005](http://s3.airtlab.com/blog/20230413141005.png)\\n\\n## 4. \u57fa\u7840\u9875\u9762\\n\\n<table>\\n  <tr>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/home.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/full_bg.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/login_screen.png\\" style=\\"width: 240px\\" /></td>\\n  </tr>\\n  <tr>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/me_un_login.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/me_login.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/animate.gif\\" style=\\"width: 240px\\" /></td>\\n  </tr>\\n  <tr>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/fs.png\\" style=\\"width: 240px\\" /></td>\\n    <td><img src=\\"https://raw.githubusercontent.com/wiiai/react-native-template/master/screenshot/scan.png\\" style=\\"width: 240px\\" /></td>\\n  </tr>\\n</table>","isLeaf":true},{"key":"/achieve/sman.md","path":"/achieve/sman.md","route":"/achieve/sman.md","leaf":true,"title":"sman","depth":1,"content":"> git@github.com:Webang/sman.git\\n\\n## 1\u3001sman \u4ecb\u7ecd\\nsman \u662f\u4e00\u4e2a \u6027\u80fd\u76d1\u63a7 + \u5f02\u5e38\u76d1\u63a7 + \u6570\u636e\u57cb\u70b9 \u5de5\u5177\uff0c\u4f53\u9a8c\u5730\u5740\uff1ahttp://175.178.48.236:3000\\n\\n## 2\u3001\u6280\u672f\u67b6\u6784\\nmysql + redis + elasticsearch + kafka\\n\\n## 3\u3001\u6a21\u5757\u8bbe\u8ba1\\n- [x] \u7cfb\u7edf\u7ba1\u7406\\n  - [x] \u7528\u6237\u7ba1\u7406\\n  - [x] \u5e94\u7528\u7ba1\u7406 \\n- [x] \u7528\u6237\u5206\u6790\\n  - [x] \u8bbf\u95ee\u8f68\u8ff9\\n  - [x] \u7528\u6237\u5206\u5e03\\n- \u5f02\u5e38\u5206\u6790\\n  - \u6574\u4f53\u6982\u89c8\\n  - \u4ee3\u7801\u5f02\u5e38\\n  - \u63a5\u53e3\u5f02\u5e38\\n  - \u8d44\u6e90\u52a0\u8f7d\\n- \u6027\u80fd\u5206\u6790\\n  - \u63a5\u53e3\u6027\u80fd\\n  - \u9875\u9762\u6027\u80fd\\n- \u6f0f\u6597\u5206\u6790\\n- \u4e8b\u4ef6\u5206\u6790\\n- \u57cb\u70b9\u5206\u6790\\n  - \u57cb\u70b9\u7edf\u8ba1\\n- \u7559\u5b58\u5206\u6790\\n\\n## 4\u3001\u53c2\u8003\u8d44\u6599\\n- http://www.webfunny.cn/demo/home.html\\n- https://study.163.com/course/introduction.htm?courseId=1006304007&share=1&shareId=1025552318#/courseDetail?tab=1","isLeaf":true},{"key":"/achieve/wow-admin.md","path":"/achieve/wow-admin.md","route":"/achieve/wow-admin.md","leaf":true,"title":"wow-admin","depth":1,"content":"## 1\u3001admin \u57fa\u7840\u5f00\u53d1\u6a21\u677f\\n\\n- API https://github.com/fiiai/admin-basic-api\\n- UI  https://github.com/fiiai/admin-basic-umi","isLeaf":true},{"key":"/achieve/wow-im.md","path":"/achieve/wow-im.md","route":"/achieve/wow-im.md","leaf":true,"title":"wow-im","depth":1,"content":"> https://github.com/wiiai/wow-im\\n\\n## \u9879\u76ee\u4ecb\u7ecd\\n\\n`wow-im` \u662f\u4e00\u6b3e\u57fa\u4e8e\u7684\u5373\u65f6\u901a\u8baf\u4ea7\u54c1\uff0c\u652f\u6301\u7684\u7ec8\u7aef\u5305\u62ec: H5\u3001PC\u3001IOS & Android (ReactNative)\\n\\n\u6f14\u793a:\\n- H5 https://wow-im.airtlab.com/mobile\\n- PC https://wow-im.airtlab.com/web\\n- \u5b89\u5353 https://github.com/wiiai/wow-im-rn/release\\n- IOS https://github.com/wiiai/wow-im-rn/release\\n\\n\u6e90\u7801\uff1a\\n- \u670d\u52a1\u7aef https://github.com/wiiai/wow-im/server\\n- H5 https://github.com/wiiai/wow-im/ui\\n- ReactNative https://github.com/wiiai/wow-im-rn\\n\\n## \u5df2\u5b9e\u73b0\u529f\u80fd\\n- \u8d26\u6237\\n  - [x] \u767b\u5f55\\n- \u901a\u8baf\u5f55\\n  - [x] \u597d\u53cb\u5217\u8868\\n  - [x] \u7fa4\\n- \u804a\u5929\\n  - [x] \u5355\u804a\\n  - [x] \u7fa4\u804a\\n  - [x] \u89c6\u9891\u5355\u804a\\n  - [x] \u8bed\u97f3\u5355\u804a\\n- \u6d88\u606f\u5185\u5bb9\\n  - [x] \u6587\u5b57\\n- \u4f1a\u8bdd\\n  - [x] \u4f1a\u8bdd\u5217\u8868\\n  - [x] \u5386\u53f2\u6d88\u606f\\n\\n\\n## \u4f1a\u8bae\u6d41\u7a0b\\n1\u3001\u7ed9\u5728\u7ebf\u7528\u6237\u53d1\u8d77\u4f1a\u8bae\u9080\u8bf7\u63a8\u9001\uff0c\u88ab\u9080\u8bf7\u8005\u70b9\u51fb\u540c\u610f\u540e\u8fdb\u5165\u4f1a\u8bae\u8be6\u60c5\\n2\u3001\u4efb\u4f55\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u4f1a\u8bae URL \u8fdb\u5165\u4f1a\u8bae (DB\u91cc\u9762\u9700\u8981\u521b\u5efa\u4f1a\u8bae\u4fe1\u606f\uff0c\u4f1a\u8baeID \u6807\u8bc6\u4f1a\u8bae)\\n\\n## \u7528\u6237\u5728\u7ebf\u72b6\u6001\u7ef4\u62a4\\n---","isLeaf":true},{"key":"/achieve/wow-mall.md","path":"/achieve/wow-mall.md","route":"/achieve/wow-mall.md","leaf":true,"title":"wow-mall","depth":1,"content":"","isLeaf":true}]},{"key":"/default","path":"/default","route":"/default","leaf":false,"title":"default","depth":0,"content":"","isLeaf":false,"children":[{"key":"/default/h5-vue-template.md","path":"/default/h5-vue-template.md","route":"/default/h5-vue-template.md","leaf":true,"title":"h5-vue-template","depth":1,"content":"## 1\\n- https://sunniejs.github.io/vue-h5-template/guide/\\n\\n![20230630104041](http://s3.airtlab.com/blog/20230630104041.png)\\n\\n## 2\\n\\n- https://github.com/yulimchen/vue3-h5-template\\n\\n![20230630104710](http://s3.airtlab.com/blog/20230630104710.png)","isLeaf":true}]},{"key":"/docker","path":"/docker","route":"/docker","leaf":false,"title":"docker","depth":0,"content":"","isLeaf":false,"children":[{"key":"/docker/01-command.md","path":"/docker/01-command.md","route":"/docker/01-command.md","leaf":true,"title":"01-command","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n## 1\u3001docker \u7b80\u4ecb\\nDocker \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5e94\u7528\u5bb9\u5668\u5f15\u64ce\uff0c\u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u6253\u5305\u4ed6\u4eec\u7684\u5e94\u7528\u4ee5\u53ca\u4f9d\u8d56\u5305\u5230\u4e00\u4e2a\u53ef\u79fb\u690d\u7684\u5bb9\u5668\u4e2d\uff0c\u7136\u540e\u53d1\u5e03\u5230\u4efb\u4f55\u6d41\u884c\u7684Linux\u673a\u5668\u6216Windows \u673a\u5668\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u865a\u62df\u5316\uff0c\u5bb9\u5668\u662f\u5b8c\u5168\u4f7f\u7528\u6c99\u7bb1\u673a\u5236\uff0c\u76f8\u4e92\u4e4b\u95f4\u4e0d\u4f1a\u6709\u4efb\u4f55\u63a5\u53e3\u3002\\n\\n\u4e00\u4e2a\u5b8c\u6574\u7684Docker\u6709\u4ee5\u4e0b\u51e0\u4e2a\u90e8\u5206\u7ec4\u6210\uff1a\\n1. DockerClient \u5ba2\u6237\u7aef\\n2. Docker Daemon \u5b88\u62a4\u8fdb\u7a0b\\n3. Docker Image \u955c\u50cf\\n4. DockerContainer \u5bb9\u5668\\n\\n\\n## 2\u3001\u955c\u50cf\u64cd\u4f5c\\n\\n```shell\\n# \u5236\u4f5c\u955c\u50cf\\ndocker build -t gaollard/hello:v1 .\\n\\n# \u63a8\u9001\u955c\u50cf\\ndocker push gaollard/hello:v1 \\n\\n# \u5220\u9664\u955c\u50cf(\u5220\u9664\u4e4b\u524d\uff0c\u9700\u8981\u5148\u505c\u6b62\u76f8\u5173\u7684\u5bb9\u5668)\\ndocker rmi IMAGE_ID\\n\\n# \u5f3a\u5236\u5220\u9664\\ndocker rmi c7309a89f296 -f\\n\\n# \u4ece\u8fdc\u7a0b\u62c9\u53d6\u955c\u50cf\\ndocker pull nginx\\n\\n# \u641c\u7d22\u955c\u50cf\\ndocker search httpd\\n```\\n\\n## 3\u3001\u5bb9\u5668\u64cd\u4f5c\\n\\n```shell\\n# \u505c\u6b62\u5bb9\u5668\\ndocker stop CONTAINER_ID\\n\\n# \u5236\u4f5c\u5bb9\u5668\\ndocker run -p 7001:80 --name tnginx -d gaollard/hello:v1\\n\\n# \u6302\u8f7d\u6570\u636e\u5377\\ndocker run -p 7002:80 --name tnginx2 -v /Users/arraybuffer/Desktop/html:/usr/share/nginx/html -d nginx\\n\\n# \u67e5\u770b\u5bb9\u5668\\ndocker ps\\n```\\n\\n**\u5220\u9664\u5bb9\u5668**\\n\\n\u8bed\u6cd5\uff1a\\n\\n```shell\\ndocker rm [OPTIONS] \u5bb9\u5668\u540d\uff0c\u5176\u4e2doptions\u6709\u4e09\u79cd\u7c7b\u578b\uff1a\\n```\\n\\n- -f \uff1a\u901a\u8fc7SIGKILL\u4fe1\u53f7\u5f3a\u5236\u5220\u9664\u4e00\u4e2a\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\\n- -l \uff1a\u79fb\u9664\u5bb9\u5668\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\uff0c\u800c\u975e\u5bb9\u5668\u672c\u8eab-v \uff1a-v \u5220\u9664\u4e0e\u5bb9\u5668\u5173\u8054\u7684\u5377\\n\\n\u5bb9\u5668\u5220\u9664\u4e3e\u4f8b\uff1a\\n\\n```bash\\ndocker rm -v nginx \u8fd9\u53e5\u8bdd\u7684\u610f\u601d\u662f\u5220\u9664nginx\u5bb9\u5668\uff0c\u5e76\u89e3\u9664\u4e0enginx\u5bb9\u5668\u5173\u8054\u7684\u5377\\ndocker rm -l db \u8fd9\u53e5\u547d\u4ee4\u7684\u610f\u601d\u662f\uff1a\u79fb\u9664\u5bb9\u5668A\u5bf9\u5bb9\u5668B\u7684\u8fde\u63a5db\\ndocker rm -f db01 db02 \u8fd9\u53e5\u547d\u4ee4\u7684\u610f\u601d\u662f\u5220\u9664\u5bb9\u5668db01\u548cdb02\\n```\\n\\n\u5bb9\u5668\u7684\u5220\u9664\u53ef\u4ee5\u4e00\u6b21\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\uff0c\u5728\u4f7f\u7528\u65f6\u76f4\u63a5\u4ee5\u7a7a\u683c\u9694\u5f00\u5c31\u884c\u3002\\n\\n## 4\u3001docker \u5bb9\u5668\u5b89\u88c5 vim\\n\u5728\u4f7f\u7528docker\u5bb9\u5668\u65f6\uff0c\u6709\u65f6\u5019\u91cc\u8fb9\u6ca1\u6709\u5b89\u88c5vim\uff0c\u6572vim\u547d\u4ee4\u65f6\u63d0\u793a\u8bf4\uff1avim: command not found\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u5b89\u88c5vim\uff0c\u53ef\u662f\u5f53\u4f60\u6572apt-get install vim\u547d\u4ee4\u65f6\uff0c\u63d0\u793a\uff1a\\n\\n```text\\nReading package lists... Done\\nBuilding dependency tree       \\nReading state information... Done\\nE: Unable to locate package vim\\n```\\n \\n\u8fd9\u65f6\u5019\u9700\u8981\u6572\uff1aapt-get update\uff0c\u8fd9\u4e2a\u547d\u4ee4\u7684\u4f5c\u7528\u662f\uff1a\u540c\u6b65 /etc/apt/sources.list \u548c /etc/apt/sources.list.d \u4e2d\u5217\u51fa\u7684\u6e90\u7684\u7d22\u5f15\uff0c\u8fd9\u6837\u624d\u80fd\u83b7\u53d6\u5230\u6700\u65b0\u7684\u8f6f\u4ef6\u5305\u3002\\n\\n\u7b49\u66f4\u65b0\u5b8c\u6bd5\u4ee5\u540e\u518d\u6572\u547d\u4ee4\uff1aapt-get install vim\u547d\u4ee4\u5373\u53ef\u3002\\n\\n```shell\\n$ > apt-get update\\n$ > apt-get install vim\\n```\\n\\n## 5\u3001yaml \u8bed\u6cd5\\nhttps://www.jianshu.com/p/cea930923f3d","isLeaf":true},{"key":"/docker/02-deploy-nginx.md","path":"/docker/02-deploy-nginx.md","route":"/docker/02-deploy-nginx.md","leaf":true,"title":"02-deploy-nginx","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n## 1. \u7b80\u5355\u90e8\u7f72\\n\u7b2c\u4e00\u6b65\uff1a\u524d\u7aef\u6253\u5305\u751f\u6210 dist \u6587\u4ef6\\n```shell\\nnpm run build\\n```\\n\\n\u7b2c\u4e8c\u6b65\uff1a\u5728\u9879\u76ee\u6839\u76ee\u5f55\u521b\u5efa dockerfile \u6587\u4ef6\\n```shell\\n# \u8bbe\u7f6e\u57fa\u7840\u955c\u50cf\\nFROM nginx\\n\\n# \u5b9a\u4e49\u4f5c\u8005\\nMAINTAINER gaollard\\n\\n# \u5c06dist\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u590d\u5236\u5230 /usr/share/nginx/html/ \u8fd9\u4e2a\u76ee\u5f55\u4e0b\u9762\\nCOPY dist/  /usr/share/nginx/html/\\n```\\n\\n\u7b2c\u4e09\u6b65\uff1a\u6784\u5efa\u955c\u50cf\\n```shell\\n# \u5728\u9879\u76ee\u6839\u76ee\u5f55\u6267\u884c iname \u4e3a\u955c\u50cf\u540d\u79f0\\ndocker build -t iname .\\n\\n# \u67e5\u770b\u955c\u50cf\\ndocker ps\\n```\\n\\n\u7b2c\u56db\u6b65\uff1a\u542f\u52a8\u5bb9\u5668\\n```shell\\n# -p \uff1a\u914d\u7f6e\u7aef\u53e3\u6620\u5c04\uff0c\u683c\u5f0f\u662f\u5916\u90e8\u8bbf\u95ee\u7aef\u53e3\uff1a\u5bb9\u5668\u5185\u7aef\u53e3\\n# -d \uff1a\u540e\u53f0\u8fd0\u884c  \\n# --name : \u7ed9\u5bb9\u5668\u53d6\u540d\\n# cname: \u5bb9\u5668\u540d\u79f0\\n# iname: \u955c\u50cf\u540d\u79f0\\n\\ndocker run -p 3000:80 -d --name cname iname\\n```\\n\\n\u7b2c\u4e94\u6b65\uff1a\u67e5\u770b\u662f\u5426\u8fd0\u884c\u6210\u529f\\n```shell\\ndocker ps\\n```\\n\\n![20230512162713](http://s3.airtlab.com/blog/20230512162713.png)\\n\\n## 2. \u811a\u672c\u5316\u90e8\u7f72\\n```shell\\n# \u5907\u4efd\u539f\u4ee3\u7801\\ntar -zcvf gentle-vue.tar ./gentle-vue\\n \\n# \u5220\u9664\u539f\u4ee3\u7801\u6587\u4ef6\u5939\\nrm -rf gentle-vue\\n \\n# \u62c9\u53d6\u4ee3\u7801\\ngit clone https://gitee.com/FJ_WoMenDeShiJie/gentle-vue.git\\necho -e \\"\\\\033[32m\\\\n\u4ee3\u7801\u62c9\u53d6\\\\n\\\\033[0m\\"\\n \\n# \u62f7\u8d1d node_modules\\ncp ./node.tar ./gentle-vue\\n \\n# build \u6253\u5305 vue \u9879\u76ee\uff0c\u751f\u6210 dist \u6587\u4ef6\u5939\\ncd ./gentle-vue\\ntar -zxvf node.tar\\nnpm run build\\necho -e \\"\\\\033[32m\\\\nvue\u9879\u76ee\u6253\u5305\u5b8c\u6210\\\\n\\\\033[0m\\"\\n \\n# \u5220\u9664\u539f\u955c\u50cf\\ndocker rmi gentle-vue &> /dev/null\\necho  -e \\"\\\\033[32m\\\\n\u5220\u9664\u539f\u955c\u50cf\u6587\u4ef6\\\\n\\\\033[0m\\"\\n \\n# \u62f7\u8d1d dockerfile \u5230\u5de5\u7a0b\u76ee\u5f55\u4e0b\\ncp ../dockerfile ./\\n \\n# \u6784\u5efa\u955c\u50cf\\ndocker build -t gentle-vue .\\necho -e \\"\\\\033[32m\\\\n\u65b0\u955c\u50cf\u6784\u5efa\u6210\u529f\\\\n\\\\033[0m\\"\\n \\n# \u5220\u9664\u539f\u5bb9\u5668\\ndocker rm -f gentle-vue\\n \\n# \u542f\u52a8\u5bb9\u5668\\ndocker run -p 3000:80 -d --name gentle-vue gentle-vue\\necho -e \\"\\\\033[32m\\\\n\u524d\u7aef\u5de5\u7a0b\u90e8\u7f72\u5b8c\u6210\\\\n\\\\033[0m\\"\\n```\\n\\n## 3. \u53c2\u8003\u6587\u6863\\n[https://blog.csdn.net/jiangyu1013/article/details/84572582](https://blog.csdn.net/jiangyu1013/article/details/84572582)\\n","isLeaf":true},{"key":"/docker/03-deploy-sentry.md","path":"/docker/03-deploy-sentry.md","route":"/docker/03-deploy-sentry.md","leaf":true,"title":"03-deploy-sentry","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nhttps://blog.csdn.net/u014265398/article/details/105877084","isLeaf":true},{"key":"/docker/04-install-ssh.md","path":"/docker/04-install-ssh.md","route":"/docker/04-install-ssh.md","leaf":true,"title":"04-install-ssh","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n1. https://www.jianshu.com/p/426f0d8e6cbf\\n2. https://www.cnblogs.com/mengw/p/11413461.html","isLeaf":true},{"key":"/docker/05-docker-network.md","path":"/docker/05-docker-network.md","route":"/docker/05-docker-network.md","leaf":true,"title":"05-docker-network","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n### 1\u3001\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Docker \u7f51\u7edc\\n\\n```\\n$ docker network create -d bridge test-net\\n```\\n\\n![20230512163028](http://s3.airtlab.com/blog/20230512163028.png)\\n\\n\u53c2\u6570\u8bf4\u660e\uff1a\\n- -d\uff1a\u53c2\u6570\u6307\u5b9a Docker \u7f51\u7edc\u7c7b\u578b\uff0c\u6709 bridge\u3001overlay\u3002 \u5176\u4e2d overlay \u7f51\u7edc\u7c7b\u578b\u7528\u4e8e Swarm mode\uff0c\u5728\u672c\u5c0f\u8282\u4e2d\u4f60\u53ef\u4ee5\u5ffd\u7565\u5b83\u3002\\n\\n### 2\u3001\u8fde\u63a5\u5bb9\u5668\\n\u8fd0\u884c\u4e00\u4e2a\u5bb9\u5668\u5e76\u8fde\u63a5\u5230\u65b0\u5efa\u7684 test-net \u7f51\u7edc:\\n\\n```shell\\n$ docker run -itd --name test1 --network test-net ubuntu /bin/bash\\n```\\n\\n\u6253\u5f00\u65b0\u7684\u7ec8\u7aef\uff0c\u518d\u8fd0\u884c\u4e00\u4e2a\u5bb9\u5668\u5e76\u52a0\u5165\u5230 test-net \u7f51\u7edc:\\n\\n```shell\\n$ docker run -itd --name test2 --network test-net ubuntu /bin/bash\\n```\\n\\n\u70b9\u51fb\u56fe\u7247\u67e5\u770b\u5927\u56fe\uff1a\\n\\n![20230512163120](http://s3.airtlab.com/blog/20230512163120.png)\\n\\n\u4e0b\u9762\u901a\u8fc7 ping \u6765\u8bc1\u660e test1 \u5bb9\u5668\u548c test2 \u5bb9\u5668\u5efa\u7acb\u4e86\u4e92\u8054\u5173\u7cfb\u3002\\n\u5982\u679c test1\u3001test2 \u5bb9\u5668\u5185\u4e2d\u65e0 ping \u547d\u4ee4\uff0c\u5219\u5728\u5bb9\u5668\u5185\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 ping\uff08\u5373\u5b66\u5373\u7528\uff1a\u53ef\u4ee5\u5728\u4e00\u4e2a\u5bb9\u5668\u91cc\u5b89\u88c5\u597d\uff0c\u63d0\u4ea4\u5bb9\u5668\u5230\u955c\u50cf\uff0c\u5728\u4ee5\u65b0\u7684\u955c\u50cf\u91cd\u65b0\u8fd0\u884c\u4ee5\u4e0a\u4fe9\u4e2a\u5bb9\u5668\uff09\u3002\\n\\n```shell\\napt-get update\\napt install iputils-ping\\n```\\n\\n\u5728 test1 \u5bb9\u5668\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a\\n\\n![20230512163154](http://s3.airtlab.com/blog/20230512163154.png)\\n\\n\\n\u540c\u7406\u5728 test2 \u5bb9\u5668\u4e5f\u4f1a\u6210\u529f\u8fde\u63a5\u5230:\\n\\n![20230512163213](http://s3.airtlab.com/blog/20230512163213.png)\\n\\n\u8fd9\u6837\uff0ctest1 \u5bb9\u5668\u548c test2 \u5bb9\u5668\u5efa\u7acb\u4e86\u4e92\u8054\u5173\u7cfb\u3002\\n\u5982\u679c\u4f60\u6709\u591a\u4e2a\u5bb9\u5668\u4e4b\u95f4\u9700\u8981\u4e92\u76f8\u8fde\u63a5\uff0c\u63a8\u8350\u4f7f\u7528 Docker Compose\uff0c\u540e\u9762\u4f1a\u4ecb\u7ecd\u3002\\n","isLeaf":true},{"key":"/docker/06-exec-vs-attach.md","path":"/docker/06-exec-vs-attach.md","route":"/docker/06-exec-vs-attach.md","leaf":true,"title":"06-exec-vs-attach","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n![20230512163246](http://s3.airtlab.com/blog/20230512163246.png)","isLeaf":true},{"key":"/docker/07-image-export-import.md","path":"/docker/07-image-export-import.md","route":"/docker/07-image-export-import.md","leaf":true,"title":"07-image-export-import","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n\u53c2\u8003\u6587\u6863\uff1a[https://blog.csdn.net/ncdx111/article/details/79878098](https://blog.csdn.net/ncdx111/article/details/79878098)\\n\\n> \u901a\u8fc7\u955c\u50cf\u540d\u79f0\u5bfc\u51fa\u65f6\uff0c\u5bfc\u5165\u955c\u50cf\u65f6\uff0c\u955c\u50cf\u540d\u79f0\u4e0d\u4f1a\u4e22\u5931\uff0c\u901a\u8fc7\u955c\u50cfID\u5bfc\u51fa\uff0c\u955c\u50cf\u540d\u79f0\u4f1a\u4e22\u5931\u3002\\n\\n\\n### 1\u3001\u955c\u50cf\u5bfc\u51fa\\n#### save\\n\\n```bash\\ndocker save -o nginx.tar nginx:latest\\ndocker save > nginx.tar nginx:latest\\n```\\n\\nnginx:latest \u53ef\u4ee5\u6539\u4e3a\u955c\u50cf ID\\n\\n#### export\\n\\n```bash\\ndocker export [options] container\\ndocker export -o nginx-test.tar nginx-test\\n```\\n\\n\u5176\u4e2d-o\u8868\u793a\u8f93\u51fa\u5230\u6587\u4ef6\uff0cnginx-test.tar\u4e3a\u76ee\u6807\u6587\u4ef6\uff0cnginx-test\u662f\u6e90\u5bb9\u5668\u540d\uff08name\uff09\\n\\n### 2\u3001\u955c\u50cf\u5bfc\u5165\\n#### load\\n\\n```bash\\ndocker load -i nginx.tar\\ndocker load < nginx.tar\\n```\\n\\n#### import\\n\\n```bash\\ndocker import [options] file|URL|- [REPOSITORY[:TAG]]\\n```\\n\\n```bash\\ndocker import nginx-test.tar nginx:imp\\n\\n# \u6216\\ncat nginx-test.tar | docker import - nginx:imp\\n```\\n","isLeaf":true},{"key":"/docker/08-host-and-container.md","path":"/docker/08-host-and-container.md","route":"/docker/08-host-and-container.md","leaf":true,"title":"08-host-and-container","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n\u5bb9\u5668\u548c\u5bbf\u4e3b\u673a\u6587\u4ef6\u4e92\u5bfc\\n\\n```shell\\n# \u4ece\u5bbf\u4e3b\u673a\u62f7\u8d1d\u5230\u5bb9\u5668\\ndocker cp [\u5bbf\u4e3b\u673a\u6587\u4ef6\u8def\u5f84] [\u5bb9\u5668\u540d]:[\u5bb9\u5668\u8def\u5f84]\\n\\n# \u4ece\u5bb9\u5668\u4e2d\u62f7\u8d1d\u6587\u4ef6\u5230\u5bbf\u4e3b\u673a\\ndocker cp [\u5bb9\u5668\u540d]:[\u5bb9\u5668\u8def\u5f84] [\u5bbf\u4e3b\u673a\u6587\u4ef6\u8def\u5f84]\\n```","isLeaf":true},{"key":"/docker/09-docker-logs.md","path":"/docker/09-docker-logs.md","route":"/docker/09-docker-logs.md","leaf":true,"title":"09-docker-logs","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nhttps://www.runoob.com/docker/docker-logs-command.html\\n\\ndocker logs : \u83b7\u53d6\u5bb9\u5668\u7684\u65e5\u5fd7\\n\\n```shell\\ndocker logs [OPTIONS] CONTAINER\\n```\\n\\nOPTIONS\u8bf4\u660e\uff1a\\n- -f : \u8ddf\u8e2a\u65e5\u5fd7\u8f93\u51fa\\n- --since :\u663e\u793a\u67d0\u4e2a\u5f00\u59cb\u65f6\u95f4\u7684\u6240\u6709\u65e5\u5fd7\\n- -t : \u663e\u793a\u65f6\u95f4\u6233\\n- --tail :\u4ec5\u5217\u51fa\u6700\u65b0N\u6761\u5bb9\u5668\u65e5\u5fd7","isLeaf":true},{"key":"/docker/10-enter-container.md","path":"/docker/10-enter-container.md","route":"/docker/10-enter-container.md","leaf":true,"title":"10-enter-container","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n### 1. exec\\n[https://www.cnblogs.com/xhyan/p/6593075.html](https://www.cnblogs.com/xhyan/p/6593075.html)\\n\\n\u5728\u4f7f\u7528 docker \u521b\u5efa\u5bb9\u5668\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 -it \u53c2\u6570\u6307\u5b9a\uff0c\u76f4\u63a5\u8fdb\u5165\u5bb9\u5668\uff1a\\n\\n```bash\\n# micro-web \u4e3a\u5bb9\u5668\u540d\u79f0, \u5176\u4ed6\u56fa\u5b9a\u5199\u6cd5\\ndocker exec -it micro-web /bin/bash\\n```\\n\\n### 2. attach\\n\\ndocker attach\u9000\u51fa\u5bb9\u5668\uff0c\u5bb9\u5668\u4f1a\u505c\u6b62\u8fd0\u884c\u7684\u89e3\u51b3\u65b9\u6cd5 [https://blog.csdn.net/enter89/article/details/89291691](https://blog.csdn.net/enter89/article/details/89291691)\\n\\n```shell\\ndocker attach [OPTIONS] CONTAINER\\n```\\n","isLeaf":true},{"key":"/docker/11-volume.md","path":"/docker/11-volume.md","route":"/docker/11-volume.md","leaf":true,"title":"11-volume","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n```shell\\ndocker run -it -v /host/path:/container/path centos /bin/bash\\n```\\n\\n1. https://www.jianshu.com/p/8c22cdfc0ffd\\n2. https://blog.csdn.net/hnmpf/article/details/80924494","isLeaf":true},{"key":"/docker/12-dockerfile.md","path":"/docker/12-dockerfile.md","route":"/docker/12-dockerfile.md","leaf":true,"title":"12-dockerfile","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nhttps://www.runoob.com/docker/docker-dockerfile.html\\n\\nARG & ENV \u6307\u4ee4\\nhttps://www.cnblogs.com/panpanwelcome/p/12604269.html\\nhttps://www.cntofu.com/book/139/image/dockerfile/arg.md","isLeaf":true},{"key":"/docker/13-docker-compose.md","path":"/docker/13-docker-compose.md","route":"/docker/13-docker-compose.md","leaf":true,"title":"13-docker-compose","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\nCompose \u662f\u7528\u4e8e\u5b9a\u4e49\u548c\u8fd0\u884c\u591a\u5bb9\u5668 Docker \u5e94\u7528\u7a0b\u5e8f\u7684\u5de5\u5177\u3002\u901a\u8fc7 Compose\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 YML \u6587\u4ef6\u6765\u914d\u7f6e\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u7684\u6240\u6709\u670d\u52a1\u3002\u7136\u540e\uff0c\u4f7f\u7528\u4e00\u4e2a\u547d\u4ee4\uff0c\u5c31\u53ef\u4ee5\u4ece YML \u6587\u4ef6\u914d\u7f6e\u4e2d\u521b\u5efa\u5e76\u542f\u52a8\u6240\u6709\u670d\u52a1\u3002\\n\\nCompose \u4f7f\u7528\u7684\u4e09\u4e2a\u6b65\u9aa4\uff1a\\n\\n- \u4f7f\u7528 Dockerfile \u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u7684\u73af\u5883\u3002\\n- \u4f7f\u7528 docker-compose.yml \u5b9a\u4e49\u6784\u6210\u5e94\u7528\u7a0b\u5e8f\u7684\u670d\u52a1\uff0c\u8fd9\u6837\u5b83\u4eec\u53ef\u4ee5\u5728\u9694\u79bb\u73af\u5883\u4e2d\u4e00\u8d77\u8fd0\u884c\u3002\\n- \u6700\u540e\uff0c\u6267\u884c docker-compose up \u547d\u4ee4\u6765\u542f\u52a8\u5e76\u8fd0\u884c\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u3002\\n\\n### 1\u3001\u4e3a\u4ec0\u4e48\u9700\u8981 docker-compose\\n\u7ef4\u62a4\u4e00\u4e2a\u5bb9\u5668\u5f88\u7b80\u5355\uff0c\u901a\u5e38\u6709\u4ee5\u4e0b\u6b65\u9aa4\uff1a\\n\\n- \u83b7\u53d6\u955c\u50cf\uff1a\u4ece Dockerfile build image \u6216\u8005\u5728 dockerhub \u62c9\u53d6 image\\n- \u521b\u5efa\u5bb9\u5668\uff1a\u521b\u5efa\u591a\u4e2a container\\n- \u7ba1\u7406\u5bb9\u5668\uff1a\u7ba1\u7406\u8fd9\u4e9b container\uff08\u542f\u52a8\u505c\u6b62\u5220\u9664\uff09\\n\\n\u6709\u65f6\u5019\u4e00\u4e2a\u9879\u76ee\u5f88\u591a\u4e2a\u5bb9\u5668(10\u4e2a\u4ee5\u4e0a)\uff0c\u5982\u679c\u6bcf\u4e2a\u5bb9\u5668\u7684\u7ba1\u7406\u90fd\u8981\u91cd\u65b0\u64cd\u4f5c\u4e00\u904d\uff0c\u90a3\u5de5\u4f5c\u91cf\u5b9e\u5728\u662f\u592a\u5927\u4e86\u800c\u4e14\u5bb9\u6613\u51fa\u9519\uff0c\u90a3\u4e48\u5982\u4f55\u7ba1\u7406\u548c\u7ef4\u62a4\u8fd9\u4e9b\u5bb9\u5668\u5462\uff1f\\n\\n\u6211\u4eec\u9700\u8981\u4e00\u4e2a **\u6279\u5904\u7406** \u5de5\u5177\uff0cdocker-compose \u6b63\u662f\u8fd9\u6837\u7684\u5de5\u5177\u3002\\n\\n### 2\u3001docker-compose \u547d\u4ee4\\n```bash\\nDefine and run multi-container applications with Docker.\\n\\nUsage:\\n  docker-compose [-f <arg>...] [options] [COMMAND] [ARGS...]\\n  docker-compose -h|--help\\n\\nOptions:\\n  -f, --file FILE             Specify an alternate compose file\\n                              (default: docker-compose.yml)\\n  -p, --project-name NAME     Specify an alternate project name\\n                              (default: directory name)\\n  --verbose                   Show more output\\n  --log-level LEVEL           Set log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)\\n  --no-ansi                   Do not print ANSI control characters\\n  -v, --version               Print version and exit\\n  -H, --host HOST             Daemon socket to connect to\\n\\n  --tls                       Use TLS; implied by --tlsverify\\n  --tlscacert CA_PATH         Trust certs signed only by this CA\\n  --tlscert CLIENT_CERT_PATH  Path to TLS certificate file\\n  --tlskey TLS_KEY_PATH       Path to TLS key file\\n  --tlsverify                 Use TLS and verify the remote\\n  --skip-hostname-check       Don\'t check the daemon\'s hostname against the\\n                              name specified in the client certificate\\n  --project-directory PATH    Specify an alternate working directory\\n                              (default: the path of the Compose file)\\n  --compatibility             If set, Compose will attempt to convert keys\\n                              in v3 files to their non-Swarm equivalent\\n  --env-file PATH             Specify an alternate environment file\\n  \\n  \\n  Commands:\\n  build              Build or rebuild services\\n  config             Validate and view the Compose file\\n  create             Create services\\n  down               Stop and remove containers, networks, images, and volumes\\n  events             Receive real time events from containers\\n  exec               Execute a command in a running container\\n  help               Get help on a command\\n  images             List images\\n  kill               Kill containers\\n  logs               View output from containers\\n  pause              Pause services\\n  port               Print the public port for a port binding\\n  ps                 List containers\\n  pull               Pull service images\\n  push               Push service images\\n  restart            Restart services\\n  rm                 Remove stopped containers\\n  run                Run a one-off command\\n  scale              Set number of containers for a service\\n  start              Start services\\n  stop               Stop services\\n  top                Display the running processes\\n  unpause            Unpause services\\n  up                 Create and start containers\\n  version            Show the Docker-Compose version information\\n```\\n#### up  (Create and start containers)\\n```bash\\ndocker-compose -f docker-compose-prod.yml up\\n```\\n#### stop (Stop services)\\n```bash\\ndocker-compose -f docker-compose-prod.yml stop\\n```\\n### 3\u3001exmaple project\\n\\n![20230512163948](http://s3.airtlab.com/blog/20230512163948.png)","isLeaf":true},{"key":"/docker/14-cmd-entrypoint.md","path":"/docker/14-cmd-entrypoint.md","route":"/docker/14-cmd-entrypoint.md","leaf":true,"title":"14-cmd-entrypoint","depth":1,"content":"---\\ntags: Docker\\ndate: 2018-05-02\\n---\\n\\n> https://www.cnblogs.com/sparkdev/p/8461576.html \u8fd9\u7bc7\u6587\u7ae0\u8bb2\u7684\u5f88\u597d\\n\\n```\\nENTRYPOINT [\\"executable\\", \\"param1\\", \\"param2\\"]   // \u8fd9\u662f exec \u6a21\u5f0f\u7684\u5199\u6cd5\uff0c\u6ce8\u610f\u9700\u8981\u4f7f\u7528\u53cc\u5f15\u53f7\u3002\\nENTRYPOINT command param1 param2                // \u8fd9\u662f shell \u6a21\u5f0f\u7684\u5199\u6cd5\u3002\\n```","isLeaf":true}]},{"key":"/git","path":"/git","route":"/git","leaf":false,"title":"git","depth":0,"content":"","isLeaf":false,"children":[{"key":"/git/01-introduce.md","path":"/git/01-introduce.md","route":"/git/01-introduce.md","leaf":true,"title":"01-introduce","depth":1,"content":"---\\ntitle: 01 Git \u4ecb\u7ecd\\ntag: Git\\n---\\n\\n## 1. \u53ef\u89c6\u5316\u5ba2\u6237\u7aef\\n- mac sourcetree\\n- win tortoisegit\\n\\n## 2. \u8f85\u52a9\u8bb0\u5fc6\u5de5\u5177\\n![20230512161907](http://s3.airtlab.com/blog/20230512161907.png)","isLeaf":true},{"key":"/git/02-set-proxy.md","path":"/git/02-set-proxy.md","route":"/git/02-set-proxy.md","leaf":true,"title":"02-set-proxy","depth":1,"content":"---\\ntitle: 02 Git \u8bbe\u7f6e\u4ee3\u7406\\ntags: Git\\n---\\n\\nhttps://www.cnblogs.com/cscshi/p/15705045.html\\n\\n`git config http.proxy` \u8bbe\u7f6e HTTP \u534f\u8bae\u7684\u4ee3\u7406\u5730\u5740\uff0c\u5373\u6307\u5b9a Git \u5728\u901a\u8fc7 HTTP \u534f\u8bae\u8fdb\u884c\u7f51\u7edc\u8fde\u63a5\u65f6\u6240\u4f7f\u7528\u7684\u4ee3\u7406\u670d\u52a1\u5668\u3002\u6b64\u529f\u80fd\u901a\u5e38\u7528\u4e8e\u5728\u516c\u53f8\u6216\u7ec4\u7ec7\u7b49\u5185\u90e8\u7f51\u7edc\u73af\u5883\u4e2d\u8bbf\u95ee\u5916\u90e8Git\u4ed3\u5e93\u65f6\u7684\u9700\u8981\u3002\\n\\n\u5177\u4f53\u6765\u8bf4\uff0c\u5f53 Git \u901a\u8fc7 HTTP \u534f\u8bae\u8fdb\u884c\u7f51\u7edc\u8fde\u63a5\u65f6\uff0c\u5176\u4f1a\u5c1d\u8bd5\u76f4\u63a5\u8fde\u63a5\u76ee\u6807\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\u3002\u4f46\u5728\u4e00\u4e9b\u7f51\u7edc\u73af\u5883\u4e2d\uff0c\u76f4\u63a5\u8fde\u63a5\u53ef\u80fd\u88ab\u7981\u6b62\u6216\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u6b64\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e HTTP \u4ee3\u7406\u670d\u52a1\u5668\u6765\u8ba9 Git \u901a\u8fc7\u4ee3\u7406\u670d\u52a1\u5668\u8fdb\u884c\u7f51\u7edc\u8fde\u63a5\u3002\\n\\n\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u7f51\u7edc\u6d41\u91cf\u7684\u8fc7\u6ee4\u548c\u63a7\u5236\uff0c\u52a0\u5f3a\u5bf9\u7f51\u7edc\u5b89\u5168\u7684\u4fdd\u62a4\uff0c\u4e5f\u53ef\u4ee5\u63d0\u9ad8\u7f51\u7edc\u8fde\u63a5\u7684\u7a33\u5b9a\u6027\u548c\u6027\u80fd\u3002\\n\\n```shell\\n# \u53bb\u6389\u4ee3\u7406\u8bbe\u7f6e\\ngit config --global --unset http.proxy\\ngit config --global --unset https.proxy\\n\\n# \u8fd9\u91cc\u6211\u4f7f\u7528\u4e86\u4e30\u5de2\u5ba2\u6237\u7aef\\ngit config --global http.proxy http://127.0.0.1:7890\\ngit config --global https.proxy https://127.0.0.1:7890\\n```","isLeaf":true},{"key":"/git/03-use-submodule.md","path":"/git/03-use-submodule.md","route":"/git/03-use-submodule.md","leaf":true,"title":"03-use-submodule","depth":1,"content":"---\\ntitle: 03 Git \u4f7f\u7528 submodule\\ntags: Git\\n---\\n\\n## submodule \u7684\u4f7f\u7528\\n\\n- \u53c2\u8003\u6587\u6863 [https://git-scm.com/book/zh/v2/Git-\u5de5\u5177-\u5b50\u6a21\u5757](https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E5%AD%90%E6%A8%A1%E5%9D%97)\\n\\n```bash\\nusage: git submodule [--quiet] [--cached]\\n   or: git submodule [--quiet] add [-b <branch>] [-f|--force] [--name <name>] [--reference <repository>] [--] <repository> [<path>]\\n   or: git submodule [--quiet] status [--cached] [--recursive] [--] [<path>...]\\n   or: git submodule [--quiet] init [--] [<path>...]\\n   or: git submodule [--quiet] deinit [-f|--force] (--all| [--] <path>...)\\n   or: git submodule [--quiet] update [--init] [--remote] [-N|--no-fetch] [-f|--force] [--checkout|--merge|--rebase] [--[no-]recommend-shallow] [--reference <repository>] [--recursive] [--[no-]single-branch] [--] [<path>...]\\n   or: git submodule [--quiet] set-branch (--default|--branch <branch>) [--] <path>\\n   or: git submodule [--quiet] set-url [--] <path> <newurl>\\n   or: git submodule [--quiet] summary [--cached|--files] [--summary-limit <n>] [commit] [--] [<path>...]\\n   or: git submodule [--quiet] foreach [--recursive] <command>\\n   or: git submodule [--quiet] sync [--recursive] [--] [<path>...]\\n   or: git submodule [--quiet] absorbgitdirs [--] [<path>...]\\n```\\n\\n### 1\u3001\u6dfb\u52a0\u5b50\u6a21\u5757\\n\\n```shell\\n# \u6dfb\u52a0\u5b50\u6a21\u5757\\ngit submodule add git@github.com:gaollard/test_submodule_B.git  projectB\\n\\n# \u53ef\u8bbe\u7f6e\u5b50\u6a21\u5757\u5728\u5f53\u524d\u9879\u76ee\u7684\u76f8\u5bf9\u8def\u5f84\\ngit submodule add http://test.com/backend src/vendor/\\n```\\n\\n### 2\u3001\u68c0\u51fa\u9879\u76ee\u7684\u6307\u5b9a\u7248\u672c\\n\\n```shell\\n# \u68c0\u51fa\u9879\u76ee\u7684\u6307\u5b9a\u7248\u672c(HEAD), \u6ce8\u610f\u5b83\u5e76\u4e0d\u662f\u6307\u5411\u4e00\u4e2a\u5206\u652f\\ngit submodule update\\n```\\n\\n### 3\u3001\u62c9\u53d6\u9879\u76ee\u65f6\u62c9\u53d6\u5b50\u6a21\u5757\\n\\n```shell\\n# \u53ef\u5728\u62c9\u53d6\u9879\u76ee\u65f6\u628a\u4f9d\u8d56\u7684\u5b50\u6a21\u5757\u540c\u65f6\u62c9\u53d6\u4e0b\u6765\\ngit clone \u2013recursive\\n```\\n\\n### 4\u3001submodule ignore \u9009\u9879\\n\\n```\\nuntracked \uff1a\u5ffd\u7565\u5728\u5b50\u6a21\u5757B(projectB\u76ee\u5f55)\u65b0\u6dfb\u52a0\u7684\uff0c\u672a\u53d7\u7248\u672c\u63a7\u5236\u5185\u5bb9\\ndirty     \uff1a\u5ffd\u7565\u5bf9projectB\u76ee\u5f55\u4e0b\u53d7\u7248\u672c\u63a7\u5236\u7684\u5185\u5bb9\u8fdb\u884c\u4e86\u4fee\u6539\\nall       \uff1a\u540c\u65f6\u5ffd\u7565untracked\u548cdirty\\n```\\n\\n### 5\u3001modified: XXX (new commits)\\n\\n\u8bf4\u660e\u5f53\u524d\u4e3b\u4ed3\u5e93\u4f9d\u8d56\u7684 HEAD \u548c \u672c\u5730\u4ed3\u5e93\u63d0\u4ea4\u4e0d\u5339\u914d\u4e86\uff0c\u8fd9\u4e2a\u65f6\u5019\u8981\u7279\u522b\u6ce8\u610f\u3002\\n\\n- \u5982\u679c\u5e0c\u671b\u4f7f\u7528\u65e7\u7684 `HEAD`\uff0c\u4f7f\u7528 `git submodule update`\uff1b\\n- \u5982\u679c\u5e0c\u671b\u4f7f\u7528\u65b0\u7684 `HEAD`\uff0c\u90a3\u4e48\u5c31 `git add` \u63d0\u4ea4\u4ee3\u7801\uff1b\\n\\n### 6\u3001git submodule update --remote\\n\\n\u66f4\u65b0\u5b50\u6a21\u5757\u4e3a\u8fdc\u7a0b\u9879\u76ee\u7684\u6700\u65b0\u7248\u672c\\n\\n### 7\u3001init & update\\n\\n```shell\\ngit submodule init\\ngit submodule update\\n\\n# \u5408\u5e76\\ngit submodule update --init\\n```\\n\\n### 8\u3001git submodule update --remote\\n\u66f4\u65b0\u4e3a\u8fdc\u7a0b\\n\\n### 9\u3001submodule \u51b2\u7a81\u600e\u4e48\u529e\\nsubmodule \u51b2\u7a81\u65f6\uff0c\u5e94\u5148\u5408\u5e76 submodule, \u518d\u6765\u5408\u5e76\u4e3b\u4ed3\u5e93","isLeaf":true},{"key":"/git/04-what-is-head.md","path":"/git/04-what-is-head.md","route":"/git/04-what-is-head.md","leaf":true,"title":"04-what-is-head","depth":1,"content":"---\\ntitle: 04 Git \u5bf9 head \u7684\u7406\u89e3\\ntags: Git\\n---\\n\\nhttps://www.zsythink.net/archives/3412/ \u8fd9\u7bc7\u6587\u7ae0\u8bb2\u7684\u975e\u5e38\u8be6\u7ec6\u3002\\n\\n1) \u901a\u5e38\u60c5\u51b5\u4e0b HEAD\u6307\u9488 \u2014\u2014\u2013> \u5206\u652f\u6307\u9488 \u2014\u2014\u2013> \u6700\u65b0\u63d0\u4ea4\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cHEAD \u6307\u9488\u603b\u662f\u901a\u8fc7\u5206\u652f\u6307\u9488\uff0c\u95f4\u63a5\u7684\u6307\u5411\u4e86\u5f53\u524d\u5206\u652f\u7684\u6700\u65b0\u63d0\u4ea4\u3002\\n2) \u6709\u4e9b\u60c5\u51b5\u4e0b\uff0cHEAD\u6307\u9488\u6ca1\u6709\u6307\u5411\u5206\u652f\u6307\u9488\uff0c\u800c\u662f\u76f4\u63a5\u6307\u5411\u4e86\u67d0\u4e2a\u63d0\u4ea4\uff0c\u8fd9\u88ab\u79f0\u4f5c detached head \u5206\u79bb\u5934\u3002","isLeaf":true},{"key":"/git/05-cherry-pick.md","path":"/git/05-cherry-pick.md","route":"/git/05-cherry-pick.md","leaf":true,"title":"05-cherry-pick","depth":1,"content":"---\\ntitle: 05 cherry-pick\\ntags: Git\\n---\\n\\n(1) \u62f7\u8d1d\u4f9d\u8d56\u7f3a\u5931\\ncherry-pick \u53ef\u4ee5\u62f7\u8d1d\u4e00\u6b21 commit \u4fe1\u606f\uff0c\u5982\u679c\u4f60\u5728\u5206\u652f A \u62f7\u8d1d\u6765\u81ea\u5206\u652f B \u7684 commit id m1, \u4f46\u662f\u5728\u4ee3\u7801\u4e0a m1 \u4f9d\u8d56\u4e86B\u5206\u652f\u7684 m2\uff0c\u90a3\u4e48\u8fd9\u4e2a\u64cd\u4f5c\u662f\u9519\u8bef\u7684\u3002","isLeaf":true},{"key":"/git/06-mege-commit.md","path":"/git/06-mege-commit.md","route":"/git/06-mege-commit.md","leaf":true,"title":"06-mege-commit","depth":1,"content":"---\\ntitle: 06 Git \u5408\u5e76\u591a\u4e2a commit\\ntags: Git\\n---\\n\\n## 1\u3001\u5408\u5e76\u65b9\u5f0f\\n- \u4f7f\u7528 git rebase -i head~{number} \u4e0d\u4f1a\u4ea7\u751f\u65b0\u7684 commit\\n- \u4f7f\u7528 git reset \u4f1a\u4ea7\u751f\u65b0\u7684 commit (\u66f4\u4e0d\u53cb\u597d\u7684\u505a\u6cd5)\\n\\n## 2\u3001\u574f\u5473\u9053\\n`git rebase` \u8fd9\u79cd\u65b9\u5f0f\u9700\u8981\u5f3a\u5236\u63a8\u9001\uff0c\u5b83\u662f\u4e00\u79cd\u574f\u5473\u9053\u505a\u6cd5\uff0c\u6700\u597d\u901a\u77e5\u5230\u9879\u76ee\u7684\u7ec4\u5458","isLeaf":true},{"key":"/git/07-merge-vs-rebase.md","path":"/git/07-merge-vs-rebase.md","route":"/git/07-merge-vs-rebase.md","leaf":true,"title":"07-merge-vs-rebase","depth":1,"content":"---\\ntags: Git\\ntitle: 07 merge-vs-rebase\\n---\\n\\n\u4f7f\u7528 rebase \u8fdb\u884c\u4ee3\u7801\u5408\u5e76\uff0c\u53ef\u4ee5\u8ba9 git log \u66f4\u6e05\u6670","isLeaf":true},{"key":"/git/08-diff.md","path":"/git/08-diff.md","route":"/git/08-diff.md","leaf":true,"title":"08-diff","depth":1,"content":"---\\ntags: Git\\ntitle: 08 \u8bfb\u61c2 diff\\n---\\n\\nGit diff \u53d8\u66f4\u7684\u539f\u56e0\u6709\uff1a\\n- \u65b0\u589e\u6587\u4ef6\\n- \u4fee\u6539\u6587\u4ef6\\n- \u5220\u9664\u6587\u4ef6\\n\\n## 1\u3001\u7528\u6cd5\\n```text\\nusage: git diff [<options>] [<commit>] [--] [<path>...]\\n   or: git diff [<options>] --cached [<commit>] [--] [<path>...]\\n   or: git diff [<options>] <commit> [--merge-base] [<commit>...] <commit> [--] [<path>...]\\n   or: git diff [<options>] <commit>...<commit>] [--] [<path>...]\\n   or: git diff [<options>] <blob> <blob>]\\n   or: git diff [<options>] --no-index [--] <path> <path>]\\n```\\n\\n- options \u8868\u793a\u53ef\u9009\u53c2\u6570\\n- commit \u8868\u793a commit id\\n- path \u8bbe\u7f6e\u6587\u4ef6\\n\\n### 1.1 --no-index\\n`--no-index` \u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u72ec\u7acb\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u7684\u5dee\u5f02\u3002\u5b83\u544a\u8bc9 Git diff \u547d\u4ee4\u8df3\u8fc7\u5bf9 Git \u5b58\u50a8\u5e93\u7684\u5904\u7406\uff0c\u5e76\u5c06\u5176\u7528\u4e8e\u975eGit\u6587\u4ef6\u3002\\n\u5f53\u60a8\u60f3\u8981\u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u800c\u4e0d\u5728Git\u5b58\u50a8\u5e93\u4e2d\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 `--no-index` \u9009\u9879\u3002\u8fd9\u5bf9\u4e8e\u8de8\u4e0d\u540cGit\u5b58\u50a8\u5e93\u6216\u5728\u6ca1\u6709Git\u5b58\u50a8\u5e93\u7684\u73af\u5883\u4e2d\u8fdb\u884c\u6bd4\u8f83\u5f88\u6709\u7528\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u6bd4\u8f83\u7684\u65b9\u5f0f\uff0c\u4e0d\u4f9d\u8d56\u4e8eGit\u5b58\u50a8\u5e93\u7684\u7248\u672c\u63a7\u5236\u4fe1\u606f\u3002\\n\\n\u4ee5\u4e0b\u662f\u4f7f\u7528`--no-index`\u9009\u9879\u7684\u793a\u4f8b\uff1a\\n\\n1. \u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff --no-index file1.txt file2.txt\\n   ```\\n\\n2. \u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u5939\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff --no-index dir1/ dir2/\\n   ```\\n\\n\u8bf7\u6ce8\u610f\uff0c`--no-index`\u9009\u9879\u4e0d\u4f1a\u5904\u7406Git\u5b58\u50a8\u5e93\u4e2d\u7684\u66f4\u6539\u5386\u53f2\u8bb0\u5f55\u6216\u7248\u672c\u63a7\u5236\u4fe1\u606f\u3002\u5b83\u53ea\u4f1a\u63d0\u4f9b\u4e00\u79cd\u6bd4\u8f83\u4e24\u4e2a\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u4e4b\u95f4\u5dee\u5f02\u7684\u65b9\u5f0f\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4ea7\u751f\u4e0d\u540c\u7684\u8f93\u51fa\u7ed3\u679c\u3002\\n\\n### 1.2 \u5e38\u89c1\u7528\u6cd5\\n\\n1. \u6bd4\u8f83\u5de5\u4f5c\u76ee\u5f55\u548c\u6682\u5b58\u533a\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff\\n   ```\\n\\n2. \u6bd4\u8f83\u6682\u5b58\u533a\u548c\u6700\u540e\u4e00\u6b21\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff --staged\\n   ```\\n\\n3. \u6bd4\u8f83\u4e24\u4e2a\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff commit1 commit2\\n   ```\\n\\n4. \u6bd4\u8f83\u4e24\u4e2a\u5206\u652f\u4e4b\u95f4\u7684\u5dee\u5f02\uff1a\\n   ```\\n   git diff branch1 branch2\\n   ```\\n\\n5. \u663e\u793a\u6587\u4ef6\u4e2d\u5177\u4f53\u7684\u66f4\u6539\u5185\u5bb9\uff1a\\n   ```\\n   git diff --word-diff\\n   ```\\n\\n6. \u751f\u6210\u53ef\u4f9b\u6253\u5370\u7684\u7b80\u6d01\u5dee\u5f02\uff1a\\n   ```\\n   git diff --color-words\\n   ```\\n\\n\u8fd9\u53ea\u662f\u4e00\u4e9b\u57fa\u672c\u7684\u7528\u6cd5\u793a\u4f8b\u3002Git diff\u8fd8\u6709\u5f88\u591a\u5176\u4ed6\u53ef\u9009\u9879\u548c\u53c2\u6570\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u5b9a\u5236\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c`git diff --help`\u547d\u4ee4\u6765\u67e5\u770b\u6240\u6709\u53ef\u7528\u9009\u9879\u548c\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\\n\\n### 1.3 \u9ed8\u8ba4\u8f93\u51fa\u683c\u5f0f\\n\\n\u6267\u884c\\n```shell\\ngit diff 801aae133e70fe312223faccd97072e8afc07404\\n````\\n\\n\u5176\u8f93\u51fa\u662f\u4e0b\u9762\u8fd9\u6837\u7684\u4e00\u4e2a\u5217\u8868\uff0c\u6bcf\u4e00\u9879\u4ee3\u8868\u67d0\u4e2a\u6587\u4ef6\u524d\u540e\u5bf9\u6bd4\\n\\n```text\\ndiff --git a/libs/grpc/src/grpc.service.ts b/libs/grpc/src/grpc.service.ts\\nindex 3b551ff..33b5a94 100644\\n--- a/libs/grpc/src/grpc.service.ts\\n+++ b/libs/grpc/src/grpc.service.ts\\n@@ -12,6 +12,7 @@ import { dynamicProxyUrl, localService } from \'@app/config/local.service\';\\n import { migrationMap } from \'@app/shared/migrationMap\';\\n import { rpcMetrics } from \'@/prom/prom.client\';\\n import { CURRENT_ETCD } from \'@app/shared/etcd.config\';\\n+import { isThDGL } from \'@app/shared/utils/getFromContext\';\\n \\n @Injectable()\\n export class GrpcService {\\n@@ -41,6 +42,10 @@ export class GrpcService {\\n       );\\n     }\\n \\n+    if (region === \'th\') {\\n+      body = { ...body, licenseType: isThDGL() ? \'Digi\' : \'CCC\' };\\n+    }\\n+\\n     const rpcAction = getRpc(service, rpc, address as string);\\n     let makeParam =\\n       (body && body[\'migrationMap\']) || service === Service.LoanCoreDebt\\n```\\n\\n**1) diff \u683c\u5f0f**\\n\\n\u7b2c\u4e00\u884c\u8868\u793a\u7ed3\u679c\u4e3a git \u683c\u5f0f\u7684 diff:\\n```\\ndiff --git a/libs/grpc/src/grpc.service.ts b/libs/grpc/src/grpc.service.ts\\n```\\n\\n**2) diff \u5bf9\u8c61**\\n\\n\u7b2c\u4e8c\u884c\u8868\u793a\u4e24\u4e2a\u7248\u672c\u7684git\u54c8\u5e0c\u503c\\n```\\nindex 3b551ff..33b5a94 100644\\n```\\n\\nindex \u533a\u57df\u7684 3b551ff \u5bf9\u8c61 \u4e0e\u5de5\u4f5c\u76ee\u5f55\u533a\u57df\u7684 33b5a94 \u5bf9\u8c61\u8fdb\u884c\u6bd4\u8f83\uff0c\u6700\u540e\u7684\u516d\u4f4d\u6570\u5b57\u662f\u5bf9\u8c61\u7684\u6a21\u5f0f\uff08\u666e\u901a\u6587\u4ef6\uff0c644\u6743\u9650\uff09\\n\\n**3) \u53d8\u52a8\u8303\u56f4**\\n\\n\\"---\\"\u8868\u793a\u53d8\u52a8\u524d\u7684\u6587\u4ef6\uff0c\\"+++\\"\u8868\u793a\u53d8\u52a8\u540e\u7684\u6587\u4ef6\uff0c\u53d8\u52a8\u7684\u4f4d\u7f6e\u7528\u4e24\u4e2a@\u4f5c\u4e3a\u8d77\u9996\u548c\u7ed3\u675f\uff0c`@@ -12,6 +12,7 @@`\\n\\n\u524d\u9762\u7684\\"-12,6\\"\u5206\u6210\u4e09\u4e2a\u90e8\u5206\uff1a\u51cf\u53f7\u8868\u793a\u7b2c\u4e00\u4e2a\u6587\u4ef6\uff08\u5373f1\uff09\uff0c\\"12\\"\u8868\u793a\u7b2c12\u884c\uff0c\\"6\\"\u8868\u793a\u8fde\u7eed6\u884c\u3002\u5408\u5728\u4e00\u8d77\uff0c\u5c31\u8868\u793a\u4e0b\u9762\u662f\u7b2c\u4e00\u4e2a\u6587\u4ef6\u4ece\u7b2c16\u884c\u5f00\u59cb\u7684\u8fde\u7eed6\u884c\u3002\u540c\u6837\u7684\uff0c\\"+12,7\\"\u8868\u793a\u53d8\u52a8\u540e\uff0c\u6210\u4e3a\u7b2c\u4e8c\u4e2a\u6587\u4ef6\u4ece\u7b2c12\u884c\u5f00\u59cb\u7684\u8fde\u7eed7\u884c\u3002\\n\\n**4) \u53d8\u52a8\u7684\u5177\u4f53\u5185\u5bb9**\\n\\n```text\\nimport { dynamicProxyUrl, localService } from \'@app/config/local.service\';\\nimport { migrationMap } from \'@app/shared/migrationMap\';\\nimport { rpcMetrics } from \'@/prom/prom.client\';\\nimport { CURRENT_ETCD } from \'@app/shared/etcd.config\';\\n\\n@Injectable()\\nexport class GrpcService {\\n```\\n\\n```text\\n import { dynamicProxyUrl, localService } from \'@app/config/local.service\';\\n import { migrationMap } from \'@app/shared/migrationMap\';\\n import { rpcMetrics } from \'@/prom/prom.client\';\\n import { CURRENT_ETCD } from \'@app/shared/etcd.config\';\\n+import { isThDGL } from \'@app/shared/utils/getFromContext\';\\n \\n @Injectable()\\n export class GrpcService {\\n```\\n\\n### 1.4 diff \u53ef\u89c6\u5316\u5c55\u793a\\n\\n\u6839\u636e `@@` \u8fdb\u884c\u5206\u5272\uff0c\u8fdb\u884c\u9010\u884c\u5bf9\u6bd4\uff0c\u5373\u53ef\u627e\u5230\u67d0\u884c\u662f\u88ab\u5220\u9664\u3001\u8fd8\u662f\u589e\u52a0\u3002\\n\\n## 2\u3001\u53c2\u6570\\n\\n```text\\n  -z            output diff-raw with lines terminated with NUL.\\n  -p            output patch format.\\n  -u            synonym for -p.\\n  --patch-with-raw\\n                output both a patch and the diff-raw format.\\n  --stat        show diffstat instead of patch.\\n  --numstat     show numeric diffstat instead of patch.\\n  --patch-with-stat\\n                output a patch and prepend its diffstat.\\n  --name-only   show only names of changed files.\\n  --name-status show names and status of changed files.\\n  --full-index  show full object name on index lines.\\n  --abbrev=<n>  abbreviate object names in diff-tree header and diff-raw.\\n  -R            swap input file pairs.\\n  -B            detect complete rewrites.\\n  -M            detect renames.\\n  -C            detect copies.\\n  --find-copies-harder\\n                try unchanged files as candidate for copy detection.\\n  -l<n>         limit rename attempts up to <n> paths.\\n  -O<file>      reorder diffs according to the <file>.\\n  -S<string>    find filepair whose only one side contains the string.\\n  --pickaxe-all\\n                show all files diff when -S is used and hit is found.\\n  -a  --text    treat all files as text.\\n```\\n\\n### 2.1 name-only \u53ea\u5c55\u793a\u6587\u4ef6\u540d\\n```shell\\ngit diff --name-only  master\\n```\\n\\n```text\\nlibs/config/src/th/local.config.ts\\nlibs/config/src/th/test.config.ts\\nlibs/config/src/th/uat.config.ts\\nlibs/db/src/db.service.ts\\nlibs/elastic/src/elastic.interface.ts\\nlibs/elastic/src/elastic.service.ts\\nlibs/grpc/src/grpc.service.ts\\nlibs/grpc/src/proto/protobuf-uc\\n```\\n\\n\u770b\u4e0d\u51fa\u6587\u4ef6\u662f\u6539\u52a8\u3001\u5220\u9664\u6216\u8005\u65b0\u589e\\n\\n### 2.2 --stat \u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\\n\\n\u4f7f\u7528 `--stat` \u9009\u9879\u53ef\u4ee5\u5e2e\u52a9\u60a8\u5feb\u901f\u4e86\u89e3\u6587\u4ef6\u95f4\u7684\u5927\u81f4\u5dee\u5f02\uff0c\u4ee5\u4fbf\u66f4\u597d\u5730\u7406\u89e3Git\u5b58\u50a8\u5e93\u4e2d\u7684\u6539\u52a8\u60c5\u51b5\u3002\\n\\n```shell\\ngit diff --stat 801aae133e70fe312223faccd97072e8afc07404\\n```\\n\\n```text\\nlibs/grpc/src/grpc.service.ts     | 5 +++++ [\u589e\u52a05\u884c]\\nlibs/grpc/src/proto/protobuf-uc   | 2 +-    [\u589e\u52a01\u884c\uff0c\u5220\u96641\u884c]\\nlibs/grpc/src/services/BaseRpc.ts | 5 +++++ [\u589e\u52a05\u884c]\\n3 files changed, 11 insertions(+), 1 deletion(-)\\n```\\n\\n### 2.3 `--numstat` \u4ee5\u6570\u5b57\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\\n\\n\u7528\u4e8e\u4ee5\u6570\u5b57\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\u3002\u5b83\u4f1a\u663e\u793a\u51fa\u6bcf\u4e2a\u6587\u4ef6\u88ab\u6dfb\u52a0\u3001\u5220\u9664\u548c\u4fee\u6539\u7684\u884c\u6570\u3002\\n\\n```shell\\n$ git diff --numstat 801aae133e70fe312223faccd97072e8afc07404\\n5       0       libs/grpc/src/grpc.service.ts\\n1       1       libs/grpc/src/proto/protobuf-uc\\n5       0       libs/grpc/src/services/BaseRpc.ts\\n```\\n\\n### 2.4 --name-status \u5c55\u793a\u6587\u4ef6\u4fee\u6539\u7c7b\u578b\\n\\n```shell\\ngit diff --name-status  801aae133e70fe312223faccd97072e8afc07404\\nM       libs/grpc/src/grpc.service.ts\\nM       libs/grpc/src/proto/protobuf-uc\\nM       libs/grpc/src/services/BaseRpc.ts\\n```\\n\\n`--name-status` \u7528\u4e8e\u4ee5\u6587\u4ef6\u540d\u548c\u72b6\u6001\u7684\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u5dee\u5f02\u7684\u6458\u8981\u4fe1\u606f\u3002\u5b83\u4f1a\u663e\u793a\u51fa\u6bcf\u4e2a\u6587\u4ef6\u7684\u72b6\u6001\uff0c\u5305\u62ec\u88ab\u6dfb\u52a0\u3001\u88ab\u4fee\u6539\u548c\u88ab\u5220\u9664\u3002\\n\u5f53\u60a8\u6267\u884cGit diff\u547d\u4ee4\uff0c\u5e76\u6dfb\u52a0\u4e86`--name-status`\u9009\u9879\uff0cGit\u4f1a\u4e3a\u6bcf\u4e2a\u6587\u4ef6\u4ea7\u751f\u4e00\u4e2a\u6458\u8981\uff0c\u4ee5\u6587\u4ef6\u540d\u548c\u5176\u72b6\u6001\u7684\u5f62\u5f0f\u663e\u793a\u6587\u4ef6\u7684\u5dee\u5f02\u7edf\u8ba1\u4fe1\u606f\u3002\u8f93\u51fa\u7ed3\u679c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5\uff1a\u6587\u4ef6\u7684\u72b6\u6001\u548c\u6587\u4ef6\u540d\u3002\\n\\n\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f7f\u7528`--name-status`\u9009\u9879\u7684\u793a\u4f8b\uff1a\\n\\n```\\ngit diff --name-status\\n```\\n\\n\u8fd9\u5c06\u663e\u793a\u51faGit\u5b58\u50a8\u5e93\u4e2d\u5f53\u524d\u5206\u652f\u548c\u4e0a\u4e00\u4e2a\u5206\u652f\u4e4b\u95f4\u7684\u6587\u4ef6\u5dee\u5f02\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\u8f93\u51fa\u7ed3\u679c\u53ef\u80fd\u7c7b\u4f3c\u4e8e\u4e0b\u9762\u7684\u6837\u5f0f\uff1a\\n\\n```\\nA       file1.txt\\nM       file2.txt\\nD       file3.txt\\n```\\n\\n\u8fd9\u4e2a\u793a\u4f8b\u544a\u8bc9\u6211\u4eec\uff0c`file1.txt` \u6587\u4ef6\u662f\u88ab\u6dfb\u52a0\u7684\uff08Added\uff09\uff0c`file2.txt` \u6587\u4ef6\u662f\u88ab\u4fee\u6539\u7684\uff08Modified\uff09\uff0c`file3.txt` \u6587\u4ef6\u662f\u88ab\u5220\u9664\u7684\uff08Deleted\uff09\u3002\\n\\n`--name-status` \u9009\u9879\u5bf9\u4e8e\u9700\u8981\u4ee5\u6587\u4ef6\u72b6\u6001\u5f62\u5f0f\u83b7\u53d6\u6587\u4ef6\u5dee\u5f02\u7edf\u8ba1\u4fe1\u606f\u7684\u60c5\u51b5\u5f88\u6709\u7528\u3002\u5b83\u53ef\u4ee5\u5e2e\u52a9\u60a8\u4e86\u89e3\u6bcf\u4e2a\u6587\u4ef6\u7684\u72b6\u6001\uff0c\u5305\u62ec\u6dfb\u52a0\u3001\u4fee\u6539\u548c\u5220\u9664\u7b49\u64cd\u4f5c\u3002\\n\\n## 3\u3001\u53c2\u8003\u6587\u6863\\n\\n- [\u8bfb\u61c2diff] https://www.ruanyifeng.com/blog/2012/08/how_to_read_diff.html","isLeaf":true},{"key":"/git/09-multile-github.md","path":"/git/09-multile-github.md","route":"/git/09-multile-github.md","leaf":true,"title":"09-multile-github","depth":1,"content":"---\\ntags: Git\\n---\\n\\n1\u53f0\u7535\u8111\u4e0a\u4f7f\u7528\u4e24\u4e2agithub\u8d26\u6237\uff0c\u53c2\u8003 https://juejin.cn/post/6844904086085582862 \u6216\u8005\u53ef\u4ee5\u901a\u8fc7 github token \u6765\u907f\u514d\u8fd9\u4e2a\u95ee\u9898","isLeaf":true},{"key":"/git/10-commit-rule.md","path":"/git/10-commit-rule.md","route":"/git/10-commit-rule.md","leaf":true,"title":"10-commit-rule","depth":1,"content":"---\\ntags: Git\\n---\\n\\n## 1\u3001\u63d0\u4ea4\u683c\u5f0f\\n```text\\ntype(scope): message\\n```\\n\\n## 2\u3001type\\n- feat\uff1a\u65b0\u529f\u80fd\u7684\u5f00\u53d1\\n- fix\uff1abug\u7684\u4fee\u590d\\n- docs\uff1a\u6587\u6863\u683c\u5f0f\u7684\u6539\u52a8\\n- style\uff1a\u4ee3\u7801\u683c\u5f0f\u6539\u53d8\\n- refactor\uff1a\u5bf9\u5df2\u6709\u7684\u529f\u80fd\u8fdb\u884c\u91cd\u6784\\n- perf\uff1a\u6027\u80fd\u4f18\u5316\\n- test\uff1a\u589e\u52a0\u6d4b\u8bd5\\n- build\uff1a\u6539\u53d8\u4e86build\u5de5\u5177\\n- revert\uff1a\u64a4\u9500\u4e0a\u4e00\u6b21\u7684commit\u63d0\u4ea4\\n- chore\uff1a\u65e5\u5e38\u7684\u4e00\u4e9b\u5c0f\u66f4\u6539\\n\\n## 3\u3001scope\\n\u7528\u4e8e\u8bf4\u660e commit \u5f71\u54cd\u7684\u8303\u56f4\uff0c\u6bd4\u5982\uff1a\u6743\u9650\u6a21\u5757\u3001\u8fd8\u662f\u9996\u9875","isLeaf":true},{"key":"/git/11-use-hooks.md","path":"/git/11-use-hooks.md","route":"/git/11-use-hooks.md","leaf":true,"title":"11-use-hooks","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u53c2\u8003 https://www.cnblogs.com/woai3c/p/15033530.html \u7279\u522b\u6ce8\u610f hooks \u6587\u4ef6\u7684\u6743\u9650\u95ee\u9898","isLeaf":true},{"key":"/git/12-file-timeline.md","path":"/git/12-file-timeline.md","route":"/git/12-file-timeline.md","leaf":true,"title":"12-file-timeline","depth":1,"content":"---\\ntags: Git\\n---\\n\\n## 1\u3001sourcetree\\n\u4f7f\u7528 git \u547d\u4ee4\u4e0d\u591f\u76f4\u89c2\uff0c\u53ef\u4ee5\u4f7f\u7528 sourcetree, \u70b9\u51fb\u6587\u4ef6 \u3010\u67e5\u770b\u9009\u4e2d\u7684\u4fee\u6539\u65e5\u5fd7\u3011\\n\\n## 2\u3001vscode\\n\u53ef\u4ee5\u67e5\u770b\u5f53\u524d\u7a97\u53e3\u6587\u4ef6\u7684\u65f6\u95f4\u7ebf","isLeaf":true},{"key":"/git/13-git-log.md","path":"/git/13-git-log.md","route":"/git/13-git-log.md","leaf":true,"title":"13-git-log","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u53c2\u8003 https://zhuanlan.zhihu.com/p/183131156\\n\\n```shell\\ngit log --oneline\\ngit log --stat\\n```","isLeaf":true},{"key":"/git/14-gen-ssh-key.md","path":"/git/14-gen-ssh-key.md","route":"/git/14-gen-ssh-key.md","leaf":true,"title":"14-gen-ssh-key","depth":1,"content":"---\\ntags: Git\\n---\\n\\n```shell\\n# make\\nssh-keygen -t rsa -C \\"2856116089@qq.com\\"\\n\\n# config\\ngit config --global user.name \\"waisai\\"\\ngit config --global user.email \\"2856116089@qq.com\\"\\n```","isLeaf":true},{"key":"/git/15-rm-cached.md","path":"/git/15-rm-cached.md","route":"/git/15-rm-cached.md","leaf":true,"title":"15-rm-cached","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u6709\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u5ffd\u7565\u6389\u4ee5\u524d\u63d0\u4ea4\u8fc7\u7684\u6587\u4ef6\uff0c\u56e0\u4e3agit\u5df2\u7ecf\u7d22\u5f15\u4e86\u8be5\u6587\u4ef6\uff0c\u6240\u4ee5\u6211\u4eec\u5148\u8981\u5220\u9664\u6389\u8be5\u6587\u4ef6\u7684\u7f13\u5b58\uff0c\u5982\u6587\u4ef6 main.ts \u5df2\u7ecf\u63d0\u4ea4\u8fc7\u4e86\uff0c\u73b0\u5728\u6211\u4eec\u60f3\u5ffd\u7565\uff0c\u8fd9\u662f\u6211\u4eec\u5148\u5728 .gitignore \u4e2d\u8bbe\u7f6e\u8be5\u6587\u4ef6\u4e3a\u5ffd\u7565\u3002\\n\\n- \u4f7f\u7528 git rm --cached \u4ece Git \u7684\u6570\u636e\u5e93\u4e2d\u5220\u9664\u5bf9\u4e8e\u8be5\u6587\u4ef6\u7684\u8ffd\u8e2a\\n- \u628a\u5bf9\u5e94\u7684\u89c4\u5219\u5199\u5165 .gitignore\uff0c\u8ba9\u5ffd\u7565\u771f\u6b63\u751f\u6548\\n\\n```shell\\ngit rm --cached main.ts\\n\\n# \u82e5\u662f\u6587\u4ef6\u5939\\ngit rm -r --cached folder/\\n```","isLeaf":true},{"key":"/git/16-reset-vs-revert.md","path":"/git/16-reset-vs-revert.md","route":"/git/16-reset-vs-revert.md","leaf":true,"title":"16-reset-vs-revert","depth":1,"content":"---\\ntags: Git\\n---\\n\\n- reset \u662f\u5f7b\u5e95\u56de\u9000\u5230\u6307\u5b9a\u7684commit\u7248\u672c\uff0c\u8be5commit\u540e\u7684\u6240\u6709commit\u90fd\u5c06\u88ab\u6e05\u9664\uff0c\u5305\u62ec\u63d0\u4ea4\u5386\u53f2\u8bb0\u5f55\uff1b\\n- revert \u4ec5\u4ec5\u662f\u64a4\u9500\u6307\u5b9acommit\u7684\u4fee\u6539\uff0c\u5e76\u4e0d\u5f71\u54cd\u540e\u7eed\u7684commit\uff0c\u4f46\u6240\u64a4\u9500\u7684commit\u88ab\u540e\u7eed\u7684commit\u4fee\u6539\u4e86\u540c\u4e00\u5730\u65b9\u5219\u4f1a\u4ea7\u751f\u51b2\u7a81\uff1b\\n- reset \u6267\u884c\u540e\u4e0d\u4f1a\u4ea7\u751f\u8bb0\u5f55\uff0crevert\u6267\u884c\u540e\u4f1a\u4ea7\u751f\u8bb0\u5f55\uff1b\\n- reset \u6267\u884c\u540e\u65e0\u6cd5\u518d\u6b21\u6062\u590d\uff0crevert\u6267\u884c\u540e\u56e0\u4e3a\u4e0d\u4f1a\u6e05\u9664\u8bb0\u5f55\uff0c\u5e76\u4e14\u4f1a\u4ea7\u751f\u65b0\u7eaa\u5f55\uff0c\u6240\u4ee5\u6587\u4ef6\u4e0d\u4f1a\u4e22\u5931\uff0c\u4f60\u53ef\u4ee5\u591a\u6b21\u6267\u884crevert\u6062\u590d\u5230\u67d0\u6b21\u6539\u53d8\u4e4b\u524d\u7684\u72b6\u6001\uff1b\\n- reset \u6267\u884c\u540eHEAD\u4f1a\u540e\u79fb\uff0c\u800crevert\u7684HEAD\u5219\u4e00\u76f4\u662f\u5411\u524d\u7684\uff1b\\n\\nhttps://blog.csdn.net/baiyuliang2013/article/details/120646835","isLeaf":true},{"key":"/git/17-case-sensitive.md","path":"/git/17-case-sensitive.md","route":"/git/17-case-sensitive.md","leaf":true,"title":"17-case-sensitive","depth":1,"content":"---\\ntags: Git\\n---\\n\\n\u6587\u4ef6\u7cfb\u7edf\u5927\u5c0f\u5199\u654f\u611f\u662f\u975e\u5e38\u91cd\u8981\uff0c\u4f1a\u5e26\u6765\u8bf8\u591a\u95ee\u9898\u3002\u6bd4\u5982\u4e0d\u654f\u611f\u65f6\uff0c\u5f53\u4f60\u5e0c\u671b\u4fee\u6539\u6587\u4ef6\u76ee\u5f55\u4ece\u5c0f\u5199\u5230\u5927\u5199\u65f6\uff0cgit \u72b6\u6001\u662f\u672a\u53d1\u751f\u53d8\u66f4\uff0c\u610f\u5473\u7740\u4f60\u65e0\u6cd5\u63d0\u4ea4\u3002","isLeaf":true}]}]'),Pd=Nd.map((function(e){return e.title}));var Td=function(){var n,t=s((0,e.useState)(Pd[0]),2),r=t[0],o=t[1],a=null===(n=Nd.find((function(e){return e.title===r})))||void 0===n?void 0:n.children;return(0,Ir.jsxs)("div",{className:"page-article-list",children:[(0,Ir.jsxs)("div",{className:"content",children:[(0,Ir.jsx)("div",{className:"tags",children:Pd.map((function(e){var n=e===r?"tag is-active":"tag";return(0,Ir.jsx)("div",{onClick:function(){o(e)},className:n,children:e},e)}))}),(0,Ir.jsx)("div",{className:"article-list",children:null===a||void 0===a?void 0:a.map((function(e){return(0,Ir.jsx)(Yn,{to:"/article".concat(e.route),className:"article-list-item",children:e.title})}))})]}),(0,Ir.jsx)("div",{className:"side"})]})};function Id(){return(0,Ir.jsx)("div",{children:"hello"})}function Od(){return(0,Ir.jsx)("div",{children:"ArticleSingleTag"})}var Ld,Dd=function(){if(!nr()||!window.document.documentElement)return!1;if(void 0!==Ld)return Ld;var e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div"));var n=document.createElement("div");return n.style.position="absolute",n.style.zIndex="-9999",n.appendChild(e),document.body.appendChild(n),Ld=1===e.scrollHeight,document.body.removeChild(n),Ld},Rd=e.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),Md=Rd.Provider;function qd(n){var t=n.className,r=n.direction,o=n.index,a=n.marginDirection,i=n.children,s=n.split,l=n.wrap,c=n.style,u=e.useContext(Rd),d=u.horizontalSize,p=u.verticalSize,f=u.latestIndex,h={};return u.supportFlexGap||("vertical"===r?o<f&&(h={marginBottom:d/(s?2:1)}):h=Object.assign(Object.assign({},o<f&&w({},a,d/(s?2:1))),l&&{paddingBottom:p})),null===i||void 0===i?null:e.createElement(e.Fragment,null,e.createElement("div",{className:t,style:Object.assign(Object.assign({},h),c)},i),o<f&&s&&e.createElement("span",{className:"".concat(t,"-split"),style:h},s))}var Fd=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},Bd={small:8,middle:16,large:24};var zd=e.forwardRef((function(n,t){var r,o,a,i=e.useContext(Fr),l=i.getPrefixCls,c=i.space,u=i.direction,d=n.size,p=void 0===d?(null===c||void 0===c?void 0:c.size)||"small":d,f=n.align,h=n.className,m=n.rootClassName,g=n.children,b=n.direction,v=void 0===b?"horizontal":b,y=n.prefixCls,x=n.split,k=n.style,S=n.wrap,E=void 0!==S&&S,C=n.classNames,_=n.styles,j=Fd(n,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),A=function(){var n=s(e.useState(!1),2),t=n[0],r=n[1];return e.useEffect((function(){r(Dd())}),[]),t}(),N=s(e.useMemo((function(){return(Array.isArray(p)?p:[p,p]).map((function(e){return function(e){return"string"===typeof e?Bd[e]:e||0}(e)}))}),[p]),2),P=N[0],T=N[1],I=Ns(g,{keepEmpty:!0}),O=void 0===f&&"horizontal"===v?"center":f,L=l("space",y),D=s(Is(L),2),R=D[0],M=D[1],q=st()(L,null===c||void 0===c?void 0:c.className,M,"".concat(L,"-").concat(v),(w(r={},"".concat(L,"-rtl"),"rtl"===u),w(r,"".concat(L,"-align-").concat(O),O),r),h,m),F=st()("".concat(L,"-item"),null!==(o=null===C||void 0===C?void 0:C.item)&&void 0!==o?o:null===(a=null===c||void 0===c?void 0:c.classNames)||void 0===a?void 0:a.item),B="rtl"===u?"marginLeft":"marginRight",z=0,U=I.map((function(n,t){var r,o;null!==n&&void 0!==n&&(z=t);var a=n&&n.key||"".concat(F,"-").concat(t);return e.createElement(qd,{className:F,key:a,direction:v,index:t,marginDirection:B,split:x,wrap:E,style:null!==(r=null===_||void 0===_?void 0:_.item)&&void 0!==r?r:null===(o=null===c||void 0===c?void 0:c.styles)||void 0===o?void 0:o.item},n)})),H=e.useMemo((function(){return{horizontalSize:P,verticalSize:T,latestIndex:z,supportFlexGap:A}}),[P,T,z,A]);if(0===I.length)return null;var V={};return E&&(V.flexWrap="wrap",A||(V.marginBottom=-T)),A&&(V.columnGap=P,V.rowGap=T),R(e.createElement("div",Object.assign({ref:t,className:q,style:Object.assign(Object.assign(Object.assign({},V),null===c||void 0===c?void 0:c.style),k)},j),e.createElement(Md,{value:H},U)))}));var Ud=zd;Ud.Compact=qs;var Hd=Ud,Vd="RC_FORM_INTERNAL_HOOKS",Gd=function(){er(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Wd=e.createContext({getFieldValue:Gd,getFieldsValue:Gd,getFieldError:Gd,getFieldWarning:Gd,getFieldsError:Gd,isFieldsTouched:Gd,isFieldTouched:Gd,isFieldValidating:Gd,isFieldsValidating:Gd,resetFields:Gd,setFields:Gd,setFieldValue:Gd,setFieldsValue:Gd,validateFields:Gd,submit:Gd,getInternalHooks:function(){return Gd(),{dispatch:Gd,initEntityValue:Gd,registerField:Gd,useSubscribe:Gd,setInitialValues:Gd,destroyForm:Gd,setCallbacks:Gd,registerWatch:Gd,getFields:Gd,setValidateMessages:Gd,setPreserve:Gd,getInitialValue:Gd}}}),$d=e.createContext(null);function Kd(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Qd.apply(this,arguments)}function Jd(e){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jd(e)}function Xd(e,n){return Xd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},Xd(e,n)}function Zd(e,n,t){return Zd=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(kh){return!1}}()?Reflect.construct.bind():function(e,n,t){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return t&&Xd(o,t.prototype),o},Zd.apply(null,arguments)}function Yd(e){var n="function"===typeof Map?new Map:void 0;return Yd=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return Zd(e,arguments,Jd(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Xd(r,e)},Yd(e)}var ep=/%[sdj%]/g;function np(e){if(!e||!e.length)return null;var n={};return e.forEach((function(e){var t=e.field;n[t]=n[t]||[],n[t].push(e)})),n}function tp(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var o=0,a=t.length;return"function"===typeof e?e.apply(null,t):"string"===typeof e?e.replace(ep,(function(e){if("%%"===e)return"%";if(o>=a)return e;switch(e){case"%s":return String(t[o++]);case"%d":return Number(t[o++]);case"%j":try{return JSON.stringify(t[o++])}catch(n){return"[Circular]"}break;default:return e}})):e}function rp(e,n){return void 0===e||null===e||(!("array"!==n||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(n)||"string"!==typeof e||e))}function op(e,n,t){var r=0,o=e.length;!function a(i){if(i&&i.length)t(i);else{var s=r;r+=1,s<o?n(e[s],a):t([])}}([])}var ap=function(e){var n,t;function r(n,t){var r;return(r=e.call(this,"Async Validation Error")||this).errors=n,r.fields=t,r}return t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,Xd(n,t),r}(Yd(Error));function ip(e,n,t,r,o){if(n.first){var a=new Promise((function(n,a){var i=function(e){var n=[];return Object.keys(e).forEach((function(t){n.push.apply(n,e[t]||[])})),n}(e);op(i,t,(function(e){return r(e),e.length?a(new ap(e,np(e))):n(o)}))}));return a.catch((function(e){return e})),a}var i=!0===n.firstFields?Object.keys(e):n.firstFields||[],s=Object.keys(e),l=s.length,c=0,u=[],d=new Promise((function(n,a){var d=function(e){if(u.push.apply(u,e),++c===l)return r(u),u.length?a(new ap(u,np(u))):n(o)};s.length||(r(u),n(o)),s.forEach((function(n){var r=e[n];-1!==i.indexOf(n)?op(r,t,d):function(e,n,t){var r=[],o=0,a=e.length;function i(e){r.push.apply(r,e||[]),++o===a&&t(r)}e.forEach((function(e){n(e,i)}))}(r,t,d)}))}));return d.catch((function(e){return e})),d}function sp(e,n){return function(t){var r,o;return r=e.fullFields?function(e,n){for(var t=e,r=0;r<n.length;r++){if(void 0==t)return t;t=t[n[r]]}return t}(n,e.fullFields):n[t.field||e.fullField],(o=t)&&void 0!==o.message?(t.field=t.field||e.fullField,t.fieldValue=r,t):{message:"function"===typeof t?t():t,fieldValue:r,field:t.field||e.fullField}}}function lp(e,n){if(n)for(var t in n)if(n.hasOwnProperty(t)){var r=n[t];"object"===typeof r&&"object"===typeof e[t]?e[t]=Qd({},e[t],r):e[t]=r}return e}var cp,up=function(e,n,t,r,o,a){!e.required||t.hasOwnProperty(e.field)&&!rp(n,a||e.type)||r.push(tp(o.messages.required,e.fullField))},dp=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,pp=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,fp={integer:function(e){return fp.number(e)&&parseInt(e,10)===e},float:function(e){return fp.number(e)&&!fp.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(kh){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!fp.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(dp)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(cp)return cp;var e="[a-fA-F\\d:]",n=function(n){return n&&n.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+t+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+t+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+t+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+t+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+t+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+t+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+t+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+t+"$)|(?:^"+o+"$)"),i=new RegExp("^"+t+"$"),s=new RegExp("^"+o+"$"),l=function(e){return e&&e.exact?a:new RegExp("(?:"+n(e)+t+n(e)+")|(?:"+n(e)+o+n(e)+")","g")};l.v4=function(e){return e&&e.exact?i:new RegExp(""+n(e)+t+n(e),"g")},l.v6=function(e){return e&&e.exact?s:new RegExp(""+n(e)+o+n(e),"g")};var c=l.v4().source,u=l.v6().source;return cp=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+u+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(pp)}},hp="enum",mp={required:up,whitespace:function(e,n,t,r,o){(/^\s+$/.test(n)||""===n)&&r.push(tp(o.messages.whitespace,e.fullField))},type:function(e,n,t,r,o){if(e.required&&void 0===n)up(e,n,t,r,o);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?fp[a](n)||r.push(tp(o.messages.types[a],e.fullField,e.type)):a&&typeof n!==e.type&&r.push(tp(o.messages.types[a],e.fullField,e.type))}},range:function(e,n,t,r,o){var a="number"===typeof e.len,i="number"===typeof e.min,s="number"===typeof e.max,l=n,c=null,u="number"===typeof n,d="string"===typeof n,p=Array.isArray(n);if(u?c="number":d?c="string":p&&(c="array"),!c)return!1;p&&(l=n.length),d&&(l=n.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==e.len&&r.push(tp(o.messages[c].len,e.fullField,e.len)):i&&!s&&l<e.min?r.push(tp(o.messages[c].min,e.fullField,e.min)):s&&!i&&l>e.max?r.push(tp(o.messages[c].max,e.fullField,e.max)):i&&s&&(l<e.min||l>e.max)&&r.push(tp(o.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,n,t,r,o){e[hp]=Array.isArray(e[hp])?e[hp]:[],-1===e[hp].indexOf(n)&&r.push(tp(o.messages[hp],e.fullField,e[hp].join(", ")))},pattern:function(e,n,t,r,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||r.push(tp(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(n)||r.push(tp(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},gp=function(e,n,t,r,o){var a=e.type,i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rp(n,a)&&!e.required)return t();mp.required(e,n,r,i,o,a),rp(n,a)||mp.type(e,n,r,i,o)}t(i)},bp={string:function(e,n,t,r,o){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rp(n,"string")&&!e.required)return t();mp.required(e,n,r,a,o,"string"),rp(n,"string")||(mp.type(e,n,r,a,o),mp.range(e,n,r,a,o),mp.pattern(e,n,r,a,o),!0===e.whitespace&&mp.whitespace(e,n,r,a,o))}t(a)},method:function(e,n,t,r,o){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rp(n)&&!e.required)return t();mp.required(e,n,r,a,o),void 0!==n&&mp.type(e,n,r,a,o)}t(a)},number:function(e,n,t,r,o){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===n&&(n=void 0),rp(n)&&!e.required)return t();mp.required(e,n,r,a,o),void 0!==n&&(mp.type(e,n,r,a,o),mp.range(e,n,r,a,o))}t(a)},boolean:function(e,n,t,r,o){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rp(n)&&!e.required)return t();mp.required(e,n,r,a,o),void 0!==n&&mp.type(e,n,r,a,o)}t(a)},regexp:function(e,n,t,r,o){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rp(n)&&!e.required)return t();mp.required(e,n,r,a,o),rp(n)||mp.type(e,n,r,a,o)}t(a)},integer:function(e,n,t,r,o){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rp(n)&&!e.required)return t();mp.required(e,n,r,a,o),void 0!==n&&(mp.type(e,n,r,a,o),mp.range(e,n,r,a,o))}t(a)},float:function(e,n,t,r,o){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rp(n)&&!e.required)return t();mp.required(e,n,r,a,o),void 0!==n&&(mp.type(e,n,r,a,o),mp.range(e,n,r,a,o))}t(a)},array:function(e,n,t,r,o){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===n||null===n)&&!e.required)return t();mp.required(e,n,r,a,o,"array"),void 0!==n&&null!==n&&(mp.type(e,n,r,a,o),mp.range(e,n,r,a,o))}t(a)},object:function(e,n,t,r,o){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rp(n)&&!e.required)return t();mp.required(e,n,r,a,o),void 0!==n&&mp.type(e,n,r,a,o)}t(a)},enum:function(e,n,t,r,o){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rp(n)&&!e.required)return t();mp.required(e,n,r,a,o),void 0!==n&&mp.enum(e,n,r,a,o)}t(a)},pattern:function(e,n,t,r,o){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rp(n,"string")&&!e.required)return t();mp.required(e,n,r,a,o),rp(n,"string")||mp.pattern(e,n,r,a,o)}t(a)},date:function(e,n,t,r,o){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rp(n,"date")&&!e.required)return t();var i;if(mp.required(e,n,r,a,o),!rp(n,"date"))i=n instanceof Date?n:new Date(n),mp.type(e,i,r,a,o),i&&mp.range(e,i.getTime(),r,a,o)}t(a)},url:gp,hex:gp,email:gp,required:function(e,n,t,r,o){var a=[],i=Array.isArray(n)?"array":typeof n;mp.required(e,n,r,a,o,i),t(a)},any:function(e,n,t,r,o){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rp(n)&&!e.required)return t();mp.required(e,n,r,a,o)}t(a)}};function vp(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var yp=vp(),xp=function(){function e(e){this.rules=null,this._messages=yp,this.define(e)}var n=e.prototype;return n.define=function(e){var n=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(t){var r=e[t];n.rules[t]=Array.isArray(r)?r:[r]}))},n.messages=function(e){return e&&(this._messages=lp(vp(),e)),this._messages},n.validate=function(n,t,r){var o=this;void 0===t&&(t={}),void 0===r&&(r=function(){});var a=n,i=t,s=r;if("function"===typeof i&&(s=i,i={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,a),Promise.resolve(a);if(i.messages){var l=this.messages();l===yp&&(l=vp()),lp(l,i.messages),i.messages=l}else i.messages=this.messages();var c={};(i.keys||Object.keys(this.rules)).forEach((function(e){var t=o.rules[e],r=a[e];t.forEach((function(t){var i=t;"function"===typeof i.transform&&(a===n&&(a=Qd({},a)),r=a[e]=i.transform(r)),(i="function"===typeof i?{validator:i}:Qd({},i)).validator=o.getValidationMethod(i),i.validator&&(i.field=e,i.fullField=i.fullField||e,i.type=o.getType(i),c[e]=c[e]||[],c[e].push({rule:i,value:r,source:a,field:e}))}))}));var u={};return ip(c,i,(function(n,t){var r,o=n.rule,s=("object"===o.type||"array"===o.type)&&("object"===typeof o.fields||"object"===typeof o.defaultField);function l(e,n){return Qd({},n,{fullField:o.fullField+"."+e,fullFields:o.fullFields?[].concat(o.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!i.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==o.message&&(c=[].concat(o.message));var d=c.map(sp(o,a));if(i.first&&d.length)return u[o.field]=1,t(d);if(s){if(o.required&&!n.value)return void 0!==o.message?d=[].concat(o.message).map(sp(o,a)):i.error&&(d=[i.error(o,tp(i.messages.required,o.field))]),t(d);var p={};o.defaultField&&Object.keys(n.value).map((function(e){p[e]=o.defaultField})),p=Qd({},p,n.rule.fields);var f={};Object.keys(p).forEach((function(e){var n=p[e],t=Array.isArray(n)?n:[n];f[e]=t.map(l.bind(null,e))}));var h=new e(f);h.messages(i.messages),n.rule.options&&(n.rule.options.messages=i.messages,n.rule.options.error=i.error),h.validate(n.value,n.rule.options||i,(function(e){var n=[];d&&d.length&&n.push.apply(n,d),e&&e.length&&n.push.apply(n,e),t(n.length?n:null)}))}else t(d)}if(s=s&&(o.required||!o.required&&n.value),o.field=n.field,o.asyncValidator)r=o.asyncValidator(o,n.value,c,n.source,i);else if(o.validator){try{r=o.validator(o,n.value,c,n.source,i)}catch(d){null==console.error||console.error(d),i.suppressValidatorError||setTimeout((function(){throw d}),0),c(d.message)}!0===r?c():!1===r?c("function"===typeof o.message?o.message(o.fullField||o.field):o.message||(o.fullField||o.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var n=[],t={};function r(e){var t;Array.isArray(e)?n=(t=n).concat.apply(t,e):n.push(e)}for(var o=0;o<e.length;o++)r(e[o]);n.length?(t=np(n),s(n,t)):s(null,a)}(e)}),a)},n.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!bp.hasOwnProperty(e.type))throw new Error(tp("Unknown rule type %s",e.type));return e.type||"string"},n.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var n=Object.keys(e),t=n.indexOf("message");return-1!==t&&n.splice(t,1),1===n.length&&"required"===n[0]?bp.required:bp[this.getType(e)]||void 0},e}();xp.register=function(e,n){if("function"!==typeof n)throw new Error("Cannot register a validator by type, validator is not a function");bp[e]=n},xp.warning=function(){},xp.messages=yp,xp.validators=bp;var kp="'${name}' is not a valid ${type}",wp={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:kp,method:kp,array:kp,object:kp,number:kp,date:kp,boolean:kp,integer:kp,float:kp,regexp:kp,email:kp,url:kp,hex:kp},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Sp=xp;function Ep(e,n){return e.replace(/\$\{\w+\}/g,(function(e){var t=e.slice(2,-1);return n[t]}))}var Cp="CODE_LOGIC_ERROR";function _p(e,n,t,r,o){return jp.apply(this,arguments)}function jp(){return jp=k(y().mark((function n(t,r,o,a,i){var s,l,c,u,d,p,f,h,m;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return delete(s=$t({},o)).ruleIndex,Sp.warning=function(){},s.validator&&(l=s.validator,s.validator=function(){try{return l.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(Cp)}}),c=null,s&&"array"===s.type&&s.defaultField&&(c=s.defaultField,delete s.defaultField),u=new Sp(w({},t,[s])),d=Na(wp,a.validateMessages),u.messages(d),p=[],n.prev=10,n.next=13,Promise.resolve(u.validate(w({},t,r),$t({},a)));case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(10),n.t0.errors&&(p=n.t0.errors.map((function(n,t){var r=n.message,o=r===Cp?d.default:r;return e.isValidElement(o)?e.cloneElement(o,{key:"error_".concat(t)}):o})));case 18:if(p.length||!c){n.next=23;break}return n.next=21,Promise.all(r.map((function(e,n){return _p("".concat(t,".").concat(n),e,c,a,i)})));case 21:return f=n.sent,n.abrupt("return",f.reduce((function(e,n){return[].concat((0,N.Z)(e),(0,N.Z)(n))}),[]));case 23:return h=$t($t({},o),{},{name:t,enum:(o.enum||[]).join(", ")},i),m=p.map((function(e){return"string"===typeof e?Ep(e,h):e})),n.abrupt("return",m);case 26:case"end":return n.stop()}}),n,null,[[10,15]])}))),jp.apply(this,arguments)}function Ap(e,n,t,r,o,a){var i,s=e.join("."),l=t.map((function(e,n){var t=e.validator,r=$t($t({},e),{},{ruleIndex:n});return t&&(r.validator=function(e,n,r){var o=!1,a=t(e,n,(function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];Promise.resolve().then((function(){er(!o,"Your validator function has already return a promise. `callback` will be ignored."),o||r.apply(void 0,n)}))}));o=a&&"function"===typeof a.then&&"function"===typeof a.catch,er(o,"`callback` is deprecated. Please return a promise instead."),o&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,n){var t=e.warningOnly,r=e.ruleIndex,o=n.warningOnly,a=n.ruleIndex;return!!t===!!o?r-a:t?1:-1}));if(!0===o)i=new Promise(function(){var e=k(y().mark((function e(t,o){var i,c,u;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<l.length)){e.next=12;break}return c=l[i],e.next=5,_p(s,n,c,r,a);case 5:if(!(u=e.sent).length){e.next=9;break}return o([{errors:u,rule:c}]),e.abrupt("return");case 9:i+=1,e.next=1;break;case 12:t([]);case 13:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return _p(s,n,e,r,a).then((function(n){return{errors:n,rule:e}}))}));i=(o?function(e){return Pp.apply(this,arguments)}(c):function(e){return Np.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return i.catch((function(e){return e})),i}function Np(){return(Np=k(y().mark((function e(n){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(n).then((function(e){var n;return(n=[]).concat.apply(n,(0,N.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pp(){return(Pp=k(y().mark((function e(n){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.abrupt("return",new Promise((function(e){n.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(t+=1)===n.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tp(e){return Kd(e)}function Ip(e,n){var t={};return n.forEach((function(n){var r=Ea(e,n);t=_a(t,n,r)})),t}function Op(e,n){return e&&e.some((function(e){return Lp(e,n)}))}function Lp(e,n){return!(!e||!n||e.length!==n.length)&&e.every((function(e,t){return n[t]===e}))}function Dp(e){var n=arguments.length<=1?void 0:arguments[1];return n&&n.target&&"object"===c(n.target)&&e in n.target?n.target[e]:n}function Rp(e,n,t){var r=e.length;if(n<0||n>=r||t<0||t>=r)return e;var o=e[n],a=n-t;return a>0?[].concat((0,N.Z)(e.slice(0,t)),[o],(0,N.Z)(e.slice(t,n)),(0,N.Z)(e.slice(n+1,r))):a<0?[].concat((0,N.Z)(e.slice(0,n)),(0,N.Z)(e.slice(n+1,t+1)),[o],(0,N.Z)(e.slice(t+1,r))):e}var Mp=["name"],qp=[];function Fp(e,n,t,r,o,a){return"function"===typeof e?e(n,t,"source"in a?{source:a.source}:{}):r!==o}var Bp=function(n){h(r,n);var t=v(r);function r(n){var o;(l(this,r),(o=t.call(this,n)).state={resetCount:0},o.cancelRegisterFunc=null,o.mounted=!1,o.touched=!1,o.dirty=!1,o.validatePromise=void 0,o.prevValidating=void 0,o.errors=qp,o.warnings=qp,o.cancelRegister=function(){var e=o.props,n=e.preserve,t=e.isListField,r=e.name;o.cancelRegisterFunc&&o.cancelRegisterFunc(t,n,Tp(r)),o.cancelRegisterFunc=null},o.getNamePath=function(){var e=o.props,n=e.name,t=e.fieldContext.prefixName,r=void 0===t?[]:t;return void 0!==n?[].concat((0,N.Z)(r),(0,N.Z)(n)):[]},o.getRules=function(){var e=o.props,n=e.rules,t=void 0===n?[]:n,r=e.fieldContext;return t.map((function(e){return"function"===typeof e?e(r):e}))},o.refresh=function(){o.mounted&&o.setState((function(e){return{resetCount:e.resetCount+1}}))},o.triggerMetaEvent=function(e){var n=o.props.onMetaChange;null===n||void 0===n||n($t($t({},o.getMeta()),{},{destroy:e}))},o.onStoreChange=function(e,n,t){var r=o.props,a=r.shouldUpdate,i=r.dependencies,s=void 0===i?[]:i,l=r.onReset,c=t.store,u=o.getNamePath(),d=o.getValue(e),p=o.getValue(c),f=n&&Op(n,u);switch("valueUpdate"===t.type&&"external"===t.source&&d!==p&&(o.touched=!0,o.dirty=!0,o.validatePromise=null,o.errors=qp,o.warnings=qp,o.triggerMetaEvent()),t.type){case"reset":if(!n||f)return o.touched=!1,o.dirty=!1,o.validatePromise=void 0,o.errors=qp,o.warnings=qp,o.triggerMetaEvent(),null===l||void 0===l||l(),void o.refresh();break;case"remove":if(a)return void o.reRender();break;case"setField":if(f){var h=t.data;return"touched"in h&&(o.touched=h.touched),"validating"in h&&!("originRCField"in h)&&(o.validatePromise=h.validating?Promise.resolve([]):null),"errors"in h&&(o.errors=h.errors||qp),"warnings"in h&&(o.warnings=h.warnings||qp),o.dirty=!0,o.triggerMetaEvent(),void o.reRender()}if(a&&!u.length&&Fp(a,e,c,d,p,t))return void o.reRender();break;case"dependenciesUpdate":if(s.map(Tp).some((function(e){return Op(t.relatedFields,e)})))return void o.reRender();break;default:if(f||(!s.length||u.length||a)&&Fp(a,e,c,d,p,t))return void o.reRender()}!0===a&&o.reRender()},o.validateRules=function(e){var n=o.getNamePath(),t=o.getValue(),r=e||{},a=r.triggerName,i=r.validateOnly,s=void 0!==i&&i,l=Promise.resolve().then((function(){if(!o.mounted)return[];var r=o.props,i=r.validateFirst,s=void 0!==i&&i,c=r.messageVariables,u=o.getRules();a&&(u=u.filter((function(e){return e})).filter((function(e){var n=e.validateTrigger;return!n||Kd(n).includes(a)})));var d=Ap(n,t,u,e,s,c);return d.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qp;if(o.validatePromise===l){var n;o.validatePromise=null;var t=[],r=[];null===(n=e.forEach)||void 0===n||n.call(e,(function(e){var n=e.rule.warningOnly,o=e.errors,a=void 0===o?qp:o;n?r.push.apply(r,(0,N.Z)(a)):t.push.apply(t,(0,N.Z)(a))})),o.errors=t,o.warnings=r,o.triggerMetaEvent(),o.reRender()}})),d}));return s||(o.validatePromise=l,o.dirty=!0,o.errors=qp,o.warnings=qp,o.triggerMetaEvent(),o.reRender()),l},o.isFieldValidating=function(){return!!o.validatePromise},o.isFieldTouched=function(){return o.touched},o.isFieldDirty=function(){return!(!o.dirty&&void 0===o.props.initialValue)||void 0!==(0,o.props.fieldContext.getInternalHooks(Vd).getInitialValue)(o.getNamePath())},o.getErrors=function(){return o.errors},o.getWarnings=function(){return o.warnings},o.isListField=function(){return o.props.isListField},o.isList=function(){return o.props.isList},o.isPreserve=function(){return o.props.preserve},o.getMeta=function(){return o.prevValidating=o.isFieldValidating(),{touched:o.isFieldTouched(),validating:o.prevValidating,errors:o.errors,warnings:o.warnings,name:o.getNamePath(),validated:null===o.validatePromise}},o.getOnlyChild=function(n){if("function"===typeof n){var t=o.getMeta();return $t($t({},o.getOnlyChild(n(o.getControlled(),t,o.props.fieldContext))),{},{isFunction:!0})}var r=Ns(n);return 1===r.length&&e.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},o.getValue=function(e){var n=o.props.fieldContext.getFieldsValue,t=o.getNamePath();return Ea(e||n(!0),t)},o.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=o.props,t=n.trigger,r=n.validateTrigger,a=n.getValueFromEvent,i=n.normalize,s=n.valuePropName,l=n.getValueProps,c=n.fieldContext,u=void 0!==r?r:c.validateTrigger,d=o.getNamePath(),p=c.getInternalHooks,f=c.getFieldsValue,h=p(Vd).dispatch,m=o.getValue(),g=l||function(e){return w({},s,e)},b=e[t],v=$t($t({},e),g(m));return v[t]=function(){var e;o.touched=!0,o.dirty=!0,o.triggerMetaEvent();for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];e=a?a.apply(void 0,t):Dp.apply(void 0,[s].concat(t)),i&&(e=i(e,m,f(!0))),h({type:"updateValue",namePath:d,value:e}),b&&b.apply(void 0,t)},Kd(u||[]).forEach((function(e){var n=v[e];v[e]=function(){n&&n.apply(void 0,arguments);var t=o.props.rules;t&&t.length&&h({type:"validateField",namePath:d,triggerName:e})}})),v},n.fieldContext)&&(0,(0,n.fieldContext.getInternalHooks)(Vd).initEntityValue)(b(o));return o}return p(r,[{key:"componentDidMount",value:function(){var e=this.props,n=e.shouldUpdate,t=e.fieldContext;if(this.mounted=!0,t){var r=(0,t.getInternalHooks)(Vd).registerField;this.cancelRegisterFunc=r(this)}!0===n&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var n,t=this.state.resetCount,r=this.props.children,o=this.getOnlyChild(r),a=o.child;return o.isFunction?n=a:e.isValidElement(a)?n=e.cloneElement(a,this.getControlled(a.props)):(er(!a,"`children` of Field is not validate ReactElement."),n=a),e.createElement(e.Fragment,{key:t},n)}}]),r}(e.Component);Bp.contextType=Wd,Bp.defaultProps={trigger:"onChange",valuePropName:"value"};var zp=function(n){var t=n.name,r=at(n,Mp),o=e.useContext(Wd),a=e.useContext($d),i=void 0!==t?Tp(t):void 0,s="keep";return r.isListField||(s="_".concat((i||[]).join("_"))),e.createElement(Bp,rt({key:s,name:i,isListField:!!a},r,{fieldContext:o}))},Up=function(n){var t=n.name,r=n.initialValue,o=n.children,a=n.rules,i=n.validateTrigger,s=n.isListField,l=e.useContext(Wd),c=e.useContext($d),u=e.useRef({keys:[],id:0}).current,d=e.useMemo((function(){var e=Tp(l.prefixName)||[];return[].concat((0,N.Z)(e),(0,N.Z)(Tp(t)))}),[l.prefixName,t]),p=e.useMemo((function(){return $t($t({},l),{},{prefixName:d})}),[l,d]),f=e.useMemo((function(){return{getKey:function(e){var n=d.length,t=e[n];return[u.keys[t],e.slice(n+1)]}}}),[d]);if("function"!==typeof o)return er(!1,"Form.List only accepts function as children."),null;return e.createElement($d.Provider,{value:f},e.createElement(Wd.Provider,{value:p},e.createElement(zp,{name:[],shouldUpdate:function(e,n,t){return"internal"!==t.source&&e!==n},rules:a,validateTrigger:i,initialValue:r,isList:!0,isListField:null!==s&&void 0!==s?s:!!c},(function(e,n){var t=e.value,r=void 0===t?[]:t,a=e.onChange,i=l.getFieldValue,s=function(){return i(d||[])||[]},c={add:function(e,n){var t=s();n>=0&&n<=t.length?(u.keys=[].concat((0,N.Z)(u.keys.slice(0,n)),[u.id],(0,N.Z)(u.keys.slice(n))),a([].concat((0,N.Z)(t.slice(0,n)),[e],(0,N.Z)(t.slice(n))))):(u.keys=[].concat((0,N.Z)(u.keys),[u.id]),a([].concat((0,N.Z)(t),[e]))),u.id+=1},remove:function(e){var n=s(),t=new Set(Array.isArray(e)?e:[e]);t.size<=0||(u.keys=u.keys.filter((function(e,n){return!t.has(n)})),a(n.filter((function(e,n){return!t.has(n)}))))},move:function(e,n){if(e!==n){var t=s();e<0||e>=t.length||n<0||n>=t.length||(u.keys=Rp(u.keys,e,n),a(Rp(t,e,n)))}}},p=r||[];return Array.isArray(p)||(p=[]),o(p.map((function(e,n){var t=u.keys[n];return void 0===t&&(u.keys[n]=u.id,t=u.keys[n],u.id+=1),{name:n,key:t,isListField:!0}})),c,n)}))))};var Hp="__@field_split__";function Vp(e){return e.map((function(e){return"".concat(c(e),":").concat(e)})).join(Hp)}var Gp=function(){function e(){l(this,e),this.kvs=new Map}return p(e,[{key:"set",value:function(e,n){this.kvs.set(Vp(e),n)}},{key:"get",value:function(e){return this.kvs.get(Vp(e))}},{key:"update",value:function(e,n){var t=n(this.get(e));t?this.set(e,t):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Vp(e))}},{key:"map",value:function(e){return(0,N.Z)(this.kvs.entries()).map((function(n){var t=s(n,2),r=t[0],o=t[1],a=r.split(Hp);return e({key:a.map((function(e){var n=s(e.match(/^([^:]*):(.*)$/),3),t=n[1],r=n[2];return"number"===t?Number(r):r})),value:o})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(n){var t=n.key,r=n.value;return e[t.join(".")]=r,null})),e}}]),e}(),Wp=Gp,$p=["name"],Kp=p((function e(n){var t=this;l(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldWarning:t.getFieldWarning,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,_init:!0,getInternalHooks:t.getInternalHooks}},this.getInternalHooks=function(e){return e===Vd?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,destroyForm:t.destroyForm,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve,getInitialValue:t.getInitialValue,registerWatch:t.registerWatch}):(er(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){t.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,n){if(t.initialValues=e||{},n){var r,o=Na(e,t.store);null===(r=t.prevWithoutPreserves)||void 0===r||r.map((function(n){var t=n.key;o=_a(o,t,Ea(e,t))})),t.prevWithoutPreserves=null,t.updateStore(o)}},this.destroyForm=function(){var e=new Wp;t.getFieldEntities(!0).forEach((function(n){t.isMergedPreserve(n.isPreserve())||e.set(n.getNamePath(),!0)})),t.prevWithoutPreserves=e},this.getInitialValue=function(e){var n=Ea(t.initialValues,e);return e.length?Na(n):n},this.setCallbacks=function(e){t.callbacks=e},this.setValidateMessages=function(e){t.validateMessages=e},this.setPreserve=function(e){t.preserve=e},this.watchList=[],this.registerWatch=function(e){return t.watchList.push(e),function(){t.watchList=t.watchList.filter((function(n){return n!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.watchList.length){var n=t.getFieldsValue(),r=t.getFieldsValue(!0);t.watchList.forEach((function(t){t(n,r,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){t.store=e},this.getFieldEntities=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t.fieldEntities.filter((function(e){return e.getNamePath().length})):t.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=new Wp;return t.getFieldEntities(e).forEach((function(e){var t=e.getNamePath();n.set(t,e)})),n},this.getFieldEntitiesForNamePathList=function(e){if(!e)return t.getFieldEntities(!0);var n=t.getFieldsMap(!0);return e.map((function(e){var t=Tp(e);return n.get(t)||{INVALIDATE_NAME_PATH:Tp(e)}}))},this.getFieldsValue=function(e,n){if(t.warningUnhooked(),!0===e&&!n)return t.store;var r=t.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),o=[];return r.forEach((function(t){var r,a="INVALIDATE_NAME_PATH"in t?t.INVALIDATE_NAME_PATH:t.getNamePath();if(e||!(null===(r=t.isListField)||void 0===r?void 0:r.call(t)))if(n){var i="getMeta"in t?t.getMeta():null;n(i)&&o.push(a)}else o.push(a)})),Ip(t.store,o.map(Tp))},this.getFieldValue=function(e){t.warningUnhooked();var n=Tp(e);return Ea(t.store,n)},this.getFieldsError=function(e){return t.warningUnhooked(),t.getFieldEntitiesForNamePathList(e).map((function(n,t){return n&&!("INVALIDATE_NAME_PATH"in n)?{name:n.getNamePath(),errors:n.getErrors(),warnings:n.getWarnings()}:{name:Tp(e[t]),errors:[],warnings:[]}}))},this.getFieldError=function(e){t.warningUnhooked();var n=Tp(e);return t.getFieldsError([n])[0].errors},this.getFieldWarning=function(e){t.warningUnhooked();var n=Tp(e);return t.getFieldsError([n])[0].warnings},this.isFieldsTouched=function(){t.warningUnhooked();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o,a=n[0],i=n[1],s=!1;0===n.length?o=null:1===n.length?Array.isArray(a)?(o=a.map(Tp),s=!1):(o=null,s=a):(o=a.map(Tp),s=i);var l=t.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!o)return s?l.every(c):l.some(c);var u=new Wp;o.forEach((function(e){u.set(e,[])})),l.forEach((function(e){var n=e.getNamePath();o.forEach((function(t){t.every((function(e,t){return n[t]===e}))&&u.update(t,(function(n){return[].concat((0,N.Z)(n),[e])}))}))}));var d=function(e){return e.some(c)},p=u.map((function(e){return e.value}));return s?p.every(d):p.some(d)},this.isFieldTouched=function(e){return t.warningUnhooked(),t.isFieldsTouched([e])},this.isFieldsValidating=function(e){t.warningUnhooked();var n=t.getFieldEntities();if(!e)return n.some((function(e){return e.isFieldValidating()}));var r=e.map(Tp);return n.some((function(e){var n=e.getNamePath();return Op(r,n)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return t.warningUnhooked(),t.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new Wp,r=t.getFieldEntities(!0);r.forEach((function(e){var t=e.props.initialValue,r=e.getNamePath();if(void 0!==t){var o=n.get(r)||new Set;o.add({entity:e,value:t}),n.set(r,o)}}));var o;e.entities?o=e.entities:e.namePathList?(o=[],e.namePathList.forEach((function(e){var t,r=n.get(e);r&&(t=o).push.apply(t,(0,N.Z)((0,N.Z)(r).map((function(e){return e.entity}))))}))):o=r,o.forEach((function(r){if(void 0!==r.props.initialValue){var o=r.getNamePath();if(void 0!==t.getInitialValue(o))er(!1,"Form already set 'initialValues' with path '".concat(o.join("."),"'. Field can not overwrite it."));else{var a=n.get(o);if(a&&a.size>1)er(!1,"Multiple Field with path '".concat(o.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var i=t.getFieldValue(o);e.skipExist&&void 0!==i||t.updateStore(_a(t.store,o,(0,N.Z)(a)[0].value))}}}}))},this.resetFields=function(e){t.warningUnhooked();var n=t.store;if(!e)return t.updateStore(Na(t.initialValues)),t.resetWithFieldInitialValue(),t.notifyObservers(n,null,{type:"reset"}),void t.notifyWatch();var r=e.map(Tp);r.forEach((function(e){var n=t.getInitialValue(e);t.updateStore(_a(t.store,e,n))})),t.resetWithFieldInitialValue({namePathList:r}),t.notifyObservers(n,r,{type:"reset"}),t.notifyWatch(r)},this.setFields=function(e){t.warningUnhooked();var n=t.store,r=[];e.forEach((function(e){var o=e.name,a=at(e,$p),i=Tp(o);r.push(i),"value"in a&&t.updateStore(_a(t.store,i,a.value)),t.notifyObservers(n,[i],{type:"setField",data:e})})),t.notifyWatch(r)},this.getFields=function(){return t.getFieldEntities(!0).map((function(e){var n=e.getNamePath(),r=$t($t({},e.getMeta()),{},{name:n,value:t.getFieldValue(n)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var n=e.props.initialValue;if(void 0!==n){var r=e.getNamePath();void 0===Ea(t.store,r)&&t.updateStore(_a(t.store,r,n))}},this.isMergedPreserve=function(e){var n=void 0!==e?e:t.preserve;return null===n||void 0===n||n},this.registerField=function(e){t.fieldEntities.push(e);var n=e.getNamePath();if(t.notifyWatch([n]),void 0!==e.props.initialValue){var r=t.store;t.resetWithFieldInitialValue({entities:[e],skipExist:!0}),t.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t.fieldEntities=t.fieldEntities.filter((function(n){return n!==e})),!t.isMergedPreserve(o)&&(!r||a.length>1)){var i=r?void 0:t.getInitialValue(n);if(n.length&&t.getFieldValue(n)!==i&&t.fieldEntities.every((function(e){return!Lp(e.getNamePath(),n)}))){var s=t.store;t.updateStore(_a(s,n,i,!0)),t.notifyObservers(s,[n],{type:"remove"}),t.triggerDependenciesUpdate(s,n)}}t.notifyWatch([n])}},this.dispatch=function(e){switch(e.type){case"updateValue":var n=e.namePath,r=e.value;t.updateValue(n,r);break;case"validateField":var o=e.namePath,a=e.triggerName;t.validateFields([o],{triggerName:a})}},this.notifyObservers=function(e,n,r){if(t.subscribable){var o=$t($t({},r),{},{store:t.getFieldsValue(!0)});t.getFieldEntities().forEach((function(t){(0,t.onStoreChange)(e,n,o)}))}else t.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,n){var r=t.getDependencyChildrenFields(n);return r.length&&t.validateFields(r),t.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[n].concat((0,N.Z)(r))}),r},this.updateValue=function(e,n){var r=Tp(e),o=t.store;t.updateStore(_a(t.store,r,n)),t.notifyObservers(o,[r],{type:"valueUpdate",source:"internal"}),t.notifyWatch([r]);var a=t.triggerDependenciesUpdate(o,r),i=t.callbacks.onValuesChange;i&&i(Ip(t.store,[r]),t.getFieldsValue());t.triggerOnFieldsChange([r].concat((0,N.Z)(a)))},this.setFieldsValue=function(e){t.warningUnhooked();var n=t.store;if(e){var r=Na(t.store,e);t.updateStore(r)}t.notifyObservers(n,null,{type:"valueUpdate",source:"external"}),t.notifyWatch()},this.setFieldValue=function(e,n){t.setFields([{name:e,value:n}])},this.getDependencyChildrenFields=function(e){var n=new Set,r=[],o=new Wp;t.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(n){var t=Tp(n);o.update(t,(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return n.add(e),n}))}))}));return function e(t){(o.get(t)||new Set).forEach((function(t){if(!n.has(t)){n.add(t);var o=t.getNamePath();t.isFieldDirty()&&o.length&&(r.push(o),e(o))}}))}(e),r},this.triggerOnFieldsChange=function(e,n){var r=t.callbacks.onFieldsChange;if(r){var o=t.getFields();if(n){var a=new Wp;n.forEach((function(e){var n=e.name,t=e.errors;a.set(n,t)})),o.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}var i=o.filter((function(n){var t=n.name;return Op(e,t)}));i.length&&r(i,o)}},this.validateFields=function(e,n){var r,o;t.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof n?(r=e,o=n):o=e;var a=!!r,i=a?r.map(Tp):[],s=[],l=String(Date.now()),c=new Set;t.getFieldEntities(!0).forEach((function(e){var n;if(a||i.push(e.getNamePath()),(null===(n=o)||void 0===n?void 0:n.recursive)&&a){var u=e.getNamePath();u.every((function(e,n){return r[n]===e||void 0===r[n]}))&&i.push(u)}if(e.props.rules&&e.props.rules.length){var d=e.getNamePath();if(c.add(d.join(l)),!a||Op(i,d)){var p=e.validateRules($t({validateMessages:$t($t({},wp),t.validateMessages)},o));s.push(p.then((function(){return{name:d,errors:[],warnings:[]}})).catch((function(e){var n,t=[],r=[];return null===(n=e.forEach)||void 0===n||n.call(e,(function(e){var n=e.rule.warningOnly,o=e.errors;n?r.push.apply(r,(0,N.Z)(o)):t.push.apply(t,(0,N.Z)(o))})),t.length?Promise.reject({name:d,errors:t,warnings:r}):{name:d,errors:t,warnings:r}})))}}}));var u=function(e){var n=!1,t=e.length,r=[];return e.length?new Promise((function(o,a){e.forEach((function(e,i){e.catch((function(e){return n=!0,e})).then((function(e){t-=1,r[i]=e,t>0||(n&&a(r),o(r))}))}))})):Promise.resolve([])}(s);t.lastValidatePromise=u,u.catch((function(e){return e})).then((function(e){var n=e.map((function(e){return e.name}));t.notifyObservers(t.store,n,{type:"validateFinish"}),t.triggerOnFieldsChange(n,e)}));var d=u.then((function(){return t.lastValidatePromise===u?Promise.resolve(t.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var n=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:t.getFieldsValue(i),errorFields:n,outOfDate:t.lastValidatePromise!==u})}));d.catch((function(e){return e}));var p=i.filter((function(e){return c.has(e.join(l))}));return t.triggerOnFieldsChange(p),d},this.submit=function(){t.warningUnhooked(),t.validateFields().then((function(e){var n=t.callbacks.onFinish;if(n)try{n(e)}catch(r){console.error(r)}})).catch((function(e){var n=t.callbacks.onFinishFailed;n&&n(e)}))},this.forceRootUpdate=n}));var Qp=function(n){var t=e.useRef(),r=s(e.useState({}),2)[1];if(!t.current)if(n)t.current=n;else{var o=new Kp((function(){r({})}));t.current=o.getForm()}return[t.current]},Jp=e.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Xp=Jp,Zp=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Yp=function(n,t){var r=n.name,o=n.initialValues,a=n.fields,i=n.form,l=n.preserve,u=n.children,d=n.component,p=void 0===d?"form":d,f=n.validateMessages,h=n.validateTrigger,m=void 0===h?"onChange":h,g=n.onValuesChange,b=n.onFieldsChange,v=n.onFinish,y=n.onFinishFailed,x=at(n,Zp),k=e.useContext(Xp),w=s(Qp(i),1)[0],S=w.getInternalHooks(Vd),E=S.useSubscribe,C=S.setInitialValues,_=S.setCallbacks,j=S.setValidateMessages,A=S.setPreserve,P=S.destroyForm;e.useImperativeHandle(t,(function(){return w})),e.useEffect((function(){return k.registerForm(r,w),function(){k.unregisterForm(r)}}),[k,w,r]),j($t($t({},k.validateMessages),f)),_({onValuesChange:g,onFieldsChange:function(e){if(k.triggerFormChange(r,e),b){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];b.apply(void 0,[e].concat(t))}},onFinish:function(e){k.triggerFormFinish(r,e),v&&v(e)},onFinishFailed:y}),A(l);var T,I=e.useRef(null);C(o,!I.current),I.current||(I.current=!0),e.useEffect((function(){return P}),[]);var O="function"===typeof u;O?T=u(w.getFieldsValue(!0),w):T=u;E(!O);var L=e.useRef();e.useEffect((function(){(function(e,n){if(e===n)return!0;if(!e&&n||e&&!n)return!1;if(!e||!n||"object"!==c(e)||"object"!==c(n))return!1;var t=Object.keys(e),r=Object.keys(n),o=new Set([].concat(t,r));return(0,N.Z)(o).every((function(t){var r=e[t],o=n[t];return"function"===typeof r&&"function"===typeof o||r===o}))})(L.current||[],a||[])||w.setFields(a||[]),L.current=a}),[a,w]);var D=e.useMemo((function(){return $t($t({},w),{},{validateTrigger:m})}),[w,m]),R=e.createElement($d.Provider,{value:null},e.createElement(Wd.Provider,{value:D},T));return!1===p?R:e.createElement(p,rt({},x,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),w.submit()},onReset:function(e){var n;e.preventDefault(),w.resetFields(),null===(n=x.onReset)||void 0===n||n.call(x,e)}}),R)};function ef(e){try{return JSON.stringify(e)}catch(n){return Math.random()}}var nf=function(){};var tf=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];var o=t[0],a=void 0===o?[]:o,i=t[1],l=void 0===i?{}:i,c=function(e){return e&&!!e._init}(l)?{form:l}:l,u=c.form,d=s((0,e.useState)(),2),p=d[0],f=d[1],h=(0,e.useMemo)((function(){return ef(p)}),[p]),m=(0,e.useRef)(h);m.current=h;var g=(0,e.useContext)(Wd),b=u||g,v=b&&b._init,y=Tp(a),x=(0,e.useRef)(y);return x.current=y,nf(y),(0,e.useEffect)((function(){if(v){var e=b.getFieldsValue,n=(0,(0,b.getInternalHooks)(Vd).registerWatch)((function(e,n){var t=Ea(c.preserve?n:e,x.current),r=ef(t);m.current!==r&&(m.current=r,f(t))})),t=Ea(c.preserve?e(!0):e(),x.current);return f(t),n}}),[v]),p},rf=e.forwardRef(Yp);rf.FormProvider=function(n){var t=n.validateMessages,r=n.onFormChange,o=n.onFormFinish,a=n.children,i=e.useContext(Jp),s=e.useRef({});return e.createElement(Jp.Provider,{value:$t($t({},i),{},{validateMessages:$t($t({},i.validateMessages),t),triggerFormChange:function(e,n){r&&r(e,{changedFields:n,forms:s.current}),i.triggerFormChange(e,n)},triggerFormFinish:function(e,n){o&&o(e,{values:n,forms:s.current}),i.triggerFormFinish(e,n)},registerForm:function(e,n){e&&(s.current=$t($t({},s.current),{},w({},e,n))),i.registerForm(e,n)},unregisterForm:function(e){var n=$t({},s.current);delete n[e],s.current=n,i.unregisterForm(e)}})},a)},rf.Field=zp,rf.List=Up,rf.useForm=Qp,rf.useWatch=tf;var of=e.createContext({}),af=function(n){var t=n.children,r=n.status,o=n.override,a=(0,e.useContext)(of),i=(0,e.useMemo)((function(){var e=Object.assign({},a);return o&&delete e.isFormItemInput,r&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[r,o,a]);return e.createElement(of.Provider,{value:i},t)},sf=function(e){return{borderColor:e.inputBorderHoverColor,borderInlineEndWidth:e.lineWidth}},lf=function(e){return{borderColor:e.inputBorderHoverColor,boxShadow:"0 0 0 ".concat(e.controlOutlineWidth,"px ").concat(e.controlOutline),borderInlineEndWidth:e.lineWidth,outline:0}},cf=function(e){return{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},sf(ni(e,{inputBorderHoverColor:e.colorBorder})))}},uf=function(e){var n=e.inputPaddingVerticalLG,t=e.fontSizeLG,r=e.lineHeightLG,o=e.borderRadiusLG,a=e.inputPaddingHorizontalLG;return{padding:"".concat(n,"px ").concat(a,"px"),fontSize:t,lineHeight:r,borderRadius:o}},df=function(e){return{padding:"".concat(e.inputPaddingVerticalSM,"px ").concat(e.controlPaddingHorizontalSM-1,"px"),borderRadius:e.borderRadiusSM}},pf=function(e,n){var t,r=e.componentCls,o=e.colorError,a=e.colorWarning,i=e.colorErrorOutline,s=e.colorWarningOutline,l=e.colorErrorBorderHover,c=e.colorWarningBorderHover;return w(t={},"&-status-error:not(".concat(n,"-disabled):not(").concat(n,"-borderless)").concat(n),w({borderColor:o,"&:hover":{borderColor:l},"&:focus, &-focused":Object.assign({},lf(ni(e,{inputBorderActiveColor:o,inputBorderHoverColor:o,controlOutline:i})))},"".concat(r,"-prefix, ").concat(r,"-suffix"),{color:o})),w(t,"&-status-warning:not(".concat(n,"-disabled):not(").concat(n,"-borderless)").concat(n),w({borderColor:a,"&:hover":{borderColor:c},"&:focus, &-focused":Object.assign({},lf(ni(e,{inputBorderActiveColor:a,inputBorderHoverColor:a,controlOutline:s})))},"".concat(r,"-prefix, ").concat(r,"-suffix"),{color:a})),t},ff=function(e){return Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:"".concat(e.inputPaddingVertical,"px ").concat(e.inputPaddingHorizontal,"px"),color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,backgroundColor:e.colorBgContainer,backgroundImage:"none",borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:e.colorBorder,borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationMid)},{"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e.colorTextPlaceholder,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),{"&:hover":Object.assign({},sf(e)),"&:focus, &-focused":Object.assign({},lf(e)),"&-disabled, &[disabled]":Object.assign({},cf(e)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:"all ".concat(e.motionDurationSlow,", height 0s"),resize:"vertical"},"&-lg":Object.assign({},uf(e)),"&-sm":Object.assign({},df(e)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}})},hf=function(e){var n,t=e.componentCls,r=e.controlHeightSM,o=(r-2*e.lineWidth-16)/2;return w({},t,Object.assign(Object.assign(Object.assign(Object.assign({},Pa(e)),ff(e)),pf(e,t)),{'&[type="color"]':(n={height:e.controlHeight},w(n,"&".concat(t,"-lg"),{height:e.controlHeightLG}),w(n,"&".concat(t,"-sm"),{height:r,paddingTop:o,paddingBottom:o}),n),'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}}))},mf=function(e){var n,t=e.componentCls,r=e.inputAffixPadding,o=e.colorTextDescription,a=e.motionDurationSlow,i=e.colorIcon,s=e.colorIconHover,l=e.iconCls;return w({},"".concat(t,"-affix-wrapper"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ff(e)),(w(n={display:"inline-flex"},"&:not(".concat(t,"-affix-wrapper-disabled):hover"),Object.assign(Object.assign({},sf(e)),w({zIndex:1},"".concat(t,"-search-with-button &"),{zIndex:0}))),w(n,"&-focused, &:focus",{zIndex:1}),w(n,"&-disabled",w({},"".concat(t,"[disabled]"),{background:"transparent"})),w(n,"> input".concat(t),{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}}),w(n,"&::before",{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}),w(n,"".concat(t),{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:o},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:r},"&-suffix":{marginInlineStart:r}}),n)),function(e){var n=e.componentCls;return w({},"".concat(n,"-clear-icon"),{margin:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:"0 ".concat(e.inputAffixPadding,"px")}})}(e)),w({},"".concat(l).concat(t,"-password-icon"),{color:i,cursor:"pointer",transition:"all ".concat(a),"&:hover":{color:s}})),pf(e,"".concat(t,"-affix-wrapper"))))},gf=function(e){var n,t=e.componentCls,r=e.colorError,o=e.colorWarning,a=e.borderRadiusLG,i=e.borderRadiusSM;return w({},"".concat(t,"-group"),Object.assign(Object.assign(Object.assign({},Pa(e)),function(e){var n,t,r,o,a,i,s,l=e.componentCls,c=e.antCls;return w(s={position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0},"&[class*='col-']",{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}}),w(s,"&-lg ".concat(l,", &-lg > ").concat(l,"-group-addon"),Object.assign({},uf(e))),w(s,"&-sm ".concat(l,", &-sm > ").concat(l,"-group-addon"),Object.assign({},df(e))),w(s,"&-lg ".concat(c,"-select-single ").concat(c,"-select-selector"),{height:e.controlHeightLG}),w(s,"&-sm ".concat(c,"-select-single ").concat(c,"-select-selector"),{height:e.controlHeightSM}),w(s,"> ".concat(l),{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}}),w(s,"".concat(l,"-group"),(w(r={},"&-addon, &-wrap",{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}}),w(r,"&-wrap > *",{display:"block !important"}),w(r,"&-addon",(w(t={position:"relative",padding:"0 ".concat(e.inputPaddingHorizontal,"px"),color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,textAlign:"center",backgroundColor:e.colorFillAlter,border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationSlow),lineHeight:1},"".concat(c,"-select"),(w(n={margin:"-".concat(e.inputPaddingVertical+1,"px -").concat(e.inputPaddingHorizontal,"px")},"&".concat(c,"-select-single:not(").concat(c,"-select-customize-input)"),w({},"".concat(c,"-select-selector"),{backgroundColor:"inherit",border:"".concat(e.lineWidth,"px ").concat(e.lineType," transparent"),boxShadow:"none"})),w(n,"&-open, &-focused",w({},"".concat(c,"-select-selector"),{color:e.colorPrimary})),n)),w(t,"".concat(c,"-cascader-picker"),w({margin:"-9px -".concat(e.inputPaddingHorizontal,"px"),backgroundColor:"transparent"},"".concat(c,"-cascader-input"),{textAlign:"start",border:0,boxShadow:"none"})),t)),w(r,"&-addon:first-child",{borderInlineEnd:0}),w(r,"&-addon:last-child",{borderInlineStart:0}),r)),w(s,"".concat(l),{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":w({zIndex:1,borderInlineEndWidth:1},"".concat(l,"-search-with-button &"),{zIndex:0})}),w(s,"> ".concat(l,":first-child, ").concat(l,"-group-addon:first-child"),w({borderStartEndRadius:0,borderEndEndRadius:0},"".concat(c,"-select ").concat(c,"-select-selector"),{borderStartEndRadius:0,borderEndEndRadius:0})),w(s,"> ".concat(l,"-affix-wrapper"),(w(o={},"&:not(:first-child) ".concat(l),{borderStartStartRadius:0,borderEndStartRadius:0}),w(o,"&:not(:last-child) ".concat(l),{borderStartEndRadius:0,borderEndEndRadius:0}),o)),w(s,"> ".concat(l,":last-child, ").concat(l,"-group-addon:last-child"),w({borderStartStartRadius:0,borderEndStartRadius:0},"".concat(c,"-select ").concat(c,"-select-selector"),{borderStartStartRadius:0,borderEndStartRadius:0})),w(s,"".concat(l,"-affix-wrapper"),w({"&:not(:last-child)":w({borderStartEndRadius:0,borderEndEndRadius:0},"".concat(l,"-search &"),{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius})},"&:not(:first-child), ".concat(l,"-search &:not(:first-child)"),{borderStartStartRadius:0,borderEndStartRadius:0})),w(s,"&".concat(l,"-group-compact"),Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),(w(i={},"".concat(l,"-group-addon, ").concat(l,"-group-wrap, > ").concat(l),{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}}),w(i,"& > *",{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0}),w(i,"\n        & > ".concat(l,"-affix-wrapper,\n        & > ").concat(l,"-number-affix-wrapper,\n        & > ").concat(c,"-picker-range\n      "),{display:"inline-flex"}),w(i,"& > *:not(:last-child)",{marginInlineEnd:-e.lineWidth,borderInlineEndWidth:e.lineWidth}),w(i,"".concat(l),{float:"none"}),w(i,"& > ".concat(c,"-select > ").concat(c,"-select-selector,\n      & > ").concat(c,"-select-auto-complete ").concat(l,",\n      & > ").concat(c,"-cascader-picker ").concat(l,",\n      & > ").concat(l,"-group-wrapper ").concat(l),{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}),w(i,"& > ".concat(c,"-select-focused"),{zIndex:1}),w(i,"& > ".concat(c,"-select > ").concat(c,"-select-arrow"),{zIndex:1}),w(i,"& > *:first-child,\n      & > ".concat(c,"-select:first-child > ").concat(c,"-select-selector,\n      & > ").concat(c,"-select-auto-complete:first-child ").concat(l,",\n      & > ").concat(c,"-cascader-picker:first-child ").concat(l),{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}),w(i,"& > *:last-child,\n      & > ".concat(c,"-select:last-child > ").concat(c,"-select-selector,\n      & > ").concat(c,"-cascader-picker:last-child ").concat(l,",\n      & > ").concat(c,"-cascader-picker-focused:last-child ").concat(l),{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius}),w(i,"& > ".concat(c,"-select-auto-complete ").concat(l),{verticalAlign:"top"}),w(i,"".concat(l,"-group-wrapper + ").concat(l,"-group-wrapper"),w({marginInlineStart:-e.lineWidth},"".concat(l,"-affix-wrapper"),{borderRadius:0})),w(i,"".concat(l,"-group-wrapper:not(:last-child)"),w({},"&".concat(l,"-search > ").concat(l,"-group"),(w(a={},"& > ".concat(l,"-group-addon > ").concat(l,"-search-button"),{borderRadius:0}),w(a,"& > ".concat(l),{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}),a))),i))),s}(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":(n={display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":w({},"".concat(t,"-group-addon"),{borderRadius:a}),"&-sm":w({},"".concat(t,"-group-addon"),{borderRadius:i}),"&-status-error":w({},"".concat(t,"-group-addon"),{color:r,borderColor:r}),"&-status-warning":w({},"".concat(t,"-group-addon"),{color:o,borderColor:o}),"&-disabled":w({},"".concat(t,"-group-addon"),Object.assign({},cf(e)))},w(n,"&:not(".concat(t,"-compact-first-item):not(").concat(t,"-compact-last-item)").concat(t,"-compact-item"),w({},"".concat(t,", ").concat(t,"-group-addon"),{borderRadius:0})),w(n,"&:not(".concat(t,"-compact-last-item)").concat(t,"-compact-first-item"),w({},"".concat(t,", ").concat(t,"-group-addon"),{borderStartEndRadius:0,borderEndEndRadius:0})),w(n,"&:not(".concat(t,"-compact-first-item)").concat(t,"-compact-last-item"),w({},"".concat(t,", ").concat(t,"-group-addon"),{borderStartStartRadius:0,borderEndStartRadius:0})),n)}))},bf=function(e){var n,t,r,o=e.componentCls,a=e.antCls,i="".concat(o,"-search");return w({},i,(w(r={},"".concat(o),{"&:hover, &:focus":w({borderColor:e.colorPrimaryHover},"+ ".concat(o,"-group-addon ").concat(i,"-button:not(").concat(a,"-btn-primary)"),{borderInlineStartColor:e.colorPrimaryHover})}),w(r,"".concat(o,"-affix-wrapper"),{borderRadius:0}),w(r,"".concat(o,"-lg"),{lineHeight:e.lineHeightLG-2e-4}),w(r,"> ".concat(o,"-group"),w({},"> ".concat(o,"-group-addon:last-child"),(w(n={insetInlineStart:-1,padding:0,border:0},"".concat(i,"-button"),{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0}),w(n,"".concat(i,"-button:not(").concat(a,"-btn-primary)"),w({color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive}},"&".concat(a,"-btn-loading::before"),{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0})),n))),w(r,"".concat(i,"-button"),{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}}),w(r,"&-large ".concat(i,"-button"),{height:e.controlHeightLG}),w(r,"&-small ".concat(i,"-button"),{height:e.controlHeightSM}),w(r,"&-rtl",{direction:"rtl"}),w(r,"&".concat(o,"-compact-item"),(w(t={},"&:not(".concat(o,"-compact-last-item)"),w({},"".concat(o,"-group-addon"),w({},"".concat(o,"-search-button"),{marginInlineEnd:-e.lineWidth,borderRadius:0}))),w(t,"&:not(".concat(o,"-compact-first-item)"),w({},"".concat(o,",").concat(o,"-affix-wrapper"),{borderRadius:0})),w(t,"> ".concat(o,"-group-addon ").concat(o,"-search-button,\n        > ").concat(o,",\n        ").concat(o,"-affix-wrapper"),{"&:hover,&:focus,&:active":{zIndex:2}}),w(t,"> ".concat(o,"-affix-wrapper-focused"),{zIndex:2}),t)),r))};var vf=function(e){var n,t,r,o,a=e.componentCls,i=e.paddingLG,s="".concat(a,"-textarea");return w({},s,(o={position:"relative","&-show-count":(n={},w(n,"> ".concat(a),{height:"100%"}),w(n,"".concat(a,"-data-count"),{position:"absolute",bottom:-e.fontSize*e.lineHeight,insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}),n),"&-allow-clear":w({},"> ".concat(a),{paddingInlineEnd:i})},w(o,"&-affix-wrapper".concat(s,"-has-feedback"),w({},"".concat(a),{paddingInlineEnd:i})),w(o,"&-affix-wrapper".concat(a,"-affix-wrapper"),(w(r={padding:0},"> textarea".concat(a),{fontSize:"inherit",border:"none",outline:"none","&:focus":{boxShadow:"none !important"}}),w(r,"".concat(a,"-suffix"),(w(t={margin:0,"> *:not(:last-child)":{marginInline:0}},"".concat(a,"-clear-icon"),{position:"absolute",insetInlineEnd:e.paddingXS,insetBlockStart:e.paddingXS}),w(t,"".concat(s,"-suffix"),{position:"absolute",top:0,insetInlineEnd:e.inputPaddingHorizontal,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}),t)),r)),o))},yf=oi("Input",(function(e){var n=function(e){return ni(e,{inputAffixPadding:e.paddingXXS,inputPaddingVertical:Math.max(Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2*10)/10-e.lineWidth,3),inputPaddingVerticalLG:Math.ceil((e.controlHeightLG-e.fontSizeLG*e.lineHeightLG)/2*10)/10-e.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((e.controlHeightSM-e.fontSize*e.lineHeight)/2*10)/10-e.lineWidth,0),inputPaddingHorizontal:e.paddingSM-e.lineWidth,inputPaddingHorizontalSM:e.paddingXS-e.lineWidth,inputPaddingHorizontalLG:e.controlPaddingHorizontal-e.lineWidth,inputBorderHoverColor:e.colorPrimaryHover,inputBorderActiveColor:e.colorPrimaryHover})}(e);return[hf(n),vf(n),mf(n),gf(n),bf(n),nl(n)]})),xf=function(n){var t,r=(0,e.useContext)(Fr),o=r.getPrefixCls,a=r.direction,i=n.prefixCls,l=n.className,c=o("input-group",i),u=o("input"),d=s(yf(u),2),p=d[0],f=d[1],h=st()(c,(w(t={},"".concat(c,"-lg"),"large"===n.size),w(t,"".concat(c,"-sm"),"small"===n.size),w(t,"".concat(c,"-compact"),n.compact),w(t,"".concat(c,"-rtl"),"rtl"===a),t),f,l),m=(0,e.useContext)(of),g=(0,e.useMemo)((function(){return Object.assign(Object.assign({},m),{isFormItemInput:!1})}),[m]);return p(e.createElement("span",{className:h,style:n.style,onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onFocus:n.onFocus,onBlur:n.onBlur},e.createElement(of.Provider,{value:g},n.children)))},kf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},wf=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:kf}))};var Sf=e.forwardRef(wf);function Ef(e){return!(!e.addonBefore&&!e.addonAfter)}function Cf(e){return!!(e.prefix||e.suffix||e.allowClear)}function _f(e,n,t,r){if(t){var o=n;if("click"===n.type){var a=e.cloneNode(!0);return o=Object.create(n,{target:{value:a},currentTarget:{value:a}}),a.value="",void t(o)}if(void 0!==r)return o=Object.create(n,{target:{value:e},currentTarget:{value:e}}),e.value=r,void t(o);t(o)}}function jf(e){return"undefined"===typeof e||null===e?"":String(e)}var Af=function(n){var t,r,o=n.inputElement,a=n.prefixCls,i=n.prefix,s=n.suffix,l=n.addonBefore,u=n.addonAfter,d=n.className,p=n.style,f=n.disabled,h=n.readOnly,m=n.focused,g=n.triggerFocus,b=n.allowClear,v=n.value,y=n.handleReset,x=n.hidden,k=n.classes,S=n.classNames,E=n.dataAttrs,C=n.styles,_=n.components,j=(null===_||void 0===_?void 0:_.affixWrapper)||"span",A=(null===_||void 0===_?void 0:_.groupWrapper)||"span",N=(null===_||void 0===_?void 0:_.wrapper)||"span",P=(null===_||void 0===_?void 0:_.groupAddon)||"span",T=(0,e.useRef)(null),I=(0,e.cloneElement)(o,{value:v,hidden:x,className:st()(null===(t=o.props)||void 0===t?void 0:t.className,!Cf(n)&&!Ef(n)&&d)||null,style:$t($t({},null===(r=o.props)||void 0===r?void 0:r.style),Cf(n)||Ef(n)?{}:p)});if(Cf(n)){var O,L="".concat(a,"-affix-wrapper"),D=st()(L,(w(O={},"".concat(L,"-disabled"),f),w(O,"".concat(L,"-focused"),m),w(O,"".concat(L,"-readonly"),h),w(O,"".concat(L,"-input-with-clear-btn"),s&&b&&v),O),!Ef(n)&&d,null===k||void 0===k?void 0:k.affixWrapper,null===S||void 0===S?void 0:S.affixWrapper),R=(s||b)&&e.createElement("span",{className:st()("".concat(a,"-suffix"),null===S||void 0===S?void 0:S.suffix),style:null===C||void 0===C?void 0:C.suffix},function(){var n;if(!b)return null;var t=!f&&!h&&v,r="".concat(a,"-clear-icon"),o="object"===c(b)&&null!==b&&void 0!==b&&b.clearIcon?b.clearIcon:"\u2716";return e.createElement("span",{onClick:y,onMouseDown:function(e){return e.preventDefault()},className:st()(r,(n={},w(n,"".concat(r,"-hidden"),!t),w(n,"".concat(r,"-has-suffix"),!!s),n)),role:"button",tabIndex:-1},o)}(),s);I=e.createElement(j,rt({className:D,style:Ef(n)?void 0:p,hidden:!Ef(n)&&x,onClick:function(e){var n;null!==(n=T.current)&&void 0!==n&&n.contains(e.target)&&(null===g||void 0===g||g())}},null===E||void 0===E?void 0:E.affixWrapper,{ref:T}),i&&e.createElement("span",{className:st()("".concat(a,"-prefix"),null===S||void 0===S?void 0:S.prefix),style:null===C||void 0===C?void 0:C.prefix},i),(0,e.cloneElement)(o,{value:v,hidden:null}),R)}if(Ef(n)){var M="".concat(a,"-group"),q="".concat(M,"-addon"),F=st()("".concat(a,"-wrapper"),M,null===k||void 0===k?void 0:k.wrapper),B=st()("".concat(a,"-group-wrapper"),d,null===k||void 0===k?void 0:k.group);return e.createElement(A,{className:B,style:p,hidden:x},e.createElement(N,{className:F},l&&e.createElement(P,{className:q},l),(0,e.cloneElement)(I,{hidden:null}),u&&e.createElement(P,{className:q},u)))}return I},Nf=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","classes","classNames","styles"],Pf=(0,e.forwardRef)((function(n,t){var r=n.autoComplete,o=n.onChange,a=n.onFocus,i=n.onBlur,l=n.onPressEnter,u=n.onKeyDown,d=n.prefixCls,p=void 0===d?"rc-input":d,f=n.disabled,h=n.htmlSize,m=n.className,g=n.maxLength,b=n.suffix,v=n.showCount,y=n.type,x=void 0===y?"text":y,k=n.classes,S=n.classNames,E=n.styles,C=at(n,Nf),_=s(Sa(n.defaultValue,{value:n.value}),2),j=_[0],A=_[1],P=s((0,e.useState)(!1),2),T=P[0],I=P[1],O=(0,e.useRef)(null),L=function(e){O.current&&function(e,n){if(e){e.focus(n);var t=(n||{}).cursor;if(t){var r=e.value.length;switch(t){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(O.current,e)};(0,e.useImperativeHandle)(t,(function(){return{focus:L,blur:function(){var e;null===(e=O.current)||void 0===e||e.blur()},setSelectionRange:function(e,n,t){var r;null===(r=O.current)||void 0===r||r.setSelectionRange(e,n,t)},select:function(){var e;null===(e=O.current)||void 0===e||e.select()},input:O.current}})),(0,e.useEffect)((function(){I((function(e){return(!e||!f)&&e}))}),[f]);var D=function(e){void 0===n.value&&A(e.target.value),O.current&&_f(O.current,e,o)},R=function(e){l&&"Enter"===e.key&&l(e),null===u||void 0===u||u(e)},M=function(e){I(!0),null===a||void 0===a||a(e)},q=function(e){I(!1),null===i||void 0===i||i(e)};return e.createElement(Af,rt({},C,{prefixCls:p,className:m,inputElement:function(){var t=Lr(n,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","classes","htmlSize","styles","classNames"]);return e.createElement("input",rt({autoComplete:r},t,{onChange:D,onFocus:M,onBlur:q,onKeyDown:R,className:st()(p,w({},"".concat(p,"-disabled"),f),null===S||void 0===S?void 0:S.input),style:null===E||void 0===E?void 0:E.input,ref:O,size:h,type:x}))}(),handleReset:function(e){A(""),L(),O.current&&_f(O.current,e,o)},value:jf(j),focused:T,triggerFocus:L,suffix:function(){var n=Number(g)>0;if(b||v){var t=jf(j),r=(0,N.Z)(t).length,o="object"===c(v)?v.formatter({value:t,count:r,maxLength:g}):"".concat(r).concat(n?" / ".concat(g):"");return e.createElement(e.Fragment,null,!!v&&e.createElement("span",{className:st()("".concat(p,"-show-count-suffix"),w({},"".concat(p,"-show-count-has-suffix"),!!b),null===S||void 0===S?void 0:S.count),style:$t({},null===E||void 0===E?void 0:E.count)},o),b)}return null}(),disabled:f,classes:k,classNames:S,styles:E}))})),Tf=Pf;function If(e,n,t){var r;return st()((w(r={},"".concat(e,"-status-success"),"success"===n),w(r,"".concat(e,"-status-warning"),"warning"===n),w(r,"".concat(e,"-status-error"),"error"===n),w(r,"".concat(e,"-status-validating"),"validating"===n),w(r,"".concat(e,"-has-feedback"),t),r))}var Of=function(e,n){return n||e};function Lf(n,t){var r=(0,e.useRef)([]),o=function(){r.current.push(setTimeout((function(){var e,t,r,o;(null===(e=n.current)||void 0===e?void 0:e.input)&&"password"===(null===(t=n.current)||void 0===t?void 0:t.input.getAttribute("type"))&&(null===(r=n.current)||void 0===r?void 0:r.input.hasAttribute("value"))&&(null===(o=n.current)||void 0===o||o.input.removeAttribute("value"))})))};return(0,e.useEffect)((function(){return t&&o(),function(){return r.current.forEach((function(e){e&&clearTimeout(e)}))}}),[]),o}var Df=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};var Rf=(0,e.forwardRef)((function(n,t){var r,o,a,i,l=n.prefixCls,c=n.bordered,u=void 0===c||c,d=n.status,p=n.size,f=n.disabled,h=n.onBlur,m=n.onFocus,g=n.suffix,b=n.allowClear,v=n.addonAfter,y=n.addonBefore,x=n.className,k=n.style,S=n.styles,E=n.rootClassName,C=n.onChange,_=n.classNames,j=Df(n,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames"]),A=e.useContext(Fr),N=A.getPrefixCls,P=A.direction,T=A.input,I=N("input",l),O=(0,e.useRef)(null),L=s(yf(I),2),D=L[0],R=L[1],M=Ds(I,P),q=M.compactSize,F=M.compactItemClassnames,B=As((function(e){var n;return null!==(n=null!==p&&void 0!==p?p:q)&&void 0!==n?n:e})),z=e.useContext(Cs),U=null!==f&&void 0!==f?f:z,H=(0,e.useContext)(of),V=H.status,G=H.hasFeedback,W=H.feedbackIcon,$=Of(V,d),K=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(n)||!!G,Q=(0,e.useRef)(K);(0,e.useEffect)((function(){K&&Q.current,Q.current=K}),[K]);var J,X=Lf(O,!0),Z=(G||g)&&e.createElement(e.Fragment,null,g,G&&W);return"object"===typeof b&&(null===b||void 0===b?void 0:b.clearIcon)?J=b:b&&(J={clearIcon:e.createElement(Sf,null)}),D(e.createElement(Tf,Object.assign({ref:Mr(t,O),prefixCls:I,autoComplete:null===T||void 0===T?void 0:T.autoComplete},j,{disabled:U,onBlur:function(e){X(),null===h||void 0===h||h(e)},onFocus:function(e){X(),null===m||void 0===m||m(e)},style:Object.assign(Object.assign({},null===T||void 0===T?void 0:T.style),k),styles:Object.assign(Object.assign({},null===T||void 0===T?void 0:T.styles),S),suffix:Z,allowClear:J,className:st()(x,E,F,null===T||void 0===T?void 0:T.className),onChange:function(e){X(),null===C||void 0===C||C(e)},addonAfter:v&&e.createElement(Rs,null,e.createElement(af,{override:!0,status:!0},v)),addonBefore:y&&e.createElement(Rs,null,e.createElement(af,{override:!0,status:!0},y)),classNames:Object.assign(Object.assign(Object.assign({},_),null===T||void 0===T?void 0:T.classNames),{input:st()((r={},w(r,"".concat(I,"-sm"),"small"===B),w(r,"".concat(I,"-lg"),"large"===B),w(r,"".concat(I,"-rtl"),"rtl"===P),w(r,"".concat(I,"-borderless"),!u),r),!K&&If(I,$),null===_||void 0===_?void 0:_.input,null===(i=null===T||void 0===T?void 0:T.classNames)||void 0===i?void 0:i.input,R)}),classes:{affixWrapper:st()((o={},w(o,"".concat(I,"-affix-wrapper-sm"),"small"===B),w(o,"".concat(I,"-affix-wrapper-lg"),"large"===B),w(o,"".concat(I,"-affix-wrapper-rtl"),"rtl"===P),w(o,"".concat(I,"-affix-wrapper-borderless"),!u),o),If("".concat(I,"-affix-wrapper"),$,G),R),wrapper:st()(w({},"".concat(I,"-group-rtl"),"rtl"===P),R),group:st()((a={},w(a,"".concat(I,"-group-wrapper-sm"),"small"===B),w(a,"".concat(I,"-group-wrapper-lg"),"large"===B),w(a,"".concat(I,"-group-wrapper-rtl"),"rtl"===P),w(a,"".concat(I,"-group-wrapper-disabled"),U),a),If("".concat(I,"-group-wrapper"),$,G),R)}})))})),Mf=Rf,qf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Ff=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:qf}))};var Bf=e.forwardRef(Ff),zf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},Uf=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:zf}))};var Hf=e.forwardRef(Uf),Vf=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},Gf=function(n){return n?e.createElement(Hf,null):e.createElement(Bf,null)},Wf={click:"onClick",hover:"onMouseOver"};var $f=e.forwardRef((function(n,t){var r=n.visibilityToggle,o=void 0===r||r,a="object"===typeof o&&void 0!==o.visible,i=s((0,e.useState)((function(){return!!a&&o.visible})),2),l=i[0],c=i[1],u=(0,e.useRef)(null);e.useEffect((function(){a&&c(o.visible)}),[a,o]);var d=Lf(u),p=function(){n.disabled||(l&&d(),c((function(e){var n,t=!e;return"object"===typeof o&&(null===(n=o.onVisibleChange)||void 0===n||n.call(o,t)),t})))},f=n.className,h=n.prefixCls,m=n.inputPrefixCls,g=n.size,b=Vf(n,["className","prefixCls","inputPrefixCls","size"]),v=e.useContext(Fr).getPrefixCls,y=v("input",m),x=v("input-password",h),k=o&&function(t){var r,o=n.action,a=void 0===o?"click":o,i=n.iconRender,s=Wf[a]||"",c=(void 0===i?Gf:i)(l),u=(w(r={},s,p),w(r,"className","".concat(t,"-icon")),w(r,"key","passwordIcon"),w(r,"onMouseDown",(function(e){e.preventDefault()})),w(r,"onMouseUp",(function(e){e.preventDefault()})),r);return e.cloneElement(e.isValidElement(c)?c:e.createElement("span",null,c),u)}(x),S=st()(x,f,w({},"".concat(x,"-").concat(g),!!g)),E=Object.assign(Object.assign({},Lr(b,["suffix","iconRender","visibilityToggle"])),{type:l?"text":"password",className:S,prefixCls:y,suffix:k});return g&&(E.size=g),e.createElement(Mf,Object.assign({ref:Mr(t,u)},E))})),Kf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Qf=function(n,t){return e.createElement(_r,rt({},n,{ref:t,icon:Kf}))};var Jf=e.forwardRef(Qf),Xf=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};var Zf,Yf=e.forwardRef((function(n,t){var r,o,a=n.prefixCls,i=n.inputPrefixCls,s=n.className,l=n.size,c=n.suffix,u=n.enterButton,d=void 0!==u&&u,p=n.addonAfter,f=n.loading,h=n.disabled,m=n.onSearch,g=n.onChange,b=n.onCompositionStart,v=n.onCompositionEnd,y=Xf(n,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),x=e.useContext(Fr),k=x.getPrefixCls,S=x.direction,E=e.useRef(!1),C=k("input-search",a),_=k("input",i),j=Ds(C,S).compactSize,A=As((function(e){var n;return null!==(n=null!==l&&void 0!==l?l:j)&&void 0!==n?n:e})),N=e.useRef(null),P=function(e){var n;document.activeElement===(null===(n=N.current)||void 0===n?void 0:n.input)&&e.preventDefault()},T=function(e){var n,t;m&&m(null===(t=null===(n=N.current)||void 0===n?void 0:n.input)||void 0===t?void 0:t.value,e)},I="boolean"===typeof d?e.createElement(Jf,null):null,O="".concat(C,"-button"),L=d||{},D=L.type&&!0===L.type.__ANT_BUTTON;o=D||"button"===L.type?zr(L,Object.assign({onMouseDown:P,onClick:function(e){var n,t;null===(t=null===(n=null===L||void 0===L?void 0:L.props)||void 0===n?void 0:n.onClick)||void 0===t||t.call(n,e),T(e)},key:"enterButton"},D?{className:O,size:A}:{})):e.createElement(El,{className:O,type:d?"primary":void 0,size:A,disabled:h,key:"enterButton",onMouseDown:P,onClick:T,loading:f,icon:I},d),p&&(o=[o,zr(p,{key:"addonAfter"})]);var R=st()(C,(w(r={},"".concat(C,"-rtl"),"rtl"===S),w(r,"".concat(C,"-").concat(A),!!A),w(r,"".concat(C,"-with-button"),!!d),r),s);return e.createElement(Mf,Object.assign({ref:Mr(N,t),onPressEnter:function(e){E.current||f||T(e)}},y,{size:A,onCompositionStart:function(e){E.current=!0,null===b||void 0===b||b(e)},onCompositionEnd:function(e){E.current=!1,null===v||void 0===v||v(e)},prefixCls:_,addonAfter:o,suffix:c,onChange:function(e){e&&e.target&&"click"===e.type&&m&&m(e.target.value,e),g&&g(e)},className:R,disabled:h}))})),eh=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],nh={};function th(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Zf||((Zf=document.createElement("textarea")).setAttribute("tab-index","-1"),Zf.setAttribute("aria-hidden","true"),document.body.appendChild(Zf)),e.getAttribute("wrap")?Zf.setAttribute("wrap",e.getAttribute("wrap")):Zf.removeAttribute("wrap");var o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(n&&nh[t])return nh[t];var r=window.getComputedStyle(e),o=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),a=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),i=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s={sizingStyle:eh.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),paddingSize:a,borderSize:i,boxSizing:o};return n&&t&&(nh[t]=s),s}(e,n),a=o.paddingSize,i=o.borderSize,s=o.boxSizing,l=o.sizingStyle;Zf.setAttribute("style","".concat(l,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),Zf.value=e.value||e.placeholder||"";var c,u=void 0,d=void 0,p=Zf.scrollHeight;if("border-box"===s?p+=i:"content-box"===s&&(p-=a),null!==t||null!==r){Zf.value=" ";var f=Zf.scrollHeight-a;null!==t&&(u=f*t,"border-box"===s&&(u=u+a+i),p=Math.max(u,p)),null!==r&&(d=f*r,"border-box"===s&&(d=d+a+i),c=p>d?"":"hidden",p=Math.min(d,p))}var h={height:p,overflowY:c,resize:"none"};return u&&(h.minHeight=u),d&&(h.maxHeight=d),h}var rh=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],oh=e.forwardRef((function(n,t){var r=n,o=r.prefixCls,a=(r.onPressEnter,r.defaultValue),i=r.value,l=r.autoSize,u=r.onResize,d=r.className,p=r.style,f=r.disabled,h=r.onChange,m=(r.onInternalAutoSize,at(r,rh)),g=s(Sa(a,{value:i,postState:function(e){return null!==e&&void 0!==e?e:""}}),2),b=g[0],v=g[1],y=e.useRef();e.useImperativeHandle(t,(function(){return{textArea:y.current}}));var x=s(e.useMemo((function(){return l&&"object"===c(l)?[l.minRows,l.maxRows]:[]}),[l]),2),k=x[0],S=x[1],E=!!l,C=s(e.useState(2),2),_=C[0],j=C[1],A=s(e.useState(),2),N=A[0],P=A[1],T=function(){j(0)};ao((function(){E&&T()}),[i,k,S,E]),ao((function(){if(0===_)j(1);else if(1===_){var e=th(y.current,!1,k,S);j(2),P(e)}else!function(){try{if(document.activeElement===y.current){var e=y.current,n=e.selectionStart,t=e.selectionEnd,r=e.scrollTop;y.current.setSelectionRange(n,t),y.current.scrollTop=r}}catch(kh){}}()}),[_]);var I=e.useRef(),O=function(){Hi.cancel(I.current)};e.useEffect((function(){return O}),[]);var L=E?N:null,D=$t($t({},p),L);return 0!==_&&1!==_||(D.overflowY="hidden",D.overflowX="hidden"),e.createElement(Qc,{onResize:function(e){2===_&&(null===u||void 0===u||u(e),l&&(O(),I.current=Hi((function(){T()}))))},disabled:!(l||u)},e.createElement("textarea",rt({},m,{ref:y,style:D,className:st()(o,d,w({},"".concat(o,"-disabled"),f)),disabled:f,value:b,onChange:function(e){v(e.target.value),null===h||void 0===h||h(e)}})))})),ah=oh,ih=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","className","style","disabled","hidden","classNames","styles","onResize"];function sh(e,n){return(0,N.Z)(e||"").slice(0,n).join("")}function lh(e,n,t,r){var o=t;return e?o=sh(t,r):(0,N.Z)(n||"").length<t.length&&(0,N.Z)(t||"").length>r&&(o=n),o}var ch=e.forwardRef((function(n,t){var r,o=n.defaultValue,a=n.value,i=n.onFocus,l=n.onBlur,u=n.onChange,d=n.allowClear,p=n.maxLength,f=n.onCompositionStart,h=n.onCompositionEnd,m=n.suffix,g=n.prefixCls,b=void 0===g?"rc-textarea":g,v=n.classes,y=n.showCount,x=n.className,k=n.style,S=n.disabled,E=n.hidden,C=n.classNames,_=n.styles,j=n.onResize,A=at(n,ih),P=s(Sa(o,{value:a,defaultValue:o}),2),T=P[0],I=P[1],O=(0,e.useRef)(null),L=s(e.useState(!1),2),D=L[0],R=L[1],M=s(e.useState(!1),2),q=M[0],F=M[1],B=e.useRef(),z=e.useRef(0),U=s(e.useState(null),2),H=U[0],V=U[1],G=function(){O.current.textArea.focus()};(0,e.useImperativeHandle)(t,(function(){return{resizableTextArea:O.current,focus:G,blur:function(){O.current.textArea.blur()}}})),(0,e.useEffect)((function(){R((function(e){return!S&&e}))}),[S]);var W=Number(p)>0,$=jf(T);q||!W||null!==a&&void 0!==a||($=sh($,p));var K,Q=m;if(y){var J=(0,N.Z)($).length;K="object"===c(y)?y.formatter({value:$,count:J,maxLength:p}):"".concat(J).concat(W?" / ".concat(p):""),Q=e.createElement(e.Fragment,null,Q,e.createElement("span",{className:st()("".concat(b,"-data-count"),null===C||void 0===C?void 0:C.count),style:null===_||void 0===_?void 0:_.count},K))}return e.createElement(Af,{value:$,allowClear:d,handleReset:function(e){I(""),G(),_f(O.current.textArea,e,u)},suffix:Q,prefixCls:b,classes:{affixWrapper:st()(null===v||void 0===v?void 0:v.affixWrapper,(r={},w(r,"".concat(b,"-show-count"),y),w(r,"".concat(b,"-textarea-allow-clear"),d),r))},disabled:S,focused:D,className:x,style:$t($t({},k),H?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"===typeof K?K:void 0}},hidden:E,inputElement:e.createElement(ah,rt({},A,{onKeyDown:function(e){var n=A.onPressEnter,t=A.onKeyDown;"Enter"===e.key&&n&&n(e),null===t||void 0===t||t(e)},onChange:function(e){var n=e.target.value;!q&&W&&(n=lh(e.target.selectionStart>=p+1||e.target.selectionStart===n.length||!e.target.selectionStart,T,n,p));I(n),_f(e.currentTarget,e,u,n)},onFocus:function(e){R(!0),null===i||void 0===i||i(e)},onBlur:function(e){R(!1),null===l||void 0===l||l(e)},onCompositionStart:function(e){F(!0),B.current=T,z.current=e.currentTarget.selectionStart,null===f||void 0===f||f(e)},onCompositionEnd:function(e){F(!1);var n,t=e.currentTarget.value;W&&(t=lh(z.current>=p+1||z.current===(null===(n=B.current)||void 0===n?void 0:n.length),B.current,t,p));t!==T&&(I(t),_f(e.currentTarget,e,u,t)),null===h||void 0===h||h(e)},className:null===C||void 0===C?void 0:C.textarea,style:$t($t({},null===_||void 0===_?void 0:_.textarea),{},{resize:null===k||void 0===k?void 0:k.resize}),disabled:S,prefixCls:b,onResize:function(e){null===j||void 0===j||j(e),O.current.textArea.style.height&&V(!0)},ref:O}))})})),uh=ch,dh=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},ph=(0,e.forwardRef)((function(n,t){var r,o,a=n.prefixCls,i=n.bordered,l=void 0===i||i,c=n.size,u=n.disabled,d=n.status,p=n.allowClear,f=n.showCount,h=n.classNames,m=dh(n,["prefixCls","bordered","size","disabled","status","allowClear","showCount","classNames"]),g=e.useContext(Fr),b=g.getPrefixCls,v=g.direction,y=As(c),x=e.useContext(Cs),k=null!==u&&void 0!==u?u:x,S=e.useContext(of),E=S.status,C=S.hasFeedback,_=S.feedbackIcon,j=Of(E,d),A=e.useRef(null);e.useImperativeHandle(t,(function(){var e;return{resizableTextArea:null===(e=A.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var n,t;!function(e,n){if(e){e.focus(n);var t=(n||{}).cursor;if(t){var r=e.value.length;switch(t){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(null===(t=null===(n=A.current)||void 0===n?void 0:n.resizableTextArea)||void 0===t?void 0:t.textArea,e)},blur:function(){var e;return null===(e=A.current)||void 0===e?void 0:e.blur()}}}));var N,P=b("input",a);"object"===typeof p&&(null===p||void 0===p?void 0:p.clearIcon)?N=p:p&&(N={clearIcon:e.createElement(Sf,null)});var T=s(yf(P),2),I=T[0],O=T[1];return I(e.createElement(uh,Object.assign({},m,{disabled:k,allowClear:N,classes:{affixWrapper:st()("".concat(P,"-textarea-affix-wrapper"),(r={},w(r,"".concat(P,"-affix-wrapper-rtl"),"rtl"===v),w(r,"".concat(P,"-affix-wrapper-borderless"),!l),w(r,"".concat(P,"-affix-wrapper-sm"),"small"===y),w(r,"".concat(P,"-affix-wrapper-lg"),"large"===y),w(r,"".concat(P,"-textarea-show-count"),f),r),If("".concat(P,"-affix-wrapper"),j),O)},classNames:Object.assign(Object.assign({},h),{textarea:st()((o={},w(o,"".concat(P,"-borderless"),!l),w(o,"".concat(P,"-sm"),"small"===y),w(o,"".concat(P,"-lg"),"large"===y),o),If(P,j),O,null===h||void 0===h?void 0:h.textarea)}),prefixCls:P,suffix:C&&e.createElement("span",{className:"".concat(P,"-textarea-suffix")},_),showCount:f,ref:A})))})),fh=Mf;fh.Group=xf,fh.Search=Yf,fh.TextArea=ph,fh.Password=$f;var hh=fh;var mh=function(){var n=wn(),t=s((0,e.useState)(0),2),r=t[0],o=t[1];return(0,e.useEffect)((function(){var e=0;window.location.href.includes("post/author")?e=3:window.location.href.includes("post/link")?e=2:window.location.href.includes("article")&&(e=1),o(e)}),[n]),(0,Ir.jsx)("div",{className:"header",children:(0,Ir.jsxs)("div",{className:"navbar g-w",children:[(0,Ir.jsx)("div",{children:[{title:"\u4e13\u9898",path:"/"},{title:"\u6587\u7ae0",path:"/article"},{title:"\u53cb\u94fe",path:"/post/link"},{title:"\u4f5c\u8005",path:"/post/author"}].map((function(e,n){var t=r===n?"link active":"link";return(0,Ir.jsxs)(Yn,{className:t,to:e.path,children:[(0,Ir.jsx)("span",{children:e.title}),(0,Ir.jsx)("span",{className:"indictor"})]})}))}),(0,Ir.jsx)("div",{className:"navbar-right",children:(0,Ir.jsxs)(Hd,{children:[(0,Ir.jsx)(hh,{style:{width:200},placeholder:"\u641c\u7d22"}),(0,Ir.jsx)("svg",{width:"24",height:"24",fill:"currentColor",viewBox:"3 3 18 18",children:(0,Ir.jsx)("a",{target:"blank",href:"https://github.com/gaollard",children:(0,Ir.jsx)("path",{d:"M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z"})})})]})})]})})};function gh(){return(0,Ir.jsxs)(Ir.Fragment,{children:[(0,Ir.jsx)(mh,{}),(0,Ir.jsx)("div",{className:"main g-w",children:(0,Ir.jsx)(Un,{})})]})}function bh(){return(0,Ir.jsx)("div",{children:"post"})}var vh=function(e,n){return Ee({basename:null==n?void 0:n.basename,future:Wn({},null==n?void 0:n.future,{v7_prependBasename:!0}),history:(t={window:null==n?void 0:n.window},void 0===t&&(t={}),F((function(e,n){var t=e.location;return R("",{pathname:t.pathname,search:t.search,hash:t.hash},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}),(function(e,n){return"string"===typeof n?n:M(n)}),null,t)),hydrationData:(null==n?void 0:n.hydrationData)||Qn(),routes:e,mapRouteProperties:Gn}).initialize();var t}([{path:"/",element:(0,Ir.jsx)(gh,{}),children:[{path:"/",element:(0,Ir.jsx)(Or,{})},{path:"/post/*",element:(0,Ir.jsx)(bh,{})},{path:"/subject/*",element:(0,Ir.jsx)(Ad,{})},{path:"/article/tag/*",element:(0,Ir.jsx)(Od,{})},{path:"/article/*",element:(0,Ir.jsx)(Id,{})},{path:"/article",element:(0,Ir.jsx)(Td,{})},{path:"*",element:(0,Ir.jsx)("div",{style:{flex:1,display:"flex",height:"100vh",justifyContent:"center",alignItems:"center"},children:(0,Ir.jsx)("span",{style:{fontSize:30},children:"coming soon"})})}]}]);var yh=function(){return(0,Ir.jsx)(Bn,{router:vh})},xh=function(e){e&&e instanceof Function&&t.e(787).then(t.bind(t,787)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),r(e),o(e),a(e),i(e)}))};r.createRoot(document.getElementById("root")).render((0,Ir.jsx)(e.StrictMode,{children:(0,Ir.jsx)(yh,{})})),xh()}()}();
//# sourceMappingURL=main.198e954f.js.map
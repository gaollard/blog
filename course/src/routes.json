[{"key":"/article","path":"/article","route":"/article","leaf":false,"title":"article","depth":0,"content":"","isLeaf":false,"children":[{"key":"/article/Babel","path":"/article/Babel","route":"/article/Babel","leaf":false,"title":"Babel","depth":1,"content":"","isLeaf":false,"children":[]},{"key":"/article/default","path":"/article/default","route":"/article/default","leaf":false,"title":"default","depth":1,"content":"","isLeaf":false,"children":[]}]},{"key":"/post","path":"/post","route":"/post","leaf":false,"title":"post","depth":0,"content":"","isLeaf":false,"children":[{"key":"/post/author.md","path":"/post/author.md","route":"/post/author.md","leaf":true,"title":"author","depth":1,"content":"","isLeaf":true}]},{"key":"/subject","path":"/subject","route":"/subject","leaf":false,"title":"subject","depth":0,"content":"","isLeaf":false,"children":[{"key":"/subject/Babel","path":"/subject/Babel","route":"/subject/Babel","leaf":false,"title":"Babel","depth":1,"content":"","isLeaf":false,"children":[{"key":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹","path":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹","route":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹","leaf":false,"title":"01 åŸºç¡€æ•™ç¨‹","depth":2,"content":"","isLeaf":false,"children":[{"key":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/01-babel-asstes.md","path":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/01-babel-asstes.md","route":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/01-babel-asstes.md","leaf":true,"title":"01-babel-asstes","depth":3,"content":"---\ntitle: 01 babel ä»‹ç»\ntags: Babel\n---\n\n## 1ã€Babel ä»‹ç»\n\nBabel æ˜¯ä¸€ä¸ªå¼€æºçš„ JavaScript ç¼–è¯‘å™¨å·¥å…·ï¼Œç”¨äºå°†æ–°ç‰ˆæœ¬çš„ JavaScript ä»£ç è½¬æ¢ä¸ºå‘åå…¼å®¹çš„æ—§ç‰ˆæœ¬ï¼Œä»¥ä¾¿åœ¨ä¸åŒçš„æµè§ˆå™¨å’Œç¯å¢ƒä¸­è¿è¡Œã€‚å®ƒå¯ä»¥å°†ä½¿ç”¨æœ€æ–°çš„ ECMAScript æ ‡å‡†ç¼–å†™çš„ä»£ç è½¬æ¢ä¸ºæ”¯æŒæ›´æ—§çš„ç‰ˆæœ¬ï¼Œä»¥ä¾¿åœ¨ä¸åŒçš„æµè§ˆå™¨ä¸­è¿è¡Œã€‚\n\n## 2ã€Babel ç‰ˆæœ¬\n\n### v6 VS v7\nBabel V7 ç›¸å¯¹äº Babel V6æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªä¸»è¦çš„åŒºåˆ«ï¼š\n\n1. å‘½ä»¤è¡Œå·¥å…·æ”¹è¿›ï¼šV7 å¢åŠ äº†ä¸€äº›æ–°çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¦‚ `babel-upgrade` å’Œ `babel-merge` ç­‰ï¼Œè¿™äº›å·¥å…·è®©ä½ æ›´æ–¹ä¾¿åœ°ç»´æŠ¤Babelé…ç½®å’Œå‡çº§åˆ°æ–°çš„ç‰ˆæœ¬ã€‚\n\n2. æ’ä»¶æ–°å¢ï¼šV7 åœ¨é»˜è®¤æ’ä»¶é›†åˆä¸­æ–°å¢äº†ä¸€äº›æ–°çš„æ’ä»¶ï¼Œå¦‚ `@babel/plugin-transform-runtime` å’Œ `@babel/plugin-proposal-class-properties` ç­‰ï¼Œè¿™äº›æ’ä»¶ä¸ºå¼€å‘è€…æä¾›æ›´å¤šçš„ä¾¿åˆ©å’Œæ§åˆ¶åŠ›ã€‚\n\n3. é…ç½®æ–‡ä»¶æ›´æ”¹ï¼šBabel V7 å°†é…ç½®æ–‡ä»¶åç§°ä» `.babelrc` æ›´æ”¹ä¸º `babel.config.js`ï¼Œå¹¶æ”¯æŒæ›´å¤æ‚çš„é…ç½®é€‰é¡¹ã€‚\n\n4. åŒ¹é…æ›´å¤šçš„ ECMAScript ç‰¹æ€§ï¼šBabel V7 æ”¯æŒæ›´å¤šçš„ ECMAScript ç‰¹æ€§ï¼Œå¦‚å¯¹è±¡çš„ Rest å’Œ Spread å±æ€§ï¼Œå¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼ŒAsync å‡½æ•°å’Œæ¨¡æ¿å­—ç¬¦ä¸²æ ‡è®°ç­‰ã€‚\n\nBabel V7 ç›¸å¯¹äº Babel V6 çš„æ”¹è¿›ä¸»è¦åœ¨äºå‘½ä»¤è¡Œå·¥å…·ã€æ’ä»¶é›†åˆã€é…ç½®æ–‡ä»¶å’ŒåŒ¹é…æ›´å¤šçš„ ECMAScript ç‰¹æ€§ç­‰æ–¹é¢ã€‚\n\n### V7.4.0\n- @babel/polyfill è¢«å¼ƒç”¨ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ `\"core-js/stable\"`\n\n### v7.6.0\n- æ”¯æŒ TypeScript å‘½åç©ºé—´çš„ç¼–è¯‘ã€‚\n\n## 3ã€å­¦ä¹ èµ„æ–™\n\n### å®˜æ–¹æ–‡æ¡£\n\n- babel å®˜æ–¹ç½‘ [https://babeljs.io/docs/en](https://babeljs.io/docs/en/)\n- babel ä¸­æ–‡ç½‘ [https://www.babeljs.cn/docs](https://www.babeljs.cn/docs/)\n\n### è°ƒè¯•å·¥å…·\n\n- AST åœ¨çº¿ <https://astexplorer.net/#/2uBU1BLuJ1>\n- babel æ’ä»¶å¼€å‘æ‰‹å†Œ <https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md>\n\n### å®è·µç»éªŒ\n- babel è…¾è®¯äº‘ç¤¾åŒºæ–‡æ¡£ <https://cloud.tencent.com/developer/doc/1260> ä»‹ç»babel API\n- æœ€ç®€å• compiler æ•™ç¨‹ [the-super-tiny-compiler](https://github.com/jamiebuilds/the-super-tiny-compiler/blob/master/the-super-tiny-compiler.js)\n- [é«˜çº§å‰ç«¯åŸºç¡€-JavaScriptæŠ½è±¡è¯­æ³•æ ‘AST](https://segmentfault.com/a/1190000018532745) <https://segmentfault.com/a/1190000018532745>\n- [ASTæŠ½è±¡è¯­æ³•æ ‘â€”â€”æœ€åŸºç¡€çš„javascripté‡ç‚¹çŸ¥è¯†ï¼Œ99%çš„äººæ ¹æœ¬ä¸äº†è§£](https://segmentfault.com/a/1190000016231512?utm_source=tag-newest#articleHeader10)\n- [ä»é›¶å¼€å§‹å†™ä¸€ä¸ªwepyè½¬VUEçš„å·¥å…·](http://zzfed.com/#/detail/5c8efc30c476e35308705a5b)\n- Babelæ˜¯å¦‚ä½•è¯»æ‡‚JSä»£ç çš„ <https://zhuanlan.zhihu.com/p/27289600>\n- ç½‘æ˜“äº‘è¯¾å ‚ JSç¼–è¯‘åŸç†ï¼š [https://study.163.com/course/courseMain.htm?courseId=1209486877&*trace\\_c\\_p\\_k2*=8ea58ce894c149179bd099a664c39d08](https://study.163.com/course/courseMain.htm?courseId=1209486877&_trace_c_p_k2_=8ea58ce894c149179bd099a664c39d08)","isLeaf":true},{"key":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/02-babel-quickstart.md","path":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/02-babel-quickstart.md","route":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/02-babel-quickstart.md","leaf":true,"title":"02-babel-quickstart","depth":3,"content":"---\ntitle: 02 babel å¿«é€Ÿå¼€å§‹\ntags: Babel\n---\n\n## 1ã€åˆå§‹åŒ–é…ç½®\n\n```shell\nyarn add --dev @babel/core @babel/cli @babel/preset-env\n```\n\n- @babel/core æä¾›äº†åŸºæœ¬åŠŸèƒ½ï¼ŒåŒ…æ‹¬ AST è§£æ ä»¥åŠ AST visit\n- @babel/cli æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·\n- @babel/preset-env æ˜¯ä¸€ä¸ªæ’ä»¶é›†åˆ\n\n**åˆ›å»ºé…ç½®æ–‡ä»¶**\n\n```js\nconst presets = [\n  [\n    \"@babel/preset-env\",\n    {\n      targets: {\n        edge: \"17\",\n        firefox: \"60\",\n        chrome: \"67\",\n        safari: \"11.1\",\n      },\n      useBuiltIns: \"usage\",\n      corejs: \"3.6.4\",\n    },\n  ],\n];\n\nmodule.exports = { presets };\n```\n\n```\n./node_modules/.bin/babel src --out-dir lib\n```\n\n## 2ã€é…ç½®æ–‡ä»¶è¯´æ˜\n\n- é¡¹ç›®èŒƒå›´çš„é…ç½®\n  - `babel.config.*` æ–‡ä»¶ï¼Œå…·æœ‰ä»¥ä¸‹æ‰©å±•åï¼š.json, .js, .cjs, .mjs, .cts.\n- æ–‡ä»¶ç›¸å…³é…ç½®\n  - `.babelrc.*` æ–‡ä»¶ï¼Œå…·æœ‰ä»¥ä¸‹æ‰©å±•åï¼š.json, .js, .cjs, .mjs, .cts.\n  - `.babelrc` æ–‡ä»¶ï¼Œæ²¡æœ‰æ‰©å±•åã€‚\n  - `package.json` æ–‡ä»¶ï¼Œ\"babel\" key\n\nhttps://babeljs.io/docs/config-files åœ¨è¿™é‡Œäº†è§£ä»–ä»¬çš„åŒºåˆ«ï¼Œæˆ‘ä»¬åº”è¯¥ç”¨å“ªç§ï¼Ÿ","isLeaf":true},{"key":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/03-use-plugin-and-presets.md","path":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/03-use-plugin-and-presets.md","route":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/03-use-plugin-and-presets.md","leaf":true,"title":"03-use-plugin-and-presets","depth":3,"content":"---\ntitle: 03 ä½¿ç”¨ plugin å’Œ preset\ntags: Babel\n---\n\nBabel æ’ä»¶ å’Œ Preset æ˜¯ç”¨äºåœ¨ JavaScript é¡¹ç›®ä¸­è¿›è¡Œä»£ç è½¬æ¢çš„å·¥å…·ã€‚\n\n## 1ã€æ’ä»¶ å’Œ Preset æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\n\n- æ’ä»¶æ˜¯é’ˆå¯¹ Babel çš„å…·ä½“åŠŸèƒ½çš„å•ä¸ªåŠŸèƒ½ï¼Œä¾‹å¦‚â€œè½¬æ¢ç®­å¤´å‡½æ•°ä¸ºæ™®é€šå‡½æ•°â€ï¼Œâ€œè½¬æ¢ ES6 ç±»æˆä¸ºæ™®é€šå‡½æ•°â€ç­‰ï¼Œè€Œ preset åˆ™æ˜¯åŒ…å«å¦å¤–ä¸€äº›æ’ä»¶çš„ä¸€ä¸ªé›†åˆï¼Œè¿™äº›æ’ä»¶å…±åŒå®Œæˆä¸€äº›ç›¸å…³çš„ tasksã€‚\n\n- è½¯ä»¶é¢„è®¾(packaged presets) å¯ä»¥è½»æ¾åœ°æ‰§è¡Œå¤šé¡¹ä»»åŠ¡ï¼Œè€Œä¸å¿…å•ç‹¬å®‰è£…å’Œé…ç½®å¤šä¸ªæ’ä»¶ã€‚ä¾‹å¦‚ï¼Œ@babel/preset-env æ˜¯ä¸€ä¸ªé¢„è®¾ï¼Œå®ƒå¸®åŠ©æ‚¨å°† ES6+ä»£ç è½¬æ¢ä¸ºç¬¦åˆæ‚¨æŒ‡å®šçš„ç›®æ ‡ç¯å¢ƒçš„ JavaScript ä»£ç ã€‚\n\n## 2ã€å¦‚ä½•ä½¿ç”¨ï¼Ÿ\n\nä½¿ç”¨ Babel æ’ä»¶å’Œ Presetï¼Œæ‚¨éœ€è¦åœ¨é¡¹ç›®ä¸­å®‰è£…å®ƒä»¬å¹¶é…ç½® Babelã€‚åœ¨æ‚¨çš„é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `.babelrc` æ–‡ä»¶ï¼Œä¸º Babel æä¾›é…ç½®ã€‚\n\n### preset\n\nä¾‹å¦‚ï¼Œä½¿ç”¨ preset-env è½¬æ¢ ES6 +ä»£ç ï¼š\n\n1. å®‰è£… `@babel/preset-env`:\n\n```\nnpm install --save-dev @babel/preset-env\n```\n\n2. ç„¶ååœ¨ .babelrc æ–‡ä»¶ä¸­é…ç½®ï¼š\n\n```\n{\n  \"presets\": [\"@babel/preset-env\"]\n}\n```\n\nè¿™æ„å‘³ç€åœ¨é¡¹ç›®ä¸­çš„æ‰€æœ‰ ES6+ä»£ç éƒ½å°†è¢«è½¬æ¢ä¸ºé€‚ç”¨äºæ‚¨çš„æ‰€éœ€ JavaScript ç¯å¢ƒçš„æ ‡å‡† JavaScriptã€‚\n\n### plugin\n\n```shell\nyarn add --dev @babel/plugin-transform-arrow-functions\n```\n\n```\n./node_modules/.bin/babel src --out-dir lib --plugins=@babel/plugin-transform-arrow-functions\n```\n\n```js\nconst fn = () => 1;\n\n// converted to\nvar fn = function fn() {\n  return 1;\n};\n```\n\n```js\nconst presets = [\n  [\n    \"@babel/preset-env\",\n    {\n      targets: {\n        edge: \"17\",\n        firefox: \"60\",\n        chrome: \"67\",\n        safari: \"11.1\",\n      },\n      useBuiltIns: \"usage\",\n      corejs: \"3.6.4\",\n    },\n  ],\n];\n\nconst plugins = [[\"@babel/plugin-transform-arrow-functions\"]];\n\nmodule.exports = { presets, plugins };\n```\n","isLeaf":true},{"key":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/04-babel-plugin-ES2015.md","path":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/04-babel-plugin-ES2015.md","route":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/04-babel-plugin-ES2015.md","leaf":true,"title":"04-babel-plugin-ES2015","depth":3,"content":"---\ntitle: 04 plugin ES2015\ntags: Babel\n---\n\nBabel æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨ã€‚ä»å®è§‚è§’åº¦çœ‹ï¼Œå®ƒå°†è¿è¡Œä»£ç åˆ†ä¸º3ä¸ªé˜¶æ®µ: è§£æï¼Œè½¬æ¢ï¼ŒåŠç”Ÿæˆï¼ˆä¸å…¶ä»–ç¼–è¯‘å™¨ç›¸åŒï¼‰ã€‚\n\nå§‹é˜¶æ®µï¼ŒBabel å¹¶æ²¡æœ‰åšä»»ä½•äº‹æƒ…ã€‚å®ƒåŸºæœ¬ä¸Šå°±ç›¸å½“äº `const babel = code => code;`ï¼Œå…ˆè§£æä»£ç ï¼Œç„¶åå†æ¬¡ç”Ÿæˆç›¸åŒçš„ä»£ç ã€‚ä½ å¯ä»¥ä¸º Babel æ·»åŠ ä¸€äº› Plugins è®©å…¶å»åšä»»ä½•äº‹æƒ…( Plugins ä¼šå½±å“ Babel çš„ç¬¬ 2 é˜¶æ®µï¼Œè½¬æ¢)ã€‚\n\n\n## 1ã€ES3\n\n### [es3-member-expression-literals](https://babel.docschina.org/docs/en/babel-plugin-transform-es3-member-expression-literals)\n\n```javascript\n// åœ¨IE8åŠä»¥ä¸‹ä¼šæŠ¥é”™\nfoo.catch;\n\n// éœ€è¦è½¬æ¢ä¸º\nfoo[\"catch\"]\n```\n\n### [es3-property-literals](https://babel.docschina.org/docs/en/babel-plugin-transform-es3-property-literals)\n\n```javascript\n// åœ¨IE8åŠä»¥ä¸‹ä¼šæŠ¥é”™\nvar foo = {\n  catch: function () {}\n};\n\n// éœ€è¦è½¬æ¢ä¸º\nvar foo = {\n  \"catch\": function () {}\n};\n```\n\n\n### [reserved-words](https://babeljs.io/docs/en/babel-plugin-transform-reserved-words)\n\næœ‰äº›åœ¨æ ‡è¯†ç¬¦åœ¨ES3ä¸ºä¿ç•™å­—ï¼Œåœ¨ES5åŠä»¥åå°±ä¸æ˜¯äº†ï¼Œè¿™ä¸ªæ’ä»¶å¯ä»¥é‡å‘½åè¿™äº›æ ‡è¯†ç¬¦ã€‚\n\n```javascript\n// IN\nvar abstract = 1;\nvar x = abstract + 1;\n\n// OUT\nvar _abstract = 1;\nvar x = _abstract + 1;\n```\n\n## 2ã€ES5\n\n### [property-mutators](https://babeljs.io/docs/en/babel-plugin-transform-property-mutators)\n\nå¯¹äº mutate æ–¹æ³•çš„å®šä¹‰ï¼Œè€ç‰ˆçš„éƒ¨åˆ†æµè§ˆå™¨åªæ”¯æŒä½¿ç”¨Â Object.defineProperties æ¥å®šä¹‰ï¼š\n\n```javascript\n// In\nvar foo = {\n  get bar() {\n    return this._bar;\n  },\n  set bar(value) {\n    this._bar = value;\n  }\n};\n\n// Out\nvar foo = Object.defineProperties({}, {\n  bar: {\n    get: function () {\n      return this._bar;\n    },\n    set: function (value) {\n      this._bar = value;\n    },\n    configurable: true,\n    enumerable: true\n  }\n});\n```\n\n<a name=\"R2DiV\"></a>\n\n## 3ã€ES2015\n\nES2015 ä¿®è®¢æ–‡æ¡£ï¼š<https://www.ecma-international.org/ecma-262/6.0>\n\n### [arrow-functions](https://babeljs.io/docs/en/babel-plugin-transform-arrow-functions)\n\nç®­å¤´å‡½æ•°è½¬è¯‘\n\n### [block-scoped-functions](https://babeljs.io/docs/en/babel-plugin-transform-block-scoped-functions)\n\nå—çº§ä½œç”¨åŸŸå‡½æ•°\n\n```javascript\n// In\n{\n  function name (n) {\n    return n;\n  }\n}\n\nname(\"Steve\");\n\n// Out\n{\n  let name = function (n) {\n    return n;\n  };\n}\nname(\"Steve\");\n```\n\n### [block-scoping](https://babeljs.io/docs/en/babel-plugin-transform-block-scoping)\n\nå—åŠä½œç”¨åŸŸ\n\n```javascript\n// In\n{\n  let a = 3\n}\n\nlet a = 3\n\n// Out\n{\n  var _a = 3;\n}\n\nvar a = 3;\n```\n\n### [classes](https://babeljs.io/docs/en/babel-plugin-transform-classes)\n\nä½¿ç”¨ class å®šä¹‰ç±»ï¼Œå¦‚æœä½ çš„ä»£ç åŒ…å«å­ç±»ç»§æ‰¿ Native class æ—¶ï¼Œéœ€è¦é¢å¤–æ³¨æ„ï¼Œè§æ–‡æ¡£ [classes](https://babeljs.io/docs/en/babel-plugin-transform-classes)ã€‚\n\n```javascript\n// In\nclass Test {\n  constructor(name) {\n    this.name = name;\n  }\n\n  logger () {\n    console.log(\"Hello\", this.name);\n  }\n}\n\n// Out\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar Test = function () {\n  function Test(name) {\n    _classCallCheck(this, Test);\n\n    this.name = name;\n  }\n\n  Test.prototype.logger = function logger() {\n    console.log(\"Hello\", this.name);\n  };\n\n  return Test;\n}();\n```\n\n### [computed-properties](https://babeljs.io/docs/en/babel-plugin-transform-computed-properties)\n\nè®¡ç®—å±æ€§æˆ–è¡¨è¾¾å¼å±æ€§\n\n```javascript\n// In\nvar obj = {\n  [\"x\" + foo]: \"heh\",\n  [\"y\" + bar]: \"noo\",\n  foo: \"foo\",\n  bar: \"bar\"\n};\n\n// Out\nvar _obj;\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar obj = (\n  _obj = {},\n  _defineProperty(_obj, \"x\" + foo, \"heh\"),\n  _defineProperty(_obj, \"y\" + bar, \"noo\"),\n  _defineProperty(_obj, \"foo\", \"foo\"),\n  _defineProperty(_obj, \"bar\", \"bar\"),\n  _obj\n);\n```\n\n### [destructuring](https://babeljs.io/docs/en/babel-plugin-transform-destructuring)\n\nè§£æ„èµ‹å€¼\n\n```javascript\n// In\nlet {x, y} = obj;\nlet [a, b, ...rest] = arr;\n\n// Out\nfunction _toArray(arr) { ... }\n\nlet _obj = obj,\n    x = _obj.x,\n    y = _obj.y;\n\nlet _arr = arr,\n    _arr2 = _toArray(_arr),\n    a = _arr2[0],\n    b = _arr2[1],\n    rest = _arr2.slice(2);\n```\n\n### [duplicate-keys](https://babeljs.io/docs/en/babel-plugin-transform-duplicate-keys)\n\nå°†é‡å¤keyè½¬ä¸ºè¡¨è¾¾å¼keyï¼Œæ²¡ä»€ä¹ˆç”¨\n\n```javascript\n// In\nvar x = { a: 5, a: 6 };\nvar y = {\n  get a() {},\n  set a(x) {},\n  a: 3,\n};\n\n// Out\nvar x = { a: 5, [\"a\"]: 6 };\nvar y = {\n  get a() {},\n  set a(x) {},\n  [\"a\"]: 3,\n};\n```\n\n### [for-of](https://babeljs.io/docs/en/babel-plugin-transform-for-of)\n\nfor-of è¿­ä»£å™¨\n\n```javascript\n// in\nfor (var i of foo) {}\n\n// out\nvar _iteratorNormalCompletion = true;\nvar _didIteratorError = false;\nvar _iteratorError = undefined;\n\ntry {\n  for (var _iterator = foo[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n    var i = _step.value;\n  }\n} catch (err) {\n  _didIteratorError = true;\n  _iteratorError = err;\n} finally {\n  try {\n    if (!_iteratorNormalCompletion && _iterator.return != null) {\n      _iterator.return();\n    }\n  } finally {\n    if (_didIteratorError) {\n      throw _iteratorError;\n    }\n  }\n}\n```\n\n### [function-name](https://babeljs.io/docs/en/babel-plugin-transform-function-name)\n\n```javascript\n// in\nlet number = (x) => x\n\n// out\nvar number = function number(x) {\n  return x;\n};\n```\n\n### [instanceof](https://babeljs.io/docs/en/babel-plugin-transform-instanceof)\n\nES2015 å¯¹ instanceof æ“ä½œç¬¦è¿›è¡Œäº†ä¿®è®¢\n![20230608110441](http://s3.airtlab.com/blog/20230608110441.png)\n\n```javascript\n// in\nfoo instanceof Bar;\n\n// out\nfunction _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}\n\n_instanceof(foo, Bar);\n```\n\n### [literals](https://babeljs.io/docs/en/babel-plugin-transform-literals)\n\nå­—é¢é‡è½¬æ¢\n\n```javascript\n// in\nvar b = 0b11; // binary integer literal\nvar o = 0o7; // octal integer literal\nconst u = 'Hello\\u{000A}\\u{0009}!'; // unicode string literals, newline and tab\n\n// out\nvar b = 3; // binary integer literal\nvar o = 7; // octal integer literal\nconst u = 'Hello\\n\\t!'; // unicode string literals, newline and tab\n```\n\n### [new-target](https://babeljs.io/docs/en/babel-plugin-transform-new-target)\n\nnew.targetè¿”å›ä½¿ç”¨newæ–¹æ³•è°ƒç”¨ç±»æ—¶çš„ç±»çš„åç§°ï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶ï¼Œnew.targetä¼šè¿”å›å­ç±»ã€‚\n\n```javascript\nclass Rectangle {\n  constructor(length, width) {\n    console.log(new.target === Rectangle);\n  }\n}\n \nclass Square extends Rectangle {\n  constructor(length) {\n    super(length, length);\n  }\n}\n```\n\n### [object-super](https://babeljs.io/docs/en/babel-plugin-transform-object-super)\n\nthis å…³é”®å­—æ€»æ˜¯æŒ‡å‘å‡½æ•°æ‰€åœ¨çš„å½“å‰å¯¹è±¡ï¼ŒES6 æ–°å¢äº†å¦ä¸€ä¸ªç±»ä¼¼çš„å…³é”®å­—superï¼ŒæŒ‡å‘å½“å‰å¯¹è±¡çš„åŸå‹å¯¹è±¡ã€‚\n\n```javascript\nlet obj2 = {\n  say () {\n    // [object Object]World!\n    return super.toString() + \"World!\"\n  }\n}\n```\n\n### [parameters](https://babeljs.io/docs/en/babel-plugin-transform-parameters)\n\nå¤„ç† ES2015 å‡½æ•°å‚æ•°ï¼š\n\n- Destructuring parameters å‚æ•°è§£æ„\n- Default parameters é»˜è®¤å‚æ•°\n- Rest parameters æ‰©å±•ç¬¦\n\n```javascript\n// in\nfunction test(x = \"hello\", { a, b }, ...args) {\n  console.log(x, a, b, args);\n}\n\n// out\nfunction test() {\n  var x =\n    arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"hello\";\n  var _ref = arguments[1];\n  var a = _ref.a,\n    b = _ref.b;\n\n  for (\n    var _len = arguments.length,\n      args = Array(_len > 2 ? _len - 2 : 0),\n      _key = 2;\n    _key < _len;\n    _key++\n  ) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  console.log(x, a, b, args);\n}\n```\n\n### [shorthand-properties](https://babeljs.io/docs/en/babel-plugin-transform-shorthand-properties)\n\n```javascript\n// in\nvar o = { a, b, c };\n\n// out\nvar o = { a: a, b: b, c: c };\n```\n\n```javascript\n// in\nvar cat = {\n  getName() {\n    return name;\n  }\n};\n\n// out\nvar cat = {\n  getName: function () {\n    return name;\n  }\n};\n```\n\n### [spread](https://babeljs.io/docs/en/babel-plugin-transform-spread)\n\næ‰©å±•è¿ç®—ç¬¦ï¼Œä¸å‰©ä½™è¿ç®—ç¬¦äº’ä¸ºé€†è¿ç®—\n\n```javascript\n// in\nvar a = ['a', 'b', 'c'];\n\nvar b = [...a, 'foo'];\n\nvar c = foo(...a);\n\n// out\nvar a = ['a', 'b', 'c'];\n\nvar b = a.concat(['foo']);\n\nvar c = foo.apply(void 0, a);\n```\n\n### [sticky-regex](https://babeljs.io/docs/en/babel-plugin-transform-sticky-regex)\n\n```javascript\n// in\nconst a = /o+/y;\n\n// out\nvar a = new RegExp(\"o+\", \"y\");\n```\n\ny ä¿®é¥°ç¬¦ï¼šå«åš â€œç²˜è¿â€ï¼ˆstickyï¼‰ä¿®é¥°ç¬¦ã€‚ç”¨æ¥æ­£ç¡®å¤„ç†åŒ¹é…ç²˜è¿çš„å­—ç¬¦ä¸²ã€‚å®ƒçš„ä½œç”¨å’Œgä¿®é¥°ç±»ä¼¼ï¼Œä¹Ÿæ˜¯å…¨å±€åŒ¹é…ã€‚å®ƒå¯ä»¥ä½¿ç”¨æ–°å¢çš„æ­£åˆ™å¯¹è±¡å±æ€§stickyæ¥åˆ¤æ–­æ­£åˆ™å¯¹è±¡æ˜¯å¦è®¾ç½®äº†yä¿®é¥°ç¬¦ã€‚y å’Œ g çš„åŒºåˆ«\n\n- g ä¿®é¥°ç¬¦åªè¦å‰©ä½™ä½ç½®ä¸­å­˜åœ¨åŒ¹é…çš„å­—ç¬¦ä¸²å°±å¯ä»¥è¿”å›æˆåŠŸã€‚è€Œyä¿®é¥°ç¬¦ç¡®ä¿åŒ¹é…å¿…é¡»æ˜¯ä»å‰©ä½™çš„æ‰€æœ‰ä½ç½®ä¸­çš„ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹ï¼Œè¿™ä¹Ÿæ˜¯ç²˜è¿çš„å«ä¹‰ã€‚\n- y ä¿®é¥°ç¬¦éšå«äº†å¤´éƒ¨åŒ¹é…çš„æ ‡å¿—^ï¼ˆ^xè¡¨ç¤ºåŒ¹é…çš„å­—ç¬¦ä¸²çš„é¦–ä¸ªå­—ç¬¦å¿…é¡»æ˜¯xï¼‰\n\n### [template-literals](https://babeljs.io/docs/en/babel-plugin-transform-template-literals)\n\næ¨¡ç‰ˆå­—ç¬¦ä¸²\n\n```javascript\n// in\n`foo${bar}`;\n\n// out\n\"foo\".concat(bar);\n```\n\n### [typeof-symbol](https://babeljs.io/docs/en/babel-plugin-transform-typeof-symbol)\n\nSymbolæ˜¯åŸå§‹å€¼ï¼ŒES6æ‰©å±•äº†typeofæ“ä½œç¬¦ï¼Œè¿”å›\"symbol\"ã€‚æ‰€ä»¥å¯ä»¥ç”¨typeofæ¥æ£€æµ‹å˜é‡æ˜¯å¦ä¸ºsymbolç±»å‹\n\n### [unicode-escapes](https://babeljs.io/docs/en/babel-plugin-transform-unicode-escapes)\n\nCompile ES2015 Unicode escapes to ES5\n\n```javascript\n// in\nvar \\u{1d49c} = \"\\u{Babe1}\";\n\nconsole.log(\\u{1d49c});\n\n// out\nvar _ud835_udc9c = \"\\uDAAA\\uDFE1\";\n\nconsole.log(_ud835_udc9c);\n```\n\n### [unicode-regex](https://babeljs.io/docs/en/babel-plugin-transform-unicode-regex)\n\n```js\n// in\nvar string = \"fooğŸ’©bar\";\nvar match = string.match(/foo(.)bar/u);\n```","isLeaf":true},{"key":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/05-babel-plugin-ES2016.md","path":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/05-babel-plugin-ES2016.md","route":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/05-babel-plugin-ES2016.md","leaf":true,"title":"05-babel-plugin-ES2016","depth":3,"content":"---\ntitle: 05 plugin ES2016\ntags: Babel\n---\n\n## 1ã€ES2016\n\n### [exponentiation-operator](https://babeljs.io/docs/en/babel-plugin-transform-exponentiation-operator)\n\næ–°å¢æŒ‡æ•°è¿ç®—æ³•\n\n```javascript\n// in\nlet x = 10 ** 2;\n\nx **= 3;\n\n// out\nlet x = Math.pow(10, 2);\nx = Math.pow(x, 3);\n```\n\n## 2ã€ES2017\n\n### [async-to-generator](https://babeljs.io/docs/en/babel-plugin-transform-async-to-generator)\n\nå°† async è½¬æ¢ä¸º generator\n\n```javascript\n// in\nasync function foo() {\n  await bar();\n}\n\n// out\nvar _asyncToGenerator = function (fn) {\n  ...\n};\n\nvar foo = _asyncToGenerator(function* () {\n  yield bar();\n});\n```\n\n\n## 3ã€ES2018\n\n### [external-helpers](https://babeljs.io/docs/en/babel-plugin-external-helpers)\n\nå†…éƒ¨å¸®åŠ©å‡½æ•°\n\n### [object-assign](https://babeljs.io/docs/en/babel-plugin-transform-object-assign)\n\n```javascript\n// in \nObject.assign(a, b);\n\n// out\nvar _extends = ...;\n\n_extends(a, b);\n```\n\n### [regenerator](https://babeljs.io/docs/en/babel-plugin-transform-regenerator)\n\nè¿™æ˜¯ facebook ä¸‹çš„ä¸€ä¸ªå·¥å…·ï¼Œç”¨äºç¼–è¯‘ ES6 çš„ generator å‡½æ•°ï¼Œä¸€ç¯‡éå¸¸å¥½çš„æ–‡ç« è§ï¼š<https://www.jianshu.com/p/17a4c00d5831> <a name=\"uzkyg\"></a>\n\n![20230608110538](http://s3.airtlab.com/blog/20230608110538.png)\n\n### [runtime](https://babeljs.io/docs/en/babel-plugin-transform-runtime)\n\nruntime åº“ï¼Œç”¨äºé‡ç”¨ @babel/runtime ä»£ç .\n\n### [strict-mode](https://babeljs.io/docs/en/babel-plugin-transform-strict-mode)\n\nç¼–è¯‘ä¸ºä¸¥æ ¼æ¨¡å¼\n\n```javascript\n// in\nfoo();\n\n// out\n\"use strict\";\n\nfoo();\n```\n\n## Modules æ¨¡å—å¤„ç†\n\n- [modules-amd](https://babeljs.io/docs/en/babel-plugin-transform-modules-amd)\n- [modules-commonjs](https://babeljs.io/docs/en/babel-plugin-transform-modules-commonjs)\n- [modules-systemjs](https://babeljs.io/docs/en/babel-plugin-transform-modules-systemjs)\n- [modules-umd](https://babeljs.io/docs/en/babel-plugin-transform-modules-umd)\n\n### Experimental\n\n- [class-properties](https://babeljs.io/docs/en/babel-plugin-proposal-class-properties)\n\næ‰©å±•ç±»çš„å±æ€§å®šä¹‰\n\n```javascript\nclass Bork {\n    //Property initializer syntax\n    instanceProperty = \"bork\";\n\n    boundFunction = () => {\n      return this.instanceProperty;\n    };\n\n    //Static class properties\n    static staticProperty = \"babelIsCool\";\n    static staticFunction = function() {\n      return Bork.staticProperty;\n    };\n}\n```\n\n- [decorators](https://babeljs.io/docs/en/babel-plugin-proposal-decorators)\n\nè£…é¥°å™¨çš„æ”¯æŒ\n\n```javascript\n@annotation\nclass MyClass { }\n\nfunction annotation(target) {\n   target.annotated = true;\n}\n```\n\n- [do-expressions](https://babeljs.io/docs/en/babel-plugin-proposal-do-expressions)\n\ndo è¡¨è¾¾å¼\n\n```javascript\nlet a = do {\n  if(x > 10) {\n    'big';\n  } else {\n    'small';\n  }\n};\n// is equivalent to:\nlet a = x > 10 ? 'big' : 'small';\n```\n\n- [export-default-from](https://babeljs.io/docs/en/babel-plugin-proposal-export-default-from)\n\nå¿«æ·åˆ°å‡º\n\n```javascript\nexport v from 'mod';\n```\n\n- [export-namespace-from](https://babeljs.io/docs/en/babel-plugin-proposal-export-namespace-from)\n\nå¿«æ·å¯¼å‡ºé‡å‘½å\n\n```javascript\nexport * as ns from 'mod';\n```\n\n- [function-bind](https://babeljs.io/docs/en/babel-plugin-proposal-function-bind)\n\nå¿«æ·çš„å‡½æ•° context ç»‘å®š\n\n```javascript\nobj::func\n// is equivalent to:\nfunc.bind(obj)\n```\n\n- [function-sent](https://babeljs.io/docs/en/babel-plugin-proposal-function-sent)\n- [logical-assignment-operators](https://babeljs.io/docs/en/babel-plugin-proposal-logical-assignment-operators)\n- [nullish-coalescing-operator](https://babeljs.io/docs/en/babel-plugin-proposal-nullish-coalescing-operator)\n- [numeric-separator](https://babeljs.io/docs/en/babel-plugin-proposal-numeric-separator)\n- [optional-chaining](https://babeljs.io/docs/en/babel-plugin-proposal-optional-chaining)\n- [partial-application](https://babeljs.io/docs/en/babel-plugin-proposal-partial-application)\n- [pipeline-operator](https://babeljs.io/docs/en/babel-plugin-proposal-pipeline-operator)\n- [private-methods](https://babeljs.io/docs/en/babel-plugin-proposal-private-methods)\n- [throw-expressions](https://babeljs.io/docs/en/babel-plugin-proposal-throw-expressions)\n- [private-property-in-object](https://babeljs.io/docs/en/babel-plugin-proposal-private-property-in-object)\n\n\n## React ç›¸å…³è¯­æ³•\n\n- [react-constant-elements](https://babeljs.io/docs/en/babel-plugin-transform-react-constant-elements)\n- [react-display-name](https://babeljs.io/docs/en/babel-plugin-transform-react-display-name)\n- [react-inline-elements](https://babeljs.io/docs/en/babel-plugin-transform-react-inline-elements)\n- [react-jsx](https://babeljs.io/docs/en/babel-plugin-transform-react-jsx)\n- [react-jsx-compat](https://babeljs.io/docs/en/babel-plugin-transform-react-jsx-compat)\n- [react-jsx-self](https://babeljs.io/docs/en/babel-plugin-transform-react-jsx-self)\n- [react-jsx-source](https://babeljs.io/docs/en/babel-plugin-transform-react-jsx-source)\n","isLeaf":true},{"key":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/06-babel-presets.md","path":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/06-babel-presets.md","route":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/06-babel-presets.md","leaf":true,"title":"06-babel-presets","depth":3,"content":"---\ntitle: 06 babel presets\ntags: Babel\n---\n\npresets æ˜¯ä¸€äº› plugins çš„é›†åˆã€‚\n\n\n## 1ã€å®˜æ–¹ Presets\n\n- [@babel/preset-env](https://babeljs.io/docs/en/babel-preset-env)\n- [@babel/preset-flow](https://babeljs.io/docs/en/babel-preset-flow)\n- [@babel/preset-react](https://babeljs.io/docs/en/babel-preset-react)\n- [@babel/preset-typescript](https://babeljs.io/docs/en/babel-preset-typescript)\n\n## 2ã€å®éªŒé˜¶æ®µ Presets\n\n- [Stage 0](https://babeljs.io/docs/en/babel-preset-stage-0) - Strawman: just an idea, possible Babel plugin.\n- [Stage 1](https://babeljs.io/docs/en/babel-preset-stage-1) - Proposal: this is worth working on.\n- [Stage 2](https://babeljs.io/docs/en/babel-preset-stage-2) - Draft: initial spec.\n- [Stage 3](https://babeljs.io/docs/en/babel-preset-stage-3) - Candidate: complete spec and initial browser implementations.\n- Stage 4 - Finished: will be added to the next yearly release.\n\n## 3ã€è‡ªå®šä¹‰ presets\n\n```javascript\nmodule.exports = function() {\n  return {\n    plugins: [\n      \"pluginA\",\n      \"pluginB\",\n      \"pluginC\",\n    ]\n  };\n}\n```\n\npresets ä¸­ä¹Ÿå¯ä»¥åŒ…å«å…¶ä»– presetsï¼š\n\n```javascript\nmodule.exports = () => ({\n  presets: [\n    require(\"@babel/preset-env\"),\n  ],\n  plugins: [\n    [require(\"@babel/plugin-proposal-class-properties\"), { loose: true }],\n    require(\"@babel/plugin-proposal-object-rest-spread\"),\n  ],\n});\n```\n\nä½¿ç”¨ presets:\n\n```javascript\n// é node_modules\n{\n  \"presets\": [\"./myProject/myPreset\"]\n}\n\n// node_modules ä¸‹\n{\n  \"presets\": [\"babel-preset-myPreset\"]\n}\n```","isLeaf":true},{"key":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/07-preset-react.md","path":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/07-preset-react.md","route":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/07-preset-react.md","leaf":true,"title":"07-preset-react","depth":3,"content":"---\ntitle: 07 preset react\ntags: Babel\n---\n\nThis preset always includes the following plugins:\n\n- @babel/plugin-syntax-jsx\n- @babel/plugin-transform-react-jsx\n- @babel/plugin-transform-react-display-name\n\nAnd with the development option:\n\nClassic runtime adds:\n\n- @babel/plugin-transform-react-jsx-self\n- @babel/plugin-transform-react-jsx-source\n\n```json\n{\n  \"presets\": [\n    [\n      \"@babel/preset-react\",\n      {\n        \"pragma\": \"dom\", // default pragma is React.createElement (only in classic runtime)\n        \"pragmaFrag\": \"DomFrag\", // default is React.Fragment (only in classic runtime)\n        \"throwIfNamespace\": false, // defaults to true\n        \"runtime\": \"classic\" // defaults to classic\n        // \"importSource\": \"custom-jsx-library\" // defaults to react (only in automatic runtime)\n      }\n    ]\n  ]\n}\n```\n\n## @babel/plugin-syntax-jsx\n\n@babel/plugin-syntax-jsx æ˜¯ä¸€ä¸ªç”¨äº Babel çš„æ’ä»¶ï¼Œå®ƒçš„ä½œç”¨æ˜¯è®© Babel èƒ½å¤Ÿè¯†åˆ«å’Œè½¬æ¢ JSX è¯­æ³•çš„ä»£ç ã€‚JSX æ˜¯ä¸€ç§ JavaScript çš„è¯­æ³•æ‰©å±•ï¼Œå®ƒå…è®¸åœ¨ JavaScript ä¸­ç¼–å†™ç±»ä¼¼äº HTML çš„æ ‡è®°è¯­è¨€ï¼Œç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢ã€‚\nåœ¨æ²¡æœ‰è¯¥æ’ä»¶çš„æƒ…å†µä¸‹ï¼ŒBabel å°†æ— æ³•ç†è§£ JSX ä»£ç ä¸­çš„æ ‡ç­¾ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚ä½¿ç”¨ @babel/plugin-syntax-jsx æ’ä»¶åï¼ŒBabel å°†èƒ½å¤Ÿæ­£ç¡®åœ°è§£æå¹¶è½¬æ¢ JSX è¯­æ³•åˆ°æ™®é€šçš„ JavaScript ä»£ç ã€‚\n\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥æ’ä»¶åªæ˜¯è§£æ JSX è¯­æ³•ï¼Œå®ƒå¹¶ä¸ä¼šå°† JSX è½¬åŒ–ä¸ºçœŸæ­£çš„ DOM æ“ä½œã€‚è¦å°† JSX è½¬æ¢ä¸ºå¯ç”¨çš„ JavaScript ä»£ç ï¼Œéœ€è¦ä½¿ç”¨å…¶ä»–çš„æ’ä»¶æˆ–å·¥å…·ï¼Œä¾‹å¦‚ @babel/preset-react æ’ä»¶ã€React æˆ– Preact åº“ç­‰ã€‚\n\n## @babel/plugin-transform-react-jsx\n\n@babel/plugin-transform-react-jsx æ˜¯ä¸€ä¸ªç”¨äº Babel çš„æ’ä»¶ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°† JSX è¯­æ³•è½¬æ¢ä¸ºæ™®é€šçš„ JavaScript ä»£ç ï¼Œä»¥ä¾¿ JavaScript å¼•æ“èƒ½å¤Ÿè¯†åˆ«å’Œæ‰§è¡Œè¿™äº›ä»£ç ã€‚\nJSX æ˜¯ä¸€ç§ JavaScript çš„è¯­æ³•æ‰©å±•ï¼Œå®ƒå…è®¸åœ¨ JavaScript ä¸­ç¼–å†™ç±»ä¼¼äº HTML çš„æ ‡è®°è¯­è¨€ï¼Œç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢ã€‚ä½†æ˜¯ï¼Œç”±äº JavaScript å¼•æ“ä¸èƒ½ç›´æ¥æ‰§è¡Œ JSX ä»£ç ï¼Œå› æ­¤éœ€è¦å°†å…¶è½¬æ¢ä¸ºæ™®é€šçš„ JavaScript ä»£ç ï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨æµè§ˆå™¨æˆ– Node.js ç­‰ç¯å¢ƒä¸­æ‰§è¡Œã€‚\n\n\n## React 17 ä»‹ç»å…¨æ–°çš„ JSX è½¬æ¢ (React.createElement => jsx)\n\n![20230518151443](http://s3.airtlab.com/blog/20230518151443.png)\n\n![20230518151453](http://s3.airtlab.com/blog/20230518151453.png)\n\n![20230518151506](http://s3.airtlab.com/blog/20230518151506.png)\n\n![20230518151537](http://s3.airtlab.com/blog/20230518151537.png)\n\n![20230518151556](http://s3.airtlab.com/blog/20230518151556.png)","isLeaf":true},{"key":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/08-plugin-order.md","path":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/08-plugin-order.md","route":"/subject/Babel/01 åŸºç¡€æ•™ç¨‹/08-plugin-order.md","leaf":true,"title":"08-plugin-order","depth":3,"content":"---\ntitle: 08 plugin çš„é¡ºåº\ntags: Babel\n---\n\nbabel æ’ä»¶æŒ‰é¡ºåºæ‰§è¡Œï¼Œé‚£ä¹ˆæ’ä»¶çš„å…ˆåé¡ºåºæ˜¯å¦‚ä½•å†³å®šçš„å‘¢ï¼Ÿæ¯”å¦‚åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨ React å’Œ Typescriptï¼Œé‚£ä¹ˆè¯†åˆ« ts çš„è¯­æ³•æ’ä»¶åœ¨å‰é¢ï¼Œè¿˜æ˜¯è¯†åˆ« jsx çš„è¯­æ³•çš„æ’ä»¶åœ¨å‰é¢ï¼Ÿ\n\n- Plugin ä¼šè¿è¡Œåœ¨ Preset ä¹‹å‰ã€‚\n- Plugin ä¼šä»å‰åˆ°åé¡ºåºæ‰§è¡Œã€‚\n- Preset çš„é¡ºåºåˆ™ åˆšå¥½ç›¸å(ä»åå‘å‰)ã€‚\n\nå¾ˆæ˜æ˜¾ï¼Œè°åœ¨å‰ï¼Œè°å°±å¾—æ”¯æŒä¸¤ç§è¯­æ³•ï¼Œ`@babel/preset-typescript` å·²ç»æ”¯æŒäº† jsx è¯­æ³•\n\n![20230705145919](http://s3.airtlab.com/blog/20230705145919.png)\n\n`@babel/preset-typescript` åº•å±‚ä¾èµ–ï¼Œplugin-syntax-typescript ","isLeaf":true}]},{"key":"/subject/Babel/02 Babel API","path":"/subject/Babel/02 Babel API","route":"/subject/Babel/02 Babel API","leaf":false,"title":"02 Babel API","depth":2,"content":"","isLeaf":false,"children":[{"key":"/subject/Babel/02 Babel API/01-@babel_core.md","path":"/subject/Babel/02 Babel API/01-@babel_core.md","route":"/subject/Babel/02 Babel API/01-@babel_core.md","leaf":true,"title":"01-@babel_core","depth":3,"content":"---\ntitle: 01 @babel/core\ntags: Babel\n---\n\n@babel/core æš´éœ²äº† `æºä»£ç  => AST => ç›®æ ‡ä»£ç ` æ•´ä¸ªè¿‡ç¨‹æ‰€éœ€è¦çš„æ–¹æ³•ã€‚\n\n## 1. transform\n\ntransform æ–¹æ³•å°†æºä»£ç å¤„ç†åè¿”å›ç›®æ ‡ä»£ç ï¼Œsourcemap ä»£ç ï¼Œä»¥åŠastï¼š\n\n```javascript\n/**\n * @param string code æºä»£ç \n * @param object options é…ç½®é¡¹\n * @param function callback å›è°ƒå‡½æ•°\n */\nbabel.transform(code: string, options?: Object, callback: Function)\n```\n\n```javascript\nconst babel = require(\"@babel/core\");\nconst code = `const name = 1`\nconst options = {}\n\nbabel.transform(code, options, function(err, result) {\n  result; // => { code, map, ast }\n  console.log(result)\n});\n```\n\nå¦‚æœéœ€è¦ ast å’Œ sourcemap:\n\n```javascript\nconst babel = require(\"@babel/core\");\nconst sourceCode = `var count = 1`\n\nbabel.transform(sourceCode, { ast: true, inputSourceMap: true }, function(err, result) {\n  result; // => { code, map, ast }\n  console.log(result)\n});\n```\n\nè¿™é‡Œçš„ options ç”¨äºé…ç½® pluginsï¼Œhelpers ç­‰ç­‰ï¼Œåé¢ä¼šè¯¦ç»†ä»‹ç»ã€‚å¦å¤– bable è¿˜æä¾›äº† transform çš„åŒæ­¥æ–¹æ³• transformSyncï¼Œä»¥åŠå¼‚æ­¥Promise API transformAsync:\n\n```javascript\n// åŒæ­¥API\nvar result = babel.transformSync(\"code();\", options);\nresult.code;\nresult.map;\nresult.ast;\n\n// å¼‚æ­¥API\nbabel.transformAsync(\"code();\", options).then(result => {\n  result.code;\n  result.map;\n  result.ast;\n});\n```\n\n## 2. transformFile\n\ntransformFile ç”¨äºè½¬æ¢æ•´ä¸ªJSæ–‡ä»¶ï¼š\n\n```javascript\nbabel.transformFile(filename: string, options?: Object, callback: Function)\n```\n\nå…¶å‡½æ•°ç­¾åå’Œ transform å·®ä¸å¤šï¼Œåªæ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ä»æºä»£ç  code å˜ä¸ºäº†æ–‡ä»¶è·¯å¾„ filenameï¼š\n\n```javascript\nbabel.transformFile(\"filename.js\", options, function (err, result) {\n  result; // => { code, map, ast }\n});\n```\n\nç±»ä¼¼çš„ï¼ŒtransformFile ä¹Ÿé¢å¤–æä¾›äº†åŒæ­¥å’Œå¼‚æ­¥APIï¼ŒtransformFileSync å’Œ transformFileAsyncã€‚\n\n## 3. parse\n\nè¯¥æ–¹æ³•ä¼šæ‰«ç æºä»£ç ï¼Œè¿”å›ä¸€ä¸ª ASTï¼Œå¹¶ä¸” @babel/core åŒæ ·é¢å¤–æä¾›äº† parse æ–¹æ³•çš„å¼‚æ­¥å’ŒåŒæ­¥API: parseAsync å’Œ parseSyncã€‚\n\n```javascript\nbabel.parse(code: string, options?: Object, callback: Function)\n```\n\n```javascript\nconst babel = require(\"@babel/core\");\nconst sourceCode = `var count = 1`\n\nbabel.parse(sourceCode, function(err, result) {\n  console.log(JSON.stringify(result))\n});\n```\n\nç»“æœå¦‚ä¸‹ï¼š\n\n```javascript\n{\n\t\"type\": \"File\",\n\t\"start\": 0,\n\t\"end\": 13,\n\t\"loc\": {\n\t\t\"start\": {\n\t\t\t\"line\": 1,\n\t\t\t\"column\": 0\n\t\t},\n\t\t\"end\": {\n\t\t\t\"line\": 1,\n\t\t\t\"column\": 13\n\t\t}\n\t},\n\t\"errors\": [],\n\t\"program\": {\n\t\t\"type\": \"Program\",\n\t\t\"start\": 0,\n\t\t\"end\": 13,\n\t\t\"loc\": {\n\t\t\t\"start\": {\n\t\t\t\t\"line\": 1,\n\t\t\t\t\"column\": 0\n\t\t\t},\n\t\t\t\"end\": {\n\t\t\t\t\"line\": 1,\n\t\t\t\t\"column\": 13\n\t\t\t}\n\t\t},\n\t\t\"sourceType\": \"module\",\n\t\t\"interpreter\": null,\n\t\t\"body\": [{\n\t\t\t\"type\": \"VariableDeclaration\",\n\t\t\t\"start\": 0,\n\t\t\t\"end\": 13,\n\t\t\t\"loc\": {\n\t\t\t\t\"start\": {\n\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\"column\": 0\n\t\t\t\t},\n\t\t\t\t\"end\": {\n\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\"column\": 13\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"declarations\": [{\n\t\t\t\t\"type\": \"VariableDeclarator\",\n\t\t\t\t\"start\": 4,\n\t\t\t\t\"end\": 13,\n\t\t\t\t\"loc\": {\n\t\t\t\t\t\"start\": {\n\t\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\t\"column\": 4\n\t\t\t\t\t},\n\t\t\t\t\t\"end\": {\n\t\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\t\"column\": 13\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"type\": \"Identifier\",\n\t\t\t\t\t\"start\": 4,\n\t\t\t\t\t\"end\": 9,\n\t\t\t\t\t\"loc\": {\n\t\t\t\t\t\t\"start\": {\n\t\t\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\t\t\"column\": 4\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"end\": {\n\t\t\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\t\t\"column\": 9\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"identifierName\": \"count\"\n\t\t\t\t\t},\n\t\t\t\t\t\"name\": \"count\"\n\t\t\t\t},\n\t\t\t\t\"init\": {\n\t\t\t\t\t\"type\": \"NumericLiteral\",\n\t\t\t\t\t\"start\": 12,\n\t\t\t\t\t\"end\": 13,\n\t\t\t\t\t\"loc\": {\n\t\t\t\t\t\t\"start\": {\n\t\t\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\t\t\"column\": 12\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"end\": {\n\t\t\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\t\t\"column\": 13\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"extra\": {\n\t\t\t\t\t\t\"rawValue\": 1,\n\t\t\t\t\t\t\"raw\": \"1\"\n\t\t\t\t\t},\n\t\t\t\t\t\"value\": 1\n\t\t\t\t}\n\t\t\t}],\n\t\t\t\"kind\": \"var\"\n\t\t}],\n\t\t\"directives\": []\n\t},\n\t\"comments\": []\n}\n```\n\n## 4. transformFromAst\n\nç»™å®šä¸€ä¸ª [AST](https://astexplorer.net/) ï¼Œå°†å®ƒè¿›è¡Œè½¬æ¢ä¸ºå’Œparseræ–¹æ³•è¾“å…¥ä¸€è‡´çš„ç»“æœï¼Œä¹Ÿç®—æ˜¯å°† parse æ–¹æ³•çš„è¾“å…¥è¿›è¡Œååºåˆ—åŒ–ï¼š\n\n```javascript\nbabel.transformFromAst(ast: Object, code?: string, options?: Object, callback: Function): FileNode | null\n```\n\n```javascript\nvar babel = require(\"@babel/core\");\n\nconst sourceCode = `var count = 1`\n\nbabel.parse(sourceCode, function(err, result) {\n  if (err) {\n    console.log(err);\n    return;\n  }\n\n  // babel.transformFromAst(result, function(err, res) {\n  //   console.log(res) // res === JSON.string(result)\n  // })\n\n  babel.transformFromAst(result, undefined, { ast: true }, function(err, res) {\n    console.log(res)\n  })\n});\n```\n\n## 5. Advanced APIs\n\nè®¸å¤šä½¿ç”¨äº†Babelçš„ç³»ç»Ÿéƒ½å–œæ¬¢è‡ªåŠ¨æ³¨å…¥ plugins å’Œ presetsï¼Œæˆ–è¦†ç›–é€‰é¡¹ã€‚ä¸ºäº†å®ç°æ­¤ç›®æ ‡ï¼ŒBabel å…¬å¼€äº†ä¸€äº›åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½æœ‰åŠ©äºåœ¨ä¸è¿›è¡Œè½¬æ¢çš„æƒ…å†µä¸‹éƒ¨åˆ†åŠ è½½é…ç½®ã€‚\n\n\n### 5.1 loadOptions\n\nç”¨äºè§£æ Babel çš„é€‰é¡¹ï¼Œäº§ç”Ÿä¸€ä¸ª option å¯¹è±¡\n\n```javascript\nbabel.loadOptions(options?: Object)\n```\n\nä»£ç ï¼š\n\n```javascript\nvar babel = require(\"@babel/core\");\n\nconst res = babel.loadOptions({\n  \"plugins\": [\"@babel/plugin-transform-arrow-functions\"]\n})\n\nconsole.log(res)\n```\n\nè¾“å‡ºï¼š\n\n![20230608023018](http://s3.airtlab.com/blog/20230608023018.png)\n\n### 5.2 loadPartialConfig\n\n```javascript\nbabel.loadPartialConfig(options?: Object): PartialConfig\n```\n\n### 5.3 createConfigItem\n\n```javascript\nbabel.createConfigItem(value: string | {} | Function | [string | {} | Function, {} | void], { dirname?: string, type?: \"preset\" | \"plugin\" }): ConfigItem\n```\n\n## 6. Options é…ç½®\n\nå‚è€ƒæ–‡æ¡£ <https://babeljs.io/docs/en/options>","isLeaf":true},{"key":"/subject/Babel/02 Babel API/02-@babel_generator.md","path":"/subject/Babel/02 Babel API/02-@babel_generator.md","route":"/subject/Babel/02 Babel API/02-@babel_generator.md","leaf":true,"title":"02-@babel_generator","depth":3,"content":"---\ntitle: 02 @babel/generator\ntags: Babel\n---\n\n```javascript\nimport {parse} from '@babel/parser';\nimport generate from '@babel/generator';\n\nconst code = 'class Example {}';\nconst ast = parse(code);\n\nconst output = generate(ast, { /* options */ }, code);\n```\n\n## 1ã€æ ¼å¼åŒ–è¾“å‡ºçš„é€‰é¡¹\n\n| é€‰é¡¹å | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |\n| :--- | :--- | :--- | :--- |\n| auxiliaryCommentBefore | string |  | å¯é€‰å­—ç¬¦ä¸²ï¼Œåœ¨è¾“å‡ºæ–‡ä»¶çš„å¼€å§‹æ·»åŠ å—æ³¨é‡Š |\n| auxiliaryCommentAfter | string |  | å¯é€‰å­—ç¬¦ä¸²ï¼Œåœ¨è¾“å‡ºæ–‡ä»¶çš„æœ«å°¾æ·»åŠ å—æ³¨é‡Š |\n| shouldPrintComment | function | opts.comments | å¦‚æœæ³¨é‡Šéœ€è¦åŒ…å«åœ¨è¾“å‡ºä¸­ï¼Œè¯¥å‡½æ•°åˆ™éœ€æ¥å—æ³¨é‡Šï¼ˆä½œä¸ºå­—ç¬¦ä¸²ï¼‰å¹¶è¿”å› true ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœ opts.commoents ä¸º true æˆ–è€… opts.minifed ä¸º false å¹¶ä¸”æ³¨é‡Šä¸­åŒ…å« @preserve æˆ– @licenseï¼Œåˆ™åŒ…å«æ³¨é‡Šã€‚ |\n| retainLines | boolean | false | å°è¯•åœ¨è¾“å‡ºçš„ä»£ç ä¸­ä½¿ç”¨ä¸æºä»£ç ç›¸åŒçš„è¡Œå·(æœ‰åŠ©äºä¿ç•™æ ˆä¿¡æ¯è·Ÿè¸ª) |\n| retainFunctionParens | boolean | false | ä¿ç•™å‡½æ•°è¡¨è¾¾å¼çš„ä¸Šä¸‹çº§ (å¯ç”¨äºæ›´æ”¹å¼•æ“è§£æè¡Œä¸º) |\n| comments | boolean | true | è¾“å‡ºä¸­æ˜¯å¦åŒ…å«æ³¨é‡Š |\n| compact | boolean or 'auto' | opts.minified | è®¾ç½®ä¸º true ä»¥é¿å…æ·»åŠ ç”¨äºæ ¼å¼åŒ–çš„ç©ºæ ¼ |\n| minified | boolean | false | è¾“å‡ºæ˜¯å¦è¢«å‹ç¼© |\n| concise | boolean | false | è®¾ç½®ä¸º true ä»¥å‡å°‘ç©ºæ ¼ (ä½†æ•ˆæœä¸å¦‚ opts.compact ) |\n| quotes | 'single' or 'double' | åŸºäº ast.tokens çš„è‡ªåŠ¨æ£€æµ‹ | è¾“å‡ºä¸­å¯¹å¼•å·çš„ç±»å‹è¿›è¡Œä¿ç•™ |\n| filename | string |  | åœ¨è­¦å‘Šä¿¡æ¯ä¸­ä½¿ç”¨ |\n| flowCommaSeparator | boolean | false | è®¾ç½®ä¸º true ä»¥ä½¿ç”¨é€—å·è€Œä¸æ˜¯åˆ†å·ä½œä¸º Flow å±æ€§çš„åˆ†éš”ç¬¦ |\n| jsonCompatibleStrings | boolean | false | è®¾ç½®ä¸º trueï¼Œä½¿ç”¨ \"json\" è¿è¡Œ jsescï¼šæ­£ç¡®çš„å°† \"\\u00A9\" æ‰“å°ä¸º \"Â©\" ; |\n\nsource maps çš„é€‰é¡¹:\n\n| é€‰é¡¹å | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |\n| :--- | :--- | :--- | :--- |\n| sourceMaps | boolean | false | å¯ç”¨ç”Ÿæˆ source maps |\n| sourceMapTarget | string |  | source map ä¼šä¸ç”Ÿæˆä»£ç çš„æ–‡ä»¶åè¿›è¡Œå…³è” |\n| sourceRoot | string |  | source map ä¸­æ‰€æœ‰å¯¹åº” URLs çš„ root |\n| sourceFileName | string |  | æºä»£ç ï¼ˆä¾‹å¦‚ï¼Œ  code å‚æ•°ä¸­çš„ä»£ç ï¼‰çš„æ–‡ä»¶åã€‚åªä¼šåœ¨ code ä¸ºå­—ç¬¦ä¸²æ—¶ä½¿ç”¨ã€‚ |\n\n\n## 2ã€å¤šä¸ªæ¥æºæ„å»º AST\n\nåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒBabel ä¼šå°†è¾“å…¥æ–‡ä»¶ä¸è¾“å‡ºæ–‡ä»¶è¿›è¡Œ 1:1 è½¬æ¢ã€‚ç„¶è€Œï¼Œä½ å¯èƒ½æ­£åœ¨å¤„ç†ä»å¤šä¸ªæ¥æºæ„å»ºçš„ AST - JS æ–‡ä»¶ï¼Œæ¨¡æ¿ç­‰ã€‚å¦‚æœå‡ºç°è¿™ç§æƒ…å†µï¼Œå¹¶ä¸”ä½ è¿˜å¸Œæœ› source map ä¸ºä½ æä¾›æ­£ç¡®çš„æ¥æºï¼Œåˆ™éœ€è¦å°†ä¸€ä¸ªå¯¹è±¡ä½œä¸º `code` å‚æ•°ä¼ é€’ç»™ `generate`ã€‚å…¶ä¸­é”®åº”è¯¥ä¸ºæºæ–‡ä»¶åç§°ï¼Œå€¼åº”è¯¥ä¸ºæºå†…å®¹ã€‚\n\n```javascript\nconst { parse } = require('@babel/parser');\nconst generate = require('@babel/generator').default;\n\nconst a = 'var a = 1;';\nconst b = 'var b = 2;';\n\nconst astA = parse(a, { sourceFilename: 'a.js' });\nconst astB = parse(b, { sourceFilename: 'b.js' });\n\nconst ast = {\n  type: 'Program',\n  body: [].concat(astA.program.body, astB.program.body)\n};\n\nconst { code, map } = generate(ast, { sourceMaps: true }, {\n  'a.js': a,\n  'b.js': b\n});\n\nconsole.log(code)\nconsole.log(map)\n```\n","isLeaf":true},{"key":"/subject/Babel/02 Babel API/03-@babel_helpers.md","path":"/subject/Babel/02 Babel API/03-@babel_helpers.md","route":"/subject/Babel/02 Babel API/03-@babel_helpers.md","leaf":true,"title":"03-@babel_helpers","depth":3,"content":"---\ntitle: 03 @babel/helpers\ntags: Babel\n---\n\nè¯¥æ¨¡å—ç”¨äºæä¾›äº†ç¼–è¯‘æ—¶çš„ä¸€äº›å¸®åŠ©å‡½æ•°ã€‚\n\n```javascript\nimport * as helpers from '@babel/helpers';\nimport * as t from '@babel/types';\n\nconst typeofHelper = helpers.get('typeof');\n\nt.isExpressionStatement(typeofHelper);\n// true\n```","isLeaf":true},{"key":"/subject/Babel/02 Babel API/04-@babel_parser.md","path":"/subject/Babel/02 Babel API/04-@babel_parser.md","route":"/subject/Babel/02 Babel API/04-@babel_parser.md","leaf":true,"title":"04-@babel_parser","depth":3,"content":"---\ntitle: 04 @babel/parser\ntags: Babel\n---\n\n## 1ã€@babel/parser æ˜¯ä»€ä¹ˆ\n\n@babel/parser ä¸»è¦çš„ä»»åŠ¡æ˜¯å°†æºä»£ç ç”ŸæˆASTæŠ½è±¡è¯­æ³•æ ‘ã€‚æŒ‰ç…§å®˜ç½‘çš„ä»‹ç»ï¼Œ@babel/parser åº”è¯¥åœ¨ [acorn](https://github.com/marijnh/acorn)Â å’ŒÂ [acorn-jsx](https://github.com/RReverser/acorn-jsx) çš„åŸºç¡€ä¸Šå¼€å‘çš„ï¼Œè™½ç„¶ @babel/parser çš„æºç æ²¡æœ‰ä¾èµ– acorn æ¨¡å—ï¼Œå…¶ä¸­ acorn ä¸»è¦åŒ…å«ä»¥ä¸‹3ä¸ªæ¨¡å—ï¼š\n\n> - [acorn](https://github.com/acornjs/acorn/blob/master/acorn/): The main parser ä¸»è¦çš„è§£é‡Šå™¨\n> - [acorn-loose](https://github.com/acornjs/acorn/blob/master/acorn-loose/): The error-tolerant parser é”™è¯¯å¤„ç†\n> - [acorn-walk](https://github.com/acornjs/acorn/blob/master/acorn-walk/): The syntax tree walker è¯­æ³•æ ‘çš„éå†\n\n## 2ã€@babel/parser æºç å®šä¹‰\n\nåœ¨ @babel/parser çš„ d.ts æ–‡ä»¶å¯ä»¥çœ‹åˆ°ï¼Œå®ƒåªæä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼š\n![20230608023126](http://s3.airtlab.com/blog/20230608023126.png)\n\n```typescript\n/**\n * Parse the provided code as an entire ECMAScript program.\n * è§£æå®Œæ•´çš„ ECMAScript ç¨‹åº\n */\nexport function parse(input: string, options?: ParserOptions): import('@babel/types').File;\n\n/**\n * Parse the provided code as a single expression.\n * ä»…ä»…è§£æ ECMAScript è¡¨è¾¾å¼\n */\nexport function parseExpression(input: string, options?: ParserOptions): import('@babel/types').Expression;\n```\n\né™¤æ­¤ä¹‹å¤–è¿˜æä¾›äº†ä¸€äº› typeï¼š\n\n- ParserOptions\n- ParserPlugin\n- ParserPluginWithOptions\n- DecoratorsPluginOptions\n- PipelineOperatorPluginOptions\n- FlowPluginOptions <a name=\"zJB8k\"></a>\n\n## 3ã€API\n\n### 3.1ã€parse(code, \\[options])\n\nè§£æå®Œæ•´çš„ ECMAScript ç¨‹åº\n\n```typescript\nconst parser = require('@babel/parser');\n// console.log(parser.parse('const name = 123'))\nconsole.log(JSON.stringify(parser.parse('const name = 123')))\n```\n\nè§£æåçš„è¯­æ³•æ ‘ä¸ºï¼š\n\n```javascript\n{\n\t\"type\": \"File\",\n\t\"start\": 0,\n\t\"end\": 16,\n\t\"loc\": {\n\t\t\"start\": {\n\t\t\t\"line\": 1,\n\t\t\t\"column\": 0\n\t\t},\n\t\t\"end\": {\n\t\t\t\"line\": 1,\n\t\t\t\"column\": 16\n\t\t}\n\t},\n\t\"errors\": [],\n\t\"program\": {\n\t\t\"type\": \"Program\",\n\t\t\"start\": 0,\n\t\t\"end\": 16,\n\t\t\"loc\": {\n\t\t\t\"start\": {\n\t\t\t\t\"line\": 1,\n\t\t\t\t\"column\": 0\n\t\t\t},\n\t\t\t\"end\": {\n\t\t\t\t\"line\": 1,\n\t\t\t\t\"column\": 16\n\t\t\t}\n\t\t},\n\t\t\"sourceType\": \"script\",\n\t\t\"interpreter\": null,\n\t\t\"body\": [{\n\t\t\t\"type\": \"VariableDeclaration\",\n\t\t\t\"start\": 0,\n\t\t\t\"end\": 16,\n\t\t\t\"loc\": {\n\t\t\t\t\"start\": {\n\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\"column\": 0\n\t\t\t\t},\n\t\t\t\t\"end\": {\n\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\"column\": 16\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"declarations\": [{\n\t\t\t\t\"type\": \"VariableDeclarator\",\n\t\t\t\t\"start\": 6,\n\t\t\t\t\"end\": 16,\n\t\t\t\t\"loc\": {\n\t\t\t\t\t\"start\": {\n\t\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\t\"column\": 6\n\t\t\t\t\t},\n\t\t\t\t\t\"end\": {\n\t\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\t\"column\": 16\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"type\": \"Identifier\",\n\t\t\t\t\t\"start\": 6,\n\t\t\t\t\t\"end\": 10,\n\t\t\t\t\t\"loc\": {\n\t\t\t\t\t\t\"start\": {\n\t\t\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\t\t\"column\": 6\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"end\": {\n\t\t\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\t\t\"column\": 10\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"identifierName\": \"name\"\n\t\t\t\t\t},\n\t\t\t\t\t\"name\": \"name\"\n\t\t\t\t},\n\t\t\t\t\"init\": {\n\t\t\t\t\t\"type\": \"NumericLiteral\",\n\t\t\t\t\t\"start\": 13,\n\t\t\t\t\t\"end\": 16,\n\t\t\t\t\t\"loc\": {\n\t\t\t\t\t\t\"start\": {\n\t\t\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\t\t\"column\": 13\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"end\": {\n\t\t\t\t\t\t\t\"line\": 1,\n\t\t\t\t\t\t\t\"column\": 16\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"extra\": {\n\t\t\t\t\t\t\"rawValue\": 123,\n\t\t\t\t\t\t\"raw\": \"123\"\n\t\t\t\t\t},\n\t\t\t\t\t\"value\": 123\n\t\t\t\t}\n\t\t\t}],\n\t\t\t\"kind\": \"const\"\n\t\t}],\n\t\t\"directives\": []\n\t},\n\t\"comments\": []\n}\n```\n\n### 3.2ã€parseExpression(code, \\[options])\n\nä»…ä»…è§£æ ECMAScript è¡¨è¾¾å¼\n\n### 3.3ã€options\n\n- allowImportExportEverywhereï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œimport å¹¶ export å£°æ˜åªèƒ½å‡ºç°åœ¨ä¸€ä¸ªç¨‹åºçš„ top level scopeã€‚å°†æ­¤é€‰é¡¹è®¾ç½®ä¸ºtrueå…è®¸åœ¨ä»»ä½•ä½ç½®ä½¿ç”¨ã€‚\n- allowAwaitOutsideFunctionï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œawait ä»…å…è®¸åœ¨å¼‚æ­¥å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œæˆ–è€…å½“ topLevelAwait æ’ä»¶è¢«å¯ç”¨åï¼Œåœ¨æ¨¡å—çš„ top level scope å†…ä½¿ç”¨ã€‚å°†å…¶è®¾ç½®ä¸º trueï¼Œåˆ™åœ¨è„šæœ¬çš„ top-level scope å†…å¯ä½¿ç”¨ã€‚\n- allowReturnOutsideFunctionï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œé¡¶å±‚çš„ return è¯­å¥ä¼šå¼•å‘é”™è¯¯ã€‚è®¾ç½® true ä¸ºæ¥å—è¿™æ ·çš„ä»£ç ã€‚\n\nä¸‹é¢çš„ä»£ç å°†ä¼šå¼•å‘é”™è¯¯ï¼š\n\n```typescript\nconst parser = require('@babel/parser');\n// console.log(JSON.stringify(parser.parse('const name = 123')))\n\nconsole.log(JSON.stringify(parser.parse('return 6', {\n  allowReturnOutsideFunction: false\n})))\n```\n\n![20230608023157](http://s3.airtlab.com/blog/20230608023157.png)\n\nè®¾ç½® allowReturnOutsideFunction ä¸º trueï¼Œå°†ä¸ä¼šæŠ¥é”™ã€‚\n\n- **allowSuperOutsideMethod**\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œsuper ä¸å…è®¸åœ¨ç±»å’Œå¯¹è±¡æ–¹æ³•ä¹‹å¤–ä½¿ç”¨ï¼Œè®¾ç½® true ä¸ºæ¥å—è¿™æ ·çš„ä»£ç \n\n- **allowUndeclaredExports**\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¼å‡ºåœ¨å½“å‰æ¨¡å—ä½œç”¨åŸŸä¸­æœªå£°æ˜çš„æ ‡è¯†ç¬¦å°†å¼•å‘é”™è¯¯ã€‚å°½ç®¡ ECMAScript æ¨¡å—è§„èŒƒè¦æ±‚æ­¤è¡Œä¸ºï¼Œä½†Babel çš„è§£æå™¨æ— æ³•åœ¨ä»¥åå¯èƒ½ä¼šæ’å…¥é€‚å½“å£°æ˜çš„æ’ä»¶ç®¡é“ä¸­é¢„æœŸè½¬æ¢ï¼Œå› æ­¤æœ‰æ—¶è®¾ç½®æ­¤é€‰é¡¹`true`ä»¥é˜²æ­¢è§£æå™¨è¿‡æ—©åœ°æŠ›å‡ºå¼‚å¸¸æœªå£°æ˜çš„å¯¼å‡ºä¼šå¾ˆé‡è¦ã€‚\n\n## 4ã€Output\n\nBabelè§£æå™¨æ ¹æ® [Babel ASTæ ¼å¼](https://github.com/babel/babel/tree/master/packages/babel-parser/ast/spec.md) ç”ŸæˆASTÂ ã€‚å®ƒåŸºäº [ESTreeè§„èŒƒ](https://github.com/estree/estree)ï¼Œä½†å­˜åœ¨ä»¥ä¸‹å·®å¼‚ï¼š\n\n![20230608023257](http://s3.airtlab.com/blog/20230608023257.png)\n\n## 5ã€Plugins\n### 5.1ã€è¯­è¨€æ’ä»¶\n\n| Name | Code Example |\n| --- | --- |\n| `flow`\n&#x20;([repo](https://github.com/facebook/flow)) | `var a: string = \"\";` |\n| `flowComments`\n&#x20;([docs](https://flow.org/en/docs/types/comments/)) | `/*:: type Foo = {...}; */` |\n| `jsx`\n&#x20;([repo](https://facebook.github.io/jsx/)) | `<a attr=\"b\">{s}</a>` |\n| `typescript`\n&#x20;([repo](https://github.com/Microsoft/TypeScript)) | `var a: string = \"\";` |\n| `v8intrinsic` | `%DebugPrint(foo);` |\n\n\n### 5.2ã€ECMAScript [proposals](https://github.com/babel/proposals)\n\n| Name | Code Example |\n| --- | --- |\n| `asyncGenerators`\n&#x20;([proposal](https://github.com/tc39/proposal-async-iteration)) | `async function*() {}`\n, `for await (let a of b) {}` |\n| `bigInt`\n&#x20;([proposal](https://github.com/tc39/proposal-bigint)) | `100n` |\n| `classProperties`\n&#x20;([proposal](https://github.com/tc39/proposal-class-public-fields)) | `class A { b = 1; }` |\n| `classPrivateProperties`\n&#x20;([proposal](https://github.com/tc39/proposal-private-fields)) | `class A { #b = 1; }` |\n| `classPrivateMethods`\n&#x20;([proposal](https://github.com/tc39/proposal-private-methods)) | `class A { #c() {} }` |\n| `decorators`\n&#x20;([proposal](https://github.com/tc39/proposal-decorators))\n`decorators-legacy` | `@a class A {}` |\n| `doExpressions`\n&#x20;([proposal](https://github.com/tc39/proposal-do-expressions)) | `var a = do { if (true) { 'hi'; } };` |\n| `dynamicImport`\n&#x20;([proposal](https://github.com/tc39/proposal-dynamic-import)) | `import('./guy').then(a)` |\n| `exportDefaultFrom`\n&#x20;([proposal](https://github.com/leebyron/ecmascript-export-default-from)) | `export v from \"mod\"` |\n| `exportNamespaceFrom`\n&#x20;([proposal](https://github.com/leebyron/ecmascript-export-ns-from)) | `export * as ns from \"mod\"` |\n| `functionBind`\n&#x20;([proposal](https://github.com/zenparsing/es-function-bind)) | `a::b`\n, `::console.log` |\n| `functionSent` | `function.sent` |\n| `importMeta`\n&#x20;([proposal](https://github.com/tc39/proposal-import-meta)) | `import.meta.url` |\n| `logicalAssignment`\n&#x20;([proposal](https://github.com/tc39/proposal-logical-assignment)) | `a &&= b` |\n| `nullishCoalescingOperator`\n&#x20;([proposal](https://github.com/babel/proposals/issues/14)) | `a ?? b` |\n| `numericSeparator`\n&#x20;([proposal](https://github.com/samuelgoto/proposal-numeric-separator)) | `1_000_000` |\n| `objectRestSpread`\n&#x20;([proposal](https://github.com/tc39/proposal-object-rest-spread)) | `var a = { b, ...c };` |\n| `optionalCatchBinding`\n&#x20;([proposal](https://github.com/babel/proposals/issues/7)) | `try {throw 0;} catch{do();}` |\n| `optionalChaining`\n&#x20;([proposal](https://github.com/tc39/proposal-optional-chaining)) | `a?.b` |\n| `partialApplication`\n&#x20;([proposal](https://github.com/babel/proposals/issues/32)) | `f(?, a)` |\n| `pipelineOperator`\n&#x20;([proposal](https://github.com/babel/proposals/issues/29)) | `a &#124;> b` |\n| `throwExpressions`\n&#x20;([proposal](https://github.com/babel/proposals/issues/23)) | `() => throw new Error(\"\")` |\n| `topLevelAwait`\n&#x20;([proposal](https://github.com/tc39/proposal-top-level-await/)) | `await promise`\n&#x20;in modules |\n\n## 6ã€sourceType\n\nsourceType å¯ä»¥æ˜¯ \"module\" æˆ–è€… \"script\"ï¼Œå®ƒè¡¨ç¤º Babylon åº”è¯¥ç”¨å“ªç§æ¨¡å¼æ¥è§£æã€‚ \"module\" å°†ä¼šåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è§£æå¹¶ä¸”å…è®¸æ¨¡å—å®šä¹‰ï¼Œ\"script\" åˆ™ä¸ä¼šã€‚\n\n## 7ã€Example\n\n```typescript\nrequire(\"@babel/parser\").parse(\"code\", {\n  // parse in strict mode and allow module declarations\n  sourceType: \"module\",\n\n  plugins: [\n    // enable jsx and flow syntax\n    \"jsx\",\n    \"flow\"\n  ]\n});\n```\n\n## 8ã€å‚è€ƒæ–‡æ¡£\n- [1] acorn github <https://github.com/acornjs/acorn>\n- [2] estree è§„èŒƒ <https://github.com/estree/estree>","isLeaf":true},{"key":"/subject/Babel/02 Babel API/05-@babel_runtime.md","path":"/subject/Babel/02 Babel API/05-@babel_runtime.md","route":"/subject/Babel/02 Babel API/05-@babel_runtime.md","leaf":true,"title":"05-@babel_runtime","depth":3,"content":"---\ntitle: 05 @babel/runtime\ntags: Babel\n---\n\n5ã€@babel/runtime\n\nè¯¥åº“æä¾›äº†ä¸€äº›è¿è¡Œæ—¶çš„å¸®åŠ©å‡½æ•°ï¼Œé¿å…äº†åœ¨æ¯ä¸ªæ–‡ä»¶ä¸­éƒ½å®šäº†ä¸€ä»½å¸®åŠ©å‡½æ•°ï¼Œè€Œç»Ÿä¸€ä» @babel/runtime ä¸­å¼•å…¥ã€‚@babel/runtime ä¸»è¦åŒ…å« è¿è¡Œæ—¶çš„ helpers å‡½æ•° ä»¥åŠ regenerator runtimeã€‚\n\nbabel-plugin-transform-runtime å’Œ babel-runtime çš„åŒºåˆ«ï¼š\n\n- babel-plugin-transform-runtime å†…éƒ¨ä¾èµ–äº† babel-runtime","isLeaf":true},{"key":"/subject/Babel/02 Babel API/06-@babel_traverse.md","path":"/subject/Babel/02 Babel API/06-@babel_traverse.md","route":"/subject/Babel/02 Babel API/06-@babel_traverse.md","leaf":true,"title":"06-@babel_traverse","depth":3,"content":"---\ntitle: 06 @babel/traverse\ntags: Babel\n---\n\n## é¢„å¤‡çŸ¥è¯†\n\n### Pathsï¼ˆè·¯å¾„ï¼‰\n\nAST é€šå¸¸ä¼šæœ‰è®¸å¤šèŠ‚ç‚¹ï¼Œé‚£ä¹ˆèŠ‚ç‚¹ç›´æ¥å¦‚ä½•ç›¸äº’å…³è”å‘¢ï¼Ÿ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¯æ“ä½œå’Œè®¿é—®çš„å·¨å¤§å¯å˜å¯¹è±¡è¡¨ç¤ºèŠ‚ç‚¹ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ç”¨Pathsï¼ˆè·¯å¾„ï¼‰æ¥ç®€åŒ–è¿™ä»¶äº‹æƒ…ã€‚Path æ˜¯è¡¨ç¤ºä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´è¿æ¥çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸‹é¢è¿™æ ·ä¸€ä¸ªèŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹ï¸°\n\n```json\n{\n  \"parent\": {\n    \"type\": \"FunctionDeclaration\",\n    \"id\": {...},\n    ....\n  },\n  \"node\": {\n    \"type\": \"Identifier\",\n    \"name\": \"square\"\n  }\n}\n```\n\nåŒæ—¶å®ƒè¿˜åŒ…å«å…³äºè¯¥è·¯å¾„çš„å…¶ä»–å…ƒæ•°æ®ï¼š\n\n```json\n{\n  \"parent\": {...},\n  \"node\": {...},\n  \"hub\": {...},\n  \"contexts\": [],\n  \"data\": {},\n  \"shouldSkip\": false,\n  \"shouldStop\": false,\n  \"removed\": false,\n  \"state\": null,\n  \"opts\": null,\n  \"skipKeys\": null,\n  \"parentPath\": null,\n  \"context\": null,\n  \"container\": null,\n  \"listKey\": null,\n  \"inList\": false,\n  \"parentKey\": null,\n  \"key\": null,\n  \"scope\": null,\n  \"type\": null,\n  \"typeAnnotation\": null\n}\n```\n\nå½“ç„¶è·¯å¾„å¯¹è±¡è¿˜åŒ…å«æ·»åŠ ã€æ›´æ–°ã€ç§»åŠ¨å’Œåˆ é™¤èŠ‚ç‚¹æœ‰å…³çš„å…¶ä»–å¾ˆå¤šæ–¹æ³•ï¼Œç¨åæˆ‘ä»¬å†æ¥çœ‹è¿™äº›æ–¹æ³•ã€‚åœ¨æŸç§æ„ä¹‰ä¸Šï¼Œè·¯å¾„æ˜¯ä¸€ä¸ªèŠ‚ç‚¹åœ¨æ ‘ä¸­çš„ä½ç½®ä»¥åŠå…³äºè¯¥èŠ‚ç‚¹å„ç§ä¿¡æ¯çš„å“åº”å¼ **Reactive** è¡¨ç¤ºã€‚ å½“ä½ è°ƒç”¨ä¸€ä¸ªä¿®æ”¹æ ‘çš„æ–¹æ³•åï¼Œè·¯å¾„ä¿¡æ¯ä¹Ÿä¼šè¢«æ›´æ–°ã€‚ Babel å¸®ä½ ç®¡ç†è¿™ä¸€åˆ‡ï¼Œä»è€Œä½¿å¾—èŠ‚ç‚¹æ“ä½œç®€å•ï¼Œå°½å¯èƒ½åšåˆ°æ— çŠ¶æ€ã€‚\n\n### Paths in Visitorsï¼ˆè®¿é—®è€…ä¸­çš„è·¯å¾„ï¼‰\n\nå½“ä½ æœ‰ä¸€ä¸ªÂ `Identifier()`Â æˆå‘˜æ–¹æ³•çš„è®¿é—®è€…æ—¶ï¼Œä½ å®é™…ä¸Šæ˜¯åœ¨è®¿é—®è·¯å¾„è€ŒéèŠ‚ç‚¹ã€‚ é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ æ“ä½œçš„å°±æ˜¯èŠ‚ç‚¹çš„å“åº”å¼è¡¨ç¤ºï¼ˆè¯‘æ³¨ï¼šå³è·¯å¾„ï¼‰è€ŒéèŠ‚ç‚¹æœ¬èº«ã€‚\n\n```json\nconst MyVisitor = {\n  Identifier(path) {\n    console.log(\"Visiting: \" + path.node.name);\n  }\n};\n```\n\n## Visiting è®¿é—®\n\n### Get the Path of Sub-Node\n\nä¸ºäº†å¾—åˆ°ä¸€ä¸ªASTèŠ‚ç‚¹çš„å±æ€§å€¼ï¼Œæˆ‘ä»¬ä¸€èˆ¬å…ˆè®¿é—®åˆ°è¯¥èŠ‚ç‚¹ï¼Œç„¶ååˆ©ç”¨Â path.node.propertyÂ æ–¹æ³•å³å¯ï¼š <a name=\"kxNY7\"></a>\n\n## è½¬æ¢æ“ä½œ\n\n### è®¿é—®\n\n#### è·å–å­èŠ‚ç‚¹çš„Path\n\nä¸ºäº†å¾—åˆ°ä¸€ä¸ªASTèŠ‚ç‚¹çš„å±æ€§å€¼ï¼Œæˆ‘ä»¬ä¸€èˆ¬å…ˆè®¿é—®åˆ°è¯¥èŠ‚ç‚¹ï¼Œç„¶ååˆ©ç”¨ `path.node.property` æ–¹æ³•å³å¯ï¼š\n\n```javascript\n// è·å–å­èŠ‚ç‚¹çš„Path\n// ä¸‹é¢çš„ä¾‹å­éå†æ‰€æœ‰ BinaryExpression, è¿™é‡Œåªæœ‰ä¸€ä¸ª\n\nimport * as parser from \"@babel/parser\";\nimport traverse from \"@babel/traverse\";\nimport generate from '@babel/generator';\n\nconst code = `function square(n) {\n  return n * n;\n}`;\n\nconst ast = parser.parse(code);\n\ntraverse(ast, {\n  BinaryExpression(path) {\n    console.log(path.node.left) // Identifier Node\n    console.log(path.node.right) // Identifier Node\n    console.log(path.node.operator) // \"*\"\n  }\n});\n```\n\n#### æ£€æŸ¥èŠ‚ç‚¹çš„ç±»å‹\n\n```js\n// æ”¹å˜å‡½æ•°å‚æ•°çš„ä¾‹å­\n\nimport * as parser from \"@babel/parser\";\nimport traverse from \"@babel/traverse\";\nimport generate from '@babel/generator';\nimport helpers from '@babel/helpers';\nimport * as t from '@babel/types';\n\nconst code = `function square(n) {\n  return n * fn(n);\n}`;\n\nconst ast = parser.parse(code);\n\ntraverse(ast, {\n  BinaryExpression(path) {\n    // path.node.left: Identifier æ ‡è¯†ç¬¦\n    // path.node.right: CallExpression å‡½æ•°è°ƒç”¨è¡¨è¾¾å¼\n    if(t.isIdentifier(path.node.left)) {\n      console.log(path.node)\n    }\n  }\n});\n```\n\n#### æ£€æŸ¥è·¯å¾„ï¼ˆPathï¼‰ç±»å‹\n\n```javascript\nBinaryExpression(path) {\n  if (path.get('left').isIdentifier({ name: \"n\" })) {\n    // ...\n  }\n}\n\n// ç›¸å½“äº\nBinaryExpression(path) {\n  if (t.isIdentifier(path.node.left, { name: \"n\" })) {\n    // ...\n  }\n}\n```\n\n#### æ£€æŸ¥æ ‡è¯†ç¬¦ï¼ˆIdentifierï¼‰æ˜¯å¦è¢«å¼•ç”¨\n\n```javascript\n// æ”¹å˜å‡½æ•°å‚æ•°çš„ä¾‹å­\n\nimport * as parser from \"@babel/parser\";\nimport traverse from \"@babel/traverse\";\nimport generate from '@babel/generator';\nimport * as t from '@babel/types';\n\nconst code = `function square(n) {\n  return n * n;\n}`;\n\nconst ast = parser.parse(code);\n\ntraverse(ast, {\n  Identifier(path) {\n    if (path.isReferencedIdentifier()) {\n      // console.log(path.node)\n    }\n  }\n});\n```\n\n## æ¼”ç¤ºä¾‹å­\n\n### ä¿®æ”¹å‡½æ•°å‚æ•°\n\n```javascript\n// æ”¹å˜å‡½æ•°å‚æ•°çš„ä¾‹å­\n\nimport * as parser from \"@babel/parser\";\nimport traverse from \"@babel/traverse\";\nimport generate from '@babel/generator';\n\nconst code = `function square(n) {\n  return n * n;\n}`;\n\nconst ast = parser.parse(code);\n\ntraverse(ast, {\n  enter(path) {\n    if (path.isIdentifier({ name: \"n\" })) {\n      path.node.name = \"x\";\n    }\n  }\n});\n\nconst output = generate(ast, { /* options */ }, code);\n\nconsole.log(output.code);\n\n// function square(x) {\n//   return x * x;\n// }\n```\n","isLeaf":true},{"key":"/subject/Babel/02 Babel API/07-@babel_types.md","path":"/subject/Babel/02 Babel API/07-@babel_types.md","route":"/subject/Babel/02 Babel API/07-@babel_types.md","leaf":true,"title":"07-@babel_types","depth":3,"content":"---\ntitle: 07 @babel/types\n---\n\n## Identify æ ‡è¯†ç¬¦\n\n## Expression è¡¨è¾¾å¼\n\n## Statement è¯­å¥\n\n## Literal å­—é¢é‡\n","isLeaf":true},{"key":"/subject/Babel/02 Babel API/08-@babel_template.md","path":"/subject/Babel/02 Babel API/08-@babel_template.md","route":"/subject/Babel/02 Babel API/08-@babel_template.md","leaf":true,"title":"08-@babel_template","depth":3,"content":"","isLeaf":true}]},{"key":"/subject/Babel/03 æ’ä»¶å¼€å‘","path":"/subject/Babel/03 æ’ä»¶å¼€å‘","route":"/subject/Babel/03 æ’ä»¶å¼€å‘","leaf":false,"title":"03 æ’ä»¶å¼€å‘","depth":2,"content":"","isLeaf":false,"children":[{"key":"/subject/Babel/03 æ’ä»¶å¼€å‘/01-docs.md","path":"/subject/Babel/03 æ’ä»¶å¼€å‘/01-docs.md","route":"/subject/Babel/03 æ’ä»¶å¼€å‘/01-docs.md","leaf":true,"title":"01-docs","depth":3,"content":"---\ntitle: 01 å¼€å‘æ–‡æ¡£\nurl: https://www.yuque.com/gaollard/ubc1q5/kiltvy\n---\n\n<https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md#toc-get-the-path-of-a-sub-node>\n","isLeaf":true},{"key":"/subject/Babel/03 æ’ä»¶å¼€å‘/02-ast.md","path":"/subject/Babel/03 æ’ä»¶å¼€å‘/02-ast.md","route":"/subject/Babel/03 æ’ä»¶å¼€å‘/02-ast.md","leaf":true,"title":"02-ast","depth":3,"content":"---\ntitle: 02 AST éå†\nurl: https://www.yuque.com/gaollard/ubc1q5/mvu0v5\n---\n\n<a name=\"YuHXc\"></a>\n\n### Visitorsï¼ˆè®¿é—®è€…ï¼‰\n\n![20230608092029](http://s3.airtlab.com/blog/20230608092029.png)\n\n***\n\n![20230608092045](http://s3.airtlab.com/blog/20230608092045.png)\n\n***\n![20230608092113](http://s3.airtlab.com/blog/20230608092113.png)\n\n***\n\n![20230608092145](http://s3.airtlab.com/blog/20230608092145.png)\n\n***\n\n![20230608092200](http://s3.airtlab.com/blog/20230608092200.png)\n","isLeaf":true},{"key":"/subject/Babel/03 æ’ä»¶å¼€å‘/03-node.md","path":"/subject/Babel/03 æ’ä»¶å¼€å‘/03-node.md","route":"/subject/Babel/03 æ’ä»¶å¼€å‘/03-node.md","leaf":true,"title":"03-node","depth":3,"content":"---\ntitle: 03 Node èŠ‚ç‚¹\nurl: https://www.yuque.com/gaollard/ubc1q5/vqxtr7\n---\n\n### 1ã€Node ä»‹ç»\n\n![20230608092219](http://s3.airtlab.com/blog/20230608092219.png)\n\n![20230608092257](http://s3.airtlab.com/blog/20230608092257.png)\n\n### 2ã€Node å®šä¹‰\n\n```typescript\ninterface BaseNode {\n  type: Node[\"type\"];\n  leadingComments?: Comment[] | null;\n  innerComments?: Comment[] | null;\n  trailingComments?: Comment[] | null;\n  start?: number | null;\n  end?: number | null;\n  loc?: SourceLocation | null;\n  range?: [number, number];\n  extra?: Record<string, unknown>;\n}\n```\n\n```typescript\ndeclare type Node = AnyTypeAnnotation | ArgumentPlaceholder | ArrayExpression | ArrayPattern | ArrayTypeAnnotation | ArrowFunctionExpression | AssignmentExpression | AssignmentPattern | AwaitExpression | BigIntLiteral | BinaryExpression | BindExpression | BlockStatement | BooleanLiteral | BooleanLiteralTypeAnnotation | BooleanTypeAnnotation | BreakStatement | CallExpression | CatchClause | ClassAccessorProperty | ClassBody | ClassDeclaration | ClassExpression | ClassImplements | ClassMethod | ClassPrivateMethod | ClassPrivateProperty | ClassProperty | ConditionalExpression | ContinueStatement | DebuggerStatement | DecimalLiteral | DeclareClass | DeclareExportAllDeclaration | DeclareExportDeclaration | DeclareFunction | DeclareInterface | DeclareModule | DeclareModuleExports | DeclareOpaqueType | DeclareTypeAlias | DeclareVariable | DeclaredPredicate | Decorator | Directive | DirectiveLiteral | DoExpression | DoWhileStatement | EmptyStatement | EmptyTypeAnnotation | EnumBooleanBody | EnumBooleanMember | EnumDeclaration | EnumDefaultedMember | EnumNumberBody | EnumNumberMember | EnumStringBody | EnumStringMember | EnumSymbolBody | ExistsTypeAnnotation | ExportAllDeclaration | ExportDefaultDeclaration | ExportDefaultSpecifier | ExportNamedDeclaration | ExportNamespaceSpecifier | ExportSpecifier | ExpressionStatement | File | ForInStatement | ForOfStatement | ForStatement | FunctionDeclaration | FunctionExpression | FunctionTypeAnnotation | FunctionTypeParam | GenericTypeAnnotation | Identifier | IfStatement | Import | ImportAttribute | ImportDeclaration | ImportDefaultSpecifier | ImportNamespaceSpecifier | ImportSpecifier | IndexedAccessType | InferredPredicate | InterfaceDeclaration | InterfaceExtends | InterfaceTypeAnnotation | InterpreterDirective | IntersectionTypeAnnotation | JSXAttribute | JSXClosingElement | JSXClosingFragment | JSXElement | JSXEmptyExpression | JSXExpressionContainer | JSXFragment | JSXIdentifier | JSXMemberExpression | JSXNamespacedName | JSXOpeningElement | JSXOpeningFragment | JSXSpreadAttribute | JSXSpreadChild | JSXText | LabeledStatement | LogicalExpression | MemberExpression | MetaProperty | MixedTypeAnnotation | ModuleExpression | NewExpression | Noop | NullLiteral | NullLiteralTypeAnnotation | NullableTypeAnnotation | NumberLiteral$1 | NumberLiteralTypeAnnotation | NumberTypeAnnotation | NumericLiteral | ObjectExpression | ObjectMethod | ObjectPattern | ObjectProperty | ObjectTypeAnnotation | ObjectTypeCallProperty | ObjectTypeIndexer | ObjectTypeInternalSlot | ObjectTypeProperty | ObjectTypeSpreadProperty | OpaqueType | OptionalCallExpression | OptionalIndexedAccessType | OptionalMemberExpression | ParenthesizedExpression | PipelineBareFunction | PipelinePrimaryTopicReference | PipelineTopicExpression | Placeholder | PrivateName | Program | QualifiedTypeIdentifier | RecordExpression | RegExpLiteral | RegexLiteral$1 | RestElement | RestProperty$1 | ReturnStatement | SequenceExpression | SpreadElement | SpreadProperty$1 | StaticBlock | StringLiteral | StringLiteralTypeAnnotation | StringTypeAnnotation | Super | SwitchCase | SwitchStatement | SymbolTypeAnnotation | TSAnyKeyword | TSArrayType | TSAsExpression | TSBigIntKeyword | TSBooleanKeyword | TSCallSignatureDeclaration | TSConditionalType | TSConstructSignatureDeclaration | TSConstructorType | TSDeclareFunction | TSDeclareMethod | TSEnumDeclaration | TSEnumMember | TSExportAssignment | TSExpressionWithTypeArguments | TSExternalModuleReference | TSFunctionType | TSImportEqualsDeclaration | TSImportType | TSIndexSignature | TSIndexedAccessType | TSInferType | TSInstantiationExpression | TSInterfaceBody | TSInterfaceDeclaration | TSIntersectionType | TSIntrinsicKeyword | TSLiteralType | TSMappedType | TSMethodSignature | TSModuleBlock | TSModuleDeclaration | TSNamedTupleMember | TSNamespaceExportDeclaration | TSNeverKeyword | TSNonNullExpression | TSNullKeyword | TSNumberKeyword | TSObjectKeyword | TSOptionalType | TSParameterProperty | TSParenthesizedType | TSPropertySignature | TSQualifiedName | TSRestType | TSStringKeyword | TSSymbolKeyword | TSThisType | TSTupleType | TSTypeAliasDeclaration | TSTypeAnnotation | TSTypeAssertion | TSTypeLiteral | TSTypeOperator | TSTypeParameter | TSTypeParameterDeclaration | TSTypeParameterInstantiation | TSTypePredicate | TSTypeQuery | TSTypeReference | TSUndefinedKeyword | TSUnionType | TSUnknownKeyword | TSVoidKeyword | TaggedTemplateExpression | TemplateElement | TemplateLiteral | ThisExpression | ThisTypeAnnotation | ThrowStatement | TopicReference | TryStatement | TupleExpression | TupleTypeAnnotation | TypeAlias | TypeAnnotation | TypeCastExpression | TypeParameter | TypeParameterDeclaration | TypeParameterInstantiation | TypeofTypeAnnotation | UnaryExpression | UnionTypeAnnotation | UpdateExpression | V8IntrinsicIdentifier | VariableDeclaration | VariableDeclarator | Variance | VoidTypeAnnotation | WhileStatement | WithStatement | YieldExpression;\n```\n","isLeaf":true},{"key":"/subject/Babel/03 æ’ä»¶å¼€å‘/04-path.md","path":"/subject/Babel/03 æ’ä»¶å¼€å‘/04-path.md","route":"/subject/Babel/03 æ’ä»¶å¼€å‘/04-path.md","leaf":true,"title":"04-path","depth":3,"content":"---\ntitle: 04 Path è·¯å¾„\nurl: https://www.yuque.com/gaollard/ubc1q5/yhzw27\n---\n\n<a name=\"jNaIt\"></a>\n\n### 1ã€Path ä»‹ç»\n\n![20230608092337](http://s3.airtlab.com/blog/20230608092337.png)\n\n***\n\n![20230608092353](http://s3.airtlab.com/blog/20230608092353.png)\n\n### 2ã€Paths in Visitorsï¼ˆå­˜åœ¨äºè®¿é—®è€…ä¸­çš„è·¯å¾„ï¼‰\n\n![20230608092412](http://s3.airtlab.com/blog/20230608092412.png)\n\n### 3ã€demo æ¼”ç¤º\n\n```javascript\nconst fs = require('fs');\nconst babel = require(\"@babel/core\");\n\nconst MyVisitor = {\n  Identifier(path) {\n    console.log(\"Visiting: \" + path.node.name);\n  }\n};\n\nfunction MyPlugin() {\n  return {\n    visitor: MyVisitor\n  }\n}\n\nvar res = babel.transformSync(\"var code = 1; var fn = () => {}\", {\n  ast: true,\n  plugins: [\n    require('@babel/plugin-transform-arrow-functions'),\n    MyPlugin\n  ]\n});\n\nconsole.log(res.code);\n```\n","isLeaf":true},{"key":"/subject/Babel/03 æ’ä»¶å¼€å‘/05-binding.md","path":"/subject/Babel/03 æ’ä»¶å¼€å‘/05-binding.md","route":"/subject/Babel/03 æ’ä»¶å¼€å‘/05-binding.md","leaf":true,"title":"05-binding","depth":3,"content":"---\ntitle: 05 Bindingsï¼ˆç»‘å®šï¼‰\nurl: https://www.yuque.com/gaollard/ubc1q5/rw3qxv\n---\n\nä¸€ä¸ªä½œç”¨åŸŸå¯ä»¥åˆ›å»ºå˜é‡ï¼Œè¿™ç§å…³ç³»è¢«ç§°ä¸ºç»‘å®šã€‚\n\n```typescript\nfunction scopeOnce() {\n  var ref = \"This is a binding\";\n\n  ref; // This is a reference to a binding\n\n  function scopeTwo() {\n    ref; // This is a reference to a binding from a lower scope\n  }\n}\n```\n\n## 1ã€Binding çš„å®šä¹‰\n\n```typescript\nexport type BindingKind = 'var' | 'let' | 'const' | 'module' | 'hoisted' | 'param' | 'local' | 'unknown';\n\nexport class Binding {\n    constructor(opts: { identifier: t.Identifier; scope: Scope; path: NodePath; kind: BindingKind });\n    identifier: t.Identifier;\n    scope: Scope;\n    path: NodePath;\n    kind: BindingKind;\n    referenced: boolean;            // æ˜¯å¦è¢«å¼•ç”¨\n    references: number;             // è¢«å¼•ç”¨æ¬¡æ•°\n    referencePaths: NodePath[];     // è¢«å¼•ç”¨çš„è·¯å¾„\n    constant: boolean;              // æ˜¯å¦è¢«ä¿®æ”¹\n    constantViolations: NodePath[];\n    hasDeoptedValue?: boolean;\n    hasValue?: boolean;\n    value?: any;\n\n    deopValue(): void;\n    setValue(value: any): void;\n    clearValue(): void;\n\n    reassign(path: NodePath): void;\n    reference(path: NodePath): void;\n    dereference(): void;\n}\n```\n\næœ‰äº†è¿™äº›ä¿¡æ¯ä½ å°±å¯ä»¥æŸ¥æ‰¾ä¸€ä¸ªç»‘å®šçš„æ‰€æœ‰å¼•ç”¨ï¼Œå¹¶ä¸”çŸ¥é“è¿™æ˜¯ä»€ä¹ˆç±»å‹çš„ç»‘å®š(å‚æ•°ï¼Œå®šä¹‰ç­‰ç­‰)ï¼ŒæŸ¥æ‰¾å®ƒæ‰€å±çš„ä½œç”¨åŸŸï¼Œæˆ–è€…æ‹·è´å®ƒçš„æ ‡è¯†ç¬¦ã€‚ ä½ ç”šè‡³å¯ä»¥çŸ¥é“å®ƒæ˜¯ä¸æ˜¯å¸¸é‡ï¼Œå¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆæ˜¯å“ªä¸ªè·¯å¾„ä¿®æ”¹äº†å®ƒã€‚ <a name=\"I31IK\"></a>\n\n## 2ã€ä»£ç è¾…åŠ©ç†è§£\n\n### 1. å¼•ç”¨æ¬¡æ•° \\[references]\n\n```typescript\nfunction test1() {\n  var a = 10;\n  console.log(a);\n}\n```\n\n```typescript\nbindings: [Object: null prototype] {\n  a: Binding {\n    identifier: [Node],\n    scope: [Circular],\n    path: [NodePath],\n    kind: 'var',\n    constantViolations: [],\n    constant: true,\n    referencePaths: [Array],\n    referenced: true,\n    references: 1,\n    hasDeoptedValue: false,\n    hasValue: false,\n    value: null\n  }\n}\n```\n\n### 2. ç»‘å®šæ˜¯å¦æ˜¯å¸¸é‡ \\[constant]\n\na æ²¡æœ‰ä¿®æ”¹ï¼š\n\n```typescript\nfunction test1() {\n  var a = 10;\n  console.log(a);\n}\n```\n\n```typescript\nbindings: [Object: null prototype] {\n  a: Binding {\n    identifier: [Node],\n    scope: [Circular],\n    path: [NodePath],\n    kind: 'var',\n    constantViolations: [],\n    constant: true,\n    referencePaths: [Array],\n    referenced: true,\n    references: 1,\n    hasDeoptedValue: false,\n    hasValue: false,\n    value: null\n  }\n}\n```\n\na æœ‰è¢«ä¿®æ”¹ï¼š\n\n```typescript\nfunction test1() {\n  var a = 10;\n  a = 20;\n  console.log(a);\n}\n```\n\n```typescript\nBinding {\n  identifier: Node {\n    type: 'Identifier',\n    start: 26,\n    end: 27,\n    loc: SourceLocation {\n      start: [Position],\n      end: [Position],\n      filename: undefined,\n      identifierName: 'a'\n    },\n    name: 'a'\n  },\n  scope: Scope {\n    uid: 1,\n    path: NodePath {\n      contexts: [Array],\n      state: undefined,\n      opts: [Object],\n      _traverseFlags: 0,\n      skipKeys: null,\n      parentPath: [NodePath],\n      container: [Array],\n      listKey: 'body',\n      key: 0,\n      node: [Node],\n      type: 'FunctionDeclaration',\n      parent: [Node],\n      hub: undefined,\n      data: null,\n      context: [TraversalContext],\n      scope: [Circular]\n    },\n    block: Node {\n      type: 'FunctionDeclaration',\n      start: 1,\n      end: 63,\n      loc: [SourceLocation],\n      id: [Node],\n      generator: false,\n      async: false,\n      params: [],\n      body: [Node]\n    },\n    labels: Map {},\n    inited: true,\n    bindings: [Object: null prototype] { a: [Circular] },\n    references: [Object: null prototype] {},\n    globals: [Object: null prototype] {},\n    uids: [Object: null prototype] {},\n    data: [Object: null prototype] {},\n    crawling: undefined\n  },\n  path: NodePath {\n    contexts: [],\n    state: {\n      references: [Array],\n      constantViolations: [],\n      assignments: [Array]\n    },\n    opts: {\n      ForStatement: [Object],\n      ImportDeclaration: [Object],\n      LabeledStatement: [Object],\n      AssignmentExpression: [Object],\n      UpdateExpression: [Object],\n      UnaryExpression: [Object],\n      CatchClause: [Object],\n      ClassExpression: [Object],\n      _exploded: true,\n      _verified: true,\n      Identifier: [Object],\n      JSXIdentifier: [Object],\n      enter: [Array],\n      FunctionDeclaration: [Object],\n      VariableDeclaration: [Object],\n      ClassDeclaration: [Object],\n      ExportAllDeclaration: [Object],\n      ExportDefaultDeclaration: [Object],\n      ExportNamedDeclaration: [Object],\n      DeclareClass: [Object],\n      DeclareFunction: [Object],\n      DeclareInterface: [Object],\n      DeclareModule: [Object],\n      DeclareModuleExports: [Object],\n      DeclareTypeAlias: [Object],\n      DeclareOpaqueType: [Object],\n      DeclareVariable: [Object],\n      DeclareExportDeclaration: [Object],\n      DeclareExportAllDeclaration: [Object],\n      InterfaceDeclaration: [Object],\n      OpaqueType: [Object],\n      TypeAlias: [Object],\n      EnumDeclaration: [Object],\n      TSDeclareFunction: [Object],\n      TSInterfaceDeclaration: [Object],\n      TSTypeAliasDeclaration: [Object],\n      TSEnumDeclaration: [Object],\n      TSModuleDeclaration: [Object],\n      ForInStatement: [Object],\n      ForOfStatement: [Object],\n      FunctionExpression: [Object],\n      ObjectMethod: [Object],\n      ArrowFunctionExpression: [Object],\n      ClassMethod: [Object],\n      ClassPrivateMethod: [Object]\n    },\n    _traverseFlags: 0,\n    skipKeys: null,\n    parentPath: NodePath {\n      contexts: [],\n      state: [Object],\n      opts: [Object],\n      _traverseFlags: 0,\n      skipKeys: null,\n      parentPath: [NodePath],\n      container: [Array],\n      listKey: 'body',\n      key: 0,\n      node: [Node],\n      type: 'VariableDeclaration',\n      parent: [Node],\n      hub: undefined,\n      data: null,\n      context: [TraversalContext],\n      scope: [Scope]\n    },\n    container: [ [Node] ],\n    listKey: 'declarations',\n    key: 0,\n    node: Node {\n      type: 'VariableDeclarator',\n      start: 26,\n      end: 32,\n      loc: [SourceLocation],\n      id: [Node],\n      init: [Node]\n    },\n    type: 'VariableDeclarator',\n    parent: Node {\n      type: 'VariableDeclaration',\n      start: 22,\n      end: 33,\n      loc: [SourceLocation],\n      declarations: [Array],\n      kind: 'var'\n    },\n    hub: undefined,\n    data: null,\n    context: TraversalContext {\n      queue: null,\n      priorityQueue: [],\n      parentPath: [NodePath],\n      scope: [Scope],\n      state: [Object],\n      opts: [Object]\n    },\n    scope: Scope {\n      uid: 1,\n      path: [NodePath],\n      block: [Node],\n      labels: Map {},\n      inited: true,\n      bindings: [Object: null prototype],\n      references: [Object: null prototype] {},\n      globals: [Object: null prototype] {},\n      uids: [Object: null prototype] {},\n      data: [Object: null prototype] {},\n      crawling: undefined\n    }\n  },\n  kind: 'var',\n  constantViolations: [\n    NodePath {\n      contexts: [],\n      state: [Object],\n      opts: [Object],\n      _traverseFlags: 0,\n      skipKeys: null,\n      parentPath: [NodePath],\n      container: [Node],\n      listKey: undefined,\n      key: 'expression',\n      node: [Node],\n      type: 'AssignmentExpression',\n      parent: [Node],\n      hub: undefined,\n      data: null,\n      context: [TraversalContext],\n      scope: [Scope]\n    }\n  ],\n  constant: false,\n  referencePaths: [\n    NodePath {\n      contexts: [],\n      state: [Object],\n      opts: [Object],\n      _traverseFlags: 0,\n      skipKeys: null,\n      parentPath: [NodePath],\n      container: [Array],\n      listKey: 'arguments',\n      key: 0,\n      node: [Node],\n      type: 'Identifier',\n      parent: [Node],\n      hub: undefined,\n      data: null,\n      context: [TraversalContext],\n      scope: [Scope]\n    }\n  ],\n  referenced: true,\n  references: 1,\n  hasDeoptedValue: false,\n  hasValue: false,\n  value: null\n}\n\n```\n\n### 3. åªæœ‰ å˜é‡å®šä¹‰ å’Œ å‡½æ•°å®šä¹‰ æ‹¥æœ‰ binding\n\n```typescript\nlet binding = scope.getBinding(name);\n// ä¾‹å¦‚: var a = 123; è¿™é‡Œçš„ a å°±æ‹¥æœ‰ bindingã€‚\n\nfunction test(a,b,c) {};\n// å‡½æ•°åtestä»¥åŠå½¢å‚aï¼Œbï¼Œcå‡æ‹¥æœ‰ bindingã€‚\n```\n\n### 4. binding.path\n\nç”¨äºå®šä½åˆå§‹æ‹¥æœ‰bindingçš„path; <a name=\"hn5qZ\"></a>\n\n### 5. binding.referenced\n\nç”¨äºåˆ¤æ–­å½“å‰å˜é‡æ˜¯å¦è¢«å¼•ç”¨ï¼Œtrueè¡¨ç¤ºä»£ç ä¸‹é¢æœ‰å¼•ç”¨è¯¥å˜é‡çš„åœ°æ–¹ï¼Œfalseè¡¨ç¤ºæ²¡æœ‰åœ°æ–¹å¼•ç”¨è¯¥å˜é‡ã€‚æ³¨æ„ï¼Œå¼•ç”¨å’Œæ”¹å˜æ˜¯åˆ†å¼€çš„ã€‚ <a name=\"Y9Wns\"></a>\n\n### 6. binding.referencePaths\n\nå®ƒæ˜¯ä¸€ä¸ªArrayç±»å‹ï¼ŒåŒ…å«æ‰€æœ‰å¼•ç”¨çš„pathï¼Œå¤šç”¨äºæ›¿æ¢ã€‚\n\n### 7. binding.constantViolations\n\nå®ƒæ˜¯ä¸€ä¸ªArrayç±»å‹ï¼ŒåŒ…å«æ‰€æœ‰æ”¹å˜çš„pathï¼Œå¤šç”¨äºåˆ¤æ–­ã€‚\n","isLeaf":true},{"key":"/subject/Babel/03 æ’ä»¶å¼€å‘/06-scope.md","path":"/subject/Babel/03 æ’ä»¶å¼€å‘/06-scope.md","route":"/subject/Babel/03 æ’ä»¶å¼€å‘/06-scope.md","leaf":true,"title":"06-scope","depth":3,"content":"---\ntitle: 06 Scopesï¼ˆä½œç”¨åŸŸï¼‰\nurl: https://www.yuque.com/gaollard/ubc1q5/wt5qg7\n---\n\n## 1ã€Scope ä»‹ç»\n\næ¥ä¸‹æ¥è®©æˆ‘ä»¬ä»‹ç» [ä½œç”¨åŸŸï¼ˆscopeï¼‰](https://en.wikipedia.org/wiki/Scope_\\(computer_science\\))çš„æ¦‚å¿µã€‚ JavaScript æ”¯æŒ[è¯æ³•ä½œç”¨åŸŸ](https://en.wikipedia.org/wiki/Scope_\\(computer_science\\)#Lexical_scoping_vs._dynamic_scoping)ï¼Œåœ¨æ ‘çŠ¶åµŒå¥—ç»“æ„ä¸­ä»£ç å—åˆ›å»ºå‡ºæ–°çš„ä½œç”¨åŸŸã€‚\n\n```javascript\n// global scope\n\nfunction scopeOne() {\n  // scope 1\n  function scopeTwo() {\n    // scope 2\n  }\n}\n```\n\nåœ¨ JavaScript ä¸­ï¼Œæ¯å½“ä½ åˆ›å»ºäº†ä¸€ä¸ªå¼•ç”¨ï¼Œä¸ç®¡æ˜¯é€šè¿‡å˜é‡ï¼ˆvariableï¼‰ã€å‡½æ•°ï¼ˆfunctionï¼‰ã€ç±»å‹ï¼ˆclassï¼‰ã€å‚æ•°ï¼ˆparamsï¼‰ã€æ¨¡å—å¯¼å…¥ï¼ˆimportï¼‰è¿˜æ˜¯æ ‡ç­¾ï¼ˆlabelï¼‰ç­‰ï¼Œå®ƒéƒ½å±äºå½“å‰ä½œç”¨åŸŸã€‚\n\n```javascript\nvar global = \"I am in the global scope\";\n\nfunction scopeOne() {\n  var one = \"I am in the scope created by `scopeOne()`\";\n\n  function scopeTwo() {\n    var two = \"I am in the scope created by `scopeTwo()`\";\n  }\n}\n```\n\næ›´æ·±çš„å†…éƒ¨ä½œç”¨åŸŸä»£ç å¯ä»¥ä½¿ç”¨å¤–å±‚ä½œç”¨åŸŸä¸­çš„å¼•ç”¨ã€‚\n\n```javascript\nfunction scopeOne() {\n  var one = \"I am in the scope created by `scopeOne()`\";\n\n  function scopeTwo() {\n    one = \"I am updating the reference in `scopeOne` inside `scopeTwo`\";\n  }\n}\n```\n\nå†…å±‚ä½œç”¨åŸŸä¹Ÿå¯ä»¥åˆ›å»ºå’Œå¤–å±‚ä½œç”¨åŸŸåŒåçš„å¼•ç”¨ã€‚\n\n```javascript\nfunction scopeOne() {\n  var one = \"I am in the scope created by `scopeOne()`\";\n\n  function scopeTwo() {\n    var one = \"I am creating a new `one` but leaving reference in `scopeOne()` alone.\";\n  }\n}\n```\n\nå½“ç¼–å†™ä¸€ä¸ªè½¬æ¢æ—¶ï¼Œå¿…é¡»å°å¿ƒä½œç”¨åŸŸã€‚æˆ‘ä»¬å¾—ç¡®ä¿åœ¨æ”¹å˜ä»£ç çš„å„ä¸ªéƒ¨åˆ†æ—¶ä¸ä¼šç ´åå·²ç»å­˜åœ¨çš„ä»£ç ã€‚\næˆ‘ä»¬åœ¨æ·»åŠ ä¸€ä¸ªæ–°çš„å¼•ç”¨æ—¶éœ€è¦ç¡®ä¿æ–°å¢åŠ çš„å¼•ç”¨åå­—å’Œå·²æœ‰çš„æ‰€æœ‰å¼•ç”¨ä¸å†²çªã€‚ æˆ–è€…æˆ‘ä»¬ä»…ä»…æƒ³æ‰¾å‡ºä½¿ç”¨ä¸€ä¸ªå˜é‡çš„æ‰€æœ‰å¼•ç”¨ï¼Œ æˆ‘ä»¬åªæƒ³åœ¨ç»™å®šçš„ä½œç”¨åŸŸï¼ˆScopeï¼‰ä¸­æ‰¾å‡ºè¿™äº›å¼•ç”¨ã€‚\nä½œç”¨åŸŸå¯ä»¥è¢«è¡¨ç¤ºä¸ºå¦‚ä¸‹å½¢å¼ï¼š\n\n```javascript\n{\n  path: path,\n  block: path.node,\n  parentBlock: path.parent,\n  parent: parentScope,\n  bindings: [...]\n}\n```\n\nå½“ä½ åˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸæ—¶ï¼Œéœ€è¦ç»™å‡ºå®ƒçš„è·¯å¾„å’Œçˆ¶ä½œç”¨åŸŸï¼Œä¹‹ååœ¨éå†è¿‡ç¨‹ä¸­å®ƒä¼šåœ¨è¯¥ä½œç”¨åŸŸå†…æ”¶é›†æ‰€æœ‰çš„å¼•ç”¨(â€œç»‘å®šâ€)ã€‚\nä¸€æ—¦å¼•ç”¨æ”¶é›†å®Œæ¯•ï¼Œä½ å°±å¯ä»¥åœ¨ä½œç”¨åŸŸï¼ˆScopesï¼‰ä¸Šä½¿ç”¨å„ç§æ–¹æ³•ï¼Œç¨åæˆ‘ä»¬ä¼šäº†è§£è¿™äº›æ–¹æ³•ã€‚\n\n## 2ã€Scope å®šä¹‰\n\nScope è¡¨ç¤ºä½œç”¨åŸŸ\n\n```typescript\nexport class Scope {\n    constructor(path: NodePath, parentScope?: Scope);\n    path: NodePath;\n    block: Node;\n    parentBlock: Node;\n    parent: Scope;\n    hub: HubInterface;\n    bindings: { [name: string]: Binding };\n\n    /** Traverse node with current scope and path. */\n    traverse<S>(node: Node | Node[], opts: TraverseOptions<S>, state: S): void;\n    traverse(node: Node | Node[], opts?: TraverseOptions, state?: any): void;\n\n    /** Generate a unique identifier and add it to the current scope. */\n    generateDeclaredUidIdentifier(name?: string): t.Identifier;\n\n    /** Generate a unique identifier. */\n    generateUidIdentifier(name?: string): t.Identifier;\n\n    /** Generate a unique `_id1` binding. */\n    generateUid(name?: string): string;\n\n    /** Generate a unique identifier based on a node. */\n    generateUidIdentifierBasedOnNode(parent: Node, defaultName?: string): t.Identifier;\n\n    /**\n     * Determine whether evaluating the specific input `node` is a consequenceless reference. ie.\n     * evaluating it wont result in potentially arbitrary code from being ran. The following are\n     * whitelisted and determined not to cause side effects:\n     *\n     *  - `this` expressions\n     *  - `super` expressions\n     *  - Bound identifiers\n     */\n    isStatic(node: Node): boolean;\n\n    /** Possibly generate a memoised identifier if it is not static and has consequences. */\n    maybeGenerateMemoised(node: Node, dontPush?: boolean): t.Identifier;\n\n    checkBlockScopedCollisions(local: Binding, kind: BindingKind, name: string, id: object): void;\n\n    rename(oldName: string, newName?: string, block?: Node): void;\n\n    dump(): void;\n\n    toArray(node: Node, i?: number): Node;\n\n    registerDeclaration(path: NodePath): void;\n\n    buildUndefinedNode(): Node;\n\n    registerConstantViolation(path: NodePath): void;\n\n    registerBinding(kind: string, path: NodePath, bindingPath?: NodePath): void;\n\n    addGlobal(node: Node): void;\n\n    hasUid(name: string): boolean;\n\n    hasGlobal(name: string): boolean;\n\n    hasReference(name: string): boolean;\n\n    isPure(node: Node, constantsOnly?: boolean): boolean;\n\n    setData(key: string, val: any): any;\n\n    getData(key: string): any;\n\n    removeData(key: string): void;\n\n    crawl(): void;\n\n    push(opts: {\n        id: t.LVal;\n        init?: t.Expression | undefined;\n        unique?: boolean | undefined;\n        kind?: 'var' | 'let' | 'const' | undefined;\n    }): void;\n\n    getProgramParent(): Scope;\n\n    getFunctionParent(): Scope | null;\n\n    getBlockParent(): Scope;\n\n    /** Walks the scope tree and gathers **all** bindings. */\n    getAllBindings(...kinds: string[]): object;\n\n    bindingIdentifierEquals(name: string, node: Node): boolean;\n\n    getBinding(name: string): Binding | undefined;\n\n    getOwnBinding(name: string): Binding | undefined;\n\n    getBindingIdentifier(name: string): t.Identifier;\n\n    getOwnBindingIdentifier(name: string): t.Identifier;\n\n    hasOwnBinding(name: string): boolean;\n\n    hasBinding(name: string, noGlobals?: boolean): boolean;\n\n    parentHasBinding(name: string, noGlobals?: boolean): boolean;\n\n    /** Move a binding of `name` to another `scope`. */\n    moveBindingTo(name: string, scope: Scope): void;\n\n    removeOwnBinding(name: string): void;\n\n    removeBinding(name: string): void;\n}\n\n```\n\n## 3ã€ä»£ç è¾…åŠ©ç†è§£\n\n### 1. æŸ¥çœ‹ scope ç»“æ„\n\n```typescript\nimport * as fs from \"fs\";\nimport * as path from 'path';\nimport * as babel from \"@babel/core\";\n\nconst code = `\nfunction test1() {\n  var a = 10;\n}\n`\n\nconst data = babel.parse(code, {\n  presets: [\"@babel/preset-typescript\"],\n  plugins: [\n    [\n      \"@babel/plugin-proposal-decorators\",\n      {\n        legacy: true,\n      },\n    ],\n  ],\n  filename: 'sss',\n});\n\n\nbabel.traverse(data, {\n  FunctionDeclaration(path) {\n    console.log(path.scope)\n  }\n})\n```\n\n```typescript\nScope {\n  uid: 1,\n  path: NodePath {\n    contexts: [ [TraversalContext] ],\n    state: undefined,\n    opts: { FunctionDeclaration: [Object], _exploded: true, _verified: true },\n    _traverseFlags: 0,\n    skipKeys: null,\n    parentPath: NodePath {\n      contexts: [Array],\n      state: undefined,\n      opts: [Object],\n      _traverseFlags: 0,\n      skipKeys: null,\n      parentPath: null,\n      container: [Node],\n      listKey: undefined,\n      key: 'program',\n      node: [Node],\n      type: 'Program',\n      parent: [Node],\n      hub: undefined,\n      data: null,\n      context: [TraversalContext],\n      scope: [Scope]\n    },\n    container: [ [Node] ],\n    listKey: 'body',\n    key: 0,\n    node: Node {\n      type: 'FunctionDeclaration',\n      start: 1,\n      end: 35,\n      loc: [SourceLocation],\n      id: [Node],\n      generator: false,\n      async: false,\n      params: [],\n      body: [Node]\n    },\n    type: 'FunctionDeclaration',\n    parent: Node {\n      type: 'Program',\n      start: 0,\n      end: 36,\n      loc: [SourceLocation],\n      sourceType: 'module',\n      interpreter: null,\n      body: [Array],\n      directives: []\n    },\n    hub: undefined,\n    data: null,\n    context: TraversalContext {\n      queue: [Array],\n      priorityQueue: [],\n      parentPath: [NodePath],\n      scope: [Scope],\n      state: undefined,\n      opts: [Object]\n    },\n    scope: [Circular]\n  },\n  block: Node {\n    type: 'FunctionDeclaration',\n    start: 1,\n    end: 35,\n    loc: SourceLocation {\n      start: [Position],\n      end: [Position],\n      filename: undefined,\n      identifierName: undefined\n    },\n    id: Node {\n      type: 'Identifier',\n      start: 10,\n      end: 15,\n      loc: [SourceLocation],\n      name: 'test1'\n    },\n    generator: false,\n    async: false,\n    params: [],\n    body: Node {\n      type: 'BlockStatement',\n      start: 18,\n      end: 35,\n      loc: [SourceLocation],\n      body: [Array],\n      directives: []\n    }\n  },\n  labels: Map {},\n  inited: true,\n  bindings: [Object: null prototype] {\n    a: Binding {\n      identifier: [Node],\n      scope: [Circular],\n      path: [NodePath],\n      kind: 'var',\n      constantViolations: [],\n      constant: true,\n      referencePaths: [],\n      referenced: false,\n      references: 0,\n      hasDeoptedValue: false,\n      hasValue: false,\n      value: null\n    }\n  },\n  references: [Object: null prototype] {},\n  globals: [Object: null prototype] {},\n  uids: [Object: null prototype] {},\n  data: [Object: null prototype] {},\n  crawling: undefined\n}\n```\n\n- block  è¯¥ä½œç”¨åŸŸæ‰€å±çš„ code block\n- path   è¯¥ä½œç”¨åŸŸæ‰€å±çš„ NodePath\n- bindings  è¯¥ä½œç”¨åŸŸèƒ½å¤Ÿè®¿é—®å˜é‡ <a name=\"Bi4FK\"></a>\n\n### 2. æŸ¥çœ‹ binding\n\n```typescript\nimport * as fs from \"fs\";\nimport * as path from 'path';\nimport * as babel from \"@babel/core\";\n\nconst code = `\nfunction test1() {\n  var a = 10;\n}\n\nfunction test2() {\n  var b = 10;\n}\n`\n\nconst data = babel.parse(code, {\n  presets: [\"@babel/preset-typescript\"],\n  plugins: [\n    [\n      \"@babel/plugin-proposal-decorators\",\n      {\n        legacy: true,\n      },\n    ],\n  ],\n  filename: 'sss',\n});\n\n\nbabel.traverse(data, {\n  FunctionDeclaration(path) {\n    if (babel.types.isIdentifier(path.node.id)) {\n      console.log(path.node.id.name, path.scope.hasBinding(\"a\"))\n    }\n  }\n})\n\n// test1 true\n// test2 false\n```","isLeaf":true},{"key":"/subject/Babel/03 æ’ä»¶å¼€å‘/07-state.md","path":"/subject/Babel/03 æ’ä»¶å¼€å‘/07-state.md","route":"/subject/Babel/03 æ’ä»¶å¼€å‘/07-state.md","leaf":true,"title":"07-state","depth":3,"content":"---\ntitle: 07 Stateï¼ˆçŠ¶æ€ï¼‰\nurl: https://www.yuque.com/gaollard/ubc1q5/prgac1\n---\n\nçŠ¶æ€æ˜¯æŠ½è±¡è¯­æ³•æ ‘ASTè½¬æ¢çš„æ•Œäººï¼ŒçŠ¶æ€ç®¡ç†ä¼šä¸æ–­ç‰µæ‰¯ä½ çš„ç²¾åŠ›ï¼Œè€Œä¸”å‡ ä¹æ‰€æœ‰ä½ å¯¹çŠ¶æ€çš„å‡è®¾ï¼Œæ€»æ˜¯ä¼šæœ‰ä¸€äº›æœªè€ƒè™‘åˆ°çš„è¯­æ³•æœ€ç»ˆè¯æ˜ä½ çš„å‡è®¾æ˜¯é”™è¯¯çš„ã€‚\nè€ƒè™‘ä¸‹åˆ—ä»£ç ï¼š\n\n```javascript\nfunction square(n) {\n  return n * n;\n}\n```\n\nè®©æˆ‘ä»¬å†™ä¸€ä¸ªæŠŠ n é‡å‘½åä¸º x çš„è®¿é—®è€…çš„å¿«é€Ÿå®ç°:\n\n```javascript\nlet paramName;\n\nconst MyVisitor = {\n  FunctionDeclaration(path) {\n    const param = path.node.params[0];\n    paramName = param.name;\n    param.name = \"x\";\n  },\n\n  Identifier(path) {\n    if (path.node.name === paramName) {\n      path.node.name = \"x\";\n    }\n  }\n};\n```\n\nå¯¹ä¸Šé¢çš„ä¾‹å­ä»£ç è¿™æ®µè®¿é—®è€…ä»£ç ä¹Ÿè®¸èƒ½å·¥ä½œï¼Œä½†å®ƒå¾ˆå®¹æ˜“è¢«æ‰“ç ´ï¼š\n\n```javascript\nfunction square(n) {\n  return n * n;\n}\nn;\n```\n\næ›´å¥½çš„å¤„ç†æ–¹å¼æ˜¯ä½¿ç”¨é€’å½’ï¼Œä¸‹é¢è®©æˆ‘ä»¬æ¥åƒå…‹é‡Œæ–¯æ‰˜ä½›Â·è¯ºå…°çš„ç”µå½±ç›—æ¢¦ç©ºé—´é‚£æ ·æ¥æŠŠä¸€ä¸ªè®¿é—®è€…æ”¾è¿›å¦å¤–ä¸€ä¸ªè®¿é—®è€…é‡Œé¢:\n\n```javascript\nconst updateParamNameVisitor = {\n  Identifier(path) {\n    if (path.node.name === this.paramName) {\n      path.node.name = \"x\";\n    }\n  }\n};\n\nconst MyVisitor = {\n  FunctionDeclaration(path) {\n    const param = path.node.params[0];\n    const paramName = param.name;\n    param.name = \"x\";\n\n    path.traverse(updateParamNameVisitor, { paramName });\n  }\n};\n\npath.traverse(MyVisitor);\n```\n\næ³¨æ„ä¾‹å­ä¸­ `path.traverse(updateParamNameVisitor, { paramName })` ç¬¬äºŒä¸ªå‚æ•°ï¼Œåœ¨ visitor ä¸­é€šè¿‡ this å¯ä»¥è®¿é—®ã€‚\n\nè¿™ä¸ªä¾‹å­æ¼”ç¤ºäº†å¦‚ä½•ä»è®¿é—®è€…ä¸­æ¶ˆé™¤å…¨å±€çŠ¶æ€ã€‚\n","isLeaf":true}]},{"key":"/subject/Babel/04 babel-usage","path":"/subject/Babel/04 babel-usage","route":"/subject/Babel/04 babel-usage","leaf":false,"title":"04 babel-usage","depth":2,"content":"","isLeaf":false,"children":[{"key":"/subject/Babel/04 babel-usage/01.md","path":"/subject/Babel/04 babel-usage/01.md","route":"/subject/Babel/04 babel-usage/01.md","leaf":true,"title":"01","depth":3,"content":"---\ntitle: 1ã€ç”Ÿæˆ AST\nurl: https://www.yuque.com/gaollard/ubc1q5/fzvnnp\n---\n\n```javascript\nconst fs = require('fs');\nconst babel = require(\"@babel/core\");\n\nvar res = babel.transformSync(\"var code = 1; var fn = () => {}\", {\n  ast: true,\n  plugins: [\n    require('@babel/plugin-transform-arrow-functions')\n  ]\n});\n\nconsole.log(res.code);\n```\n","isLeaf":true},{"key":"/subject/Babel/04 babel-usage/02.md","path":"/subject/Babel/04 babel-usage/02.md","route":"/subject/Babel/04 babel-usage/02.md","leaf":true,"title":"02","depth":3,"content":"---\ntitle: 2ã€useBuiltIns çš„ç”¨æ³•\nurl: https://www.yuque.com/gaollard/ubc1q5/xwfbok\n---\n\n","isLeaf":true},{"key":"/subject/Babel/04 babel-usage/03.md","path":"/subject/Babel/04 babel-usage/03.md","route":"/subject/Babel/04 babel-usage/03.md","leaf":true,"title":"03","depth":3,"content":"---\ntitle: 3ã€æ’å…¥èŠ‚ç‚¹\nurl: https://www.yuque.com/gaollard/ubc1q5/sheq24\n---\n\n### 1. æ’å…¥ Node\n\n### 2. æ’å…¥ å­—ç¬¦ä¸²ä»£ç \n","isLeaf":true}]},{"key":"/subject/Babel/05 babel-shizhan","path":"/subject/Babel/05 babel-shizhan","route":"/subject/Babel/05 babel-shizhan","leaf":false,"title":"05 babel-shizhan","depth":2,"content":"","isLeaf":false,"children":[{"key":"/subject/Babel/05 babel-shizhan/01-how-to-traverse-jsx.md","path":"/subject/Babel/05 babel-shizhan/01-how-to-traverse-jsx.md","route":"/subject/Babel/05 babel-shizhan/01-how-to-traverse-jsx.md","leaf":true,"title":"01-how-to-traverse-jsx","depth":3,"content":"æˆ‘åœ¨å†™ä¸€ä¸ª babel æ’ä»¶ï¼Œç”¨äºç»™æ¯ä¸€ä¸ª div æ ‡ç­¾éƒ½åŠ ä¸€ä¸ª css classã€‚ç°åœ¨å‡ºç°äº†ä¸¤ç§åœºæ™¯ã€‚\n\n## 1ã€`React.createElement('div', {})`\n\n![20230511185255](http://s3.airtlab.com/blog/20230511185255.png)\n\n```js\nmodule.exports = function (api) {\n  api && api.cache(false);\n  return {\n    presets: [\n      [\"@babel/preset-react\", { runtime: \"classic\" }],\n    ],\n    plugins: [\n      // æ³¨æ„ prefix ä¸­çš„ç©ºæ ¼\n      [\"./src/babel-plugin-change-jsx-className\", {\n        prefix: 'f6 '\n      }]\n    ]\n  };\n};\n\n```\n\n```js\nconst fs = require('fs');\nconst { Console } = require('console');\nconst logFile = process.cwd() + '/' + 'a.log'\n\nconst std = fs.createWriteStream(logFile, { flags: 'a' });\nconst console = new Console(std);\nconst types = require('@babel/types');\nlet config = {};\n\nmodule.exports = function (\n  _,\n  options = {\n    prefix: '',\n  },\n) {\n  config = options;\n  return {\n    visitor: {\n      CallExpression,\n      JSXElement(path) {\n        const node = path.node;\n        if (node.openingElement.name.name === \"div\") {\n          console.log(\"Found div:\", node);\n        }\n      },\n      BinaryExpression(path) {\n        console.log(path.node.left); // Identifier Node\n        console.log(path.node.right); // Identifier Node\n        console.log(path.node.operator); // \"*\"\n      },\n    },\n  };\n};\n\nfunction CallExpression(path) {\n  // debugger;\n  const _this = this;\n  const callee = path.node.callee;\n  console.log(444, callee);\n\n  if (callee.type === 'MemberExpression') {\n    const callFn = callee.object.name + '.' + callee.property.name;\n    if (callFn === 'React.createElement') {\n      path.skip();\n\n      const arg1 = path.get('arguments.1');\n\n      if (arg1.node.type === 'NullLiteral') {\n        // null\n        arg1.replaceWith(\n          types.objectExpression([\n            types.objectProperty(\n              types.identifier('className'),\n              types.stringLiteral(config.prefix),\n            ),\n            types.objectProperty(\n              types.identifier('data-code'),\n              types.stringLiteral(_this.filename),\n            ),\n          ]),\n        );\n      } else {\n        // {}\n        if (arg1.node.type === 'ObjectExpression') {\n          const index = arg1.node.properties.findIndex((it) => {\n            return it.key.name === 'className';\n          });\n          if (index !== -1) {\n            const proPath = arg1.get(`properties.${index}`);\n            proPath.node.value = types.binaryExpression(\n              '+',\n              types.StringLiteral(config.prefix),\n              proPath.node.value,\n            );\n          }\n        }\n      }\n    }\n  }\n}\n```\n\n```json\n{\n  \"name\": \"f6\",\n  \"version\": \"0.0.0\",\n  \"description\": \"> TODO: description\",\n  \"author\": \"gaollard <1056834607@qq.com>\",\n  \"homepage\": \"\",\n  \"license\": \"ISC\",\n  \"main\": \"src/index.js\",\n  \"directories\": {\n    \"lib\": \"lib\",\n    \"test\": \"__tests__\"\n  },\n  \"files\": [\n    \"lib\",\n    \"src\"\n  ],\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: run tests from root\\\" && exit 1\",\n    \"build\": \"babel demo/index.js\"\n  },\n  \"dependencies\": {\n    \"@babel/generator\": \"^7.16.5\",\n    \"@babel/preset-react\": \"^7.16.5\",\n    \"@babel/runtime\": \"^7.16.5\",\n    \"@types/react-transition-group\": \"^4.4.4\"\n  },\n  \"devDependencies\": {\n    \"@babel/cli\": \"^7.16.0\",\n    \"@babel/core\": \"^7.16.5\",\n    \"@babel/plugin-syntax-dynamic-import\": \"^7.0.0\",\n    \"@babel/plugin-transform-modules-commonjs\": \"^7.16.5\",\n    \"@babel/plugin-transform-object-assign\": \"^7.0.0\",\n    \"@babel/plugin-transform-runtime\": \"^7.4.4\",\n    \"@babel/polyfill\": \"^7.4.4\",\n    \"@babel/preset-env\": \"^7.16.5\",\n    \"@babel/preset-typescript\": \"^7.3.3\",\n    \"@types/react\": \"^17.0.34\",\n    \"@types/react-dom\": \"^17.0.11\",\n    \"style-loader\": \"^3.3.1\",\n    \"css-loader\": \"^6.5.1\",\n    \"react\": \"^17.0.2\",\n    \"react-dom\": \"^17.0.2\",\n    \"rimraf\": \"^3.0.2\",\n    \"typescript\": \"^4.4.4\"\n  },\n  \"peerDependencies\": {\n    \"classnames\": \"^2.3.1\",\n    \"react\": \"^17.0.2\",\n    \"react-dom\": \"^17.0.2\"\n  }\n}\n```\n\n## 2ã€_jsx('div', {})\n\n![20230511190028](http://s3.airtlab.com/blog/20230511190028.png)\n\n## 3ã€éå† JSXElement æ›´åˆç†\n\n![20230511191205](http://s3.airtlab.com/blog/20230511191205.png)","isLeaf":true},{"key":"/subject/Babel/05 babel-shizhan/02-plugin-transform-react-jsx.md","path":"/subject/Babel/05 babel-shizhan/02-plugin-transform-react-jsx.md","route":"/subject/Babel/05 babel-shizhan/02-plugin-transform-react-jsx.md","leaf":true,"title":"02-plugin-transform-react-jsx","depth":3,"content":"- åŸç†\n- æºç åˆ†æ","isLeaf":true},{"key":"/subject/Babel/05 babel-shizhan/03-add-prop-to-jsx.md","path":"/subject/Babel/05 babel-shizhan/03-add-prop-to-jsx.md","route":"/subject/Babel/05 babel-shizhan/03-add-prop-to-jsx.md","leaf":true,"title":"03-add-prop-to-jsx","depth":3,"content":"https://www.johno.com/add-a-prop-to-jsx-elements-with-babel\n\n```js\nexport default (api) => {\n  const { types: t } = api;\n\n  return {\n    visitor: {\n      JSXOpeningElement(path) {\n        const existingProp = path.node.attributes.find(\n          (node) => node.name && node.name.name === \"favoriteColor\"\n        );\n\n        if (existingProp) {\n          existingProp.node.value.value === \"tomato\";\n          return;\n        }\n\n        const newProp = t.jSXAttribute(\n          t.jSXIdentifier(\"favoriteColor\"),\n          t.stringLiteral(\"tomato\")\n        );\n\n        path.node.attributes.push(newProp);\n      },\n    },\n  };\n};\n```\n","isLeaf":true},{"key":"/subject/Babel/05 babel-shizhan/04-change-jsx-className.md","path":"/subject/Babel/05 babel-shizhan/04-change-jsx-className.md","route":"/subject/Babel/05 babel-shizhan/04-change-jsx-className.md","leaf":true,"title":"04-change-jsx-className","depth":3,"content":"---\ntitle: 01 change-jsx-className\nurl: https://www.yuque.com/gaollard/ubc1q5/nafu7s\n---\n\n<https://github.com/Webang/babel-plugin-change-jsx-className>\n\n```typescript\nconst types = require(\"@babel/types\");\nlet config = {};\n\nmodule.exports = function (\n  _,\n  options = {\n    prefix: \"\",\n  }\n) {\n  config = options;\n  return {\n    visitor: {\n      CallExpression,\n    },\n  };\n};\n\nfunction CallExpression(path) {\n  const callee = path.node.callee;\n  if (callee.type === \"MemberExpression\") {\n    const callFn = callee.object.name + \".\" + callee.property.name;\n    if (callFn === \"React.createElement\") {\n      path.skip();\n\n      const arg1 = path.get(\"arguments.1\");\n\n      if (arg1.node.type === 'NullLiteral') {\n        // null\n        arg1.replaceWith(types.objectExpression([\n          types.objectProperty(types.identifier('className'), types.stringLiteral(config.prefix))\n        ]))\n      } else {\n        // {}\n        if ((arg1.node.type) === 'ObjectExpression') {\n          const index = arg1.node.properties.findIndex(it => {\n            return it.key.name === 'className'\n          });\n          if (index !== -1) {\n            const proPath = arg1.get(`properties.${index}`);\n            proPath.node.value = types.binaryExpression(\n              \"+\",\n              types.StringLiteral(config.prefix),\n              proPath.node.value\n            );\n          }\n        }\n      }\n    }\n  }\n}\n\n```","isLeaf":true},{"key":"/subject/Babel/05 babel-shizhan/05-how-comipler-typescript.md","path":"/subject/Babel/05 babel-shizhan/05-how-comipler-typescript.md","route":"/subject/Babel/05 babel-shizhan/05-how-comipler-typescript.md","leaf":true,"title":"05-how-comipler-typescript","depth":3,"content":"---\ntitle: 05 å¦‚ä½•ç¼–è¯‘ typescript\n---\n\n- å¦‚æœæ²¡æœ‰ä½¿ç”¨ Babelï¼Œé¦–é€‰ TypeScript è‡ªå¸¦ç¼–è¯‘å™¨ï¼ˆé…åˆ ts-loader ä½¿ç”¨ï¼‰\n- å¦‚æœé¡¹ç›®ä¸­æœ‰ Babelï¼Œå®‰è£… @babel/preset-typescriptï¼Œé…åˆ tsc åšç±»å‹æ£€æŸ¥ã€‚\n\nä¸¤ç§ç¼–è¯‘å™¨ä¸è¦æ··ç”¨ã€‚å‚è€ƒ https://juejin.cn/post/6954304242093932557#heading-7","isLeaf":true},{"key":"/subject/Babel/05 babel-shizhan/06-rename-function-param.md","path":"/subject/Babel/05 babel-shizhan/06-rename-function-param.md","route":"/subject/Babel/05 babel-shizhan/06-rename-function-param.md","leaf":true,"title":"06-rename-function-param","depth":3,"content":"---\ntitle: 06 ä¿®æ”¹å‡½æ•°å‚æ•°\n---\n\n```js\nmodule.exports = function({ types: t }) {\n  return {\n    visitor: {\n      FunctionDeclaration(path, state) {\n        path.scope.rename('age', path.scope.generateUidIdentifier(\"age\").name)\n      }\n    }\n  }\n}\n```\n\n```js\nmodule.exports = function({ types: t }) {\n  return {\n    visitor: {\n      FunctionDeclaration(path, state) {\n        const { replaceMap } = state.opts;\n        const params = path.get('params');\n\n        params.forEach((idPath) => {\n          if (replaceMap[idPath.node.name]) {\n            idPath.replaceWith(t.identifier(replaceMap[idPath.node.name]))\n          }\n        })\n\n        Object.keys(path.scope.bindings).forEach((name) => {\n          const referencePaths = path.scope.bindings[name].referencePaths\n          referencePaths.forEach((idPath) => {\n            if (replaceMap[idPath.node.name]) {\n              idPath.replaceWith(t.identifier(replaceMap[idPath.node.name]))\n            }\n          })\n        })\n      }\n    }\n  }\n}\n```\n","isLeaf":true}]},{"key":"/subject/Babel/06 acorn","path":"/subject/Babel/06 acorn","route":"/subject/Babel/06 acorn","leaf":false,"title":"06 acorn","depth":2,"content":"","isLeaf":false,"children":[{"key":"/subject/Babel/06 acorn/00.md","path":"/subject/Babel/06 acorn/00.md","route":"/subject/Babel/06 acorn/00.md","leaf":true,"title":"00","depth":3,"content":"---\ntitle: acorn æºç åˆ†æ\ntags: acorn\n---\n\n- AST åœ¨çº¿ <https://astexplorer.net/#/2uBU1BLuJ1>\n","isLeaf":true},{"key":"/subject/Babel/06 acorn/01-the-super-tiny-compiler.md","path":"/subject/Babel/06 acorn/01-the-super-tiny-compiler.md","route":"/subject/Babel/06 acorn/01-the-super-tiny-compiler.md","leaf":true,"title":"01-the-super-tiny-compiler","depth":3,"content":"---\ntitle: 01 the-super-tiny-compiler æºç åˆ†æ\ntags: acornjs\n---\n\n<https://github.com/jamiebuilds/the-super-tiny-compiler>ï¼Œè¿™ä¸ªè®¾è®¡åº“å®åœ¨å¤ªè¿‡ç®€å•ï¼ˆæ¯”å¦‚ï¼šä¸æ”¯æŒå–åæ“ä½œï¼‰ï¼Œåªèƒ½ç”¨ä½œå­¦ä¹  compiler çš„æµç¨‹è®¾è®¡ã€‚\n\n- tokenizer(è¯æ³•åˆ†æå™¨)ï¼šåˆ’åˆ† tokenï¼Œäº§ç”Ÿä¸€ä¸ª token æ•°ç»„\n- parser(è¯­æ³•åˆ†æå™¨)ï¼šæ¥å— token æ•°ç»„ï¼Œç„¶åæŠŠå®ƒè½¬åŒ–ä¸º AST <a name=\"bsEHt\"></a>\n\n### 1. æµ‹è¯• the-super-tiny-compiler\n\n    (add 21 (subtract 4 2))\n\n- (op v1 v2) æ‹¬å·è¡¨ç¤ºä¸€ä¸ª CallExpression è°ƒç”¨è¡¨è¾¾å¼\n- add +\n- subtract -\n- token åªåŒ…å«\n  - NumberLiteral æ•°å­—å­—é¢é‡\n  - StringLiteral å­—ç¬¦ä¸²å­—é¢é‡\n  - CallExpression è°ƒç”¨è¡¨è¾¾å¼\n    - add\n    - subtract\n\n#### 1.1 tokens\n\n```json\n[\n  {\n    \"type\": \"paren\",\n    \"value\": \"(\"\n  },\n  {\n    \"type\": \"name\",\n    \"value\": \"add\"\n  },\n  {\n    \"type\": \"number\",\n    \"value\": \"21\"\n  },\n  {\n    \"type\": \"paren\",\n    \"value\": \"(\"\n  },\n  {\n    \"type\": \"name\",\n    \"value\": \"subtract\"\n  },\n  {\n    \"type\": \"number\",\n    \"value\": \"4\"\n  },\n  {\n    \"type\": \"number\",\n    \"value\": \"2\"\n  },\n  {\n    \"type\": \"paren\",\n    \"value\": \")\"\n  },\n  {\n    \"type\": \"paren\",\n    \"value\": \")\"\n  }\n]\n```\n\n#### 1.2 AST\n\n```json\n{\n  \"type\": \"Program\",\n  \"body\": [\n    {\n      \"type\": \"CallExpression\",\n      \"name\": \"add\",\n      \"params\": [\n        {\n          \"type\": \"NumberLiteral\",\n          \"value\": \"21\"\n        },\n        {\n          \"type\": \"CallExpression\",\n          \"name\": \"subtract\",\n          \"params\": [\n            {\n              \"type\": \"NumberLiteral\",\n              \"value\": \"4\"\n            },\n            {\n              \"type\": \"NumberLiteral\",\n              \"value\": \"2\"\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n```\n\n<a name=\"RKRFw\"></a>\n\n### 2. è‡ªå·±å®ç°\n\n<a name=\"fQ8XC\"></a>\n\n#### 2.1 tokenizer\n\n```javascript\n/**\n * @param {string} input \n */\nfunction tokenizer(input) {\n  let current = 0;\n  let tokens = [];\n\n  const lt_parent_l = '(';\n  const lt_parent_r = ')';\n\n  const type_paren = 'paren';\n  const type_number = 'number';\n  const type_string = 'string';\n  const type_name = 'name';\n\n  const reg_whitespcae = /\\s/;\n  const reg_numbers = /[0-9]/;\n  const reg_letters = /[a-z]/i;\n\n  const isEof = () => current >= input.length;\n\n  const genToken = (type, value, start) => {\n    const token = {\n      type,\n      value\n    }\n    token.loc = {\n      start,\n      end: token.value.length + start\n    }\n    tokens.push(token)\n  } \n\n  while(!isEof()) {\n    let c_char = input[current];\n\n    if (c_char === lt_parent_l) {\n      genToken(type_paren, c_char, current)\n      current++;\n      continue;\n    }\n\n    if (c_char === lt_parent_r) {\n      genToken(type_paren, c_char, current)\n      current++;\n      continue;\n    }\n\n    if (reg_whitespcae.test(c_char)) {\n      current++;\n      continue;\n    }\n\n    if (reg_numbers.test(c_char)) {\n      // è§£æå‡ºå½“å‰çš„æ•´å‹å­—é¢é‡\n\n      let value = '';\n      let start = current;\n\n      while(reg_numbers.test(c_char)) {\n        value += c_char;\n        c_char = input[++current];\n      }\n\n      genToken(type_number, value, start)\n      continue;\n    }\n\n    if (c_char === '\"') {\n      // æ‰¾å‡ºå®Œæ•´çš„å­—ç¬¦ä¸²\n\n      let start = current\n      let value = '';\n      c_char = input[current++]; \n\n      while(c_char !== '\"') {\n        value += c_char;\n        c_char = input[++current];\n      }\n\n      // è·³è¿‡é—­åˆçš„åŒå¼•å·\n      c_char = input[++current];\n\n      genToken(type_string, value, start)\n      continue;\n    }\n\n    if (reg_letters.test(c_char)) {\n      // æ‰¾å‡ºå®Œæ•´çš„å…³é”®å­—\n      let start = current;\n      let value = '';\n      while(reg_letters.test(c_char)) {\n        value += c_char;\n        c_char = input[++current];\n      }\n\n      genToken(type_name, value, start)\n      continue;\n    }\n\n    // å¦‚æœè¿˜å‰©ä¸€äº›å­—ç¬¦ï¼Œè¯´æ˜è¡¨è¾¾å¼è¯­æ³•æœ‰é”™è¯¯\n    throw new TypeError('I dont know what this character is: ' + char);\n  }\n\n  return tokens;\n}\n```\n\n```javascript\n// (add 21 (subtract 4 2))\n[\n  { type: 'paren', value: '(', loc: { start: 0, end: 1 } },\n  { type: 'name', value: 'add', loc: { start: 1, end: 4 } },\n  { type: 'number', value: '21', loc: { start: 5, end: 7 } },\n  { type: 'paren', value: '(', loc: { start: 8, end: 9 } },\n  { type: 'name', value: 'subtract', loc: { start: 9, end: 17 } },\n  { type: 'number', value: '4', loc: { start: 18, end: 19 } },\n  { type: 'number', value: '2', loc: { start: 20, end: 21 } },\n  { type: 'paren', value: ')', loc: { start: 21, end: 22 } },\n  { type: 'paren', value: ')', loc: { start: 22, end: 23 } }\n]\n```\n\n#### 2.2 parser","isLeaf":true},{"key":"/subject/Babel/06 acorn/01.md","path":"/subject/Babel/06 acorn/01.md","route":"/subject/Babel/06 acorn/01.md","leaf":true,"title":"01","depth":3,"content":"---\ntitle: ç®€æ˜“è¡¨è¾¾å¼\ntags: acornjs\n---\n\n### 1. æ¡ä»¶è¡¨è¾¾å¼ Condition\n\n```javascript\na = b ? 1 : 2 + 1  // =>  a = b ? 1 : (2 + 1)\n```\n\n### 2. èµ‹å€¼è¡¨è¾¾å¼ Assign\n\n```javascript\na == b ? 1 : 2 + 1 // => (a == b) ? 1 : (2+1)\na += b ? 1 : 0     // => a += (b ? 1 : 0 )\n```\n\n### 3. æ›´æ–°è¡¨è¾¾å¼ Update\n\n```javascript\na++\na--\n```\n\n### 4. é€»è¾‘è¿ç®—ç¬¦ Logical\n\n```javascript\na || b\na == b ? 1 : 2 + 1 // => (a == b) ? 1 : (2+1)\n```\n\n### 5. ä¸€å…ƒè¿ç®—ç¬¦\n\n```javascript\n-5\n+5\n```\n\n### 6. è¿ç®—ç¬¦ä¼˜å…ˆçº§","isLeaf":true},{"key":"/subject/Babel/06 acorn/02.md","path":"/subject/Babel/06 acorn/02.md","route":"/subject/Babel/06 acorn/02.md","leaf":true,"title":"02","depth":3,"content":"---\ntitle: acorn è§£æ\ntags: acornjs\n---\n\n## 1. åŸºç¡€ç±»å’Œæ¥å£\n\n### 1.1 Node\n\næ‰€æœ‰èŠ‚ç‚¹ç±»å‹éƒ½å®ç°ä»¥ä¸‹æ¥å£ï¼š\n\n```typescript\ninterface Node {\n  type: string; // ASTå˜ä½“ç±»å‹\n  start: number; // èµ·å§‹ä½ç½®\n  end: number; // ç»“æŸä½ç½®\n  range?: [number, number]; // [èµ·å§‹ä½ç½®, ç»“æŸä½ç½®]\n  loc?: SourceLocation;\n}\n```\n\nlocå­—æ®µè¡¨ç¤ºèŠ‚ç‚¹çš„ä½ç½®ä¿¡æ¯ã€‚å¦‚æœè§£æå™¨æ²¡æœ‰ç”Ÿæˆæœ‰å…³èŠ‚ç‚¹æºä½ç½®çš„ä¿¡æ¯ï¼Œåˆ™è¯¥å­—æ®µä¸ºnullã€‚å¦åˆ™å®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…æ‹¬ä¸€ä¸ªèµ·å§‹ä½ç½® å’Œä¸€ä¸ªç»“æŸä½ç½®ã€‚æ¯ä¸ªPositionå¯¹è±¡ç”±ä¸€ä¸ªlineæ•°å­—ï¼ˆ1ç´¢å¼•ï¼‰å’Œä¸€ä¸ªcolumnæ•°å­—ï¼ˆ0ç´¢å¼•ï¼‰ç»„æˆï¼š\n\n```typescript\ninterface SourceLocation {\n    start: Position;\n    end: Position;\n    source?: string | null;\n}\n```\n\n```typescript\ninterface Position {\n    line: number >= 1;\n    column: number >= 0;\n}\n```\n\n### 1.2 Programs\n\n```typescript\ninterface Program <: Node {\n    type: \"Program\";\n    sourceType: 'script' | 'module';\n    body: StatementListItem[] | ModuleItem[];\n}\n```\n\nè¡¨ç¤ºä¸€ä¸ªå®Œæ•´çš„æºä»£ç æ ‘ã€‚ <a name=\"PB0xS\"></a>\n\n## 2. è„šæœ¬å’Œæ¨¡å—\n\næºä»£ç æ•°çš„æ¥æºåŒ…æ‹¬ä¸¤ç§ï¼Œä¸€ç§æ˜¯scriptè„šæœ¬ï¼Œä¸€ç§æ˜¯modulesæ¨¡å—\n\n- å½“ä¸ºscriptæ—¶ï¼Œbodyä¸ºStatementListItemã€‚\n- å½“ä¸ºmodulesæ—¶ï¼Œbodyä¸ºModuleItemã€‚\n\nç±»å‹ StatementListItem å’Œ ModuleItem ç±»å‹å¦‚ä¸‹ï¼š\n\n```typescript\ntype StatementListItem = Declaration | Statement;\ntype ModuleItem = ImportDeclaration | ExportDeclaration | StatementListItem;\n```\n\n### 2.1 ImportDeclaration\n\nimportè¯­æ³•ï¼Œå¯¼å…¥æ¨¡å—\n\n```typescript\ntype ImportDeclaration {\n    type: 'ImportDeclaration';\n    specifiers: ImportSpecifier[];\n    source: Literal;\n}\n```\n\nImportSpecifierï¼š\n\n```typescript\ninterface ImportSpecifier {\n    type: 'ImportSpecifier' | 'ImportDefaultSpecifier' | 'ImportNamespaceSpecifier';\n    local: Identifier;\n    imported?: Identifier;\n}\n```\n\n#### 2.1.1 ImportSpecifier\n\nimport éƒ¨åˆ†æ¨¡å—\n\n```typescript\nimport { foo } from './foo';\n```\n\n#### 2.1.2 ImportDefaultSpecifier\n\nimport default æ–¹å¼\n\n```typescript\nimport foo from './foo';\n```\n\n##### 2.1.3 ImportNamespaceSpecifier\n\næ¨¡å—é‡å‘½å\n\n```typescript\nimport * as foo from './foo';\n```\n\n### 2.2 ExportDeclaration\n\n```typescript\ntype ExportDeclaration = ExportAllDeclaration | ExportDefaultDeclaration | ExportNamedDeclaration;\n```\n\n#### 2.2.1 ExportAllDeclaration\n\nä»æŒ‡å®šæ¨¡å—ä¸­å¯¼å‡º\n\n```typescript\ninterface ExportAllDeclaration {\n    type: 'ExportAllDeclaration';\n    source: Literal;\n}\n```\n\n```typescript\nexport * from './foo';\n```\n\n#### 2.2.2 ExportDefaultDeclaration\n\nå¯¼å‡ºé»˜è®¤æ¨¡å—\n\n```typescript\ninterface ExportDefaultDeclaration {\n    type: 'ExportDefaultDeclaration';\n    declaration: Identifier | BindingPattern | ClassDeclaration | Expression | FunctionDeclaration;\n}\n```\n\n```typescript\nexport default 'foo';\n```\n\n#### 2.2.3 ExportNamedDeclaration\n\nå¯¼å‡ºéƒ¨åˆ†æ¨¡å—\n\n```typescript\ninterface ExportNamedDeclaration {\n    type: 'ExportNamedDeclaration';\n    declaration: ClassDeclaration | FunctionDeclaration | VariableDeclaration;\n    specifiers: ExportSpecifier[];\n    source: Literal;\n}\n```\n\n```typescript\nexport const foo = 'foo';\n```\n","isLeaf":true},{"key":"/subject/Babel/06 acorn/03.md","path":"/subject/Babel/06 acorn/03.md","route":"/subject/Babel/06 acorn/03.md","leaf":true,"title":"03","depth":3,"content":"---\ntitle: Declarations å£°æ˜\ntags: acornjs\nurl: https://www.yuque.com/gaollard/ubc1q5/wluqrk\n---\n\n### 1. VariableDeclarator\n\nå˜é‡å£°æ˜\n\n```typescript\ninterface VariableDeclaration <: Declaration {\n    type: \"VariableDeclaration\";\n    declarations: [ VariableDeclarator ];\n    kind: \"var\" | \"let\" | \"const\";\n}\n```\n\nVariableDeclarator è¡¨ç¤ºä¸€ä¸ªå˜é‡å£°æ˜:\n\n```typescript\ninterface VariableDeclarator {\n  type: \"VariableDeclarator\";\n  id: Identifier;\n  init: Expression;\n}\n```\n\n```typescript\nvar c = 30\n```\n\n```json\n{\n  \"type\": \"VariableDeclarator\",\n  \"start\": 28,\n  \"end\": 34,\n  \"id\": {\n    \"type\": \"Identifier\",\n    \"start\": 28,\n    \"end\": 29,\n    \"name\": \"c\"\n  },\n  \"init\": {\n    \"type\": \"Literal\",\n    \"start\": 32,\n    \"end\": 34,\n    \"value\": 30,\n    \"raw\": \"30\"\n  }\n}\n```\n\n### 2. FunctionDeclaration\n\nå‡½æ•°å£°æ˜ï¼Œæ³¨æ„ä¸å‡½æ•°è¡¨è¾¾å¼çš„åŒºåˆ«\n\n```typescript\ninterface FunctionDeclaration {\n    type: 'FunctionDeclaration';\n    id: Identifier | null;\n    params: FunctionParameter[];\n    body: BlockStatement;\n    generator: boolean;\n    async: boolean;\n    expression: false;\n}\n```\n\n```javascript\n{\n  \"type\": \"Program\",\n  \"start\": 0,\n  \"end\": 17,\n  \"body\": [\n    {\n      \"type\": \"ClassDeclaration\",\n      \"start\": 0,\n      \"end\": 17,\n      \"id\": {\n        \"type\": \"Identifier\",\n        \"start\": 6,\n        \"end\": 12,\n        \"name\": \"Person\"\n      },\n      \"superClass\": null,\n      \"body\": {\n        \"type\": \"ClassBody\",\n        \"start\": 13,\n        \"end\": 17,\n        \"body\": []\n      }\n    }\n  ],\n  \"sourceType\": \"module\"\n}\n```\n\n####\n\n```javascript\nclass Person extends Object {\n\tsleep() {}\n}\n```\n\n### 3. ClassDeclaration\n\nç±»å£°æ˜ï¼Œæ³¨æ„å’Œç±»è¡¨è¾¾å¼çš„åŒºåˆ«\n\n```typescript\ninterface ClassDeclaration {\n  type: 'ClassDeclaration';\n  id: Identifier | null;\n  superClass: Identifier | null;\n  body: ClassBody;\n}\n```\n\nClassBody ç±»ä¸»ä½“:\n\n```typescript\ninterface ClassBody {\n  type: 'ClassBody';\n  body: MethodDefinition[];\n}\n```\n\nMethodDefinition è¡¨ç¤ºæ–¹æ³•å®šä¹‰ï¼š\n\n```typescript\ninterface MethodDefinition {\n  type: 'MethodDefinition';\n  key: Expression | null;\n  computed: boolean;\n  value: FunctionExpression | null;\n  kind: 'method' | 'constructor';\n  static: boolean;\n}\n```\n\n```typescript\nclass Fn {\n  constructor() {}\n  method() {}\n};\n```\n","isLeaf":true},{"key":"/subject/Babel/06 acorn/04.md","path":"/subject/Babel/06 acorn/04.md","route":"/subject/Babel/06 acorn/04.md","leaf":true,"title":"04","depth":3,"content":"---\ntitle: Expressions è¡¨è¾¾å¼\ntags: acornjs\nurl: https://www.yuque.com/gaollard/ubc1q5/slzv6w\n---\n\nExpressions å¯ç”¨ç±»å‹å¦‚ä¸‹ï¼š\n\n```typescript\ntype Expression = ThisExpression | Identifier | Literal |\n    ArrayExpression | ObjectExpression | FunctionExpression | ArrowFunctionExpression | ClassExpression |\n    TaggedTemplateExpression | MemberExpression | Super | MetaProperty |\n    NewExpression | CallExpression | UpdateExpression | AwaitExpression | UnaryExpression |\n    BinaryExpression | LogicalExpression | ConditionalExpression |\n    YieldExpression | AssignmentExpression | SequenceExpression;\n```\n\nJS ä¸­çš„è¡¨è¾¾å¼é™¤äº†å¸¸è§çš„è¡¨è¾¾å¼å¤–ï¼Œè¿˜å¯ä»¥æ˜¯ï¼š\n\n- Identifier æ ‡è¯†ç¬¦\n- Literal å­—é¢é‡\n- Super\n\n### 1. ThisExpression\n\nthis è¡¨è¾¾å¼\n\n```typescript\ninterface ThisExpression {\n  type: \"ThisExpression\";\n}\n```\n\n```typescript\n(function(ctx){})(this);\n```\n\n```typescript\n{\n  \"type\": \"Program\",\n  \"start\": 0,\n  \"end\": 29,\n  \"body\": [\n    {\n      \"type\": \"ExpressionStatement\",\n      \"start\": 0,\n      \"end\": 29,\n      \"expression\": {\n        \"type\": \"CallExpression\",\n        \"start\": 0,\n        \"end\": 28,\n        \"callee\": {\n          \"type\": \"FunctionExpression\",\n          \"start\": 5,\n          \"end\": 20,\n          \"id\": null,\n          \"expression\": false,\n          \"generator\": false,\n          \"async\": false,\n          \"params\": [\n            {\n              \"type\": \"Identifier\",\n              \"start\": 14,\n              \"end\": 17,\n              \"name\": \"ctx\"\n            }\n          ],\n          \"body\": {\n            \"type\": \"BlockStatement\",\n            \"start\": 18,\n            \"end\": 20,\n            \"body\": []\n          }\n        },\n        \"arguments\": [\n          {\n            \"type\": \"ThisExpression\",\n            \"start\": 23,\n            \"end\": 27\n          }\n        ],\n        \"optional\": false\n      }\n    }\n  ],\n  \"sourceType\": \"module\"\n}\n```\n\n### 2. Identifier\n\næ ‡è¯†ç¬¦ï¼Œæ¯”å¦‚å˜é‡åã€å‡½æ•°å\n\n```typescript\ninterface Identifier {\n    type: 'Identifier';\n    name: string;\n}\n```\n\n### 3. Literal\n\nåŸºç¡€çš„å­—é¢é‡ï¼Œæ¯”å¦‚\n\n- å­—ç¬¦ä¸²\n- æ•°å­—\n- å¸ƒå°”\n- æ­£åˆ™\n\n```typescript\ninterface Literal {\n    type: 'Literal';\n    value: boolean | number | string | RegExp | null;\n    raw: string;\n    regex?: { pattern: string, flags: string };\n}\n```\n\n```typescript\nvar a = 10;\nvar a = 'string';\nvar a = true;\nvar a = /\\d/;\n```\n\næ³¨æ„ï¼Œ{} å’Œ \\[] ä¸è¢«åŒ…æ‹¬åœ¨å†…ï¼Œä»–ä»¬è¢«åˆ†åˆ«æŠ½ç¦»ä¸º ObjectExpression ArrayExpression <a name=\"RL6b3\"></a>\n\n### 4. ObjectExpression\n\nå¯¹è±¡è¡¨è¾¾å¼\n\n```typescript\ninterface ObjectExpression {\n    type: 'ObjectExpression';\n    properties: Property[];\n}\n```\n\npropertiesä¸ºå±æ€§åˆ—è¡¨ï¼ŒProperty è¡¨ç¤ºä¸ºå¯¹è±¡çš„å±æ€§æè¿°ã€‚\n\n```typescript\ninterface Property {\n    type: 'Property';\n    key: Expression;\n    computed: boolean;\n    value: Expression | null;\n    kind: 'get' | 'set' | 'init';\n    method: false;\n    shorthand: boolean;\n}\n```\n\n```typescript\nvar a = {\n\tname: 1\n}\n```\n\n```json\n{\n  \"type\": \"ObjectExpression\",\n  \"start\": 8,\n  \"end\": 20,\n  \"properties\": [\n    {\n      \"type\": \"Property\",\n      \"start\": 11,\n      \"end\": 18,\n      \"method\": false,\n      \"shorthand\": false,\n      \"computed\": false,\n      \"key\": {\n        \"type\": \"Identifier\",\n        \"start\": 11,\n        \"end\": 15,\n        \"name\": \"name\"\n      },\n      \"value\": {\n        \"type\": \"Literal\",\n        \"start\": 17,\n        \"end\": 18,\n        \"value\": 1,\n        \"raw\": \"1\"\n      },\n      \"kind\": \"init\"\n    }\n  ]\n}\n```\n\næ³¨æ„ï¼š{} æ—¢å¯ä»¥è¡¨ç¤ºä¸ºè¡¨è¾¾å¼ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºä¸ºStatementè¯­å¥ï¼Œéœ€è¦ç»“åˆè¯­ä¹‰ã€‚ <a name=\"H0ybq\"></a>\n\n### 5. ArrayExpression\n\næ•°ç»„è¡¨è¾¾å¼\n\n```typescript\ninterface ArrayExpression {\n    type: 'ArrayExpression';\n    elements: ArrayExpressionElement[];\n}\n```\n\nArrayExpressionElement:\n\n```typescript\ntype ArrayExpressionElement = Expression | SpreadElement;\n```\n\n### 6. SpreadElement\n\næ‰©å±•è¿ç®—ç¬¦\n\n```typescript\ninterface SpreadElement {\n    type: 'SpreadElement';\n    argument: Expression;\n}\n```\n\n```typescript\nvar a = [1, 2, ...list];\nvar b = {foo: 2, ...obj};\n```\n\n### 7. FunctionExpression\n\nFunctionExpress è¡¨ç¤ºå‡½æ•°è¡¨è¾¾å¼ã€‚\n\n```typescript\ninterface FunctionExpression {\n    type: 'FunctionExpression';\n    id: Identifier | null;\n    params: FunctionParameter[];\n    body: BlockStatement;\n    generator: boolean;\n    async: boolean;\n    expression: boolean;\n}\n```\n\nåœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œç­‰å·å³è¾¹å°±æ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼:\n\n```typescript\nvar fn = function(){}\nvar fn = function Person(){}\n```\n\nè¯·æ³¨æ„å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼çš„åŒºåˆ«ã€‚ <a name=\"l647H\"></a>\n\n### 8. ArrowFunctionExpression\n\nç®­å¤´å‡½æ•°ã€‚\n\n```typescript\ninterface ArrowFunctionExpression {\n    type: 'ArrowFunctionExpression';\n    id: Identifier | null;\n    params: FunctionParameter[];\n    body: BlockStatement | Expression;\n    generator: boolean;\n    async: boolean;\n    expression: false;\n}\n```\n\n```typescript\ntype FunctionParameter = AssignmentPattern | Identifier | BindingPattern;\n```\n\n### 9. TaggedTemplateExpression\n\n### 10. MemberExpression\n\nå±æ€§æˆå‘˜è¡¨è¾¾å¼\n\n```typescript\ninterface MemberExpression {\n    type: 'MemberExpression';\n    computed: boolean;\n    object: Expression;\n    property: Expression;\n}\n```\n\n```typescript\nconst foo = {bar: 'bar'};\nfoo.bar; // // computed ä¸º false\nfoo['bar']; // computed ä¸º true\n```\n\n### 11. Super\n\nçˆ¶ç±»å…³é”®å­—\n\n```typescript\ninterface Super {\n    type: 'Super';\n}\n```\n\n```typescript\nclass Male extends Person {\n    constructor() {\n        super();\n    }\n}\n```\n\n### 12. MetaProperty\n\nimport.meta æ˜¯ä¸€ä¸ªç»™JavaScriptæ¨¡å—æš´éœ²ç‰¹å®šä¸Šä¸‹æ–‡çš„å…ƒæ•°æ®å±æ€§çš„å¯¹è±¡ã€‚å®ƒåŒ…å«äº†è¿™ä¸ªæ¨¡å—çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´è¿™ä¸ªæ¨¡å—çš„URLã€‚\n\n```typescript\ninterface MetaProperty {\n    type: 'MetaProperty';\n    meta: Identifier;\n    property: Identifier;\n}\n```\n\n```typescript\nimport.meta\n```\n\n```json\n{\n  \"type\": \"Program\",\n  \"start\": 0,\n  \"end\": 11,\n  \"body\": [\n    {\n      \"type\": \"ExpressionStatement\",\n      \"start\": 0,\n      \"end\": 11,\n      \"expression\": {\n        \"type\": \"MetaProperty\",\n        \"start\": 0,\n        \"end\": 11,\n        \"meta\": {\n          \"type\": \"Identifier\",\n          \"start\": 0,\n          \"end\": 6,\n          \"name\": \"import\"\n        },\n        \"property\": {\n          \"type\": \"Identifier\",\n          \"start\": 7,\n          \"end\": 11,\n          \"name\": \"meta\"\n        }\n      }\n    }\n  ],\n  \"sourceType\": \"module\"\n}\n```\n\n### 13. ClassExpression\n\nç±»è¡¨è¾¾å¼\n\n```typescript\ninterface ClassExpression {\n    type: 'ClassExpression';\n    id: Identifier | null;\n    superClass: Identifier | null;\n    body: ClassBody;\n}\n```\n\n```typescript\nvar Fn = class {\n    constructor() {}\n    method() {}\n};\n```\n\n### 14. NewExpression\n\nnew è¡¨è¾¾å¼\n\n```typescript\ninterface NewExpression {\n    type: 'NewExpression';\n    callee: Expression;\n    arguments: ArgumentListElement[];\n}\n```\n\n```typescript\nnew Person(name)\n```\n\n```json\n{\n  \"type\": \"NewExpression\",\n  \"start\": 0,\n  \"end\": 16,\n  \"callee\": {\n    \"type\": \"Identifier\",\n    \"start\": 4,\n    \"end\": 10,\n    \"name\": \"Person\"\n  },\n  \"arguments\": [\n    {\n      \"type\": \"Identifier\",\n      \"start\": 11,\n      \"end\": 15,\n      \"name\": \"name\"\n    }\n  ]\n}\n```\n\n### 15. CallExpression\n\nå‡½æ•°è°ƒç”¨è¡¨è¾¾å¼\n\n```typescript\ninterface CallExpression {\n    type: 'CallExpression';\n    callee: Expression | Import;\n    arguments: ArgumentListElement[];\n}\n```\n\nImport çš„åœºæ™¯ï¼š\n\n```typescript\n(import(''))()\n```\n\n```typescript\ninterface Import {\n    type: 'Import'\n}\n```\n\nArgumentListElement ç±»å‹:\n\n```typescript\ntype ArgumentListElement = Expression | SpreadElement;\n```\n\n### 15. UpdateExpression\n\næ›´æ–°æ“ä½œç¬¦è¡¨è¾¾å¼ï¼Œå¦‚ `++`ã€`--`;\n\n```typescript\ninterface UpdateExpression {\n  type: \"UpdateExpression\";\n  operator: '++' | '--';\n  argument: Expression;\n  prefix: boolean;\n}\n```\n\n```typescript\nvar a = 0;\na++;\n++a; // prefixä¸ºtrue\n```\n\n### 16. AwaitExpression\n\nawaitè¡¨è¾¾å¼ï¼Œä¸ async ä¸€èµ·ä½¿ç”¨\n\n```typescript\ninterface AwaitExpression {\n    type: 'AwaitExpression';\n    argument: Expression;\n}\n```\n\n```typescript\nasync function slepp() {\n\tawait fn()\n}\n```\n\n```typescript\n{\n  \"type\": \"AwaitExpression\",\n  \"start\": 26,\n  \"end\": 36,\n  \"argument\": {\n    \"type\": \"CallExpression\",\n    \"start\": 32,\n    \"end\": 36,\n    \"callee\": {\n      \"type\": \"Identifier\",\n      \"start\": 32,\n      \"end\": 34,\n      \"name\": \"fn\"\n    },\n    \"arguments\": [],\n    \"optional\": false\n  }\n}\n```\n\n### 17. UnaryExpression\n\nä¸€å…ƒæ“ä½œç¬¦è¡¨è¾¾å¼\n\n```typescript\ninterface UnaryExpression {\n  type: \"UnaryExpression\";\n  operator: UnaryOperator;\n  prefix: boolean;\n  argument: Expression;\n}\n```\n\nUnaryOperator:\n\n```typescript\nenum UnaryOperator {\n  \"-\" | \"+\" | \"!\" | \"~\" | \"typeof\" | \"void\" | \"delete\" | \"throw\"\n}\n```\n\n### 18. BinaryExpression\n\näºŒå…ƒæ“ä½œç¬¦è¡¨è¾¾å¼\n\n```typescript\ninterface BinaryExpression {\n    type: 'BinaryExpression';\n    operator: BinaryOperator;\n    left: Expression;\n    right: Expression;\n}\n```\n\nBinaryOperator:\n\n```typescript\nenum BinaryOperator {\n  \"==\" | \"!=\" | \"===\" | \"!==\"\n     | \"<\" | \"<=\" | \">\" | \">=\"\n     | \"<<\" | \">>\" | \">>>\"\n     | \"+\" | \"-\" | \"*\" | \"/\" | \"%\"\n     | \"**\" | \"|\" | \"^\" | \"&\" | \"in\"\n     | \"instanceof\"\n     | \"|>\"\n}\n```\n\n### 19. LogicalExpression\n\né€»è¾‘è¿ç®—ç¬¦è¡¨è¾¾å¼\n\n```typescript\ninterface LogicalExpression {\n    type: 'LogicalExpression';\n    operator: '||' | '&&';\n    left: Expression;\n    right: Expression;\n}\n```\n\n```typescript\nvar a = '-';\nvar b = a || '-';\nvar c = a && b || 1\n```\n\n### 20. ConditionalExpression\n\næ¡ä»¶è¿ç®—ç¬¦\n\n```typescript\ninterface ConditionalExpression {\n    type: 'ConditionalExpression';\n    test: Expression;\n    consequent: Expression;\n    alternate: Expression;\n}\n```\n\n```typescript\nvar a = 1 ? 'consequent' : 'alternate';\n```\n\n### 21. YieldExpression\n\nyieldè¡¨è¾¾å¼\n\n```typescript\ninterface YieldExpression {\n    type: 'YieldExpression';\n    argument: Expression | null;\n    delegate: boolean;\n}\n```\n\n```typescript\nfunction* gen(x) {\n  return yield x + 1;\n}\n```\n\n### 22. AssignmentExpression\n\nèµ‹å€¼è¡¨è¾¾å¼\n\n```typescript\ninterface AssignmentExpression {\n    type: 'AssignmentExpression';\n    operator: '=' | '*=' | '**=' | '/=' | '%=' | '+=' | '-=' |\n        '<<=' | '>>=' | '>>>=' | '&=' | '^=' | '|=';\n    left: Expression;\n    right: Expression;\n}\n```\n\n### 23. SequenceExpression\n\nä½¿ç”¨é€—å·çš„åºåˆ—è¡¨è¾¾å¼\n\n```typescript\ninterface SequenceExpression {\n  type: 'SequenceExpression';\n  expressions: Expression[];\n}\n```\n\n```typescript\na = 1, b = 2;\n```\n","isLeaf":true},{"key":"/subject/Babel/06 acorn/05.md","path":"/subject/Babel/06 acorn/05.md","route":"/subject/Babel/06 acorn/05.md","leaf":true,"title":"05","depth":3,"content":"---\ntitle: Statement è¯­å¥\ntags: acornjs\n---\n\nJS è§„èŒƒå¯ä»¥å‚è€ƒ <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference>\nstatementsï¼Œå³è¯­å¥ï¼Œç±»å‹å¦‚ä¸‹ï¼š\n\n```typescript\ntype Statement = BlockStatement | BreakStatement | ContinueStatement |\n    DebuggerStatement | DoWhileStatement | EmptyStatement |\n    ExpressionStatement | ForStatement | ForInStatement |\n    ForOfStatement | FunctionDeclaration | IfStatement |\n    LabeledStatement | ReturnStatement | SwitchStatement |\n    ThrowStatement | TryStatement | VariableDeclaration |\n    WhileStatement | WithStatement;\n```\n\n### 1. BlockStatement\n\nè¡¨ç¤ºä¸€ä¸ªä½œç”¨åŸŸå—ã€‚\n\n```typescript\ninterface BlockStatement {\n    type: 'BlockStatement';\n    body: Statement[];\n}\n```\n\n```typescript\n{}\n```\n\n```typescript\n{\n  \"type\": \"BlockStatement\",\n  \"start\": 0,\n  \"end\": 2,\n  \"body\": []\n}\n```\n\n<a name=\"ylwvh\"></a>\n\n### 2. IfStatement\n\nIfStatement ç”¨äºè¡¨ç¤º if è¯­å¥\n\n```typescript\ninterface IfStatement {\n    type: 'IfStatement';\n    test: Expression;\n    consequent: Statement;\n    alternate?: Statement;\n}\n```\n\n```typescript\nif (a > b) {}\n```\n\n```json\n{\n  \"type\": \"IfStatement\",\n  \"start\": 0,\n  \"end\": 13,\n  \"test\": {\n    \"type\": \"BinaryExpression\",\n    \"start\": 4,\n    \"end\": 9,\n    \"left\": {\n      \"type\": \"Identifier\",\n      \"start\": 4,\n      \"end\": 5,\n      \"name\": \"a\"\n    },\n    \"operator\": \">\",\n    \"right\": {\n      \"type\": \"Identifier\",\n      \"start\": 8,\n      \"end\": 9,\n      \"name\": \"b\"\n    }\n  },\n  \"consequent\": {\n    \"type\": \"BlockStatement\",\n    \"start\": 11,\n    \"end\": 13,\n    \"body\": []\n  },\n  \"alternate\": null\n}\n```\n\n<a name=\"lkIih\"></a>\n\n### 3. ReturnStatement\n\nReturenStatement ç”¨äºè¡¨ç¤º return è¯­å¥\n\n```typescript\ninterface ReturnStatement {\n    type: 'ReturnStatement';\n    argument: Expression | null;\n}\n```\n\n```typescript\nfunction sleep() {\n\treturn 10;\n}\n```\n\n```typescript\n{\n  \"type\": \"ReturnStatement\",\n  \"start\": 20,\n  \"end\": 30,\n  \"argument\": {\n    \"type\": \"Literal\",\n    \"start\": 27,\n    \"end\": 29,\n    \"value\": 10,\n    \"raw\": \"10\"\n  }\n}\n```\n\n### 4. SwitchStatement\n\nSwitchStatement ç”¨äºè¡¨ç¤º switch è¯­å¥ã€‚\n\n```typescript\ninterface SwitchStatement {\n    type: 'SwitchStatement';\n    discriminant: Expression;\n    cases: SwitchCase[];\n}\n```\n\n```typescript\nswitch(b) {\n  case 10:\n    console.log(10);\n    break;\n  case 20:\n    console.log(20);\n    break;\n  default:\n    console.log(\"default\")\n}\n```\n\n![20230608110506](http://s3.airtlab.com/blog/20230608110506.png)\n\n### 5. WhileStatement\n\nwhile è¯­å¥ã€‚\n\n```typescript\ninterface WhileStatement {\n    type: 'WhileStatement';\n    test: Expression;\n    body: Statement;\n}\n```\n\n<a name=\"zxenD\"></a>\n\n### 6. BreakStatement\n\nbreak è¯­å¥ã€‚\n\n```typescript\n{\n   \"type\": \"BreakStatement\",\n   \"label\": null | string\n}\n```\n\n```typescript\nfor(;;){\n\tbreak;\n}\n```\n\n<a name=\"pjLpI\"></a>\n\n### 7. ContinueStatement\n\ncontinue è¯­å¥ã€‚\n\n```typescript\n{\n   \"type\": \"ContinueStatement\",\n   \"label\": null | string\n}\n```\n\n```typescript\nfor(;;){\n\tcontinue;\n}\n```\n\n<a name=\"regOL\"></a>\n\n### 8. DebuggerStatement\n\ndebugger è¯­å¥ã€‚\n\n```typescript\n{\n   \"type\": \"DebuggerStatement\"\n}\n```\n\n```typescript\ndebugger;\n```\n\n<a name=\"i63zx\"></a>\n\n### 9. DoWhileStatement\n\n```json\ninterface DoWhileStatement {\n    type: 'DoWhileStatement';\n    body: Statement;\n    test: Expression;\n}\n```\n\n```typescript\ndo {} while(1)\n```\n\n```json\n{\n  \"type\": \"DoWhileStatement\",\n  \"start\": 0,\n  \"end\": 14,\n  \"body\": {\n    \"type\": \"BlockStatement\",\n    \"start\": 3,\n    \"end\": 5,\n    \"body\": []\n  },\n  \"test\": {\n    \"type\": \"Literal\",\n    \"start\": 12,\n    \"end\": 13,\n    \"value\": 1,\n    \"raw\": \"1\"\n  }\n}\n```\n\n<a name=\"RK0TE\"></a>\n\n### 10. EmptyStatement\n\nç©ºè¯­å¥ã€‚\n\n```typescript\ninterface EmptyStatement {\n  type: \"EmptyStatement\"\n}\n```\n\n```typescript\n;\n```\n\n<a name=\"yuv0l\"></a>\n\n### 11. ExpressionStatement\n\nè¡¨è¾¾å¼è¯­å¥ã€‚\n\n```typescript\ninterface ExpressionStatement {\n  type: \"ExpressionStatement\";\n  expression: Expression\n}\n```\n\n```typescript\n(function() {})\n```\n\n```json\n{\n  \"type\": \"ExpressionStatement\",\n  \"start\": 0,\n  \"end\": 15,\n  \"expression\": {\n    \"type\": \"FunctionExpression\",\n    \"start\": 1,\n    \"end\": 14,\n    \"id\": null,\n    \"expression\": false,\n    \"generator\": false,\n    \"async\": false,\n    \"params\": [],\n    \"body\": {\n      \"type\": \"BlockStatement\",\n      \"start\": 12,\n      \"end\": 14,\n      \"body\": []\n    }\n  }\n}\n```\n\n<a name=\"NzoXy\"></a>\n\n### 12. ForStatement\n\n```typescript\ninterface ForStatement {\n    type: 'ForStatement';\n    init: Expression | VariableDeclaration | null; // åˆå§‹åŒ–\n    test: Expression | null; // ä¸­é—´æ¡ä»¶\n    update: Expression | null; // è¿­ä»£æ­¥éª¤\n    body: Statement; // ä¸»ä½“\n}\n```\n\n<a name=\"CtOnX\"></a>\n\n### 13. ForInStatement\n\nfor...in.. è¯­å¥\n\n```typescript\ninterface ForInStatement {\n    type: 'ForInStatement';\n    left: Expression;\n    right: Expression;\n    body: Statement;\n}\n```\n\n```typescript\nfor(let i in a) {}\n```\n\n```typescript\n{\n  \"type\": \"ForInStatement\",\n  \"start\": 0,\n  \"end\": 18,\n  \"left\": {\n    \"type\": \"VariableDeclaration\",\n    \"start\": 4,\n    \"end\": 9,\n    \"declarations\": [\n      {\n        \"type\": \"VariableDeclarator\",\n        \"start\": 8,\n        \"end\": 9,\n        \"id\": {\n          \"type\": \"Identifier\",\n          \"start\": 8,\n          \"end\": 9,\n          \"name\": \"i\"\n        },\n        \"init\": null\n      }\n    ],\n    \"kind\": \"let\"\n  },\n  \"right\": {\n    \"type\": \"Identifier\",\n    \"start\": 13,\n    \"end\": 14,\n    \"name\": \"a\"\n  },\n  \"body\": {\n    \"type\": \"BlockStatement\",\n    \"start\": 16,\n    \"end\": 18,\n    \"body\": []\n  }\n}\n```\n\n<a name=\"RXXqj\"></a>\n\n### 14. ForOfStatement\n\nfor...of è¯­å¥\n\n```typescript\ninterface ForOfStatement {\n    type: 'ForOfStatement';\n    left: Expression;\n    right: Expression;\n    body: Statement;\n}\n```\n\n<a name=\"z65t9\"></a>\n\n### 15. ThrowStatement\n\nthrow è¯­å¥\n\n```typescript\ninterface ThrowStatement {\n  type: \"ThrowStatement\",\n  argument: S\n}\n```\n\n```typescript\n// throw expression;\n```\n\n```json\n{\n  \"type\": \"ThrowStatement\",\n  \"start\": 0,\n  \"end\": 12,\n  \"argument\": {\n    \"type\": \"Literal\",\n    \"start\": 6,\n    \"end\": 11,\n    \"value\": \"err\",\n    \"raw\": \"\\\"err\\\"\"\n  }\n}\n```\n\n<a name=\"vttj4\"></a>\n\n### 16. TryStatement\n\ntry...catch... è¯­å¥\n\n```typescript\ninterface TryStatement {\n    type: 'TryStatement';\n    block: BlockStatement;\n    handler: CatchClause | null;\n    finalizer: BlockStatement | null;\n}\n```\n\n```typescript\ntry {}catch (e) {}\n```\n\n```json\n{\n  \"type\": \"TryStatement\",\n  \"start\": 0,\n  \"end\": 18,\n  \"block\": {\n    \"type\": \"BlockStatement\",\n    \"start\": 4,\n    \"end\": 6,\n    \"body\": []\n  },\n  \"handler\": {\n    \"type\": \"CatchClause\",\n    \"start\": 6,\n    \"end\": 18,\n    \"param\": {\n      \"type\": \"Identifier\",\n      \"start\": 13,\n      \"end\": 14,\n      \"name\": \"e\"\n    },\n    \"body\": {\n      \"type\": \"BlockStatement\",\n      \"start\": 16,\n      \"end\": 18,\n      \"body\": []\n    }\n  },\n  \"finalizer\": null\n}\n```\n\n<a name=\"on7Fu\"></a>\n\n### 17. WithStatement\n\nwithè¯­å¥ï¼ˆæŒ‡å®šå—è¯­å¥çš„ä½œç”¨åŸŸï¼‰\n\n```typescript\ninterface WithStatement {\n    type: 'WithStatement';\n    object: Expression;\n    body: Statement;\n}\n```\n","isLeaf":true}]},{"key":"/subject/Babel/_meta.md","path":"/subject/Babel/_meta.md","route":"/subject/Babel/_meta.md","leaf":true,"title":"_meta","depth":2,"content":"","isLeaf":true}]},{"key":"/subject/Javascript","path":"/subject/Javascript","route":"/subject/Javascript","leaf":false,"title":"Javascript","depth":1,"content":"","isLeaf":false,"children":[{"key":"/subject/Javascript/_meta.md","path":"/subject/Javascript/_meta.md","route":"/subject/Javascript/_meta.md","leaf":true,"title":"_meta","depth":2,"content":"","isLeaf":true}]},{"key":"/subject/NodeJS","path":"/subject/NodeJS","route":"/subject/NodeJS","leaf":false,"title":"NodeJS","depth":1,"content":"","isLeaf":false,"children":[{"key":"/subject/NodeJS/_meta.md","path":"/subject/NodeJS/_meta.md","route":"/subject/NodeJS/_meta.md","leaf":true,"title":"_meta","depth":2,"content":"","isLeaf":true}]}]}]
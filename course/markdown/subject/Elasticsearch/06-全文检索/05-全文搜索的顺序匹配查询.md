---
title: 05-全文搜索的顺序匹配查询
url: https://www.yuque.com/gaollard/efekv4/xiwkc5
---

intervals是时间间隔的意思，在Elasticsearch中它本质上是将多个规则按照顺序匹配。范例如下：

```shell
GET /myindex-test-match/_search
{
  "query": {
    "intervals" : {
      "title" : {
        "all_of" : {
          "ordered" : true,
          "intervals" : [
            {
              "match" : {
                "query" : "flower",#文档内容先匹配"flower"单词
                "max_gaps" : 0,
                "ordered" : true
              }
            },
            {
              "any_of" : {
                "intervals" : [  #文档内容再匹配"beautiful"和"dog"两个单词中的其中一个
                  { "match" : { "query" : "beautiful" } },
                  { "match" : { "query" : "dog" } }
                ]
              }
            }
          ]
        }
      }
    }
  }
}
```

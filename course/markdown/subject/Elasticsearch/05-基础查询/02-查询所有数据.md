---
title: 02-查询所有数据
url: https://www.yuque.com/gaollard/efekv4/ob3gn2
---

```shell
#查询userinfo索引库中所有的文档数据
GET /userinfo/_search
{
  "query": { "match_all": {} }
}

{
  "took" : 3,
  "timed_out" : false,
  "_shards" : {
    "total" : 1,
    "successful" : 1,
    "skipped" : 0,
    "failed" : 0
  },
  "hits" : {
    "total" : {
      "value" : 4,
      "relation" : "eq"
    },
    "max_score" : 1.0,
    "hits" : [
      {
        "_index" : "userinfo",
        "_type" : "_doc",
        "_id" : "FhDqW3oBiBO67ReogO86",
        "_score" : 1.0,
        "_source" : {
          "name" : "张三",
          "address" : "中国",
          "age" : 18
        }
      },
      {
        "_index" : "userinfo",
        "_type" : "_doc",
        "_id" : "FxDqW3oBiBO67ReogO86",
        "_score" : 1.0,
        "_source" : {
          "name" : "李四",
          "address" : "中国",
          "age" : 19
        }
      },
      {
        "_index" : "userinfo",
        "_type" : "_doc",
        "_id" : "GBDqW3oBiBO67ReogO86",
        "_score" : 1.0,
        "_source" : {
          "name" : "王五",
          "address" : "美国",
          "age" : 20
        }
      },
      {
        "_index" : "userinfo",
        "_type" : "_doc",
        "_id" : "GRDqW3oBiBO67ReogO86",
        "_score" : 1.0,
        "_source" : {
          "name" : "赵六",
          "address" : "美国",
          "age" : 21
        }
      }
    ]
  }
}
```

- took：表示查询所花费的时间，以毫秒为单位。
- timed\_out：表示查询请求是否超时。
- shards：表示总共查询了多少个分片，以及是否成功。
- max\_score：表示查询到的相关文档的分数，分数越高，匹配度就越高。
- hits.total.value：表示找到了多少个匹配的文档。
- hits.\_score：表示当前文档和查询内容的匹配度，使用match\_all时，此字段的值没有任何意义。

```shell
GET /test_01/_search
{
  "size": 15000, #size 不能超过阈值(默认 10000，可以修改)
  "query": { "match_all": {} }
}

{
  "error": {
    "root_cause": [
      {
        "type": "illegal_argument_exception",
        "reason": "Result window is too large, from + size must be less than or equal to: [10000] but was [15000]. See the scroll api for a more efficient way to request large data sets. This limit can be set by changing the [index.max_result_window] index level setting."
      }
    ],
    "type": "search_phase_execution_exception",
    "reason": "all shards failed",
    "phase": "query",
    "grouped": true,
    "failed_shards": [
      {
        "shard": 0,
        "index": "test_01",
        "node": "6JMu0nfCS5-dMb93AppHeQ",
        "reason": {
          "type": "illegal_argument_exception",
          "reason": "Result window is too large, from + size must be less than or equal to: [10000] but was [15000]. See the scroll api for a more efficient way to request large data sets. This limit can be set by changing the [index.max_result_window] index level setting."
        }
      }
    ],
    "caused_by": {
      "type": "illegal_argument_exception",
      "reason": "Result window is too large, from + size must be less than or equal to: [10000] but was [15000]. See the scroll api for a more efficient way to request large data sets. This limit can be set by changing the [index.max_result_window] index level setting.",
      "caused_by": {
        "type": "illegal_argument_exception",
        "reason": "Result window is too large, from + size must be less than or equal to: [10000] but was [15000]. See the scroll api for a more efficient way to request large data sets. This limit can be set by changing the [index.max_result_window] index level setting."
      }
    }
  },
  "status": 400
}
```

---
title: 06-主节点选举
url: https://www.yuque.com/gaollard/efekv4/fnb46s
---

在集群运行过程中，主节点有可能会出现异常：

![](https://s3.airtlab.com/elasticsearch/20220430213416.png)

当主节点出现宕机或者网络异常时，如果造成其他节点超过3次都没有Ping通主节点，则认为当前主节点出现了异常，集群会重新选举新的主节点。

如果一些节点的node.master参数事先被配置为true，则表示这种节点在主节点发生故障的时候会参加选举。在多个节点选举的过程中，节点唯一标识值越小，则越有可能被选举为主节点，如图10-8所示为代码片段。

![](https://s3.airtlab.com/elasticsearch/20220430213450.png)

上述代码片段是主节点进行选举的一部分代码，通过上述代码我们会发现，对于有资格被选举为主节点的各个节点，将它们的节点唯一标识进行排序，然后优先选择标识值小的节点作为主节点。

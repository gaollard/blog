---
title: 正则捕获组和非捕获组  ✔
url: https://www.yuque.com/gaollard/xvzvqu/yu0d4e
---

单纯说到捕获，他的意思是匹配表达式，但捕获通常和分组联系在一起，也就是“捕获组”

> 捕获组：匹配子表达式的内容，把匹配结果保存到内存中中数字编号或显示命名的组里，以深度优先进行编号，之后可以通过序号或名称来使用这些匹配结果。

而根据命名方式的不同，又可以分为两种组

- 数字编号捕获组
- 命名编号捕获组



### 1. 数字编号捕获组

语法：(exp)
解释：从表达式左侧开始，每出现一个左括号和它对应的右括号之间的内容为一个分组，在分组中，第0组为整个表达式，第一组开始为分组。

比如固定电话：020-85653333，其正则表达式为：(0\d{2})-(\d{8})，按照左括号的顺序，这个表达式有如下分组：
![](http://s3.airtlab.com/1567473778181-adea2080-9c8f-4c2d-bf9c-4bdacb493643.jpeg)

```javascript
var reg1 = /(\d{3})-(\d{8})/g
var str1 = '020-85653333'

let count = 0
let ret
while (count < 10 && (ret = reg1.exec(str1))) {
  count++
  console.log(ret)
}
```

![image.png](http://s3.airtlab.com/1567474563988-73a393d4-74bd-4392-9dc2-7fca538552f4.png)



### 2. 命名编号捕获组

语法：(?<name>exp)
解释：分组的命名由表达式中的name指定
比如区号也可以这样写：(?<quhao>\0\d{2})-(?<haoma>\d{8})
按照左括号的顺序，这个表达式有如下分组：
![](http://s3.airtlab.com/1567474659722-f21f248b-5e22-43af-a399-1fffb6512d43.jpeg)

```javascript
var reg1 = /(?<header>\d{3})-(?<body>\d{8})/g
var str1 = '020-85653333'
console.log(reg1.exec(str1));
```

![image.png](http://s3.airtlab.com/1567474780729-0beb9f41-915a-4f1e-8962-4c55127d551c.png)



### 3. 非捕获组

语法：(?:exp)
解释：和捕获组刚好相反，它用来标识那些不需要捕获的分组，说的通俗一点，就是你可以根据需要去保存你的分组。比如上面的正则表达式，程序不需要用到第一个分组，那就可以这样写：

```javascript
(?:0\d{2})-(\d{8})
```

![](http://s3.airtlab.com/1567560647160-05c00d77-58fd-47b2-842c-03412f7581f9.jpeg)

思考一个有用的例子：正则表达式中?:起“不捕获”的作用，那不捕获分组和捕获分组有什么区别？其意义主要在于避免捕获无意义的分组：<https://www.zhihu.com/question/19853431/answer/160306020>，比如：

一篇文章中查找 "program" 和 "project"，正则可表示为/program|project/,也可表示为 /pro(gram|ject)/，但是缓存子匹配 (gramject) 没有意义，就可以用 /pro(?:gram|ject)/ 进行非捕获性匹配这样既可以简洁匹配又可不缓存无实际意义的字匹配。

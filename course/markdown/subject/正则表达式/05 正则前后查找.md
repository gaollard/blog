---
title: 正则前后查找 ✔
url: https://www.yuque.com/gaollard/xvzvqu/rbeidi
---

正前瞻： exp1(?=exp2)    查找exp2前面的exp1
正后顾:  (?<=exp2)exp1   查找exp2后面的exp1
负前瞻:  exp1(?=exp2)     查找后面不是exp2的exp1
负后顾:  (?<=exp2)exp1   查找前面不是exp2的exp1



### 1. 正前瞻 exp1(?=exp2) => exp1+exp2 中 exp1

- (?=exp) 也叫零宽度正预测先行断言 ，它断言自身出现的位置的后面能匹配表达式exp。
- 比如\b\w+(?=ing\b)，匹配以 ing 结尾的单词的前面部分(除了ing以外的部分)，如查找 I'm singing while you're dancing 时，它会匹配sing 和 danc。

```javascript
// 匹配 以 huishubao.com 结尾的前部分
var reg2 = /.+(?=huishubao\.com)/
var s2 = "s1.huishubao.com";
s2.match(s2) // ["s1.", index: 0, input: "s1.huishubao.com", groups: undefined]
```



### 2. 正后顾 (?<=exp1)exp2 => exp1 + exp2 中 exp2

(?<=exp) 也叫零宽度正回顾后发断言，它断言自身出现的位置的前面能匹配表达式exp。比如(?<=\bre)\w+\b会匹配以re开头的单词的后半部分(除了re以外的部分)，例如在查找reading a book时，它匹配ading。

```javascript
// 匹配以 re 开头的单词的后半部分
var reg3 = /(?<=\bre)\w+\b/
var s3 = 'this is restful test'
s3.match(reg3) // ["stful", index: 10, input: "this is restful test", groups: undefined]
```



### 3. 负前瞻 exp1(?!exp2) => exp1 + 非exp2 中 exp1

非获取匹配，正向否定预查，在任何不匹配 pattern 的字符串开始处匹配查找字符串，该匹配不需要获取供以后使用。例如“Windows(?!95|98|NT|2000)”能匹配“Windows3.1”中的“Windows”，但不能匹配“Windows2000”中的“Windows”。

```javascript
// 匹配不是数字前面的数字    
var reg4 = /\d(?!\d)/g;
var s4 = '3word3334';
console.log(s4.match(reg4)); // ["3", "4"]
```



### 4. 负后顾 (?<!exp1)exp2 => 非exp1 + exp2 中 exp2

非获取匹配，反向否定预查，与正向否定预查类似，只是方向相反。例如“(?\<!95|98|NT|2000)Windows”能匹配“3.1Windows”中的“Windows”，但不能匹配“2000Windows”中的“Windows”。
*python的正则表达式没有完全按照正则表达式规范实现，所以一些高级特性建议使用其他语言如java、scala等 

#### &#xA;



### 5. 前后查找的结合使用

```json
  var reg = /(?<=<title>).*(?=<\/title>)/g
  var str = "<title>hello</title><head>world</head>"
  console.log(str.match(reg)) // ['hello']
```

```json
  var reg = /(?<=<(\w+)>).*?(?=<\/\1>)/g
  var str = "<title>hello</title><head>world</head>"
  console.log(str.match(reg)) // ['hello'， 'world']
```
